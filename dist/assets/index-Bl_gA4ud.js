import{j as e,X as t,M as n,A as s,m as a,S as r,Z as i,F as l,a as o,b as c,L as d,c as u,P as h,U as m,d as p,C as f,e as x,f as g,g as b,h as v,i as y,Q as w,k as j,B as N,l as k,n as S,o as C,p as _,q as P,r as D,G as T,s as E,t as z,u as M,v as R,w as A,x as O,y as F,z as I,T as L,D as B,E as $,H as W,I as H,J as U,K as V,N as q,O as Y,R as G,V as X,W as Q,Y as K,_ as J,$ as Z,a0 as ee,a1 as te,a2 as ne,a3 as se,a4 as ae,a5 as re,a6 as ie,a7 as le,a8 as oe,a9 as ce,aa as de,ab as ue,ac as he,ad as me,ae as pe,af as fe,ag as xe,ah as ge,ai as be,aj as ve,ak as ye,al as we,am as je,an as Ne,ao as ke,ap as Se,aq as Ce,ar as _e,as as Pe,at as De,au as Te,av as Ee,aw as ze,ax as Me,ay as Re,az as Ae,aA as Oe,aB as Fe,aC as Ie,aD as Le,aE as Be,aF as $e,aG as We,aH as He,aI as Ue,aJ as Ve,aK as qe,aL as Ye,aM as Ge,aN as Xe,aO as Qe,aP as Ke,aQ as Je,aR as Ze,aS as et,aT as tt,aU as nt,aV as st,aW as at,aX as rt,aY as it,aZ as lt,a_ as ot,a$ as ct,b0 as dt,b1 as ut,b2 as ht,b3 as mt,b4 as pt,b5 as ft}from"./ui-vendor-BarliJqn.js";import{a as xt,b as gt,g as bt,r as vt,R as yt,u as wt,L as jt,O as Nt,c as kt,d as St,e as Ct,N as _t,f as Pt,h as Dt,i as Tt,B as Et,j as zt,k as Mt}from"./react-vendor-BOwzRxao.js";import{a as Rt,z as At,n as Ot,F as Ft}from"./form-vendor-CbRKUK0G.js";import{P as It,G as Lt,D as Bt}from"./pdf-vendor-KRnXnH4B.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver(e=>{for(const n of e)if("childList"===n.type)for(const e of n.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)}).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();var $t,Wt,Ht,Ut,Vt={exports:{}},qt={},Yt={exports:{}},Gt={};function Xt(){return Wt||(Wt=1,Yt.exports=($t||($t=1,function(e){function t(e,t){var n=e.length;e.push(t);e:for(;0<n;){var s=n-1>>>1,r=e[s];if(!(0<a(r,t)))break e;e[s]=t,e[n]=r,n=s}}function n(e){return 0===e.length?null:e[0]}function s(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var s=0,r=e.length,i=r>>>1;s<i;){var l=2*(s+1)-1,o=e[l],c=l+1,d=e[c];if(0>a(o,n))c<r&&0>a(d,o)?(e[s]=d,e[c]=n,s=c):(e[s]=o,e[l]=n,s=l);else{if(!(c<r&&0>a(d,n)))break e;e[s]=d,e[c]=n,s=c}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if(e.unstable_now=void 0,"object"==typeof performance&&"function"==typeof performance.now){var r=performance;e.unstable_now=function(){return r.now()}}else{var i=Date,l=i.now();e.unstable_now=function(){return i.now()-l}}var o=[],c=[],d=1,u=null,h=3,m=!1,p=!1,f=!1,x=!1,g="function"==typeof setTimeout?setTimeout:null,b="function"==typeof clearTimeout?clearTimeout:null,v="undefined"!=typeof setImmediate?setImmediate:null;function y(e){for(var a=n(c);null!==a;){if(null===a.callback)s(c);else{if(!(a.startTime<=e))break;s(c),a.sortIndex=a.expirationTime,t(o,a)}a=n(c)}}function w(e){if(f=!1,y(e),!p)if(null!==n(o))p=!0,N||(N=!0,j());else{var t=n(c);null!==t&&E(w,t.startTime-e)}}var j,N=!1,k=-1,S=5,C=-1;function _(){return!(!x&&e.unstable_now()-C<S)}function P(){if(x=!1,N){var t=e.unstable_now();C=t;var a=!0;try{e:{p=!1,f&&(f=!1,b(k),k=-1),m=!0;var r=h;try{t:{for(y(t),u=n(o);null!==u&&!(u.expirationTime>t&&_());){var i=u.callback;if("function"==typeof i){u.callback=null,h=u.priorityLevel;var l=i(u.expirationTime<=t);if(t=e.unstable_now(),"function"==typeof l){u.callback=l,y(t),a=!0;break t}u===n(o)&&s(o),y(t)}else s(o);u=n(o)}if(null!==u)a=!0;else{var d=n(c);null!==d&&E(w,d.startTime-t),a=!1}}break e}finally{u=null,h=r,m=!1}a=void 0}}finally{a?j():N=!1}}}if("function"==typeof v)j=function(){v(P)};else if("undefined"!=typeof MessageChannel){var D=new MessageChannel,T=D.port2;D.port1.onmessage=P,j=function(){T.postMessage(null)}}else j=function(){g(P,0)};function E(t,n){k=g(function(){t(e.unstable_now())},n)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(e){e.callback=null},e.unstable_forceFrameRate=function(e){0>e||125<e||(S=0<e?Math.floor(1e3/e):5)},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_next=function(e){switch(h){case 1:case 2:case 3:var t=3;break;default:t=h}var n=h;h=t;try{return e()}finally{h=n}},e.unstable_requestPaint=function(){x=!0},e.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=h;h=e;try{return t()}finally{h=n}},e.unstable_scheduleCallback=function(s,a,r){var i=e.unstable_now();switch(r="object"==typeof r&&null!==r&&"number"==typeof(r=r.delay)&&0<r?i+r:i,s){case 1:var l=-1;break;case 2:l=250;break;case 5:l=1073741823;break;case 4:l=1e4;break;default:l=5e3}return s={id:d++,callback:a,priorityLevel:s,startTime:r,expirationTime:l=r+l,sortIndex:-1},r>i?(s.sortIndex=r,t(c,s),null===n(o)&&s===n(c)&&(f?(b(k),k=-1):f=!0,E(w,r-i))):(s.sortIndex=l,t(o,s),p||m||(p=!0,N||(N=!0,j()))),s},e.unstable_shouldYield=_,e.unstable_wrapCallback=function(e){var t=h;return function(){var n=h;h=t;try{return e.apply(this,arguments)}finally{h=n}}}}(Gt)),Gt)),Yt.exports}function Qt(){if(Ht)return qt;Ht=1;var e=Xt(),t=xt(),n=gt();function s(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function r(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{!!(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function i(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function l(e){if(31===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function o(e){if(r(e)!==e)throw Error(s(188))}function c(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e;for(e=e.child;null!==e;){if(null!==(t=c(e)))return t;e=e.sibling}return null}var d=Object.assign,u=Symbol.for("react.element"),h=Symbol.for("react.transitional.element"),m=Symbol.for("react.portal"),p=Symbol.for("react.fragment"),f=Symbol.for("react.strict_mode"),x=Symbol.for("react.profiler"),g=Symbol.for("react.consumer"),b=Symbol.for("react.context"),v=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),w=Symbol.for("react.suspense_list"),j=Symbol.for("react.memo"),N=Symbol.for("react.lazy"),k=Symbol.for("react.activity"),S=Symbol.for("react.memo_cache_sentinel"),C=Symbol.iterator;function _(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=C&&e[C]||e["@@iterator"])?e:null}var P=Symbol.for("react.client.reference");function D(e){if(null==e)return null;if("function"==typeof e)return e.$$typeof===P?null:e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case p:return"Fragment";case x:return"Profiler";case f:return"StrictMode";case y:return"Suspense";case w:return"SuspenseList";case k:return"Activity"}if("object"==typeof e)switch(e.$$typeof){case m:return"Portal";case b:return e.displayName||"Context";case g:return(e._context.displayName||"Context")+".Consumer";case v:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case j:return null!==(t=e.displayName||null)?t:D(e.type)||"Memo";case N:t=e._payload,e=e._init;try{return D(e(t))}catch(n){}}return null}var T=Array.isArray,E=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,z=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,M={pending:!1,data:null,method:null,action:null},R=[],A=-1;function O(e){return{current:e}}function F(e){0>A||(e.current=R[A],R[A]=null,A--)}function I(e,t){A++,R[A]=e.current,e.current=t}var L,B,$=O(null),W=O(null),H=O(null),U=O(null);function V(e,t){switch(I(H,t),I(W,e),I($,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?vu(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)e=yu(t=vu(t),e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}F($),I($,e)}function q(){F($),F(W),F(H)}function Y(e){null!==e.memoizedState&&I(U,e);var t=$.current,n=yu(t,e.type);t!==n&&(I(W,e),I($,n))}function G(e){W.current===e&&(F($),F(W)),U.current===e&&(F(U),hh._currentValue=M)}function X(e){if(void 0===L)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);L=t&&t[1]||"",B=-1<n.stack.indexOf("\n    at")?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return"\n"+L+e+B}var Q=!1;function K(e,t){if(!e||Q)return"";Q=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var s={DetermineComponentFrameRoot:function(){try{if(t){var n=function(){throw Error()};if(Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(n,[])}catch(a){var s=a}Reflect.construct(e,[],n)}else{try{n.call()}catch(r){s=r}e.call(n.prototype)}}else{try{throw Error()}catch(i){s=i}(n=e())&&"function"==typeof n.catch&&n.catch(function(){})}}catch(l){if(l&&s&&"string"==typeof l.stack)return[l.stack,s.stack]}return[null,null]}};s.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var a=Object.getOwnPropertyDescriptor(s.DetermineComponentFrameRoot,"name");a&&a.configurable&&Object.defineProperty(s.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var r=s.DetermineComponentFrameRoot(),i=r[0],l=r[1];if(i&&l){var o=i.split("\n"),c=l.split("\n");for(a=s=0;s<o.length&&!o[s].includes("DetermineComponentFrameRoot");)s++;for(;a<c.length&&!c[a].includes("DetermineComponentFrameRoot");)a++;if(s===o.length||a===c.length)for(s=o.length-1,a=c.length-1;1<=s&&0<=a&&o[s]!==c[a];)a--;for(;1<=s&&0<=a;s--,a--)if(o[s]!==c[a]){if(1!==s||1!==a)do{if(s--,0>--a||o[s]!==c[a]){var d="\n"+o[s].replace(" at new "," at ");return e.displayName&&d.includes("<anonymous>")&&(d=d.replace("<anonymous>",e.displayName)),d}}while(1<=s&&0<=a);break}}}finally{Q=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?X(n):""}function J(e,t){switch(e.tag){case 26:case 27:case 5:return X(e.type);case 16:return X("Lazy");case 13:return e.child!==t&&null!==t?X("Suspense Fallback"):X("Suspense");case 19:return X("SuspenseList");case 0:case 15:return K(e.type,!1);case 11:return K(e.type.render,!1);case 1:return K(e.type,!0);case 31:return X("Activity");default:return""}}function Z(e){try{var t="",n=null;do{t+=J(e,n),n=e,e=e.return}while(e);return t}catch(s){return"\nError generating stack: "+s.message+"\n"+s.stack}}var ee=Object.prototype.hasOwnProperty,te=e.unstable_scheduleCallback,ne=e.unstable_cancelCallback,se=e.unstable_shouldYield,ae=e.unstable_requestPaint,re=e.unstable_now,ie=e.unstable_getCurrentPriorityLevel,le=e.unstable_ImmediatePriority,oe=e.unstable_UserBlockingPriority,ce=e.unstable_NormalPriority,de=e.unstable_LowPriority,ue=e.unstable_IdlePriority,he=e.log,me=e.unstable_setDisableYieldValue,pe=null,fe=null;function xe(e){if("function"==typeof he&&me(e),fe&&"function"==typeof fe.setStrictMode)try{fe.setStrictMode(pe,e)}catch(t){}}var ge=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(be(e)/ve|0)|0},be=Math.log,ve=Math.LN2;var ye=256,we=262144,je=4194304;function Ne(e){var t=42&e;if(0!==t)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return 261888&e;case 262144:case 524288:case 1048576:case 2097152:return 3932160&e;case 4194304:case 8388608:case 16777216:case 33554432:return 62914560&e;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function ke(e,t,n){var s=e.pendingLanes;if(0===s)return 0;var a=0,r=e.suspendedLanes,i=e.pingedLanes;e=e.warmLanes;var l=134217727&s;return 0!==l?0!==(s=l&~r)?a=Ne(s):0!==(i&=l)?a=Ne(i):n||0!==(n=l&~e)&&(a=Ne(n)):0!==(l=s&~r)?a=Ne(l):0!==i?a=Ne(i):n||0!==(n=s&~e)&&(a=Ne(n)),0===a?0:0!==t&&t!==a&&0===(t&r)&&((r=a&-a)>=(n=t&-t)||32===r&&4194048&n)?t:a}function Se(e,t){return 0===(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)}function Ce(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function _e(){var e=je;return!(62914560&(je<<=1))&&(je=4194304),e}function Pe(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function De(e,t){e.pendingLanes|=t,268435456!==t&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Te(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var s=31-ge(t);e.entangledLanes|=t,e.entanglements[s]=1073741824|e.entanglements[s]|261930&n}function Ee(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var s=31-ge(n),a=1<<s;a&t|e[s]&t&&(e[s]|=t),n&=~a}}function ze(e,t){var n=t&-t;return 0!==((n=42&n?1:Me(n))&(e.suspendedLanes|t))?0:n}function Me(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Re(e){return 2<(e&=-e)?8<e?134217727&e?32:268435456:8:2}function Ae(){var e=z.p;return 0!==e?e:void 0===(e=window.event)?32:Ph(e.type)}function Oe(e,t){var n=z.p;try{return z.p=e,t()}finally{z.p=n}}var Fe=Math.random().toString(36).slice(2),Ie="__reactFiber$"+Fe,Le="__reactProps$"+Fe,Be="__reactContainer$"+Fe,$e="__reactEvents$"+Fe,We="__reactListeners$"+Fe,He="__reactHandles$"+Fe,Ue="__reactResources$"+Fe,Ve="__reactMarker$"+Fe;function qe(e){delete e[Ie],delete e[Le],delete e[$e],delete e[We],delete e[He]}function Ye(e){var t=e[Ie];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Be]||n[Ie]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=Iu(e);null!==e;){if(n=e[Ie])return n;e=Iu(e)}return t}n=(e=n).parentNode}return null}function Ge(e){if(e=e[Ie]||e[Be]){var t=e.tag;if(5===t||6===t||13===t||31===t||26===t||27===t||3===t)return e}return null}function Xe(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e.stateNode;throw Error(s(33))}function Qe(e){var t=e[Ue];return t||(t=e[Ue]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function Ke(e){e[Ve]=!0}var Je=new Set,Ze={};function et(e,t){tt(e,t),tt(e+"Capture",t)}function tt(e,t){for(Ze[e]=t,e=0;e<t.length;e++)Je.add(t[e])}var nt=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),st={},at={};function rt(e,t,n){if(a=t,ee.call(at,a)||!ee.call(st,a)&&(nt.test(a)?at[a]=!0:(st[a]=!0,0)))if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":return void e.removeAttribute(t);case"boolean":var s=t.toLowerCase().slice(0,5);if("data-"!==s&&"aria-"!==s)return void e.removeAttribute(t)}e.setAttribute(t,""+n)}var a}function it(e,t,n){if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(t)}e.setAttribute(t,""+n)}}function lt(e,t,n,s){if(null===s)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(n)}e.setAttributeNS(t,n,""+s)}}function ot(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function ct(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function dt(e){if(!e._valueTracker){var t=ct(e)?"checked":"value";e._valueTracker=function(e,t,n){var s=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&void 0!==s&&"function"==typeof s.get&&"function"==typeof s.set){var a=s.get,r=s.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(e){n=""+e,r.call(this,e)}}),Object.defineProperty(e,t,{enumerable:s.enumerable}),{getValue:function(){return n},setValue:function(e){n=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e,t,""+e[t])}}function ut(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),s="";return e&&(s=ct(e)?e.checked?"true":"false":e.value),(e=s)!==n&&(t.setValue(e),!0)}function ht(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}var mt=/[\n"\\]/g;function pt(e){return e.replace(mt,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function ft(e,t,n,s,a,r,i,l){e.name="",null!=i&&"function"!=typeof i&&"symbol"!=typeof i&&"boolean"!=typeof i?e.type=i:e.removeAttribute("type"),null!=t?"number"===i?(0===t&&""===e.value||e.value!=t)&&(e.value=""+ot(t)):e.value!==""+ot(t)&&(e.value=""+ot(t)):"submit"!==i&&"reset"!==i||e.removeAttribute("value"),null!=t?vt(e,i,ot(t)):null!=n?vt(e,i,ot(n)):null!=s&&e.removeAttribute("value"),null==a&&null!=r&&(e.defaultChecked=!!r),null!=a&&(e.checked=a&&"function"!=typeof a&&"symbol"!=typeof a),null!=l&&"function"!=typeof l&&"symbol"!=typeof l&&"boolean"!=typeof l?e.name=""+ot(l):e.removeAttribute("name")}function bt(e,t,n,s,a,r,i,l){if(null!=r&&"function"!=typeof r&&"symbol"!=typeof r&&"boolean"!=typeof r&&(e.type=r),null!=t||null!=n){if(("submit"===r||"reset"===r)&&null==t)return void dt(e);n=null!=n?""+ot(n):"",t=null!=t?""+ot(t):n,l||t===e.value||(e.value=t),e.defaultValue=t}s="function"!=typeof(s=null!=s?s:a)&&"symbol"!=typeof s&&!!s,e.checked=l?e.checked:!!s,e.defaultChecked=!!s,null!=i&&"function"!=typeof i&&"symbol"!=typeof i&&"boolean"!=typeof i&&(e.name=i),dt(e)}function vt(e,t,n){"number"===t&&ht(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function yt(e,t,n,s){if(e=e.options,t){t={};for(var a=0;a<n.length;a++)t["$"+n[a]]=!0;for(n=0;n<e.length;n++)a=t.hasOwnProperty("$"+e[n].value),e[n].selected!==a&&(e[n].selected=a),a&&s&&(e[n].defaultSelected=!0)}else{for(n=""+ot(n),t=null,a=0;a<e.length;a++){if(e[a].value===n)return e[a].selected=!0,void(s&&(e[a].defaultSelected=!0));null!==t||e[a].disabled||(t=e[a])}null!==t&&(t.selected=!0)}}function wt(e,t,n){null==t||((t=""+ot(t))!==e.value&&(e.value=t),null!=n)?e.defaultValue=null!=n?""+ot(n):"":e.defaultValue!==t&&(e.defaultValue=t)}function jt(e,t,n,a){if(null==t){if(null!=a){if(null!=n)throw Error(s(92));if(T(a)){if(1<a.length)throw Error(s(93));a=a[0]}n=a}null==n&&(n=""),t=n}n=ot(t),e.defaultValue=n,(a=e.textContent)===n&&""!==a&&null!==a&&(e.value=a),dt(e)}function Nt(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var kt=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function St(e,t,n){var s=0===t.indexOf("--");null==n||"boolean"==typeof n||""===n?s?e.setProperty(t,""):"float"===t?e.cssFloat="":e[t]="":s?e.setProperty(t,n):"number"!=typeof n||0===n||kt.has(t)?"float"===t?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function Ct(e,t,n){if(null!=t&&"object"!=typeof t)throw Error(s(62));if(e=e.style,null!=n){for(var a in n)!n.hasOwnProperty(a)||null!=t&&t.hasOwnProperty(a)||(0===a.indexOf("--")?e.setProperty(a,""):"float"===a?e.cssFloat="":e[a]="");for(var r in t)a=t[r],t.hasOwnProperty(r)&&n[r]!==a&&St(e,r,a)}else for(var i in t)t.hasOwnProperty(i)&&St(e,i,t[i])}function _t(e){if(-1===e.indexOf("-"))return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Pt=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Dt=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Tt(e){return Dt.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Et(){}var zt=null;function Mt(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Rt=null,At=null;function Ot(e){var t=Ge(e);if(t&&(e=t.stateNode)){var n=e[Le]||null;e:switch(e=t.stateNode,t.type){case"input":if(ft(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+pt(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var a=n[t];if(a!==e&&a.form===e.form){var r=a[Le]||null;if(!r)throw Error(s(90));ft(a,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name)}}for(t=0;t<n.length;t++)(a=n[t]).form===e.form&&ut(a)}break e;case"textarea":wt(e,n.value,n.defaultValue);break e;case"select":null!=(t=n.value)&&yt(e,!!n.multiple,t,!1)}}}var Ft=!1;function It(e,t,n){if(Ft)return e(t,n);Ft=!0;try{return e(t)}finally{if(Ft=!1,(null!==Rt||null!==At)&&(td(),Rt&&(t=Rt,e=At,At=Rt=null,Ot(t),e)))for(t=0;t<e.length;t++)Ot(e[t])}}function Lt(e,t){var n=e.stateNode;if(null===n)return null;var a=n[Le]||null;if(null===a)return null;n=a[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(a=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!a;break e;default:e=!1}if(e)return null;if(n&&"function"!=typeof n)throw Error(s(231,t,typeof n));return n}var Bt=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),$t=!1;if(Bt)try{var Wt={};Object.defineProperty(Wt,"passive",{get:function(){$t=!0}}),window.addEventListener("test",Wt,Wt),window.removeEventListener("test",Wt,Wt)}catch(Zh){$t=!1}var Ut=null,Vt=null,Yt=null;function Gt(){if(Yt)return Yt;var e,t,n=Vt,s=n.length,a="value"in Ut?Ut.value:Ut.textContent,r=a.length;for(e=0;e<s&&n[e]===a[e];e++);var i=s-e;for(t=1;t<=i&&n[s-t]===a[r-t];t++);return Yt=a.slice(e,1<t?1-t:void 0)}function Qt(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function Kt(){return!0}function Jt(){return!1}function Zt(e){function t(t,n,s,a,r){for(var i in this._reactName=t,this._targetInst=s,this.type=n,this.nativeEvent=a,this.target=r,this.currentTarget=null,e)e.hasOwnProperty(i)&&(t=e[i],this[i]=t?t(a):a[i]);return this.isDefaultPrevented=(null!=a.defaultPrevented?a.defaultPrevented:!1===a.returnValue)?Kt:Jt,this.isPropagationStopped=Jt,this}return d(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=Kt)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=Kt)},persist:function(){},isPersistent:Kt}),t}var en,tn,nn,sn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},an=Zt(sn),rn=d({},sn,{view:0,detail:0}),ln=Zt(rn),on=d({},rn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:vn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==nn&&(nn&&"mousemove"===e.type?(en=e.screenX-nn.screenX,tn=e.screenY-nn.screenY):tn=en=0,nn=e),en)},movementY:function(e){return"movementY"in e?e.movementY:tn}}),cn=Zt(on),dn=Zt(d({},on,{dataTransfer:0})),un=Zt(d({},rn,{relatedTarget:0})),hn=Zt(d({},sn,{animationName:0,elapsedTime:0,pseudoElement:0})),mn=Zt(d({},sn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),pn=Zt(d({},sn,{data:0})),fn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},gn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function bn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=gn[e])&&!!t[e]}function vn(){return bn}var yn=Zt(d({},rn,{key:function(e){if(e.key){var t=fn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=Qt(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?xn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:vn,charCode:function(e){return"keypress"===e.type?Qt(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Qt(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),wn=Zt(d({},on,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),jn=Zt(d({},rn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:vn})),Nn=Zt(d({},sn,{propertyName:0,elapsedTime:0,pseudoElement:0})),kn=Zt(d({},on,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),Sn=Zt(d({},sn,{newState:0,oldState:0})),Cn=[9,13,27,32],_n=Bt&&"CompositionEvent"in window,Pn=null;Bt&&"documentMode"in document&&(Pn=document.documentMode);var Dn=Bt&&"TextEvent"in window&&!Pn,Tn=Bt&&(!_n||Pn&&8<Pn&&11>=Pn),En=String.fromCharCode(32),zn=!1;function Mn(e,t){switch(e){case"keyup":return-1!==Cn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Rn(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var An=!1;var On={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Fn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!On[e.type]:"textarea"===t}function In(e,t,n,s){Rt?At?At.push(s):At=[s]:Rt=s,0<(t=ru(t,"onChange")).length&&(n=new an("onChange","change",null,n,s),e.push({event:n,listeners:t}))}var Ln=null,Bn=null;function $n(e){Kd(e,0)}function Wn(e){if(ut(Xe(e)))return e}function Hn(e,t){if("change"===e)return t}var Un=!1;if(Bt){var Vn;if(Bt){var qn="oninput"in document;if(!qn){var Yn=document.createElement("div");Yn.setAttribute("oninput","return;"),qn="function"==typeof Yn.oninput}Vn=qn}else Vn=!1;Un=Vn&&(!document.documentMode||9<document.documentMode)}function Gn(){Ln&&(Ln.detachEvent("onpropertychange",Xn),Bn=Ln=null)}function Xn(e){if("value"===e.propertyName&&Wn(Bn)){var t=[];In(t,Bn,e,Mt(e)),It($n,t)}}function Qn(e,t,n){"focusin"===e?(Gn(),Bn=n,(Ln=t).attachEvent("onpropertychange",Xn)):"focusout"===e&&Gn()}function Kn(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Wn(Bn)}function Jn(e,t){if("click"===e)return Wn(t)}function Zn(e,t){if("input"===e||"change"===e)return Wn(t)}var es="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t};function ts(e,t){if(es(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),s=Object.keys(t);if(n.length!==s.length)return!1;for(s=0;s<n.length;s++){var a=n[s];if(!ee.call(t,a)||!es(e[a],t[a]))return!1}return!0}function ns(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ss(e,t){var n,s=ns(e);for(e=0;s;){if(3===s.nodeType){if(n=e+s.textContent.length,e<=t&&n>=t)return{node:s,offset:t-e};e=n}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=ns(s)}}function as(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?as(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function rs(e){for(var t=ht((e=null!=e&&null!=e.ownerDocument&&null!=e.ownerDocument.defaultView?e.ownerDocument.defaultView:window).document);t instanceof e.HTMLIFrameElement;){try{var n="string"==typeof t.contentWindow.location.href}catch(s){n=!1}if(!n)break;t=ht((e=t.contentWindow).document)}return t}function is(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var ls=Bt&&"documentMode"in document&&11>=document.documentMode,os=null,cs=null,ds=null,us=!1;function hs(e,t,n){var s=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;us||null==os||os!==ht(s)||("selectionStart"in(s=os)&&is(s)?s={start:s.selectionStart,end:s.selectionEnd}:s={anchorNode:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset},ds&&ts(ds,s)||(ds=s,0<(s=ru(cs,"onSelect")).length&&(t=new an("onSelect","select",null,t,n),e.push({event:t,listeners:s}),t.target=os)))}function ms(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var ps={animationend:ms("Animation","AnimationEnd"),animationiteration:ms("Animation","AnimationIteration"),animationstart:ms("Animation","AnimationStart"),transitionrun:ms("Transition","TransitionRun"),transitionstart:ms("Transition","TransitionStart"),transitioncancel:ms("Transition","TransitionCancel"),transitionend:ms("Transition","TransitionEnd")},fs={},xs={};function gs(e){if(fs[e])return fs[e];if(!ps[e])return e;var t,n=ps[e];for(t in n)if(n.hasOwnProperty(t)&&t in xs)return fs[e]=n[t];return e}Bt&&(xs=document.createElement("div").style,"AnimationEvent"in window||(delete ps.animationend.animation,delete ps.animationiteration.animation,delete ps.animationstart.animation),"TransitionEvent"in window||delete ps.transitionend.transition);var bs=gs("animationend"),vs=gs("animationiteration"),ys=gs("animationstart"),ws=gs("transitionrun"),js=gs("transitionstart"),Ns=gs("transitioncancel"),ks=gs("transitionend"),Ss=new Map,Cs="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function _s(e,t){Ss.set(e,t),et(t,[e])}Cs.push("scrollEnd");var Ps="function"==typeof reportError?reportError:function(e){if("object"==typeof window&&"function"==typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"==typeof e&&null!==e&&"string"==typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"==typeof process&&"function"==typeof process.emit)return void process.emit("uncaughtException",e)},Ds=[],Ts=0,Es=0;function zs(){for(var e=Ts,t=Es=Ts=0;t<e;){var n=Ds[t];Ds[t++]=null;var s=Ds[t];Ds[t++]=null;var a=Ds[t];Ds[t++]=null;var r=Ds[t];if(Ds[t++]=null,null!==s&&null!==a){var i=s.pending;null===i?a.next=a:(a.next=i.next,i.next=a),s.pending=a}0!==r&&Os(n,a,r)}}function Ms(e,t,n,s){Ds[Ts++]=e,Ds[Ts++]=t,Ds[Ts++]=n,Ds[Ts++]=s,Es|=s,e.lanes|=s,null!==(e=e.alternate)&&(e.lanes|=s)}function Rs(e,t,n,s){return Ms(e,t,n,s),Fs(e)}function As(e,t){return Ms(e,null,null,t),Fs(e)}function Os(e,t,n){e.lanes|=n;var s=e.alternate;null!==s&&(s.lanes|=n);for(var a=!1,r=e.return;null!==r;)r.childLanes|=n,null!==(s=r.alternate)&&(s.childLanes|=n),22===r.tag&&(null===(e=r.stateNode)||1&e._visibility||(a=!0)),e=r,r=r.return;return 3===e.tag?(r=e.stateNode,a&&null!==t&&(a=31-ge(n),null===(s=(e=r.hiddenUpdates)[a])?e[a]=[t]:s.push(t),t.lane=536870912|n),r):null}function Fs(e){if(50<qc)throw qc=0,Yc=null,Error(s(185));for(var t=e.return;null!==t;)t=(e=t).return;return 3===e.tag?e.stateNode:null}var Is={};function Ls(e,t,n,s){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bs(e,t,n,s){return new Ls(e,t,n,s)}function $s(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Ws(e,t){var n=e.alternate;return null===n?((n=Bs(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=65011712&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function Hs(e,t){e.flags&=65011714;var n=e.alternate;return null===n?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Us(e,t,n,a,r,i){var l=0;if(a=e,"function"==typeof e)$s(e)&&(l=1);else if("string"==typeof e)l=function(e,t,n){if(1===n||null!=t.itemProp)return!1;switch(e){case"meta":case"title":return!0;case"style":if("string"!=typeof t.precedence||"string"!=typeof t.href||""===t.href)break;return!0;case"link":if("string"!=typeof t.rel||"string"!=typeof t.href||""===t.href||t.onLoad||t.onError)break;return"stylesheet"!==t.rel||(e=t.disabled,"string"==typeof t.precedence&&null==e);case"script":if(t.async&&"function"!=typeof t.async&&"symbol"!=typeof t.async&&!t.onLoad&&!t.onError&&t.src&&"string"==typeof t.src)return!0}return!1}(e,n,$.current)?26:"html"===e||"head"===e||"body"===e?27:5;else e:switch(e){case k:return(e=Bs(31,n,t,r)).elementType=k,e.lanes=i,e;case p:return Vs(n.children,r,i,t);case f:l=8,r|=24;break;case x:return(e=Bs(12,n,t,2|r)).elementType=x,e.lanes=i,e;case y:return(e=Bs(13,n,t,r)).elementType=y,e.lanes=i,e;case w:return(e=Bs(19,n,t,r)).elementType=w,e.lanes=i,e;default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case b:l=10;break e;case g:l=9;break e;case v:l=11;break e;case j:l=14;break e;case N:l=16,a=null;break e}l=29,n=Error(s(130,null===e?"null":typeof e,"")),a=null}return(t=Bs(l,n,t,r)).elementType=e,t.type=a,t.lanes=i,t}function Vs(e,t,n,s){return(e=Bs(7,e,s,t)).lanes=n,e}function qs(e,t,n){return(e=Bs(6,e,null,t)).lanes=n,e}function Ys(e){var t=Bs(18,null,null,0);return t.stateNode=e,t}function Gs(e,t,n){return(t=Bs(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Xs=new WeakMap;function Qs(e,t){if("object"==typeof e&&null!==e){var n=Xs.get(e);return void 0!==n?n:(t={value:e,source:t,stack:Z(t)},Xs.set(e,t),t)}return{value:e,source:t,stack:Z(t)}}var Ks=[],Js=0,Zs=null,ea=0,ta=[],na=0,sa=null,aa=1,ra="";function ia(e,t){Ks[Js++]=ea,Ks[Js++]=Zs,Zs=e,ea=t}function la(e,t,n){ta[na++]=aa,ta[na++]=ra,ta[na++]=sa,sa=e;var s=aa;e=ra;var a=32-ge(s)-1;s&=~(1<<a),n+=1;var r=32-ge(t)+a;if(30<r){var i=a-a%5;r=(s&(1<<i)-1).toString(32),s>>=i,a-=i,aa=1<<32-ge(t)+a|n<<a|s,ra=r+e}else aa=1<<r|n<<a|s,ra=e}function oa(e){null!==e.return&&(ia(e,1),la(e,1,0))}function ca(e){for(;e===Zs;)Zs=Ks[--Js],Ks[Js]=null,ea=Ks[--Js],Ks[Js]=null;for(;e===sa;)sa=ta[--na],ta[na]=null,ra=ta[--na],ta[na]=null,aa=ta[--na],ta[na]=null}function da(e,t){ta[na++]=aa,ta[na++]=ra,ta[na++]=sa,aa=t.id,ra=t.overflow,sa=e}var ua=null,ha=null,ma=!1,pa=null,fa=!1,xa=Error(s(519));function ga(e){throw Na(Qs(Error(s(418,1<arguments.length&&void 0!==arguments[1]&&arguments[1]?"text":"HTML","")),e)),xa}function ba(e){var t=e.stateNode,n=e.type,s=e.memoizedProps;switch(t[Ie]=e,t[Le]=s,n){case"dialog":Jd("cancel",t),Jd("close",t);break;case"iframe":case"object":case"embed":Jd("load",t);break;case"video":case"audio":for(n=0;n<Xd.length;n++)Jd(Xd[n],t);break;case"source":Jd("error",t);break;case"img":case"image":case"link":Jd("error",t),Jd("load",t);break;case"details":Jd("toggle",t);break;case"input":Jd("invalid",t),bt(t,s.value,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name,!0);break;case"select":Jd("invalid",t);break;case"textarea":Jd("invalid",t),jt(t,s.value,s.defaultValue,s.children)}"string"!=typeof(n=s.children)&&"number"!=typeof n&&"bigint"!=typeof n||t.textContent===""+n||!0===s.suppressHydrationWarning||uu(t.textContent,n)?(null!=s.popover&&(Jd("beforetoggle",t),Jd("toggle",t)),null!=s.onScroll&&Jd("scroll",t),null!=s.onScrollEnd&&Jd("scrollend",t),null!=s.onClick&&(t.onclick=Et),t=!0):t=!1,t||ga(e,!0)}function va(e){for(ua=e.return;ua;)switch(ua.tag){case 5:case 31:case 13:return void(fa=!1);case 27:case 3:return void(fa=!0);default:ua=ua.return}}function ya(e){if(e!==ua)return!1;if(!ma)return va(e),ma=!0,!1;var t,n=e.tag;if((t=3!==n&&27!==n)&&((t=5===n)&&(t=!("form"!==(t=e.type)&&"button"!==t)||wu(e.type,e.memoizedProps)),t=!t),t&&ha&&ga(e),va(e),13===n){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(s(317));ha=Fu(e)}else if(31===n){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(s(317));ha=Fu(e)}else 27===n?(n=ha,Pu(e.type)?(e=Ou,Ou=null,ha=e):ha=n):ha=ua?Au(e.stateNode.nextSibling):null;return!0}function wa(){ha=ua=null,ma=!1}function ja(){var e=pa;return null!==e&&(null===zc?zc=e:zc.push.apply(zc,e),pa=null),e}function Na(e){null===pa?pa=[e]:pa.push(e)}var ka=O(null),Sa=null,Ca=null;function _a(e,t,n){I(ka,t._currentValue),t._currentValue=n}function Pa(e){e._currentValue=ka.current,F(ka)}function Da(e,t,n){for(;null!==e;){var s=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==s&&(s.childLanes|=t)):null!==s&&(s.childLanes&t)!==t&&(s.childLanes|=t),e===n)break;e=e.return}}function Ta(e,t,n,a){var r=e.child;for(null!==r&&(r.return=e);null!==r;){var i=r.dependencies;if(null!==i){var l=r.child;i=i.firstContext;e:for(;null!==i;){var o=i;i=r;for(var c=0;c<t.length;c++)if(o.context===t[c]){i.lanes|=n,null!==(o=i.alternate)&&(o.lanes|=n),Da(i.return,n,e),a||(l=null);break e}i=o.next}}else if(18===r.tag){if(null===(l=r.return))throw Error(s(341));l.lanes|=n,null!==(i=l.alternate)&&(i.lanes|=n),Da(l,n,e),l=null}else l=r.child;if(null!==l)l.return=r;else for(l=r;null!==l;){if(l===e){l=null;break}if(null!==(r=l.sibling)){r.return=l.return,l=r;break}l=l.return}r=l}}function Ea(e,t,n,a){e=null;for(var r=t,i=!1;null!==r;){if(!i)if(524288&r.flags)i=!0;else if(262144&r.flags)break;if(10===r.tag){var l=r.alternate;if(null===l)throw Error(s(387));if(null!==(l=l.memoizedProps)){var o=r.type;es(r.pendingProps.value,l.value)||(null!==e?e.push(o):e=[o])}}else if(r===U.current){if(null===(l=r.alternate))throw Error(s(387));l.memoizedState.memoizedState!==r.memoizedState.memoizedState&&(null!==e?e.push(hh):e=[hh])}r=r.return}null!==e&&Ta(t,e,n,a),t.flags|=262144}function za(e){for(e=e.firstContext;null!==e;){if(!es(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Ma(e){Sa=e,Ca=null,null!==(e=e.dependencies)&&(e.firstContext=null)}function Ra(e){return Oa(Sa,e)}function Aa(e,t){return null===Sa&&Ma(e),Oa(e,t)}function Oa(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},null===Ca){if(null===e)throw Error(s(308));Ca=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else Ca=Ca.next=t;return n}var Fa="undefined"!=typeof AbortController?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(t,n){e.push(n)}};this.abort=function(){t.aborted=!0,e.forEach(function(e){return e()})}},Ia=e.unstable_scheduleCallback,La=e.unstable_NormalPriority,Ba={$$typeof:b,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function $a(){return{controller:new Fa,data:new Map,refCount:0}}function Wa(e){e.refCount--,0===e.refCount&&Ia(La,function(){e.controller.abort()})}var Ha=null,Ua=0,Va=0,qa=null;function Ya(){if(0===--Ua&&null!==Ha){null!==qa&&(qa.status="fulfilled");var e=Ha;Ha=null,Va=0,qa=null;for(var t=0;t<e.length;t++)(0,e[t])()}}var Ga=E.S;E.S=function(e,t){Ac=re(),"object"==typeof t&&null!==t&&"function"==typeof t.then&&function(e,t){if(null===Ha){var n=Ha=[];Ua=0,Va=Ud(),qa={status:"pending",value:void 0,then:function(e){n.push(e)}}}Ua++,t.then(Ya,Ya)}(0,t),null!==Ga&&Ga(e,t)};var Xa=O(null);function Qa(){var e=Xa.current;return null!==e?e:xc.pooledCache}function Ka(e,t){I(Xa,null===t?Xa.current:t.pool)}function Ja(){var e=Qa();return null===e?null:{parent:Ba._currentValue,pool:e}}var Za=Error(s(460)),er=Error(s(474)),tr=Error(s(542)),nr={then:function(){}};function sr(e){return"fulfilled"===(e=e.status)||"rejected"===e}function ar(e,t,n){switch(void 0===(n=e[n])?e.push(t):n!==t&&(t.then(Et,Et),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw or(e=t.reason),e;default:if("string"==typeof t.status)t.then(Et,Et);else{if(null!==(e=xc)&&100<e.shellSuspendCounter)throw Error(s(482));(e=t).status="pending",e.then(function(e){if("pending"===t.status){var n=t;n.status="fulfilled",n.value=e}},function(e){if("pending"===t.status){var n=t;n.status="rejected",n.reason=e}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw or(e=t.reason),e}throw ir=t,Za}}function rr(e){try{return(0,e._init)(e._payload)}catch(t){if(null!==t&&"object"==typeof t&&"function"==typeof t.then)throw ir=t,Za;throw t}}var ir=null;function lr(){if(null===ir)throw Error(s(459));var e=ir;return ir=null,e}function or(e){if(e===Za||e===tr)throw Error(s(483))}var cr=null,dr=0;function ur(e){var t=dr;return dr+=1,null===cr&&(cr=[]),ar(cr,e,t)}function hr(e,t){t=t.props.ref,e.ref=void 0!==t?t:null}function mr(e,t){if(t.$$typeof===u)throw Error(s(525));throw e=Object.prototype.toString.call(t),Error(s(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function pr(e){function t(t,n){if(e){var s=t.deletions;null===s?(t.deletions=[n],t.flags|=16):s.push(n)}}function n(n,s){if(!e)return null;for(;null!==s;)t(n,s),s=s.sibling;return null}function a(e){for(var t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function r(e,t){return(e=Ws(e,t)).index=0,e.sibling=null,e}function i(t,n,s){return t.index=s,e?null!==(s=t.alternate)?(s=s.index)<n?(t.flags|=67108866,n):s:(t.flags|=67108866,n):(t.flags|=1048576,n)}function l(t){return e&&null===t.alternate&&(t.flags|=67108866),t}function o(e,t,n,s){return null===t||6!==t.tag?((t=qs(n,e.mode,s)).return=e,t):((t=r(t,n)).return=e,t)}function c(e,t,n,s){var a=n.type;return a===p?u(e,t,n.props.children,s,n.key):null!==t&&(t.elementType===a||"object"==typeof a&&null!==a&&a.$$typeof===N&&rr(a)===t.type)?(hr(t=r(t,n.props),n),t.return=e,t):(hr(t=Us(n.type,n.key,n.props,null,e.mode,s),n),t.return=e,t)}function d(e,t,n,s){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Gs(n,e.mode,s)).return=e,t):((t=r(t,n.children||[])).return=e,t)}function u(e,t,n,s,a){return null===t||7!==t.tag?((t=Vs(n,e.mode,s,a)).return=e,t):((t=r(t,n)).return=e,t)}function f(e,t,n){if("string"==typeof t&&""!==t||"number"==typeof t||"bigint"==typeof t)return(t=qs(""+t,e.mode,n)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case h:return hr(n=Us(t.type,t.key,t.props,null,e.mode,n),t),n.return=e,n;case m:return(t=Gs(t,e.mode,n)).return=e,t;case N:return f(e,t=rr(t),n)}if(T(t)||_(t))return(t=Vs(t,e.mode,n,null)).return=e,t;if("function"==typeof t.then)return f(e,ur(t),n);if(t.$$typeof===b)return f(e,Aa(e,t),n);mr(e,t)}return null}function x(e,t,n,s){var a=null!==t?t.key:null;if("string"==typeof n&&""!==n||"number"==typeof n||"bigint"==typeof n)return null!==a?null:o(e,t,""+n,s);if("object"==typeof n&&null!==n){switch(n.$$typeof){case h:return n.key===a?c(e,t,n,s):null;case m:return n.key===a?d(e,t,n,s):null;case N:return x(e,t,n=rr(n),s)}if(T(n)||_(n))return null!==a?null:u(e,t,n,s,null);if("function"==typeof n.then)return x(e,t,ur(n),s);if(n.$$typeof===b)return x(e,t,Aa(e,n),s);mr(e,n)}return null}function g(e,t,n,s,a){if("string"==typeof s&&""!==s||"number"==typeof s||"bigint"==typeof s)return o(t,e=e.get(n)||null,""+s,a);if("object"==typeof s&&null!==s){switch(s.$$typeof){case h:return c(t,e=e.get(null===s.key?n:s.key)||null,s,a);case m:return d(t,e=e.get(null===s.key?n:s.key)||null,s,a);case N:return g(e,t,n,s=rr(s),a)}if(T(s)||_(s))return u(t,e=e.get(n)||null,s,a,null);if("function"==typeof s.then)return g(e,t,n,ur(s),a);if(s.$$typeof===b)return g(e,t,n,Aa(t,s),a);mr(t,s)}return null}function v(o,c,d,u){if("object"==typeof d&&null!==d&&d.type===p&&null===d.key&&(d=d.props.children),"object"==typeof d&&null!==d){switch(d.$$typeof){case h:e:{for(var y=d.key;null!==c;){if(c.key===y){if((y=d.type)===p){if(7===c.tag){n(o,c.sibling),(u=r(c,d.props.children)).return=o,o=u;break e}}else if(c.elementType===y||"object"==typeof y&&null!==y&&y.$$typeof===N&&rr(y)===c.type){n(o,c.sibling),hr(u=r(c,d.props),d),u.return=o,o=u;break e}n(o,c);break}t(o,c),c=c.sibling}d.type===p?((u=Vs(d.props.children,o.mode,u,d.key)).return=o,o=u):(hr(u=Us(d.type,d.key,d.props,null,o.mode,u),d),u.return=o,o=u)}return l(o);case m:e:{for(y=d.key;null!==c;){if(c.key===y){if(4===c.tag&&c.stateNode.containerInfo===d.containerInfo&&c.stateNode.implementation===d.implementation){n(o,c.sibling),(u=r(c,d.children||[])).return=o,o=u;break e}n(o,c);break}t(o,c),c=c.sibling}(u=Gs(d,o.mode,u)).return=o,o=u}return l(o);case N:return v(o,c,d=rr(d),u)}if(T(d))return function(s,r,l,o){for(var c=null,d=null,u=r,h=r=0,m=null;null!==u&&h<l.length;h++){u.index>h?(m=u,u=null):m=u.sibling;var p=x(s,u,l[h],o);if(null===p){null===u&&(u=m);break}e&&u&&null===p.alternate&&t(s,u),r=i(p,r,h),null===d?c=p:d.sibling=p,d=p,u=m}if(h===l.length)return n(s,u),ma&&ia(s,h),c;if(null===u){for(;h<l.length;h++)null!==(u=f(s,l[h],o))&&(r=i(u,r,h),null===d?c=u:d.sibling=u,d=u);return ma&&ia(s,h),c}for(u=a(u);h<l.length;h++)null!==(m=g(u,s,h,l[h],o))&&(e&&null!==m.alternate&&u.delete(null===m.key?h:m.key),r=i(m,r,h),null===d?c=m:d.sibling=m,d=m);return e&&u.forEach(function(e){return t(s,e)}),ma&&ia(s,h),c}(o,c,d,u);if(_(d)){if("function"!=typeof(y=_(d)))throw Error(s(150));return function(r,l,o,c){if(null==o)throw Error(s(151));for(var d=null,u=null,h=l,m=l=0,p=null,b=o.next();null!==h&&!b.done;m++,b=o.next()){h.index>m?(p=h,h=null):p=h.sibling;var v=x(r,h,b.value,c);if(null===v){null===h&&(h=p);break}e&&h&&null===v.alternate&&t(r,h),l=i(v,l,m),null===u?d=v:u.sibling=v,u=v,h=p}if(b.done)return n(r,h),ma&&ia(r,m),d;if(null===h){for(;!b.done;m++,b=o.next())null!==(b=f(r,b.value,c))&&(l=i(b,l,m),null===u?d=b:u.sibling=b,u=b);return ma&&ia(r,m),d}for(h=a(h);!b.done;m++,b=o.next())null!==(b=g(h,r,m,b.value,c))&&(e&&null!==b.alternate&&h.delete(null===b.key?m:b.key),l=i(b,l,m),null===u?d=b:u.sibling=b,u=b);return e&&h.forEach(function(e){return t(r,e)}),ma&&ia(r,m),d}(o,c,d=y.call(d),u)}if("function"==typeof d.then)return v(o,c,ur(d),u);if(d.$$typeof===b)return v(o,c,Aa(o,d),u);mr(o,d)}return"string"==typeof d&&""!==d||"number"==typeof d||"bigint"==typeof d?(d=""+d,null!==c&&6===c.tag?(n(o,c.sibling),(u=r(c,d)).return=o,o=u):(n(o,c),(u=qs(d,o.mode,u)).return=o,o=u),l(o)):n(o,c)}return function(e,t,n,s){try{dr=0;var a=v(e,t,n,s);return cr=null,a}catch(i){if(i===Za||i===tr)throw i;var r=Bs(29,i,null,e.mode);return r.lanes=s,r.return=e,r}}}var fr=pr(!0),xr=pr(!1),gr=!1;function br(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function vr(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function yr(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function wr(e,t,n){var s=e.updateQueue;if(null===s)return null;if(s=s.shared,2&fc){var a=s.pending;return null===a?t.next=t:(t.next=a.next,a.next=t),s.pending=t,t=Fs(e),Os(e,null,n),t}return Ms(e,s,t,n),Fs(e)}function jr(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,4194048&n)){var s=t.lanes;n|=s&=e.pendingLanes,t.lanes=n,Ee(e,n)}}function Nr(e,t){var n=e.updateQueue,s=e.alternate;if(null!==s&&n===(s=s.updateQueue)){var a=null,r=null;if(null!==(n=n.firstBaseUpdate)){do{var i={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};null===r?a=r=i:r=r.next=i,n=n.next}while(null!==n);null===r?a=r=t:r=r.next=t}else a=r=t;return n={baseState:s.baseState,firstBaseUpdate:a,lastBaseUpdate:r,shared:s.shared,callbacks:s.callbacks},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var kr=!1;function Sr(){if(kr){if(null!==qa)throw qa}}function Cr(e,t,n,s){kr=!1;var a=e.updateQueue;gr=!1;var r=a.firstBaseUpdate,i=a.lastBaseUpdate,l=a.shared.pending;if(null!==l){a.shared.pending=null;var o=l,c=o.next;o.next=null,null===i?r=c:i.next=c,i=o;var u=e.alternate;null!==u&&((l=(u=u.updateQueue).lastBaseUpdate)!==i&&(null===l?u.firstBaseUpdate=c:l.next=c,u.lastBaseUpdate=o))}if(null!==r){var h=a.baseState;for(i=0,u=c=o=null,l=r;;){var m=-536870913&l.lane,p=m!==l.lane;if(p?(bc&m)===m:(s&m)===m){0!==m&&m===Va&&(kr=!0),null!==u&&(u=u.next={lane:0,tag:l.tag,payload:l.payload,callback:null,next:null});e:{var f=e,x=l;m=t;var g=n;switch(x.tag){case 1:if("function"==typeof(f=x.payload)){h=f.call(g,h,m);break e}h=f;break e;case 3:f.flags=-65537&f.flags|128;case 0:if(null==(m="function"==typeof(f=x.payload)?f.call(g,h,m):f))break e;h=d({},h,m);break e;case 2:gr=!0}}null!==(m=l.callback)&&(e.flags|=64,p&&(e.flags|=8192),null===(p=a.callbacks)?a.callbacks=[m]:p.push(m))}else p={lane:m,tag:l.tag,payload:l.payload,callback:l.callback,next:null},null===u?(c=u=p,o=h):u=u.next=p,i|=m;if(null===(l=l.next)){if(null===(l=a.shared.pending))break;l=(p=l).next,p.next=null,a.lastBaseUpdate=p,a.shared.pending=null}}null===u&&(o=h),a.baseState=o,a.firstBaseUpdate=c,a.lastBaseUpdate=u,null===r&&(a.shared.lanes=0),Cc|=i,e.lanes=i,e.memoizedState=h}}function _r(e,t){if("function"!=typeof e)throw Error(s(191,e));e.call(t)}function Pr(e,t){var n=e.callbacks;if(null!==n)for(e.callbacks=null,e=0;e<n.length;e++)_r(n[e],t)}var Dr=O(null),Tr=O(0);function Er(e,t){I(Tr,e=kc),I(Dr,t),kc=e|t.baseLanes}function zr(){I(Tr,kc),I(Dr,Dr.current)}function Mr(){kc=Tr.current,F(Dr),F(Tr)}var Rr=O(null),Ar=null;function Or(e){var t=e.alternate;I($r,1&$r.current),I(Rr,e),null===Ar&&(null===t||null!==Dr.current||null!==t.memoizedState)&&(Ar=e)}function Fr(e){I($r,$r.current),I(Rr,e),null===Ar&&(Ar=e)}function Ir(e){22===e.tag?(I($r,$r.current),I(Rr,e),null===Ar&&(Ar=e)):Lr()}function Lr(){I($r,$r.current),I(Rr,Rr.current)}function Br(e){F(Rr),Ar===e&&(Ar=null),F($r)}var $r=O(0);function Wr(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||Mu(n)||Ru(n)))return t}else if(19!==t.tag||"forwards"!==t.memoizedProps.revealOrder&&"backwards"!==t.memoizedProps.revealOrder&&"unstable_legacy-backwards"!==t.memoizedProps.revealOrder&&"together"!==t.memoizedProps.revealOrder){if(null!==t.child){t.child.return=t,t=t.child;continue}}else if(128&t.flags)return t;if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Hr=0,Ur=null,Vr=null,qr=null,Yr=!1,Gr=!1,Xr=!1,Qr=0,Kr=0,Jr=null,Zr=0;function ei(){throw Error(s(321))}function ti(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!es(e[n],t[n]))return!1;return!0}function ni(e,t,n,s,a,r){return Hr=r,Ur=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,E.H=null===e||null===e.memoizedState?gl:bl,Xr=!1,r=n(s,a),Xr=!1,Gr&&(r=ai(t,n,s,a)),si(e),r}function si(e){E.H=xl;var t=null!==Vr&&null!==Vr.next;if(Hr=0,qr=Vr=Ur=null,Yr=!1,Kr=0,Jr=null,t)throw Error(s(300));null===e||Rl||null!==(e=e.dependencies)&&za(e)&&(Rl=!0)}function ai(e,t,n,a){Ur=e;var r=0;do{if(Gr&&(Jr=null),Kr=0,Gr=!1,25<=r)throw Error(s(301));if(r+=1,qr=Vr=null,null!=e.updateQueue){var i=e.updateQueue;i.lastEffect=null,i.events=null,i.stores=null,null!=i.memoCache&&(i.memoCache.index=0)}E.H=vl,i=t(n,a)}while(Gr);return i}function ri(){var e=E.H,t=e.useState()[0];return t="function"==typeof t.then?ui(t):t,e=e.useState()[0],(null!==Vr?Vr.memoizedState:null)!==e&&(Ur.flags|=1024),t}function ii(){var e=0!==Qr;return Qr=0,e}function li(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function oi(e){if(Yr){for(e=e.memoizedState;null!==e;){var t=e.queue;null!==t&&(t.pending=null),e=e.next}Yr=!1}Hr=0,qr=Vr=Ur=null,Gr=!1,Kr=Qr=0,Jr=null}function ci(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===qr?Ur.memoizedState=qr=e:qr=qr.next=e,qr}function di(){if(null===Vr){var e=Ur.alternate;e=null!==e?e.memoizedState:null}else e=Vr.next;var t=null===qr?Ur.memoizedState:qr.next;if(null!==t)qr=t,Vr=e;else{if(null===e){if(null===Ur.alternate)throw Error(s(467));throw Error(s(310))}e={memoizedState:(Vr=e).memoizedState,baseState:Vr.baseState,baseQueue:Vr.baseQueue,queue:Vr.queue,next:null},null===qr?Ur.memoizedState=qr=e:qr=qr.next=e}return qr}function ui(e){var t=Kr;return Kr+=1,null===Jr&&(Jr=[]),e=ar(Jr,e,t),t=Ur,null===(null===qr?t.memoizedState:qr.next)&&(t=t.alternate,E.H=null===t||null===t.memoizedState?gl:bl),e}function hi(e){if(null!==e&&"object"==typeof e){if("function"==typeof e.then)return ui(e);if(e.$$typeof===b)return Ra(e)}throw Error(s(438,String(e)))}function mi(e){var t=null,n=Ur.updateQueue;if(null!==n&&(t=n.memoCache),null==t){var s=Ur.alternate;null!==s&&(null!==(s=s.updateQueue)&&(null!=(s=s.memoCache)&&(t={data:s.data.map(function(e){return e.slice()}),index:0})))}if(null==t&&(t={data:[],index:0}),null===n&&(n={lastEffect:null,events:null,stores:null,memoCache:null},Ur.updateQueue=n),n.memoCache=t,void 0===(n=t.data[t.index]))for(n=t.data[t.index]=Array(e),s=0;s<e;s++)n[s]=S;return t.index++,n}function pi(e,t){return"function"==typeof t?t(e):t}function fi(e){return xi(di(),Vr,e)}function xi(e,t,n){var a=e.queue;if(null===a)throw Error(s(311));a.lastRenderedReducer=n;var r=e.baseQueue,i=a.pending;if(null!==i){if(null!==r){var l=r.next;r.next=i.next,i.next=l}t.baseQueue=r=i,a.pending=null}if(i=e.baseState,null===r)e.memoizedState=i;else{var o=l=null,c=null,d=t=r.next,u=!1;do{var h=-536870913&d.lane;if(h!==d.lane?(bc&h)===h:(Hr&h)===h){var m=d.revertLane;if(0===m)null!==c&&(c=c.next={lane:0,revertLane:0,gesture:null,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),h===Va&&(u=!0);else{if((Hr&m)===m){d=d.next,m===Va&&(u=!0);continue}h={lane:0,revertLane:d.revertLane,gesture:null,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null},null===c?(o=c=h,l=i):c=c.next=h,Ur.lanes|=m,Cc|=m}h=d.action,Xr&&n(i,h),i=d.hasEagerState?d.eagerState:n(i,h)}else m={lane:h,revertLane:d.revertLane,gesture:d.gesture,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null},null===c?(o=c=m,l=i):c=c.next=m,Ur.lanes|=h,Cc|=h;d=d.next}while(null!==d&&d!==t);if(null===c?l=i:c.next=o,!es(i,e.memoizedState)&&(Rl=!0,u&&null!==(n=qa)))throw n;e.memoizedState=i,e.baseState=l,e.baseQueue=c,a.lastRenderedState=i}return null===r&&(a.lanes=0),[e.memoizedState,a.dispatch]}function gi(e){var t=di(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var a=n.dispatch,r=n.pending,i=t.memoizedState;if(null!==r){n.pending=null;var l=r=r.next;do{i=e(i,l.action),l=l.next}while(l!==r);es(i,t.memoizedState)||(Rl=!0),t.memoizedState=i,null===t.baseQueue&&(t.baseState=i),n.lastRenderedState=i}return[i,a]}function bi(e,t,n){var a=Ur,r=di(),i=ma;if(i){if(void 0===n)throw Error(s(407));n=n()}else n=t();var l=!es((Vr||r).memoizedState,n);if(l&&(r.memoizedState=n,Rl=!0),r=r.queue,Hi(wi.bind(null,a,r,e),[e]),r.getSnapshot!==t||l||null!==qr&&1&qr.memoizedState.tag){if(a.flags|=2048,Ii(9,{destroy:void 0},yi.bind(null,a,r,n,t),null),null===xc)throw Error(s(349));i||127&Hr||vi(a,t,n)}return n}function vi(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=Ur.updateQueue)?(t={lastEffect:null,events:null,stores:null,memoCache:null},Ur.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function yi(e,t,n,s){t.value=n,t.getSnapshot=s,ji(t)&&Ni(e)}function wi(e,t,n){return n(function(){ji(t)&&Ni(e)})}function ji(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!es(e,n)}catch(s){return!0}}function Ni(e){var t=As(e,2);null!==t&&Qc(t,e,2)}function ki(e){var t=ci();if("function"==typeof e){var n=e;if(e=n(),Xr){xe(!0);try{n()}finally{xe(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:pi,lastRenderedState:e},t}function Si(e,t,n,s){return e.baseState=n,xi(e,Vr,"function"==typeof s?s:pi)}function Ci(e,t,n,a,r){if(ml(e))throw Error(s(485));if(null!==(e=t.action)){var i={payload:r,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(e){i.listeners.push(e)}};null!==E.T?n(!0):i.isTransition=!1,a(i),null===(n=t.pending)?(i.next=t.pending=i,_i(t,i)):(i.next=n.next,t.pending=n.next=i)}}function _i(e,t){var n=t.action,s=t.payload,a=e.state;if(t.isTransition){var r=E.T,i={};E.T=i;try{var l=n(a,s),o=E.S;null!==o&&o(i,l),Pi(e,t,l)}catch(c){Ti(e,t,c)}finally{null!==r&&null!==i.types&&(r.types=i.types),E.T=r}}else try{Pi(e,t,r=n(a,s))}catch(d){Ti(e,t,d)}}function Pi(e,t,n){null!==n&&"object"==typeof n&&"function"==typeof n.then?n.then(function(n){Di(e,t,n)},function(n){return Ti(e,t,n)}):Di(e,t,n)}function Di(e,t,n){t.status="fulfilled",t.value=n,Ei(t),e.state=n,null!==(t=e.pending)&&((n=t.next)===t?e.pending=null:(n=n.next,t.next=n,_i(e,n)))}function Ti(e,t,n){var s=e.pending;if(e.pending=null,null!==s){s=s.next;do{t.status="rejected",t.reason=n,Ei(t),t=t.next}while(t!==s)}e.action=null}function Ei(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function zi(e,t){return t}function Mi(e,t){if(ma){var n=xc.formState;if(null!==n){e:{var s=Ur;if(ma){if(ha){t:{for(var a=ha,r=fa;8!==a.nodeType;){if(!r){a=null;break t}if(null===(a=Au(a.nextSibling))){a=null;break t}}a="F!"===(r=a.data)||"F"===r?a:null}if(a){ha=Au(a.nextSibling),s="F!"===a.data;break e}}ga(s)}s=!1}s&&(t=n[0])}}return(n=ci()).memoizedState=n.baseState=t,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:zi,lastRenderedState:t},n.queue=s,n=dl.bind(null,Ur,s),s.dispatch=n,s=ki(!1),r=hl.bind(null,Ur,!1,s.queue),a={state:t,dispatch:null,action:e,pending:null},(s=ci()).queue=a,n=Ci.bind(null,Ur,a,r,n),a.dispatch=n,s.memoizedState=e,[t,n,!1]}function Ri(e){return Ai(di(),Vr,e)}function Ai(e,t,n){if(t=xi(e,t,zi)[0],e=fi(pi)[0],"object"==typeof t&&null!==t&&"function"==typeof t.then)try{var s=ui(t)}catch(i){if(i===Za)throw tr;throw i}else s=t;var a=(t=di()).queue,r=a.dispatch;return n!==t.memoizedState&&(Ur.flags|=2048,Ii(9,{destroy:void 0},Oi.bind(null,a,n),null)),[s,r,e]}function Oi(e,t){e.action=t}function Fi(e){var t=di(),n=Vr;if(null!==n)return Ai(t,n,e);di(),t=t.memoizedState;var s=(n=di()).queue.dispatch;return n.memoizedState=e,[t,s,!1]}function Ii(e,t,n,s){return e={tag:e,create:n,deps:s,inst:t,next:null},null===(t=Ur.updateQueue)&&(t={lastEffect:null,events:null,stores:null,memoCache:null},Ur.updateQueue=t),null===(n=t.lastEffect)?t.lastEffect=e.next=e:(s=n.next,n.next=e,e.next=s,t.lastEffect=e),e}function Li(){return di().memoizedState}function Bi(e,t,n,s){var a=ci();Ur.flags|=e,a.memoizedState=Ii(1|t,{destroy:void 0},n,void 0===s?null:s)}function $i(e,t,n,s){var a=di();s=void 0===s?null:s;var r=a.memoizedState.inst;null!==Vr&&null!==s&&ti(s,Vr.memoizedState.deps)?a.memoizedState=Ii(t,r,n,s):(Ur.flags|=e,a.memoizedState=Ii(1|t,r,n,s))}function Wi(e,t){Bi(8390656,8,e,t)}function Hi(e,t){$i(2048,8,e,t)}function Ui(e){var t=di().memoizedState;return function(e){Ur.flags|=4;var t=Ur.updateQueue;if(null===t)t={lastEffect:null,events:null,stores:null,memoCache:null},Ur.updateQueue=t,t.events=[e];else{var n=t.events;null===n?t.events=[e]:n.push(e)}}({ref:t,nextImpl:e}),function(){if(2&fc)throw Error(s(440));return t.impl.apply(void 0,arguments)}}function Vi(e,t){return $i(4,2,e,t)}function qi(e,t){return $i(4,4,e,t)}function Yi(e,t){if("function"==typeof t){e=e();var n=t(e);return function(){"function"==typeof n?n():t(null)}}if(null!=t)return e=e(),t.current=e,function(){t.current=null}}function Gi(e,t,n){n=null!=n?n.concat([e]):null,$i(4,4,Yi.bind(null,t,e),n)}function Xi(){}function Qi(e,t){var n=di();t=void 0===t?null:t;var s=n.memoizedState;return null!==t&&ti(t,s[1])?s[0]:(n.memoizedState=[e,t],e)}function Ki(e,t){var n=di();t=void 0===t?null:t;var s=n.memoizedState;if(null!==t&&ti(t,s[1]))return s[0];if(s=e(),Xr){xe(!0);try{e()}finally{xe(!1)}}return n.memoizedState=[s,t],s}function Ji(e,t,n){return void 0===n||1073741824&Hr&&!(261930&bc)?e.memoizedState=t:(e.memoizedState=n,e=Xc(),Ur.lanes|=e,Cc|=e,n)}function Zi(e,t,n,s){return es(n,t)?n:null!==Dr.current?(e=Ji(e,n,s),es(e,t)||(Rl=!0),e):42&Hr&&(!(1073741824&Hr)||261930&bc)?(e=Xc(),Ur.lanes|=e,Cc|=e,t):(Rl=!0,e.memoizedState=n)}function el(e,t,n,s,a){var r=z.p;z.p=0!==r&&8>r?r:8;var i,l,o,c=E.T,d={};E.T=d,hl(e,!1,t,n);try{var u=a(),h=E.S;if(null!==h&&h(d,u),null!==u&&"object"==typeof u&&"function"==typeof u.then)ul(e,t,(i=s,l=[],o={status:"pending",value:null,reason:null,then:function(e){l.push(e)}},u.then(function(){o.status="fulfilled",o.value=i;for(var e=0;e<l.length;e++)(0,l[e])(i)},function(e){for(o.status="rejected",o.reason=e,e=0;e<l.length;e++)(0,l[e])(void 0)}),o),Gc());else ul(e,t,s,Gc())}catch(m){ul(e,t,{then:function(){},status:"rejected",reason:m},Gc())}finally{z.p=r,null!==c&&null!==d.types&&(c.types=d.types),E.T=c}}function tl(){}function nl(e,t,n,a){if(5!==e.tag)throw Error(s(476));var r=sl(e).queue;el(e,r,t,M,null===n?tl:function(){return al(e),n(a)})}function sl(e){var t=e.memoizedState;if(null!==t)return t;var n={};return(t={memoizedState:M,baseState:M,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:pi,lastRenderedState:M},next:null}).next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:pi,lastRenderedState:n},next:null},e.memoizedState=t,null!==(e=e.alternate)&&(e.memoizedState=t),t}function al(e){var t=sl(e);null===t.next&&(t=e.alternate.memoizedState),ul(e,t.next.queue,{},Gc())}function rl(){return Ra(hh)}function il(){return di().memoizedState}function ll(){return di().memoizedState}function ol(e){for(var t=e.return;null!==t;){switch(t.tag){case 24:case 3:var n=Gc(),s=wr(t,e=yr(n),n);return null!==s&&(Qc(s,t,n),jr(s,t,n)),t={cache:$a()},void(e.payload=t)}t=t.return}}function cl(e,t,n){var s=Gc();n={lane:s,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},ml(e)?pl(t,n):null!==(n=Rs(e,t,n,s))&&(Qc(n,e,s),fl(n,t,s))}function dl(e,t,n){ul(e,t,n,Gc())}function ul(e,t,n,s){var a={lane:s,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(ml(e))pl(t,a);else{var r=e.alternate;if(0===e.lanes&&(null===r||0===r.lanes)&&null!==(r=t.lastRenderedReducer))try{var i=t.lastRenderedState,l=r(i,n);if(a.hasEagerState=!0,a.eagerState=l,es(l,i))return Ms(e,t,a,0),null===xc&&zs(),!1}catch(o){}if(null!==(n=Rs(e,t,a,s)))return Qc(n,e,s),fl(n,t,s),!0}return!1}function hl(e,t,n,a){if(a={lane:2,revertLane:Ud(),gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},ml(e)){if(t)throw Error(s(479))}else null!==(t=Rs(e,n,a,2))&&Qc(t,e,2)}function ml(e){var t=e.alternate;return e===Ur||null!==t&&t===Ur}function pl(e,t){Gr=Yr=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function fl(e,t,n){if(4194048&n){var s=t.lanes;n|=s&=e.pendingLanes,t.lanes=n,Ee(e,n)}}var xl={readContext:Ra,use:hi,useCallback:ei,useContext:ei,useEffect:ei,useImperativeHandle:ei,useLayoutEffect:ei,useInsertionEffect:ei,useMemo:ei,useReducer:ei,useRef:ei,useState:ei,useDebugValue:ei,useDeferredValue:ei,useTransition:ei,useSyncExternalStore:ei,useId:ei,useHostTransitionStatus:ei,useFormState:ei,useActionState:ei,useOptimistic:ei,useMemoCache:ei,useCacheRefresh:ei};xl.useEffectEvent=ei;var gl={readContext:Ra,use:hi,useCallback:function(e,t){return ci().memoizedState=[e,void 0===t?null:t],e},useContext:Ra,useEffect:Wi,useImperativeHandle:function(e,t,n){n=null!=n?n.concat([e]):null,Bi(4194308,4,Yi.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Bi(4194308,4,e,t)},useInsertionEffect:function(e,t){Bi(4,2,e,t)},useMemo:function(e,t){var n=ci();t=void 0===t?null:t;var s=e();if(Xr){xe(!0);try{e()}finally{xe(!1)}}return n.memoizedState=[s,t],s},useReducer:function(e,t,n){var s=ci();if(void 0!==n){var a=n(t);if(Xr){xe(!0);try{n(t)}finally{xe(!1)}}}else a=t;return s.memoizedState=s.baseState=a,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:a},s.queue=e,e=e.dispatch=cl.bind(null,Ur,e),[s.memoizedState,e]},useRef:function(e){return e={current:e},ci().memoizedState=e},useState:function(e){var t=(e=ki(e)).queue,n=dl.bind(null,Ur,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:Xi,useDeferredValue:function(e,t){return Ji(ci(),e,t)},useTransition:function(){var e=ki(!1);return e=el.bind(null,Ur,e.queue,!0,!1),ci().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var a=Ur,r=ci();if(ma){if(void 0===n)throw Error(s(407));n=n()}else{if(n=t(),null===xc)throw Error(s(349));127&bc||vi(a,t,n)}r.memoizedState=n;var i={value:n,getSnapshot:t};return r.queue=i,Wi(wi.bind(null,a,i,e),[e]),a.flags|=2048,Ii(9,{destroy:void 0},yi.bind(null,a,i,n,t),null),n},useId:function(){var e=ci(),t=xc.identifierPrefix;if(ma){var n=ra;t="_"+t+"R_"+(n=(aa&~(1<<32-ge(aa)-1)).toString(32)+n),0<(n=Qr++)&&(t+="H"+n.toString(32)),t+="_"}else t="_"+t+"r_"+(n=Zr++).toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:rl,useFormState:Mi,useActionState:Mi,useOptimistic:function(e){var t=ci();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=hl.bind(null,Ur,!0,n),n.dispatch=t,[e,t]},useMemoCache:mi,useCacheRefresh:function(){return ci().memoizedState=ol.bind(null,Ur)},useEffectEvent:function(e){var t=ci(),n={impl:e};return t.memoizedState=n,function(){if(2&fc)throw Error(s(440));return n.impl.apply(void 0,arguments)}}},bl={readContext:Ra,use:hi,useCallback:Qi,useContext:Ra,useEffect:Hi,useImperativeHandle:Gi,useInsertionEffect:Vi,useLayoutEffect:qi,useMemo:Ki,useReducer:fi,useRef:Li,useState:function(){return fi(pi)},useDebugValue:Xi,useDeferredValue:function(e,t){return Zi(di(),Vr.memoizedState,e,t)},useTransition:function(){var e=fi(pi)[0],t=di().memoizedState;return["boolean"==typeof e?e:ui(e),t]},useSyncExternalStore:bi,useId:il,useHostTransitionStatus:rl,useFormState:Ri,useActionState:Ri,useOptimistic:function(e,t){return Si(di(),0,e,t)},useMemoCache:mi,useCacheRefresh:ll};bl.useEffectEvent=Ui;var vl={readContext:Ra,use:hi,useCallback:Qi,useContext:Ra,useEffect:Hi,useImperativeHandle:Gi,useInsertionEffect:Vi,useLayoutEffect:qi,useMemo:Ki,useReducer:gi,useRef:Li,useState:function(){return gi(pi)},useDebugValue:Xi,useDeferredValue:function(e,t){var n=di();return null===Vr?Ji(n,e,t):Zi(n,Vr.memoizedState,e,t)},useTransition:function(){var e=gi(pi)[0],t=di().memoizedState;return["boolean"==typeof e?e:ui(e),t]},useSyncExternalStore:bi,useId:il,useHostTransitionStatus:rl,useFormState:Fi,useActionState:Fi,useOptimistic:function(e,t){var n=di();return null!==Vr?Si(n,0,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:mi,useCacheRefresh:ll};function yl(e,t,n,s){n=null==(n=n(s,t=e.memoizedState))?t:d({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}vl.useEffectEvent=Ui;var wl={enqueueSetState:function(e,t,n){e=e._reactInternals;var s=Gc(),a=yr(s);a.payload=t,null!=n&&(a.callback=n),null!==(t=wr(e,a,s))&&(Qc(t,e,s),jr(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var s=Gc(),a=yr(s);a.tag=1,a.payload=t,null!=n&&(a.callback=n),null!==(t=wr(e,a,s))&&(Qc(t,e,s),jr(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Gc(),s=yr(n);s.tag=2,null!=t&&(s.callback=t),null!==(t=wr(e,s,n))&&(Qc(t,e,n),jr(t,e,n))}};function jl(e,t,n,s,a,r,i){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(s,r,i):!t.prototype||!t.prototype.isPureReactComponent||(!ts(n,s)||!ts(a,r))}function Nl(e,t,n,s){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,s),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,s),t.state!==e&&wl.enqueueReplaceState(t,t.state,null)}function kl(e,t){var n=t;if("ref"in t)for(var s in n={},t)"ref"!==s&&(n[s]=t[s]);if(e=e.defaultProps)for(var a in n===t&&(n=d({},n)),e)void 0===n[a]&&(n[a]=e[a]);return n}function Sl(e){Ps(e)}function Cl(e){}function _l(e){Ps(e)}function Pl(e,t){try{(0,e.onUncaughtError)(t.value,{componentStack:t.stack})}catch(n){setTimeout(function(){throw n})}}function Dl(e,t,n){try{(0,e.onCaughtError)(n.value,{componentStack:n.stack,errorBoundary:1===t.tag?t.stateNode:null})}catch(s){setTimeout(function(){throw s})}}function Tl(e,t,n){return(n=yr(n)).tag=3,n.payload={element:null},n.callback=function(){Pl(e,t)},n}function El(e){return(e=yr(e)).tag=3,e}function zl(e,t,n,s){var a=n.type.getDerivedStateFromError;if("function"==typeof a){var r=s.value;e.payload=function(){return a(r)},e.callback=function(){Dl(t,n,s)}}var i=n.stateNode;null!==i&&"function"==typeof i.componentDidCatch&&(e.callback=function(){Dl(t,n,s),"function"!=typeof a&&(null===Ic?Ic=new Set([this]):Ic.add(this));var e=s.stack;this.componentDidCatch(s.value,{componentStack:null!==e?e:""})})}var Ml=Error(s(461)),Rl=!1;function Al(e,t,n,s){t.child=null===e?xr(t,null,n,s):fr(t,e.child,n,s)}function Ol(e,t,n,s,a){n=n.render;var r=t.ref;if("ref"in s){var i={};for(var l in s)"ref"!==l&&(i[l]=s[l])}else i=s;return Ma(t),s=ni(e,t,n,i,r,a),l=ii(),null===e||Rl?(ma&&l&&oa(t),t.flags|=1,Al(e,t,s,a),t.child):(li(e,t,a),ro(e,t,a))}function Fl(e,t,n,s,a){if(null===e){var r=n.type;return"function"!=typeof r||$s(r)||void 0!==r.defaultProps||null!==n.compare?((e=Us(n.type,null,s,t,t.mode,a)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=r,Il(e,t,r,s,a))}if(r=e.child,!io(e,a)){var i=r.memoizedProps;if((n=null!==(n=n.compare)?n:ts)(i,s)&&e.ref===t.ref)return ro(e,t,a)}return t.flags|=1,(e=Ws(r,s)).ref=t.ref,e.return=t,t.child=e}function Il(e,t,n,s,a){if(null!==e){var r=e.memoizedProps;if(ts(r,s)&&e.ref===t.ref){if(Rl=!1,t.pendingProps=s=r,!io(e,a))return t.lanes=e.lanes,ro(e,t,a);131072&e.flags&&(Rl=!0)}}return Vl(e,t,n,s,a)}function Ll(e,t,n,s){var a=s.children,r=null!==e?e.memoizedState:null;if(null===e&&null===t.stateNode&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),"hidden"===s.mode){if(128&t.flags){if(r=null!==r?r.baseLanes|n:n,null!==e){for(s=t.child=e.child,a=0;null!==s;)a=a|s.lanes|s.childLanes,s=s.sibling;s=a&~r}else s=0,t.child=null;return $l(e,t,r,n,s)}if(!(536870912&n))return s=t.lanes=536870912,$l(e,t,null!==r?r.baseLanes|n:n,n,s);t.memoizedState={baseLanes:0,cachePool:null},null!==e&&Ka(0,null!==r?r.cachePool:null),null!==r?Er(t,r):zr(),Ir(t)}else null!==r?(Ka(0,r.cachePool),Er(t,r),Lr(),t.memoizedState=null):(null!==e&&Ka(0,null),zr(),Lr());return Al(e,t,a,n),t.child}function Bl(e,t){return null!==e&&22===e.tag||null!==t.stateNode||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function $l(e,t,n,s,a){var r=Qa();return r=null===r?null:{parent:Ba._currentValue,pool:r},t.memoizedState={baseLanes:n,cachePool:r},null!==e&&Ka(0,null),zr(),Ir(t),null!==e&&Ea(e,t,s,!0),t.childLanes=a,null}function Wl(e,t){return(t=eo({mode:t.mode,children:t.children},e.mode)).ref=e.ref,e.child=t,t.return=e,t}function Hl(e,t,n){return fr(t,e.child,null,n),(e=Wl(t,t.pendingProps)).flags|=2,Br(t),t.memoizedState=null,e}function Ul(e,t){var n=t.ref;if(null===n)null!==e&&null!==e.ref&&(t.flags|=4194816);else{if("function"!=typeof n&&"object"!=typeof n)throw Error(s(284));null!==e&&e.ref===n||(t.flags|=4194816)}}function Vl(e,t,n,s,a){return Ma(t),n=ni(e,t,n,s,void 0,a),s=ii(),null===e||Rl?(ma&&s&&oa(t),t.flags|=1,Al(e,t,n,a),t.child):(li(e,t,a),ro(e,t,a))}function ql(e,t,n,s,a,r){return Ma(t),t.updateQueue=null,n=ai(t,s,n,a),si(e),s=ii(),null===e||Rl?(ma&&s&&oa(t),t.flags|=1,Al(e,t,n,r),t.child):(li(e,t,r),ro(e,t,r))}function Yl(e,t,n,s,a){if(Ma(t),null===t.stateNode){var r=Is,i=n.contextType;"object"==typeof i&&null!==i&&(r=Ra(i)),r=new n(s,r),t.memoizedState=null!==r.state&&void 0!==r.state?r.state:null,r.updater=wl,t.stateNode=r,r._reactInternals=t,(r=t.stateNode).props=s,r.state=t.memoizedState,r.refs={},br(t),i=n.contextType,r.context="object"==typeof i&&null!==i?Ra(i):Is,r.state=t.memoizedState,"function"==typeof(i=n.getDerivedStateFromProps)&&(yl(t,n,i,s),r.state=t.memoizedState),"function"==typeof n.getDerivedStateFromProps||"function"==typeof r.getSnapshotBeforeUpdate||"function"!=typeof r.UNSAFE_componentWillMount&&"function"!=typeof r.componentWillMount||(i=r.state,"function"==typeof r.componentWillMount&&r.componentWillMount(),"function"==typeof r.UNSAFE_componentWillMount&&r.UNSAFE_componentWillMount(),i!==r.state&&wl.enqueueReplaceState(r,r.state,null),Cr(t,s,r,a),Sr(),r.state=t.memoizedState),"function"==typeof r.componentDidMount&&(t.flags|=4194308),s=!0}else if(null===e){r=t.stateNode;var l=t.memoizedProps,o=kl(n,l);r.props=o;var c=r.context,d=n.contextType;i=Is,"object"==typeof d&&null!==d&&(i=Ra(d));var u=n.getDerivedStateFromProps;d="function"==typeof u||"function"==typeof r.getSnapshotBeforeUpdate,l=t.pendingProps!==l,d||"function"!=typeof r.UNSAFE_componentWillReceiveProps&&"function"!=typeof r.componentWillReceiveProps||(l||c!==i)&&Nl(t,r,s,i),gr=!1;var h=t.memoizedState;r.state=h,Cr(t,s,r,a),Sr(),c=t.memoizedState,l||h!==c||gr?("function"==typeof u&&(yl(t,n,u,s),c=t.memoizedState),(o=gr||jl(t,n,o,s,h,c,i))?(d||"function"!=typeof r.UNSAFE_componentWillMount&&"function"!=typeof r.componentWillMount||("function"==typeof r.componentWillMount&&r.componentWillMount(),"function"==typeof r.UNSAFE_componentWillMount&&r.UNSAFE_componentWillMount()),"function"==typeof r.componentDidMount&&(t.flags|=4194308)):("function"==typeof r.componentDidMount&&(t.flags|=4194308),t.memoizedProps=s,t.memoizedState=c),r.props=s,r.state=c,r.context=i,s=o):("function"==typeof r.componentDidMount&&(t.flags|=4194308),s=!1)}else{r=t.stateNode,vr(e,t),d=kl(n,i=t.memoizedProps),r.props=d,u=t.pendingProps,h=r.context,c=n.contextType,o=Is,"object"==typeof c&&null!==c&&(o=Ra(c)),(c="function"==typeof(l=n.getDerivedStateFromProps)||"function"==typeof r.getSnapshotBeforeUpdate)||"function"!=typeof r.UNSAFE_componentWillReceiveProps&&"function"!=typeof r.componentWillReceiveProps||(i!==u||h!==o)&&Nl(t,r,s,o),gr=!1,h=t.memoizedState,r.state=h,Cr(t,s,r,a),Sr();var m=t.memoizedState;i!==u||h!==m||gr||null!==e&&null!==e.dependencies&&za(e.dependencies)?("function"==typeof l&&(yl(t,n,l,s),m=t.memoizedState),(d=gr||jl(t,n,d,s,h,m,o)||null!==e&&null!==e.dependencies&&za(e.dependencies))?(c||"function"!=typeof r.UNSAFE_componentWillUpdate&&"function"!=typeof r.componentWillUpdate||("function"==typeof r.componentWillUpdate&&r.componentWillUpdate(s,m,o),"function"==typeof r.UNSAFE_componentWillUpdate&&r.UNSAFE_componentWillUpdate(s,m,o)),"function"==typeof r.componentDidUpdate&&(t.flags|=4),"function"==typeof r.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!=typeof r.componentDidUpdate||i===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!=typeof r.getSnapshotBeforeUpdate||i===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=s,t.memoizedState=m),r.props=s,r.state=m,r.context=o,s=d):("function"!=typeof r.componentDidUpdate||i===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!=typeof r.getSnapshotBeforeUpdate||i===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),s=!1)}return r=s,Ul(e,t),s=!!(128&t.flags),r||s?(r=t.stateNode,n=s&&"function"!=typeof n.getDerivedStateFromError?null:r.render(),t.flags|=1,null!==e&&s?(t.child=fr(t,e.child,null,a),t.child=fr(t,null,n,a)):Al(e,t,n,a),t.memoizedState=r.state,e=t.child):e=ro(e,t,a),e}function Gl(e,t,n,s){return wa(),t.flags|=256,Al(e,t,n,s),t.child}var Xl={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ql(e){return{baseLanes:e,cachePool:Ja()}}function Kl(e,t,n){return e=null!==e?e.childLanes&~n:0,t&&(e|=Dc),e}function Jl(e,t,n){var a,r=t.pendingProps,i=!1,l=!!(128&t.flags);if((a=l)||(a=(null===e||null!==e.memoizedState)&&!!(2&$r.current)),a&&(i=!0,t.flags&=-129),a=!!(32&t.flags),t.flags&=-33,null===e){if(ma){if(i?Or(t):Lr(),(e=ha)?null!==(e=null!==(e=zu(e,fa))&&"&"!==e.data?e:null)&&(t.memoizedState={dehydrated:e,treeContext:null!==sa?{id:aa,overflow:ra}:null,retryLane:536870912,hydrationErrors:null},(n=Ys(e)).return=t,t.child=n,ua=t,ha=null):e=null,null===e)throw ga(t);return Ru(e)?t.lanes=32:t.lanes=536870912,null}var o=r.children;return r=r.fallback,i?(Lr(),o=eo({mode:"hidden",children:o},i=t.mode),r=Vs(r,i,n,null),o.return=t,r.return=t,o.sibling=r,t.child=o,(r=t.child).memoizedState=Ql(n),r.childLanes=Kl(e,a,n),t.memoizedState=Xl,Bl(null,r)):(Or(t),Zl(t,o))}var c=e.memoizedState;if(null!==c&&null!==(o=c.dehydrated)){if(l)256&t.flags?(Or(t),t.flags&=-257,t=to(e,t,n)):null!==t.memoizedState?(Lr(),t.child=e.child,t.flags|=128,t=null):(Lr(),o=r.fallback,i=t.mode,r=eo({mode:"visible",children:r.children},i),(o=Vs(o,i,n,null)).flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,fr(t,e.child,null,n),(r=t.child).memoizedState=Ql(n),r.childLanes=Kl(e,a,n),t.memoizedState=Xl,t=Bl(null,r));else if(Or(t),Ru(o)){if(a=o.nextSibling&&o.nextSibling.dataset)var d=a.dgst;a=d,(r=Error(s(419))).stack="",r.digest=a,Na({value:r,source:null,stack:null}),t=to(e,t,n)}else if(Rl||Ea(e,t,n,!1),a=0!==(n&e.childLanes),Rl||a){if(null!==(a=xc)&&(0!==(r=ze(a,n))&&r!==c.retryLane))throw c.retryLane=r,As(e,r),Qc(a,e,r),Ml;Mu(o)||od(),t=to(e,t,n)}else Mu(o)?(t.flags|=192,t.child=e.child,t=null):(e=c.treeContext,ha=Au(o.nextSibling),ua=t,ma=!0,pa=null,fa=!1,null!==e&&da(t,e),(t=Zl(t,r.children)).flags|=4096);return t}return i?(Lr(),o=r.fallback,i=t.mode,d=(c=e.child).sibling,(r=Ws(c,{mode:"hidden",children:r.children})).subtreeFlags=65011712&c.subtreeFlags,null!==d?o=Ws(d,o):(o=Vs(o,i,n,null)).flags|=2,o.return=t,r.return=t,r.sibling=o,t.child=r,Bl(null,r),r=t.child,null===(o=e.child.memoizedState)?o=Ql(n):(null!==(i=o.cachePool)?(c=Ba._currentValue,i=i.parent!==c?{parent:c,pool:c}:i):i=Ja(),o={baseLanes:o.baseLanes|n,cachePool:i}),r.memoizedState=o,r.childLanes=Kl(e,a,n),t.memoizedState=Xl,Bl(e.child,r)):(Or(t),e=(n=e.child).sibling,(n=Ws(n,{mode:"visible",children:r.children})).return=t,n.sibling=null,null!==e&&(null===(a=t.deletions)?(t.deletions=[e],t.flags|=16):a.push(e)),t.child=n,t.memoizedState=null,n)}function Zl(e,t){return(t=eo({mode:"visible",children:t},e.mode)).return=e,e.child=t}function eo(e,t){return(e=Bs(22,e,null,t)).lanes=0,e}function to(e,t,n){return fr(t,e.child,null,n),(e=Zl(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function no(e,t,n){e.lanes|=t;var s=e.alternate;null!==s&&(s.lanes|=t),Da(e.return,t,n)}function so(e,t,n,s,a,r){var i=e.memoizedState;null===i?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:s,tail:n,tailMode:a,treeForkCount:r}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=s,i.tail=n,i.tailMode=a,i.treeForkCount=r)}function ao(e,t,n){var s=t.pendingProps,a=s.revealOrder,r=s.tail;s=s.children;var i=$r.current,l=!!(2&i);if(l?(i=1&i|2,t.flags|=128):i&=1,I($r,i),Al(e,t,s,n),s=ma?ea:0,!l&&null!==e&&128&e.flags)e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&no(e,n,t);else if(19===e.tag)no(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(a){case"forwards":for(n=t.child,a=null;null!==n;)null!==(e=n.alternate)&&null===Wr(e)&&(a=n),n=n.sibling;null===(n=a)?(a=t.child,t.child=null):(a=n.sibling,n.sibling=null),so(t,!1,a,n,r,s);break;case"backwards":case"unstable_legacy-backwards":for(n=null,a=t.child,t.child=null;null!==a;){if(null!==(e=a.alternate)&&null===Wr(e)){t.child=a;break}e=a.sibling,a.sibling=n,n=a,a=e}so(t,!0,n,null,r,s);break;case"together":so(t,!1,null,null,void 0,s);break;default:t.memoizedState=null}return t.child}function ro(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Cc|=t.lanes,0===(n&t.childLanes)){if(null===e)return null;if(Ea(e,t,n,!1),0===(n&t.childLanes))return null}if(null!==e&&t.child!==e.child)throw Error(s(153));if(null!==t.child){for(n=Ws(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Ws(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function io(e,t){return 0!==(e.lanes&t)||!(null===(e=e.dependencies)||!za(e))}function lo(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps)Rl=!0;else{if(!(io(e,n)||128&t.flags))return Rl=!1,function(e,t,n){switch(t.tag){case 3:V(t,t.stateNode.containerInfo),_a(0,Ba,e.memoizedState.cache),wa();break;case 27:case 5:Y(t);break;case 4:V(t,t.stateNode.containerInfo);break;case 10:_a(0,t.type,t.memoizedProps.value);break;case 31:if(null!==t.memoizedState)return t.flags|=128,Fr(t),null;break;case 13:var s=t.memoizedState;if(null!==s)return null!==s.dehydrated?(Or(t),t.flags|=128,null):0!==(n&t.child.childLanes)?Jl(e,t,n):(Or(t),null!==(e=ro(e,t,n))?e.sibling:null);Or(t);break;case 19:var a=!!(128&e.flags);if((s=0!==(n&t.childLanes))||(Ea(e,t,n,!1),s=0!==(n&t.childLanes)),a){if(s)return ao(e,t,n);t.flags|=128}if(null!==(a=t.memoizedState)&&(a.rendering=null,a.tail=null,a.lastEffect=null),I($r,$r.current),s)break;return null;case 22:return t.lanes=0,Ll(e,t,n,t.pendingProps);case 24:_a(0,Ba,e.memoizedState.cache)}return ro(e,t,n)}(e,t,n);Rl=!!(131072&e.flags)}else Rl=!1,ma&&1048576&t.flags&&la(t,ea,t.index);switch(t.lanes=0,t.tag){case 16:e:{var a=t.pendingProps;if(e=rr(t.elementType),t.type=e,"function"!=typeof e){if(null!=e){var r=e.$$typeof;if(r===v){t.tag=11,t=Ol(null,t,e,a,n);break e}if(r===j){t.tag=14,t=Fl(null,t,e,a,n);break e}}throw t=D(e)||e,Error(s(306,t,""))}$s(e)?(a=kl(e,a),t.tag=1,t=Yl(null,t,e,a,n)):(t.tag=0,t=Vl(null,t,e,a,n))}return t;case 0:return Vl(e,t,t.type,t.pendingProps,n);case 1:return Yl(e,t,a=t.type,r=kl(a,t.pendingProps),n);case 3:e:{if(V(t,t.stateNode.containerInfo),null===e)throw Error(s(387));a=t.pendingProps;var i=t.memoizedState;r=i.element,vr(e,t),Cr(t,a,null,n);var l=t.memoizedState;if(a=l.cache,_a(0,Ba,a),a!==i.cache&&Ta(t,[Ba],n,!0),Sr(),a=l.element,i.isDehydrated){if(i={element:a,isDehydrated:!1,cache:l.cache},t.updateQueue.baseState=i,t.memoizedState=i,256&t.flags){t=Gl(e,t,a,n);break e}if(a!==r){Na(r=Qs(Error(s(424)),t)),t=Gl(e,t,a,n);break e}if(9===(e=t.stateNode.containerInfo).nodeType)e=e.body;else e="HTML"===e.nodeName?e.ownerDocument.body:e;for(ha=Au(e.firstChild),ua=t,ma=!0,pa=null,fa=!0,n=xr(t,null,a,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(wa(),a===r){t=ro(e,t,n);break e}Al(e,t,a,n)}t=t.child}return t;case 26:return Ul(e,t),null===e?(n=Yu(t.type,null,t.pendingProps,null))?t.memoizedState=n:ma||(n=t.type,e=t.pendingProps,(a=bu(H.current).createElement(n))[Ie]=t,a[Le]=e,pu(a,n,e),Ke(a),t.stateNode=a):t.memoizedState=Yu(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Y(t),null===e&&ma&&(a=t.stateNode=Lu(t.type,t.pendingProps,H.current),ua=t,fa=!0,r=ha,Pu(t.type)?(Ou=r,ha=Au(a.firstChild)):ha=r),Al(e,t,t.pendingProps.children,n),Ul(e,t),null===e&&(t.flags|=4194304),t.child;case 5:return null===e&&ma&&((r=a=ha)&&(null!==(a=function(e,t,n,s){for(;1===e.nodeType;){var a=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!s&&("INPUT"!==e.nodeName||"hidden"!==e.type))break}else if(s){if(!e[Ve])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if("stylesheet"===(r=e.getAttribute("rel"))&&e.hasAttribute("data-precedence"))break;if(r!==a.rel||e.getAttribute("href")!==(null==a.href||""===a.href?null:a.href)||e.getAttribute("crossorigin")!==(null==a.crossOrigin?null:a.crossOrigin)||e.getAttribute("title")!==(null==a.title?null:a.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(((r=e.getAttribute("src"))!==(null==a.src?null:a.src)||e.getAttribute("type")!==(null==a.type?null:a.type)||e.getAttribute("crossorigin")!==(null==a.crossOrigin?null:a.crossOrigin))&&r&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else{if("input"!==t||"hidden"!==e.type)return e;var r=null==a.name?null:""+a.name;if("hidden"===a.type&&e.getAttribute("name")===r)return e}if(null===(e=Au(e.nextSibling)))break}return null}(a,t.type,t.pendingProps,fa))?(t.stateNode=a,ua=t,ha=Au(a.firstChild),fa=!1,r=!0):r=!1),r||ga(t)),Y(t),r=t.type,i=t.pendingProps,l=null!==e?e.memoizedProps:null,a=i.children,wu(r,i)?a=null:null!==l&&wu(r,l)&&(t.flags|=32),null!==t.memoizedState&&(r=ni(e,t,ri,null,null,n),hh._currentValue=r),Ul(e,t),Al(e,t,a,n),t.child;case 6:return null===e&&ma&&((e=n=ha)&&(null!==(n=function(e,t,n){if(""===t)return null;for(;3!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!n)return null;if(null===(e=Au(e.nextSibling)))return null}return e}(n,t.pendingProps,fa))?(t.stateNode=n,ua=t,ha=null,e=!0):e=!1),e||ga(t)),null;case 13:return Jl(e,t,n);case 4:return V(t,t.stateNode.containerInfo),a=t.pendingProps,null===e?t.child=fr(t,null,a,n):Al(e,t,a,n),t.child;case 11:return Ol(e,t,t.type,t.pendingProps,n);case 7:return Al(e,t,t.pendingProps,n),t.child;case 8:case 12:return Al(e,t,t.pendingProps.children,n),t.child;case 10:return a=t.pendingProps,_a(0,t.type,a.value),Al(e,t,a.children,n),t.child;case 9:return r=t.type._context,a=t.pendingProps.children,Ma(t),a=a(r=Ra(r)),t.flags|=1,Al(e,t,a,n),t.child;case 14:return Fl(e,t,t.type,t.pendingProps,n);case 15:return Il(e,t,t.type,t.pendingProps,n);case 19:return ao(e,t,n);case 31:return function(e,t,n){var a=t.pendingProps,r=!!(128&t.flags);if(t.flags&=-129,null===e){if(ma){if("hidden"===a.mode)return e=Wl(t,a),t.lanes=536870912,Bl(null,e);if(Fr(t),(e=ha)?null!==(e=null!==(e=zu(e,fa))&&"&"===e.data?e:null)&&(t.memoizedState={dehydrated:e,treeContext:null!==sa?{id:aa,overflow:ra}:null,retryLane:536870912,hydrationErrors:null},(n=Ys(e)).return=t,t.child=n,ua=t,ha=null):e=null,null===e)throw ga(t);return t.lanes=536870912,null}return Wl(t,a)}var i=e.memoizedState;if(null!==i){var l=i.dehydrated;if(Fr(t),r)if(256&t.flags)t.flags&=-257,t=Hl(e,t,n);else{if(null===t.memoizedState)throw Error(s(558));t.child=e.child,t.flags|=128,t=null}else if(Rl||Ea(e,t,n,!1),r=0!==(n&e.childLanes),Rl||r){if(null!==(a=xc)&&0!==(l=ze(a,n))&&l!==i.retryLane)throw i.retryLane=l,As(e,l),Qc(a,e,l),Ml;od(),t=Hl(e,t,n)}else e=i.treeContext,ha=Au(l.nextSibling),ua=t,ma=!0,pa=null,fa=!1,null!==e&&da(t,e),(t=Wl(t,a)).flags|=4096;return t}return(e=Ws(e.child,{mode:a.mode,children:a.children})).ref=t.ref,t.child=e,e.return=t,e}(e,t,n);case 22:return Ll(e,t,n,t.pendingProps);case 24:return Ma(t),a=Ra(Ba),null===e?(null===(r=Qa())&&(r=xc,i=$a(),r.pooledCache=i,i.refCount++,null!==i&&(r.pooledCacheLanes|=n),r=i),t.memoizedState={parent:a,cache:r},br(t),_a(0,Ba,r)):(0!==(e.lanes&n)&&(vr(e,t),Cr(t,null,null,n),Sr()),r=e.memoizedState,i=t.memoizedState,r.parent!==a?(r={parent:a,cache:a},t.memoizedState=r,0===t.lanes&&(t.memoizedState=t.updateQueue.baseState=r),_a(0,Ba,a)):(a=i.cache,_a(0,Ba,a),a!==r.cache&&Ta(t,[Ba],n,!0))),Al(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(s(156,t.tag))}function oo(e){e.flags|=4}function co(e,t,n,s,a){if((t=!!(32&e.mode))&&(t=!1),t){if(e.flags|=16777216,(335544128&a)===a)if(e.stateNode.complete)e.flags|=8192;else{if(!rd())throw ir=nr,er;e.flags|=8192}}else e.flags&=-16777217}function uo(e,t){if("stylesheet"!==t.type||4&t.state.loading)e.flags&=-16777217;else if(e.flags|=16777216,!ih(t)){if(!rd())throw ir=nr,er;e.flags|=8192}}function ho(e,t){null!==t&&(e.flags|=4),16384&e.flags&&(t=22!==e.tag?_e():536870912,e.lanes|=t,Tc|=t)}function mo(e,t){if(!ma)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var s=null;null!==n;)null!==n.alternate&&(s=n),n=n.sibling;null===s?t||null===e.tail?e.tail=null:e.tail.sibling=null:s.sibling=null}}function po(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,s=0;if(t)for(var a=e.child;null!==a;)n|=a.lanes|a.childLanes,s|=65011712&a.subtreeFlags,s|=65011712&a.flags,a.return=e,a=a.sibling;else for(a=e.child;null!==a;)n|=a.lanes|a.childLanes,s|=a.subtreeFlags,s|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=s,e.childLanes=n,t}function fo(e,t,n){var a=t.pendingProps;switch(ca(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:case 1:return po(t),null;case 3:return n=t.stateNode,a=null,null!==e&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),Pa(Ba),q(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||(ya(t)?oo(t):null===e||e.memoizedState.isDehydrated&&!(256&t.flags)||(t.flags|=1024,ja())),po(t),null;case 26:var r=t.type,i=t.memoizedState;return null===e?(oo(t),null!==i?(po(t),uo(t,i)):(po(t),co(t,r,0,0,n))):i?i!==e.memoizedState?(oo(t),po(t),uo(t,i)):(po(t),t.flags&=-16777217):((e=e.memoizedProps)!==a&&oo(t),po(t),co(t,r,0,0,n)),null;case 27:if(G(t),n=H.current,r=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==a&&oo(t);else{if(!a){if(null===t.stateNode)throw Error(s(166));return po(t),null}e=$.current,ya(t)?ba(t):(e=Lu(r,a,n),t.stateNode=e,oo(t))}return po(t),null;case 5:if(G(t),r=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==a&&oo(t);else{if(!a){if(null===t.stateNode)throw Error(s(166));return po(t),null}if(i=$.current,ya(t))ba(t);else{var l=bu(H.current);switch(i){case 1:i=l.createElementNS("http://www.w3.org/2000/svg",r);break;case 2:i=l.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;default:switch(r){case"svg":i=l.createElementNS("http://www.w3.org/2000/svg",r);break;case"math":i=l.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;case"script":(i=l.createElement("div")).innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i="string"==typeof a.is?l.createElement("select",{is:a.is}):l.createElement("select"),a.multiple?i.multiple=!0:a.size&&(i.size=a.size);break;default:i="string"==typeof a.is?l.createElement(r,{is:a.is}):l.createElement(r)}}i[Ie]=t,i[Le]=a;e:for(l=t.child;null!==l;){if(5===l.tag||6===l.tag)i.appendChild(l.stateNode);else if(4!==l.tag&&27!==l.tag&&null!==l.child){l.child.return=l,l=l.child;continue}if(l===t)break e;for(;null===l.sibling;){if(null===l.return||l.return===t)break e;l=l.return}l.sibling.return=l.return,l=l.sibling}t.stateNode=i;e:switch(pu(i,r,a),r){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}a&&oo(t)}}return po(t),co(t,t.type,null===e||e.memoizedProps,t.pendingProps,n),null;case 6:if(e&&null!=t.stateNode)e.memoizedProps!==a&&oo(t);else{if("string"!=typeof a&&null===t.stateNode)throw Error(s(166));if(e=H.current,ya(t)){if(e=t.stateNode,n=t.memoizedProps,a=null,null!==(r=ua))switch(r.tag){case 27:case 5:a=r.memoizedProps}e[Ie]=t,(e=!!(e.nodeValue===n||null!==a&&!0===a.suppressHydrationWarning||uu(e.nodeValue,n)))||ga(t,!0)}else(e=bu(e).createTextNode(a))[Ie]=t,t.stateNode=e}return po(t),null;case 31:if(n=t.memoizedState,null===e||null!==e.memoizedState){if(a=ya(t),null!==n){if(null===e){if(!a)throw Error(s(318));if(!(e=null!==(e=t.memoizedState)?e.dehydrated:null))throw Error(s(557));e[Ie]=t}else wa(),!(128&t.flags)&&(t.memoizedState=null),t.flags|=4;po(t),e=!1}else n=ja(),null!==e&&null!==e.memoizedState&&(e.memoizedState.hydrationErrors=n),e=!0;if(!e)return 256&t.flags?(Br(t),t):(Br(t),null);if(128&t.flags)throw Error(s(558))}return po(t),null;case 13:if(a=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(r=ya(t),null!==a&&null!==a.dehydrated){if(null===e){if(!r)throw Error(s(318));if(!(r=null!==(r=t.memoizedState)?r.dehydrated:null))throw Error(s(317));r[Ie]=t}else wa(),!(128&t.flags)&&(t.memoizedState=null),t.flags|=4;po(t),r=!1}else r=ja(),null!==e&&null!==e.memoizedState&&(e.memoizedState.hydrationErrors=r),r=!0;if(!r)return 256&t.flags?(Br(t),t):(Br(t),null)}return Br(t),128&t.flags?(t.lanes=n,t):(n=null!==a,e=null!==e&&null!==e.memoizedState,n&&(r=null,null!==(a=t.child).alternate&&null!==a.alternate.memoizedState&&null!==a.alternate.memoizedState.cachePool&&(r=a.alternate.memoizedState.cachePool.pool),i=null,null!==a.memoizedState&&null!==a.memoizedState.cachePool&&(i=a.memoizedState.cachePool.pool),i!==r&&(a.flags|=2048)),n!==e&&n&&(t.child.flags|=8192),ho(t,t.updateQueue),po(t),null);case 4:return q(),null===e&&tu(t.stateNode.containerInfo),po(t),null;case 10:return Pa(t.type),po(t),null;case 19:if(F($r),null===(a=t.memoizedState))return po(t),null;if(r=!!(128&t.flags),null===(i=a.rendering))if(r)mo(a,!1);else{if(0!==Sc||null!==e&&128&e.flags)for(e=t.child;null!==e;){if(null!==(i=Wr(e))){for(t.flags|=128,mo(a,!1),e=i.updateQueue,t.updateQueue=e,ho(t,e),t.subtreeFlags=0,e=n,n=t.child;null!==n;)Hs(n,e),n=n.sibling;return I($r,1&$r.current|2),ma&&ia(t,a.treeForkCount),t.child}e=e.sibling}null!==a.tail&&re()>Oc&&(t.flags|=128,r=!0,mo(a,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=Wr(i))){if(t.flags|=128,r=!0,e=e.updateQueue,t.updateQueue=e,ho(t,e),mo(a,!0),null===a.tail&&"hidden"===a.tailMode&&!i.alternate&&!ma)return po(t),null}else 2*re()-a.renderingStartTime>Oc&&536870912!==n&&(t.flags|=128,r=!0,mo(a,!1),t.lanes=4194304);a.isBackwards?(i.sibling=t.child,t.child=i):(null!==(e=a.last)?e.sibling=i:t.child=i,a.last=i)}return null!==a.tail?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=re(),e.sibling=null,n=$r.current,I($r,r?1&n|2:1&n),ma&&ia(t,a.treeForkCount),e):(po(t),null);case 22:case 23:return Br(t),Mr(),a=null!==t.memoizedState,null!==e?null!==e.memoizedState!==a&&(t.flags|=8192):a&&(t.flags|=8192),a?!!(536870912&n)&&!(128&t.flags)&&(po(t),6&t.subtreeFlags&&(t.flags|=8192)):po(t),null!==(n=t.updateQueue)&&ho(t,n.retryQueue),n=null,null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),a=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(a=t.memoizedState.cachePool.pool),a!==n&&(t.flags|=2048),null!==e&&F(Xa),null;case 24:return n=null,null!==e&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),Pa(Ba),po(t),null;case 25:case 30:return null}throw Error(s(156,t.tag))}function xo(e,t){switch(ca(t),t.tag){case 1:return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Pa(Ba),q(),65536&(e=t.flags)&&!(128&e)?(t.flags=-65537&e|128,t):null;case 26:case 27:case 5:return G(t),null;case 31:if(null!==t.memoizedState){if(Br(t),null===t.alternate)throw Error(s(340));wa()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 13:if(Br(t),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(s(340));wa()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return F($r),null;case 4:return q(),null;case 10:return Pa(t.type),null;case 22:case 23:return Br(t),Mr(),null!==e&&F(Xa),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 24:return Pa(Ba),null;default:return null}}function go(e,t){switch(ca(t),t.tag){case 3:Pa(Ba),q();break;case 26:case 27:case 5:G(t);break;case 4:q();break;case 31:null!==t.memoizedState&&Br(t);break;case 13:Br(t);break;case 19:F($r);break;case 10:Pa(t.type);break;case 22:case 23:Br(t),Mr(),null!==e&&F(Xa);break;case 24:Pa(Ba)}}function bo(e,t){try{var n=t.updateQueue,s=null!==n?n.lastEffect:null;if(null!==s){var a=s.next;n=a;do{if((n.tag&e)===e){s=void 0;var r=n.create,i=n.inst;s=r(),i.destroy=s}n=n.next}while(n!==a)}}catch(l){Sd(t,t.return,l)}}function vo(e,t,n){try{var s=t.updateQueue,a=null!==s?s.lastEffect:null;if(null!==a){var r=a.next;s=r;do{if((s.tag&e)===e){var i=s.inst,l=i.destroy;if(void 0!==l){i.destroy=void 0,a=t;var o=n,c=l;try{c()}catch(d){Sd(a,o,d)}}}s=s.next}while(s!==r)}}catch(d){Sd(t,t.return,d)}}function yo(e){var t=e.updateQueue;if(null!==t){var n=e.stateNode;try{Pr(t,n)}catch(s){Sd(e,e.return,s)}}}function wo(e,t,n){n.props=kl(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(s){Sd(e,t,s)}}function jo(e,t){try{var n=e.ref;if(null!==n){switch(e.tag){case 26:case 27:case 5:var s=e.stateNode;break;default:s=e.stateNode}"function"==typeof n?e.refCleanup=n(s):n.current=s}}catch(a){Sd(e,t,a)}}function No(e,t){var n=e.ref,s=e.refCleanup;if(null!==n)if("function"==typeof s)try{s()}catch(a){Sd(e,t,a)}finally{e.refCleanup=null,null!=(e=e.alternate)&&(e.refCleanup=null)}else if("function"==typeof n)try{n(null)}catch(r){Sd(e,t,r)}else n.current=null}function ko(e){var t=e.type,n=e.memoizedProps,s=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&s.focus();break e;case"img":n.src?s.src=n.src:n.srcSet&&(s.srcset=n.srcSet)}}catch(a){Sd(e,e.return,a)}}function So(e,t,n){try{var a=e.stateNode;!function(e,t,n,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var r=null,i=null,l=null,o=null,c=null,d=null,u=null;for(p in n){var h=n[p];if(n.hasOwnProperty(p)&&null!=h)switch(p){case"checked":case"value":break;case"defaultValue":c=h;default:a.hasOwnProperty(p)||hu(e,t,p,null,a,h)}}for(var m in a){var p=a[m];if(h=n[m],a.hasOwnProperty(m)&&(null!=p||null!=h))switch(m){case"type":i=p;break;case"name":r=p;break;case"checked":d=p;break;case"defaultChecked":u=p;break;case"value":l=p;break;case"defaultValue":o=p;break;case"children":case"dangerouslySetInnerHTML":if(null!=p)throw Error(s(137,t));break;default:p!==h&&hu(e,t,m,p,a,h)}}return void ft(e,l,o,c,d,u,i,r);case"select":for(i in p=l=o=m=null,n)if(c=n[i],n.hasOwnProperty(i)&&null!=c)switch(i){case"value":break;case"multiple":p=c;default:a.hasOwnProperty(i)||hu(e,t,i,null,a,c)}for(r in a)if(i=a[r],c=n[r],a.hasOwnProperty(r)&&(null!=i||null!=c))switch(r){case"value":m=i;break;case"defaultValue":o=i;break;case"multiple":l=i;default:i!==c&&hu(e,t,r,i,a,c)}return t=o,n=l,a=p,void(null!=m?yt(e,!!n,m,!1):!!a!=!!n&&(null!=t?yt(e,!!n,t,!0):yt(e,!!n,n?[]:"",!1)));case"textarea":for(o in p=m=null,n)if(r=n[o],n.hasOwnProperty(o)&&null!=r&&!a.hasOwnProperty(o))switch(o){case"value":case"children":break;default:hu(e,t,o,null,a,r)}for(l in a)if(r=a[l],i=n[l],a.hasOwnProperty(l)&&(null!=r||null!=i))switch(l){case"value":m=r;break;case"defaultValue":p=r;break;case"children":break;case"dangerouslySetInnerHTML":if(null!=r)throw Error(s(91));break;default:r!==i&&hu(e,t,l,r,a,i)}return void wt(e,m,p);case"option":for(var f in n)if(m=n[f],n.hasOwnProperty(f)&&null!=m&&!a.hasOwnProperty(f))if("selected"===f)e.selected=!1;else hu(e,t,f,null,a,m);for(c in a)if(m=a[c],p=n[c],a.hasOwnProperty(c)&&m!==p&&(null!=m||null!=p))if("selected"===c)e.selected=m&&"function"!=typeof m&&"symbol"!=typeof m;else hu(e,t,c,m,a,p);return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var x in n)m=n[x],n.hasOwnProperty(x)&&null!=m&&!a.hasOwnProperty(x)&&hu(e,t,x,null,a,m);for(d in a)if(m=a[d],p=n[d],a.hasOwnProperty(d)&&m!==p&&(null!=m||null!=p))switch(d){case"children":case"dangerouslySetInnerHTML":if(null!=m)throw Error(s(137,t));break;default:hu(e,t,d,m,a,p)}return;default:if(_t(t)){for(var g in n)m=n[g],n.hasOwnProperty(g)&&void 0!==m&&!a.hasOwnProperty(g)&&mu(e,t,g,void 0,a,m);for(u in a)m=a[u],p=n[u],!a.hasOwnProperty(u)||m===p||void 0===m&&void 0===p||mu(e,t,u,m,a,p);return}}for(var b in n)m=n[b],n.hasOwnProperty(b)&&null!=m&&!a.hasOwnProperty(b)&&hu(e,t,b,null,a,m);for(h in a)m=a[h],p=n[h],!a.hasOwnProperty(h)||m===p||null==m&&null==p||hu(e,t,h,m,a,p)}(a,e.type,n,t),a[Le]=t}catch(r){Sd(e,e.return,r)}}function Co(e){return 5===e.tag||3===e.tag||26===e.tag||27===e.tag&&Pu(e.type)||4===e.tag}function _o(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||Co(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(27===e.tag&&Pu(e.type))continue e;if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function Po(e,t,n){var s=e.tag;if(5===s||6===s)e=e.stateNode,t?(9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).insertBefore(e,t):((t=9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).appendChild(e),null!=(n=n._reactRootContainer)||null!==t.onclick||(t.onclick=Et));else if(4!==s&&(27===s&&Pu(e.type)&&(n=e.stateNode,t=null),null!==(e=e.child)))for(Po(e,t,n),e=e.sibling;null!==e;)Po(e,t,n),e=e.sibling}function Do(e,t,n){var s=e.tag;if(5===s||6===s)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==s&&(27===s&&Pu(e.type)&&(n=e.stateNode),null!==(e=e.child)))for(Do(e,t,n),e=e.sibling;null!==e;)Do(e,t,n),e=e.sibling}function To(e){var t=e.stateNode,n=e.memoizedProps;try{for(var s=e.type,a=t.attributes;a.length;)t.removeAttributeNode(a[0]);pu(t,s,n),t[Ie]=e,t[Le]=n}catch(r){Sd(e,e.return,r)}}var Eo=!1,zo=!1,Mo=!1,Ro="function"==typeof WeakSet?WeakSet:Set,Ao=null;function Oo(e,t,n){var s=n.flags;switch(n.tag){case 0:case 11:case 15:Qo(e,n),4&s&&bo(5,n);break;case 1:if(Qo(e,n),4&s)if(e=n.stateNode,null===t)try{e.componentDidMount()}catch(i){Sd(n,n.return,i)}else{var a=kl(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(a,t,e.__reactInternalSnapshotBeforeUpdate)}catch(l){Sd(n,n.return,l)}}64&s&&yo(n),512&s&&jo(n,n.return);break;case 3:if(Qo(e,n),64&s&&null!==(e=n.updateQueue)){if(t=null,null!==n.child)switch(n.child.tag){case 27:case 5:case 1:t=n.child.stateNode}try{Pr(e,t)}catch(i){Sd(n,n.return,i)}}break;case 27:null===t&&4&s&&To(n);case 26:case 5:Qo(e,n),null===t&&4&s&&ko(n),512&s&&jo(n,n.return);break;case 12:Qo(e,n);break;case 31:Qo(e,n),4&s&&Wo(e,n);break;case 13:Qo(e,n),4&s&&Ho(e,n),64&s&&(null!==(e=n.memoizedState)&&(null!==(e=e.dehydrated)&&function(e,t){var n=e.ownerDocument;if("$~"===e.data)e._reactRetry=t;else if("$?"!==e.data||"loading"!==n.readyState)t();else{var s=function(){t(),n.removeEventListener("DOMContentLoaded",s)};n.addEventListener("DOMContentLoaded",s),e._reactRetry=s}}(e,n=Dd.bind(null,n))));break;case 22:if(!(s=null!==n.memoizedState||Eo)){t=null!==t&&null!==t.memoizedState||zo,a=Eo;var r=zo;Eo=s,(zo=t)&&!r?Jo(e,n,!!(8772&n.subtreeFlags)):Qo(e,n),Eo=a,zo=r}break;case 30:break;default:Qo(e,n)}}function Fo(e){var t=e.alternate;null!==t&&(e.alternate=null,Fo(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&qe(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Io=null,Lo=!1;function Bo(e,t,n){for(n=n.child;null!==n;)$o(e,t,n),n=n.sibling}function $o(e,t,n){if(fe&&"function"==typeof fe.onCommitFiberUnmount)try{fe.onCommitFiberUnmount(pe,n)}catch(r){}switch(n.tag){case 26:zo||No(n,t),Bo(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode).parentNode.removeChild(n);break;case 27:zo||No(n,t);var s=Io,a=Lo;Pu(n.type)&&(Io=n.stateNode,Lo=!1),Bo(e,t,n),Bu(n.stateNode),Io=s,Lo=a;break;case 5:zo||No(n,t);case 6:if(s=Io,a=Lo,Io=null,Bo(e,t,n),Lo=a,null!==(Io=s))if(Lo)try{(9===Io.nodeType?Io.body:"HTML"===Io.nodeName?Io.ownerDocument.body:Io).removeChild(n.stateNode)}catch(i){Sd(n,t,i)}else try{Io.removeChild(n.stateNode)}catch(i){Sd(n,t,i)}break;case 18:null!==Io&&(Lo?(Du(9===(e=Io).nodeType?e.body:"HTML"===e.nodeName?e.ownerDocument.body:e,n.stateNode),qh(e)):Du(Io,n.stateNode));break;case 4:s=Io,a=Lo,Io=n.stateNode.containerInfo,Lo=!0,Bo(e,t,n),Io=s,Lo=a;break;case 0:case 11:case 14:case 15:vo(2,n,t),zo||vo(4,n,t),Bo(e,t,n);break;case 1:zo||(No(n,t),"function"==typeof(s=n.stateNode).componentWillUnmount&&wo(n,t,s)),Bo(e,t,n);break;case 21:Bo(e,t,n);break;case 22:zo=(s=zo)||null!==n.memoizedState,Bo(e,t,n),zo=s;break;default:Bo(e,t,n)}}function Wo(e,t){if(null===t.memoizedState&&(null!==(e=t.alternate)&&null!==(e=e.memoizedState))){e=e.dehydrated;try{qh(e)}catch(n){Sd(t,t.return,n)}}}function Ho(e,t){if(null===t.memoizedState&&(null!==(e=t.alternate)&&(null!==(e=e.memoizedState)&&null!==(e=e.dehydrated))))try{qh(e)}catch(n){Sd(t,t.return,n)}}function Uo(e,t){var n=function(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return null===t&&(t=e.stateNode=new Ro),t;case 22:return null===(t=(e=e.stateNode)._retryCache)&&(t=e._retryCache=new Ro),t;default:throw Error(s(435,e.tag))}}(e);t.forEach(function(t){if(!n.has(t)){n.add(t);var s=Td.bind(null,e,t);t.then(s,s)}})}function Vo(e,t){var n=t.deletions;if(null!==n)for(var a=0;a<n.length;a++){var r=n[a],i=e,l=t,o=l;e:for(;null!==o;){switch(o.tag){case 27:if(Pu(o.type)){Io=o.stateNode,Lo=!1;break e}break;case 5:Io=o.stateNode,Lo=!1;break e;case 3:case 4:Io=o.stateNode.containerInfo,Lo=!0;break e}o=o.return}if(null===Io)throw Error(s(160));$o(i,l,r),Io=null,Lo=!1,null!==(i=r.alternate)&&(i.return=null),r.return=null}if(13886&t.subtreeFlags)for(t=t.child;null!==t;)Yo(t,e),t=t.sibling}var qo=null;function Yo(e,t){var n=e.alternate,a=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Vo(t,e),Go(e),4&a&&(vo(3,e,e.return),bo(3,e),vo(5,e,e.return));break;case 1:Vo(t,e),Go(e),512&a&&(zo||null===n||No(n,n.return)),64&a&&Eo&&(null!==(e=e.updateQueue)&&(null!==(a=e.callbacks)&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=null===n?a:n.concat(a))));break;case 26:var r=qo;if(Vo(t,e),Go(e),512&a&&(zo||null===n||No(n,n.return)),4&a){var i=null!==n?n.memoizedState:null;if(a=e.memoizedState,null===n)if(null===a)if(null===e.stateNode){e:{a=e.type,n=e.memoizedProps,r=r.ownerDocument||r;t:switch(a){case"title":(!(i=r.getElementsByTagName("title")[0])||i[Ve]||i[Ie]||"http://www.w3.org/2000/svg"===i.namespaceURI||i.hasAttribute("itemprop"))&&(i=r.createElement(a),r.head.insertBefore(i,r.querySelector("head > title"))),pu(i,a,n),i[Ie]=e,Ke(i),a=i;break e;case"link":var l=ah("link","href",r).get(a+(n.href||""));if(l)for(var o=0;o<l.length;o++)if((i=l[o]).getAttribute("href")===(null==n.href||""===n.href?null:n.href)&&i.getAttribute("rel")===(null==n.rel?null:n.rel)&&i.getAttribute("title")===(null==n.title?null:n.title)&&i.getAttribute("crossorigin")===(null==n.crossOrigin?null:n.crossOrigin)){l.splice(o,1);break t}pu(i=r.createElement(a),a,n),r.head.appendChild(i);break;case"meta":if(l=ah("meta","content",r).get(a+(n.content||"")))for(o=0;o<l.length;o++)if((i=l[o]).getAttribute("content")===(null==n.content?null:""+n.content)&&i.getAttribute("name")===(null==n.name?null:n.name)&&i.getAttribute("property")===(null==n.property?null:n.property)&&i.getAttribute("http-equiv")===(null==n.httpEquiv?null:n.httpEquiv)&&i.getAttribute("charset")===(null==n.charSet?null:n.charSet)){l.splice(o,1);break t}pu(i=r.createElement(a),a,n),r.head.appendChild(i);break;default:throw Error(s(468,a))}i[Ie]=e,Ke(i),a=i}e.stateNode=a}else rh(r,e.type,e.stateNode);else e.stateNode=Zu(r,a,e.memoizedProps);else i!==a?(null===i?null!==n.stateNode&&(n=n.stateNode).parentNode.removeChild(n):i.count--,null===a?rh(r,e.type,e.stateNode):Zu(r,a,e.memoizedProps)):null===a&&null!==e.stateNode&&So(e,e.memoizedProps,n.memoizedProps)}break;case 27:Vo(t,e),Go(e),512&a&&(zo||null===n||No(n,n.return)),null!==n&&4&a&&So(e,e.memoizedProps,n.memoizedProps);break;case 5:if(Vo(t,e),Go(e),512&a&&(zo||null===n||No(n,n.return)),32&e.flags){r=e.stateNode;try{Nt(r,"")}catch(f){Sd(e,e.return,f)}}4&a&&null!=e.stateNode&&So(e,r=e.memoizedProps,null!==n?n.memoizedProps:r),1024&a&&(Mo=!0);break;case 6:if(Vo(t,e),Go(e),4&a){if(null===e.stateNode)throw Error(s(162));a=e.memoizedProps,n=e.stateNode;try{n.nodeValue=a}catch(f){Sd(e,e.return,f)}}break;case 3:if(sh=null,r=qo,qo=Hu(t.containerInfo),Vo(t,e),qo=r,Go(e),4&a&&null!==n&&n.memoizedState.isDehydrated)try{qh(t.containerInfo)}catch(f){Sd(e,e.return,f)}Mo&&(Mo=!1,Xo(e));break;case 4:a=qo,qo=Hu(e.stateNode.containerInfo),Vo(t,e),Go(e),qo=a;break;case 12:default:Vo(t,e),Go(e);break;case 31:case 19:Vo(t,e),Go(e),4&a&&(null!==(a=e.updateQueue)&&(e.updateQueue=null,Uo(e,a)));break;case 13:Vo(t,e),Go(e),8192&e.child.flags&&null!==e.memoizedState!=(null!==n&&null!==n.memoizedState)&&(Rc=re()),4&a&&(null!==(a=e.updateQueue)&&(e.updateQueue=null,Uo(e,a)));break;case 22:r=null!==e.memoizedState;var c=null!==n&&null!==n.memoizedState,d=Eo,u=zo;if(Eo=d||r,zo=u||c,Vo(t,e),zo=u,Eo=d,Go(e),8192&a)e:for(t=e.stateNode,t._visibility=r?-2&t._visibility:1|t._visibility,r&&(null===n||c||Eo||zo||Ko(e)),n=null,t=e;;){if(5===t.tag||26===t.tag){if(null===n){c=n=t;try{if(i=c.stateNode,r)"function"==typeof(l=i.style).setProperty?l.setProperty("display","none","important"):l.display="none";else{o=c.stateNode;var h=c.memoizedProps.style,m=null!=h&&h.hasOwnProperty("display")?h.display:null;o.style.display=null==m||"boolean"==typeof m?"":(""+m).trim()}}catch(f){Sd(c,c.return,f)}}}else if(6===t.tag){if(null===n){c=t;try{c.stateNode.nodeValue=r?"":c.memoizedProps}catch(f){Sd(c,c.return,f)}}}else if(18===t.tag){if(null===n){c=t;try{var p=c.stateNode;r?Tu(p,!0):Tu(c.stateNode,!1)}catch(f){Sd(c,c.return,f)}}}else if((22!==t.tag&&23!==t.tag||null===t.memoizedState||t===e)&&null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;null===t.sibling;){if(null===t.return||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}4&a&&(null!==(a=e.updateQueue)&&(null!==(n=a.retryQueue)&&(a.retryQueue=null,Uo(e,n))));case 30:case 21:}}function Go(e){var t=e.flags;if(2&t){try{for(var n,a=e.return;null!==a;){if(Co(a)){n=a;break}a=a.return}if(null==n)throw Error(s(160));switch(n.tag){case 27:var r=n.stateNode;Do(e,_o(e),r);break;case 5:var i=n.stateNode;32&n.flags&&(Nt(i,""),n.flags&=-33),Do(e,_o(e),i);break;case 3:case 4:var l=n.stateNode.containerInfo;Po(e,_o(e),l);break;default:throw Error(s(161))}}catch(o){Sd(e,e.return,o)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function Xo(e){if(1024&e.subtreeFlags)for(e=e.child;null!==e;){var t=e;Xo(t),5===t.tag&&1024&t.flags&&t.stateNode.reset(),e=e.sibling}}function Qo(e,t){if(8772&t.subtreeFlags)for(t=t.child;null!==t;)Oo(e,t.alternate,t),t=t.sibling}function Ko(e){for(e=e.child;null!==e;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:vo(4,t,t.return),Ko(t);break;case 1:No(t,t.return);var n=t.stateNode;"function"==typeof n.componentWillUnmount&&wo(t,t.return,n),Ko(t);break;case 27:Bu(t.stateNode);case 26:case 5:No(t,t.return),Ko(t);break;case 22:null===t.memoizedState&&Ko(t);break;default:Ko(t)}e=e.sibling}}function Jo(e,t,n){for(n=n&&!!(8772&t.subtreeFlags),t=t.child;null!==t;){var s=t.alternate,a=e,r=t,i=r.flags;switch(r.tag){case 0:case 11:case 15:Jo(a,r,n),bo(4,r);break;case 1:if(Jo(a,r,n),"function"==typeof(a=(s=r).stateNode).componentDidMount)try{a.componentDidMount()}catch(c){Sd(s,s.return,c)}if(null!==(a=(s=r).updateQueue)){var l=s.stateNode;try{var o=a.shared.hiddenCallbacks;if(null!==o)for(a.shared.hiddenCallbacks=null,a=0;a<o.length;a++)_r(o[a],l)}catch(c){Sd(s,s.return,c)}}n&&64&i&&yo(r),jo(r,r.return);break;case 27:To(r);case 26:case 5:Jo(a,r,n),n&&null===s&&4&i&&ko(r),jo(r,r.return);break;case 12:Jo(a,r,n);break;case 31:Jo(a,r,n),n&&4&i&&Wo(a,r);break;case 13:Jo(a,r,n),n&&4&i&&Ho(a,r);break;case 22:null===r.memoizedState&&Jo(a,r,n),jo(r,r.return);break;case 30:break;default:Jo(a,r,n)}t=t.sibling}}function Zo(e,t){var n=null;null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),e=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(e=t.memoizedState.cachePool.pool),e!==n&&(null!=e&&e.refCount++,null!=n&&Wa(n))}function ec(e,t){e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Wa(e))}function tc(e,t,n,s){if(10256&t.subtreeFlags)for(t=t.child;null!==t;)nc(e,t,n,s),t=t.sibling}function nc(e,t,n,s){var a=t.flags;switch(t.tag){case 0:case 11:case 15:tc(e,t,n,s),2048&a&&bo(9,t);break;case 1:case 31:case 13:default:tc(e,t,n,s);break;case 3:tc(e,t,n,s),2048&a&&(e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Wa(e)));break;case 12:if(2048&a){tc(e,t,n,s),e=t.stateNode;try{var r=t.memoizedProps,i=r.id,l=r.onPostCommit;"function"==typeof l&&l(i,null===t.alternate?"mount":"update",e.passiveEffectDuration,-0)}catch(o){Sd(t,t.return,o)}}else tc(e,t,n,s);break;case 23:break;case 22:r=t.stateNode,i=t.alternate,null!==t.memoizedState?2&r._visibility?tc(e,t,n,s):ac(e,t):2&r._visibility?tc(e,t,n,s):(r._visibility|=2,sc(e,t,n,s,!!(10256&t.subtreeFlags)||!1)),2048&a&&Zo(i,t);break;case 24:tc(e,t,n,s),2048&a&&ec(t.alternate,t)}}function sc(e,t,n,s,a){for(a=a&&(!!(10256&t.subtreeFlags)||!1),t=t.child;null!==t;){var r=e,i=t,l=n,o=s,c=i.flags;switch(i.tag){case 0:case 11:case 15:sc(r,i,l,o,a),bo(8,i);break;case 23:break;case 22:var d=i.stateNode;null!==i.memoizedState?2&d._visibility?sc(r,i,l,o,a):ac(r,i):(d._visibility|=2,sc(r,i,l,o,a)),a&&2048&c&&Zo(i.alternate,i);break;case 24:sc(r,i,l,o,a),a&&2048&c&&ec(i.alternate,i);break;default:sc(r,i,l,o,a)}t=t.sibling}}function ac(e,t){if(10256&t.subtreeFlags)for(t=t.child;null!==t;){var n=e,s=t,a=s.flags;switch(s.tag){case 22:ac(n,s),2048&a&&Zo(s.alternate,s);break;case 24:ac(n,s),2048&a&&ec(s.alternate,s);break;default:ac(n,s)}t=t.sibling}}var rc=8192;function ic(e,t,n){if(e.subtreeFlags&rc)for(e=e.child;null!==e;)lc(e,t,n),e=e.sibling}function lc(e,t,n){switch(e.tag){case 26:ic(e,t,n),e.flags&rc&&null!==e.memoizedState&&function(e,t,n,s){if(!("stylesheet"!==n.type||"string"==typeof s.media&&!1===matchMedia(s.media).matches||4&n.state.loading)){if(null===n.instance){var a=Gu(s.href),r=t.querySelector(Xu(a));if(r)return null!==(t=r._p)&&"object"==typeof t&&"function"==typeof t.then&&(e.count++,e=oh.bind(e),t.then(e,e)),n.state.loading|=4,n.instance=r,void Ke(r);r=t.ownerDocument||t,s=Qu(s),(a=$u.get(a))&&th(s,a),Ke(r=r.createElement("link"));var i=r;i._p=new Promise(function(e,t){i.onload=e,i.onerror=t}),pu(r,"link",s),n.instance=r}null===e.stylesheets&&(e.stylesheets=new Map),e.stylesheets.set(n,t),(t=n.state.preload)&&!(3&n.state.loading)&&(e.count++,n=oh.bind(e),t.addEventListener("load",n),t.addEventListener("error",n))}}(n,qo,e.memoizedState,e.memoizedProps);break;case 5:default:ic(e,t,n);break;case 3:case 4:var s=qo;qo=Hu(e.stateNode.containerInfo),ic(e,t,n),qo=s;break;case 22:null===e.memoizedState&&(null!==(s=e.alternate)&&null!==s.memoizedState?(s=rc,rc=16777216,ic(e,t,n),rc=s):ic(e,t,n))}}function oc(e){var t=e.alternate;if(null!==t&&null!==(e=t.child)){t.child=null;do{t=e.sibling,e.sibling=null,e=t}while(null!==e)}}function cc(e){var t=e.deletions;if(16&e.flags){if(null!==t)for(var n=0;n<t.length;n++){var s=t[n];Ao=s,hc(s,e)}oc(e)}if(10256&e.subtreeFlags)for(e=e.child;null!==e;)dc(e),e=e.sibling}function dc(e){switch(e.tag){case 0:case 11:case 15:cc(e),2048&e.flags&&vo(9,e,e.return);break;case 3:case 12:default:cc(e);break;case 22:var t=e.stateNode;null!==e.memoizedState&&2&t._visibility&&(null===e.return||13!==e.return.tag)?(t._visibility&=-3,uc(e)):cc(e)}}function uc(e){var t=e.deletions;if(16&e.flags){if(null!==t)for(var n=0;n<t.length;n++){var s=t[n];Ao=s,hc(s,e)}oc(e)}for(e=e.child;null!==e;){switch((t=e).tag){case 0:case 11:case 15:vo(8,t,t.return),uc(t);break;case 22:2&(n=t.stateNode)._visibility&&(n._visibility&=-3,uc(t));break;default:uc(t)}e=e.sibling}}function hc(e,t){for(;null!==Ao;){var n=Ao;switch(n.tag){case 0:case 11:case 15:vo(8,n,t);break;case 23:case 22:if(null!==n.memoizedState&&null!==n.memoizedState.cachePool){var s=n.memoizedState.cachePool.pool;null!=s&&s.refCount++}break;case 24:Wa(n.memoizedState.cache)}if(null!==(s=n.child))s.return=n,Ao=s;else e:for(n=e;null!==Ao;){var a=(s=Ao).sibling,r=s.return;if(Fo(s),s===n){Ao=null;break e}if(null!==a){a.return=r,Ao=a;break e}Ao=r}}}var mc={getCacheForType:function(e){var t=Ra(Ba),n=t.data.get(e);return void 0===n&&(n=e(),t.data.set(e,n)),n},cacheSignal:function(){return Ra(Ba).controller.signal}},pc="function"==typeof WeakMap?WeakMap:Map,fc=0,xc=null,gc=null,bc=0,vc=0,yc=null,wc=!1,jc=!1,Nc=!1,kc=0,Sc=0,Cc=0,_c=0,Pc=0,Dc=0,Tc=0,Ec=null,zc=null,Mc=!1,Rc=0,Ac=0,Oc=1/0,Fc=null,Ic=null,Lc=0,Bc=null,$c=null,Wc=0,Hc=0,Uc=null,Vc=null,qc=0,Yc=null;function Gc(){return 2&fc&&0!==bc?bc&-bc:null!==E.T?Ud():Ae()}function Xc(){if(0===Dc)if(536870912&bc&&!ma)Dc=536870912;else{var e=we;!(3932160&(we<<=1))&&(we=262144),Dc=e}return null!==(e=Rr.current)&&(e.flags|=32),Dc}function Qc(e,t,n){(e!==xc||2!==vc&&9!==vc)&&null===e.cancelPendingCommit||(sd(e,0),ed(e,bc,Dc,!1)),De(e,n),2&fc&&e===xc||(e===xc&&(!(2&fc)&&(_c|=n),4===Sc&&ed(e,bc,Dc,!1)),Fd(e))}function Kc(e,t,n){if(6&fc)throw Error(s(327));for(var a=!n&&!(127&t)&&0===(t&e.expiredLanes)||Se(e,t),r=a?function(e,t){var n=fc;fc|=2;var a=id(),r=ld();xc!==e||bc!==t?(Fc=null,Oc=re()+500,sd(e,t)):jc=Se(e,t);e:for(;;)try{if(0!==vc&&null!==gc){t=gc;var i=yc;t:switch(vc){case 1:vc=0,yc=null,pd(e,t,i,1);break;case 2:case 9:if(sr(i)){vc=0,yc=null,md(t);break}t=function(){2!==vc&&9!==vc||xc!==e||(vc=7),Fd(e)},i.then(t,t);break e;case 3:vc=7;break e;case 4:vc=5;break e;case 7:sr(i)?(vc=0,yc=null,md(t)):(vc=0,yc=null,pd(e,t,i,7));break;case 5:var l=null;switch(gc.tag){case 26:l=gc.memoizedState;case 5:case 27:var o=gc;if(l?ih(l):o.stateNode.complete){vc=0,yc=null;var c=o.sibling;if(null!==c)gc=c;else{var d=o.return;null!==d?(gc=d,fd(d)):gc=null}break t}}vc=0,yc=null,pd(e,t,i,5);break;case 6:vc=0,yc=null,pd(e,t,i,6);break;case 8:nd(),Sc=6;break e;default:throw Error(s(462))}}ud();break}catch(u){ad(e,u)}return Ca=Sa=null,E.H=a,E.A=r,fc=n,null!==gc?0:(xc=null,bc=0,zs(),Sc)}(e,t):cd(e,t,!0),i=a;;){if(0===r){jc&&!a&&ed(e,t,0,!1);break}if(n=e.current.alternate,!i||Zc(n)){if(2===r){if(i=t,e.errorRecoveryDisabledLanes&i)var l=0;else l=0!==(l=-536870913&e.pendingLanes)?l:536870912&l?536870912:0;if(0!==l){t=l;e:{var o=e;r=Ec;var c=o.current.memoizedState.isDehydrated;if(c&&(sd(o,l).flags|=256),2!==(l=cd(o,l,!1))){if(Nc&&!c){o.errorRecoveryDisabledLanes|=i,_c|=i,r=4;break e}i=zc,zc=r,null!==i&&(null===zc?zc=i:zc.push.apply(zc,i))}r=l}if(i=!1,2!==r)continue}}if(1===r){sd(e,0),ed(e,t,0,!0);break}e:{switch(a=e,i=r){case 0:case 1:throw Error(s(345));case 4:if((4194048&t)!==t)break;case 6:ed(a,t,Dc,!wc);break e;case 2:zc=null;break;case 3:case 5:break;default:throw Error(s(329))}if((62914560&t)===t&&10<(r=Rc+300-re())){if(ed(a,t,Dc,!wc),0!==ke(a,0,!0))break e;Wc=t,a.timeoutHandle=Nu(Jc.bind(null,a,n,zc,Fc,Mc,t,Dc,_c,Tc,wc,i,"Throttled",-0,0),r)}else Jc(a,n,zc,Fc,Mc,t,Dc,_c,Tc,wc,i,null,-0,0)}break}r=cd(e,t,!1),i=!1}Fd(e)}function Jc(e,t,n,s,a,r,i,l,o,c,d,u,h,m){if(e.timeoutHandle=-1,8192&(u=t.subtreeFlags)||!(16785408&~u)){lc(t,r,u={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Et});var p=(62914560&r)===r?Rc-re():(4194048&r)===r?Ac-re():0;if(null!==(p=function(e,t){return e.stylesheets&&0===e.count&&dh(e,e.stylesheets),0<e.count||0<e.imgCount?function(n){var s=setTimeout(function(){if(e.stylesheets&&dh(e,e.stylesheets),e.unsuspend){var t=e.unsuspend;e.unsuspend=null,t()}},6e4+t);0<e.imgBytes&&0===lh&&(lh=62500*function(){if("function"==typeof performance.getEntriesByType){for(var e=0,t=0,n=performance.getEntriesByType("resource"),s=0;s<n.length;s++){var a=n[s],r=a.transferSize,i=a.initiatorType,l=a.duration;if(r&&l&&fu(i)){for(i=0,l=a.responseEnd,s+=1;s<n.length;s++){var o=n[s],c=o.startTime;if(c>l)break;var d=o.transferSize,u=o.initiatorType;d&&fu(u)&&(i+=d*((o=o.responseEnd)<l?1:(l-c)/(o-c)))}if(--s,t+=8*(r+i)/(a.duration/1e3),10<++e)break}}if(0<e)return t/e/1e6}return navigator.connection&&"number"==typeof(e=navigator.connection.downlink)?e:5}());var a=setTimeout(function(){if(e.waitingForImages=!1,0===e.count&&(e.stylesheets&&dh(e,e.stylesheets),e.unsuspend)){var t=e.unsuspend;e.unsuspend=null,t()}},(e.imgBytes>lh?50:800)+t);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(s),clearTimeout(a)}}:null}(u,p)))return Wc=r,e.cancelPendingCommit=p(gd.bind(null,e,t,r,n,s,a,i,l,o,d,u,null,h,m)),void ed(e,r,i,!c)}gd(e,t,r,n,s,a,i,l,o)}function Zc(e){for(var t=e;;){var n=t.tag;if((0===n||11===n||15===n)&&16384&t.flags&&(null!==(n=t.updateQueue)&&null!==(n=n.stores)))for(var s=0;s<n.length;s++){var a=n[s],r=a.getSnapshot;a=a.value;try{if(!es(r(),a))return!1}catch(i){return!1}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function ed(e,t,n,s){t&=~Pc,t&=~_c,e.suspendedLanes|=t,e.pingedLanes&=~t,s&&(e.warmLanes|=t),s=e.expirationTimes;for(var a=t;0<a;){var r=31-ge(a),i=1<<r;s[r]=-1,a&=~i}0!==n&&Te(e,n,t)}function td(){return!!(6&fc)||(Id(0),!1)}function nd(){if(null!==gc){if(0===vc)var e=gc.return;else Ca=Sa=null,oi(e=gc),cr=null,dr=0,e=gc;for(;null!==e;)go(e.alternate,e),e=e.return;gc=null}}function sd(e,t){var n=e.timeoutHandle;-1!==n&&(e.timeoutHandle=-1,ku(n)),null!==(n=e.cancelPendingCommit)&&(e.cancelPendingCommit=null,n()),Wc=0,nd(),xc=e,gc=n=Ws(e.current,null),bc=t,vc=0,yc=null,wc=!1,jc=Se(e,t),Nc=!1,Tc=Dc=Pc=_c=Cc=Sc=0,zc=Ec=null,Mc=!1,8&t&&(t|=32&t);var s=e.entangledLanes;if(0!==s)for(e=e.entanglements,s&=t;0<s;){var a=31-ge(s),r=1<<a;t|=e[a],s&=~r}return kc=t,zs(),n}function ad(e,t){Ur=null,E.H=xl,t===Za||t===tr?(t=lr(),vc=3):t===er?(t=lr(),vc=4):vc=t===Ml?8:null!==t&&"object"==typeof t&&"function"==typeof t.then?6:1,yc=t,null===gc&&(Sc=1,Pl(e,Qs(t,e.current)))}function rd(){var e=Rr.current;return null===e||((4194048&bc)===bc?null===Ar:!!((62914560&bc)===bc||536870912&bc)&&e===Ar)}function id(){var e=E.H;return E.H=xl,null===e?xl:e}function ld(){var e=E.A;return E.A=mc,e}function od(){Sc=4,wc||(4194048&bc)!==bc&&null!==Rr.current||(jc=!0),!(134217727&Cc)&&!(134217727&_c)||null===xc||ed(xc,bc,Dc,!1)}function cd(e,t,n){var s=fc;fc|=2;var a=id(),r=ld();xc===e&&bc===t||(Fc=null,sd(e,t)),t=!1;var i=Sc;e:for(;;)try{if(0!==vc&&null!==gc){var l=gc,o=yc;switch(vc){case 8:nd(),i=6;break e;case 3:case 2:case 9:case 6:null===Rr.current&&(t=!0);var c=vc;if(vc=0,yc=null,pd(e,l,o,c),n&&jc){i=0;break e}break;default:c=vc,vc=0,yc=null,pd(e,l,o,c)}}dd(),i=Sc;break}catch(d){ad(e,d)}return t&&e.shellSuspendCounter++,Ca=Sa=null,fc=s,E.H=a,E.A=r,null===gc&&(xc=null,bc=0,zs()),i}function dd(){for(;null!==gc;)hd(gc)}function ud(){for(;null!==gc&&!se();)hd(gc)}function hd(e){var t=lo(e.alternate,e,kc);e.memoizedProps=e.pendingProps,null===t?fd(e):gc=t}function md(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=ql(n,t,t.pendingProps,t.type,void 0,bc);break;case 11:t=ql(n,t,t.pendingProps,t.type.render,t.ref,bc);break;case 5:oi(t);default:go(n,t),t=lo(n,t=gc=Hs(t,kc),kc)}e.memoizedProps=e.pendingProps,null===t?fd(e):gc=t}function pd(e,t,n,a){Ca=Sa=null,oi(t),cr=null,dr=0;var r=t.return;try{if(function(e,t,n,a,r){if(n.flags|=32768,null!==a&&"object"==typeof a&&"function"==typeof a.then){if(null!==(t=n.alternate)&&Ea(t,n,r,!0),null!==(n=Rr.current)){switch(n.tag){case 31:case 13:return null===Ar?od():null===n.alternate&&0===Sc&&(Sc=3),n.flags&=-257,n.flags|=65536,n.lanes=r,a===nr?n.flags|=16384:(null===(t=n.updateQueue)?n.updateQueue=new Set([a]):t.add(a),Cd(e,a,r)),!1;case 22:return n.flags|=65536,a===nr?n.flags|=16384:(null===(t=n.updateQueue)?(t={transitions:null,markerInstances:null,retryQueue:new Set([a])},n.updateQueue=t):null===(n=t.retryQueue)?t.retryQueue=new Set([a]):n.add(a),Cd(e,a,r)),!1}throw Error(s(435,n.tag))}return Cd(e,a,r),od(),!1}if(ma)return null!==(t=Rr.current)?(!(65536&t.flags)&&(t.flags|=256),t.flags|=65536,t.lanes=r,a!==xa&&Na(Qs(e=Error(s(422),{cause:a}),n))):(a!==xa&&Na(Qs(t=Error(s(423),{cause:a}),n)),(e=e.current.alternate).flags|=65536,r&=-r,e.lanes|=r,a=Qs(a,n),Nr(e,r=Tl(e.stateNode,a,r)),4!==Sc&&(Sc=2)),!1;var i=Error(s(520),{cause:a});if(i=Qs(i,n),null===Ec?Ec=[i]:Ec.push(i),4!==Sc&&(Sc=2),null===t)return!0;a=Qs(a,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=r&-r,n.lanes|=e,Nr(n,e=Tl(n.stateNode,a,e)),!1;case 1:if(t=n.type,i=n.stateNode,!(128&n.flags||"function"!=typeof t.getDerivedStateFromError&&(null===i||"function"!=typeof i.componentDidCatch||null!==Ic&&Ic.has(i))))return n.flags|=65536,r&=-r,n.lanes|=r,zl(r=El(r),e,n,a),Nr(n,r),!1}n=n.return}while(null!==n);return!1}(e,r,t,n,bc))return Sc=1,Pl(e,Qs(n,e.current)),void(gc=null)}catch(i){if(null!==r)throw gc=r,i;return Sc=1,Pl(e,Qs(n,e.current)),void(gc=null)}32768&t.flags?(ma||1===a?e=!0:jc||536870912&bc?e=!1:(wc=e=!0,(2===a||9===a||3===a||6===a)&&(null!==(a=Rr.current)&&13===a.tag&&(a.flags|=16384))),xd(t,e)):fd(t)}function fd(e){var t=e;do{if(32768&t.flags)return void xd(t,wc);e=t.return;var n=fo(t.alternate,t,kc);if(null!==n)return void(gc=n);if(null!==(t=t.sibling))return void(gc=t);gc=t=e}while(null!==t);0===Sc&&(Sc=5)}function xd(e,t){do{var n=xo(e.alternate,e);if(null!==n)return n.flags&=32767,void(gc=n);if(null!==(n=e.return)&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&null!==(e=e.sibling))return void(gc=e);gc=e=n}while(null!==e);Sc=6,gc=null}function gd(e,t,n,a,r,i,l,o,c){e.cancelPendingCommit=null;do{jd()}while(0!==Lc);if(6&fc)throw Error(s(327));if(null!==t){if(t===e.current)throw Error(s(177));if(i=t.lanes|t.childLanes,function(e,t,n,s,a,r){var i=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var l=e.entanglements,o=e.expirationTimes,c=e.hiddenUpdates;for(n=i&~n;0<n;){var d=31-ge(n),u=1<<d;l[d]=0,o[d]=-1;var h=c[d];if(null!==h)for(c[d]=null,d=0;d<h.length;d++){var m=h[d];null!==m&&(m.lane&=-536870913)}n&=~u}0!==s&&Te(e,s,0),0!==r&&0===a&&0!==e.tag&&(e.suspendedLanes|=r&~(i&~t))}(e,n,i|=Es,l,o,c),e===xc&&(gc=xc=null,bc=0),$c=t,Bc=e,Wc=n,Hc=i,Uc=r,Vc=a,10256&t.subtreeFlags||10256&t.flags?(e.callbackNode=null,e.callbackPriority=0,te(ce,function(){return Nd(),null})):(e.callbackNode=null,e.callbackPriority=0),a=!!(13878&t.flags),13878&t.subtreeFlags||a){a=E.T,E.T=null,r=z.p,z.p=2,l=fc,fc|=4;try{!function(e,t){if(e=e.containerInfo,xu=wh,is(e=rs(e))){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var a=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(a&&0!==a.rangeCount){n=a.anchorNode;var r=a.anchorOffset,i=a.focusNode;a=a.focusOffset;try{n.nodeType,i.nodeType}catch(x){n=null;break e}var l=0,o=-1,c=-1,d=0,u=0,h=e,m=null;t:for(;;){for(var p;h!==n||0!==r&&3!==h.nodeType||(o=l+r),h!==i||0!==a&&3!==h.nodeType||(c=l+a),3===h.nodeType&&(l+=h.nodeValue.length),null!==(p=h.firstChild);)m=h,h=p;for(;;){if(h===e)break t;if(m===n&&++d===r&&(o=l),m===i&&++u===a&&(c=l),null!==(p=h.nextSibling))break;m=(h=m).parentNode}h=p}n=-1===o||-1===c?null:{start:o,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(gu={focusedElem:e,selectionRange:n},wh=!1,Ao=t;null!==Ao;)if(e=(t=Ao).child,1028&t.subtreeFlags&&null!==e)e.return=t,Ao=e;else for(;null!==Ao;){switch(i=(t=Ao).alternate,e=t.flags,t.tag){case 0:if(4&e&&null!==(e=null!==(e=t.updateQueue)?e.events:null))for(n=0;n<e.length;n++)(r=e[n]).ref.impl=r.nextImpl;break;case 11:case 15:case 5:case 26:case 27:case 6:case 4:case 17:break;case 1:if(1024&e&&null!==i){e=void 0,n=t,r=i.memoizedProps,i=i.memoizedState,a=n.stateNode;try{var f=kl(n.type,r);e=a.getSnapshotBeforeUpdate(f,i),a.__reactInternalSnapshotBeforeUpdate=e}catch(g){Sd(n,n.return,g)}}break;case 3:if(1024&e)if(9===(n=(e=t.stateNode.containerInfo).nodeType))Eu(e);else if(1===n)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Eu(e);break;default:e.textContent=""}break;default:if(1024&e)throw Error(s(163))}if(null!==(e=t.sibling)){e.return=t.return,Ao=e;break}Ao=t.return}}(e,t)}finally{fc=l,z.p=r,E.T=a}}Lc=1,bd(),vd(),yd()}}function bd(){if(1===Lc){Lc=0;var e=Bc,t=$c,n=!!(13878&t.flags);if(13878&t.subtreeFlags||n){n=E.T,E.T=null;var s=z.p;z.p=2;var a=fc;fc|=4;try{Yo(t,e);var r=gu,i=rs(e.containerInfo),l=r.focusedElem,o=r.selectionRange;if(i!==l&&l&&l.ownerDocument&&as(l.ownerDocument.documentElement,l)){if(null!==o&&is(l)){var c=o.start,d=o.end;if(void 0===d&&(d=c),"selectionStart"in l)l.selectionStart=c,l.selectionEnd=Math.min(d,l.value.length);else{var u=l.ownerDocument||document,h=u&&u.defaultView||window;if(h.getSelection){var m=h.getSelection(),p=l.textContent.length,f=Math.min(o.start,p),x=void 0===o.end?f:Math.min(o.end,p);!m.extend&&f>x&&(i=x,x=f,f=i);var g=ss(l,f),b=ss(l,x);if(g&&b&&(1!==m.rangeCount||m.anchorNode!==g.node||m.anchorOffset!==g.offset||m.focusNode!==b.node||m.focusOffset!==b.offset)){var v=u.createRange();v.setStart(g.node,g.offset),m.removeAllRanges(),f>x?(m.addRange(v),m.extend(b.node,b.offset)):(v.setEnd(b.node,b.offset),m.addRange(v))}}}}for(u=[],m=l;m=m.parentNode;)1===m.nodeType&&u.push({element:m,left:m.scrollLeft,top:m.scrollTop});for("function"==typeof l.focus&&l.focus(),l=0;l<u.length;l++){var y=u[l];y.element.scrollLeft=y.left,y.element.scrollTop=y.top}}wh=!!xu,gu=xu=null}finally{fc=a,z.p=s,E.T=n}}e.current=t,Lc=2}}function vd(){if(2===Lc){Lc=0;var e=Bc,t=$c,n=!!(8772&t.flags);if(8772&t.subtreeFlags||n){n=E.T,E.T=null;var s=z.p;z.p=2;var a=fc;fc|=4;try{Oo(e,t.alternate,t)}finally{fc=a,z.p=s,E.T=n}}Lc=3}}function yd(){if(4===Lc||3===Lc){Lc=0,ae();var e=Bc,t=$c,n=Wc,s=Vc;10256&t.subtreeFlags||10256&t.flags?Lc=5:(Lc=0,$c=Bc=null,wd(e,e.pendingLanes));var a=e.pendingLanes;if(0===a&&(Ic=null),Re(n),t=t.stateNode,fe&&"function"==typeof fe.onCommitFiberRoot)try{fe.onCommitFiberRoot(pe,t,void 0,!(128&~t.current.flags))}catch(o){}if(null!==s){t=E.T,a=z.p,z.p=2,E.T=null;try{for(var r=e.onRecoverableError,i=0;i<s.length;i++){var l=s[i];r(l.value,{componentStack:l.stack})}}finally{E.T=t,z.p=a}}3&Wc&&jd(),Fd(e),a=e.pendingLanes,261930&n&&42&a?e===Yc?qc++:(qc=0,Yc=e):qc=0,Id(0)}}function wd(e,t){0===(e.pooledCacheLanes&=t)&&(null!=(t=e.pooledCache)&&(e.pooledCache=null,Wa(t)))}function jd(){return bd(),vd(),yd(),Nd()}function Nd(){if(5!==Lc)return!1;var e=Bc,t=Hc;Hc=0;var n=Re(Wc),a=E.T,r=z.p;try{z.p=32>n?32:n,E.T=null,n=Uc,Uc=null;var i=Bc,l=Wc;if(Lc=0,$c=Bc=null,Wc=0,6&fc)throw Error(s(331));var o=fc;if(fc|=4,dc(i.current),nc(i,i.current,l,n),fc=o,Id(0,!1),fe&&"function"==typeof fe.onPostCommitFiberRoot)try{fe.onPostCommitFiberRoot(pe,i)}catch(c){}return!0}finally{z.p=r,E.T=a,wd(e,t)}}function kd(e,t,n){t=Qs(n,t),null!==(e=wr(e,t=Tl(e.stateNode,t,2),2))&&(De(e,2),Fd(e))}function Sd(e,t,n){if(3===e.tag)kd(e,e,n);else for(;null!==t;){if(3===t.tag){kd(t,e,n);break}if(1===t.tag){var s=t.stateNode;if("function"==typeof t.type.getDerivedStateFromError||"function"==typeof s.componentDidCatch&&(null===Ic||!Ic.has(s))){e=Qs(n,e),null!==(s=wr(t,n=El(2),2))&&(zl(n,s,t,e),De(s,2),Fd(s));break}}t=t.return}}function Cd(e,t,n){var s=e.pingCache;if(null===s){s=e.pingCache=new pc;var a=new Set;s.set(t,a)}else void 0===(a=s.get(t))&&(a=new Set,s.set(t,a));a.has(n)||(Nc=!0,a.add(n),e=_d.bind(null,e,t,n),t.then(e,e))}function _d(e,t,n){var s=e.pingCache;null!==s&&s.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,xc===e&&(bc&n)===n&&(4===Sc||3===Sc&&(62914560&bc)===bc&&300>re()-Rc?!(2&fc)&&sd(e,0):Pc|=n,Tc===bc&&(Tc=0)),Fd(e)}function Pd(e,t){0===t&&(t=_e()),null!==(e=As(e,t))&&(De(e,t),Fd(e))}function Dd(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Pd(e,n)}function Td(e,t){var n=0;switch(e.tag){case 31:case 13:var a=e.stateNode,r=e.memoizedState;null!==r&&(n=r.retryLane);break;case 19:a=e.stateNode;break;case 22:a=e.stateNode._retryCache;break;default:throw Error(s(314))}null!==a&&a.delete(t),Pd(e,n)}var Ed=null,zd=null,Md=!1,Rd=!1,Ad=!1,Od=0;function Fd(e){e!==zd&&null===e.next&&(null===zd?Ed=zd=e:zd=zd.next=e),Rd=!0,Md||(Md=!0,Cu(function(){6&fc?te(le,Ld):Bd()}))}function Id(e,t){if(!Ad&&Rd){Ad=!0;do{for(var n=!1,s=Ed;null!==s;){if(0!==e){var a=s.pendingLanes;if(0===a)var r=0;else{var i=s.suspendedLanes,l=s.pingedLanes;r=(1<<31-ge(42|e)+1)-1,r=201326741&(r&=a&~(i&~l))?201326741&r|1:r?2|r:0}0!==r&&(n=!0,Hd(s,r))}else r=bc,!(3&(r=ke(s,s===xc?r:0,null!==s.cancelPendingCommit||-1!==s.timeoutHandle)))||Se(s,r)||(n=!0,Hd(s,r));s=s.next}}while(n);Ad=!1}}function Ld(){Bd()}function Bd(){Rd=Md=!1;var e=0;0!==Od&&function(){var e=window.event;if(e&&"popstate"===e.type)return e!==ju&&(ju=e,!0);return ju=null,!1}()&&(e=Od);for(var t=re(),n=null,s=Ed;null!==s;){var a=s.next,r=$d(s,t);0===r?(s.next=null,null===n?Ed=a:n.next=a,null===a&&(zd=n)):(n=s,(0!==e||3&r)&&(Rd=!0)),s=a}0!==Lc&&5!==Lc||Id(e),0!==Od&&(Od=0)}function $d(e,t){for(var n=e.suspendedLanes,s=e.pingedLanes,a=e.expirationTimes,r=-62914561&e.pendingLanes;0<r;){var i=31-ge(r),l=1<<i,o=a[i];-1===o?0!==(l&n)&&0===(l&s)||(a[i]=Ce(l,t)):o<=t&&(e.expiredLanes|=l),r&=~l}if(n=bc,n=ke(e,e===(t=xc)?n:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle),s=e.callbackNode,0===n||e===t&&(2===vc||9===vc)||null!==e.cancelPendingCommit)return null!==s&&null!==s&&ne(s),e.callbackNode=null,e.callbackPriority=0;if(!(3&n)||Se(e,n)){if((t=n&-n)===e.callbackPriority)return t;switch(null!==s&&ne(s),Re(n)){case 2:case 8:n=oe;break;case 32:default:n=ce;break;case 268435456:n=ue}return s=Wd.bind(null,e),n=te(n,s),e.callbackPriority=t,e.callbackNode=n,t}return null!==s&&null!==s&&ne(s),e.callbackPriority=2,e.callbackNode=null,2}function Wd(e,t){if(0!==Lc&&5!==Lc)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(jd()&&e.callbackNode!==n)return null;var s=bc;return 0===(s=ke(e,e===xc?s:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle))?null:(Kc(e,s,t),$d(e,re()),null!=e.callbackNode&&e.callbackNode===n?Wd.bind(null,e):null)}function Hd(e,t){if(jd())return null;Kc(e,t,!0)}function Ud(){if(0===Od){var e=Va;0===e&&(e=ye,!(261888&(ye<<=1))&&(ye=256)),Od=e}return Od}function Vd(e){return null==e||"symbol"==typeof e||"boolean"==typeof e?null:"function"==typeof e?e:Tt(""+e)}function qd(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}for(var Yd=0;Yd<Cs.length;Yd++){var Gd=Cs[Yd];_s(Gd.toLowerCase(),"on"+(Gd[0].toUpperCase()+Gd.slice(1)))}_s(bs,"onAnimationEnd"),_s(vs,"onAnimationIteration"),_s(ys,"onAnimationStart"),_s("dblclick","onDoubleClick"),_s("focusin","onFocus"),_s("focusout","onBlur"),_s(ws,"onTransitionRun"),_s(js,"onTransitionStart"),_s(Ns,"onTransitionCancel"),_s(ks,"onTransitionEnd"),tt("onMouseEnter",["mouseout","mouseover"]),tt("onMouseLeave",["mouseout","mouseover"]),tt("onPointerEnter",["pointerout","pointerover"]),tt("onPointerLeave",["pointerout","pointerover"]),et("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),et("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),et("onBeforeInput",["compositionend","keypress","textInput","paste"]),et("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),et("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),et("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Xd="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Qd=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Xd));function Kd(e,t){t=!!(4&t);for(var n=0;n<e.length;n++){var s=e[n],a=s.event;s=s.listeners;e:{var r=void 0;if(t)for(var i=s.length-1;0<=i;i--){var l=s[i],o=l.instance,c=l.currentTarget;if(l=l.listener,o!==r&&a.isPropagationStopped())break e;r=l,a.currentTarget=c;try{r(a)}catch(d){Ps(d)}a.currentTarget=null,r=o}else for(i=0;i<s.length;i++){if(o=(l=s[i]).instance,c=l.currentTarget,l=l.listener,o!==r&&a.isPropagationStopped())break e;r=l,a.currentTarget=c;try{r(a)}catch(d){Ps(d)}a.currentTarget=null,r=o}}}}function Jd(e,t){var n=t[$e];void 0===n&&(n=t[$e]=new Set);var s=e+"__bubble";n.has(s)||(nu(t,e,2,!1),n.add(s))}function Zd(e,t,n){var s=0;t&&(s|=4),nu(n,e,s,t)}var eu="_reactListening"+Math.random().toString(36).slice(2);function tu(e){if(!e[eu]){e[eu]=!0,Je.forEach(function(t){"selectionchange"!==t&&(Qd.has(t)||Zd(t,!1,e),Zd(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[eu]||(t[eu]=!0,Zd("selectionchange",!1,t))}}function nu(e,t,n,s){switch(Ph(t)){case 2:var a=jh;break;case 8:a=Nh;break;default:a=kh}n=a.bind(null,t,n,e),a=void 0,!$t||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(a=!0),s?void 0!==a?e.addEventListener(t,n,{capture:!0,passive:a}):e.addEventListener(t,n,!0):void 0!==a?e.addEventListener(t,n,{passive:a}):e.addEventListener(t,n,!1)}function su(e,t,n,s,a){var i=s;if(!(1&t||2&t||null===s))e:for(;;){if(null===s)return;var l=s.tag;if(3===l||4===l){var o=s.stateNode.containerInfo;if(o===a)break;if(4===l)for(l=s.return;null!==l;){var c=l.tag;if((3===c||4===c)&&l.stateNode.containerInfo===a)return;l=l.return}for(;null!==o;){if(null===(l=Ye(o)))return;if(5===(c=l.tag)||6===c||26===c||27===c){s=i=l;continue e}o=o.parentNode}}s=s.return}It(function(){var s=i,a=Mt(n),l=[];e:{var o=Ss.get(e);if(void 0!==o){var c=an,d=e;switch(e){case"keypress":if(0===Qt(n))break e;case"keydown":case"keyup":c=yn;break;case"focusin":d="focus",c=un;break;case"focusout":d="blur",c=un;break;case"beforeblur":case"afterblur":c=un;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":c=cn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":c=dn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":c=jn;break;case bs:case vs:case ys:c=hn;break;case ks:c=Nn;break;case"scroll":case"scrollend":c=ln;break;case"wheel":c=kn;break;case"copy":case"cut":case"paste":c=mn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":c=wn;break;case"toggle":case"beforetoggle":c=Sn}var u=!!(4&t),h=!u&&("scroll"===e||"scrollend"===e),m=u?null!==o?o+"Capture":null:o;u=[];for(var p,f=s;null!==f;){var x=f;if(p=x.stateNode,5!==(x=x.tag)&&26!==x&&27!==x||null===p||null===m||null!=(x=Lt(f,m))&&u.push(au(f,x,p)),h)break;f=f.return}0<u.length&&(o=new c(o,d,null,n,a),l.push({event:o,listeners:u}))}}if(!(7&t)){if(c="mouseout"===e||"pointerout"===e,(!(o="mouseover"===e||"pointerover"===e)||n===zt||!(d=n.relatedTarget||n.fromElement)||!Ye(d)&&!d[Be])&&(c||o)&&(o=a.window===a?a:(o=a.ownerDocument)?o.defaultView||o.parentWindow:window,c?(c=s,null!==(d=(d=n.relatedTarget||n.toElement)?Ye(d):null)&&(h=r(d),u=d.tag,d!==h||5!==u&&27!==u&&6!==u)&&(d=null)):(c=null,d=s),c!==d)){if(u=cn,x="onMouseLeave",m="onMouseEnter",f="mouse","pointerout"!==e&&"pointerover"!==e||(u=wn,x="onPointerLeave",m="onPointerEnter",f="pointer"),h=null==c?o:Xe(c),p=null==d?o:Xe(d),(o=new u(x,f+"leave",c,n,a)).target=h,o.relatedTarget=p,x=null,Ye(a)===s&&((u=new u(m,f+"enter",d,n,a)).target=p,u.relatedTarget=h,x=u),h=x,c&&d)e:{for(u=iu,f=d,p=0,x=m=c;x;x=u(x))p++;x=0;for(var g=f;g;g=u(g))x++;for(;0<p-x;)m=u(m),p--;for(;0<x-p;)f=u(f),x--;for(;p--;){if(m===f||null!==f&&m===f.alternate){u=m;break e}m=u(m),f=u(f)}u=null}else u=null;null!==c&&lu(l,o,c,u,!1),null!==d&&null!==h&&lu(l,h,d,u,!0)}if("select"===(c=(o=s?Xe(s):window).nodeName&&o.nodeName.toLowerCase())||"input"===c&&"file"===o.type)var b=Hn;else if(Fn(o))if(Un)b=Zn;else{b=Kn;var v=Qn}else!(c=o.nodeName)||"input"!==c.toLowerCase()||"checkbox"!==o.type&&"radio"!==o.type?s&&_t(s.elementType)&&(b=Hn):b=Jn;switch(b&&(b=b(e,s))?In(l,b,n,a):(v&&v(e,o,s),"focusout"===e&&s&&"number"===o.type&&null!=s.memoizedProps.value&&vt(o,"number",o.value)),v=s?Xe(s):window,e){case"focusin":(Fn(v)||"true"===v.contentEditable)&&(os=v,cs=s,ds=null);break;case"focusout":ds=cs=os=null;break;case"mousedown":us=!0;break;case"contextmenu":case"mouseup":case"dragend":us=!1,hs(l,n,a);break;case"selectionchange":if(ls)break;case"keydown":case"keyup":hs(l,n,a)}var y;if(_n)e:{switch(e){case"compositionstart":var w="onCompositionStart";break e;case"compositionend":w="onCompositionEnd";break e;case"compositionupdate":w="onCompositionUpdate";break e}w=void 0}else An?Mn(e,n)&&(w="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(w="onCompositionStart");w&&(Tn&&"ko"!==n.locale&&(An||"onCompositionStart"!==w?"onCompositionEnd"===w&&An&&(y=Gt()):(Vt="value"in(Ut=a)?Ut.value:Ut.textContent,An=!0)),0<(v=ru(s,w)).length&&(w=new pn(w,e,null,n,a),l.push({event:w,listeners:v}),y?w.data=y:null!==(y=Rn(n))&&(w.data=y))),(y=Dn?function(e,t){switch(e){case"compositionend":return Rn(t);case"keypress":return 32!==t.which?null:(zn=!0,En);case"textInput":return(e=t.data)===En&&zn?null:e;default:return null}}(e,n):function(e,t){if(An)return"compositionend"===e||!_n&&Mn(e,t)?(e=Gt(),Yt=Vt=Ut=null,An=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Tn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(w=ru(s,"onBeforeInput")).length&&(v=new pn("onBeforeInput","beforeinput",null,n,a),l.push({event:v,listeners:w}),v.data=y)),function(e,t,n,s,a){if("submit"===t&&n&&n.stateNode===a){var r=Vd((a[Le]||null).action),i=s.submitter;i&&null!==(t=(t=i[Le]||null)?Vd(t.formAction):i.getAttribute("formAction"))&&(r=t,i=null);var l=new an("action","action",null,s,a);e.push({event:l,listeners:[{instance:null,listener:function(){if(s.defaultPrevented){if(0!==Od){var e=i?qd(a,i):new FormData(a);nl(n,{pending:!0,data:e,method:a.method,action:r},null,e)}}else"function"==typeof r&&(l.preventDefault(),e=i?qd(a,i):new FormData(a),nl(n,{pending:!0,data:e,method:a.method,action:r},r,e))},currentTarget:a}]})}}(l,e,s,n,a)}Kd(l,t)})}function au(e,t,n){return{instance:e,listener:t,currentTarget:n}}function ru(e,t){for(var n=t+"Capture",s=[];null!==e;){var a=e,r=a.stateNode;if(5!==(a=a.tag)&&26!==a&&27!==a||null===r||(null!=(a=Lt(e,n))&&s.unshift(au(e,a,r)),null!=(a=Lt(e,t))&&s.push(au(e,a,r))),3===e.tag)return s;e=e.return}return[]}function iu(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag&&27!==e.tag);return e||null}function lu(e,t,n,s,a){for(var r=t._reactName,i=[];null!==n&&n!==s;){var l=n,o=l.alternate,c=l.stateNode;if(l=l.tag,null!==o&&o===s)break;5!==l&&26!==l&&27!==l||null===c||(o=c,a?null!=(c=Lt(n,r))&&i.unshift(au(n,c,o)):a||null!=(c=Lt(n,r))&&i.push(au(n,c,o))),n=n.return}0!==i.length&&e.push({event:t,listeners:i})}var ou=/\r\n?/g,cu=/\u0000|\uFFFD/g;function du(e){return("string"==typeof e?e:""+e).replace(ou,"\n").replace(cu,"")}function uu(e,t){return t=du(t),du(e)===t}function hu(e,t,n,a,r,i){switch(n){case"children":"string"==typeof a?"body"===t||"textarea"===t&&""===a||Nt(e,a):("number"==typeof a||"bigint"==typeof a)&&"body"!==t&&Nt(e,""+a);break;case"className":it(e,"class",a);break;case"tabIndex":it(e,"tabindex",a);break;case"dir":case"role":case"viewBox":case"width":case"height":it(e,n,a);break;case"style":Ct(e,a,i);break;case"data":if("object"!==t){it(e,"data",a);break}case"src":case"href":if(""===a&&("a"!==t||"href"!==n)){e.removeAttribute(n);break}if(null==a||"function"==typeof a||"symbol"==typeof a||"boolean"==typeof a){e.removeAttribute(n);break}a=Tt(""+a),e.setAttribute(n,a);break;case"action":case"formAction":if("function"==typeof a){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}if("function"==typeof i&&("formAction"===n?("input"!==t&&hu(e,t,"name",r.name,r,null),hu(e,t,"formEncType",r.formEncType,r,null),hu(e,t,"formMethod",r.formMethod,r,null),hu(e,t,"formTarget",r.formTarget,r,null)):(hu(e,t,"encType",r.encType,r,null),hu(e,t,"method",r.method,r,null),hu(e,t,"target",r.target,r,null))),null==a||"symbol"==typeof a||"boolean"==typeof a){e.removeAttribute(n);break}a=Tt(""+a),e.setAttribute(n,a);break;case"onClick":null!=a&&(e.onclick=Et);break;case"onScroll":null!=a&&Jd("scroll",e);break;case"onScrollEnd":null!=a&&Jd("scrollend",e);break;case"dangerouslySetInnerHTML":if(null!=a){if("object"!=typeof a||!("__html"in a))throw Error(s(61));if(null!=(n=a.__html)){if(null!=r.children)throw Error(s(60));e.innerHTML=n}}break;case"multiple":e.multiple=a&&"function"!=typeof a&&"symbol"!=typeof a;break;case"muted":e.muted=a&&"function"!=typeof a&&"symbol"!=typeof a;break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":case"autoFocus":break;case"xlinkHref":if(null==a||"function"==typeof a||"boolean"==typeof a||"symbol"==typeof a){e.removeAttribute("xlink:href");break}n=Tt(""+a),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":null!=a&&"function"!=typeof a&&"symbol"!=typeof a?e.setAttribute(n,""+a):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":a&&"function"!=typeof a&&"symbol"!=typeof a?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":!0===a?e.setAttribute(n,""):!1!==a&&null!=a&&"function"!=typeof a&&"symbol"!=typeof a?e.setAttribute(n,a):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":null!=a&&"function"!=typeof a&&"symbol"!=typeof a&&!isNaN(a)&&1<=a?e.setAttribute(n,a):e.removeAttribute(n);break;case"rowSpan":case"start":null==a||"function"==typeof a||"symbol"==typeof a||isNaN(a)?e.removeAttribute(n):e.setAttribute(n,a);break;case"popover":Jd("beforetoggle",e),Jd("toggle",e),rt(e,"popover",a);break;case"xlinkActuate":lt(e,"http://www.w3.org/1999/xlink","xlink:actuate",a);break;case"xlinkArcrole":lt(e,"http://www.w3.org/1999/xlink","xlink:arcrole",a);break;case"xlinkRole":lt(e,"http://www.w3.org/1999/xlink","xlink:role",a);break;case"xlinkShow":lt(e,"http://www.w3.org/1999/xlink","xlink:show",a);break;case"xlinkTitle":lt(e,"http://www.w3.org/1999/xlink","xlink:title",a);break;case"xlinkType":lt(e,"http://www.w3.org/1999/xlink","xlink:type",a);break;case"xmlBase":lt(e,"http://www.w3.org/XML/1998/namespace","xml:base",a);break;case"xmlLang":lt(e,"http://www.w3.org/XML/1998/namespace","xml:lang",a);break;case"xmlSpace":lt(e,"http://www.w3.org/XML/1998/namespace","xml:space",a);break;case"is":rt(e,"is",a);break;case"innerText":case"textContent":break;default:(!(2<n.length)||"o"!==n[0]&&"O"!==n[0]||"n"!==n[1]&&"N"!==n[1])&&rt(e,n=Pt.get(n)||n,a)}}function mu(e,t,n,a,r,i){switch(n){case"style":Ct(e,a,i);break;case"dangerouslySetInnerHTML":if(null!=a){if("object"!=typeof a||!("__html"in a))throw Error(s(61));if(null!=(n=a.__html)){if(null!=r.children)throw Error(s(60));e.innerHTML=n}}break;case"children":"string"==typeof a?Nt(e,a):("number"==typeof a||"bigint"==typeof a)&&Nt(e,""+a);break;case"onScroll":null!=a&&Jd("scroll",e);break;case"onScrollEnd":null!=a&&Jd("scrollend",e);break;case"onClick":null!=a&&(e.onclick=Et);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":case"innerText":case"textContent":break;default:Ze.hasOwnProperty(n)||("o"!==n[0]||"n"!==n[1]||(r=n.endsWith("Capture"),t=n.slice(2,r?n.length-7:void 0),"function"==typeof(i=null!=(i=e[Le]||null)?i[n]:null)&&e.removeEventListener(t,i,r),"function"!=typeof a)?n in e?e[n]=a:!0===a?e.setAttribute(n,""):rt(e,n,a):("function"!=typeof i&&null!==i&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,a,r)))}}function pu(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Jd("error",e),Jd("load",e);var a,r=!1,i=!1;for(a in n)if(n.hasOwnProperty(a)){var l=n[a];if(null!=l)switch(a){case"src":r=!0;break;case"srcSet":i=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,t));default:hu(e,t,a,l,n,null)}}return i&&hu(e,t,"srcSet",n.srcSet,n,null),void(r&&hu(e,t,"src",n.src,n,null));case"input":Jd("invalid",e);var o=a=l=i=null,c=null,d=null;for(r in n)if(n.hasOwnProperty(r)){var u=n[r];if(null!=u)switch(r){case"name":i=u;break;case"type":l=u;break;case"checked":c=u;break;case"defaultChecked":d=u;break;case"value":a=u;break;case"defaultValue":o=u;break;case"children":case"dangerouslySetInnerHTML":if(null!=u)throw Error(s(137,t));break;default:hu(e,t,r,u,n,null)}}return void bt(e,a,o,c,d,l,i,!1);case"select":for(i in Jd("invalid",e),r=l=a=null,n)if(n.hasOwnProperty(i)&&null!=(o=n[i]))switch(i){case"value":a=o;break;case"defaultValue":l=o;break;case"multiple":r=o;default:hu(e,t,i,o,n,null)}return t=a,n=l,e.multiple=!!r,void(null!=t?yt(e,!!r,t,!1):null!=n&&yt(e,!!r,n,!0));case"textarea":for(l in Jd("invalid",e),a=i=r=null,n)if(n.hasOwnProperty(l)&&null!=(o=n[l]))switch(l){case"value":r=o;break;case"defaultValue":i=o;break;case"children":a=o;break;case"dangerouslySetInnerHTML":if(null!=o)throw Error(s(91));break;default:hu(e,t,l,o,n,null)}return void jt(e,r,i,a);case"option":for(c in n)if(n.hasOwnProperty(c)&&null!=(r=n[c]))if("selected"===c)e.selected=r&&"function"!=typeof r&&"symbol"!=typeof r;else hu(e,t,c,r,n,null);return;case"dialog":Jd("beforetoggle",e),Jd("toggle",e),Jd("cancel",e),Jd("close",e);break;case"iframe":case"object":Jd("load",e);break;case"video":case"audio":for(r=0;r<Xd.length;r++)Jd(Xd[r],e);break;case"image":Jd("error",e),Jd("load",e);break;case"details":Jd("toggle",e);break;case"embed":case"source":case"link":Jd("error",e),Jd("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(d in n)if(n.hasOwnProperty(d)&&null!=(r=n[d]))switch(d){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,t));default:hu(e,t,d,r,n,null)}return;default:if(_t(t)){for(u in n)n.hasOwnProperty(u)&&(void 0!==(r=n[u])&&mu(e,t,u,r,n,void 0));return}}for(o in n)n.hasOwnProperty(o)&&(null!=(r=n[o])&&hu(e,t,o,r,n,null))}function fu(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}var xu=null,gu=null;function bu(e){return 9===e.nodeType?e:e.ownerDocument}function vu(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function yu(e,t){if(0===e)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return 1===e&&"foreignObject"===t?0:e}function wu(e,t){return"textarea"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"bigint"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ju=null;var Nu="function"==typeof setTimeout?setTimeout:void 0,ku="function"==typeof clearTimeout?clearTimeout:void 0,Su="function"==typeof Promise?Promise:void 0,Cu="function"==typeof queueMicrotask?queueMicrotask:void 0!==Su?function(e){return Su.resolve(null).then(e).catch(_u)}:Nu;function _u(e){setTimeout(function(){throw e})}function Pu(e){return"head"===e}function Du(e,t){var n=t,s=0;do{var a=n.nextSibling;if(e.removeChild(n),a&&8===a.nodeType)if("/$"===(n=a.data)||"/&"===n){if(0===s)return e.removeChild(a),void qh(t);s--}else if("$"===n||"$?"===n||"$~"===n||"$!"===n||"&"===n)s++;else if("html"===n)Bu(e.ownerDocument.documentElement);else if("head"===n){Bu(n=e.ownerDocument.head);for(var r=n.firstChild;r;){var i=r.nextSibling,l=r.nodeName;r[Ve]||"SCRIPT"===l||"STYLE"===l||"LINK"===l&&"stylesheet"===r.rel.toLowerCase()||n.removeChild(r),r=i}}else"body"===n&&Bu(e.ownerDocument.body);n=a}while(n);qh(t)}function Tu(e,t){var n=e;e=0;do{var s=n.nextSibling;if(1===n.nodeType?t?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",""===n.getAttribute("style")&&n.removeAttribute("style")):3===n.nodeType&&(t?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),s&&8===s.nodeType)if("/$"===(n=s.data)){if(0===e)break;e--}else"$"!==n&&"$?"!==n&&"$~"!==n&&"$!"!==n||e++;n=s}while(n)}function Eu(e){var t=e.firstChild;for(t&&10===t.nodeType&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":Eu(n),qe(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if("stylesheet"===n.rel.toLowerCase())continue}e.removeChild(n)}}function zu(e,t){for(;8!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!t)return null;if(null===(e=Au(e.nextSibling)))return null}return e}function Mu(e){return"$?"===e.data||"$~"===e.data}function Ru(e){return"$!"===e.data||"$?"===e.data&&"loading"!==e.ownerDocument.readyState}function Au(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t||"$~"===t||"&"===t||"F!"===t||"F"===t)break;if("/$"===t||"/&"===t)return null}}return e}var Ou=null;function Fu(e){e=e.nextSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n||"/&"===n){if(0===t)return Au(e.nextSibling);t--}else"$"!==n&&"$!"!==n&&"$?"!==n&&"$~"!==n&&"&"!==n||t++}e=e.nextSibling}return null}function Iu(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n||"$~"===n||"&"===n){if(0===t)return e;t--}else"/$"!==n&&"/&"!==n||t++}e=e.previousSibling}return null}function Lu(e,t,n){switch(t=bu(n),e){case"html":if(!(e=t.documentElement))throw Error(s(452));return e;case"head":if(!(e=t.head))throw Error(s(453));return e;case"body":if(!(e=t.body))throw Error(s(454));return e;default:throw Error(s(451))}}function Bu(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);qe(e)}var $u=new Map,Wu=new Set;function Hu(e){return"function"==typeof e.getRootNode?e.getRootNode():9===e.nodeType?e:e.ownerDocument}var Uu=z.d;z.d={f:function(){var e=Uu.f(),t=td();return e||t},r:function(e){var t=Ge(e);null!==t&&5===t.tag&&"form"===t.type?al(t):Uu.r(e)},D:function(e){Uu.D(e),qu("dns-prefetch",e,null)},C:function(e,t){Uu.C(e,t),qu("preconnect",e,t)},L:function(e,t,n){Uu.L(e,t,n);var s=Vu;if(s&&e&&t){var a='link[rel="preload"][as="'+pt(t)+'"]';"image"===t&&n&&n.imageSrcSet?(a+='[imagesrcset="'+pt(n.imageSrcSet)+'"]',"string"==typeof n.imageSizes&&(a+='[imagesizes="'+pt(n.imageSizes)+'"]')):a+='[href="'+pt(e)+'"]';var r=a;switch(t){case"style":r=Gu(e);break;case"script":r=Ku(e)}$u.has(r)||(e=d({rel:"preload",href:"image"===t&&n&&n.imageSrcSet?void 0:e,as:t},n),$u.set(r,e),null!==s.querySelector(a)||"style"===t&&s.querySelector(Xu(r))||"script"===t&&s.querySelector(Ju(r))||(pu(t=s.createElement("link"),"link",e),Ke(t),s.head.appendChild(t)))}},m:function(e,t){Uu.m(e,t);var n=Vu;if(n&&e){var s=t&&"string"==typeof t.as?t.as:"script",a='link[rel="modulepreload"][as="'+pt(s)+'"][href="'+pt(e)+'"]',r=a;switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":r=Ku(e)}if(!$u.has(r)&&(e=d({rel:"modulepreload",href:e},t),$u.set(r,e),null===n.querySelector(a))){switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Ju(r)))return}pu(s=n.createElement("link"),"link",e),Ke(s),n.head.appendChild(s)}}},X:function(e,t){Uu.X(e,t);var n=Vu;if(n&&e){var s=Qe(n).hoistableScripts,a=Ku(e),r=s.get(a);r||((r=n.querySelector(Ju(a)))||(e=d({src:e,async:!0},t),(t=$u.get(a))&&nh(e,t),Ke(r=n.createElement("script")),pu(r,"link",e),n.head.appendChild(r)),r={type:"script",instance:r,count:1,state:null},s.set(a,r))}},S:function(e,t,n){Uu.S(e,t,n);var s=Vu;if(s&&e){var a=Qe(s).hoistableStyles,r=Gu(e);t=t||"default";var i=a.get(r);if(!i){var l={loading:0,preload:null};if(i=s.querySelector(Xu(r)))l.loading=5;else{e=d({rel:"stylesheet",href:e,"data-precedence":t},n),(n=$u.get(r))&&th(e,n);var o=i=s.createElement("link");Ke(o),pu(o,"link",e),o._p=new Promise(function(e,t){o.onload=e,o.onerror=t}),o.addEventListener("load",function(){l.loading|=1}),o.addEventListener("error",function(){l.loading|=2}),l.loading|=4,eh(i,t,s)}i={type:"stylesheet",instance:i,count:1,state:l},a.set(r,i)}}},M:function(e,t){Uu.M(e,t);var n=Vu;if(n&&e){var s=Qe(n).hoistableScripts,a=Ku(e),r=s.get(a);r||((r=n.querySelector(Ju(a)))||(e=d({src:e,async:!0,type:"module"},t),(t=$u.get(a))&&nh(e,t),Ke(r=n.createElement("script")),pu(r,"link",e),n.head.appendChild(r)),r={type:"script",instance:r,count:1,state:null},s.set(a,r))}}};var Vu="undefined"==typeof document?null:document;function qu(e,t,n){var s=Vu;if(s&&"string"==typeof t&&t){var a=pt(t);a='link[rel="'+e+'"][href="'+a+'"]',"string"==typeof n&&(a+='[crossorigin="'+n+'"]'),Wu.has(a)||(Wu.add(a),e={rel:e,crossOrigin:n,href:t},null===s.querySelector(a)&&(pu(t=s.createElement("link"),"link",e),Ke(t),s.head.appendChild(t)))}}function Yu(e,t,n,a){var r,i,l,o,c=(c=H.current)?Hu(c):null;if(!c)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return"string"==typeof n.precedence&&"string"==typeof n.href?(t=Gu(n.href),(a=(n=Qe(c).hoistableStyles).get(t))||(a={type:"style",instance:null,count:0,state:null},n.set(t,a)),a):{type:"void",instance:null,count:0,state:null};case"link":if("stylesheet"===n.rel&&"string"==typeof n.href&&"string"==typeof n.precedence){e=Gu(n.href);var d=Qe(c).hoistableStyles,u=d.get(e);if(u||(c=c.ownerDocument||c,u={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(e,u),(d=c.querySelector(Xu(e)))&&!d._p&&(u.instance=d,u.state.loading=5),$u.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},$u.set(e,n),d||(r=c,i=e,l=n,o=u.state,r.querySelector('link[rel="preload"][as="style"]['+i+"]")?o.loading=1:(i=r.createElement("link"),o.preload=i,i.addEventListener("load",function(){return o.loading|=1}),i.addEventListener("error",function(){return o.loading|=2}),pu(i,"link",l),Ke(i),r.head.appendChild(i))))),t&&null===a)throw Error(s(528,""));return u}if(t&&null!==a)throw Error(s(529,""));return null;case"script":return t=n.async,"string"==typeof(n=n.src)&&t&&"function"!=typeof t&&"symbol"!=typeof t?(t=Ku(n),(a=(n=Qe(c).hoistableScripts).get(t))||(a={type:"script",instance:null,count:0,state:null},n.set(t,a)),a):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function Gu(e){return'href="'+pt(e)+'"'}function Xu(e){return'link[rel="stylesheet"]['+e+"]"}function Qu(e){return d({},e,{"data-precedence":e.precedence,precedence:null})}function Ku(e){return'[src="'+pt(e)+'"]'}function Ju(e){return"script[async]"+e}function Zu(e,t,n){if(t.count++,null===t.instance)switch(t.type){case"style":var a=e.querySelector('style[data-href~="'+pt(n.href)+'"]');if(a)return t.instance=a,Ke(a),a;var r=d({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return Ke(a=(e.ownerDocument||e).createElement("style")),pu(a,"style",r),eh(a,n.precedence,e),t.instance=a;case"stylesheet":r=Gu(n.href);var i=e.querySelector(Xu(r));if(i)return t.state.loading|=4,t.instance=i,Ke(i),i;a=Qu(n),(r=$u.get(r))&&th(a,r),Ke(i=(e.ownerDocument||e).createElement("link"));var l=i;return l._p=new Promise(function(e,t){l.onload=e,l.onerror=t}),pu(i,"link",a),t.state.loading|=4,eh(i,n.precedence,e),t.instance=i;case"script":return i=Ku(n.src),(r=e.querySelector(Ju(i)))?(t.instance=r,Ke(r),r):(a=n,(r=$u.get(i))&&nh(a=d({},n),r),Ke(r=(e=e.ownerDocument||e).createElement("script")),pu(r,"link",a),e.head.appendChild(r),t.instance=r);case"void":return null;default:throw Error(s(443,t.type))}else"stylesheet"===t.type&&!(4&t.state.loading)&&(a=t.instance,t.state.loading|=4,eh(a,n.precedence,e));return t.instance}function eh(e,t,n){for(var s=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),a=s.length?s[s.length-1]:null,r=a,i=0;i<s.length;i++){var l=s[i];if(l.dataset.precedence===t)r=l;else if(r!==a)break}r?r.parentNode.insertBefore(e,r.nextSibling):(t=9===n.nodeType?n.head:n).insertBefore(e,t.firstChild)}function th(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.title&&(e.title=t.title)}function nh(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.integrity&&(e.integrity=t.integrity)}var sh=null;function ah(e,t,n){if(null===sh){var s=new Map,a=sh=new Map;a.set(n,s)}else(s=(a=sh).get(n))||(s=new Map,a.set(n,s));if(s.has(e))return s;for(s.set(e,null),n=n.getElementsByTagName(e),a=0;a<n.length;a++){var r=n[a];if(!(r[Ve]||r[Ie]||"link"===e&&"stylesheet"===r.getAttribute("rel"))&&"http://www.w3.org/2000/svg"!==r.namespaceURI){var i=r.getAttribute(t)||"";i=e+i;var l=s.get(i);l?l.push(r):s.set(i,[r])}}return s}function rh(e,t,n){(e=e.ownerDocument||e).head.insertBefore(n,"title"===t?e.querySelector("head > title"):null)}function ih(e){return!!("stylesheet"!==e.type||3&e.state.loading)}var lh=0;function oh(){if(this.count--,0===this.count&&(0===this.imgCount||!this.waitingForImages))if(this.stylesheets)dh(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}var ch=null;function dh(e,t){e.stylesheets=null,null!==e.unsuspend&&(e.count++,ch=new Map,t.forEach(uh,e),ch=null,oh.call(e))}function uh(e,t){if(!(4&t.state.loading)){var n=ch.get(e);if(n)var s=n.get(null);else{n=new Map,ch.set(e,n);for(var a=e.querySelectorAll("link[data-precedence],style[data-precedence]"),r=0;r<a.length;r++){var i=a[r];"LINK"!==i.nodeName&&"not all"===i.getAttribute("media")||(n.set(i.dataset.precedence,i),s=i)}s&&n.set(null,s)}i=(a=t.instance).getAttribute("data-precedence"),(r=n.get(i)||s)===s&&n.set(null,a),n.set(i,a),this.count++,s=oh.bind(this),a.addEventListener("load",s),a.addEventListener("error",s),r?r.parentNode.insertBefore(a,r.nextSibling):(e=9===e.nodeType?e.head:e).insertBefore(a,e.firstChild),t.state.loading|=4}}var hh={$$typeof:b,Provider:null,Consumer:null,_currentValue:M,_currentValue2:M,_threadCount:0};function mh(e,t,n,s,a,r,i,l,o){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Pe(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Pe(0),this.hiddenUpdates=Pe(null),this.identifierPrefix=s,this.onUncaughtError=a,this.onCaughtError=r,this.onRecoverableError=i,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=o,this.incompleteTransitions=new Map}function ph(e,t,n,s,a,r,i,l,o,c,d,u){return e=new mh(e,t,n,i,o,c,d,u,l),t=1,!0===r&&(t|=24),r=Bs(3,null,null,t),e.current=r,r.stateNode=e,(t=$a()).refCount++,e.pooledCache=t,t.refCount++,r.memoizedState={element:s,isDehydrated:n,cache:t},br(r),e}function fh(e){return e?e=Is:Is}function xh(e,t,n,s,a,r){a=fh(a),null===s.context?s.context=a:s.pendingContext=a,(s=yr(t)).payload={element:n},null!==(r=void 0===r?null:r)&&(s.callback=r),null!==(n=wr(e,s,t))&&(Qc(n,0,t),jr(n,e,t))}function gh(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function bh(e,t){gh(e,t),(e=e.alternate)&&gh(e,t)}function vh(e){if(13===e.tag||31===e.tag){var t=As(e,67108864);null!==t&&Qc(t,0,67108864),bh(e,67108864)}}function yh(e){if(13===e.tag||31===e.tag){var t=Gc(),n=As(e,t=Me(t));null!==n&&Qc(n,0,t),bh(e,t)}}var wh=!0;function jh(e,t,n,s){var a=E.T;E.T=null;var r=z.p;try{z.p=2,kh(e,t,n,s)}finally{z.p=r,E.T=a}}function Nh(e,t,n,s){var a=E.T;E.T=null;var r=z.p;try{z.p=8,kh(e,t,n,s)}finally{z.p=r,E.T=a}}function kh(e,t,n,s){if(wh){var a=Sh(s);if(null===a)su(e,t,s,Ch,n),Fh(e,s);else if(function(e,t,n,s,a){switch(t){case"focusin":return Th=Ih(Th,e,t,n,s,a),!0;case"dragenter":return Eh=Ih(Eh,e,t,n,s,a),!0;case"mouseover":return zh=Ih(zh,e,t,n,s,a),!0;case"pointerover":var r=a.pointerId;return Mh.set(r,Ih(Mh.get(r)||null,e,t,n,s,a)),!0;case"gotpointercapture":return r=a.pointerId,Rh.set(r,Ih(Rh.get(r)||null,e,t,n,s,a)),!0}return!1}(a,e,t,n,s))s.stopPropagation();else if(Fh(e,s),4&t&&-1<Oh.indexOf(e)){for(;null!==a;){var r=Ge(a);if(null!==r)switch(r.tag){case 3:if((r=r.stateNode).current.memoizedState.isDehydrated){var i=Ne(r.pendingLanes);if(0!==i){var l=r;for(l.pendingLanes|=2,l.entangledLanes|=2;i;){var o=1<<31-ge(i);l.entanglements[1]|=o,i&=~o}Fd(r),!(6&fc)&&(Oc=re()+500,Id(0))}}break;case 31:case 13:null!==(l=As(r,2))&&Qc(l,0,2),td(),bh(r,2)}if(null===(r=Sh(s))&&su(e,t,s,Ch,n),r===a)break;a=r}null!==a&&s.stopPropagation()}else su(e,t,s,null,n)}}function Sh(e){return _h(e=Mt(e))}var Ch=null;function _h(e){if(Ch=null,null!==(e=Ye(e))){var t=r(e);if(null===t)e=null;else{var n=t.tag;if(13===n){if(null!==(e=i(t)))return e;e=null}else if(31===n){if(null!==(e=l(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Ch=e,null}function Ph(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ie()){case le:return 2;case oe:return 8;case ce:case de:return 32;case ue:return 268435456;default:return 32}default:return 32}}var Dh=!1,Th=null,Eh=null,zh=null,Mh=new Map,Rh=new Map,Ah=[],Oh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Fh(e,t){switch(e){case"focusin":case"focusout":Th=null;break;case"dragenter":case"dragleave":Eh=null;break;case"mouseover":case"mouseout":zh=null;break;case"pointerover":case"pointerout":Mh.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Rh.delete(t.pointerId)}}function Ih(e,t,n,s,a,r){return null===e||e.nativeEvent!==r?(e={blockedOn:t,domEventName:n,eventSystemFlags:s,nativeEvent:r,targetContainers:[a]},null!==t&&(null!==(t=Ge(t))&&vh(t)),e):(e.eventSystemFlags|=s,t=e.targetContainers,null!==a&&-1===t.indexOf(a)&&t.push(a),e)}function Lh(e){var t=Ye(e.target);if(null!==t){var n=r(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=i(n)))return e.blockedOn=t,void Oe(e.priority,function(){yh(n)})}else if(31===t){if(null!==(t=l(n)))return e.blockedOn=t,void Oe(e.priority,function(){yh(n)})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Bh(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Sh(e.nativeEvent);if(null!==n)return null!==(t=Ge(n))&&vh(t),e.blockedOn=n,!1;var s=new(n=e.nativeEvent).constructor(n.type,n);zt=s,n.target.dispatchEvent(s),zt=null,t.shift()}return!0}function $h(e,t,n){Bh(e)&&n.delete(t)}function Wh(){Dh=!1,null!==Th&&Bh(Th)&&(Th=null),null!==Eh&&Bh(Eh)&&(Eh=null),null!==zh&&Bh(zh)&&(zh=null),Mh.forEach($h),Rh.forEach($h)}function Hh(t,n){t.blockedOn===n&&(t.blockedOn=null,Dh||(Dh=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Wh)))}var Uh=null;function Vh(t){Uh!==t&&(Uh=t,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){Uh===t&&(Uh=null);for(var e=0;e<t.length;e+=3){var n=t[e],s=t[e+1],a=t[e+2];if("function"!=typeof s){if(null===_h(s||n))continue;break}var r=Ge(n);null!==r&&(t.splice(e,3),e-=3,nl(r,{pending:!0,data:a,method:n.method,action:s},s,a))}}))}function qh(e){function t(t){return Hh(t,e)}null!==Th&&Hh(Th,e),null!==Eh&&Hh(Eh,e),null!==zh&&Hh(zh,e),Mh.forEach(t),Rh.forEach(t);for(var n=0;n<Ah.length;n++){var s=Ah[n];s.blockedOn===e&&(s.blockedOn=null)}for(;0<Ah.length&&null===(n=Ah[0]).blockedOn;)Lh(n),null===n.blockedOn&&Ah.shift();if(null!=(n=(e.ownerDocument||e).$$reactFormReplay))for(s=0;s<n.length;s+=3){var a=n[s],r=n[s+1],i=a[Le]||null;if("function"==typeof r)i||Vh(n);else if(i){var l=null;if(r&&r.hasAttribute("formAction")){if(a=r,i=r[Le]||null)l=i.formAction;else if(null!==_h(a))continue}else l=i.action;"function"==typeof l?n[s+1]=l:(n.splice(s,3),s-=3),Vh(n)}}}function Yh(){function e(e){e.canIntercept&&"react-transition"===e.info&&e.intercept({handler:function(){return new Promise(function(e){return a=e})},focusReset:"manual",scroll:"manual"})}function t(){null!==a&&(a(),a=null),s||setTimeout(n,20)}function n(){if(!s&&!navigation.transition){var e=navigation.currentEntry;e&&null!=e.url&&navigation.navigate(e.url,{state:e.getState(),info:"react-transition",history:"replace"})}}if("object"==typeof navigation){var s=!1,a=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(n,100),function(){s=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),null!==a&&(a(),a=null)}}}function Gh(e){this._internalRoot=e}function Xh(e){this._internalRoot=e}Xh.prototype.render=Gh.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(s(409));xh(t.current,Gc(),e,t,null,null)},Xh.prototype.unmount=Gh.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;xh(e.current,2,null,e,null,null),td(),t[Be]=null}},Xh.prototype.unstable_scheduleHydration=function(e){if(e){var t=Ae();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Ah.length&&0!==t&&t<Ah[n].priority;n++);Ah.splice(n,0,e),0===n&&Lh(e)}};var Qh=t.version;if("19.2.3"!==Qh)throw Error(s(527,Qh,"19.2.3"));z.findDOMNode=function(e){var t=e._reactInternals;if(void 0===t){if("function"==typeof e.render)throw Error(s(188));throw e=Object.keys(e).join(","),Error(s(268,e))}return e=function(e){var t=e.alternate;if(!t){if(null===(t=r(e)))throw Error(s(188));return t!==e?null:e}for(var n=e,a=t;;){var i=n.return;if(null===i)break;var l=i.alternate;if(null===l){if(null!==(a=i.return)){n=a;continue}break}if(i.child===l.child){for(l=i.child;l;){if(l===n)return o(i),e;if(l===a)return o(i),t;l=l.sibling}throw Error(s(188))}if(n.return!==a.return)n=i,a=l;else{for(var c=!1,d=i.child;d;){if(d===n){c=!0,n=i,a=l;break}if(d===a){c=!0,a=i,n=l;break}d=d.sibling}if(!c){for(d=l.child;d;){if(d===n){c=!0,n=l,a=i;break}if(d===a){c=!0,a=l,n=i;break}d=d.sibling}if(!c)throw Error(s(189))}}if(n.alternate!==a)throw Error(s(190))}if(3!==n.tag)throw Error(s(188));return n.stateNode.current===n?e:t}(t),e=null===(e=null!==e?c(e):null)?null:e.stateNode};var Kh={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:E,reconcilerVersion:"19.2.3"};if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var Jh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Jh.isDisabled&&Jh.supportsFiber)try{pe=Jh.inject(Kh),fe=Jh}catch(em){}}return qt.createRoot=function(e,t){if(!a(e))throw Error(s(299));var n=!1,r="",i=Sl,l=Cl,o=_l;return null!=t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onUncaughtError&&(i=t.onUncaughtError),void 0!==t.onCaughtError&&(l=t.onCaughtError),void 0!==t.onRecoverableError&&(o=t.onRecoverableError)),t=ph(e,1,!1,null,0,n,r,null,i,l,o,Yh),e[Be]=t.current,tu(e),new Gh(t)},qt.hydrateRoot=function(e,t,n){if(!a(e))throw Error(s(299));var r=!1,i="",l=Sl,o=Cl,c=_l,d=null;return null!=n&&(!0===n.unstable_strictMode&&(r=!0),void 0!==n.identifierPrefix&&(i=n.identifierPrefix),void 0!==n.onUncaughtError&&(l=n.onUncaughtError),void 0!==n.onCaughtError&&(o=n.onCaughtError),void 0!==n.onRecoverableError&&(c=n.onRecoverableError),void 0!==n.formState&&(d=n.formState)),(t=ph(e,1,!0,t,0,r,i,d,l,o,c,Yh)).context=fh(null),n=t.current,(i=yr(r=Me(r=Gc()))).callback=null,wr(n,i,r),n=r,t.current.lanes=n,De(t,n),Fd(t),e[Be]=t.current,tu(e),new Xh(t)},qt.version="19.2.3",qt}var Kt,Jt,Zt=(Ut||(Ut=1,function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){}}(),Vt.exports=Qt()),Vt.exports);const en=bt(function(){if(Jt)return Kt;Jt=1;var e="undefined"!=typeof Element,t="function"==typeof Map,n="function"==typeof Set,s="function"==typeof ArrayBuffer&&!!ArrayBuffer.isView;function a(r,i){if(r===i)return!0;if(r&&i&&"object"==typeof r&&"object"==typeof i){if(r.constructor!==i.constructor)return!1;var l,o,c,d;if(Array.isArray(r)){if((l=r.length)!=i.length)return!1;for(o=l;0!==o--;)if(!a(r[o],i[o]))return!1;return!0}if(t&&r instanceof Map&&i instanceof Map){if(r.size!==i.size)return!1;for(d=r.entries();!(o=d.next()).done;)if(!i.has(o.value[0]))return!1;for(d=r.entries();!(o=d.next()).done;)if(!a(o.value[1],i.get(o.value[0])))return!1;return!0}if(n&&r instanceof Set&&i instanceof Set){if(r.size!==i.size)return!1;for(d=r.entries();!(o=d.next()).done;)if(!i.has(o.value[0]))return!1;return!0}if(s&&ArrayBuffer.isView(r)&&ArrayBuffer.isView(i)){if((l=r.length)!=i.length)return!1;for(o=l;0!==o--;)if(r[o]!==i[o])return!1;return!0}if(r.constructor===RegExp)return r.source===i.source&&r.flags===i.flags;if(r.valueOf!==Object.prototype.valueOf&&"function"==typeof r.valueOf&&"function"==typeof i.valueOf)return r.valueOf()===i.valueOf();if(r.toString!==Object.prototype.toString&&"function"==typeof r.toString&&"function"==typeof i.toString)return r.toString()===i.toString();if((l=(c=Object.keys(r)).length)!==Object.keys(i).length)return!1;for(o=l;0!==o--;)if(!Object.prototype.hasOwnProperty.call(i,c[o]))return!1;if(e&&r instanceof Element)return!1;for(o=l;0!==o--;)if(("_owner"!==c[o]&&"__v"!==c[o]&&"__o"!==c[o]||!r.$$typeof)&&!a(r[c[o]],i[c[o]]))return!1;return!0}return r!=r&&i!=i}return Kt=function(e,t){try{return a(e,t)}catch(n){if((n.message||"").match(/stack|recursion/i))return!1;throw n}}}());var tn,nn;var sn=nn?tn:(nn=1,tn=function(e,t,n,s,a,r,i,l){if(!e){var o;if(void 0===t)o=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,s,a,r,i,l],d=0;(o=new Error(t.replace(/%s/g,function(){return c[d++]}))).name="Invariant Violation"}throw o.framesToPop=1,o}});const an=bt(sn);var rn,ln;const on=bt(ln?rn:(ln=1,rn=function(e,t,n,s){var a=n?n.call(s,e,t):void 0;if(void 0!==a)return!!a;if(e===t)return!0;if("object"!=typeof e||!e||"object"!=typeof t||!t)return!1;var r=Object.keys(e),i=Object.keys(t);if(r.length!==i.length)return!1;for(var l=Object.prototype.hasOwnProperty.bind(t),o=0;o<r.length;o++){var c=r[o];if(!l(c))return!1;var d=e[c],u=t[c];if(!1===(a=n?n.call(s,d,u,c):void 0)||void 0===a&&d!==u)return!1}return!0}));var cn=(e=>(e.BASE="base",e.BODY="body",e.HEAD="head",e.HTML="html",e.LINK="link",e.META="meta",e.NOSCRIPT="noscript",e.SCRIPT="script",e.STYLE="style",e.TITLE="title",e.FRAGMENT="Symbol(react.fragment)",e))(cn||{}),dn={rel:["amphtml","canonical","alternate"]},un={type:["application/ld+json"]},hn={charset:"",name:["generator","robots","description"],property:["og:type","og:title","og:url","og:image","og:image:alt","og:description","twitter:url","twitter:title","twitter:description","twitter:image","twitter:image:alt","twitter:card","twitter:site"]},mn=Object.values(cn),pn={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},fn=Object.entries(pn).reduce((e,[t,n])=>(e[n]=t,e),{}),xn="data-rh",gn="defaultTitle",bn="defer",vn="encodeSpecialCharacters",yn="onChangeClientState",wn="titleTemplate",jn="prioritizeSeoTags",Nn=(e,t)=>{for(let n=e.length-1;n>=0;n-=1){const s=e[n];if(Object.prototype.hasOwnProperty.call(s,t))return s[t]}return null},kn=e=>{let t=Nn(e,"title");const n=Nn(e,wn);if(Array.isArray(t)&&(t=t.join("")),n&&t)return n.replace(/%s/g,()=>t);const s=Nn(e,gn);return t||s||void 0},Sn=e=>Nn(e,yn)||(()=>{}),Cn=(e,t)=>t.filter(t=>void 0!==t[e]).map(t=>t[e]).reduce((e,t)=>({...e,...t}),{}),_n=(e,t)=>t.filter(e=>void 0!==e.base).map(e=>e.base).reverse().reduce((t,n)=>{if(!t.length){const s=Object.keys(n);for(let a=0;a<s.length;a+=1){const r=s[a].toLowerCase();if(-1!==e.indexOf(r)&&n[r])return t.concat(n)}}return t},[]),Pn=(e,t,n)=>{const s={};return n.filter(t=>!!Array.isArray(t[e])||(void 0!==t[e]&&(t[e],console&&console.warn),!1)).map(t=>t[e]).reverse().reduce((e,n)=>{const a={};n.filter(e=>{let n;const r=Object.keys(e);for(let s=0;s<r.length;s+=1){const a=r[s],i=a.toLowerCase();-1===t.indexOf(i)||"rel"===n&&"canonical"===e[n].toLowerCase()||"rel"===i&&"stylesheet"===e[i].toLowerCase()||(n=i),-1===t.indexOf(a)||"innerHTML"!==a&&"cssText"!==a&&"itemprop"!==a||(n=a)}if(!n||!e[n])return!1;const i=e[n].toLowerCase();return s[n]||(s[n]={}),a[n]||(a[n]={}),!s[n][i]&&(a[n][i]=!0,!0)}).reverse().forEach(t=>e.push(t));const r=Object.keys(a);for(let t=0;t<r.length;t+=1){const e=r[t],n={...s[e],...a[e]};s[e]=n}return e},[]).reverse()},Dn=(e,t)=>{if(Array.isArray(e)&&e.length)for(let n=0;n<e.length;n+=1){if(e[n][t])return!0}return!1},Tn=e=>Array.isArray(e)?e.join(""):e,En=(e,t)=>Array.isArray(e)?e.reduce((e,n)=>(((e,t)=>{const n=Object.keys(e);for(let s=0;s<n.length;s+=1)if(t[n[s]]&&t[n[s]].includes(e[n[s]]))return!0;return!1})(n,t)?e.priority.push(n):e.default.push(n),e),{priority:[],default:[]}):{default:e,priority:[]},zn=(e,t)=>({...e,[t]:void 0}),Mn=["noscript","script","style"],Rn=(e,t=!0)=>!1===t?String(e):String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;"),An=e=>Object.keys(e).reduce((t,n)=>{const s=void 0!==e[n]?`${n}="${e[n]}"`:`${n}`;return t?`${t} ${s}`:s},""),On=(e,t={})=>Object.keys(e).reduce((t,n)=>(t[pn[n]||n]=e[n],t),t),Fn=(e,t)=>t.map((t,n)=>{const s={key:n,[xn]:!0};return Object.keys(t).forEach(e=>{const n=pn[e]||e;if("innerHTML"===n||"cssText"===n){const e=t.innerHTML||t.cssText;s.dangerouslySetInnerHTML={__html:e}}else s[n]=t[e]}),yt.createElement(e,s)}),In=(e,t,n=!0)=>{switch(e){case"title":return{toComponent:()=>((e,t,n)=>{const s=On(n,{key:t,[xn]:!0});return[yt.createElement("title",s,t)]})(0,t.title,t.titleAttributes),toString:()=>((e,t,n,s)=>{const a=An(n),r=Tn(t);return a?`<${e} ${xn}="true" ${a}>${Rn(r,s)}</${e}>`:`<${e} ${xn}="true">${Rn(r,s)}</${e}>`})(e,t.title,t.titleAttributes,n)};case"bodyAttributes":case"htmlAttributes":return{toComponent:()=>On(t),toString:()=>An(t)};default:return{toComponent:()=>Fn(e,t),toString:()=>((e,t,n=!0)=>t.reduce((t,s)=>{const a=s,r=Object.keys(a).filter(e=>!("innerHTML"===e||"cssText"===e)).reduce((e,t)=>{const s=void 0===a[t]?t:`${t}="${Rn(a[t],n)}"`;return e?`${e} ${s}`:s},""),i=a.innerHTML||a.cssText||"",l=-1===Mn.indexOf(e);return`${t}<${e} ${xn}="true" ${r}${l?"/>":`>${i}</${e}>`}`},""))(e,t,n)}}},Ln=e=>{const{baseTag:t,bodyAttributes:n,encode:s=!0,htmlAttributes:a,noscriptTags:r,styleTags:i,title:l="",titleAttributes:o,prioritizeSeoTags:c}=e;let{linkTags:d,metaTags:u,scriptTags:h}=e,m={toComponent:()=>{},toString:()=>""};return c&&({priorityMethods:m,linkTags:d,metaTags:u,scriptTags:h}=(({metaTags:e,linkTags:t,scriptTags:n,encode:s})=>{const a=En(e,hn),r=En(t,dn),i=En(n,un);return{priorityMethods:{toComponent:()=>[...Fn("meta",a.priority),...Fn("link",r.priority),...Fn("script",i.priority)],toString:()=>`${In("meta",a.priority,s)} ${In("link",r.priority,s)} ${In("script",i.priority,s)}`},metaTags:a.default,linkTags:r.default,scriptTags:i.default}})(e)),{priority:m,base:In("base",t,s),bodyAttributes:In("bodyAttributes",n,s),htmlAttributes:In("htmlAttributes",a,s),link:In("link",d,s),meta:In("meta",u,s),noscript:In("noscript",r,s),script:In("script",h,s),style:In("style",i,s),title:In("title",{title:l,titleAttributes:o},s)}},Bn=[],$n=!("undefined"==typeof window||!window.document||!window.document.createElement),Wn=class{instances=[];canUseDOM=$n;context;value={setHelmet:e=>{this.context.helmet=e},helmetInstances:{get:()=>this.canUseDOM?Bn:this.instances,add:e=>{(this.canUseDOM?Bn:this.instances).push(e)},remove:e=>{const t=(this.canUseDOM?Bn:this.instances).indexOf(e);(this.canUseDOM?Bn:this.instances).splice(t,1)}}};constructor(e,t){this.context=e,this.canUseDOM=t||!1,t||(e.helmet=Ln({baseTag:[],bodyAttributes:{},htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}}))}},Hn=yt.createContext({}),Un=class e extends vt.Component{static canUseDOM=$n;helmetData;constructor(t){super(t),this.helmetData=new Wn(this.props.context||{},e.canUseDOM)}render(){return yt.createElement(Hn.Provider,{value:this.helmetData.value},this.props.children)}},Vn=(e,t)=>{const n=document.head||document.querySelector("head"),s=n.querySelectorAll(`${e}[${xn}]`),a=[].slice.call(s),r=[];let i;return t&&t.length&&t.forEach(t=>{const n=document.createElement(e);for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))if("innerHTML"===e)n.innerHTML=t.innerHTML;else if("cssText"===e)n.styleSheet?n.styleSheet.cssText=t.cssText:n.appendChild(document.createTextNode(t.cssText));else{const s=e,a=void 0===t[s]?"":t[s];n.setAttribute(e,a)}n.setAttribute(xn,"true"),a.some((e,t)=>(i=t,n.isEqualNode(e)))?a.splice(i,1):r.push(n)}),a.forEach(e=>e.parentNode?.removeChild(e)),r.forEach(e=>n.appendChild(e)),{oldTags:a,newTags:r}},qn=(e,t)=>{const n=document.getElementsByTagName(e)[0];if(!n)return;const s=n.getAttribute(xn),a=s?s.split(","):[],r=[...a],i=Object.keys(t);for(const l of i){const e=t[l]||"";n.getAttribute(l)!==e&&n.setAttribute(l,e),-1===a.indexOf(l)&&a.push(l);const s=r.indexOf(l);-1!==s&&r.splice(s,1)}for(let l=r.length-1;l>=0;l-=1)n.removeAttribute(r[l]);a.length===r.length?n.removeAttribute(xn):n.getAttribute(xn)!==i.join(",")&&n.setAttribute(xn,i.join(","))},Yn=(e,t)=>{const{baseTag:n,bodyAttributes:s,htmlAttributes:a,linkTags:r,metaTags:i,noscriptTags:l,onChangeClientState:o,scriptTags:c,styleTags:d,title:u,titleAttributes:h}=e;qn("body",s),qn("html",a),((e,t)=>{void 0!==e&&document.title!==e&&(document.title=Tn(e)),qn("title",t)})(u,h);const m={baseTag:Vn("base",n),linkTags:Vn("link",r),metaTags:Vn("meta",i),noscriptTags:Vn("noscript",l),scriptTags:Vn("script",c),styleTags:Vn("style",d)},p={},f={};Object.keys(m).forEach(e=>{const{newTags:t,oldTags:n}=m[e];t.length&&(p[e]=t),n.length&&(f[e]=m[e].oldTags)}),t&&t(),o(e,p,f)},Gn=null,Xn=e=>{Gn&&cancelAnimationFrame(Gn),e.defer?Gn=requestAnimationFrame(()=>{Yn(e,()=>{Gn=null})}):(Yn(e),Gn=null)},Qn=class extends vt.Component{rendered=!1;shouldComponentUpdate(e){return!on(e,this.props)}componentDidUpdate(){this.emitChange()}componentWillUnmount(){const{helmetInstances:e}=this.props.context;e.remove(this),this.emitChange()}emitChange(){const{helmetInstances:e,setHelmet:t}=this.props.context;let n=null;const s=(a=e.get().map(e=>{const t={...e.props};return delete t.context,t}),{baseTag:_n(["href"],a),bodyAttributes:Cn("bodyAttributes",a),defer:Nn(a,bn),encode:Nn(a,vn),htmlAttributes:Cn("htmlAttributes",a),linkTags:Pn("link",["rel","href"],a),metaTags:Pn("meta",["name","charset","http-equiv","property","itemprop"],a),noscriptTags:Pn("noscript",["innerHTML"],a),onChangeClientState:Sn(a),scriptTags:Pn("script",["src","innerHTML"],a),styleTags:Pn("style",["cssText"],a),title:kn(a),titleAttributes:Cn("titleAttributes",a),prioritizeSeoTags:Dn(a,jn)});var a;Un.canUseDOM?Xn(s):Ln&&(n=Ln(s)),t(n)}init(){if(this.rendered)return;this.rendered=!0;const{helmetInstances:e}=this.props.context;e.add(this),this.emitChange()}render(){return this.init(),null}},Kn=class extends vt.Component{static defaultProps={defer:!0,encodeSpecialCharacters:!0,prioritizeSeoTags:!1};shouldComponentUpdate(e){return!en(zn(this.props,"helmetData"),zn(e,"helmetData"))}mapNestedChildrenToProps(e,t){if(!t)return null;switch(e.type){case"script":case"noscript":return{innerHTML:t};case"style":return{cssText:t};default:throw new Error(`<${e.type} /> elements are self-closing and can not contain children. Refer to our API for more information.`)}}flattenArrayTypeChildren(e,t,n,s){return{...t,[e.type]:[...t[e.type]||[],{...n,...this.mapNestedChildrenToProps(e,s)}]}}mapObjectTypeChildren(e,t,n,s){switch(e.type){case"title":return{...t,[e.type]:s,titleAttributes:{...n}};case"body":return{...t,bodyAttributes:{...n}};case"html":return{...t,htmlAttributes:{...n}};default:return{...t,[e.type]:{...n}}}}mapArrayTypeChildrenToProps(e,t){let n={...t};return Object.keys(e).forEach(t=>{n={...n,[t]:e[t]}}),n}warnOnInvalidChildren(e,t){return an(mn.some(t=>e.type===t),"function"==typeof e.type?"You may be attempting to nest <Helmet> components within each other, which is not allowed. Refer to our API for more information.":`Only elements types ${mn.join(", ")} are allowed. Helmet does not support rendering <${e.type}> elements. Refer to our API for more information.`),an(!t||"string"==typeof t||Array.isArray(t)&&!t.some(e=>"string"!=typeof e),`Helmet expects a string as a child of <${e.type}>. Did you forget to wrap your children in braces? ( <${e.type}>{\`\`}</${e.type}> ) Refer to our API for more information.`),!0}mapChildrenToProps(e,t){let n={};return yt.Children.forEach(e,e=>{if(!e||!e.props)return;const{children:s,...a}=e.props,r=Object.keys(a).reduce((e,t)=>(e[fn[t]||t]=a[t],e),{});let{type:i}=e;switch("symbol"==typeof i?i=i.toString():this.warnOnInvalidChildren(e,s),i){case"Symbol(react.fragment)":t=this.mapChildrenToProps(s,t);break;case"link":case"meta":case"noscript":case"script":case"style":n=this.flattenArrayTypeChildren(e,n,r,s);break;default:t=this.mapObjectTypeChildren(e,t,r,s)}}),this.mapArrayTypeChildrenToProps(n,t)}render(){const{children:e,...t}=this.props;let n={...t},{helmetData:s}=t;if(e&&(n=this.mapChildrenToProps(e,n)),s&&!(s instanceof Wn)){s=new Wn(s.context,!0),delete n.helmetData}return s?yt.createElement(Qn,{...n,context:s.value}):yt.createElement(Hn.Consumer,null,e=>yt.createElement(Qn,{...n,context:e}))}};const Jn=Rt.create({baseURL:"http://127.0.0.1:8000/api/v1",headers:{Accept:"application/json"}});Jn.interceptors.request.use(e=>{const t=localStorage.getItem("token");return t&&(e.headers.Authorization=`Bearer ${t}`),e}),Jn.interceptors.response.use(e=>e,e=>(e.response&&401===e.response.status&&localStorage.removeItem("token"),Promise.reject(e)));const Zn=vt.createContext(),es=({children:t})=>{const[n,s]=vt.useState(null),[a,r]=vt.useState(localStorage.getItem("token")),[i,l]=vt.useState(!0),o=e=>{e?localStorage.setItem("token",e):localStorage.removeItem("token"),r(e)},c=async()=>{if(a)try{const e=await Jn.get("/user");s(e.data.data)}catch(e){o(null),s(null)}finally{l(!1)}else l(!1)};return vt.useEffect(()=>{c()},[a]),e.jsx(Zn.Provider,{value:{user:n,setUser:s,token:a,setToken:o,loading:i,fetchUser:c,logout:async()=>{try{await(async()=>{await Jn.post("/logout"),localStorage.removeItem("token")})()}catch(e){}finally{o(null),s(null),localStorage.removeItem("token")}}},children:t})},ts=()=>vt.useContext(Zn);function ns(){const[r,i]=vt.useState(!1),[l,o]=vt.useState(!1),c=wt();vt.useEffect(()=>{const e=()=>{i(window.scrollY>20)};return window.addEventListener("scroll",e),()=>window.removeEventListener("scroll",e)},[]);return["/login","/register","/onboarding"].includes(c.pathname)?null:e.jsxs("nav",{className:"fixed top-0 left-0 right-0 z-50 transition-all duration-300 "+(r||l?"bg-white/80 backdrop-blur-md border-b border-slate-200 shadow-sm py-4":"bg-transparent py-6"),children:[e.jsxs("div",{className:"max-w-7xl mx-auto px-6 flex items-center justify-between",children:[e.jsxs(jt,{to:"/",className:"flex items-center gap-2 group",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-slate-900 text-white flex items-center justify-center font-bold text-xl shadow-lg group-hover:scale-105 transition-transform",children:"D"}),e.jsx("span",{className:"text-xl font-bold tracking-tight transition-colors text-slate-900",children:"DocForge"})]}),e.jsxs("div",{className:"hidden md:flex items-center gap-8",children:[e.jsx("a",{href:"/#templates",className:"text-slate-600 font-medium hover:text-slate-900 transition-colors",children:"Create Document"}),e.jsx(ss,{to:"/features",children:"Features"}),e.jsx(ss,{to:"/pricing",children:"Pricing"}),e.jsx(ss,{to:"/about",children:"About"})]}),e.jsxs("div",{className:"hidden md:flex items-center gap-4",children:[e.jsx(jt,{to:"/login",className:"text-slate-600 font-medium hover:text-slate-900 transition-colors",children:"Sign In"}),e.jsx(jt,{to:"/register",className:"px-5 py-2.5 bg-slate-900 text-white rounded-lg font-bold hover:bg-slate-800 transition-all hover:shadow-lg hover:-translate-y-0.5",children:"Get Started"})]}),e.jsx("button",{className:"md:hidden text-slate-900",onClick:()=>o(!l),"aria-label":"Toggle mobile menu",children:l?e.jsx(t,{}):e.jsx(n,{})})]}),e.jsx(s,{children:l&&e.jsx(a.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"md:hidden bg-white border-b border-slate-200 overflow-hidden",children:e.jsxs("div",{className:"flex flex-col p-6 gap-4",children:[e.jsx("a",{href:"/#templates",onClick:()=>o(!1),className:"text-slate-600 font-medium text-lg py-2 block",children:"Create Document"}),e.jsx(as,{to:"/features",onClick:()=>o(!1),children:"Features"}),e.jsx(as,{to:"/pricing",onClick:()=>o(!1),children:"Pricing"}),e.jsx(as,{to:"/about",onClick:()=>o(!1),children:"About"}),e.jsx("hr",{className:"border-slate-100 my-2"}),e.jsx(as,{to:"/login",onClick:()=>o(!1),children:"Sign In"}),e.jsx(jt,{to:"/register",onClick:()=>o(!1),className:"w-full py-3 bg-slate-900 text-white rounded-xl font-bold text-center",children:"Get Started"})]})})})]})}const ss=({to:t,children:n})=>e.jsx(jt,{to:t,className:"text-slate-600 font-medium hover:text-slate-900 transition-colors",children:n}),as=({to:t,children:n,onClick:s})=>e.jsx(jt,{to:t,onClick:s,className:"text-slate-600 font-medium text-lg py-2 block",children:n});function rs(){return e.jsx("footer",{className:"bg-white py-12 px-6 border-t border-slate-200",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-8 mb-12",children:[e.jsxs("div",{className:"col-span-2 md:col-span-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx("div",{className:"w-8 h-8 rounded-lg bg-slate-900 flex items-center justify-center",children:e.jsx("span",{className:"text-white font-bold text-xl",children:"D"})}),e.jsx("span",{className:"font-bold text-xl text-slate-900",children:"DocForge"})]}),e.jsx("p",{className:"text-slate-500 text-sm leading-relaxed",children:"Forging the future of document management for modern teams."})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-slate-900 mb-4",children:"Product"}),e.jsxs("ul",{className:"space-y-2 text-sm text-slate-500",children:[e.jsx("li",{children:e.jsx(jt,{to:"/features",className:"hover:text-slate-900 transition-colors",children:"Features"})}),e.jsx("li",{children:e.jsx(jt,{to:"/pricing",className:"hover:text-slate-900 transition-colors",children:"Pricing"})}),e.jsx("li",{children:e.jsx(jt,{to:"/changelog",className:"hover:text-slate-900 transition-colors",children:"Changelog"})}),e.jsx("li",{children:e.jsx(jt,{to:"/blog",className:"hover:text-slate-900 transition-colors",children:"Blogs"})})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-slate-900 mb-4",children:"Company"}),e.jsxs("ul",{className:"space-y-2 text-sm text-slate-500",children:[e.jsx("li",{children:e.jsx(jt,{to:"/about",className:"hover:text-slate-900 transition-colors",children:"About Us"})}),e.jsx("li",{children:e.jsx(jt,{to:"/careers",className:"hover:text-slate-900 transition-colors",children:"Careers"})}),e.jsx("li",{children:e.jsx(jt,{to:"/contact",className:"hover:text-slate-900 transition-colors",children:"Contact"})})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-slate-900 mb-4",children:"Legal"}),e.jsxs("ul",{className:"space-y-2 text-sm text-slate-500",children:[e.jsx("li",{children:e.jsx(jt,{to:"/privacy",className:"hover:text-slate-900 transition-colors",children:"Privacy Policy"})}),e.jsx("li",{children:e.jsx(jt,{to:"/terms",className:"hover:text-slate-900 transition-colors",children:"Terms of Service"})})]})]})]}),e.jsxs("div",{className:"pt-8 border-t border-slate-100 flex flex-col md:flex-row justify-between items-center gap-4",children:[e.jsxs("div",{className:"text-slate-500 text-sm",children:[" ",(new Date).getFullYear()," TechSynchronic. All rights reserved."]}),e.jsxs("div",{className:"flex gap-6 text-slate-500",children:[e.jsx("a",{href:"#",className:"hover:text-slate-900 transition-colors",children:"Twitter"}),e.jsx("a",{href:"#",className:"hover:text-slate-900 transition-colors",children:"LinkedIn"}),e.jsx("a",{href:"#",className:"hover:text-slate-900 transition-colors",children:"GitHub"})]})]})]})})}function is(){return e.jsxs("div",{className:"min-h-screen flex flex-col bg-white",children:[e.jsx(ns,{}),e.jsx("main",{className:"flex-grow pt-0",children:e.jsx(Nt,{})}),e.jsx(rs,{})]})}const ls=({title:t,description:n,keywords:s,image:a,url:r,type:i="website",jsonLd:l,robots:o="index, follow",twitterCard:c="summary_large_image"})=>{const d="DocForge",u="https://docforgedocs.com",h=`${u}/images/logo.png`,m=t?`${t} | ${d}`:d,p=n||"Create professional NDAs, Proposals, and Invoices for modern businesses. Streamline your document workflow with DocForge.",f=a?a.startsWith("http")?a:`${u}${a}`:h,x=r?`${u}${r}`:u;return e.jsxs(Kn,{children:[e.jsx("title",{children:m}),e.jsx("meta",{name:"description",content:p}),s&&e.jsx("meta",{name:"keywords",content:s}),e.jsx("meta",{name:"robots",content:o}),e.jsx("link",{rel:"canonical",href:x}),e.jsx("meta",{property:"og:type",content:i}),e.jsx("meta",{property:"og:url",content:x}),e.jsx("meta",{property:"og:title",content:m}),e.jsx("meta",{property:"og:description",content:p}),e.jsx("meta",{property:"og:image",content:f}),e.jsx("meta",{property:"og:site_name",content:d}),e.jsx("meta",{property:"og:locale",content:"en_US"}),e.jsx("meta",{name:"twitter:card",content:c}),e.jsx("meta",{name:"twitter:url",content:x}),e.jsx("meta",{name:"twitter:title",content:m}),e.jsx("meta",{name:"twitter:description",content:p}),e.jsx("meta",{name:"twitter:image",content:f}),e.jsx("meta",{name:"twitter:creator",content:"@DocForgeApp"}),e.jsx("meta",{name:"twitter:site",content:"@DocForgeApp"}),l&&e.jsx("script",{type:"application/ld+json",children:JSON.stringify(l)})]})},os=[{id:"nda",title:"Non-Disclosure Agreement",subtitle:"Protect your ideas instantly.",description:"Generate a legally binding NDA in minutes. Perfect for freelancers, agencies, and startup discussions.",icon:r,color:"bg-emerald-500",gradient:"from-emerald-500 to-teal-400",bg:"bg-emerald-50",border:"border-emerald-100"},{id:"proposal",title:"Business Proposal",subtitle:"Win more clients, faster.",description:"Create stunning, structured proposals with pricing tables and timelines. Export as PDF or send online.",icon:i,color:"bg-indigo-500",gradient:"from-indigo-500 to-purple-500",bg:"bg-indigo-50",border:"border-indigo-100"},{id:"consulting-agreement",title:"Consulting Agreement",subtitle:"Secure your services.",description:"Formalize your client relationships with a comprehensive consulting services agreement.",icon:l,color:"bg-blue-500",gradient:"from-blue-500 to-cyan-400",bg:"bg-blue-50",border:"border-blue-100"}],cs=[{q:"Is it really free? What's the catch?",a:"Yes, it is 100% free to generate and export documents. We provide this tool to help freelancers and small businesses. If you want advanced features like eSignatures and analytics, you can upgrade to a full account later."},{q:"Do I need to create an account first?",a:"No! You can draft your entire document as a guest. We only ask you to create a password when you save/export, so you can access your document later. It's a seamless process."},{q:"Are these documents legally binding?",a:"Our templates are drafted by legal professionals to be standard and enforceable. However, we are not a law firm, and for high-stakes deals, we always recommend consulting a lawyer."},{q:"Can I edit the document after saving?",a:"Absolutely. Once you save, the document is stored in your secure dashboard. You can edit, duplicate, or send it for signature at any time."}],ds=({q:t,a:n})=>{const[r,i]=vt.useState(!1);return e.jsxs("div",{className:"border-b border-slate-200 last:border-0",children:[e.jsxs("button",{onClick:()=>i(!r),className:"w-full py-6 flex items-center justify-between text-left focus:outline-none group",children:[e.jsx("span",{className:"text-lg font-bold text-slate-900 group-hover:text-indigo-600 transition-colors",children:t}),r?e.jsx(x,{className:"text-slate-400"}):e.jsx(g,{className:"text-slate-400"})]}),e.jsx(s,{children:r&&e.jsx(a.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},className:"overflow-hidden",children:e.jsx("p",{className:"pb-6 text-slate-600 leading-relaxed pr-8",children:n})})})]})},us=({number:t,title:n,desc:s,icon:a})=>e.jsxs("div",{className:"relative p-6 rounded-2xl bg-white border border-slate-100 shadow-xl shadow-slate-200/50 flex flex-col items-center text-center group hover:-translate-y-1 transition-transform duration-300",children:[e.jsx("div",{className:"absolute -top-6 w-12 h-12 rounded-full bg-slate-900 text-white flex items-center justify-center font-bold text-lg shadow-lg border-4 border-white",children:t}),e.jsx("div",{className:"mt-8 mb-4 w-12 h-12 rounded-full bg-indigo-50 flex items-center justify-center text-indigo-600 group-hover:scale-110 transition-transform",children:e.jsx(a,{size:24})}),e.jsx("h3",{className:"font-bold text-lg text-slate-900 mb-2",children:n}),e.jsx("p",{className:"text-slate-500 text-sm leading-relaxed",children:s})]}),hs=({icon:t,title:n,desc:s})=>e.jsxs("div",{className:"flex gap-4",children:[e.jsx("div",{className:"w-10 h-10 rounded-lg bg-indigo-100 flex items-center justify-center text-indigo-600 shrink-0",children:e.jsx(t,{size:20})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold text-slate-900 mb-1",children:n}),e.jsx("p",{className:"text-slate-500 text-sm leading-relaxed",children:s})]})]}),ms=()=>{const t=kt(),n={"@context":"https://schema.org","@graph":[{"@context":"https://schema.org","@type":"SoftwareApplication",name:"DocForge",applicationCategory:"BusinessApplication",offers:{"@type":"Offer",price:"0",priceCurrency:"USD"},operatingSystem:"Web",description:"Create professional NDAs, Proposals, and Invoices for modern businesses. Free document generator with eSignature support.",featureList:["NDA Generator","Business Proposal Creator","Invoice Generator","eSignature Support","Team Collaboration","Custom Branding"],screenshot:"https://docforgedocs.com/images/dashboard-preview.png",aggregateRating:{"@type":"AggregateRating",ratingValue:"4.8",ratingCount:"1250"}},{"@context":"https://schema.org","@type":"FAQPage",mainEntity:cs.map(e=>({"@type":"Question",name:e.q,acceptedAnswer:{"@type":"Answer",text:e.a}}))},{"@context":"https://schema.org","@type":"Organization",name:"DocForge",url:"https://docforgedocs.com",logo:"https://docforgedocs.com/images/logo.png",sameAs:["https://twitter.com/DocForgeApp"],contactPoint:{"@type":"ContactPoint",contactType:"Customer Support",email:"support@docforgedocs.com"}}]};return e.jsxs("div",{className:"min-h-screen bg-white font-sans text-slate-900 selection:bg-indigo-100 selection:text-indigo-900",children:[e.jsx(ls,{title:"Free NDA & Proposal Generator for Modern Businesses",description:"Create professional NDAs, Business Proposals, and Consulting Agreements in minutes. Free document generator with eSignature support. No signup required to start.",keywords:"Free NDA Generator, Business Proposal Creator, Consulting Agreement Template, Online Legal Documents, Agency Software, eSignature, Document Management, Invoice Generator",url:"/",jsonLd:n}),e.jsxs("div",{className:"fixed inset-0 pointer-events-none z-0",children:[e.jsx("div",{className:"absolute top-0 right-0 w-[800px] h-[800px] bg-indigo-50/50 rounded-full blur-[100px] opacity-60 -translate-y-1/2 translate-x-1/4"}),e.jsx("div",{className:"absolute top-0 left-0 w-[600px] h-[600px] bg-blue-50/50 rounded-full blur-[100px] opacity-40 -translate-y-1/2 -translate-x-1/4"}),e.jsx("div",{className:"absolute inset-0 bg-[url('https://grainy-gradients.vercel.app/noise.svg')] opacity-20 brightness-100 contrast-150"})]}),e.jsxs("main",{className:"relative z-10 pt-32 pb-20 px-6 max-w-7xl mx-auto",children:[e.jsxs("div",{className:"text-center max-w-4xl mx-auto mb-24",children:[e.jsxs(a.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"inline-flex items-center gap-2 px-4 py-1.5 bg-white border border-slate-200 rounded-full shadow-sm mb-8",children:[e.jsxs("span",{className:"relative flex h-2 w-2",children:[e.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-emerald-400 opacity-75"}),e.jsx("span",{className:"relative inline-flex rounded-full h-2 w-2 bg-emerald-500"})]}),e.jsx("span",{className:"text-xs font-bold text-slate-600 uppercase tracking-wider",children:"Free to use, forever"})]}),e.jsxs(a.h1,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"text-5xl md:text-7xl font-black tracking-tighter text-slate-900 mb-8 leading-[1.1]",children:["Review Less. ",e.jsx("br",{className:"hidden md:block"}),e.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-indigo-600 to-purple-600",children:"Close Deals Faster."})]}),e.jsxs(a.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"text-xl md:text-2xl text-slate-500 leading-relaxed font-medium mb-12 max-w-2xl mx-auto",children:["Skip the formatting headaches. Generate professional, legally rigorous documents in seconds.",e.jsx("span",{className:"text-indigo-600 font-bold",children:" No signup required to start."})]}),e.jsxs(a.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"flex flex-col sm:flex-row items-center justify-center gap-4",children:[e.jsx("button",{onClick:()=>document.getElementById("templates").scrollIntoView({behavior:"smooth"}),className:"px-8 py-4 bg-slate-900 text-white rounded-full font-bold text-lg hover:bg-slate-800 transition-all hover:scale-105 shadow-xl shadow-slate-900/20",children:"Start Drafting Free"}),e.jsx("button",{onClick:()=>t("/features"),className:"px-8 py-4 bg-white text-slate-900 border border-slate-200 rounded-full font-bold text-lg hover:border-slate-300 transition-all flex items-center gap-2",children:"View All Features"})]})]}),e.jsxs("div",{className:"mb-32 text-center",children:[e.jsx("p",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest mb-8",children:"Trusted by modern teams"}),e.jsx("div",{className:"flex flex-wrap justify-center gap-8 md:gap-16 opacity-50 grayscale hover:grayscale-0 transition-all duration-500",children:["Acme Corp","Nebula","GlobalBank","TechFlow","SaaS.io"].map(t=>e.jsx("span",{className:"text-xl font-black text-slate-800",children:t},t))})]}),e.jsxs("div",{id:"templates",className:"scroll-mt-24 mb-32",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsx("h2",{className:"text-3xl font-bold text-slate-900 mb-4",children:"Start Drafting"}),e.jsx("p",{className:"text-slate-500",children:"Select a document type to launch the live editor."})]}),e.jsx("div",{className:"grid md:grid-cols-3 gap-8",children:os.map((n,s)=>e.jsxs(a.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:.1*s},whileHover:{y:-8},onClick:()=>t(`/create-document/${n.id}`),className:"group relative p-8 rounded-3xl bg-white border border-slate-100 shadow-xl shadow-slate-200/40 hover:shadow-2xl hover:shadow-indigo-500/10 transition-all cursor-pointer overflow-hidden flex flex-col h-full",children:[e.jsx("div",{className:`absolute top-0 inset-x-0 h-1 bg-gradient-to-r ${n.gradient}`}),e.jsx("div",{className:`w-14 h-14 rounded-2xl ${n.bg} flex items-center justify-center mb-6 group-hover:scale-110 transition-transform duration-300`,children:e.jsx(n.icon,{size:28,className:n.color.replace("bg-","text-")})}),e.jsx("h3",{className:"text-2xl font-bold text-slate-900 mb-2",children:n.title}),e.jsx("p",{className:"text-indigo-600 font-medium text-sm mb-4",children:n.subtitle}),e.jsx("p",{className:"text-slate-500 leading-relaxed mb-8 flex-1",children:n.description}),e.jsxs("div",{className:"flex items-center text-slate-900 font-bold text-sm group-hover:gap-2 transition-all mt-auto pt-6 border-t border-slate-50",children:["Launch Editor ",e.jsx(o,{size:16,className:"ml-2"})]})]},n.id))})]}),e.jsxs("div",{className:"mb-32 bg-slate-50 rounded-3xl p-8 md:p-16 border border-slate-100 relative overflow-hidden",children:[e.jsx("div",{className:"absolute top-0 right-0 w-[400px] h-[400px] bg-white rounded-full blur-[80px] opacity-50 -translate-y-1/2 translate-x-1/2"}),e.jsxs("div",{className:"relative z-10",children:[e.jsxs("div",{className:"text-center mb-16",children:[e.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-slate-900 mb-4",children:"How it works"}),e.jsx("p",{className:"text-slate-500 max-w-xl mx-auto",children:"We've removed the friction. Go from zero to signed document in less than 5 minutes."})]}),e.jsxs("div",{className:"grid md:grid-cols-3 gap-8 md:gap-12 px-4 pt-4",children:[e.jsx(us,{number:"1",title:"Select & Draft",desc:"Choose a template and use our guest editor to fill in the details. No account needed.",icon:c}),e.jsx(us,{number:"2",title:"Save & Secure",desc:"Click save when you're done. We'll automatically create a secure account for you.",icon:d}),e.jsx(us,{number:"3",title:"Export or Send",desc:"Download as PDF or share seamlessly with your clients for eSignature.",icon:u})]})]})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-16 items-center mb-32",children:[e.jsxs("div",{children:[e.jsx("div",{className:"inline-flex items-center gap-2 px-3 py-1 bg-indigo-50 text-indigo-700 rounded-full text-xs font-bold uppercase tracking-wider mb-6",children:"Powered by DocForge"}),e.jsxs("h2",{className:"text-4xl font-bold text-slate-900 mb-6 leading-tight",children:["More than just a generator. ",e.jsx("br",{}),e.jsx("span",{className:"text-indigo-600",children:"Your entire workflow."})]}),e.jsx("p",{className:"text-lg text-slate-500 mb-8 leading-relaxed",children:"This free tool is just the beginning. DocForge is the complete operating system for modern agencies and freelancers."}),e.jsxs("div",{className:"space-y-6",children:[e.jsx(hs,{icon:i,title:"Integrated eSignatures",desc:"Stop paying for Docusign. Request enforceable signatures directly on your documents."}),e.jsx(hs,{icon:h,title:"Smart Dashboard",desc:"Track every proposal sent. See when clients open them and get notified instantly."}),e.jsx(hs,{icon:m,title:"Team Collaboration",desc:"Invite your team to draft, review, and approve documents together."})]})]}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-0 bg-indigo-600 rounded-3xl rotate-3 opacity-10"}),e.jsxs("div",{className:"relative bg-slate-900 rounded-3xl p-2 shadow-2xl border border-slate-800",children:[e.jsx("img",{src:"/images/dashboard-preview.png",alt:"DocForge Dashboard - Document management interface showing NDAs, proposals, and team collaboration features",className:"rounded-2xl w-full h-auto opacity-90"}),e.jsxs("div",{className:"absolute -bottom-6 -left-6 bg-white p-4 rounded-xl shadow-xl border border-slate-100 flex items-center gap-3 animate-bounce-slow",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-emerald-100 flex items-center justify-center text-emerald-600",children:e.jsx(p,{size:20,fill:"currentColor"})}),e.jsxs("div",{children:[e.jsx("div",{className:"text-xs font-bold text-slate-400 uppercase",children:"Conversion Rate"}),e.jsx("div",{className:"font-bold text-slate-900 text-lg",children:"+34%"})]})]})]})]})]}),e.jsxs("div",{id:"signatures",className:"scroll-mt-24 mb-32 grid md:grid-cols-2 gap-16 items-center",children:[e.jsxs("div",{className:"order-2 md:order-1 relative",children:[e.jsx("div",{className:"absolute inset-0 bg-emerald-500 rounded-3xl -rotate-2 opacity-10"}),e.jsxs("div",{className:"relative bg-white rounded-3xl p-6 shadow-2xl border border-slate-100",children:[e.jsxs("div",{className:"space-y-4 font-serif text-slate-800 opacity-80 mb-8",children:[e.jsx("div",{className:"h-4 bg-slate-100 rounded w-full"}),e.jsx("div",{className:"h-4 bg-slate-100 rounded w-5/6"}),e.jsx("div",{className:"h-4 bg-slate-100 rounded w-4/6"})]}),e.jsxs("div",{className:"flex justify-between items-end border-t border-slate-200 pt-6",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-xs text-slate-400 uppercase font-bold mb-2",children:"Signed by"}),e.jsx("div",{className:"font-handwriting text-3xl text-indigo-900",children:"John Doe"}),e.jsx("div",{className:"text-xs text-slate-400 mt-1",children:"Sep 28, 2026  10:42 AM"})]}),e.jsx("div",{className:"ml-auto",children:e.jsx("div",{className:"w-16 h-16 border-4 border-emerald-500 rounded-full flex items-center justify-center text-emerald-600 rotate-12 bg-emerald-50",children:e.jsx(f,{size:32})})})]})]})]}),e.jsxs("div",{className:"order-1 md:order-2",children:[e.jsx("div",{className:"inline-flex items-center gap-2 px-3 py-1 bg-emerald-50 text-emerald-700 rounded-full text-xs font-bold uppercase tracking-wider mb-6",children:"New Feature"}),e.jsxs("h2",{className:"text-4xl font-bold text-slate-900 mb-6 leading-tight",children:["Secure, Legally Binding ",e.jsx("br",{}),e.jsx("span",{className:"text-emerald-600",children:"Digital Signatures."})]}),e.jsx("p",{className:"text-lg text-slate-500 mb-8 leading-relaxed",children:"Stop chasing clients for printers and scanners. Upload any PDF, place signature fields, and send for e-signature in seconds."}),e.jsx("ul",{className:"space-y-4 mb-10",children:["Bank-grade security & audit trails","Unlimited signature requests","Real-time status tracking"].map(t=>e.jsxs("li",{className:"flex items-center gap-3 text-slate-700 font-medium",children:[e.jsx(f,{size:20,className:"text-emerald-500 shrink-0"}),t]},t))}),e.jsxs("button",{onClick:()=>t("/register?redirect=/signatures"),className:"px-8 py-4 bg-emerald-600 text-white rounded-full font-bold text-lg hover:bg-emerald-700 transition-all hover:scale-105 shadow-xl shadow-emerald-500/20 flex items-center gap-2",children:["Try eSignatures Free ",e.jsx(o,{size:20})]})]})]}),e.jsxs("div",{className:"max-w-3xl mx-auto mb-32",children:[e.jsx("h2",{className:"text-3xl font-bold text-slate-900 mb-8 text-center",children:"Frequently Asked Questions"}),e.jsx("div",{className:"space-y-2",children:cs.map((t,n)=>e.jsx(ds,{q:t.q,a:t.a},n))})]}),e.jsxs("div",{className:"text-center py-20 bg-indigo-600 rounded-3xl relative overflow-hidden shadow-2xl shadow-indigo-500/30",children:[e.jsx("div",{className:"absolute top-0 right-0 w-[400px] h-[400px] bg-white rounded-full blur-[100px] opacity-20 -translate-y-1/2 translate-x-1/2"}),e.jsxs("div",{className:"relative z-10 px-6",children:[e.jsx("h2",{className:"text-3xl md:text-5xl font-bold text-white mb-6",children:"Ready to look professional?"}),e.jsx("p",{className:"text-indigo-100 text-lg mb-10 max-w-xl mx-auto",children:"Create your first document now. It takes less than 2 minutes."}),e.jsx("button",{onClick:()=>document.getElementById("templates").scrollIntoView({behavior:"smooth"}),className:"px-10 py-4 bg-white text-indigo-600 rounded-full font-bold text-lg hover:bg-indigo-50 transition-all hover:scale-105 shadow-xl",children:"Start Drafting"})]})]})]})]})},ps=vt.forwardRef(({icon:t,name:n,type:r,value:i,onChange:l,placeholder:o,error:c,disabled:d},u)=>e.jsxs("div",{className:"relative group",children:[e.jsx(t,{className:"absolute left-4 top-3.5 transition-colors duration-200 "+(c?"text-red-400":"text-slate-400 group-focus-within:text-indigo-600"),size:20}),e.jsx("input",{ref:u,type:r,name:n,value:i,onChange:l,disabled:d,placeholder:o,className:"w-full bg-slate-50 border text-slate-900 text-sm rounded-xl block w-full pl-12 p-3.5 transition-all outline-none disabled:opacity-50 disabled:cursor-not-allowed "+(c?"border-red-300 focus:ring-2 focus:ring-red-200 focus:border-red-500 bg-red-50/10":"border-slate-200 focus:ring-2 focus:ring-indigo-600/20 focus:border-indigo-600 hover:border-slate-300")}),e.jsx(s,{children:c&&e.jsx(a.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"absolute right-4 top-3.5 text-red-500 pointer-events-none",children:e.jsx(b,{size:20})})}),e.jsx(s,{children:c&&e.jsx(a.p,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"text-red-500 text-xs mt-1.5 ml-1 font-medium pl-1",children:c})})]}));ps.displayName="AuthInput";const fs=({text:t="Continue with Google"})=>e.jsxs(a.button,{whileHover:{scale:1.01,backgroundColor:"#f8fafc"},whileTap:{scale:.98},type:"button",onClick:()=>{const e="http://127.0.0.1:8000/api/v1".replace(/\/api\/v1\/?$/,"");window.location.href=`${e}/auth/google`},className:"w-full bg-white border border-slate-200 text-slate-700 font-bold py-3.5 px-4 rounded-xl hover:border-slate-300 hover:shadow-sm transition-all flex items-center justify-center gap-3 relative overflow-hidden group",children:[e.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[e.jsx("path",{d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z",fill:"#4285F4"}),e.jsx("path",{d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z",fill:"#34A853"}),e.jsx("path",{d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.84z",fill:"#FBBC05"}),e.jsx("path",{d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z",fill:"#EA4335"})]}),e.jsx("span",{className:"relative z-10",children:t})]});function xs(){const t=wt(),n=kt(),{setToken:r}=ts(),[i,l]=vt.useState({email:"",password:""}),[o,c]=vt.useState({}),[u,h]=vt.useState(null),[m,p]=vt.useState(!1);vt.useEffect(()=>{t.state?.message&&(At.error(t.state.message,{id:"auth-error",icon:""}),window.history.replaceState({},document.title))},[t]);const f=vt.useRef(null),x=vt.useRef(null),g=e=>{l({...i,[e.target.name]:e.target.value}),o[e.target.name]&&c(t=>({...t,[e.target.name]:null}))};return e.jsxs("form",{onSubmit:async e=>{if(e.preventDefault(),h(null),(()=>{const e={};return i.email?/\S+@\S+\.\S+/.test(i.email)||(e.email="Please enter a valid email address"):e.email="Email address is required",i.password||(e.password="Password is required"),c(e),0===Object.keys(e).length})()){p(!0);try{const e=await(async e=>(await Jn.post("/login",e)).data)(i);r(e.token),e.data.business?(At.dismiss(),n("/dashboard")):(At.dismiss(),n("/onboarding"))}catch(t){const e=t.response?.data?.message;h(e||"Login failed. Please check your credentials.")}finally{p(!1)}}else i.email&&/\S+@\S+\.\S+/.test(i.email)?i.password||x.current?.focus():f.current?.focus()},className:"flex flex-col gap-5",children:[e.jsx(s,{children:u&&e.jsxs(a.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"bg-red-50 text-red-600 px-4 py-3 rounded-lg text-sm border border-red-100 flex items-center gap-2 overflow-hidden",children:[e.jsx(b,{size:16,className:"shrink-0"}),u]})}),e.jsx("div",{className:"mb-2",children:e.jsx(fs,{text:"Sign in with Google"})}),e.jsxs("div",{className:"relative flex items-center justify-center mb-2",children:[e.jsx("div",{className:"absolute inset-0 flex items-center",children:e.jsx("div",{className:"w-full border-t border-slate-200"})}),e.jsx("span",{className:"relative z-10 bg-white px-2 text-xs text-slate-400 font-medium uppercase tracking-wider",children:"Or sign in with email"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx(ps,{icon:v,name:"email",type:"email",value:i.email,onChange:g,placeholder:"Email Address",ref:f,error:o.email}),e.jsx(ps,{icon:d,name:"password",type:"password",value:i.password,onChange:g,placeholder:"Password",ref:x,error:o.password})]}),e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",className:"w-4 h-4 rounded border-slate-300 text-indigo-600 focus:ring-indigo-600"}),e.jsx("span",{className:"text-slate-600",children:"Remember me"})]}),e.jsx(jt,{to:"/forgot-password",className:"text-indigo-600 hover:text-indigo-700 font-medium hover:underline",children:"Forgot Password?"})]}),e.jsx("button",{type:"submit",disabled:m,className:"w-full bg-slate-900 text-white font-bold py-3.5 px-4 rounded-xl hover:bg-slate-800 transition-all focus:ring-4 focus:ring-slate-900/20 disabled:opacity-70 disabled:cursor-not-allowed flex items-center justify-center gap-2 mt-2 relative overflow-hidden active:scale-[0.98]",children:m?e.jsxs(e.Fragment,{children:[e.jsx(y,{className:"animate-spin",size:20}),"Signing in..."]}):"Sign In"}),e.jsx("div",{className:"text-center mt-6",children:e.jsxs("p",{className:"text-slate-500 text-sm",children:["Don't have an account?"," ",e.jsx(jt,{to:"/register",className:"text-indigo-600 font-bold hover:underline",children:"Create one free"})]})})]})}const gs=({children:t,title:n,subtitle:s})=>{const r=t||e.jsx(Nt,{});return e.jsxs("div",{className:"min-h-screen flex bg-white font-sans selection:bg-indigo-100 selection:text-indigo-900",children:[e.jsxs("div",{className:"hidden lg:flex w-1/2 bg-slate-900 relative overflow-hidden items-center justify-center p-12",children:[e.jsxs("div",{className:"absolute inset-0 z-0",children:[e.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-[radial-gradient(circle_at_center,_var(--tw-gradient-stops))] from-indigo-900/60 via-slate-900 to-slate-900"}),e.jsx("div",{className:"absolute -top-32 -left-32 w-96 h-96 bg-indigo-500/20 rounded-full blur-3xl mix-blend-multiply filter animate-blob"}),e.jsx("div",{className:"absolute -bottom-32 -right-32 w-96 h-96 bg-purple-500/20 rounded-full blur-3xl mix-blend-multiply filter animate-blob animation-delay-2000"}),e.jsx("div",{className:"absolute inset-0 bg-[url('https://grainy-gradients.vercel.app/noise.svg')] opacity-20 brightness-100 contrast-150"})]}),e.jsxs("div",{className:"relative z-10 max-w-lg text-center lg:text-left",children:[e.jsxs(jt,{to:"/",className:"flex items-center gap-3 mb-12 group w-fit",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-white/10 backdrop-blur-sm border border-white/20 flex items-center justify-center group-hover:bg-white/20 transition-colors",children:e.jsx("span",{className:"text-white font-bold text-xl",children:"D"})}),e.jsx("span",{className:"font-bold text-2xl text-white",children:"DocForge"})]}),e.jsxs(a.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},children:[e.jsx(w,{className:"text-indigo-400 mb-6 w-10 h-10 opacity-50"}),e.jsxs("h2",{className:"text-3xl md:text-5xl font-bold text-white mb-6 leading-tight",children:["Build details. ",e.jsx("br",{}),e.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-indigo-400 to-purple-400",children:"Scale vision."})]}),e.jsx("p",{className:"text-lg text-slate-400 leading-relaxed mb-8",children:'"DocForge has completely transformed how we handle proposals. What used to take hours now takes minutes, and clients are impressed by the professional look."'}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 rounded-full bg-indigo-500/20 border border-indigo-500/30"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold text-white",children:"Sarah Jenkins"}),e.jsx("p",{className:"text-slate-500 text-sm",children:"CEO, Creative Studio"})]})]})]})]})]}),e.jsx("div",{className:"w-full lg:w-1/2 flex items-center justify-center p-8 lg:p-12 relative",children:e.jsxs("div",{className:"w-full max-w-md",children:[e.jsxs("div",{className:"mb-10 text-center lg:text-left",children:[n&&e.jsx(a.h2,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},className:"text-3xl font-bold text-slate-900 mb-2",children:n}),s&&e.jsx(a.p,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{delay:.1},className:"text-slate-500",children:s})]}),e.jsx(a.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.2},children:r})]})})]})};function bs(){return e.jsx(gs,{title:"Welcome back",subtitle:"Enter your details to access your workspace.",children:e.jsx(xs,{})})}function vs(){const[t,n]=vt.useState({name:"",email:"",password:"",password_confirmation:""}),[r,i]=vt.useState({}),[l,o]=vt.useState(null),[c,u]=vt.useState(!1),h=kt(),{setToken:m}=ts(),p=vt.useRef(null),f=vt.useRef(null),x=vt.useRef(null),g=vt.useRef(null),w=e=>{n({...t,[e.target.name]:e.target.value}),r[e.target.name]&&i(t=>({...t,[e.target.name]:null}))},[N]=St(),k=N.get("redirect");return e.jsxs("form",{onSubmit:async e=>{if(e.preventDefault(),o(null),(()=>{const e={};t.name.trim()||(e.name="Full name is required"),t.email?/\S+@\S+\.\S+/.test(t.email)||(e.email="Please enter a valid email address"):e.email="Email address is required";const n=t.password;return n?n.length<12?e.password="Password must be at least 12 characters":/(?=.*[a-zA-Z])(?=.*[0-9])(?=.*[!@#$%^&*])/.test(n)||(e.password="Must contain letters, numbers, and special characters (!@#$%^&*)"):e.password="Password is required",t.password!==t.password_confirmation&&(e.password_confirmation="Passwords do not match"),i(e),0===Object.keys(e).length})()){u(!0);try{const e=await(async e=>(await Jn.post("/register",e)).data)(t);m(e.token),h(k||"/verify-email-message")}catch(n){const e=n.response?.data?.message,t=n.response?.data?.errors;if(t){const n={};t.email&&(n.email=t.email[0]),t.password&&(n.password=t.password[0]),t.name&&(n.name=t.name[0]),i(n),0===Object.keys(n).length&&o(e||"Registration failed. Please fix the errors.")}else o(e||"Registration failed. Please try again.")}finally{u(!1)}}else t.name.trim()?r.email?f.current?.focus():r.password?x.current?.focus():r.password_confirmation&&g.current?.focus():p.current?.focus()},className:"flex flex-col gap-5",children:[e.jsx(s,{children:l&&e.jsxs(a.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"bg-red-50 text-red-600 px-4 py-3 rounded-lg text-sm border border-red-100 flex items-center gap-2 overflow-hidden",children:[e.jsx(b,{size:16,className:"shrink-0"}),l]})}),e.jsx("div",{className:"mb-2",children:e.jsx(fs,{text:"Sign up with Google"})}),e.jsxs("div",{className:"relative flex items-center justify-center mb-2",children:[e.jsx("div",{className:"absolute inset-0 flex items-center",children:e.jsx("div",{className:"w-full border-t border-slate-200"})}),e.jsx("span",{className:"relative z-10 bg-white px-2 text-xs text-slate-400 font-medium uppercase tracking-wider",children:"Or continue with email"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx(ps,{icon:j,name:"name",type:"text",value:t.name,onChange:w,placeholder:"Full Name",ref:p,error:r.name}),e.jsx(ps,{icon:v,name:"email",type:"email",value:t.email,onChange:w,placeholder:"Email Address",ref:f,error:r.email}),e.jsx(ps,{icon:d,name:"password",type:"password",value:t.password,onChange:w,placeholder:"Password (12+ chars, special char & number)",ref:x,error:r.password}),e.jsx(ps,{icon:d,name:"password_confirmation",type:"password",value:t.password_confirmation,onChange:w,placeholder:"Confirm Password",ref:g,error:r.password_confirmation})]}),e.jsx("button",{type:"submit",disabled:c,className:"w-full bg-slate-900 text-white font-bold py-3.5 px-4 rounded-xl hover:bg-slate-800 transition-all focus:ring-4 focus:ring-slate-900/20 disabled:opacity-70 disabled:cursor-not-allowed flex items-center justify-center gap-2 mt-4 relative overflow-hidden active:scale-[0.98]",children:c?e.jsxs(e.Fragment,{children:[e.jsx(y,{className:"animate-spin",size:20}),"Creating Account..."]}):"Register"}),e.jsx("div",{className:"text-center mt-6",children:e.jsxs("p",{className:"text-slate-500 text-sm",children:["Already have an account?"," ",e.jsx(jt,{to:"/login",className:"text-indigo-600 font-bold hover:underline",children:"Sign In"})]})})]})}function ys(){return e.jsx(gs,{title:"Start your journey",subtitle:"Join thousands of businesses managing documents with ease.",children:e.jsx(vs,{})})}const ws=[{id:1,title:"Company Basics",description:"Tell us about your business entity."},{id:2,title:"Demographics",description:"Where are you located?"},{id:3,title:"Branding",description:"Make it yours with a logo."},{id:4,title:"Review",description:"Almost there!"}],js=[{label:"Agency",icon:k},{label:"Technology",icon:S},{label:"Legal",icon:C},{label:"Consulting",icon:_},{label:"Freelance",icon:P},{label:"Other",icon:N}],Ns=[{label:"Solo",value:"1",desc:"Just me"},{label:"Small",value:"2-10",desc:"Startups"},{label:"Medium",value:"11-50",desc:"Growing"},{label:"Large",value:"50+",desc:"Enterprise"}];function ks(){kt();const{setUser:t}=ts(),[n,r]=vt.useState(1),[i,l]=vt.useState(!1),[o,c]=vt.useState(""),[d,u]=vt.useState({name:"",industry:"",size:"",city:"",country:"",website:"",logo:null}),h=e=>{c(""),u({...d,[e.target.name]:e.target.value})},m=d.name&&d.industry&&d.size,p=d.city&&d.country;return e.jsx("div",{className:"min-h-screen bg-slate-50 flex items-center justify-center p-4 selection:bg-indigo-100 selection:text-indigo-900",children:e.jsxs(a.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"w-full max-w-5xl bg-white rounded-3xl shadow-2xl overflow-hidden flex flex-col md:flex-row min-h-[600px]",children:[e.jsxs("div",{className:"md:w-1/3 bg-slate-900 relative p-8 flex flex-col justify-between overflow-hidden",children:[e.jsxs("div",{className:"absolute inset-0 z-0",children:[e.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-[radial-gradient(circle_at_top_right,_var(--tw-gradient-stops))] from-indigo-900/40 via-slate-900 to-slate-900"}),e.jsx("div",{className:"absolute -bottom-20 -left-20 w-64 h-64 bg-indigo-500/20 rounded-full blur-3xl"}),e.jsx("div",{className:"absolute top-1/2 right-0 w-48 h-48 bg-purple-500/10 rounded-full blur-3xl"}),e.jsx("div",{className:"absolute inset-0 bg-[url('https://grainy-gradients.vercel.app/noise.svg')] opacity-20 contrast-150"})]}),e.jsxs("div",{className:"relative z-10",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-10 text-white font-bold text-2xl",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-white/10 border border-white/10 flex items-center justify-center backdrop-blur-md",children:"D"}),"DocForge"]}),e.jsx("nav",{className:"space-y-8",children:ws.map(t=>{const s=t.id===n,a=t.id<n;return e.jsxs("div",{className:"flex gap-4 relative group",children:[t.id!==ws.length&&e.jsx("div",{className:"absolute left-[15px] top-10 w-0.5 h-12 "+(a?"bg-indigo-500":"bg-slate-800")}),e.jsx("div",{className:"w-8 h-8 rounded-full flex items-center justify-center text-sm font-bold z-10 transition-all duration-300 "+(s?"bg-indigo-500 text-white shadow-lg shadow-indigo-500/40 scale-110":a?"bg-green-500 text-white":"bg-slate-800 text-slate-500 group-hover:bg-slate-700"),children:a?e.jsx(f,{size:16}):t.id}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-bold transition-colors "+(s?"text-white":a?"text-slate-300":"text-slate-500"),children:t.title}),e.jsx("p",{className:"text-xs transition-colors "+(s?"text-indigo-200":"text-slate-600"),children:t.description})]})]},t.id)})})]}),e.jsx("div",{className:"relative z-10 text-slate-500 text-xs",children:" DocForge Inc."})]}),e.jsx("div",{className:"md:w-2/3 p-8 md:p-12 flex flex-col bg-white overflow-y-auto",children:e.jsxs("div",{className:"max-w-xl mx-auto w-full flex-grow flex flex-col",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h2",{className:"text-3xl font-bold text-slate-900 mb-2",children:ws[n-1].title}),e.jsx("p",{className:"text-slate-500",children:ws[n-1].description})]}),o&&e.jsxs("div",{className:"mb-6 p-4 bg-red-50 text-red-600 rounded-xl border border-red-100 flex items-center gap-2",children:[e.jsx("span",{className:"w-2 h-2 rounded-full bg-red-500"}),o]}),e.jsxs("form",{onSubmit:async e=>{e.preventDefault(),l(!0),c("");const t=new FormData;Object.keys(d).forEach(e=>{null!==d[e]&&t.append(e,d[e])});try{await Jn.post("/businesses",t,{headers:{"Content-Type":"multipart/form-data"}}),window.location.href="/dashboard"}catch(n){if(n.response&&n.response.data&&n.response.data.errors){const e=n.response.data.errors;if(e.logo)c(e.logo[0]);else{const t=Object.values(e)[0][0];c(t)}}else c(n.response?.data?.message||"Failed to create business. Please try again.");l(!1)}},className:"flex-grow flex flex-col",children:[e.jsxs(s,{mode:"wait",custom:n,children:[1===n&&e.jsxs(a.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.3},className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"Business Name"}),e.jsxs("div",{className:"relative group",children:[e.jsx(N,{className:"absolute left-4 top-3.5 text-slate-400 group-focus-within:text-indigo-600 transition-colors",size:20}),e.jsx("input",{name:"name",value:d.name,onChange:h,className:"w-full pl-12 p-3.5 bg-slate-50 border border-slate-200 rounded-xl focus:ring-2 focus:ring-indigo-100 focus:border-indigo-600 outline-none transition-all font-medium text-slate-800",placeholder:"e.g. Acme Corp",required:!0,autoFocus:!0})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-3",children:"Industry"}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:js.map(t=>e.jsxs("button",{type:"button",onClick:()=>u({...d,industry:t.label}),className:"p-3 rounded-xl border-2 flex flex-col items-center gap-2 transition-all "+(d.industry===t.label?"border-indigo-600 bg-indigo-50/50 text-indigo-700":"border-slate-100 hover:border-slate-200 text-slate-600"),children:[e.jsx(t.icon,{size:24,className:d.industry===t.label?"text-indigo-600":"text-slate-400"}),e.jsx("span",{className:"text-xs font-bold",children:t.label})]},t.label))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-3",children:"Team Size"}),e.jsx("div",{className:"grid grid-cols-2 gap-3",children:Ns.map(t=>e.jsxs("button",{type:"button",onClick:()=>u({...d,size:t.value}),className:"p-3 rounded-xl border-2 text-left transition-all "+(d.size===t.value?"border-indigo-600 bg-indigo-50/50 text-indigo-700":"border-slate-100 hover:border-slate-200"),children:[e.jsx("div",{className:"font-bold text-sm",children:t.label}),e.jsx("div",{className:"text-xs opacity-70",children:t.desc})]},t.value))})]})]},"step1"),2===n&&e.jsxs(a.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.3},className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"City"}),e.jsxs("div",{className:"relative group",children:[e.jsx(D,{className:"absolute left-4 top-3.5 text-slate-400 group-focus-within:text-indigo-600 transition-colors",size:20}),e.jsx("input",{name:"city",value:d.city,onChange:h,className:"w-full pl-12 p-3.5 bg-slate-50 border border-slate-200 rounded-xl focus:ring-2 focus:ring-indigo-100 focus:border-indigo-600 outline-none transition-all font-medium text-slate-800",placeholder:"New York",required:!0,autoFocus:!0})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"Country"}),e.jsxs("div",{className:"relative group",children:[e.jsx(T,{className:"absolute left-4 top-3.5 text-slate-400 group-focus-within:text-indigo-600 transition-colors",size:20}),e.jsx("input",{name:"country",value:d.country,onChange:h,className:"w-full pl-12 p-3.5 bg-slate-50 border border-slate-200 rounded-xl focus:ring-2 focus:ring-indigo-100 focus:border-indigo-600 outline-none transition-all font-medium text-slate-800",placeholder:"USA",required:!0})]})]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:["Website ",e.jsx("span",{className:"text-slate-400 font-normal",children:"(Optional)"})]}),e.jsx("input",{name:"website",value:d.website,onChange:h,className:"w-full p-3.5 bg-slate-50 border border-slate-200 rounded-xl focus:ring-2 focus:ring-indigo-100 focus:border-indigo-600 outline-none transition-all font-medium text-slate-800",placeholder:"https://example.com"})]})]},"step2"),3===n&&e.jsx(a.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.3},className:"space-y-6 flex flex-col items-center justify-center py-8",children:e.jsxs("div",{className:"w-full max-w-sm",children:[e.jsxs("label",{className:"relative flex flex-col items-center justify-center w-full h-64 border-2 border-slate-300 border-dashed rounded-3xl cursor-pointer bg-slate-50 hover:bg-slate-100 hover:border-indigo-400 transition-all group overflow-hidden",children:[e.jsx("input",{type:"file",onChange:e=>{const t=e.target.files[0];if(t){if(!["image/png","image/jpeg","image/jpg","image/webp"].includes(t.type))return c("Invalid file type. Please upload a PNG, JPG, or WEBP file."),void(e.target.value=null);if(t.size>1048576)return c("File size exceeds 1MB. Please upload a smaller image."),void(e.target.value=null);c(""),u({...d,logo:t})}},accept:"image/*",className:"hidden"}),d.logo?e.jsxs("div",{className:"relative z-10 text-center",children:[e.jsx("div",{className:"w-20 h-20 mx-auto mb-3 rounded-xl bg-white shadow-sm flex items-center justify-center border border-slate-200",children:e.jsx("img",{src:URL.createObjectURL(d.logo),alt:"Logo preview",className:"max-w-full max-h-full rounded-lg object-contain"})}),e.jsx("p",{className:"font-bold text-slate-700",children:d.logo.name}),e.jsx("p",{className:"text-xs text-indigo-600 mt-1",children:"Click to change"})]}):e.jsxs("div",{className:"flex flex-col items-center justify-center pt-5 pb-6 text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-indigo-50 text-indigo-500 rounded-full flex items-center justify-center mb-4 group-hover:scale-110 transition-transform",children:e.jsx(E,{size:28})}),e.jsxs("p",{className:"mb-2 text-sm text-slate-600 font-medium",children:[e.jsx("span",{className:"font-bold text-indigo-600",children:"Click to upload"})," or drag and drop"]}),e.jsx("p",{className:"text-xs text-slate-500",children:"SVG, PNG, JPG or GIF (MAX. 2MB)"})]})]}),e.jsx("div",{className:"mt-6 text-center",children:e.jsx("button",{type:"button",onClick:()=>{c(""),u(e=>({...e,logo:null})),n<4&&r(e=>e+1)},className:"text-slate-400 hover:text-slate-600 text-sm font-medium",children:"Skip for now"})})]})},"step3"),4===n&&e.jsxs(a.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"flex flex-col items-center justify-center text-center py-8",children:[e.jsx("div",{className:"w-24 h-24 bg-green-100 text-green-600 rounded-full flex items-center justify-center mb-6 animate-bounce",children:e.jsx(f,{size:48})}),e.jsx("h3",{className:"text-2xl font-bold text-slate-900 mb-2",children:"You're all set!"}),e.jsxs("p",{className:"text-slate-500 max-w-sm mb-8",children:["We have everything we need to set up your workspace for ",e.jsx("span",{className:"font-bold text-slate-900",children:d.name}),"."]}),e.jsxs("div",{className:"w-full bg-slate-50 p-6 rounded-2xl text-left border border-slate-100 mb-8",children:[e.jsx("h4",{className:"font-bold text-slate-900 mb-4 text-sm uppercase tracking-wider",children:"Summary"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between border-b border-slate-200 pb-2",children:[e.jsx("span",{className:"text-slate-500",children:"Business Name"}),e.jsx("span",{className:"font-medium text-slate-900",children:d.name})]}),e.jsxs("div",{className:"flex justify-between border-b border-slate-200 pb-2",children:[e.jsx("span",{className:"text-slate-500",children:"Industry"}),e.jsx("span",{className:"font-medium text-slate-900",children:d.industry})]}),e.jsxs("div",{className:"flex justify-between border-b border-slate-200 pb-2",children:[e.jsx("span",{className:"text-slate-500",children:"Location"}),e.jsxs("span",{className:"font-medium text-slate-900",children:[d.city,", ",d.country]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-slate-500",children:"Logo"}),e.jsx("span",{className:"font-medium text-slate-900",children:d.logo?"Uploaded":"Skipped"})]})]})]})]},"step4")]}),e.jsxs("div",{className:"flex items-center justify-between mt-auto pt-8",children:[n>1?e.jsxs("button",{type:"button",onClick:()=>{n>1&&r(n-1)},disabled:i,className:"flex items-center gap-2 text-slate-500 hover:text-slate-800 font-bold px-4 py-2 hover:bg-slate-50 rounded-lg transition-colors",children:[e.jsx(z,{size:18})," Back"]}):e.jsx("div",{}),n<4?e.jsxs("button",{type:"button",onClick:()=>{o||n<4&&r(n+1)},disabled:1===n&&!m||2===n&&!p||!!o,className:"flex items-center gap-2 bg-slate-900 text-white px-8 py-3 rounded-xl font-bold hover:bg-slate-800 shadow-lg hover:shadow-xl hover:-translate-y-0.5 disabled:opacity-50 disabled:shadow-none disabled:transform-none transition-all",children:["Next ",e.jsx(M,{size:18})]}):e.jsx("button",{type:"submit",disabled:i,className:"flex items-center gap-2 bg-indigo-600 text-white px-10 py-3 rounded-xl font-bold hover:bg-indigo-700 shadow-lg shadow-indigo-500/30 hover:shadow-indigo-500/50 hover:-translate-y-0.5 disabled:opacity-70 transition-all w-full md:w-auto justify-center",children:i?e.jsx(y,{className:"animate-spin"}):"Launch Workspace"})]})]})]})})]})})}const Ss=()=>{const[t]=St(),n=kt(),{setToken:s,setUser:r}=ts(),i=t.get("token"),l=t.get("email"),[o,c]=vt.useState({name:"",password:"",password_confirmation:""}),[d,u]=vt.useState(!1),[h,m]=vt.useState(null),[p,x]=vt.useState(!1);vt.useEffect(()=>{i&&l||m("Invalid invitation link. Please check your email.")},[i,l]);return p?e.jsx("div",{className:"min-h-screen bg-slate-50 flex items-center justify-center p-4",children:e.jsxs(a.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"bg-white p-8 rounded-2xl shadow-xl max-w-md w-full text-center border border-slate-100",children:[e.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(f,{className:"text-green-600",size:32})}),e.jsx("h2",{className:"text-2xl font-bold text-slate-900 mb-2",children:"Welcome Aboard!"}),e.jsx("p",{className:"text-slate-600 mb-6",children:"Your account has been set up successfully. Redirecting you to the dashboard..."}),e.jsx(R,{className:"animate-spin mx-auto text-indigo-600"})]})}):e.jsx("div",{className:"min-h-screen bg-slate-50 flex items-center justify-center p-4",children:e.jsxs(a.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-2xl shadow-xl max-w-md w-full overflow-hidden border border-slate-100",children:[e.jsxs("div",{className:"bg-indigo-600 px-8 py-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-white mb-1",children:"Join the Team"}),e.jsx("p",{className:"text-indigo-100 text-sm",children:"Set up your account to get started."})]}),e.jsxs("div",{className:"p-8",children:[h&&e.jsxs("div",{className:"mb-6 p-4 bg-red-50 text-red-600 text-sm rounded-lg flex gap-3 items-start border border-red-100",children:[e.jsx(b,{size:18,className:"mt-0.5 flex-shrink-0"}),h]}),i&&l?e.jsxs("form",{onSubmit:async e=>{if(e.preventDefault(),o.password===o.password_confirmation){u(!0),m(null);try{const e=await(t={token:i,email:l,name:o.name,password:o.password,password_confirmation:o.password_confirmation},Jn.post("/accept-invite",t));x(!0),e.data.token&&(localStorage.setItem("token",e.data.token),setTimeout(()=>{n("/dashboard"),window.location.reload()},1500))}catch(s){m(s.response?.data?.message||"Failed to accept invitation.")}finally{u(!1)}var t}else m("Passwords do not match")},className:"space-y-5",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1.5",children:"Full Name"}),e.jsx("input",{type:"text",required:!0,value:o.name,onChange:e=>c({...o,name:e.target.value}),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-indigo-500/20 focus:border-indigo-500 transition-colors",placeholder:"John Doe"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1.5",children:"Create Password"}),e.jsx("input",{type:"password",required:!0,minLength:8,value:o.password,onChange:e=>c({...o,password:e.target.value}),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-indigo-500/20 focus:border-indigo-500 transition-colors",placeholder:""})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1.5",children:"Confirm Password"}),e.jsx("input",{type:"password",required:!0,minLength:8,value:o.password_confirmation,onChange:e=>c({...o,password_confirmation:e.target.value}),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-indigo-500/20 focus:border-indigo-500 transition-colors",placeholder:""})]}),e.jsxs("button",{type:"submit",disabled:d,className:"w-full py-2.5 bg-indigo-600 text-white font-semibold rounded-lg hover:bg-indigo-700 focus:ring-4 focus:ring-indigo-500/20 transition-all shadow-sm flex items-center justify-center gap-2",children:[d&&e.jsx(R,{size:18,className:"animate-spin"}),"Complete Setup"]})]}):e.jsx("div",{className:"text-center",children:e.jsx("button",{onClick:()=>n("/login"),className:"text-indigo-600 font-medium hover:underline",children:"Go to Login"})})]})]})})},Cs=()=>{const[t,n]=vt.useState("idle"),[s,r]=vt.useState("");return e.jsxs("div",{className:"min-h-screen bg-[#0A0A0A] flex flex-col justify-center items-center px-4 sm:px-6 lg:px-8 relative overflow-hidden",children:[e.jsxs("div",{className:"absolute top-0 left-0 w-full h-full overflow-hidden pointer-events-none",children:[e.jsx("div",{className:"absolute top-[-10%] left-[-10%] w-[40%] h-[40%] bg-purple-500/10 rounded-full blur-[100px]"}),e.jsx("div",{className:"absolute bottom-[-10%] right-[-10%] w-[40%] h-[40%] bg-blue-500/10 rounded-full blur-[100px]"})]}),e.jsxs(a.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"max-w-md w-full space-y-8 bg-white/5 backdrop-blur-xl p-8 rounded-2xl border border-white/10 relative z-10 text-center",children:[e.jsx("div",{className:"mx-auto w-16 h-16 bg-purple-500/20 rounded-full flex items-center justify-center mb-6",children:e.jsx(v,{className:"h-8 w-8 text-purple-400"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-3xl font-bold text-white mb-2",children:"Check your inbox"}),e.jsx("p",{className:"text-gray-400 text-lg",children:"We've sent a verification link to your email."})]}),e.jsxs("div",{className:"bg-white/5 rounded-lg p-4 text-left border border-white/5",children:[e.jsx("p",{className:"text-sm text-gray-300 mb-2",children:"Click the link in the email to verify your account and unlock:"}),e.jsxs("ul",{className:"space-y-2 text-sm text-gray-400",children:[e.jsxs("li",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"w-1.5 h-1.5 bg-green-500 rounded-full"}),"Full access to all tools"]}),e.jsxs("li",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"w-1.5 h-1.5 bg-green-500 rounded-full"}),"Secure document sharing"]}),e.jsxs("li",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"w-1.5 h-1.5 bg-green-500 rounded-full"}),"Team collaboration features"]})]})]}),e.jsxs("div",{className:"pt-4 border-t border-white/10",children:[e.jsxs("p",{className:"text-sm text-gray-500",children:["Didn't receive the email? ",e.jsx("span",{className:"text-gray-400",children:"Check your spam folder or"}),e.jsx("button",{onClick:async()=>{n("loading");try{await(async()=>(await Jn.post("/email/resend")).data)(),n("success"),r("Verification link resent!"),setTimeout(()=>{n("idle"),r("")},5e3)}catch(e){n("error"),r(e.response?.data?.message||"Failed to resend.")}},disabled:"loading"===t||"success"===t,className:"ml-1 text-purple-400 hover:text-purple-300 font-medium transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"loading"===t?"Sending...":"click to resend"})]}),("success"===t||"error"===t)&&e.jsx(a.p,{initial:{opacity:0,y:-5},animate:{opacity:1,y:0},className:"text-xs mt-2 font-medium "+("success"===t?"text-green-400":"text-red-400"),children:s})]}),e.jsx("div",{className:"text-sm",children:e.jsxs(jt,{to:"/login",className:"text-gray-500 hover:text-white transition-colors flex items-center justify-center gap-2 group",children:["Back to login ",e.jsx(o,{className:"w-4 h-4 group-hover:translate-x-1 transition-transform"})]})})]})]})},_s=()=>{const[t]=St(),n=kt(),{fetchUser:s}=ts(),[r,i]=vt.useState("verifying"),[l,o]=vt.useState("Verifying your email...");return vt.useEffect(()=>{(async()=>{const e=t.get("verify_url");if(!e)return i("error"),void o("Invalid verification link.");try{await Jn.get(e),i("success"),o("Email verified successfully!"),await s(),setTimeout(()=>{localStorage.getItem("token")?n("/onboarding"):n("/login",{state:{message:"Email verified successfully! Please log in to continue."}})},2e3)}catch(a){i("error");const e=a.response?.data?.message||"Verification failed. The link may be expired.";o(e),At.error(e)}})()},[t,n,s]),e.jsxs("div",{className:"min-h-screen bg-[#0A0A0A] flex justify-center items-center px-4 relative overflow-hidden",children:[e.jsxs("div",{className:"absolute top-0 left-0 w-full h-full overflow-hidden pointer-events-none",children:[e.jsx("div",{className:"absolute top-[-10%] right-[-10%] w-[40%] h-[40%] bg-purple-500/10 rounded-full blur-[100px]"}),e.jsx("div",{className:"absolute bottom-[-10%] left-[-10%] w-[40%] h-[40%] bg-blue-500/10 rounded-full blur-[100px]"})]}),e.jsxs(a.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"max-w-md w-full bg-white/5 backdrop-blur-xl p-8 rounded-2xl border border-white/10 flex flex-col items-center text-center relative z-10",children:["verifying"===r&&e.jsxs(e.Fragment,{children:[e.jsx(y,{className:"w-12 h-12 text-blue-500 animate-spin mb-4"}),e.jsx("h2",{className:"text-xl font-semibold text-white",children:"Verifying..."}),e.jsx("p",{className:"text-gray-400 mt-2",children:"Please wait while we secure your account."})]}),"success"===r&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-16 h-16 bg-green-500/20 rounded-full flex items-center justify-center mb-4",children:e.jsx(A,{className:"w-8 h-8 text-green-500"})}),e.jsx("h2",{className:"text-2xl font-bold text-white",children:"Verified!"}),e.jsx("p",{className:"text-gray-400 mt-2",children:l}),e.jsx("p",{className:"text-sm text-gray-500 mt-4",children:"Redirecting to onboarding..."})]}),"error"===r&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-16 h-16 bg-red-500/20 rounded-full flex items-center justify-center mb-4",children:e.jsx(O,{className:"w-8 h-8 text-red-500"})}),e.jsx("h2",{className:"text-xl font-bold text-white",children:"Verification Failed"}),e.jsx("p",{className:"text-gray-400 mt-2",children:l}),e.jsx("button",{onClick:()=>n("/login"),className:"mt-6 px-6 py-2 bg-white/10 hover:bg-white/20 text-white rounded-lg transition-colors border border-white/10",children:"Back to Login"})]})]})]})},Ps=()=>{const[t,n]=vt.useState(""),[s,a]=vt.useState(!1),[r,i]=vt.useState(null),[l,o]=vt.useState(!1);return l?e.jsx(gs,{title:"Check your inbox",subtitle:"We've sent you a password reset link.",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"mx-auto w-12 h-12 bg-green-100 rounded-full flex items-center justify-center mb-6",children:e.jsx(v,{className:"text-green-600",size:24})}),e.jsxs("p",{className:"text-slate-600 mb-6",children:["We sent a password reset link to ",e.jsx("strong",{children:t}),". Please check your email and follow the instructions to reset your password."]}),e.jsxs(jt,{to:"/login",className:"inline-flex items-center text-sm font-medium text-indigo-600 hover:text-indigo-500",children:[e.jsx(F,{className:"mr-2",size:16}),"Back to sign in"]})]})}):e.jsx(gs,{title:"Reset password",subtitle:"Enter your email and we'll send you a reset link.",children:e.jsxs("form",{onSubmit:async e=>{e.preventDefault(),i(null),a(!0);try{await(async e=>await Jn.post("/forgot-password",{email:e}))(t),o(!0)}catch(n){i(n.response?.data?.message||n.response?.data?.errors?.email?.[0]||"Failed to send reset link.")}finally{a(!1)}},className:"space-y-6",children:[r&&e.jsx("div",{className:"bg-red-50 text-red-600 px-4 py-3 rounded-lg text-sm border border-red-100",children:r}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-slate-700",children:"Email address"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(v,{className:"h-5 w-5 text-slate-400"})}),e.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:t,onChange:e=>n(e.target.value),className:"block w-full pl-10 pr-3 py-2 border border-slate-300 rounded-lg focus:ring-indigo-500 focus:border-indigo-500 text-sm",placeholder:"you@example.com"})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("button",{type:"submit",disabled:s,className:"w-full flex justify-center py-2.5 px-4 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-slate-900 hover:bg-slate-800 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-slate-900 disabled:opacity-50 disabled:cursor-not-allowed",children:s?e.jsxs(e.Fragment,{children:[e.jsx(y,{className:"animate-spin -ml-1 mr-2 h-4 w-4"}),"Sending link..."]}):"Send reset link"}),e.jsx("div",{className:"text-center",children:e.jsxs(jt,{to:"/login",className:"inline-flex items-center text-sm font-medium text-slate-600 hover:text-slate-900",children:[e.jsx(F,{className:"mr-2",size:16}),"Back to sign in"]})})]})]})})},Ds=()=>{const{token:t}=Ct(),[n]=St(),s=kt(),a=n.get("email"),[r,i]=vt.useState(""),[l,o]=vt.useState(""),[c,u]=vt.useState(!1),[h,m]=vt.useState(null),[p,x]=vt.useState(!1);return p?e.jsx(gs,{title:"Password Reset",subtitle:"Your password has been successfully reset.",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"mx-auto w-12 h-12 bg-green-100 rounded-full flex items-center justify-center mb-6",children:e.jsx(f,{className:"text-green-600",size:24})}),e.jsx("p",{className:"text-slate-600 mb-6",children:"You will be redirected to the login page momentarily."}),e.jsxs(jt,{to:"/login",className:"inline-flex items-center text-sm font-medium text-indigo-600 hover:text-indigo-500",children:[e.jsx(F,{className:"mr-2",size:16}),"Go to Sign In"]})]})}):e.jsx(gs,{title:"Set new password",subtitle:"Your new password must be different to previously used passwords.",children:e.jsxs("form",{onSubmit:async e=>{if(e.preventDefault(),m(null),r===l)if(r.length<8)m("Password must be at least 8 characters");else{u(!0);try{await(async e=>await Jn.post("/reset-password",e))({token:t,email:a,password:r,password_confirmation:l}),x(!0),setTimeout(()=>{s("/login",{state:{message:"Password reset successfully. Please login with your new password."}})},3e3)}catch(n){m(n.response?.data?.message||n.response?.data?.errors?.password?.[0]||"Failed to reset password.")}finally{u(!1)}}else m("Passwords do not match")},className:"space-y-6",children:[h&&e.jsx("div",{className:"bg-red-50 text-red-600 px-4 py-3 rounded-lg text-sm border border-red-100",children:h}),e.jsx("input",{type:"hidden",name:"email",value:a||""}),e.jsx("input",{type:"hidden",name:"token",value:t||""}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-slate-700",children:"New Password"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(d,{className:"h-5 w-5 text-slate-400"})}),e.jsx("input",{id:"password",name:"password",type:"password",required:!0,value:r,onChange:e=>i(e.target.value),className:"block w-full pl-10 pr-3 py-2 border border-slate-300 rounded-lg focus:ring-indigo-500 focus:border-indigo-500 text-sm",placeholder:""})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{htmlFor:"password_confirmation",className:"block text-sm font-medium text-slate-700",children:"Confirm Password"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(d,{className:"h-5 w-5 text-slate-400"})}),e.jsx("input",{id:"password_confirmation",name:"password_confirmation",type:"password",required:!0,value:l,onChange:e=>o(e.target.value),className:"block w-full pl-10 pr-3 py-2 border border-slate-300 rounded-lg focus:ring-indigo-500 focus:border-indigo-500 text-sm",placeholder:""})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("button",{type:"submit",disabled:c,className:"w-full flex justify-center py-2.5 px-4 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-slate-900 hover:bg-slate-800 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-slate-900 disabled:opacity-50 disabled:cursor-not-allowed",children:c?e.jsxs(e.Fragment,{children:[e.jsx(y,{className:"animate-spin -ml-1 mr-2 h-4 w-4"}),"Resetting password..."]}):"Reset password"}),e.jsx("div",{className:"text-center",children:e.jsxs(jt,{to:"/login",className:"inline-flex items-center text-sm font-medium text-slate-600 hover:text-slate-900",children:[e.jsx(F,{className:"mr-2",size:16}),"Back to sign in"]})})]})]})})},Ts=()=>{const t=kt(),n=wt(),{setToken:s}=ts();return vt.useEffect(()=>{const e=new URLSearchParams(n.search),a=e.get("token"),r=e.get("error");a?(s(a),t("/dashboard")):t("/login",{state:{message:r||"Login failed. Please try again."}})},[n,t,s]),e.jsx("div",{className:"min-h-screen bg-slate-50 flex items-center justify-center",children:e.jsxs("div",{className:"flex flex-col items-center gap-4",children:[e.jsx(y,{className:"animate-spin text-indigo-600",size:40}),e.jsx("p",{className:"text-slate-600 font-medium",children:"Authenticating..."})]})})};function Es(e){return e+.5|0}const zs=(e,t,n)=>Math.max(Math.min(e,n),t);function Ms(e){return zs(Es(2.55*e),0,255)}function Rs(e){return zs(Es(255*e),0,255)}function As(e){return zs(Es(e/2.55)/100,0,1)}function Os(e){return zs(Es(100*e),0,100)}const Fs={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},Is=[..."0123456789ABCDEF"],Ls=e=>Is[15&e],Bs=e=>Is[(240&e)>>4]+Is[15&e],$s=e=>(240&e)>>4==(15&e);function Ws(e){var t=(e=>$s(e.r)&&$s(e.g)&&$s(e.b)&&$s(e.a))(e)?Ls:Bs;return e?"#"+t(e.r)+t(e.g)+t(e.b)+((e,t)=>e<255?t(e):"")(e.a,t):void 0}const Hs=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function Us(e,t,n){const s=t*Math.min(n,1-n),a=(t,a=(t+e/30)%12)=>n-s*Math.max(Math.min(a-3,9-a,1),-1);return[a(0),a(8),a(4)]}function Vs(e,t,n){const s=(s,a=(s+e/60)%6)=>n-n*t*Math.max(Math.min(a,4-a,1),0);return[s(5),s(3),s(1)]}function qs(e,t,n){const s=Us(e,1,.5);let a;for(t+n>1&&(a=1/(t+n),t*=a,n*=a),a=0;a<3;a++)s[a]*=1-t-n,s[a]+=t;return s}function Ys(e){const t=e.r/255,n=e.g/255,s=e.b/255,a=Math.max(t,n,s),r=Math.min(t,n,s),i=(a+r)/2;let l,o,c;return a!==r&&(c=a-r,o=i>.5?c/(2-a-r):c/(a+r),l=function(e,t,n,s,a){return e===a?(t-n)/s+(t<n?6:0):t===a?(n-e)/s+2:(e-t)/s+4}(t,n,s,c,a),l=60*l+.5),[0|l,o||0,i]}function Gs(e,t,n,s){return(Array.isArray(t)?e(t[0],t[1],t[2]):e(t,n,s)).map(Rs)}function Xs(e,t,n){return Gs(Us,e,t,n)}function Qs(e){return(e%360+360)%360}function Ks(e){const t=Hs.exec(e);let n,s=255;if(!t)return;t[5]!==n&&(s=t[6]?Ms(+t[5]):Rs(+t[5]));const a=Qs(+t[2]),r=+t[3]/100,i=+t[4]/100;return n="hwb"===t[1]?function(e,t,n){return Gs(qs,e,t,n)}(a,r,i):"hsv"===t[1]?function(e,t,n){return Gs(Vs,e,t,n)}(a,r,i):Xs(a,r,i),{r:n[0],g:n[1],b:n[2],a:s}}const Js={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},Zs={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};let ea;function ta(e){ea||(ea=function(){const e={},t=Object.keys(Zs),n=Object.keys(Js);let s,a,r,i,l;for(s=0;s<t.length;s++){for(i=l=t[s],a=0;a<n.length;a++)r=n[a],l=l.replace(r,Js[r]);r=parseInt(Zs[i],16),e[l]=[r>>16&255,r>>8&255,255&r]}return e}(),ea.transparent=[0,0,0,0]);const t=ea[e.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:4===t.length?t[3]:255}}const na=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;const sa=e=>e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055,aa=e=>e<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4);function ra(e,t,n){if(e){let s=Ys(e);s[t]=Math.max(0,Math.min(s[t]+s[t]*n,0===t?360:1)),s=Xs(s),e.r=s[0],e.g=s[1],e.b=s[2]}}function ia(e,t){return e?Object.assign(t||{},e):e}function la(e){var t={r:0,g:0,b:0,a:255};return Array.isArray(e)?e.length>=3&&(t={r:e[0],g:e[1],b:e[2],a:255},e.length>3&&(t.a=Rs(e[3]))):(t=ia(e,{r:0,g:0,b:0,a:1})).a=Rs(t.a),t}function oa(e){return"r"===e.charAt(0)?function(e){const t=na.exec(e);let n,s,a,r=255;if(t){if(t[7]!==n){const e=+t[7];r=t[8]?Ms(e):zs(255*e,0,255)}return n=+t[1],s=+t[3],a=+t[5],n=255&(t[2]?Ms(n):zs(n,0,255)),s=255&(t[4]?Ms(s):zs(s,0,255)),a=255&(t[6]?Ms(a):zs(a,0,255)),{r:n,g:s,b:a,a:r}}}(e):Ks(e)}class ca{constructor(e){if(e instanceof ca)return e;const t=typeof e;let n;var s,a,r;"object"===t?n=la(e):"string"===t&&(r=(s=e).length,"#"===s[0]&&(4===r||5===r?a={r:255&17*Fs[s[1]],g:255&17*Fs[s[2]],b:255&17*Fs[s[3]],a:5===r?17*Fs[s[4]]:255}:7!==r&&9!==r||(a={r:Fs[s[1]]<<4|Fs[s[2]],g:Fs[s[3]]<<4|Fs[s[4]],b:Fs[s[5]]<<4|Fs[s[6]],a:9===r?Fs[s[7]]<<4|Fs[s[8]]:255})),n=a||ta(e)||oa(e)),this._rgb=n,this._valid=!!n}get valid(){return this._valid}get rgb(){var e=ia(this._rgb);return e&&(e.a=As(e.a)),e}set rgb(e){this._rgb=la(e)}rgbString(){return this._valid?(e=this._rgb)&&(e.a<255?`rgba(${e.r}, ${e.g}, ${e.b}, ${As(e.a)})`:`rgb(${e.r}, ${e.g}, ${e.b})`):void 0;var e}hexString(){return this._valid?Ws(this._rgb):void 0}hslString(){return this._valid?function(e){if(!e)return;const t=Ys(e),n=t[0],s=Os(t[1]),a=Os(t[2]);return e.a<255?`hsla(${n}, ${s}%, ${a}%, ${As(e.a)})`:`hsl(${n}, ${s}%, ${a}%)`}(this._rgb):void 0}mix(e,t){if(e){const n=this.rgb,s=e.rgb;let a;const r=t===a?.5:t,i=2*r-1,l=n.a-s.a,o=((i*l===-1?i:(i+l)/(1+i*l))+1)/2;a=1-o,n.r=255&o*n.r+a*s.r+.5,n.g=255&o*n.g+a*s.g+.5,n.b=255&o*n.b+a*s.b+.5,n.a=r*n.a+(1-r)*s.a,this.rgb=n}return this}interpolate(e,t){return e&&(this._rgb=function(e,t,n){const s=aa(As(e.r)),a=aa(As(e.g)),r=aa(As(e.b));return{r:Rs(sa(s+n*(aa(As(t.r))-s))),g:Rs(sa(a+n*(aa(As(t.g))-a))),b:Rs(sa(r+n*(aa(As(t.b))-r))),a:e.a+n*(t.a-e.a)}}(this._rgb,e._rgb,t)),this}clone(){return new ca(this.rgb)}alpha(e){return this._rgb.a=Rs(e),this}clearer(e){return this._rgb.a*=1-e,this}greyscale(){const e=this._rgb,t=Es(.3*e.r+.59*e.g+.11*e.b);return e.r=e.g=e.b=t,this}opaquer(e){return this._rgb.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return ra(this._rgb,2,e),this}darken(e){return ra(this._rgb,2,-e),this}saturate(e){return ra(this._rgb,1,e),this}desaturate(e){return ra(this._rgb,1,-e),this}rotate(e){return function(e,t){var n=Ys(e);n[0]=Qs(n[0]+t),n=Xs(n),e.r=n[0],e.g=n[1],e.b=n[2]}(this._rgb,e),this}}function da(){}const ua=(()=>{let e=0;return()=>e++})();function ha(e){return null==e}function ma(e){if(Array.isArray&&Array.isArray(e))return!0;const t=Object.prototype.toString.call(e);return"[object"===t.slice(0,7)&&"Array]"===t.slice(-6)}function pa(e){return null!==e&&"[object Object]"===Object.prototype.toString.call(e)}function fa(e){return("number"==typeof e||e instanceof Number)&&isFinite(+e)}function xa(e,t){return fa(e)?e:t}function ga(e,t){return void 0===e?t:e}const ba=(e,t)=>"string"==typeof e&&e.endsWith("%")?parseFloat(e)/100*t:+e;function va(e,t,n){if(e&&"function"==typeof e.call)return e.apply(n,t)}function ya(e,t,n,s){let a,r,i;if(ma(e))for(r=e.length,a=0;a<r;a++)t.call(n,e[a],a);else if(pa(e))for(i=Object.keys(e),r=i.length,a=0;a<r;a++)t.call(n,e[i[a]],i[a])}function wa(e,t){let n,s,a,r;if(!e||!t||e.length!==t.length)return!1;for(n=0,s=e.length;n<s;++n)if(a=e[n],r=t[n],a.datasetIndex!==r.datasetIndex||a.index!==r.index)return!1;return!0}function ja(e){if(ma(e))return e.map(ja);if(pa(e)){const t=Object.create(null),n=Object.keys(e),s=n.length;let a=0;for(;a<s;++a)t[n[a]]=ja(e[n[a]]);return t}return e}function Na(e){return-1===["__proto__","prototype","constructor"].indexOf(e)}function ka(e,t,n,s){if(!Na(e))return;const a=t[e],r=n[e];pa(a)&&pa(r)?Sa(a,r,s):t[e]=ja(r)}function Sa(e,t,n){const s=ma(t)?t:[t],a=s.length;if(!pa(e))return e;const r=(n=n||{}).merger||ka;let i;for(let l=0;l<a;++l){if(i=s[l],!pa(i))continue;const t=Object.keys(i);for(let s=0,a=t.length;s<a;++s)r(t[s],e,i,n)}return e}function Ca(e,t){return Sa(e,t,{merger:_a})}function _a(e,t,n){if(!Na(e))return;const s=t[e],a=n[e];pa(s)&&pa(a)?Ca(s,a):Object.prototype.hasOwnProperty.call(t,e)||(t[e]=ja(a))}const Pa={"":e=>e,x:e=>e.x,y:e=>e.y};function Da(e,t){const n=Pa[t]||(Pa[t]=function(e){const t=function(e){const t=e.split("."),n=[];let s="";for(const a of t)s+=a,s.endsWith("\\")?s=s.slice(0,-1)+".":(n.push(s),s="");return n}(e);return e=>{for(const n of t){if(""===n)break;e=e&&e[n]}return e}}(t));return n(e)}function Ta(e){return e.charAt(0).toUpperCase()+e.slice(1)}const Ea=e=>void 0!==e,za=e=>"function"==typeof e,Ma=(e,t)=>{if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0};const Ra=Math.PI,Aa=2*Ra,Oa=Aa+Ra,Fa=Number.POSITIVE_INFINITY,Ia=Ra/180,La=Ra/2,Ba=Ra/4,$a=2*Ra/3,Wa=Math.log10,Ha=Math.sign;function Ua(e,t,n){return Math.abs(e-t)<n}function Va(e){const t=Math.round(e);e=Ua(e,t,e/1e3)?t:e;const n=Math.pow(10,Math.floor(Wa(e))),s=e/n;return(s<=1?1:s<=2?2:s<=5?5:10)*n}function qa(e){return!function(e){return"symbol"==typeof e||"object"==typeof e&&null!==e&&!(Symbol.toPrimitive in e||"toString"in e||"valueOf"in e)}(e)&&!isNaN(parseFloat(e))&&isFinite(e)}function Ya(e){return e*(Ra/180)}function Ga(e){if(!fa(e))return;let t=1,n=0;for(;Math.round(e*t)/t!==e;)t*=10,n++;return n}function Xa(e,t){const n=t.x-e.x,s=t.y-e.y,a=Math.sqrt(n*n+s*s);let r=Math.atan2(s,n);return r<-.5*Ra&&(r+=Aa),{angle:r,distance:a}}function Qa(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function Ka(e,t){return(e-t+Oa)%Aa-Ra}function Ja(e){return(e%Aa+Aa)%Aa}function Za(e,t,n,s){const a=Ja(e),r=Ja(t),i=Ja(n),l=Ja(r-a),o=Ja(i-a),c=Ja(a-r),d=Ja(a-i);return a===r||a===i||s&&r===i||l>o&&c<d}function er(e,t,n){return Math.max(t,Math.min(n,e))}function tr(e,t,n,s=1e-6){return e>=Math.min(t,n)-s&&e<=Math.max(t,n)+s}function nr(e,t,n){n=n||(n=>e[n]<t);let s,a=e.length-1,r=0;for(;a-r>1;)s=r+a>>1,n(s)?r=s:a=s;return{lo:r,hi:a}}const sr=(e,t,n,s)=>nr(e,n,s?s=>{const a=e[s][t];return a<n||a===n&&e[s+1][t]===n}:s=>e[s][t]<n),ar=(e,t,n)=>nr(e,n,s=>e[s][t]>=n);const rr=["push","pop","shift","splice","unshift"];function ir(e,t){const n=e._chartjs;if(!n)return;const s=n.listeners,a=s.indexOf(t);-1!==a&&s.splice(a,1),s.length>0||(rr.forEach(t=>{delete e[t]}),delete e._chartjs)}const lr="undefined"==typeof window?function(e){return e()}:window.requestAnimationFrame;function or(e,t){let n=[],s=!1;return function(...a){n=a,s||(s=!0,lr.call(window,()=>{s=!1,e.apply(t,n)}))}}const cr=e=>"start"===e?"left":"end"===e?"right":"center",dr=(e,t,n)=>"start"===e?t:"end"===e?n:(t+n)/2;const ur=e=>0===e||1===e,hr=(e,t,n)=>-Math.pow(2,10*(e-=1))*Math.sin((e-t)*Aa/n),mr=(e,t,n)=>Math.pow(2,-10*e)*Math.sin((e-t)*Aa/n)+1,pr={linear:e=>e,easeInQuad:e=>e*e,easeOutQuad:e=>-e*(e-2),easeInOutQuad:e=>(e/=.5)<1?.5*e*e:-.5*(--e*(e-2)-1),easeInCubic:e=>e*e*e,easeOutCubic:e=>(e-=1)*e*e+1,easeInOutCubic:e=>(e/=.5)<1?.5*e*e*e:.5*((e-=2)*e*e+2),easeInQuart:e=>e*e*e*e,easeOutQuart:e=>-((e-=1)*e*e*e-1),easeInOutQuart:e=>(e/=.5)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2),easeInQuint:e=>e*e*e*e*e,easeOutQuint:e=>(e-=1)*e*e*e*e+1,easeInOutQuint:e=>(e/=.5)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2),easeInSine:e=>1-Math.cos(e*La),easeOutSine:e=>Math.sin(e*La),easeInOutSine:e=>-.5*(Math.cos(Ra*e)-1),easeInExpo:e=>0===e?0:Math.pow(2,10*(e-1)),easeOutExpo:e=>1===e?1:1-Math.pow(2,-10*e),easeInOutExpo:e=>ur(e)?e:e<.5?.5*Math.pow(2,10*(2*e-1)):.5*(2-Math.pow(2,-10*(2*e-1))),easeInCirc:e=>e>=1?e:-(Math.sqrt(1-e*e)-1),easeOutCirc:e=>Math.sqrt(1-(e-=1)*e),easeInOutCirc:e=>(e/=.5)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1),easeInElastic:e=>ur(e)?e:hr(e,.075,.3),easeOutElastic:e=>ur(e)?e:mr(e,.075,.3),easeInOutElastic(e){const t=.1125;return ur(e)?e:e<.5?.5*hr(2*e,t,.45):.5+.5*mr(2*e-1,t,.45)},easeInBack(e){const t=1.70158;return e*e*((t+1)*e-t)},easeOutBack(e){const t=1.70158;return(e-=1)*e*((t+1)*e+t)+1},easeInOutBack(e){let t=1.70158;return(e/=.5)<1?e*e*((1+(t*=1.525))*e-t)*.5:.5*((e-=2)*e*((1+(t*=1.525))*e+t)+2)},easeInBounce:e=>1-pr.easeOutBounce(1-e),easeOutBounce(e){const t=7.5625,n=2.75;return e<1/n?t*e*e:e<2/n?t*(e-=1.5/n)*e+.75:e<2.5/n?t*(e-=2.25/n)*e+.9375:t*(e-=2.625/n)*e+.984375},easeInOutBounce:e=>e<.5?.5*pr.easeInBounce(2*e):.5*pr.easeOutBounce(2*e-1)+.5};function fr(e){if(e&&"object"==typeof e){const t=e.toString();return"[object CanvasPattern]"===t||"[object CanvasGradient]"===t}return!1}function xr(e){return fr(e)?e:new ca(e)}function gr(e){return fr(e)?e:new ca(e).saturate(.5).darken(.1).hexString()}const br=["x","y","borderWidth","radius","tension"],vr=["color","borderColor","backgroundColor"];const yr=new Map;function wr(e,t,n){return function(e,t){t=t||{};const n=e+JSON.stringify(t);let s=yr.get(n);return s||(s=new Intl.NumberFormat(e,t),yr.set(n,s)),s}(t,n).format(e)}var jr={formatters:{values:e=>ma(e)?e:""+e,numeric(e,t,n){if(0===e)return"0";const s=this.chart.options.locale;let a,r=e;if(n.length>1){const t=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(t<1e-4||t>1e15)&&(a="scientific"),r=function(e,t){let n=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;Math.abs(n)>=1&&e!==Math.floor(e)&&(n=e-Math.floor(e));return n}(e,n)}const i=Wa(Math.abs(r)),l=isNaN(i)?1:Math.max(Math.min(-1*Math.floor(i),20),0),o={notation:a,minimumFractionDigits:l,maximumFractionDigits:l};return Object.assign(o,this.options.ticks.format),wr(e,s,o)}}};const Nr=Object.create(null),kr=Object.create(null);function Sr(e,t){if(!t)return e;const n=t.split(".");for(let s=0,a=n.length;s<a;++s){const t=n[s];e=e[t]||(e[t]=Object.create(null))}return e}function Cr(e,t,n){return"string"==typeof t?Sa(Sr(e,t),n):Sa(Sr(e,""),t)}class _r{constructor(e,t){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=e=>e.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(e,t)=>gr(t.backgroundColor),this.hoverBorderColor=(e,t)=>gr(t.borderColor),this.hoverColor=(e,t)=>gr(t.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(t)}set(e,t){return Cr(this,e,t)}get(e){return Sr(this,e)}describe(e,t){return Cr(kr,e,t)}override(e,t){return Cr(Nr,e,t)}route(e,t,n,s){const a=Sr(this,e),r=Sr(this,n),i="_"+t;Object.defineProperties(a,{[i]:{value:a[t],writable:!0},[t]:{enumerable:!0,get(){const e=this[i],t=r[s];return pa(e)?Object.assign({},t,e):ga(e,t)},set(e){this[i]=e}}})}apply(e){e.forEach(e=>e(this))}}var Pr=new _r({_scriptable:e=>!e.startsWith("on"),_indexable:e=>"events"!==e,hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[function(e){e.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),e.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>"onProgress"!==e&&"onComplete"!==e&&"fn"!==e}),e.set("animations",{colors:{type:"color",properties:vr},numbers:{type:"number",properties:br}}),e.describe("animations",{_fallback:"animation"}),e.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>0|e}}}})},function(e){e.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})},function(e){e.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,t)=>t.lineWidth,tickColor:(e,t)=>t.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:jr.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),e.route("scale.ticks","color","","color"),e.route("scale.grid","color","","borderColor"),e.route("scale.border","color","","borderColor"),e.route("scale.title","color","","color"),e.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&"callback"!==e&&"parser"!==e,_indexable:e=>"borderDash"!==e&&"tickBorderDash"!==e&&"dash"!==e}),e.describe("scales",{_fallback:"scale"}),e.describe("scale.ticks",{_scriptable:e=>"backdropPadding"!==e&&"callback"!==e,_indexable:e=>"backdropPadding"!==e})}]);function Dr(e,t,n,s,a){let r=t[a];return r||(r=t[a]=e.measureText(a).width,n.push(a)),r>s&&(s=r),s}function Tr(e,t,n){const s=e.currentDevicePixelRatio,a=0!==n?Math.max(n/2,.5):0;return Math.round((t-a)*s)/s+a}function Er(e,t){(t||e)&&((t=t||e.getContext("2d")).save(),t.resetTransform(),t.clearRect(0,0,e.width,e.height),t.restore())}function zr(e,t,n,s){Mr(e,t,n,s,null)}function Mr(e,t,n,s,a){let r,i,l,o,c,d,u,h;const m=t.pointStyle,p=t.rotation,f=t.radius;let x=(p||0)*Ia;if(m&&"object"==typeof m&&(r=m.toString(),"[object HTMLImageElement]"===r||"[object HTMLCanvasElement]"===r))return e.save(),e.translate(n,s),e.rotate(x),e.drawImage(m,-m.width/2,-m.height/2,m.width,m.height),void e.restore();if(!(isNaN(f)||f<=0)){switch(e.beginPath(),m){default:a?e.ellipse(n,s,a/2,f,0,0,Aa):e.arc(n,s,f,0,Aa),e.closePath();break;case"triangle":d=a?a/2:f,e.moveTo(n+Math.sin(x)*d,s-Math.cos(x)*f),x+=$a,e.lineTo(n+Math.sin(x)*d,s-Math.cos(x)*f),x+=$a,e.lineTo(n+Math.sin(x)*d,s-Math.cos(x)*f),e.closePath();break;case"rectRounded":c=.516*f,o=f-c,i=Math.cos(x+Ba)*o,u=Math.cos(x+Ba)*(a?a/2-c:o),l=Math.sin(x+Ba)*o,h=Math.sin(x+Ba)*(a?a/2-c:o),e.arc(n-u,s-l,c,x-Ra,x-La),e.arc(n+h,s-i,c,x-La,x),e.arc(n+u,s+l,c,x,x+La),e.arc(n-h,s+i,c,x+La,x+Ra),e.closePath();break;case"rect":if(!p){o=Math.SQRT1_2*f,d=a?a/2:o,e.rect(n-d,s-o,2*d,2*o);break}x+=Ba;case"rectRot":u=Math.cos(x)*(a?a/2:f),i=Math.cos(x)*f,l=Math.sin(x)*f,h=Math.sin(x)*(a?a/2:f),e.moveTo(n-u,s-l),e.lineTo(n+h,s-i),e.lineTo(n+u,s+l),e.lineTo(n-h,s+i),e.closePath();break;case"crossRot":x+=Ba;case"cross":u=Math.cos(x)*(a?a/2:f),i=Math.cos(x)*f,l=Math.sin(x)*f,h=Math.sin(x)*(a?a/2:f),e.moveTo(n-u,s-l),e.lineTo(n+u,s+l),e.moveTo(n+h,s-i),e.lineTo(n-h,s+i);break;case"star":u=Math.cos(x)*(a?a/2:f),i=Math.cos(x)*f,l=Math.sin(x)*f,h=Math.sin(x)*(a?a/2:f),e.moveTo(n-u,s-l),e.lineTo(n+u,s+l),e.moveTo(n+h,s-i),e.lineTo(n-h,s+i),x+=Ba,u=Math.cos(x)*(a?a/2:f),i=Math.cos(x)*f,l=Math.sin(x)*f,h=Math.sin(x)*(a?a/2:f),e.moveTo(n-u,s-l),e.lineTo(n+u,s+l),e.moveTo(n+h,s-i),e.lineTo(n-h,s+i);break;case"line":i=a?a/2:Math.cos(x)*f,l=Math.sin(x)*f,e.moveTo(n-i,s-l),e.lineTo(n+i,s+l);break;case"dash":e.moveTo(n,s),e.lineTo(n+Math.cos(x)*(a?a/2:f),s+Math.sin(x)*f);break;case!1:e.closePath()}e.fill(),t.borderWidth>0&&e.stroke()}}function Rr(e,t,n){return n=n||.5,!t||e&&e.x>t.left-n&&e.x<t.right+n&&e.y>t.top-n&&e.y<t.bottom+n}function Ar(e,t){e.save(),e.beginPath(),e.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),e.clip()}function Or(e){e.restore()}function Fr(e,t,n,s,a){if(!t)return e.lineTo(n.x,n.y);if("middle"===a){const s=(t.x+n.x)/2;e.lineTo(s,t.y),e.lineTo(s,n.y)}else"after"===a!=!!s?e.lineTo(t.x,n.y):e.lineTo(n.x,t.y);e.lineTo(n.x,n.y)}function Ir(e,t,n,s){if(!t)return e.lineTo(n.x,n.y);e.bezierCurveTo(s?t.cp1x:t.cp2x,s?t.cp1y:t.cp2y,s?n.cp2x:n.cp1x,s?n.cp2y:n.cp1y,n.x,n.y)}function Lr(e,t,n,s,a){if(a.strikethrough||a.underline){const r=e.measureText(s),i=t-r.actualBoundingBoxLeft,l=t+r.actualBoundingBoxRight,o=n-r.actualBoundingBoxAscent,c=n+r.actualBoundingBoxDescent,d=a.strikethrough?(o+c)/2:c;e.strokeStyle=e.fillStyle,e.beginPath(),e.lineWidth=a.decorationWidth||2,e.moveTo(i,d),e.lineTo(l,d),e.stroke()}}function Br(e,t){const n=e.fillStyle;e.fillStyle=t.color,e.fillRect(t.left,t.top,t.width,t.height),e.fillStyle=n}function $r(e,t,n,s,a,r={}){const i=ma(t)?t:[t],l=r.strokeWidth>0&&""!==r.strokeColor;let o,c;for(e.save(),e.font=a.string,function(e,t){t.translation&&e.translate(t.translation[0],t.translation[1]),ha(t.rotation)||e.rotate(t.rotation),t.color&&(e.fillStyle=t.color),t.textAlign&&(e.textAlign=t.textAlign),t.textBaseline&&(e.textBaseline=t.textBaseline)}(e,r),o=0;o<i.length;++o)c=i[o],r.backdrop&&Br(e,r.backdrop),l&&(r.strokeColor&&(e.strokeStyle=r.strokeColor),ha(r.strokeWidth)||(e.lineWidth=r.strokeWidth),e.strokeText(c,n,s,r.maxWidth)),e.fillText(c,n,s,r.maxWidth),Lr(e,n,s,c,r),s+=Number(a.lineHeight);e.restore()}function Wr(e,t){const{x:n,y:s,w:a,h:r,radius:i}=t;e.arc(n+i.topLeft,s+i.topLeft,i.topLeft,1.5*Ra,Ra,!0),e.lineTo(n,s+r-i.bottomLeft),e.arc(n+i.bottomLeft,s+r-i.bottomLeft,i.bottomLeft,Ra,La,!0),e.lineTo(n+a-i.bottomRight,s+r),e.arc(n+a-i.bottomRight,s+r-i.bottomRight,i.bottomRight,La,0,!0),e.lineTo(n+a,s+i.topRight),e.arc(n+a-i.topRight,s+i.topRight,i.topRight,0,-La,!0),e.lineTo(n+i.topLeft,s)}const Hr=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,Ur=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function Vr(e,t){const n=(""+e).match(Hr);if(!n||"normal"===n[1])return 1.2*t;switch(e=+n[2],n[3]){case"px":return e;case"%":e/=100}return t*e}const qr=e=>+e||0;function Yr(e,t){const n={},s=pa(t),a=s?Object.keys(t):t,r=pa(e)?s?n=>ga(e[n],e[t[n]]):t=>e[t]:()=>e;for(const i of a)n[i]=qr(r(i));return n}function Gr(e){return Yr(e,{top:"y",right:"x",bottom:"y",left:"x"})}function Xr(e){return Yr(e,["topLeft","topRight","bottomLeft","bottomRight"])}function Qr(e){const t=Gr(e);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function Kr(e,t){e=e||{},t=t||Pr.font;let n=ga(e.size,t.size);"string"==typeof n&&(n=parseInt(n,10));let s=ga(e.style,t.style);s&&!(""+s).match(Ur)&&(s=void 0);const a={family:ga(e.family,t.family),lineHeight:Vr(ga(e.lineHeight,t.lineHeight),n),size:n,style:s,weight:ga(e.weight,t.weight),string:""};return a.string=function(e){return!e||ha(e.size)||ha(e.family)?null:(e.style?e.style+" ":"")+(e.weight?e.weight+" ":"")+e.size+"px "+e.family}(a),a}function Jr(e,t,n,s){let a,r,i;for(a=0,r=e.length;a<r;++a)if(i=e[a],void 0!==i&&void 0!==i)return i}function Zr(e,t){return Object.assign(Object.create(e),t)}function ei(e,t=[""],n,s,a=()=>e[0]){const r=n||e;void 0===s&&(s=ui("_fallback",e));const i={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:e,_rootScopes:r,_fallback:s,_getTarget:a,override:n=>ei([n,...e],t,r,s)};return new Proxy(i,{deleteProperty:(t,n)=>(delete t[n],delete t._keys,delete e[0][n],!0),get:(n,s)=>ri(n,s,()=>function(e,t,n,s){let a;for(const r of t)if(a=ui(si(r,e),n),void 0!==a)return ai(e,a)?ci(n,s,e,a):a}(s,t,e,n)),getOwnPropertyDescriptor:(e,t)=>Reflect.getOwnPropertyDescriptor(e._scopes[0],t),getPrototypeOf:()=>Reflect.getPrototypeOf(e[0]),has:(e,t)=>hi(e).includes(t),ownKeys:e=>hi(e),set(e,t,n){const s=e._storage||(e._storage=a());return e[t]=s[t]=n,delete e._keys,!0}})}function ti(e,t,n,s){const a={_cacheable:!1,_proxy:e,_context:t,_subProxy:n,_stack:new Set,_descriptors:ni(e,s),setContext:t=>ti(e,t,n,s),override:a=>ti(e.override(a),t,n,s)};return new Proxy(a,{deleteProperty:(t,n)=>(delete t[n],delete e[n],!0),get:(e,t,n)=>ri(e,t,()=>function(e,t,n){const{_proxy:s,_context:a,_subProxy:r,_descriptors:i}=e;let l=s[t];za(l)&&i.isScriptable(t)&&(l=function(e,t,n,s){const{_proxy:a,_context:r,_subProxy:i,_stack:l}=n;if(l.has(e))throw new Error("Recursion detected: "+Array.from(l).join("->")+"->"+e);l.add(e);let o=t(r,i||s);l.delete(e),ai(e,o)&&(o=ci(a._scopes,a,e,o));return o}(t,l,e,n));ma(l)&&l.length&&(l=function(e,t,n,s){const{_proxy:a,_context:r,_subProxy:i,_descriptors:l}=n;if(void 0!==r.index&&s(e))return t[r.index%t.length];if(pa(t[0])){const n=t,s=a._scopes.filter(e=>e!==n);t=[];for(const o of n){const n=ci(s,a,e,o);t.push(ti(n,r,i&&i[e],l))}}return t}(t,l,e,i.isIndexable));ai(t,l)&&(l=ti(l,a,r&&r[t],i));return l}(e,t,n)),getOwnPropertyDescriptor:(t,n)=>t._descriptors.allKeys?Reflect.has(e,n)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(e,n),getPrototypeOf:()=>Reflect.getPrototypeOf(e),has:(t,n)=>Reflect.has(e,n),ownKeys:()=>Reflect.ownKeys(e),set:(t,n,s)=>(e[n]=s,delete t[n],!0)})}function ni(e,t={scriptable:!0,indexable:!0}){const{_scriptable:n=t.scriptable,_indexable:s=t.indexable,_allKeys:a=t.allKeys}=e;return{allKeys:a,scriptable:n,indexable:s,isScriptable:za(n)?n:()=>n,isIndexable:za(s)?s:()=>s}}const si=(e,t)=>e?e+Ta(t):t,ai=(e,t)=>pa(t)&&"adapters"!==e&&(null===Object.getPrototypeOf(t)||t.constructor===Object);function ri(e,t,n){if(Object.prototype.hasOwnProperty.call(e,t)||"constructor"===t)return e[t];const s=n();return e[t]=s,s}function ii(e,t,n){return za(e)?e(t,n):e}const li=(e,t)=>!0===e?t:"string"==typeof e?Da(t,e):void 0;function oi(e,t,n,s,a){for(const r of t){const t=li(n,r);if(t){e.add(t);const r=ii(t._fallback,n,a);if(void 0!==r&&r!==n&&r!==s)return r}else if(!1===t&&void 0!==s&&n!==s)return null}return!1}function ci(e,t,n,s){const a=t._rootScopes,r=ii(t._fallback,n,s),i=[...e,...a],l=new Set;l.add(s);let o=di(l,i,n,r||n,s);return null!==o&&((void 0===r||r===n||(o=di(l,i,r,o,s),null!==o))&&ei(Array.from(l),[""],a,r,()=>function(e,t,n){const s=e._getTarget();t in s||(s[t]={});const a=s[t];if(ma(a)&&pa(n))return n;return a||{}}(t,n,s)))}function di(e,t,n,s,a){for(;n;)n=oi(e,t,n,s,a);return n}function ui(e,t){for(const n of t){if(!n)continue;const t=n[e];if(void 0!==t)return t}}function hi(e){let t=e._keys;return t||(t=e._keys=function(e){const t=new Set;for(const n of e)for(const e of Object.keys(n).filter(e=>!e.startsWith("_")))t.add(e);return Array.from(t)}(e._scopes)),t}const mi=Number.EPSILON||1e-14,pi=(e,t)=>t<e.length&&!e[t].skip&&e[t],fi=e=>"x"===e?"y":"x";function xi(e,t,n,s){const a=e.skip?t:e,r=t,i=n.skip?t:n,l=Qa(r,a),o=Qa(i,r);let c=l/(l+o),d=o/(l+o);c=isNaN(c)?0:c,d=isNaN(d)?0:d;const u=s*c,h=s*d;return{previous:{x:r.x-u*(i.x-a.x),y:r.y-u*(i.y-a.y)},next:{x:r.x+h*(i.x-a.x),y:r.y+h*(i.y-a.y)}}}function gi(e,t="x"){const n=fi(t),s=e.length,a=Array(s).fill(0),r=Array(s);let i,l,o,c=pi(e,0);for(i=0;i<s;++i)if(l=o,o=c,c=pi(e,i+1),o){if(c){const e=c[t]-o[t];a[i]=0!==e?(c[n]-o[n])/e:0}r[i]=l?c?Ha(a[i-1])!==Ha(a[i])?0:(a[i-1]+a[i])/2:a[i-1]:a[i]}!function(e,t,n){const s=e.length;let a,r,i,l,o,c=pi(e,0);for(let d=0;d<s-1;++d)o=c,c=pi(e,d+1),o&&c&&(Ua(t[d],0,mi)?n[d]=n[d+1]=0:(a=n[d]/t[d],r=n[d+1]/t[d],l=Math.pow(a,2)+Math.pow(r,2),l<=9||(i=3/Math.sqrt(l),n[d]=a*i*t[d],n[d+1]=r*i*t[d])))}(e,a,r),function(e,t,n="x"){const s=fi(n),a=e.length;let r,i,l,o=pi(e,0);for(let c=0;c<a;++c){if(i=l,l=o,o=pi(e,c+1),!l)continue;const a=l[n],d=l[s];i&&(r=(a-i[n])/3,l[`cp1${n}`]=a-r,l[`cp1${s}`]=d-r*t[c]),o&&(r=(o[n]-a)/3,l[`cp2${n}`]=a+r,l[`cp2${s}`]=d+r*t[c])}}(e,r,t)}function bi(e,t,n){return Math.max(Math.min(e,n),t)}function vi(e,t,n,s,a){let r,i,l,o;if(t.spanGaps&&(e=e.filter(e=>!e.skip)),"monotone"===t.cubicInterpolationMode)gi(e,a);else{let n=s?e[e.length-1]:e[0];for(r=0,i=e.length;r<i;++r)l=e[r],o=xi(n,l,e[Math.min(r+1,i-(s?0:1))%i],t.tension),l.cp1x=o.previous.x,l.cp1y=o.previous.y,l.cp2x=o.next.x,l.cp2y=o.next.y,n=l}t.capBezierPoints&&function(e,t){let n,s,a,r,i,l=Rr(e[0],t);for(n=0,s=e.length;n<s;++n)i=r,r=l,l=n<s-1&&Rr(e[n+1],t),r&&(a=e[n],i&&(a.cp1x=bi(a.cp1x,t.left,t.right),a.cp1y=bi(a.cp1y,t.top,t.bottom)),l&&(a.cp2x=bi(a.cp2x,t.left,t.right),a.cp2y=bi(a.cp2y,t.top,t.bottom)))}(e,n)}function yi(){return"undefined"!=typeof window&&"undefined"!=typeof document}function wi(e){let t=e.parentNode;return t&&"[object ShadowRoot]"===t.toString()&&(t=t.host),t}function ji(e,t,n){let s;return"string"==typeof e?(s=parseInt(e,10),-1!==e.indexOf("%")&&(s=s/100*t.parentNode[n])):s=e,s}const Ni=e=>e.ownerDocument.defaultView.getComputedStyle(e,null);const ki=["top","right","bottom","left"];function Si(e,t,n){const s={};n=n?"-"+n:"";for(let a=0;a<4;a++){const r=ki[a];s[r]=parseFloat(e[t+"-"+r+n])||0}return s.width=s.left+s.right,s.height=s.top+s.bottom,s}function Ci(e,t){if("native"in e)return e;const{canvas:n,currentDevicePixelRatio:s}=t,a=Ni(n),r="border-box"===a.boxSizing,i=Si(a,"padding"),l=Si(a,"border","width"),{x:o,y:c,box:d}=function(e,t){const n=e.touches,s=n&&n.length?n[0]:e,{offsetX:a,offsetY:r}=s;let i,l,o=!1;if(((e,t,n)=>(e>0||t>0)&&(!n||!n.shadowRoot))(a,r,e.target))i=a,l=r;else{const e=t.getBoundingClientRect();i=s.clientX-e.left,l=s.clientY-e.top,o=!0}return{x:i,y:l,box:o}}(e,n),u=i.left+(d&&l.left),h=i.top+(d&&l.top);let{width:m,height:p}=t;return r&&(m-=i.width+l.width,p-=i.height+l.height),{x:Math.round((o-u)/m*n.width/s),y:Math.round((c-h)/p*n.height/s)}}const _i=e=>Math.round(10*e)/10;function Pi(e,t,n,s){const a=Ni(e),r=Si(a,"margin"),i=ji(a.maxWidth,e,"clientWidth")||Fa,l=ji(a.maxHeight,e,"clientHeight")||Fa,o=function(e,t,n){let s,a;if(void 0===t||void 0===n){const r=e&&wi(e);if(r){const e=r.getBoundingClientRect(),i=Ni(r),l=Si(i,"border","width"),o=Si(i,"padding");t=e.width-o.width-l.width,n=e.height-o.height-l.height,s=ji(i.maxWidth,r,"clientWidth"),a=ji(i.maxHeight,r,"clientHeight")}else t=e.clientWidth,n=e.clientHeight}return{width:t,height:n,maxWidth:s||Fa,maxHeight:a||Fa}}(e,t,n);let{width:c,height:d}=o;if("content-box"===a.boxSizing){const e=Si(a,"border","width"),t=Si(a,"padding");c-=t.width+e.width,d-=t.height+e.height}c=Math.max(0,c-r.width),d=Math.max(0,s?c/s:d-r.height),c=_i(Math.min(c,i,o.maxWidth)),d=_i(Math.min(d,l,o.maxHeight)),c&&!d&&(d=_i(c/2));return(void 0!==t||void 0!==n)&&s&&o.height&&d>o.height&&(d=o.height,c=_i(Math.floor(d*s))),{width:c,height:d}}function Di(e,t,n){const s=t||1,a=_i(e.height*s),r=_i(e.width*s);e.height=_i(e.height),e.width=_i(e.width);const i=e.canvas;return i.style&&(n||!i.style.height&&!i.style.width)&&(i.style.height=`${e.height}px`,i.style.width=`${e.width}px`),(e.currentDevicePixelRatio!==s||i.height!==a||i.width!==r)&&(e.currentDevicePixelRatio=s,i.height=a,i.width=r,e.ctx.setTransform(s,0,0,s,0,0),!0)}const Ti=function(){let e=!1;try{const t={get passive(){return e=!0,!1}};yi()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch(t){}return e}();function Ei(e,t){const n=function(e,t){return Ni(e).getPropertyValue(t)}(e,t),s=n&&n.match(/^(\d+)(\.\d+)?px$/);return s?+s[1]:void 0}function zi(e,t,n,s){return{x:e.x+n*(t.x-e.x),y:e.y+n*(t.y-e.y)}}function Mi(e,t,n,s){return{x:e.x+n*(t.x-e.x),y:"middle"===s?n<.5?e.y:t.y:"after"===s?n<1?e.y:t.y:n>0?t.y:e.y}}function Ri(e,t,n,s){const a={x:e.cp2x,y:e.cp2y},r={x:t.cp1x,y:t.cp1y},i=zi(e,a,n),l=zi(a,r,n),o=zi(r,t,n),c=zi(i,l,n),d=zi(l,o,n);return zi(c,d,n)}function Ai(e,t,n){return e?function(e,t){return{x:n=>e+e+t-n,setWidth(e){t=e},textAlign:e=>"center"===e?e:"right"===e?"left":"right",xPlus:(e,t)=>e-t,leftForLtr:(e,t)=>e-t}}(t,n):{x:e=>e,setWidth(e){},textAlign:e=>e,xPlus:(e,t)=>e+t,leftForLtr:(e,t)=>e}}function Oi(e,t){let n,s;"ltr"!==t&&"rtl"!==t||(n=e.canvas.style,s=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",t,"important"),e.prevTextDirection=s)}function Fi(e,t){void 0!==t&&(delete e.prevTextDirection,e.canvas.style.setProperty("direction",t[0],t[1]))}function Ii(e){return"angle"===e?{between:Za,compare:Ka,normalize:Ja}:{between:tr,compare:(e,t)=>e-t,normalize:e=>e}}function Li({start:e,end:t,count:n,loop:s,style:a}){return{start:e%n,end:t%n,loop:s&&(t-e+1)%n==0,style:a}}function Bi(e,t,n){if(!n)return[e];const{property:s,start:a,end:r}=n,i=t.length,{compare:l,between:o,normalize:c}=Ii(s),{start:d,end:u,loop:h,style:m}=function(e,t,n){const{property:s,start:a,end:r}=n,{between:i,normalize:l}=Ii(s),o=t.length;let c,d,{start:u,end:h,loop:m}=e;if(m){for(u+=o,h+=o,c=0,d=o;c<d&&i(l(t[u%o][s]),a,r);++c)u--,h--;u%=o,h%=o}return h<u&&(h+=o),{start:u,end:h,loop:m,style:e.style}}(e,t,n),p=[];let f,x,g,b=!1,v=null;const y=()=>b||o(a,g,f)&&0!==l(a,g),w=()=>!b||0===l(r,f)||o(r,g,f);for(let j=d,N=d;j<=u;++j)x=t[j%i],x.skip||(f=c(x[s]),f!==g&&(b=o(f,a,r),null===v&&y()&&(v=0===l(f,a)?j:N),null!==v&&w()&&(p.push(Li({start:v,end:j,loop:h,count:i,style:m})),v=null),N=j,g=f));return null!==v&&p.push(Li({start:v,end:u,loop:h,count:i,style:m})),p}function $i(e,t){const n=[],s=e.segments;for(let a=0;a<s.length;a++){const r=Bi(s[a],e.points,t);r.length&&n.push(...r)}return n}function Wi(e,t,n,s){return s&&s.setContext&&n?function(e,t,n,s){const a=e._chart.getContext(),r=Hi(e.options),{_datasetIndex:i,options:{spanGaps:l}}=e,o=n.length,c=[];let d=r,u=t[0].start,h=u;function m(e,t,s,a){const r=l?-1:1;if(e!==t){for(e+=o;n[e%o].skip;)e-=r;for(;n[t%o].skip;)t+=r;e%o!==t%o&&(c.push({start:e%o,end:t%o,loop:s,style:a}),d=a,u=t%o)}}for(const p of t){u=l?u:p.start;let e,t=n[u%o];for(h=u+1;h<=p.end;h++){const r=n[h%o];e=Hi(s.setContext(Zr(a,{type:"segment",p0:t,p1:r,p0DataIndex:(h-1)%o,p1DataIndex:h%o,datasetIndex:i}))),Ui(e,d)&&m(u,h-1,p.loop,d),t=r,d=e}u<h-1&&m(u,h-1,p.loop,d)}return c}(e,t,n,s):t}function Hi(e){return{backgroundColor:e.backgroundColor,borderCapStyle:e.borderCapStyle,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderJoinStyle:e.borderJoinStyle,borderWidth:e.borderWidth,borderColor:e.borderColor}}function Ui(e,t){if(!t)return!1;const n=[],s=function(e,t){return fr(t)?(n.includes(t)||n.push(t),n.indexOf(t)):t};return JSON.stringify(e,s)!==JSON.stringify(t,s)}function Vi(e,t,n){return e.options.clip?e[n]:t[n]}function qi(e,t){const n=t._clip;if(n.disabled)return!1;const s=function(e,t){const{xScale:n,yScale:s}=e;return n&&s?{left:Vi(n,t,"left"),right:Vi(n,t,"right"),top:Vi(s,t,"top"),bottom:Vi(s,t,"bottom")}:t}(t,e.chartArea);return{left:!1===n.left?0:s.left-(!0===n.left?0:n.left),right:!1===n.right?e.width:s.right+(!0===n.right?0:n.right),top:!1===n.top?0:s.top-(!0===n.top?0:n.top),bottom:!1===n.bottom?e.height:s.bottom+(!0===n.bottom?0:n.bottom)}}class Yi{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,t,n,s){const a=t.listeners[s],r=t.duration;a.forEach(s=>s({chart:e,initial:t.initial,numSteps:r,currentStep:Math.min(n-t.start,r)}))}_refresh(){this._request||(this._running=!0,this._request=lr.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let t=0;this._charts.forEach((n,s)=>{if(!n.running||!n.items.length)return;const a=n.items;let r,i=a.length-1,l=!1;for(;i>=0;--i)r=a[i],r._active?(r._total>n.duration&&(n.duration=r._total),r.tick(e),l=!0):(a[i]=a[a.length-1],a.pop());l&&(s.draw(),this._notify(s,n,e,"progress")),a.length||(n.running=!1,this._notify(s,n,e,"complete"),n.initial=!1),t+=a.length}),this._lastDate=e,0===t&&(this._running=!1)}_getAnims(e){const t=this._charts;let n=t.get(e);return n||(n={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},t.set(e,n)),n}listen(e,t,n){this._getAnims(e).listeners[t].push(n)}add(e,t){t&&t.length&&this._getAnims(e).items.push(...t)}has(e){return this._getAnims(e).items.length>0}start(e){const t=this._charts.get(e);t&&(t.running=!0,t.start=Date.now(),t.duration=t.items.reduce((e,t)=>Math.max(e,t._duration),0),this._refresh())}running(e){if(!this._running)return!1;const t=this._charts.get(e);return!!(t&&t.running&&t.items.length)}stop(e){const t=this._charts.get(e);if(!t||!t.items.length)return;const n=t.items;let s=n.length-1;for(;s>=0;--s)n[s].cancel();t.items=[],this._notify(e,t,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var Gi=new Yi;const Xi="transparent",Qi={boolean:(e,t,n)=>n>.5?t:e,color(e,t,n){const s=xr(e||Xi),a=s.valid&&xr(t||Xi);return a&&a.valid?a.mix(s,n).hexString():t},number:(e,t,n)=>e+(t-e)*n};class Ki{constructor(e,t,n,s){const a=t[n];s=Jr([e.to,s,a,e.from]);const r=Jr([e.from,a,s]);this._active=!0,this._fn=e.fn||Qi[e.type||typeof r],this._easing=pr[e.easing]||pr.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=t,this._prop=n,this._from=r,this._to=s,this._promises=void 0}active(){return this._active}update(e,t,n){if(this._active){this._notify(!1);const s=this._target[this._prop],a=n-this._start,r=this._duration-a;this._start=n,this._duration=Math.floor(Math.max(r,e.duration)),this._total+=a,this._loop=!!e.loop,this._to=Jr([e.to,t,s,e.from]),this._from=Jr([e.from,s,t])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const t=e-this._start,n=this._duration,s=this._prop,a=this._from,r=this._loop,i=this._to;let l;if(this._active=a!==i&&(r||t<n),!this._active)return this._target[s]=i,void this._notify(!0);t<0?this._target[s]=a:(l=t/n%2,l=r&&l>1?2-l:l,l=this._easing(Math.min(1,Math.max(0,l))),this._target[s]=this._fn(a,i,l))}wait(){const e=this._promises||(this._promises=[]);return new Promise((t,n)=>{e.push({res:t,rej:n})})}_notify(e){const t=e?"res":"rej",n=this._promises||[];for(let s=0;s<n.length;s++)n[s][t]()}}class Ji{constructor(e,t){this._chart=e,this._properties=new Map,this.configure(t)}configure(e){if(!pa(e))return;const t=Object.keys(Pr.animation),n=this._properties;Object.getOwnPropertyNames(e).forEach(s=>{const a=e[s];if(!pa(a))return;const r={};for(const e of t)r[e]=a[e];(ma(a.properties)&&a.properties||[s]).forEach(e=>{e!==s&&n.has(e)||n.set(e,r)})})}_animateOptions(e,t){const n=t.options,s=function(e,t){if(!t)return;let n=e.options;if(!n)return void(e.options=t);n.$shared&&(e.options=n=Object.assign({},n,{$shared:!1,$animations:{}}));return n}(e,n);if(!s)return[];const a=this._createAnimations(s,n);return n.$shared&&function(e,t){const n=[],s=Object.keys(t);for(let a=0;a<s.length;a++){const t=e[s[a]];t&&t.active()&&n.push(t.wait())}return Promise.all(n)}(e.options.$animations,n).then(()=>{e.options=n},()=>{}),a}_createAnimations(e,t){const n=this._properties,s=[],a=e.$animations||(e.$animations={}),r=Object.keys(t),i=Date.now();let l;for(l=r.length-1;l>=0;--l){const o=r[l];if("$"===o.charAt(0))continue;if("options"===o){s.push(...this._animateOptions(e,t));continue}const c=t[o];let d=a[o];const u=n.get(o);if(d){if(u&&d.active()){d.update(u,c,i);continue}d.cancel()}u&&u.duration?(a[o]=d=new Ki(u,e,o,c),s.push(d)):e[o]=c}return s}update(e,t){if(0===this._properties.size)return void Object.assign(e,t);const n=this._createAnimations(e,t);return n.length?(Gi.add(this._chart,n),!0):void 0}}function Zi(e,t){const n=e&&e.options||{},s=n.reverse,a=void 0===n.min?t:0,r=void 0===n.max?t:0;return{start:s?r:a,end:s?a:r}}function el(e,t){const n=[],s=e._getSortedDatasetMetas(t);let a,r;for(a=0,r=s.length;a<r;++a)n.push(s[a].index);return n}function tl(e,t,n,s={}){const a=e.keys,r="single"===s.mode;let i,l,o,c;if(null===t)return;let d=!1;for(i=0,l=a.length;i<l;++i){if(o=+a[i],o===n){if(d=!0,s.all)continue;break}c=e.values[o],fa(c)&&(r||0===t||Ha(t)===Ha(c))&&(t+=c)}return d||s.all?t:0}function nl(e,t){const n=e&&e.options.stacked;return n||void 0===n&&void 0!==t.stack}function sl(e,t,n){const s=e[t]||(e[t]={});return s[n]||(s[n]={})}function al(e,t,n,s){for(const a of t.getMatchingVisibleMetas(s).reverse()){const t=e[a.index];if(n&&t>0||!n&&t<0)return a.index}return null}function rl(e,t){const{chart:n,_cachedMeta:s}=e,a=n._stacks||(n._stacks={}),{iScale:r,vScale:i,index:l}=s,o=r.axis,c=i.axis,d=function(e,t,n){return`${e.id}.${t.id}.${n.stack||n.type}`}(r,i,s),u=t.length;let h;for(let m=0;m<u;++m){const e=t[m],{[o]:n,[c]:r}=e;h=(e._stacks||(e._stacks={}))[c]=sl(a,d,n),h[l]=r,h._top=al(h,i,!0,s.type),h._bottom=al(h,i,!1,s.type);(h._visualValues||(h._visualValues={}))[l]=r}}function il(e,t){const n=e.scales;return Object.keys(n).filter(e=>n[e].axis===t).shift()}function ll(e,t){const n=e.controller.index,s=e.vScale&&e.vScale.axis;if(s){t=t||e._parsed;for(const e of t){const t=e._stacks;if(!t||void 0===t[s]||void 0===t[s][n])return;delete t[s][n],void 0!==t[s]._visualValues&&void 0!==t[s]._visualValues[n]&&delete t[s]._visualValues[n]}}}const ol=e=>"reset"===e||"none"===e,cl=(e,t)=>t?e:Object.assign({},e);class dl{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(e,t){this.chart=e,this._ctx=e.ctx,this.index=t,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=nl(e.vScale,e),this.addElements(),this.options.fill&&this.chart.isPluginEnabled("filler")}updateIndex(e){this.index!==e&&ll(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,t=this._cachedMeta,n=this.getDataset(),s=(e,t,n,s)=>"x"===e?t:"r"===e?s:n,a=t.xAxisID=ga(n.xAxisID,il(e,"x")),r=t.yAxisID=ga(n.yAxisID,il(e,"y")),i=t.rAxisID=ga(n.rAxisID,il(e,"r")),l=t.indexAxis,o=t.iAxisID=s(l,a,r,i),c=t.vAxisID=s(l,r,a,i);t.xScale=this.getScaleForId(a),t.yScale=this.getScaleForId(r),t.rScale=this.getScaleForId(i),t.iScale=this.getScaleForId(o),t.vScale=this.getScaleForId(c)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const t=this._cachedMeta;return e===t.iScale?t.vScale:t.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&ir(this._data,this),e._stacked&&ll(e)}_dataCheck(){const e=this.getDataset(),t=e.data||(e.data=[]),n=this._data;if(pa(t)){const e=this._cachedMeta;this._data=function(e,t){const{iScale:n,vScale:s}=t,a="x"===n.axis?"x":"y",r="x"===s.axis?"x":"y",i=Object.keys(e),l=new Array(i.length);let o,c,d;for(o=0,c=i.length;o<c;++o)d=i[o],l[o]={[a]:d,[r]:e[d]};return l}(t,e)}else if(n!==t){if(n){ir(n,this);const e=this._cachedMeta;ll(e),e._parsed=[]}t&&Object.isExtensible(t)&&(a=this,(s=t)._chartjs?s._chartjs.listeners.push(a):(Object.defineProperty(s,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[a]}}),rr.forEach(e=>{const t="_onData"+Ta(e),n=s[e];Object.defineProperty(s,e,{configurable:!0,enumerable:!1,value(...e){const a=n.apply(this,e);return s._chartjs.listeners.forEach(n=>{"function"==typeof n[t]&&n[t](...e)}),a}})}))),this._syncList=[],this._data=t}var s,a}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const t=this._cachedMeta,n=this.getDataset();let s=!1;this._dataCheck();const a=t._stacked;t._stacked=nl(t.vScale,t),t.stack!==n.stack&&(s=!0,ll(t),t.stack=n.stack),this._resyncElements(e),(s||a!==t._stacked)&&(rl(this,t._parsed),t._stacked=nl(t.vScale,t))}configure(){const e=this.chart.config,t=e.datasetScopeKeys(this._type),n=e.getOptionScopes(this.getDataset(),t,!0);this.options=e.createResolver(n,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,t){const{_cachedMeta:n,_data:s}=this,{iScale:a,_stacked:r}=n,i=a.axis;let l,o,c,d=0===e&&t===s.length||n._sorted,u=e>0&&n._parsed[e-1];if(!1===this._parsing)n._parsed=s,n._sorted=!0,c=s;else{c=ma(s[e])?this.parseArrayData(n,s,e,t):pa(s[e])?this.parseObjectData(n,s,e,t):this.parsePrimitiveData(n,s,e,t);const a=()=>null===o[i]||u&&o[i]<u[i];for(l=0;l<t;++l)n._parsed[l+e]=o=c[l],d&&(a()&&(d=!1),u=o);n._sorted=d}r&&rl(this,c)}parsePrimitiveData(e,t,n,s){const{iScale:a,vScale:r}=e,i=a.axis,l=r.axis,o=a.getLabels(),c=a===r,d=new Array(s);let u,h,m;for(u=0,h=s;u<h;++u)m=u+n,d[u]={[i]:c||a.parse(o[m],m),[l]:r.parse(t[m],m)};return d}parseArrayData(e,t,n,s){const{xScale:a,yScale:r}=e,i=new Array(s);let l,o,c,d;for(l=0,o=s;l<o;++l)c=l+n,d=t[c],i[l]={x:a.parse(d[0],c),y:r.parse(d[1],c)};return i}parseObjectData(e,t,n,s){const{xScale:a,yScale:r}=e,{xAxisKey:i="x",yAxisKey:l="y"}=this._parsing,o=new Array(s);let c,d,u,h;for(c=0,d=s;c<d;++c)u=c+n,h=t[u],o[c]={x:a.parse(Da(h,i),u),y:r.parse(Da(h,l),u)};return o}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,t,n){const s=this.chart,a=this._cachedMeta,r=t[e.axis];return tl({keys:el(s,!0),values:t._stacks[e.axis]._visualValues},r,a.index,{mode:n})}updateRangeFromParsed(e,t,n,s){const a=n[t.axis];let r=null===a?NaN:a;const i=s&&n._stacks[t.axis];s&&i&&(s.values=i,r=tl(s,a,this._cachedMeta.index)),e.min=Math.min(e.min,r),e.max=Math.max(e.max,r)}getMinMax(e,t){const n=this._cachedMeta,s=n._parsed,a=n._sorted&&e===n.iScale,r=s.length,i=this._getOtherScale(e),l=((e,t,n)=>e&&!t.hidden&&t._stacked&&{keys:el(n,!0),values:null})(t,n,this.chart),o={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:c,max:d}=function(e){const{min:t,max:n,minDefined:s,maxDefined:a}=e.getUserBounds();return{min:s?t:Number.NEGATIVE_INFINITY,max:a?n:Number.POSITIVE_INFINITY}}(i);let u,h;function m(){h=s[u];const t=h[i.axis];return!fa(h[e.axis])||c>t||d<t}for(u=0;u<r&&(m()||(this.updateRangeFromParsed(o,e,h,l),!a));++u);if(a)for(u=r-1;u>=0;--u)if(!m()){this.updateRangeFromParsed(o,e,h,l);break}return o}getAllParsedValues(e){const t=this._cachedMeta._parsed,n=[];let s,a,r;for(s=0,a=t.length;s<a;++s)r=t[s][e.axis],fa(r)&&n.push(r);return n}getMaxOverflow(){return!1}getLabelAndValue(e){const t=this._cachedMeta,n=t.iScale,s=t.vScale,a=this.getParsed(e);return{label:n?""+n.getLabelForValue(a[n.axis]):"",value:s?""+s.getLabelForValue(a[s.axis]):""}}_update(e){const t=this._cachedMeta;this.update(e||"default"),t._clip=function(e){let t,n,s,a;return pa(e)?(t=e.top,n=e.right,s=e.bottom,a=e.left):t=n=s=a=e,{top:t,right:n,bottom:s,left:a,disabled:!1===e}}(ga(this.options.clip,function(e,t,n){if(!1===n)return!1;const s=Zi(e,n),a=Zi(t,n);return{top:a.end,right:s.end,bottom:a.start,left:s.start}}(t.xScale,t.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,t=this.chart,n=this._cachedMeta,s=n.data||[],a=t.chartArea,r=[],i=this._drawStart||0,l=this._drawCount||s.length-i,o=this.options.drawActiveElementsOnTop;let c;for(n.dataset&&n.dataset.draw(e,a,i,l),c=i;c<i+l;++c){const t=s[c];t.hidden||(t.active&&o?r.push(t):t.draw(e,a))}for(c=0;c<r.length;++c)r[c].draw(e,a)}getStyle(e,t){const n=t?"active":"default";return void 0===e&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(n):this.resolveDataElementOptions(e||0,n)}getContext(e,t,n){const s=this.getDataset();let a;if(e>=0&&e<this._cachedMeta.data.length){const t=this._cachedMeta.data[e];a=t.$context||(t.$context=function(e,t,n){return Zr(e,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:n,index:t,mode:"default",type:"data"})}(this.getContext(),e,t)),a.parsed=this.getParsed(e),a.raw=s.data[e],a.index=a.dataIndex=e}else a=this.$context||(this.$context=function(e,t){return Zr(e,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}(this.chart.getContext(),this.index)),a.dataset=s,a.index=a.datasetIndex=this.index;return a.active=!!t,a.mode=n,a}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,t){return this._resolveElementOptions(this.dataElementType.id,t,e)}_resolveElementOptions(e,t="default",n){const s="active"===t,a=this._cachedDataOpts,r=e+"-"+t,i=a[r],l=this.enableOptionSharing&&Ea(n);if(i)return cl(i,l);const o=this.chart.config,c=o.datasetElementScopeKeys(this._type,e),d=s?[`${e}Hover`,"hover",e,""]:[e,""],u=o.getOptionScopes(this.getDataset(),c),h=Object.keys(Pr.elements[e]),m=o.resolveNamedOptions(u,h,()=>this.getContext(n,s,t),d);return m.$shared&&(m.$shared=l,a[r]=Object.freeze(cl(m,l))),m}_resolveAnimations(e,t,n){const s=this.chart,a=this._cachedDataOpts,r=`animation-${t}`,i=a[r];if(i)return i;let l;if(!1!==s.options.animation){const s=this.chart.config,a=s.datasetAnimationScopeKeys(this._type,t),r=s.getOptionScopes(this.getDataset(),a);l=s.createResolver(r,this.getContext(e,n,t))}const o=new Ji(s,l&&l.animations);return l&&l._cacheable&&(a[r]=Object.freeze(o)),o}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,t){return!t||ol(e)||this.chart._animationsDisabled}_getSharedOptions(e,t){const n=this.resolveDataElementOptions(e,t),s=this._sharedOptions,a=this.getSharedOptions(n),r=this.includeOptions(t,a)||a!==s;return this.updateSharedOptions(a,t,n),{sharedOptions:a,includeOptions:r}}updateElement(e,t,n,s){ol(s)?Object.assign(e,n):this._resolveAnimations(t,s).update(e,n)}updateSharedOptions(e,t,n){e&&!ol(t)&&this._resolveAnimations(void 0,t).update(e,n)}_setStyle(e,t,n,s){e.active=s;const a=this.getStyle(t,s);this._resolveAnimations(t,n,s).update(e,{options:!s&&this.getSharedOptions(a)||a})}removeHoverStyle(e,t,n){this._setStyle(e,n,"active",!1)}setHoverStyle(e,t,n){this._setStyle(e,n,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const t=this._data,n=this._cachedMeta.data;for(const[i,l,o]of this._syncList)this[i](l,o);this._syncList=[];const s=n.length,a=t.length,r=Math.min(a,s);r&&this.parse(0,r),a>s?this._insertElements(s,a-s,e):a<s&&this._removeElements(a,s-a)}_insertElements(e,t,n=!0){const s=this._cachedMeta,a=s.data,r=e+t;let i;const l=e=>{for(e.length+=t,i=e.length-1;i>=r;i--)e[i]=e[i-t]};for(l(a),i=e;i<r;++i)a[i]=new this.dataElementType;this._parsing&&l(s._parsed),this.parse(e,t),n&&this.updateElements(a,e,t,"reset")}updateElements(e,t,n,s){}_removeElements(e,t){const n=this._cachedMeta;if(this._parsing){const s=n._parsed.splice(e,t);n._stacked&&ll(n,s)}n.data.splice(e,t)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[t,n,s]=e;this[t](n,s)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,t){t&&this._sync(["_removeElements",e,t]);const n=arguments.length-2;n&&this._sync(["_insertElements",e,n])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}class ul extends dl{static id="doughnut";static defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"};static descriptors={_scriptable:e=>"spacing"!==e,_indexable:e=>"spacing"!==e&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const t=e.data,{labels:{pointStyle:n,textAlign:s,color:a,useBorderRadius:r,borderRadius:i}}=e.legend.options;return t.labels.length&&t.datasets.length?t.labels.map((t,l)=>{const o=e.getDatasetMeta(0).controller.getStyle(l);return{text:t,fillStyle:o.backgroundColor,fontColor:a,hidden:!e.getDataVisibility(l),lineDash:o.borderDash,lineDashOffset:o.borderDashOffset,lineJoin:o.borderJoinStyle,lineWidth:o.borderWidth,strokeStyle:o.borderColor,textAlign:s,pointStyle:n,borderRadius:r&&(i||o.borderRadius),index:l}}):[]}},onClick(e,t,n){n.chart.toggleDataVisibility(t.index),n.chart.update()}}}};constructor(e,t){super(e,t),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,t){const n=this.getDataset().data,s=this._cachedMeta;if(!1===this._parsing)s._parsed=n;else{let a,r,i=e=>+n[e];if(pa(n[e])){const{key:e="value"}=this._parsing;i=t=>+Da(n[t],e)}for(a=e,r=e+t;a<r;++a)s._parsed[a]=i(a)}}_getRotation(){return Ya(this.options.rotation-90)}_getCircumference(){return Ya(this.options.circumference)}_getRotationExtents(){let e=Aa,t=-Aa;for(let n=0;n<this.chart.data.datasets.length;++n)if(this.chart.isDatasetVisible(n)&&this.chart.getDatasetMeta(n).type===this._type){const s=this.chart.getDatasetMeta(n).controller,a=s._getRotation(),r=s._getCircumference();e=Math.min(e,a),t=Math.max(t,a+r)}return{rotation:e,circumference:t-e}}update(e){const t=this.chart,{chartArea:n}=t,s=this._cachedMeta,a=s.data,r=this.getMaxBorderWidth()+this.getMaxOffset(a)+this.options.spacing,i=Math.max((Math.min(n.width,n.height)-r)/2,0),l=Math.min((o=this.options.cutout,c=i,"string"==typeof o&&o.endsWith("%")?parseFloat(o)/100:+o/c),1);var o,c;const d=this._getRingWeight(this.index),{circumference:u,rotation:h}=this._getRotationExtents(),{ratioX:m,ratioY:p,offsetX:f,offsetY:x}=function(e,t,n){let s=1,a=1,r=0,i=0;if(t<Aa){const l=e,o=l+t,c=Math.cos(l),d=Math.sin(l),u=Math.cos(o),h=Math.sin(o),m=(e,t,s)=>Za(e,l,o,!0)?1:Math.max(t,t*n,s,s*n),p=(e,t,s)=>Za(e,l,o,!0)?-1:Math.min(t,t*n,s,s*n),f=m(0,c,u),x=m(La,d,h),g=p(Ra,c,u),b=p(Ra+La,d,h);s=(f-g)/2,a=(x-b)/2,r=-(f+g)/2,i=-(x+b)/2}return{ratioX:s,ratioY:a,offsetX:r,offsetY:i}}(h,u,l),g=(n.width-r)/m,b=(n.height-r)/p,v=Math.max(Math.min(g,b)/2,0),y=ba(this.options.radius,v),w=(y-Math.max(y*l,0))/this._getVisibleDatasetWeightTotal();this.offsetX=f*y,this.offsetY=x*y,s.total=this.calculateTotal(),this.outerRadius=y-w*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-w*d,0),this.updateElements(a,0,a.length,e)}_circumference(e,t){const n=this.options,s=this._cachedMeta,a=this._getCircumference();return t&&n.animation.animateRotate||!this.chart.getDataVisibility(e)||null===s._parsed[e]||s.data[e].hidden?0:this.calculateCircumference(s._parsed[e]*a/Aa)}updateElements(e,t,n,s){const a="reset"===s,r=this.chart,i=r.chartArea,l=r.options.animation,o=(i.left+i.right)/2,c=(i.top+i.bottom)/2,d=a&&l.animateScale,u=d?0:this.innerRadius,h=d?0:this.outerRadius,{sharedOptions:m,includeOptions:p}=this._getSharedOptions(t,s);let f,x=this._getRotation();for(f=0;f<t;++f)x+=this._circumference(f,a);for(f=t;f<t+n;++f){const t=this._circumference(f,a),n=e[f],r={x:o+this.offsetX,y:c+this.offsetY,startAngle:x,endAngle:x+t,circumference:t,outerRadius:h,innerRadius:u};p&&(r.options=m||this.resolveDataElementOptions(f,n.active?"active":s)),x+=t,this.updateElement(n,f,r,s)}}calculateTotal(){const e=this._cachedMeta,t=e.data;let n,s=0;for(n=0;n<t.length;n++){const a=e._parsed[n];null===a||isNaN(a)||!this.chart.getDataVisibility(n)||t[n].hidden||(s+=Math.abs(a))}return s}calculateCircumference(e){const t=this._cachedMeta.total;return t>0&&!isNaN(e)?Aa*(Math.abs(e)/t):0}getLabelAndValue(e){const t=this._cachedMeta,n=this.chart,s=n.data.labels||[],a=wr(t._parsed[e],n.options.locale);return{label:s[e]||"",value:a}}getMaxBorderWidth(e){let t=0;const n=this.chart;let s,a,r,i,l;if(!e)for(s=0,a=n.data.datasets.length;s<a;++s)if(n.isDatasetVisible(s)){r=n.getDatasetMeta(s),e=r.data,i=r.controller;break}if(!e)return 0;for(s=0,a=e.length;s<a;++s)l=i.resolveDataElementOptions(s),"inner"!==l.borderAlign&&(t=Math.max(t,l.borderWidth||0,l.hoverBorderWidth||0));return t}getMaxOffset(e){let t=0;for(let n=0,s=e.length;n<s;++n){const e=this.resolveDataElementOptions(n);t=Math.max(t,e.offset||0,e.hoverOffset||0)}return t}_getRingWeightOffset(e){let t=0;for(let n=0;n<e;++n)this.chart.isDatasetVisible(n)&&(t+=this._getRingWeight(n));return t}_getRingWeight(e){return Math.max(ga(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}class hl extends dl{static id="line";static defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};static overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const t=this._cachedMeta,{dataset:n,data:s=[],_dataset:a}=t,r=this.chart._animationsDisabled;let{start:i,count:l}=function(e,t,n){const s=t.length;let a=0,r=s;if(e._sorted){const{iScale:i,vScale:l,_parsed:o}=e,c=e.dataset&&e.dataset.options?e.dataset.options.spanGaps:null,d=i.axis,{min:u,max:h,minDefined:m,maxDefined:p}=i.getUserBounds();if(m){if(a=Math.min(sr(o,d,u).lo,n?s:sr(t,d,i.getPixelForValue(u)).lo),c){const e=o.slice(0,a+1).reverse().findIndex(e=>!ha(e[l.axis]));a-=Math.max(0,e)}a=er(a,0,s-1)}if(p){let e=Math.max(sr(o,i.axis,h,!0).hi+1,n?0:sr(t,d,i.getPixelForValue(h),!0).hi+1);if(c){const t=o.slice(e-1).findIndex(e=>!ha(e[l.axis]));e+=Math.max(0,t)}r=er(e,a,s)-a}else r=s-a}return{start:a,count:r}}(t,s,r);this._drawStart=i,this._drawCount=l,function(e){const{xScale:t,yScale:n,_scaleRanges:s}=e,a={xmin:t.min,xmax:t.max,ymin:n.min,ymax:n.max};if(!s)return e._scaleRanges=a,!0;const r=s.xmin!==t.min||s.xmax!==t.max||s.ymin!==n.min||s.ymax!==n.max;return Object.assign(s,a),r}(t)&&(i=0,l=s.length),n._chart=this.chart,n._datasetIndex=this.index,n._decimated=!!a._decimated,n.points=s;const o=this.resolveDatasetElementOptions(e);this.options.showLine||(o.borderWidth=0),o.segment=this.options.segment,this.updateElement(n,void 0,{animated:!r,options:o},e),this.updateElements(s,i,l,e)}updateElements(e,t,n,s){const a="reset"===s,{iScale:r,vScale:i,_stacked:l,_dataset:o}=this._cachedMeta,{sharedOptions:c,includeOptions:d}=this._getSharedOptions(t,s),u=r.axis,h=i.axis,{spanGaps:m,segment:p}=this.options,f=qa(m)?m:Number.POSITIVE_INFINITY,x=this.chart._animationsDisabled||a||"none"===s,g=t+n,b=e.length;let v=t>0&&this.getParsed(t-1);for(let y=0;y<b;++y){const n=e[y],m=x?n:{};if(y<t||y>=g){m.skip=!0;continue}const b=this.getParsed(y),w=ha(b[h]),j=m[u]=r.getPixelForValue(b[u],y),N=m[h]=a||w?i.getBasePixel():i.getPixelForValue(l?this.applyStack(i,b,l):b[h],y);m.skip=isNaN(j)||isNaN(N)||w,m.stop=y>0&&Math.abs(b[u]-v[u])>f,p&&(m.parsed=b,m.raw=o.data[y]),d&&(m.options=c||this.resolveDataElementOptions(y,n.active?"active":s)),x||this.updateElement(n,y,m,s),v=b}}getMaxOverflow(){const e=this._cachedMeta,t=e.dataset,n=t.options&&t.options.borderWidth||0,s=e.data||[];if(!s.length)return n;const a=s[0].size(this.resolveDataElementOptions(0)),r=s[s.length-1].size(this.resolveDataElementOptions(s.length-1));return Math.max(n,a,r)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}function ml(e,t,n,s){const{controller:a,data:r,_sorted:i}=e,l=a._cachedMeta.iScale,o=e.dataset&&e.dataset.options?e.dataset.options.spanGaps:null;if(l&&t===l.axis&&"r"!==t&&i&&r.length){const i=l._reversePixels?ar:sr;if(!s){const s=i(r,t,n);if(o){const{vScale:t}=a._cachedMeta,{_parsed:n}=e,r=n.slice(0,s.lo+1).reverse().findIndex(e=>!ha(e[t.axis]));s.lo-=Math.max(0,r);const i=n.slice(s.hi).findIndex(e=>!ha(e[t.axis]));s.hi+=Math.max(0,i)}return s}if(a._sharedOptions){const e=r[0],s="function"==typeof e.getRange&&e.getRange(t);if(s){const e=i(r,t,n-s),a=i(r,t,n+s);return{lo:e.lo,hi:a.hi}}}}return{lo:0,hi:r.length-1}}function pl(e,t,n,s,a){const r=e.getSortedVisibleDatasetMetas(),i=n[t];for(let l=0,o=r.length;l<o;++l){const{index:e,data:n}=r[l],{lo:o,hi:c}=ml(r[l],t,i,a);for(let t=o;t<=c;++t){const a=n[t];a.skip||s(a,e,t)}}}function fl(e,t,n,s,a){const r=[];if(!a&&!e.isPointInArea(t))return r;return pl(e,n,t,function(n,i,l){(a||Rr(n,e.chartArea,0))&&n.inRange(t.x,t.y,s)&&r.push({element:n,datasetIndex:i,index:l})},!0),r}function xl(e,t,n,s,a,r){let i=[];const l=function(e){const t=-1!==e.indexOf("x"),n=-1!==e.indexOf("y");return function(e,s){const a=t?Math.abs(e.x-s.x):0,r=n?Math.abs(e.y-s.y):0;return Math.sqrt(Math.pow(a,2)+Math.pow(r,2))}}(n);let o=Number.POSITIVE_INFINITY;return pl(e,n,t,function(n,c,d){const u=n.inRange(t.x,t.y,a);if(s&&!u)return;const h=n.getCenterPoint(a);if(!(!!r||e.isPointInArea(h))&&!u)return;const m=l(t,h);m<o?(i=[{element:n,datasetIndex:c,index:d}],o=m):m===o&&i.push({element:n,datasetIndex:c,index:d})}),i}function gl(e,t,n,s,a,r){return r||e.isPointInArea(t)?"r"!==n||s?xl(e,t,n,s,a,r):function(e,t,n,s){let a=[];return pl(e,n,t,function(e,n,r){const{startAngle:i,endAngle:l}=e.getProps(["startAngle","endAngle"],s),{angle:o}=Xa(e,{x:t.x,y:t.y});Za(o,i,l)&&a.push({element:e,datasetIndex:n,index:r})}),a}(e,t,n,a):[]}function bl(e,t,n,s,a){const r=[],i="x"===n?"inXRange":"inYRange";let l=!1;return pl(e,n,t,(e,s,o)=>{e[i]&&e[i](t[n],a)&&(r.push({element:e,datasetIndex:s,index:o}),l=l||e.inRange(t.x,t.y,a))}),s&&!l?[]:r}var vl={modes:{index(e,t,n,s){const a=Ci(t,e),r=n.axis||"x",i=n.includeInvisible||!1,l=n.intersect?fl(e,a,r,s,i):gl(e,a,r,!1,s,i),o=[];return l.length?(e.getSortedVisibleDatasetMetas().forEach(e=>{const t=l[0].index,n=e.data[t];n&&!n.skip&&o.push({element:n,datasetIndex:e.index,index:t})}),o):[]},dataset(e,t,n,s){const a=Ci(t,e),r=n.axis||"xy",i=n.includeInvisible||!1;let l=n.intersect?fl(e,a,r,s,i):gl(e,a,r,!1,s,i);if(l.length>0){const t=l[0].datasetIndex,n=e.getDatasetMeta(t).data;l=[];for(let e=0;e<n.length;++e)l.push({element:n[e],datasetIndex:t,index:e})}return l},point:(e,t,n,s)=>fl(e,Ci(t,e),n.axis||"xy",s,n.includeInvisible||!1),nearest(e,t,n,s){const a=Ci(t,e),r=n.axis||"xy",i=n.includeInvisible||!1;return gl(e,a,r,n.intersect,s,i)},x:(e,t,n,s)=>bl(e,Ci(t,e),"x",n.intersect,s),y:(e,t,n,s)=>bl(e,Ci(t,e),"y",n.intersect,s)}};const yl=["left","top","right","bottom"];function wl(e,t){return e.filter(e=>e.pos===t)}function jl(e,t){return e.filter(e=>-1===yl.indexOf(e.pos)&&e.box.axis===t)}function Nl(e,t){return e.sort((e,n)=>{const s=t?n:e,a=t?e:n;return s.weight===a.weight?s.index-a.index:s.weight-a.weight})}function kl(e,t){const n=function(e){const t={};for(const n of e){const{stack:e,pos:s,stackWeight:a}=n;if(!e||!yl.includes(s))continue;const r=t[e]||(t[e]={count:0,placed:0,weight:0,size:0});r.count++,r.weight+=a}return t}(e),{vBoxMaxWidth:s,hBoxMaxHeight:a}=t;let r,i,l;for(r=0,i=e.length;r<i;++r){l=e[r];const{fullSize:i}=l.box,o=n[l.stack],c=o&&l.stackWeight/o.weight;l.horizontal?(l.width=c?c*s:i&&t.availableWidth,l.height=a):(l.width=s,l.height=c?c*a:i&&t.availableHeight)}return n}function Sl(e,t,n,s){return Math.max(e[n],t[n])+Math.max(e[s],t[s])}function Cl(e,t){e.top=Math.max(e.top,t.top),e.left=Math.max(e.left,t.left),e.bottom=Math.max(e.bottom,t.bottom),e.right=Math.max(e.right,t.right)}function _l(e,t,n,s){const{pos:a,box:r}=n,i=e.maxPadding;if(!pa(a)){n.size&&(e[a]-=n.size);const t=s[n.stack]||{size:0,count:1};t.size=Math.max(t.size,n.horizontal?r.height:r.width),n.size=t.size/t.count,e[a]+=n.size}r.getPadding&&Cl(i,r.getPadding());const l=Math.max(0,t.outerWidth-Sl(i,e,"left","right")),o=Math.max(0,t.outerHeight-Sl(i,e,"top","bottom")),c=l!==e.w,d=o!==e.h;return e.w=l,e.h=o,n.horizontal?{same:c,other:d}:{same:d,other:c}}function Pl(e,t){const n=t.maxPadding;function s(e){const s={left:0,top:0,right:0,bottom:0};return e.forEach(e=>{s[e]=Math.max(t[e],n[e])}),s}return s(e?["left","right"]:["top","bottom"])}function Dl(e,t,n,s){const a=[];let r,i,l,o,c,d;for(r=0,i=e.length,c=0;r<i;++r){l=e[r],o=l.box,o.update(l.width||t.w,l.height||t.h,Pl(l.horizontal,t));const{same:i,other:u}=_l(t,n,l,s);c|=i&&a.length,d=d||u,o.fullSize||a.push(l)}return c&&Dl(a,t,n,s)||d}function Tl(e,t,n,s,a){e.top=n,e.left=t,e.right=t+s,e.bottom=n+a,e.width=s,e.height=a}function El(e,t,n,s){const a=n.padding;let{x:r,y:i}=t;for(const l of e){const e=l.box,o=s[l.stack]||{placed:0,weight:1},c=l.stackWeight/o.weight||1;if(l.horizontal){const s=t.w*c,r=o.size||e.height;Ea(o.start)&&(i=o.start),e.fullSize?Tl(e,a.left,i,n.outerWidth-a.right-a.left,r):Tl(e,t.left+o.placed,i,s,r),o.start=i,o.placed+=s,i=e.bottom}else{const s=t.h*c,i=o.size||e.width;Ea(o.start)&&(r=o.start),e.fullSize?Tl(e,r,a.top,i,n.outerHeight-a.bottom-a.top):Tl(e,r,t.top+o.placed,i,s),o.start=r,o.placed+=s,r=e.right}}t.x=r,t.y=i}var zl={addBox(e,t){e.boxes||(e.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(e){t.draw(e)}}]},e.boxes.push(t)},removeBox(e,t){const n=e.boxes?e.boxes.indexOf(t):-1;-1!==n&&e.boxes.splice(n,1)},configure(e,t,n){t.fullSize=n.fullSize,t.position=n.position,t.weight=n.weight},update(e,t,n,s){if(!e)return;const a=Qr(e.options.layout.padding),r=Math.max(t-a.width,0),i=Math.max(n-a.height,0),l=function(e){const t=function(e){const t=[];let n,s,a,r,i,l;for(n=0,s=(e||[]).length;n<s;++n)a=e[n],({position:r,options:{stack:i,stackWeight:l=1}}=a),t.push({index:n,box:a,pos:r,horizontal:a.isHorizontal(),weight:a.weight,stack:i&&r+i,stackWeight:l});return t}(e),n=Nl(t.filter(e=>e.box.fullSize),!0),s=Nl(wl(t,"left"),!0),a=Nl(wl(t,"right")),r=Nl(wl(t,"top"),!0),i=Nl(wl(t,"bottom")),l=jl(t,"x"),o=jl(t,"y");return{fullSize:n,leftAndTop:s.concat(r),rightAndBottom:a.concat(o).concat(i).concat(l),chartArea:wl(t,"chartArea"),vertical:s.concat(a).concat(o),horizontal:r.concat(i).concat(l)}}(e.boxes),o=l.vertical,c=l.horizontal;ya(e.boxes,e=>{"function"==typeof e.beforeLayout&&e.beforeLayout()});const d=o.reduce((e,t)=>t.box.options&&!1===t.box.options.display?e:e+1,0)||1,u=Object.freeze({outerWidth:t,outerHeight:n,padding:a,availableWidth:r,availableHeight:i,vBoxMaxWidth:r/2/d,hBoxMaxHeight:i/2}),h=Object.assign({},a);Cl(h,Qr(s));const m=Object.assign({maxPadding:h,w:r,h:i,x:a.left,y:a.top},a),p=kl(o.concat(c),u);Dl(l.fullSize,m,u,p),Dl(o,m,u,p),Dl(c,m,u,p)&&Dl(o,m,u,p),function(e){const t=e.maxPadding;function n(n){const s=Math.max(t[n]-e[n],0);return e[n]+=s,s}e.y+=n("top"),e.x+=n("left"),n("right"),n("bottom")}(m),El(l.leftAndTop,m,u,p),m.x+=m.w,m.y+=m.h,El(l.rightAndBottom,m,u,p),e.chartArea={left:m.left,top:m.top,right:m.left+m.w,bottom:m.top+m.h,height:m.h,width:m.w},ya(l.chartArea,t=>{const n=t.box;Object.assign(n,e.chartArea),n.update(m.w,m.h,{left:0,top:0,right:0,bottom:0})})}};class Ml{acquireContext(e,t){}releaseContext(e){return!1}addEventListener(e,t,n){}removeEventListener(e,t,n){}getDevicePixelRatio(){return 1}getMaximumSize(e,t,n,s){return t=Math.max(0,t||e.width),n=n||e.height,{width:t,height:Math.max(0,s?Math.floor(t/s):n)}}isAttached(e){return!0}updateConfig(e){}}class Rl extends Ml{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const Al="$chartjs",Ol={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},Fl=e=>null===e||""===e;const Il=!!Ti&&{passive:!0};function Ll(e,t,n){e&&e.canvas&&e.canvas.removeEventListener(t,n,Il)}function Bl(e,t){for(const n of e)if(n===t||n.contains(t))return!0}function $l(e,t,n){const s=e.canvas,a=new MutationObserver(e=>{let t=!1;for(const n of e)t=t||Bl(n.addedNodes,s),t=t&&!Bl(n.removedNodes,s);t&&n()});return a.observe(document,{childList:!0,subtree:!0}),a}function Wl(e,t,n){const s=e.canvas,a=new MutationObserver(e=>{let t=!1;for(const n of e)t=t||Bl(n.removedNodes,s),t=t&&!Bl(n.addedNodes,s);t&&n()});return a.observe(document,{childList:!0,subtree:!0}),a}const Hl=new Map;let Ul=0;function Vl(){const e=window.devicePixelRatio;e!==Ul&&(Ul=e,Hl.forEach((t,n)=>{n.currentDevicePixelRatio!==e&&t()}))}function ql(e,t,n){const s=e.canvas,a=s&&wi(s);if(!a)return;const r=or((e,t)=>{const s=a.clientWidth;n(e,t),s<a.clientWidth&&n()},window),i=new ResizeObserver(e=>{const t=e[0],n=t.contentRect.width,s=t.contentRect.height;0===n&&0===s||r(n,s)});return i.observe(a),function(e,t){Hl.size||window.addEventListener("resize",Vl),Hl.set(e,t)}(e,r),i}function Yl(e,t,n){n&&n.disconnect(),"resize"===t&&function(e){Hl.delete(e),Hl.size||window.removeEventListener("resize",Vl)}(e)}function Gl(e,t,n){const s=e.canvas,a=or(t=>{null!==e.ctx&&n(function(e,t){const n=Ol[e.type]||e.type,{x:s,y:a}=Ci(e,t);return{type:n,chart:t,native:e,x:void 0!==s?s:null,y:void 0!==a?a:null}}(t,e))},e);return function(e,t,n){e&&e.addEventListener(t,n,Il)}(s,t,a),a}class Xl extends Ml{acquireContext(e,t){const n=e&&e.getContext&&e.getContext("2d");return n&&n.canvas===e?(function(e,t){const n=e.style,s=e.getAttribute("height"),a=e.getAttribute("width");if(e[Al]={initial:{height:s,width:a,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",Fl(a)){const t=Ei(e,"width");void 0!==t&&(e.width=t)}if(Fl(s))if(""===e.style.height)e.height=e.width/(t||2);else{const t=Ei(e,"height");void 0!==t&&(e.height=t)}}(e,t),n):null}releaseContext(e){const t=e.canvas;if(!t[Al])return!1;const n=t[Al].initial;["height","width"].forEach(e=>{const s=n[e];ha(s)?t.removeAttribute(e):t.setAttribute(e,s)});const s=n.style||{};return Object.keys(s).forEach(e=>{t.style[e]=s[e]}),t.width=t.width,delete t[Al],!0}addEventListener(e,t,n){this.removeEventListener(e,t);const s=e.$proxies||(e.$proxies={}),a={attach:$l,detach:Wl,resize:ql}[t]||Gl;s[t]=a(e,t,n)}removeEventListener(e,t){const n=e.$proxies||(e.$proxies={}),s=n[t];if(!s)return;({attach:Yl,detach:Yl,resize:Yl}[t]||Ll)(e,t,s),n[t]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,t,n,s){return Pi(e,t,n,s)}isAttached(e){const t=e&&wi(e);return!(!t||!t.isConnected)}}let Ql=class{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(e){const{x:t,y:n}=this.getProps(["x","y"],e);return{x:t,y:n}}hasValue(){return qa(this.x)&&qa(this.y)}getProps(e,t){const n=this.$animations;if(!t||!n)return this;const s={};return e.forEach(e=>{s[e]=n[e]&&n[e].active()?n[e]._to:this[e]}),s}};function Kl(e,t){const n=e.options.ticks,s=function(e){const t=e.options.offset,n=e._tickSize(),s=e._length/n+(t?0:1),a=e._maxLength/n;return Math.floor(Math.min(s,a))}(e),a=Math.min(n.maxTicksLimit||s,s),r=n.major.enabled?function(e){const t=[];let n,s;for(n=0,s=e.length;n<s;n++)e[n].major&&t.push(n);return t}(t):[],i=r.length,l=r[0],o=r[i-1],c=[];if(i>a)return function(e,t,n,s){let a,r=0,i=n[0];for(s=Math.ceil(s),a=0;a<e.length;a++)a===i&&(t.push(e[a]),r++,i=n[r*s])}(t,c,r,i/a),c;const d=function(e,t,n){const s=function(e){const t=e.length;let n,s;if(t<2)return!1;for(s=e[0],n=1;n<t;++n)if(e[n]-e[n-1]!==s)return!1;return s}(e),a=t.length/n;if(!s)return Math.max(a,1);const r=function(e){const t=[],n=Math.sqrt(e);let s;for(s=1;s<n;s++)e%s===0&&(t.push(s),t.push(e/s));return n===(0|n)&&t.push(n),t.sort((e,t)=>e-t).pop(),t}(s);for(let i=0,l=r.length-1;i<l;i++){const e=r[i];if(e>a)return e}return Math.max(a,1)}(r,t,a);if(i>0){let e,n;const s=i>1?Math.round((o-l)/(i-1)):null;for(Jl(t,c,d,ha(s)?0:l-s,l),e=0,n=i-1;e<n;e++)Jl(t,c,d,r[e],r[e+1]);return Jl(t,c,d,o,ha(s)?t.length:o+s),c}return Jl(t,c,d),c}function Jl(e,t,n,s,a){const r=ga(s,0),i=Math.min(ga(a,e.length),e.length);let l,o,c,d=0;for(n=Math.ceil(n),a&&(l=a-s,n=l/Math.floor(l/n)),c=r;c<0;)d++,c=Math.round(r+d*n);for(o=Math.max(r,0);o<i;o++)o===c&&(t.push(e[o]),d++,c=Math.round(r+d*n))}const Zl=(e,t,n)=>"top"===t||"left"===t?e[t]+n:e[t]-n,eo=(e,t)=>Math.min(t||e,e);function to(e,t){const n=[],s=e.length/t,a=e.length;let r=0;for(;r<a;r+=s)n.push(e[Math.floor(r)]);return n}function no(e,t,n){const s=e.ticks.length,a=Math.min(t,s-1),r=e._startPixel,i=e._endPixel,l=1e-6;let o,c=e.getPixelForTick(a);if(!(n&&(o=1===s?Math.max(c-r,i-c):0===t?(e.getPixelForTick(1)-c)/2:(c-e.getPixelForTick(a-1))/2,c+=a<t?o:-o,c<r-l||c>i+l)))return c}function so(e){return e.drawTicks?e.tickLength:0}function ao(e,t){if(!e.display)return 0;const n=Kr(e.font,t),s=Qr(e.padding);return(ma(e.text)?e.text.length:1)*n.lineHeight+s.height}function ro(e,t,n){let s=cr(e);return(n&&"right"!==t||!n&&"right"===t)&&(s=(e=>"left"===e?"right":"right"===e?"left":e)(s)),s}class io extends Ql{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,t){return e}getUserBounds(){let{_userMin:e,_userMax:t,_suggestedMin:n,_suggestedMax:s}=this;return e=xa(e,Number.POSITIVE_INFINITY),t=xa(t,Number.NEGATIVE_INFINITY),n=xa(n,Number.POSITIVE_INFINITY),s=xa(s,Number.NEGATIVE_INFINITY),{min:xa(e,n),max:xa(t,s),minDefined:fa(e),maxDefined:fa(t)}}getMinMax(e){let t,{min:n,max:s,minDefined:a,maxDefined:r}=this.getUserBounds();if(a&&r)return{min:n,max:s};const i=this.getMatchingVisibleMetas();for(let l=0,o=i.length;l<o;++l)t=i[l].controller.getMinMax(this,e),a||(n=Math.min(n,t.min)),r||(s=Math.max(s,t.max));return n=r&&n>s?s:n,s=a&&n>s?n:s,{min:xa(n,xa(s,n)),max:xa(s,xa(n,s))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){va(this.options.beforeUpdate,[this])}update(e,t,n){const{beginAtZero:s,grace:a,ticks:r}=this.options,i=r.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=t,this._margins=n=Object.assign({left:0,right:0,top:0,bottom:0},n),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+n.left+n.right:this.height+n.top+n.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=function(e,t,n){const{min:s,max:a}=e,r=ba(t,(a-s)/2),i=(e,t)=>n&&0===e?0:e+t;return{min:i(s,-Math.abs(r)),max:i(a,r)}}(this,a,s),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const l=i<this.ticks.length;this._convertTicksToLabels(l?to(this.ticks,i):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),r.display&&(r.autoSkip||"auto"===r.source)&&(this.ticks=Kl(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),l&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e,t,n=this.options.reverse;this.isHorizontal()?(e=this.left,t=this.right):(e=this.top,t=this.bottom,n=!n),this._startPixel=e,this._endPixel=t,this._reversePixels=n,this._length=t-e,this._alignToPixels=this.options.alignToPixels}afterUpdate(){va(this.options.afterUpdate,[this])}beforeSetDimensions(){va(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){va(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),va(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){va(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const t=this.options.ticks;let n,s,a;for(n=0,s=e.length;n<s;n++)a=e[n],a.label=va(t.callback,[a.value,n,e],this)}afterTickToLabelConversion(){va(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){va(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,t=e.ticks,n=eo(this.ticks.length,e.ticks.maxTicksLimit),s=t.minRotation||0,a=t.maxRotation;let r,i,l,o=s;if(!this._isVisible()||!t.display||s>=a||n<=1||!this.isHorizontal())return void(this.labelRotation=s);const c=this._getLabelSizes(),d=c.widest.width,u=c.highest.height,h=er(this.chart.width-d,0,this.maxWidth);r=e.offset?this.maxWidth/n:h/(n-1),d+6>r&&(r=h/(n-(e.offset?.5:1)),i=this.maxHeight-so(e.grid)-t.padding-ao(e.title,this.chart.options.font),l=Math.sqrt(d*d+u*u),o=Math.min(Math.asin(er((c.highest.height+6)/r,-1,1)),Math.asin(er(i/l,-1,1))-Math.asin(er(u/l,-1,1)))*(180/Ra),o=Math.max(s,Math.min(a,o))),this.labelRotation=o}afterCalculateLabelRotation(){va(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){va(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:t,options:{ticks:n,title:s,grid:a}}=this,r=this._isVisible(),i=this.isHorizontal();if(r){const r=ao(s,t.options.font);if(i?(e.width=this.maxWidth,e.height=so(a)+r):(e.height=this.maxHeight,e.width=so(a)+r),n.display&&this.ticks.length){const{first:t,last:s,widest:a,highest:r}=this._getLabelSizes(),l=2*n.padding,o=Ya(this.labelRotation),c=Math.cos(o),d=Math.sin(o);if(i){const t=n.mirror?0:d*a.width+c*r.height;e.height=Math.min(this.maxHeight,e.height+t+l)}else{const t=n.mirror?0:c*a.width+d*r.height;e.width=Math.min(this.maxWidth,e.width+t+l)}this._calculatePadding(t,s,d,c)}}this._handleMargins(),i?(this.width=this._length=t.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=t.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,t,n,s){const{ticks:{align:a,padding:r},position:i}=this.options,l=0!==this.labelRotation,o="top"!==i&&"x"===this.axis;if(this.isHorizontal()){const i=this.getPixelForTick(0)-this.left,c=this.right-this.getPixelForTick(this.ticks.length-1);let d=0,u=0;l?o?(d=s*e.width,u=n*t.height):(d=n*e.height,u=s*t.width):"start"===a?u=t.width:"end"===a?d=e.width:"inner"!==a&&(d=e.width/2,u=t.width/2),this.paddingLeft=Math.max((d-i+r)*this.width/(this.width-i),0),this.paddingRight=Math.max((u-c+r)*this.width/(this.width-c),0)}else{let n=t.height/2,s=e.height/2;"start"===a?(n=0,s=e.height):"end"===a&&(n=t.height,s=0),this.paddingTop=n+r,this.paddingBottom=s+r}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){va(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:t}=this.options;return"top"===t||"bottom"===t||"x"===e}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){let t,n;for(this.beforeTickToLabelConversion(),this.generateTickLabels(e),t=0,n=e.length;t<n;t++)ha(e[t].label)&&(e.splice(t,1),n--,t--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const t=this.options.ticks.sampleSize;let n=this.ticks;t<n.length&&(n=to(n,t)),this._labelSizes=e=this._computeLabelSizes(n,n.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,t,n){const{ctx:s,_longestTextCache:a}=this,r=[],i=[],l=Math.floor(t/eo(t,n));let o,c,d,u,h,m,p,f,x,g,b,v=0,y=0;for(o=0;o<t;o+=l){if(u=e[o].label,h=this._resolveTickFontOptions(o),s.font=m=h.string,p=a[m]=a[m]||{data:{},gc:[]},f=h.lineHeight,x=g=0,ha(u)||ma(u)){if(ma(u))for(c=0,d=u.length;c<d;++c)b=u[c],ha(b)||ma(b)||(x=Dr(s,p.data,p.gc,x,b),g+=f)}else x=Dr(s,p.data,p.gc,x,u),g=f;r.push(x),i.push(g),v=Math.max(x,v),y=Math.max(g,y)}!function(e,t){ya(e,e=>{const n=e.gc,s=n.length/2;let a;if(s>t){for(a=0;a<s;++a)delete e.data[n[a]];n.splice(0,s)}})}(a,t);const w=r.indexOf(v),j=i.indexOf(y),N=e=>({width:r[e]||0,height:i[e]||0});return{first:N(0),last:N(t-1),widest:N(w),highest:N(j),widths:r,heights:i}}getLabelForValue(e){return e}getPixelForValue(e,t){return NaN}getValueForPixel(e){}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const t=this._startPixel+e*this._length;return er(this._alignToPixels?Tr(this.chart,t,0):t,-32768,32767)}getDecimalForPixel(e){const t=(e-this._startPixel)/this._length;return this._reversePixels?1-t:t}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:t}=this;return e<0&&t<0?t:e>0&&t>0?e:0}getContext(e){const t=this.ticks||[];if(e>=0&&e<t.length){const n=t[e];return n.$context||(n.$context=function(e,t,n){return Zr(e,{tick:n,index:t,type:"tick"})}(this.getContext(),e,n))}return this.$context||(this.$context=Zr(this.chart.getContext(),{scale:this,type:"scale"}))}_tickSize(){const e=this.options.ticks,t=Ya(this.labelRotation),n=Math.abs(Math.cos(t)),s=Math.abs(Math.sin(t)),a=this._getLabelSizes(),r=e.autoSkipPadding||0,i=a?a.widest.width+r:0,l=a?a.highest.height+r:0;return this.isHorizontal()?l*n>i*s?i/n:l/s:l*s<i*n?l/n:i/s}_isVisible(){const e=this.options.display;return"auto"!==e?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const t=this.axis,n=this.chart,s=this.options,{grid:a,position:r,border:i}=s,l=a.offset,o=this.isHorizontal(),c=this.ticks.length+(l?1:0),d=so(a),u=[],h=i.setContext(this.getContext()),m=h.display?h.width:0,p=m/2,f=function(e){return Tr(n,e,m)};let x,g,b,v,y,w,j,N,k,S,C,_;if("top"===r)x=f(this.bottom),w=this.bottom-d,N=x-p,S=f(e.top)+p,_=e.bottom;else if("bottom"===r)x=f(this.top),S=e.top,_=f(e.bottom)-p,w=x+p,N=this.top+d;else if("left"===r)x=f(this.right),y=this.right-d,j=x-p,k=f(e.left)+p,C=e.right;else if("right"===r)x=f(this.left),k=e.left,C=f(e.right)-p,y=x+p,j=this.left+d;else if("x"===t){if("center"===r)x=f((e.top+e.bottom)/2+.5);else if(pa(r)){const e=Object.keys(r)[0],t=r[e];x=f(this.chart.scales[e].getPixelForValue(t))}S=e.top,_=e.bottom,w=x+p,N=w+d}else if("y"===t){if("center"===r)x=f((e.left+e.right)/2);else if(pa(r)){const e=Object.keys(r)[0],t=r[e];x=f(this.chart.scales[e].getPixelForValue(t))}y=x-p,j=y-d,k=e.left,C=e.right}const P=ga(s.ticks.maxTicksLimit,c),D=Math.max(1,Math.ceil(c/P));for(g=0;g<c;g+=D){const e=this.getContext(g),t=a.setContext(e),s=i.setContext(e),r=t.lineWidth,c=t.color,d=s.dash||[],h=s.dashOffset,m=t.tickWidth,p=t.tickColor,f=t.tickBorderDash||[],x=t.tickBorderDashOffset;b=no(this,g,l),void 0!==b&&(v=Tr(n,b,r),o?y=j=k=C=v:w=N=S=_=v,u.push({tx1:y,ty1:w,tx2:j,ty2:N,x1:k,y1:S,x2:C,y2:_,width:r,color:c,borderDash:d,borderDashOffset:h,tickWidth:m,tickColor:p,tickBorderDash:f,tickBorderDashOffset:x}))}return this._ticksLength=c,this._borderValue=x,u}_computeLabelItems(e){const t=this.axis,n=this.options,{position:s,ticks:a}=n,r=this.isHorizontal(),i=this.ticks,{align:l,crossAlign:o,padding:c,mirror:d}=a,u=so(n.grid),h=u+c,m=d?-c:h,p=-Ya(this.labelRotation),f=[];let x,g,b,v,y,w,j,N,k,S,C,_,P="middle";if("top"===s)w=this.bottom-m,j=this._getXAxisLabelAlignment();else if("bottom"===s)w=this.top+m,j=this._getXAxisLabelAlignment();else if("left"===s){const e=this._getYAxisLabelAlignment(u);j=e.textAlign,y=e.x}else if("right"===s){const e=this._getYAxisLabelAlignment(u);j=e.textAlign,y=e.x}else if("x"===t){if("center"===s)w=(e.top+e.bottom)/2+h;else if(pa(s)){const e=Object.keys(s)[0],t=s[e];w=this.chart.scales[e].getPixelForValue(t)+h}j=this._getXAxisLabelAlignment()}else if("y"===t){if("center"===s)y=(e.left+e.right)/2-h;else if(pa(s)){const e=Object.keys(s)[0],t=s[e];y=this.chart.scales[e].getPixelForValue(t)}j=this._getYAxisLabelAlignment(u).textAlign}"y"===t&&("start"===l?P="top":"end"===l&&(P="bottom"));const D=this._getLabelSizes();for(x=0,g=i.length;x<g;++x){b=i[x],v=b.label;const e=a.setContext(this.getContext(x));N=this.getPixelForTick(x)+a.labelOffset,k=this._resolveTickFontOptions(x),S=k.lineHeight,C=ma(v)?v.length:1;const t=C/2,n=e.color,l=e.textStrokeColor,c=e.textStrokeWidth;let u,h=j;if(r?(y=N,"inner"===j&&(h=x===g-1?this.options.reverse?"left":"right":0===x?this.options.reverse?"right":"left":"center"),_="top"===s?"near"===o||0!==p?-C*S+S/2:"center"===o?-D.highest.height/2-t*S+S:-D.highest.height+S/2:"near"===o||0!==p?S/2:"center"===o?D.highest.height/2-t*S:D.highest.height-C*S,d&&(_*=-1),0===p||e.showLabelBackdrop||(y+=S/2*Math.sin(p))):(w=N,_=(1-C)*S/2),e.showLabelBackdrop){const t=Qr(e.backdropPadding),n=D.heights[x],s=D.widths[x];let a=_-t.top,r=0-t.left;switch(P){case"middle":a-=n/2;break;case"bottom":a-=n}switch(j){case"center":r-=s/2;break;case"right":r-=s;break;case"inner":x===g-1?r-=s:x>0&&(r-=s/2)}u={left:r,top:a,width:s+t.width,height:n+t.height,color:e.backdropColor}}f.push({label:v,font:k,textOffset:_,options:{rotation:p,color:n,strokeColor:l,strokeWidth:c,textAlign:h,textBaseline:P,translation:[y,w],backdrop:u}})}return f}_getXAxisLabelAlignment(){const{position:e,ticks:t}=this.options;if(-Ya(this.labelRotation))return"top"===e?"left":"right";let n="center";return"start"===t.align?n="left":"end"===t.align?n="right":"inner"===t.align&&(n="inner"),n}_getYAxisLabelAlignment(e){const{position:t,ticks:{crossAlign:n,mirror:s,padding:a}}=this.options,r=e+a,i=this._getLabelSizes().widest.width;let l,o;return"left"===t?s?(o=this.right+a,"near"===n?l="left":"center"===n?(l="center",o+=i/2):(l="right",o+=i)):(o=this.right-r,"near"===n?l="right":"center"===n?(l="center",o-=i/2):(l="left",o=this.left)):"right"===t?s?(o=this.left+a,"near"===n?l="right":"center"===n?(l="center",o-=i/2):(l="left",o-=i)):(o=this.left+r,"near"===n?l="left":"center"===n?(l="center",o+=i/2):(l="right",o=this.right)):l="right",{textAlign:l,x:o}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,t=this.options.position;return"left"===t||"right"===t?{top:0,left:this.left,bottom:e.height,right:this.right}:"top"===t||"bottom"===t?{top:this.top,left:0,bottom:this.bottom,right:e.width}:void 0}drawBackground(){const{ctx:e,options:{backgroundColor:t},left:n,top:s,width:a,height:r}=this;t&&(e.save(),e.fillStyle=t,e.fillRect(n,s,a,r),e.restore())}getLineWidthForValue(e){const t=this.options.grid;if(!this._isVisible()||!t.display)return 0;const n=this.ticks.findIndex(t=>t.value===e);if(n>=0){return t.setContext(this.getContext(n)).lineWidth}return 0}drawGrid(e){const t=this.options.grid,n=this.ctx,s=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let a,r;const i=(e,t,s)=>{s.width&&s.color&&(n.save(),n.lineWidth=s.width,n.strokeStyle=s.color,n.setLineDash(s.borderDash||[]),n.lineDashOffset=s.borderDashOffset,n.beginPath(),n.moveTo(e.x,e.y),n.lineTo(t.x,t.y),n.stroke(),n.restore())};if(t.display)for(a=0,r=s.length;a<r;++a){const e=s[a];t.drawOnChartArea&&i({x:e.x1,y:e.y1},{x:e.x2,y:e.y2},e),t.drawTicks&&i({x:e.tx1,y:e.ty1},{x:e.tx2,y:e.ty2},{color:e.tickColor,width:e.tickWidth,borderDash:e.tickBorderDash,borderDashOffset:e.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:t,options:{border:n,grid:s}}=this,a=n.setContext(this.getContext()),r=n.display?a.width:0;if(!r)return;const i=s.setContext(this.getContext(0)).lineWidth,l=this._borderValue;let o,c,d,u;this.isHorizontal()?(o=Tr(e,this.left,r)-r/2,c=Tr(e,this.right,i)+i/2,d=u=l):(d=Tr(e,this.top,r)-r/2,u=Tr(e,this.bottom,i)+i/2,o=c=l),t.save(),t.lineWidth=a.width,t.strokeStyle=a.color,t.beginPath(),t.moveTo(o,d),t.lineTo(c,u),t.stroke(),t.restore()}drawLabels(e){if(!this.options.ticks.display)return;const t=this.ctx,n=this._computeLabelArea();n&&Ar(t,n);const s=this.getLabelItems(e);for(const a of s){const e=a.options,n=a.font;$r(t,a.label,0,a.textOffset,n,e)}n&&Or(t)}drawTitle(){const{ctx:e,options:{position:t,title:n,reverse:s}}=this;if(!n.display)return;const a=Kr(n.font),r=Qr(n.padding),i=n.align;let l=a.lineHeight/2;"bottom"===t||"center"===t||pa(t)?(l+=r.bottom,ma(n.text)&&(l+=a.lineHeight*(n.text.length-1))):l+=r.top;const{titleX:o,titleY:c,maxWidth:d,rotation:u}=function(e,t,n,s){const{top:a,left:r,bottom:i,right:l,chart:o}=e,{chartArea:c,scales:d}=o;let u,h,m,p=0;const f=i-a,x=l-r;if(e.isHorizontal()){if(h=dr(s,r,l),pa(n)){const e=Object.keys(n)[0],s=n[e];m=d[e].getPixelForValue(s)+f-t}else m="center"===n?(c.bottom+c.top)/2+f-t:Zl(e,n,t);u=l-r}else{if(pa(n)){const e=Object.keys(n)[0],s=n[e];h=d[e].getPixelForValue(s)-x+t}else h="center"===n?(c.left+c.right)/2-x+t:Zl(e,n,t);m=dr(s,i,a),p="left"===n?-La:La}return{titleX:h,titleY:m,maxWidth:u,rotation:p}}(this,l,t,i);$r(e,n.text,0,0,a,{color:n.color,maxWidth:d,rotation:u,textAlign:ro(i,t,s),textBaseline:"middle",translation:[o,c]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,t=e.ticks&&e.ticks.z||0,n=ga(e.grid&&e.grid.z,-1),s=ga(e.border&&e.border.z,0);return this._isVisible()&&this.draw===io.prototype.draw?[{z:n,draw:e=>{this.drawBackground(),this.drawGrid(e),this.drawTitle()}},{z:s,draw:()=>{this.drawBorder()}},{z:t,draw:e=>{this.drawLabels(e)}}]:[{z:t,draw:e=>{this.draw(e)}}]}getMatchingVisibleMetas(e){const t=this.chart.getSortedVisibleDatasetMetas(),n=this.axis+"AxisID",s=[];let a,r;for(a=0,r=t.length;a<r;++a){const r=t[a];r[n]!==this.id||e&&r.type!==e||s.push(r)}return s}_resolveTickFontOptions(e){return Kr(this.options.ticks.setContext(this.getContext(e)).font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class lo{constructor(e,t,n){this.type=e,this.scope=t,this.override=n,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const t=Object.getPrototypeOf(e);let n;(function(e){return"id"in e&&"defaults"in e})(t)&&(n=this.register(t));const s=this.items,a=e.id,r=this.scope+"."+a;if(!a)throw new Error("class does not have id: "+e);return a in s||(s[a]=e,function(e,t,n){const s=Sa(Object.create(null),[n?Pr.get(n):{},Pr.get(t),e.defaults]);Pr.set(t,s),e.defaultRoutes&&function(e,t){Object.keys(t).forEach(n=>{const s=n.split("."),a=s.pop(),r=[e].concat(s).join("."),i=t[n].split("."),l=i.pop(),o=i.join(".");Pr.route(r,a,o,l)})}(t,e.defaultRoutes);e.descriptors&&Pr.describe(t,e.descriptors)}(e,r,n),this.override&&Pr.override(e.id,e.overrides)),r}get(e){return this.items[e]}unregister(e){const t=this.items,n=e.id,s=this.scope;n in t&&delete t[n],s&&n in Pr[s]&&(delete Pr[s][n],this.override&&delete Nr[n])}}class oo{constructor(){this.controllers=new lo(dl,"datasets",!0),this.elements=new lo(Ql,"elements"),this.plugins=new lo(Object,"plugins"),this.scales=new lo(io,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,t,n){[...t].forEach(t=>{const s=n||this._getRegistryForType(t);n||s.isForType(t)||s===this.plugins&&t.id?this._exec(e,s,t):ya(t,t=>{const s=n||this._getRegistryForType(t);this._exec(e,s,t)})})}_exec(e,t,n){const s=Ta(e);va(n["before"+s],[],n),t[e](n),va(n["after"+s],[],n)}_getRegistryForType(e){for(let t=0;t<this._typedRegistries.length;t++){const n=this._typedRegistries[t];if(n.isForType(e))return n}return this.plugins}_get(e,t,n){const s=t.get(e);if(void 0===s)throw new Error('"'+e+'" is not a registered '+n+".");return s}}var co=new oo;class uo{constructor(){this._init=void 0}notify(e,t,n,s){if("beforeInit"===t&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install")),void 0===this._init)return;const a=s?this._descriptors(e).filter(s):this._descriptors(e),r=this._notify(a,e,t,n);return"afterDestroy"===t&&(this._notify(a,e,"stop"),this._notify(this._init,e,"uninstall"),this._init=void 0),r}_notify(e,t,n,s){s=s||{};for(const a of e){const e=a.plugin;if(!1===va(e[n],[t,s,a.options],e)&&s.cancelable)return!1}return!0}invalidate(){ha(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const t=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),t}_createDescriptors(e,t){const n=e&&e.config,s=ga(n.options&&n.options.plugins,{}),a=function(e){const t={},n=[],s=Object.keys(co.plugins.items);for(let r=0;r<s.length;r++)n.push(co.getPlugin(s[r]));const a=e.plugins||[];for(let r=0;r<a.length;r++){const e=a[r];-1===n.indexOf(e)&&(n.push(e),t[e.id]=!0)}return{plugins:n,localIds:t}}(n);return!1!==s||t?function(e,{plugins:t,localIds:n},s,a){const r=[],i=e.getContext();for(const l of t){const t=l.id,o=ho(s[t],a);null!==o&&r.push({plugin:l,options:mo(e.config,{plugin:l,local:n[t]},o,i)})}return r}(e,a,s,t):[]}_notifyStateChanges(e){const t=this._oldCache||[],n=this._cache,s=(e,t)=>e.filter(e=>!t.some(t=>e.plugin.id===t.plugin.id));this._notify(s(t,n),e,"stop"),this._notify(s(n,t),e,"start")}}function ho(e,t){return t||!1!==e?!0===e?{}:e:null}function mo(e,{plugin:t,local:n},s,a){const r=e.pluginScopeKeys(t),i=e.getOptionScopes(s,r);return n&&t.defaults&&i.push(t.defaults),e.createResolver(i,a,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function po(e,t){const n=Pr.datasets[e]||{};return((t.datasets||{})[e]||{}).indexAxis||t.indexAxis||n.indexAxis||"x"}function fo(e){if("x"===e||"y"===e||"r"===e)return e}function xo(e){return"top"===e||"bottom"===e?"x":"left"===e||"right"===e?"y":void 0}function go(e,...t){if(fo(e))return e;for(const n of t){const t=n.axis||xo(n.position)||e.length>1&&fo(e[0].toLowerCase());if(t)return t}throw new Error(`Cannot determine type of '${e}' axis. Please provide 'axis' or 'position' option.`)}function bo(e,t,n){if(n[t+"AxisID"]===e)return{axis:t}}function vo(e,t){const n=Nr[e.type]||{scales:{}},s=t.scales||{},a=po(e.type,t),r=Object.create(null);return Object.keys(s).forEach(t=>{const i=s[t];if(!pa(i))return;if(i._proxy)return;const l=go(t,i,function(e,t){if(t.data&&t.data.datasets){const n=t.data.datasets.filter(t=>t.xAxisID===e||t.yAxisID===e);if(n.length)return bo(e,"x",n[0])||bo(e,"y",n[0])}return{}}(t,e),Pr.scales[i.type]),o=function(e,t){return e===t?"_index_":"_value_"}(l,a),c=n.scales||{};r[t]=Ca(Object.create(null),[{axis:l},i,c[l],c[o]])}),e.data.datasets.forEach(n=>{const a=n.type||e.type,i=n.indexAxis||po(a,t),l=(Nr[a]||{}).scales||{};Object.keys(l).forEach(e=>{const t=function(e,t){let n=e;return"_index_"===e?n=t:"_value_"===e&&(n="x"===t?"y":"x"),n}(e,i),a=n[t+"AxisID"]||t;r[a]=r[a]||Object.create(null),Ca(r[a],[{axis:t},s[a],l[e]])})}),Object.keys(r).forEach(e=>{const t=r[e];Ca(t,[Pr.scales[t.type],Pr.scale])}),r}function yo(e){const t=e.options||(e.options={});t.plugins=ga(t.plugins,{}),t.scales=vo(e,t)}function wo(e){return(e=e||{}).datasets=e.datasets||[],e.labels=e.labels||[],e}const jo=new Map,No=new Set;function ko(e,t){let n=jo.get(e);return n||(n=t(),jo.set(e,n),No.add(n)),n}const So=(e,t,n)=>{const s=Da(t,n);void 0!==s&&e.add(s)};class Co{constructor(e){this._config=function(e){return(e=e||{}).data=wo(e.data),yo(e),e}(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=wo(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),yo(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return ko(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,t){return ko(`${e}.transition.${t}`,()=>[[`datasets.${e}.transitions.${t}`,`transitions.${t}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,t){return ko(`${e}-${t}`,()=>[[`datasets.${e}.elements.${t}`,`datasets.${e}`,`elements.${t}`,""]])}pluginScopeKeys(e){const t=e.id;return ko(`${this.type}-plugin-${t}`,()=>[[`plugins.${t}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,t){const n=this._scopeCache;let s=n.get(e);return s&&!t||(s=new Map,n.set(e,s)),s}getOptionScopes(e,t,n){const{options:s,type:a}=this,r=this._cachedScopes(e,n),i=r.get(t);if(i)return i;const l=new Set;t.forEach(t=>{e&&(l.add(e),t.forEach(t=>So(l,e,t))),t.forEach(e=>So(l,s,e)),t.forEach(e=>So(l,Nr[a]||{},e)),t.forEach(e=>So(l,Pr,e)),t.forEach(e=>So(l,kr,e))});const o=Array.from(l);return 0===o.length&&o.push(Object.create(null)),No.has(t)&&r.set(t,o),o}chartOptionScopes(){const{options:e,type:t}=this;return[e,Nr[t]||{},Pr.datasets[t]||{},{type:t},Pr,kr]}resolveNamedOptions(e,t,n,s=[""]){const a={$shared:!0},{resolver:r,subPrefixes:i}=_o(this._resolverCache,e,s);let l=r;if(function(e,t){const{isScriptable:n,isIndexable:s}=ni(e);for(const a of t){const t=n(a),r=s(a),i=(r||t)&&e[a];if(t&&(za(i)||Po(i))||r&&ma(i))return!0}return!1}(r,t)){a.$shared=!1;l=ti(r,n=za(n)?n():n,this.createResolver(e,n,i))}for(const o of t)a[o]=l[o];return a}createResolver(e,t,n=[""],s){const{resolver:a}=_o(this._resolverCache,e,n);return pa(t)?ti(a,t,void 0,s):a}}function _o(e,t,n){let s=e.get(t);s||(s=new Map,e.set(t,s));const a=n.join();let r=s.get(a);if(!r){r={resolver:ei(t,n),subPrefixes:n.filter(e=>!e.toLowerCase().includes("hover"))},s.set(a,r)}return r}const Po=e=>pa(e)&&Object.getOwnPropertyNames(e).some(t=>za(e[t]));const Do=["top","bottom","left","right","chartArea"];function To(e,t){return"top"===e||"bottom"===e||-1===Do.indexOf(e)&&"x"===t}function Eo(e,t){return function(n,s){return n[e]===s[e]?n[t]-s[t]:n[e]-s[e]}}function zo(e){const t=e.chart,n=t.options.animation;t.notifyPlugins("afterRender"),va(n&&n.onComplete,[e],t)}function Mo(e){const t=e.chart,n=t.options.animation;va(n&&n.onProgress,[e],t)}function Ro(e){return yi()&&"string"==typeof e?e=document.getElementById(e):e&&e.length&&(e=e[0]),e&&e.canvas&&(e=e.canvas),e}const Ao={},Oo=e=>{const t=Ro(e);return Object.values(Ao).filter(e=>e.canvas===t).pop()};function Fo(e,t,n){const s=Object.keys(e);for(const a of s){const s=+a;if(s>=t){const r=e[a];delete e[a],(n>0||s>t)&&(e[s+n]=r)}}}let Io=class{static defaults=Pr;static instances=Ao;static overrides=Nr;static registry=co;static version="4.5.1";static getChart=Oo;static register(...e){co.add(...e),Lo()}static unregister(...e){co.remove(...e),Lo()}constructor(e,t){const n=this.config=new Co(t),s=Ro(e),a=Oo(s);if(a)throw new Error("Canvas is already in use. Chart with ID '"+a.id+"' must be destroyed before the canvas with ID '"+a.canvas.id+"' can be reused.");const r=n.createResolver(n.chartOptionScopes(),this.getContext());this.platform=new(n.platform||function(e){return!yi()||"undefined"!=typeof OffscreenCanvas&&e instanceof OffscreenCanvas?Rl:Xl}(s)),this.platform.updateConfig(n);const i=this.platform.acquireContext(s,r.aspectRatio),l=i&&i.canvas,o=l&&l.height,c=l&&l.width;this.id=ua(),this.ctx=i,this.canvas=l,this.width=c,this.height=o,this._options=r,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new uo,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=function(e,t){let n;return function(...s){return t?(clearTimeout(n),n=setTimeout(e,t,s)):e.apply(this,s),t}}(e=>this.update(e),r.resizeDelay||0),this._dataChanges=[],Ao[this.id]=this,i&&l&&(Gi.listen(this,"complete",zo),Gi.listen(this,"progress",Mo),this._initialize(),this.attached&&this.update())}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:t},width:n,height:s,_aspectRatio:a}=this;return ha(e)?t&&a?a:s?n/s:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return co}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():Di(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return Er(this.canvas,this.ctx),this}stop(){return Gi.stop(this),this}resize(e,t){Gi.running(this)?this._resizeBeforeDraw={width:e,height:t}:this._resize(e,t)}_resize(e,t){const n=this.options,s=this.canvas,a=n.maintainAspectRatio&&this.aspectRatio,r=this.platform.getMaximumSize(s,e,t,a),i=n.devicePixelRatio||this.platform.getDevicePixelRatio(),l=this.width?"resize":"attach";this.width=r.width,this.height=r.height,this._aspectRatio=this.aspectRatio,Di(this,i,!0)&&(this.notifyPlugins("resize",{size:r}),va(n.onResize,[this,r],this),this.attached&&this._doResize(l)&&this.render())}ensureScalesHaveIDs(){ya(this.options.scales||{},(e,t)=>{e.id=t})}buildOrUpdateScales(){const e=this.options,t=e.scales,n=this.scales,s=Object.keys(n).reduce((e,t)=>(e[t]=!1,e),{});let a=[];t&&(a=a.concat(Object.keys(t).map(e=>{const n=t[e],s=go(e,n),a="r"===s,r="x"===s;return{options:n,dposition:a?"chartArea":r?"bottom":"left",dtype:a?"radialLinear":r?"category":"linear"}}))),ya(a,t=>{const a=t.options,r=a.id,i=go(r,a),l=ga(a.type,t.dtype);void 0!==a.position&&To(a.position,i)===To(t.dposition)||(a.position=t.dposition),s[r]=!0;let o=null;if(r in n&&n[r].type===l)o=n[r];else{o=new(co.getScale(l))({id:r,type:l,ctx:this.ctx,chart:this}),n[o.id]=o}o.init(a,e)}),ya(s,(e,t)=>{e||delete n[t]}),ya(n,e=>{zl.configure(this,e,e.options),zl.addBox(this,e)})}_updateMetasets(){const e=this._metasets,t=this.data.datasets.length,n=e.length;if(e.sort((e,t)=>e.index-t.index),n>t){for(let e=t;e<n;++e)this._destroyDatasetMeta(e);e.splice(t,n-t)}this._sortedMetasets=e.slice(0).sort(Eo("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:t}}=this;e.length>t.length&&delete this._stacks,e.forEach((e,n)=>{0===t.filter(t=>t===e._dataset).length&&this._destroyDatasetMeta(n)})}buildOrUpdateControllers(){const e=[],t=this.data.datasets;let n,s;for(this._removeUnreferencedMetasets(),n=0,s=t.length;n<s;n++){const s=t[n];let a=this.getDatasetMeta(n);const r=s.type||this.config.type;if(a.type&&a.type!==r&&(this._destroyDatasetMeta(n),a=this.getDatasetMeta(n)),a.type=r,a.indexAxis=s.indexAxis||po(r,this.options),a.order=s.order||0,a.index=n,a.label=""+s.label,a.visible=this.isDatasetVisible(n),a.controller)a.controller.updateIndex(n),a.controller.linkScales();else{const t=co.getController(r),{datasetElementType:s,dataElementType:i}=Pr.datasets[r];Object.assign(t,{dataElementType:co.getElement(i),datasetElementType:s&&co.getElement(s)}),a.controller=new t(this,n),e.push(a.controller)}}return this._updateMetasets(),e}_resetElements(){ya(this.data.datasets,(e,t)=>{this.getDatasetMeta(t).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const t=this.config;t.update();const n=this._options=t.createResolver(t.chartOptionScopes(),this.getContext()),s=this._animationsDisabled=!n.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),!1===this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0}))return;const a=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let r=0;for(let o=0,c=this.data.datasets.length;o<c;o++){const{controller:e}=this.getDatasetMeta(o),t=!s&&-1===a.indexOf(e);e.buildOrUpdateElements(t),r=Math.max(+e.getMaxOverflow(),r)}r=this._minPadding=n.layout.autoPadding?r:0,this._updateLayout(r),s||ya(a,e=>{e.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(Eo("z","_idx"));const{_active:i,_lastEvent:l}=this;l?this._eventHandler(l,!0):i.length&&this._updateHoverStyles(i,i,!0),this.render()}_updateScales(){ya(this.scales,e=>{zl.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,t=new Set(Object.keys(this._listeners)),n=new Set(e.events);Ma(t,n)&&!!this._responsiveListeners===e.responsive||(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,t=this._getUniformDataChanges()||[];for(const{method:n,start:s,count:a}of t){Fo(e,s,"_removeElements"===n?-a:a)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const t=this.data.datasets.length,n=t=>new Set(e.filter(e=>e[0]===t).map((e,t)=>t+","+e.splice(1).join(","))),s=n(0);for(let a=1;a<t;a++)if(!Ma(s,n(a)))return;return Array.from(s).map(e=>e.split(",")).map(e=>({method:e[1],start:+e[2],count:+e[3]}))}_updateLayout(e){if(!1===this.notifyPlugins("beforeLayout",{cancelable:!0}))return;zl.update(this,this.width,this.height,e);const t=this.chartArea,n=t.width<=0||t.height<=0;this._layers=[],ya(this.boxes,e=>{n&&"chartArea"===e.position||(e.configure&&e.configure(),this._layers.push(...e._layers()))},this),this._layers.forEach((e,t)=>{e._idx=t}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(!1!==this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})){for(let e=0,t=this.data.datasets.length;e<t;++e)this.getDatasetMeta(e).controller.configure();for(let t=0,n=this.data.datasets.length;t<n;++t)this._updateDataset(t,za(e)?e({datasetIndex:t}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,t){const n=this.getDatasetMeta(e),s={meta:n,index:e,mode:t,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetUpdate",s)&&(n.controller._update(t),s.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",s))}render(){!1!==this.notifyPlugins("beforeRender",{cancelable:!0})&&(Gi.has(this)?this.attached&&!Gi.running(this)&&Gi.start(this):(this.draw(),zo({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:e,height:t}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(e,t)}if(this.clear(),this.width<=0||this.height<=0)return;if(!1===this.notifyPlugins("beforeDraw",{cancelable:!0}))return;const t=this._layers;for(e=0;e<t.length&&t[e].z<=0;++e)t[e].draw(this.chartArea);for(this._drawDatasets();e<t.length;++e)t[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const t=this._sortedMetasets,n=[];let s,a;for(s=0,a=t.length;s<a;++s){const a=t[s];e&&!a.visible||n.push(a)}return n}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(!1===this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0}))return;const e=this.getSortedVisibleDatasetMetas();for(let t=e.length-1;t>=0;--t)this._drawDataset(e[t]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const t=this.ctx,n={meta:e,index:e.index,cancelable:!0},s=qi(this,e);!1!==this.notifyPlugins("beforeDatasetDraw",n)&&(s&&Ar(t,s),e.controller.draw(),s&&Or(t),n.cancelable=!1,this.notifyPlugins("afterDatasetDraw",n))}isPointInArea(e){return Rr(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,t,n,s){const a=vl.modes[t];return"function"==typeof a?a(this,e,n,s):[]}getDatasetMeta(e){const t=this.data.datasets[e],n=this._metasets;let s=n.filter(e=>e&&e._dataset===t).pop();return s||(s={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:t&&t.order||0,index:e,_dataset:t,_parsed:[],_sorted:!1},n.push(s)),s}getContext(){return this.$context||(this.$context=Zr(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const t=this.data.datasets[e];if(!t)return!1;const n=this.getDatasetMeta(e);return"boolean"==typeof n.hidden?!n.hidden:!t.hidden}setDatasetVisibility(e,t){this.getDatasetMeta(e).hidden=!t}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,t,n){const s=n?"show":"hide",a=this.getDatasetMeta(e),r=a.controller._resolveAnimations(void 0,s);Ea(t)?(a.data[t].hidden=!n,this.update()):(this.setDatasetVisibility(e,n),r.update(a,{visible:n}),this.update(t=>t.datasetIndex===e?s:void 0))}hide(e,t){this._updateVisibility(e,t,!1)}show(e,t){this._updateVisibility(e,t,!0)}_destroyDatasetMeta(e){const t=this._metasets[e];t&&t.controller&&t.controller._destroy(),delete this._metasets[e]}_stop(){let e,t;for(this.stop(),Gi.remove(this),e=0,t=this.data.datasets.length;e<t;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:t}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),Er(e,t),this.platform.releaseContext(t),this.canvas=null,this.ctx=null),delete Ao[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,t=this.platform,n=(n,s)=>{t.addEventListener(this,n,s),e[n]=s},s=(e,t,n)=>{e.offsetX=t,e.offsetY=n,this._eventHandler(e)};ya(this.options.events,e=>n(e,s))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,t=this.platform,n=(n,s)=>{t.addEventListener(this,n,s),e[n]=s},s=(n,s)=>{e[n]&&(t.removeEventListener(this,n,s),delete e[n])},a=(e,t)=>{this.canvas&&this.resize(e,t)};let r;const i=()=>{s("attach",i),this.attached=!0,this.resize(),n("resize",a),n("detach",r)};r=()=>{this.attached=!1,s("resize",a),this._stop(),this._resize(0,0),n("attach",i)},t.isAttached(this.canvas)?i():r()}unbindEvents(){ya(this._listeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._listeners={},ya(this._responsiveListeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,t,n){const s=n?"set":"remove";let a,r,i,l;for("dataset"===t&&(a=this.getDatasetMeta(e[0].datasetIndex),a.controller["_"+s+"DatasetHoverStyle"]()),i=0,l=e.length;i<l;++i){r=e[i];const t=r&&this.getDatasetMeta(r.datasetIndex).controller;t&&t[s+"HoverStyle"](r.element,r.datasetIndex,r.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const t=this._active||[],n=e.map(({datasetIndex:e,index:t})=>{const n=this.getDatasetMeta(e);if(!n)throw new Error("No dataset found at index "+e);return{datasetIndex:e,element:n.data[t],index:t}});!wa(n,t)&&(this._active=n,this._lastEvent=null,this._updateHoverStyles(n,t))}notifyPlugins(e,t,n){return this._plugins.notify(this,e,t,n)}isPluginEnabled(e){return 1===this._plugins._cache.filter(t=>t.plugin.id===e).length}_updateHoverStyles(e,t,n){const s=this.options.hover,a=(e,t)=>e.filter(e=>!t.some(t=>e.datasetIndex===t.datasetIndex&&e.index===t.index)),r=a(t,e),i=n?e:a(e,t);r.length&&this.updateHoverStyle(r,s.mode,!1),i.length&&s.mode&&this.updateHoverStyle(i,s.mode,!0)}_eventHandler(e,t){const n={event:e,replay:t,cancelable:!0,inChartArea:this.isPointInArea(e)},s=t=>(t.options.events||this.options.events).includes(e.native.type);if(!1===this.notifyPlugins("beforeEvent",n,s))return;const a=this._handleEvent(e,t,n.inChartArea);return n.cancelable=!1,this.notifyPlugins("afterEvent",n,s),(a||n.changed)&&this.render(),this}_handleEvent(e,t,n){const{_active:s=[],options:a}=this,r=t,i=this._getActiveElements(e,s,n,r),l=function(e){return"mouseup"===e.type||"click"===e.type||"contextmenu"===e.type}(e),o=function(e,t,n,s){return n&&"mouseout"!==e.type?s?t:e:null}(e,this._lastEvent,n,l);n&&(this._lastEvent=null,va(a.onHover,[e,i,this],this),l&&va(a.onClick,[e,i,this],this));const c=!wa(i,s);return(c||t)&&(this._active=i,this._updateHoverStyles(i,s,t)),this._lastEvent=o,c}_getActiveElements(e,t,n,s){if("mouseout"===e.type)return[];if(!n)return t;const a=this.options.hover;return this.getElementsAtEventForMode(e,a.mode,a,s)}};function Lo(){return ya(Io.instances,e=>e._plugins.invalidate())}function Bo(e,t,n,s){const a=Yr(e.options.borderRadius,["outerStart","outerEnd","innerStart","innerEnd"]);const r=(n-t)/2,i=Math.min(r,s*t/2),l=e=>{const t=(n-Math.min(r,e))*s/2;return er(e,0,Math.min(r,t))};return{outerStart:l(a.outerStart),outerEnd:l(a.outerEnd),innerStart:er(a.innerStart,0,i),innerEnd:er(a.innerEnd,0,i)}}function $o(e,t,n,s){return{x:n+e*Math.cos(t),y:s+e*Math.sin(t)}}function Wo(e,t,n,s,a,r){const{x:i,y:l,startAngle:o,pixelMargin:c,innerRadius:d}=t,u=Math.max(t.outerRadius+s+n-c,0),h=d>0?d+s+n+c:0;let m=0;const p=a-o;if(s){const e=((d>0?d-s:0)+(u>0?u-s:0))/2;m=(p-(0!==e?p*e/(e+s):p))/2}const f=(p-Math.max(.001,p*u-n/Ra)/u)/2,x=o+f+m,g=a-f-m,{outerStart:b,outerEnd:v,innerStart:y,innerEnd:w}=Bo(t,h,u,g-x),j=u-b,N=u-v,k=x+b/j,S=g-v/N,C=h+y,_=h+w,P=x+y/C,D=g-w/_;if(e.beginPath(),r){const t=(k+S)/2;if(e.arc(i,l,u,k,t),e.arc(i,l,u,t,S),v>0){const t=$o(N,S,i,l);e.arc(t.x,t.y,v,S,g+La)}const n=$o(_,g,i,l);if(e.lineTo(n.x,n.y),w>0){const t=$o(_,D,i,l);e.arc(t.x,t.y,w,g+La,D+Math.PI)}const s=(g-w/h+(x+y/h))/2;if(e.arc(i,l,h,g-w/h,s,!0),e.arc(i,l,h,s,x+y/h,!0),y>0){const t=$o(C,P,i,l);e.arc(t.x,t.y,y,P+Math.PI,x-La)}const a=$o(j,x,i,l);if(e.lineTo(a.x,a.y),b>0){const t=$o(j,k,i,l);e.arc(t.x,t.y,b,x-La,k)}}else{e.moveTo(i,l);const t=Math.cos(k)*u+i,n=Math.sin(k)*u+l;e.lineTo(t,n);const s=Math.cos(S)*u+i,a=Math.sin(S)*u+l;e.lineTo(s,a)}e.closePath()}function Ho(e,t,n,s,a){const{fullCircles:r,startAngle:i,circumference:l,options:o}=t,{borderWidth:c,borderJoinStyle:d,borderDash:u,borderDashOffset:h,borderRadius:m}=o,p="inner"===o.borderAlign;if(!c)return;e.setLineDash(u||[]),e.lineDashOffset=h,p?(e.lineWidth=2*c,e.lineJoin=d||"round"):(e.lineWidth=c,e.lineJoin=d||"bevel");let f=t.endAngle;if(r){Wo(e,t,n,s,f,a);for(let t=0;t<r;++t)e.stroke();isNaN(l)||(f=i+(l%Aa||Aa))}p&&function(e,t,n){const{startAngle:s,pixelMargin:a,x:r,y:i,outerRadius:l,innerRadius:o}=t;let c=a/l;e.beginPath(),e.arc(r,i,l,s-c,n+c),o>a?(c=a/o,e.arc(r,i,o,n+c,s-c,!0)):e.arc(r,i,a,n+La,s-La),e.closePath(),e.clip()}(e,t,f),o.selfJoin&&f-i>=Ra&&0===m&&"miter"!==d&&function(e,t,n){const{startAngle:s,x:a,y:r,outerRadius:i,innerRadius:l,options:o}=t,{borderWidth:c,borderJoinStyle:d}=o,u=Math.min(c/i,Ja(s-n));if(e.beginPath(),e.arc(a,r,i-c/2,s+u/2,n-u/2),l>0){const t=Math.min(c/l,Ja(s-n));e.arc(a,r,l+c/2,n-t/2,s+t/2,!0)}else{const t=Math.min(c/2,i*Ja(s-n));if("round"===d)e.arc(a,r,t,n-Ra/2,s+Ra/2,!0);else if("bevel"===d){const i=2*t*t,l=-i*Math.cos(n+Ra/2)+a,o=-i*Math.sin(n+Ra/2)+r,c=i*Math.cos(s+Ra/2)+a,d=i*Math.sin(s+Ra/2)+r;e.lineTo(l,o),e.lineTo(c,d)}}e.closePath(),e.moveTo(0,0),e.rect(0,0,e.canvas.width,e.canvas.height),e.clip("evenodd")}(e,t,f),r||(Wo(e,t,n,s,f,a),e.stroke())}function Uo(e,t,n=t){e.lineCap=ga(n.borderCapStyle,t.borderCapStyle),e.setLineDash(ga(n.borderDash,t.borderDash)),e.lineDashOffset=ga(n.borderDashOffset,t.borderDashOffset),e.lineJoin=ga(n.borderJoinStyle,t.borderJoinStyle),e.lineWidth=ga(n.borderWidth,t.borderWidth),e.strokeStyle=ga(n.borderColor,t.borderColor)}function Vo(e,t,n){e.lineTo(n.x,n.y)}function qo(e,t,n={}){const s=e.length,{start:a=0,end:r=s-1}=n,{start:i,end:l}=t,o=Math.max(a,i),c=Math.min(r,l),d=a<i&&r<i||a>l&&r>l;return{count:s,start:o,loop:t.loop,ilen:c<o&&!d?s+c-o:c-o}}function Yo(e,t,n,s){const{points:a,options:r}=t,{count:i,start:l,loop:o,ilen:c}=qo(a,n,s),d=function(e){return e.stepped?Fr:e.tension||"monotone"===e.cubicInterpolationMode?Ir:Vo}(r);let u,h,m,{move:p=!0,reverse:f}=s||{};for(u=0;u<=c;++u)h=a[(l+(f?c-u:u))%i],h.skip||(p?(e.moveTo(h.x,h.y),p=!1):d(e,m,h,f,r.stepped),m=h);return o&&(h=a[(l+(f?c:0))%i],d(e,m,h,f,r.stepped)),!!o}function Go(e,t,n,s){const a=t.points,{count:r,start:i,ilen:l}=qo(a,n,s),{move:o=!0,reverse:c}=s||{};let d,u,h,m,p,f,x=0,g=0;const b=e=>(i+(c?l-e:e))%r,v=()=>{m!==p&&(e.lineTo(x,p),e.lineTo(x,m),e.lineTo(x,f))};for(o&&(u=a[b(0)],e.moveTo(u.x,u.y)),d=0;d<=l;++d){if(u=a[b(d)],u.skip)continue;const t=u.x,n=u.y,s=0|t;s===h?(n<m?m=n:n>p&&(p=n),x=(g*x+t)/++g):(v(),e.lineTo(t,n),h=s,g=0,m=p=n),f=n}v()}function Xo(e){const t=e.options,n=t.borderDash&&t.borderDash.length;return!(e._decimated||e._loop||t.tension||"monotone"===t.cubicInterpolationMode||t.stepped||n)?Go:Yo}const Qo="function"==typeof Path2D;function Ko(e,t,n,s){Qo&&!t.options.segment?function(e,t,n,s){let a=t._path;a||(a=t._path=new Path2D,t.path(a,n,s)&&a.closePath()),Uo(e,t.options),e.stroke(a)}(e,t,n,s):function(e,t,n,s){const{segments:a,options:r}=t,i=Xo(t);for(const l of a)Uo(e,r,l.style),e.beginPath(),i(e,t,l,{start:n,end:n+s-1})&&e.closePath(),e.stroke()}(e,t,n,s)}class Jo extends Ql{static id="line";static defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};static descriptors={_scriptable:!0,_indexable:e=>"borderDash"!==e&&"fill"!==e};constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,t){const n=this.options;if((n.tension||"monotone"===n.cubicInterpolationMode)&&!n.stepped&&!this._pointsUpdated){const s=n.spanGaps?this._loop:this._fullLoop;vi(this._points,n,e,s,t),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=function(e,t){const n=e.points,s=e.options.spanGaps,a=n.length;if(!a)return[];const r=!!e._loop,{start:i,end:l}=function(e,t,n,s){let a=0,r=t-1;if(n&&!s)for(;a<t&&!e[a].skip;)a++;for(;a<t&&e[a].skip;)a++;for(a%=t,n&&(r+=a);r>a&&e[r%t].skip;)r--;return r%=t,{start:a,end:r}}(n,a,r,s);return Wi(e,!0===s?[{start:i,end:l,loop:r}]:function(e,t,n,s){const a=e.length,r=[];let i,l=t,o=e[t];for(i=t+1;i<=n;++i){const n=e[i%a];n.skip||n.stop?o.skip||(s=!1,r.push({start:t%a,end:(i-1)%a,loop:s}),t=l=n.stop?i:null):(l=i,o.skip&&(t=i)),o=n}return null!==l&&r.push({start:t%a,end:l%a,loop:s}),r}(n,i,l<i?l+a:l,!!e._fullLoop&&0===i&&l===a-1),n,t)}(this,this.options.segment))}first(){const e=this.segments,t=this.points;return e.length&&t[e[0].start]}last(){const e=this.segments,t=this.points,n=e.length;return n&&t[e[n-1].end]}interpolate(e,t){const n=this.options,s=e[t],a=this.points,r=$i(this,{property:t,start:s,end:s});if(!r.length)return;const i=[],l=function(e){return e.stepped?Mi:e.tension||"monotone"===e.cubicInterpolationMode?Ri:zi}(n);let o,c;for(o=0,c=r.length;o<c;++o){const{start:c,end:d}=r[o],u=a[c],h=a[d];if(u===h){i.push(u);continue}const m=l(u,h,Math.abs((s-u[t])/(h[t]-u[t])),n.stepped);m[t]=e[t],i.push(m)}return 1===i.length?i[0]:i}pathSegment(e,t,n){return Xo(this)(e,this,t,n)}path(e,t,n){const s=this.segments,a=Xo(this);let r=this._loop;t=t||0,n=n||this.points.length-t;for(const i of s)r&=a(e,this,i,{start:t,end:t+n-1});return!!r}draw(e,t,n,s){const a=this.options||{};(this.points||[]).length&&a.borderWidth&&(e.save(),Ko(e,this,n,s),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}function Zo(e,t,n,s){const a=e.options,{[n]:r}=e.getProps([n],s);return Math.abs(t-r)<a.radius+a.hitRadius}function ec(e,t){const{x:n,y:s,base:a,width:r,height:i}=e.getProps(["x","y","base","width","height"],t);let l,o,c,d,u;return e.horizontal?(u=i/2,l=Math.min(n,a),o=Math.max(n,a),c=s-u,d=s+u):(u=r/2,l=n-u,o=n+u,c=Math.min(s,a),d=Math.max(s,a)),{left:l,top:c,right:o,bottom:d}}function tc(e,t,n,s){return e?0:er(t,n,s)}function nc(e){const t=ec(e),n=t.right-t.left,s=t.bottom-t.top,a=function(e,t,n){const s=e.options.borderWidth,a=e.borderSkipped,r=Gr(s);return{t:tc(a.top,r.top,0,n),r:tc(a.right,r.right,0,t),b:tc(a.bottom,r.bottom,0,n),l:tc(a.left,r.left,0,t)}}(e,n/2,s/2),r=function(e,t,n){const{enableBorderRadius:s}=e.getProps(["enableBorderRadius"]),a=e.options.borderRadius,r=Xr(a),i=Math.min(t,n),l=e.borderSkipped,o=s||pa(a);return{topLeft:tc(!o||l.top||l.left,r.topLeft,0,i),topRight:tc(!o||l.top||l.right,r.topRight,0,i),bottomLeft:tc(!o||l.bottom||l.left,r.bottomLeft,0,i),bottomRight:tc(!o||l.bottom||l.right,r.bottomRight,0,i)}}(e,n/2,s/2);return{outer:{x:t.left,y:t.top,w:n,h:s,radius:r},inner:{x:t.left+a.l,y:t.top+a.t,w:n-a.l-a.r,h:s-a.t-a.b,radius:{topLeft:Math.max(0,r.topLeft-Math.max(a.t,a.l)),topRight:Math.max(0,r.topRight-Math.max(a.t,a.r)),bottomLeft:Math.max(0,r.bottomLeft-Math.max(a.b,a.l)),bottomRight:Math.max(0,r.bottomRight-Math.max(a.b,a.r))}}}}function sc(e,t,n,s){const a=null===t,r=null===n,i=e&&!(a&&r)&&ec(e,s);return i&&(a||tr(t,i.left,i.right))&&(r||tr(n,i.top,i.bottom))}function ac(e,t){e.rect(t.x,t.y,t.w,t.h)}function rc(e,t,n={}){const s=e.x!==n.x?-t:0,a=e.y!==n.y?-t:0,r=(e.x+e.w!==n.x+n.w?t:0)-s,i=(e.y+e.h!==n.y+n.h?t:0)-a;return{x:e.x+s,y:e.y+a,w:e.w+r,h:e.h+i,radius:e.radius}}function ic(e,t,n,s){if(s)return;let a=t[e],r=n[e];return"angle"===e&&(a=Ja(a),r=Ja(r)),{property:e,start:a,end:r}}function lc(e,t,n){for(;t>e;t--){const e=n[t];if(!isNaN(e.x)&&!isNaN(e.y))break}return t}function oc(e,t,n,s){return e&&t?s(e[n],t[n]):e?e[n]:t?t[n]:0}function cc(e,t){let n=[],s=!1;return ma(e)?(s=!0,n=e):n=function(e,t){const{x:n=null,y:s=null}=e||{},a=t.points,r=[];return t.segments.forEach(({start:e,end:t})=>{t=lc(e,t,a);const i=a[e],l=a[t];null!==s?(r.push({x:i.x,y:s}),r.push({x:l.x,y:s})):null!==n&&(r.push({x:n,y:i.y}),r.push({x:n,y:l.y}))}),r}(e,t),n.length?new Jo({points:n,options:{tension:0},_loop:s,_fullLoop:s}):null}function dc(e){return e&&!1!==e.fill}function uc(e,t,n){let s=e[t].fill;const a=[t];let r;if(!n)return s;for(;!1!==s&&-1===a.indexOf(s);){if(!fa(s))return s;if(r=e[s],!r)return!1;if(r.visible)return s;a.push(s),s=r.fill}return!1}function hc(e,t,n){const s=function(e){const t=e.options,n=t.fill;let s=ga(n&&n.target,n);void 0===s&&(s=!!t.backgroundColor);if(!1===s||null===s)return!1;if(!0===s)return"origin";return s}(e);if(pa(s))return!isNaN(s.value)&&s;let a=parseFloat(s);return fa(a)&&Math.floor(a)===a?function(e,t,n,s){"-"!==e&&"+"!==e||(n=t+n);if(n===t||n<0||n>=s)return!1;return n}(s[0],t,a,n):["origin","start","end","stack","shape"].indexOf(s)>=0&&s}function mc(e,t,n){const s=[];for(let a=0;a<n.length;a++){const r=n[a],{first:i,last:l,point:o}=pc(r,t,"x");if(!(!o||i&&l))if(i)s.unshift(o);else if(e.push(o),!l)break}e.push(...s)}function pc(e,t,n){const s=e.interpolate(t,n);if(!s)return{};const a=s[n],r=e.segments,i=e.points;let l=!1,o=!1;for(let c=0;c<r.length;c++){const e=r[c],t=i[e.start][n],s=i[e.end][n];if(tr(a,t,s)){l=a===t,o=a===s;break}}return{first:l,last:o,point:s}}class fc{constructor(e){this.x=e.x,this.y=e.y,this.radius=e.radius}pathSegment(e,t,n){const{x:s,y:a,radius:r}=this;return t=t||{start:0,end:Aa},e.arc(s,a,r,t.end,t.start,!0),!n.bounds}interpolate(e){const{x:t,y:n,radius:s}=this,a=e.angle;return{x:t+Math.cos(a)*s,y:n+Math.sin(a)*s,angle:a}}}function xc(e){const{chart:t,fill:n,line:s}=e;if(fa(n))return function(e,t){const n=e.getDatasetMeta(t),s=n&&e.isDatasetVisible(t);return s?n.dataset:null}(t,n);if("stack"===n)return function(e){const{scale:t,index:n,line:s}=e,a=[],r=s.segments,i=s.points,l=function(e,t){const n=[],s=e.getMatchingVisibleMetas("line");for(let a=0;a<s.length;a++){const e=s[a];if(e.index===t)break;e.hidden||n.unshift(e.dataset)}return n}(t,n);l.push(cc({x:null,y:t.bottom},s));for(let o=0;o<r.length;o++){const e=r[o];for(let t=e.start;t<=e.end;t++)mc(a,i[t],l)}return new Jo({points:a,options:{}})}(e);if("shape"===n)return!0;const a=function(e){const t=e.scale||{};if(t.getPointPositionForValue)return function(e){const{scale:t,fill:n}=e,s=t.options,a=t.getLabels().length,r=s.reverse?t.max:t.min,i=function(e,t,n){let s;return s="start"===e?n:"end"===e?t.options.reverse?t.min:t.max:pa(e)?e.value:t.getBaseValue(),s}(n,t,r),l=[];if(s.grid.circular){const e=t.getPointPositionForValue(0,r);return new fc({x:e.x,y:e.y,radius:t.getDistanceFromCenterForValue(i)})}for(let o=0;o<a;++o)l.push(t.getPointPositionForValue(o,i));return l}(e);return function(e){const{scale:t={},fill:n}=e,s=function(e,t){let n=null;return"start"===e?n=t.bottom:"end"===e?n=t.top:pa(e)?n=t.getPixelForValue(e.value):t.getBasePixel&&(n=t.getBasePixel()),n}(n,t);if(fa(s)){const e=t.isHorizontal();return{x:e?s:null,y:e?null:s}}return null}(e)}(e);return a instanceof fc?a:cc(a,s)}function gc(e,t,n){const s=xc(t),{chart:a,index:r,line:i,scale:l,axis:o}=t,c=i.options,d=c.fill,u=c.backgroundColor,{above:h=u,below:m=u}=d||{},p=a.getDatasetMeta(r),f=qi(a,p);s&&i.points.length&&(Ar(e,n),function(e,t){const{line:n,target:s,above:a,below:r,area:i,scale:l,clip:o}=t,c=n._loop?"angle":t.axis;e.save();let d=r;r!==a&&("x"===c?(bc(e,s,i.top),yc(e,{line:n,target:s,color:a,scale:l,property:c,clip:o}),e.restore(),e.save(),bc(e,s,i.bottom)):"y"===c&&(vc(e,s,i.left),yc(e,{line:n,target:s,color:r,scale:l,property:c,clip:o}),e.restore(),e.save(),vc(e,s,i.right),d=a));yc(e,{line:n,target:s,color:d,scale:l,property:c,clip:o}),e.restore()}(e,{line:i,target:s,above:h,below:m,area:n,scale:l,axis:o,clip:f}),Or(e))}function bc(e,t,n){const{segments:s,points:a}=t;let r=!0,i=!1;e.beginPath();for(const l of s){const{start:s,end:o}=l,c=a[s],d=a[lc(s,o,a)];r?(e.moveTo(c.x,c.y),r=!1):(e.lineTo(c.x,n),e.lineTo(c.x,c.y)),i=!!t.pathSegment(e,l,{move:i}),i?e.closePath():e.lineTo(d.x,n)}e.lineTo(t.first().x,n),e.closePath(),e.clip()}function vc(e,t,n){const{segments:s,points:a}=t;let r=!0,i=!1;e.beginPath();for(const l of s){const{start:s,end:o}=l,c=a[s],d=a[lc(s,o,a)];r?(e.moveTo(c.x,c.y),r=!1):(e.lineTo(n,c.y),e.lineTo(c.x,c.y)),i=!!t.pathSegment(e,l,{move:i}),i?e.closePath():e.lineTo(n,d.y)}e.lineTo(n,t.first().y),e.closePath(),e.clip()}function yc(e,t){const{line:n,target:s,property:a,color:r,scale:i,clip:l}=t,o=function(e,t,n){const s=e.segments,a=e.points,r=t.points,i=[];for(const l of s){let{start:e,end:s}=l;s=lc(e,s,a);const o=ic(n,a[e],a[s],l.loop);if(!t.segments){i.push({source:l,target:o,start:a[e],end:a[s]});continue}const c=$i(t,o);for(const t of c){const e=ic(n,r[t.start],r[t.end],t.loop),s=Bi(l,a,e);for(const a of s)i.push({source:a,target:t,start:{[n]:oc(o,e,"start",Math.max)},end:{[n]:oc(o,e,"end",Math.min)}})}}return i}(n,s,a);for(const{source:c,target:d,start:u,end:h}of o){const{style:{backgroundColor:t=r}={}}=c,o=!0!==s;e.save(),e.fillStyle=t,wc(e,i,l,o&&ic(a,u,h)),e.beginPath();const m=!!n.pathSegment(e,c);let p;if(o){m?e.closePath():jc(e,s,h,a);const t=!!s.pathSegment(e,d,{move:m,reverse:!0});p=m&&t,p||jc(e,s,u,a)}e.closePath(),e.fill(p?"evenodd":"nonzero"),e.restore()}}function wc(e,t,n,s){const a=t.chart.chartArea,{property:r,start:i,end:l}=s||{};if("x"===r||"y"===r){let t,s,o,c;"x"===r?(t=i,s=a.top,o=l,c=a.bottom):(t=a.left,s=i,o=a.right,c=l),e.beginPath(),n&&(t=Math.max(t,n.left),o=Math.min(o,n.right),s=Math.max(s,n.top),c=Math.min(c,n.bottom)),e.rect(t,s,o-t,c-s),e.clip()}}function jc(e,t,n,s){const a=t.interpolate(n,s);a&&e.lineTo(a.x,a.y)}var Nc={id:"filler",afterDatasetsUpdate(e,t,n){const s=(e.data.datasets||[]).length,a=[];let r,i,l,o;for(i=0;i<s;++i)r=e.getDatasetMeta(i),l=r.dataset,o=null,l&&l.options&&l instanceof Jo&&(o={visible:e.isDatasetVisible(i),index:i,fill:hc(l,i,s),chart:e,axis:r.controller.options.indexAxis,scale:r.vScale,line:l}),r.$filler=o,a.push(o);for(i=0;i<s;++i)o=a[i],o&&!1!==o.fill&&(o.fill=uc(a,i,n.propagate))},beforeDraw(e,t,n){const s="beforeDraw"===n.drawTime,a=e.getSortedVisibleDatasetMetas(),r=e.chartArea;for(let i=a.length-1;i>=0;--i){const t=a[i].$filler;t&&(t.line.updateControlPoints(r,t.axis),s&&t.fill&&gc(e.ctx,t,r))}},beforeDatasetsDraw(e,t,n){if("beforeDatasetsDraw"!==n.drawTime)return;const s=e.getSortedVisibleDatasetMetas();for(let a=s.length-1;a>=0;--a){const t=s[a].$filler;dc(t)&&gc(e.ctx,t,e.chartArea)}},beforeDatasetDraw(e,t,n){const s=t.meta.$filler;dc(s)&&"beforeDatasetDraw"===n.drawTime&&gc(e.ctx,s,e.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const kc=(e,t)=>{let{boxHeight:n=t,boxWidth:s=t}=e;return e.usePointStyle&&(n=Math.min(n,t),s=e.pointStyleWidth||Math.min(s,t)),{boxWidth:s,boxHeight:n,itemHeight:Math.max(t,n)}};class Sc extends Ql{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t,n){this.maxWidth=e,this.maxHeight=t,this._margins=n,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let t=va(e.generateLabels,[this.chart],this)||[];e.filter&&(t=t.filter(t=>e.filter(t,this.chart.data))),e.sort&&(t=t.sort((t,n)=>e.sort(t,n,this.chart.data))),this.options.reverse&&t.reverse(),this.legendItems=t}fit(){const{options:e,ctx:t}=this;if(!e.display)return void(this.width=this.height=0);const n=e.labels,s=Kr(n.font),a=s.size,r=this._computeTitleHeight(),{boxWidth:i,itemHeight:l}=kc(n,a);let o,c;t.font=s.string,this.isHorizontal()?(o=this.maxWidth,c=this._fitRows(r,a,i,l)+10):(c=this.maxHeight,o=this._fitCols(r,s,i,l)+10),this.width=Math.min(o,e.maxWidth||this.maxWidth),this.height=Math.min(c,e.maxHeight||this.maxHeight)}_fitRows(e,t,n,s){const{ctx:a,maxWidth:r,options:{labels:{padding:i}}}=this,l=this.legendHitBoxes=[],o=this.lineWidths=[0],c=s+i;let d=e;a.textAlign="left",a.textBaseline="middle";let u=-1,h=-c;return this.legendItems.forEach((e,m)=>{const p=n+t/2+a.measureText(e.text).width;(0===m||o[o.length-1]+p+2*i>r)&&(d+=c,o[o.length-(m>0?0:1)]=0,h+=c,u++),l[m]={left:0,top:h,row:u,width:p,height:s},o[o.length-1]+=p+i}),d}_fitCols(e,t,n,s){const{ctx:a,maxHeight:r,options:{labels:{padding:i}}}=this,l=this.legendHitBoxes=[],o=this.columnSizes=[],c=r-e;let d=i,u=0,h=0,m=0,p=0;return this.legendItems.forEach((e,r)=>{const{itemWidth:f,itemHeight:x}=function(e,t,n,s,a){const r=function(e,t,n,s){let a=e.text;a&&"string"!=typeof a&&(a=a.reduce((e,t)=>e.length>t.length?e:t));return t+n.size/2+s.measureText(a).width}(s,e,t,n),i=function(e,t,n){let s=e;"string"!=typeof t.text&&(s=Cc(t,n));return s}(a,s,t.lineHeight);return{itemWidth:r,itemHeight:i}}(n,t,a,e,s);r>0&&h+x+2*i>c&&(d+=u+i,o.push({width:u,height:h}),m+=u+i,p++,u=h=0),l[r]={left:m,top:h,col:p,width:f,height:x},u=Math.max(u,f),h+=x+i}),d+=u,o.push({width:u,height:h}),d}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:t,options:{align:n,labels:{padding:s},rtl:a}}=this,r=Ai(a,this.left,this.width);if(this.isHorizontal()){let a=0,i=dr(n,this.left+s,this.right-this.lineWidths[a]);for(const l of t)a!==l.row&&(a=l.row,i=dr(n,this.left+s,this.right-this.lineWidths[a])),l.top+=this.top+e+s,l.left=r.leftForLtr(r.x(i),l.width),i+=l.width+s}else{let a=0,i=dr(n,this.top+e+s,this.bottom-this.columnSizes[a].height);for(const l of t)l.col!==a&&(a=l.col,i=dr(n,this.top+e+s,this.bottom-this.columnSizes[a].height)),l.top=i,l.left+=this.left+s,l.left=r.leftForLtr(r.x(l.left),l.width),i+=l.height+s}}isHorizontal(){return"top"===this.options.position||"bottom"===this.options.position}draw(){if(this.options.display){const e=this.ctx;Ar(e,this),this._draw(),Or(e)}}_draw(){const{options:e,columnSizes:t,lineWidths:n,ctx:s}=this,{align:a,labels:r}=e,i=Pr.color,l=Ai(e.rtl,this.left,this.width),o=Kr(r.font),{padding:c}=r,d=o.size,u=d/2;let h;this.drawTitle(),s.textAlign=l.textAlign("left"),s.textBaseline="middle",s.lineWidth=.5,s.font=o.string;const{boxWidth:m,boxHeight:p,itemHeight:f}=kc(r,d),x=this.isHorizontal(),g=this._computeTitleHeight();h=x?{x:dr(a,this.left+c,this.right-n[0]),y:this.top+c+g,line:0}:{x:this.left+c,y:dr(a,this.top+g+c,this.bottom-t[0].height),line:0},Oi(this.ctx,e.textDirection);const b=f+c;this.legendItems.forEach((v,y)=>{s.strokeStyle=v.fontColor,s.fillStyle=v.fontColor;const w=s.measureText(v.text).width,j=l.textAlign(v.textAlign||(v.textAlign=r.textAlign)),N=m+u+w;let k=h.x,S=h.y;l.setWidth(this.width),x?y>0&&k+N+c>this.right&&(S=h.y+=b,h.line++,k=h.x=dr(a,this.left+c,this.right-n[h.line])):y>0&&S+b>this.bottom&&(k=h.x=k+t[h.line].width+c,h.line++,S=h.y=dr(a,this.top+g+c,this.bottom-t[h.line].height));if(function(e,t,n){if(isNaN(m)||m<=0||isNaN(p)||p<0)return;s.save();const a=ga(n.lineWidth,1);if(s.fillStyle=ga(n.fillStyle,i),s.lineCap=ga(n.lineCap,"butt"),s.lineDashOffset=ga(n.lineDashOffset,0),s.lineJoin=ga(n.lineJoin,"miter"),s.lineWidth=a,s.strokeStyle=ga(n.strokeStyle,i),s.setLineDash(ga(n.lineDash,[])),r.usePointStyle){const i={radius:p*Math.SQRT2/2,pointStyle:n.pointStyle,rotation:n.rotation,borderWidth:a},o=l.xPlus(e,m/2);Mr(s,i,o,t+u,r.pointStyleWidth&&m)}else{const r=t+Math.max((d-p)/2,0),i=l.leftForLtr(e,m),o=Xr(n.borderRadius);s.beginPath(),Object.values(o).some(e=>0!==e)?Wr(s,{x:i,y:r,w:m,h:p,radius:o}):s.rect(i,r,m,p),s.fill(),0!==a&&s.stroke()}s.restore()}(l.x(k),S,v),k=((e,t,n,s)=>e===(s?"left":"right")?n:"center"===e?(t+n)/2:t)(j,k+m+u,x?k+N:this.right,e.rtl),function(e,t,n){$r(s,n.text,e,t+f/2,o,{strikethrough:n.hidden,textAlign:l.textAlign(n.textAlign)})}(l.x(k),S,v),x)h.x+=N+c;else if("string"!=typeof v.text){const e=o.lineHeight;h.y+=Cc(v,e)+c}else h.y+=b}),Fi(this.ctx,e.textDirection)}drawTitle(){const e=this.options,t=e.title,n=Kr(t.font),s=Qr(t.padding);if(!t.display)return;const a=Ai(e.rtl,this.left,this.width),r=this.ctx,i=t.position,l=n.size/2,o=s.top+l;let c,d=this.left,u=this.width;if(this.isHorizontal())u=Math.max(...this.lineWidths),c=this.top+o,d=dr(e.align,d,this.right-u);else{const t=this.columnSizes.reduce((e,t)=>Math.max(e,t.height),0);c=o+dr(e.align,this.top,this.bottom-t-e.labels.padding-this._computeTitleHeight())}const h=dr(i,d,d+u);r.textAlign=a.textAlign(cr(i)),r.textBaseline="middle",r.strokeStyle=t.color,r.fillStyle=t.color,r.font=n.string,$r(r,t.text,h,c,n)}_computeTitleHeight(){const e=this.options.title,t=Kr(e.font),n=Qr(e.padding);return e.display?t.lineHeight+n.height:0}_getLegendItemAt(e,t){let n,s,a;if(tr(e,this.left,this.right)&&tr(t,this.top,this.bottom))for(a=this.legendHitBoxes,n=0;n<a.length;++n)if(s=a[n],tr(e,s.left,s.left+s.width)&&tr(t,s.top,s.top+s.height))return this.legendItems[n];return null}handleEvent(e){const t=this.options;if(!function(e,t){if(("mousemove"===e||"mouseout"===e)&&(t.onHover||t.onLeave))return!0;if(t.onClick&&("click"===e||"mouseup"===e))return!0;return!1}(e.type,t))return;const n=this._getLegendItemAt(e.x,e.y);if("mousemove"===e.type||"mouseout"===e.type){const r=this._hoveredItem,i=(a=n,null!==(s=r)&&null!==a&&s.datasetIndex===a.datasetIndex&&s.index===a.index);r&&!i&&va(t.onLeave,[e,r,this],this),this._hoveredItem=n,n&&!i&&va(t.onHover,[e,n,this],this)}else n&&va(t.onClick,[e,n,this],this);var s,a}}function Cc(e,t){return t*(e.text?e.text.length:0)}var _c={id:"legend",_element:Sc,start(e,t,n){const s=e.legend=new Sc({ctx:e.ctx,options:n,chart:e});zl.configure(e,s,n),zl.addBox(e,s)},stop(e){zl.removeBox(e,e.legend),delete e.legend},beforeUpdate(e,t,n){const s=e.legend;zl.configure(e,s,n),s.options=n},afterUpdate(e){const t=e.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(e,t){t.replay||e.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(e,t,n){const s=t.datasetIndex,a=n.chart;a.isDatasetVisible(s)?(a.hide(s),t.hidden=!0):(a.show(s),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:e=>e.chart.options.color,boxWidth:40,padding:10,generateLabels(e){const t=e.data.datasets,{labels:{usePointStyle:n,pointStyle:s,textAlign:a,color:r,useBorderRadius:i,borderRadius:l}}=e.legend.options;return e._getSortedDatasetMetas().map(e=>{const o=e.controller.getStyle(n?0:void 0),c=Qr(o.borderWidth);return{text:t[e.index].label,fillStyle:o.backgroundColor,fontColor:r,hidden:!e.visible,lineCap:o.borderCapStyle,lineDash:o.borderDash,lineDashOffset:o.borderDashOffset,lineJoin:o.borderJoinStyle,lineWidth:(c.width+c.height)/4,strokeStyle:o.borderColor,pointStyle:s||o.pointStyle,rotation:o.rotation,textAlign:a||o.textAlign,borderRadius:i&&(l||o.borderRadius),datasetIndex:e.index}},this)}},title:{color:e=>e.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:e=>!e.startsWith("on"),labels:{_scriptable:e=>!["generateLabels","filter","sort"].includes(e)}}};class Pc extends Ql{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t){const n=this.options;if(this.left=0,this.top=0,!n.display)return void(this.width=this.height=this.right=this.bottom=0);this.width=this.right=e,this.height=this.bottom=t;const s=ma(n.text)?n.text.length:1;this._padding=Qr(n.padding);const a=s*Kr(n.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=a:this.width=a}isHorizontal(){const e=this.options.position;return"top"===e||"bottom"===e}_drawArgs(e){const{top:t,left:n,bottom:s,right:a,options:r}=this,i=r.align;let l,o,c,d=0;return this.isHorizontal()?(o=dr(i,n,a),c=t+e,l=a-n):("left"===r.position?(o=n+e,c=dr(i,s,t),d=-.5*Ra):(o=a-e,c=dr(i,t,s),d=.5*Ra),l=s-t),{titleX:o,titleY:c,maxWidth:l,rotation:d}}draw(){const e=this.ctx,t=this.options;if(!t.display)return;const n=Kr(t.font),s=n.lineHeight/2+this._padding.top,{titleX:a,titleY:r,maxWidth:i,rotation:l}=this._drawArgs(s);$r(e,t.text,0,0,n,{color:t.color,maxWidth:i,rotation:l,textAlign:cr(t.align),textBaseline:"middle",translation:[a,r]})}}var Dc={id:"title",_element:Pc,start(e,t,n){!function(e,t){const n=new Pc({ctx:e.ctx,options:t,chart:e});zl.configure(e,n,t),zl.addBox(e,n),e.titleBlock=n}(e,n)},stop(e){const t=e.titleBlock;zl.removeBox(e,t),delete e.titleBlock},beforeUpdate(e,t,n){const s=e.titleBlock;zl.configure(e,s,n),s.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Tc={average(e){if(!e.length)return!1;let t,n,s=new Set,a=0,r=0;for(t=0,n=e.length;t<n;++t){const n=e[t].element;if(n&&n.hasValue()){const e=n.tooltipPosition();s.add(e.x),a+=e.y,++r}}if(0===r||0===s.size)return!1;return{x:[...s].reduce((e,t)=>e+t)/s.size,y:a/r}},nearest(e,t){if(!e.length)return!1;let n,s,a,r=t.x,i=t.y,l=Number.POSITIVE_INFINITY;for(n=0,s=e.length;n<s;++n){const s=e[n].element;if(s&&s.hasValue()){const e=Qa(t,s.getCenterPoint());e<l&&(l=e,a=s)}}if(a){const e=a.tooltipPosition();r=e.x,i=e.y}return{x:r,y:i}}};function Ec(e,t){return t&&(ma(t)?Array.prototype.push.apply(e,t):e.push(t)),e}function zc(e){return("string"==typeof e||e instanceof String)&&e.indexOf("\n")>-1?e.split("\n"):e}function Mc(e,t){const{element:n,datasetIndex:s,index:a}=t,r=e.getDatasetMeta(s).controller,{label:i,value:l}=r.getLabelAndValue(a);return{chart:e,label:i,parsed:r.getParsed(a),raw:e.data.datasets[s].data[a],formattedValue:l,dataset:r.getDataset(),dataIndex:a,datasetIndex:s,element:n}}function Rc(e,t){const n=e.chart.ctx,{body:s,footer:a,title:r}=e,{boxWidth:i,boxHeight:l}=t,o=Kr(t.bodyFont),c=Kr(t.titleFont),d=Kr(t.footerFont),u=r.length,h=a.length,m=s.length,p=Qr(t.padding);let f=p.height,x=0,g=s.reduce((e,t)=>e+t.before.length+t.lines.length+t.after.length,0);if(g+=e.beforeBody.length+e.afterBody.length,u&&(f+=u*c.lineHeight+(u-1)*t.titleSpacing+t.titleMarginBottom),g){f+=m*(t.displayColors?Math.max(l,o.lineHeight):o.lineHeight)+(g-m)*o.lineHeight+(g-1)*t.bodySpacing}h&&(f+=t.footerMarginTop+h*d.lineHeight+(h-1)*t.footerSpacing);let b=0;const v=function(e){x=Math.max(x,n.measureText(e).width+b)};return n.save(),n.font=c.string,ya(e.title,v),n.font=o.string,ya(e.beforeBody.concat(e.afterBody),v),b=t.displayColors?i+2+t.boxPadding:0,ya(s,e=>{ya(e.before,v),ya(e.lines,v),ya(e.after,v)}),b=0,n.font=d.string,ya(e.footer,v),n.restore(),x+=p.width,{width:x,height:f}}function Ac(e,t,n,s){const{x:a,width:r}=n,{width:i,chartArea:{left:l,right:o}}=e;let c="center";return"center"===s?c=a<=(l+o)/2?"left":"right":a<=r/2?c="left":a>=i-r/2&&(c="right"),function(e,t,n,s){const{x:a,width:r}=s,i=n.caretSize+n.caretPadding;return"left"===e&&a+r+i>t.width||"right"===e&&a-r-i<0||void 0}(c,e,t,n)&&(c="center"),c}function Oc(e,t,n){const s=n.yAlign||t.yAlign||function(e,t){const{y:n,height:s}=t;return n<s/2?"top":n>e.height-s/2?"bottom":"center"}(e,n);return{xAlign:n.xAlign||t.xAlign||Ac(e,t,n,s),yAlign:s}}function Fc(e,t,n,s){const{caretSize:a,caretPadding:r,cornerRadius:i}=e,{xAlign:l,yAlign:o}=n,c=a+r,{topLeft:d,topRight:u,bottomLeft:h,bottomRight:m}=Xr(i);let p=function(e,t){let{x:n,width:s}=e;return"right"===t?n-=s:"center"===t&&(n-=s/2),n}(t,l);const f=function(e,t,n){let{y:s,height:a}=e;return"top"===t?s+=n:s-="bottom"===t?a+n:a/2,s}(t,o,c);return"center"===o?"left"===l?p+=c:"right"===l&&(p-=c):"left"===l?p-=Math.max(d,h)+a:"right"===l&&(p+=Math.max(u,m)+a),{x:er(p,0,s.width-t.width),y:er(f,0,s.height-t.height)}}function Ic(e,t,n){const s=Qr(n.padding);return"center"===t?e.x+e.width/2:"right"===t?e.x+e.width-s.right:e.x+s.left}function Lc(e){return Ec([],zc(e))}function Bc(e,t){const n=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return n?e.override(n):e}const $c={beforeTitle:da,title(e){if(e.length>0){const t=e[0],n=t.chart.data.labels,s=n?n.length:0;if(this&&this.options&&"dataset"===this.options.mode)return t.dataset.label||"";if(t.label)return t.label;if(s>0&&t.dataIndex<s)return n[t.dataIndex]}return""},afterTitle:da,beforeBody:da,beforeLabel:da,label(e){if(this&&this.options&&"dataset"===this.options.mode)return e.label+": "+e.formattedValue||e.formattedValue;let t=e.dataset.label||"";t&&(t+=": ");const n=e.formattedValue;return ha(n)||(t+=n),t},labelColor(e){const t=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{borderColor:t.borderColor,backgroundColor:t.backgroundColor,borderWidth:t.borderWidth,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(e){const t=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{pointStyle:t.pointStyle,rotation:t.rotation}},afterLabel:da,afterBody:da,beforeFooter:da,footer:da,afterFooter:da};function Wc(e,t,n,s){const a=e[t].call(n,s);return void 0===a?$c[t].call(n,s):a}class Hc extends Ql{static positioners=Tc;constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const t=this.chart,n=this.options.setContext(this.getContext()),s=n.enabled&&t.options.animation&&n.animations,a=new Ji(this.chart,s);return s._cacheable&&(this._cachedAnimations=Object.freeze(a)),a}getContext(){return this.$context||(this.$context=(e=this.chart.getContext(),t=this,n=this._tooltipItems,Zr(e,{tooltip:t,tooltipItems:n,type:"tooltip"})));var e,t,n}getTitle(e,t){const{callbacks:n}=t,s=Wc(n,"beforeTitle",this,e),a=Wc(n,"title",this,e),r=Wc(n,"afterTitle",this,e);let i=[];return i=Ec(i,zc(s)),i=Ec(i,zc(a)),i=Ec(i,zc(r)),i}getBeforeBody(e,t){return Lc(Wc(t.callbacks,"beforeBody",this,e))}getBody(e,t){const{callbacks:n}=t,s=[];return ya(e,e=>{const t={before:[],lines:[],after:[]},a=Bc(n,e);Ec(t.before,zc(Wc(a,"beforeLabel",this,e))),Ec(t.lines,Wc(a,"label",this,e)),Ec(t.after,zc(Wc(a,"afterLabel",this,e))),s.push(t)}),s}getAfterBody(e,t){return Lc(Wc(t.callbacks,"afterBody",this,e))}getFooter(e,t){const{callbacks:n}=t,s=Wc(n,"beforeFooter",this,e),a=Wc(n,"footer",this,e),r=Wc(n,"afterFooter",this,e);let i=[];return i=Ec(i,zc(s)),i=Ec(i,zc(a)),i=Ec(i,zc(r)),i}_createItems(e){const t=this._active,n=this.chart.data,s=[],a=[],r=[];let i,l,o=[];for(i=0,l=t.length;i<l;++i)o.push(Mc(this.chart,t[i]));return e.filter&&(o=o.filter((t,s,a)=>e.filter(t,s,a,n))),e.itemSort&&(o=o.sort((t,s)=>e.itemSort(t,s,n))),ya(o,t=>{const n=Bc(e.callbacks,t);s.push(Wc(n,"labelColor",this,t)),a.push(Wc(n,"labelPointStyle",this,t)),r.push(Wc(n,"labelTextColor",this,t))}),this.labelColors=s,this.labelPointStyles=a,this.labelTextColors=r,this.dataPoints=o,o}update(e,t){const n=this.options.setContext(this.getContext()),s=this._active;let a,r=[];if(s.length){const e=Tc[n.position].call(this,s,this._eventPosition);r=this._createItems(n),this.title=this.getTitle(r,n),this.beforeBody=this.getBeforeBody(r,n),this.body=this.getBody(r,n),this.afterBody=this.getAfterBody(r,n),this.footer=this.getFooter(r,n);const t=this._size=Rc(this,n),i=Object.assign({},e,t),l=Oc(this.chart,n,i),o=Fc(n,i,l,this.chart);this.xAlign=l.xAlign,this.yAlign=l.yAlign,a={opacity:1,x:o.x,y:o.y,width:t.width,height:t.height,caretX:e.x,caretY:e.y}}else 0!==this.opacity&&(a={opacity:0});this._tooltipItems=r,this.$context=void 0,a&&this._resolveAnimations().update(this,a),e&&n.external&&n.external.call(this,{chart:this.chart,tooltip:this,replay:t})}drawCaret(e,t,n,s){const a=this.getCaretPosition(e,n,s);t.lineTo(a.x1,a.y1),t.lineTo(a.x2,a.y2),t.lineTo(a.x3,a.y3)}getCaretPosition(e,t,n){const{xAlign:s,yAlign:a}=this,{caretSize:r,cornerRadius:i}=n,{topLeft:l,topRight:o,bottomLeft:c,bottomRight:d}=Xr(i),{x:u,y:h}=e,{width:m,height:p}=t;let f,x,g,b,v,y;return"center"===a?(v=h+p/2,"left"===s?(f=u,x=f-r,b=v+r,y=v-r):(f=u+m,x=f+r,b=v-r,y=v+r),g=f):(x="left"===s?u+Math.max(l,c)+r:"right"===s?u+m-Math.max(o,d)-r:this.caretX,"top"===a?(b=h,v=b-r,f=x-r,g=x+r):(b=h+p,v=b+r,f=x+r,g=x-r),y=b),{x1:f,x2:x,x3:g,y1:b,y2:v,y3:y}}drawTitle(e,t,n){const s=this.title,a=s.length;let r,i,l;if(a){const o=Ai(n.rtl,this.x,this.width);for(e.x=Ic(this,n.titleAlign,n),t.textAlign=o.textAlign(n.titleAlign),t.textBaseline="middle",r=Kr(n.titleFont),i=n.titleSpacing,t.fillStyle=n.titleColor,t.font=r.string,l=0;l<a;++l)t.fillText(s[l],o.x(e.x),e.y+r.lineHeight/2),e.y+=r.lineHeight+i,l+1===a&&(e.y+=n.titleMarginBottom-i)}}_drawColorBox(e,t,n,s,a){const r=this.labelColors[n],i=this.labelPointStyles[n],{boxHeight:l,boxWidth:o}=a,c=Kr(a.bodyFont),d=Ic(this,"left",a),u=s.x(d),h=l<c.lineHeight?(c.lineHeight-l)/2:0,m=t.y+h;if(a.usePointStyle){const t={radius:Math.min(o,l)/2,pointStyle:i.pointStyle,rotation:i.rotation,borderWidth:1},n=s.leftForLtr(u,o)+o/2,c=m+l/2;e.strokeStyle=a.multiKeyBackground,e.fillStyle=a.multiKeyBackground,zr(e,t,n,c),e.strokeStyle=r.borderColor,e.fillStyle=r.backgroundColor,zr(e,t,n,c)}else{e.lineWidth=pa(r.borderWidth)?Math.max(...Object.values(r.borderWidth)):r.borderWidth||1,e.strokeStyle=r.borderColor,e.setLineDash(r.borderDash||[]),e.lineDashOffset=r.borderDashOffset||0;const t=s.leftForLtr(u,o),n=s.leftForLtr(s.xPlus(u,1),o-2),i=Xr(r.borderRadius);Object.values(i).some(e=>0!==e)?(e.beginPath(),e.fillStyle=a.multiKeyBackground,Wr(e,{x:t,y:m,w:o,h:l,radius:i}),e.fill(),e.stroke(),e.fillStyle=r.backgroundColor,e.beginPath(),Wr(e,{x:n,y:m+1,w:o-2,h:l-2,radius:i}),e.fill()):(e.fillStyle=a.multiKeyBackground,e.fillRect(t,m,o,l),e.strokeRect(t,m,o,l),e.fillStyle=r.backgroundColor,e.fillRect(n,m+1,o-2,l-2))}e.fillStyle=this.labelTextColors[n]}drawBody(e,t,n){const{body:s}=this,{bodySpacing:a,bodyAlign:r,displayColors:i,boxHeight:l,boxWidth:o,boxPadding:c}=n,d=Kr(n.bodyFont);let u=d.lineHeight,h=0;const m=Ai(n.rtl,this.x,this.width),p=function(n){t.fillText(n,m.x(e.x+h),e.y+u/2),e.y+=u+a},f=m.textAlign(r);let x,g,b,v,y,w,j;for(t.textAlign=r,t.textBaseline="middle",t.font=d.string,e.x=Ic(this,f,n),t.fillStyle=n.bodyColor,ya(this.beforeBody,p),h=i&&"right"!==f?"center"===r?o/2+c:o+2+c:0,v=0,w=s.length;v<w;++v){for(x=s[v],g=this.labelTextColors[v],t.fillStyle=g,ya(x.before,p),b=x.lines,i&&b.length&&(this._drawColorBox(t,e,v,m,n),u=Math.max(d.lineHeight,l)),y=0,j=b.length;y<j;++y)p(b[y]),u=d.lineHeight;ya(x.after,p)}h=0,u=d.lineHeight,ya(this.afterBody,p),e.y-=a}drawFooter(e,t,n){const s=this.footer,a=s.length;let r,i;if(a){const l=Ai(n.rtl,this.x,this.width);for(e.x=Ic(this,n.footerAlign,n),e.y+=n.footerMarginTop,t.textAlign=l.textAlign(n.footerAlign),t.textBaseline="middle",r=Kr(n.footerFont),t.fillStyle=n.footerColor,t.font=r.string,i=0;i<a;++i)t.fillText(s[i],l.x(e.x),e.y+r.lineHeight/2),e.y+=r.lineHeight+n.footerSpacing}}drawBackground(e,t,n,s){const{xAlign:a,yAlign:r}=this,{x:i,y:l}=e,{width:o,height:c}=n,{topLeft:d,topRight:u,bottomLeft:h,bottomRight:m}=Xr(s.cornerRadius);t.fillStyle=s.backgroundColor,t.strokeStyle=s.borderColor,t.lineWidth=s.borderWidth,t.beginPath(),t.moveTo(i+d,l),"top"===r&&this.drawCaret(e,t,n,s),t.lineTo(i+o-u,l),t.quadraticCurveTo(i+o,l,i+o,l+u),"center"===r&&"right"===a&&this.drawCaret(e,t,n,s),t.lineTo(i+o,l+c-m),t.quadraticCurveTo(i+o,l+c,i+o-m,l+c),"bottom"===r&&this.drawCaret(e,t,n,s),t.lineTo(i+h,l+c),t.quadraticCurveTo(i,l+c,i,l+c-h),"center"===r&&"left"===a&&this.drawCaret(e,t,n,s),t.lineTo(i,l+d),t.quadraticCurveTo(i,l,i+d,l),t.closePath(),t.fill(),s.borderWidth>0&&t.stroke()}_updateAnimationTarget(e){const t=this.chart,n=this.$animations,s=n&&n.x,a=n&&n.y;if(s||a){const n=Tc[e.position].call(this,this._active,this._eventPosition);if(!n)return;const r=this._size=Rc(this,e),i=Object.assign({},n,this._size),l=Oc(t,e,i),o=Fc(e,i,l,t);s._to===o.x&&a._to===o.y||(this.xAlign=l.xAlign,this.yAlign=l.yAlign,this.width=r.width,this.height=r.height,this.caretX=n.x,this.caretY=n.y,this._resolveAnimations().update(this,o))}}_willRender(){return!!this.opacity}draw(e){const t=this.options.setContext(this.getContext());let n=this.opacity;if(!n)return;this._updateAnimationTarget(t);const s={width:this.width,height:this.height},a={x:this.x,y:this.y};n=Math.abs(n)<.001?0:n;const r=Qr(t.padding),i=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;t.enabled&&i&&(e.save(),e.globalAlpha=n,this.drawBackground(a,e,s,t),Oi(e,t.textDirection),a.y+=r.top,this.drawTitle(a,e,t),this.drawBody(a,e,t),this.drawFooter(a,e,t),Fi(e,t.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,t){const n=this._active,s=e.map(({datasetIndex:e,index:t})=>{const n=this.chart.getDatasetMeta(e);if(!n)throw new Error("Cannot find a dataset at index "+e);return{datasetIndex:e,element:n.data[t],index:t}}),a=!wa(n,s),r=this._positionChanged(s,t);(a||r)&&(this._active=s,this._eventPosition=t,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,t,n=!0){if(t&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const s=this.options,a=this._active||[],r=this._getActiveElements(e,a,t,n),i=this._positionChanged(r,e),l=t||!wa(r,a)||i;return l&&(this._active=r,(s.enabled||s.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,t))),l}_getActiveElements(e,t,n,s){const a=this.options;if("mouseout"===e.type)return[];if(!s)return t.filter(e=>this.chart.data.datasets[e.datasetIndex]&&void 0!==this.chart.getDatasetMeta(e.datasetIndex).controller.getParsed(e.index));const r=this.chart.getElementsAtEventForMode(e,a.mode,a,n);return a.reverse&&r.reverse(),r}_positionChanged(e,t){const{caretX:n,caretY:s,options:a}=this,r=Tc[a.position].call(this,e,t);return!1!==r&&(n!==r.x||s!==r.y)}}var Uc={id:"tooltip",_element:Hc,positioners:Tc,afterInit(e,t,n){n&&(e.tooltip=new Hc({chart:e,options:n}))},beforeUpdate(e,t,n){e.tooltip&&e.tooltip.initialize(n)},reset(e,t,n){e.tooltip&&e.tooltip.initialize(n)},afterDraw(e){const t=e.tooltip;if(t&&t._willRender()){const n={tooltip:t};if(!1===e.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0}))return;t.draw(e.ctx),e.notifyPlugins("afterTooltipDraw",n)}},afterEvent(e,t){if(e.tooltip){const n=t.replay;e.tooltip.handleEvent(t.event,n,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(e,t)=>t.bodyFont.size,boxWidth:(e,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:$c},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:e=>"filter"!==e&&"itemSort"!==e&&"external"!==e,_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};function Vc(e,t,n,s){const a=e.indexOf(t);if(-1===a)return((e,t,n,s)=>("string"==typeof t?(n=e.push(t)-1,s.unshift({index:n,label:t})):isNaN(t)&&(n=null),n))(e,t,n,s);return a!==e.lastIndexOf(t)?n:a}function qc(e){const t=this.getLabels();return e>=0&&e<t.length?t[e]:e}function Yc(e,t){const n=[],{bounds:s,step:a,min:r,max:i,precision:l,count:o,maxTicks:c,maxDigits:d,includeBounds:u}=e,h=a||1,m=c-1,{min:p,max:f}=t,x=!ha(r),g=!ha(i),b=!ha(o),v=(f-p)/(d+1);let y,w,j,N,k=Va((f-p)/m/h)*h;if(k<1e-14&&!x&&!g)return[{value:p},{value:f}];N=Math.ceil(f/k)-Math.floor(p/k),N>m&&(k=Va(N*k/m/h)*h),ha(l)||(y=Math.pow(10,l),k=Math.ceil(k*y)/y),"ticks"===s?(w=Math.floor(p/k)*k,j=Math.ceil(f/k)*k):(w=p,j=f),x&&g&&a&&function(e,t){const n=Math.round(e);return n-t<=e&&n+t>=e}((i-r)/a,k/1e3)?(N=Math.round(Math.min((i-r)/k,c)),k=(i-r)/N,w=r,j=i):b?(w=x?r:w,j=g?i:j,N=o-1,k=(j-w)/N):(N=(j-w)/k,N=Ua(N,Math.round(N),k/1e3)?Math.round(N):Math.ceil(N));const S=Math.max(Ga(k),Ga(w));y=Math.pow(10,ha(l)?S:l),w=Math.round(w*y)/y,j=Math.round(j*y)/y;let C=0;for(x&&(u&&w!==r?(n.push({value:r}),w<r&&C++,Ua(Math.round((w+C*k)*y)/y,r,Gc(r,v,e))&&C++):w<r&&C++);C<N;++C){const e=Math.round((w+C*k)*y)/y;if(g&&e>i)break;n.push({value:e})}return g&&u&&j!==i?n.length&&Ua(n[n.length-1].value,i,Gc(i,v,e))?n[n.length-1].value=i:n.push({value:i}):g&&j!==i||n.push({value:j}),n}function Gc(e,t,{horizontal:n,minRotation:s}){const a=Ya(s),r=(n?Math.sin(a):Math.cos(a))||.001,i=.75*t*(""+e).length;return Math.min(t/r,i)}class Xc extends io{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,t){return ha(e)||("number"==typeof e||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:t,maxDefined:n}=this.getUserBounds();let{min:s,max:a}=this;const r=e=>s=t?s:e,i=e=>a=n?a:e;if(e){const e=Ha(s),t=Ha(a);e<0&&t<0?i(0):e>0&&t>0&&r(0)}if(s===a){let t=0===a?1:Math.abs(.05*a);i(a+t),e||r(s-t)}this.min=s,this.max=a}getTickLimit(){const e=this.options.ticks;let t,{maxTicksLimit:n,stepSize:s}=e;return s?(t=Math.ceil(this.max/s)-Math.floor(this.min/s)+1,t>1e3&&(t=1e3)):(t=this.computeTickLimit(),n=n||11),n&&(t=Math.min(n,t)),t}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,t=e.ticks;let n=this.getTickLimit();n=Math.max(2,n);const s=Yc({maxTicks:n,bounds:e.bounds,min:e.min,max:e.max,precision:t.precision,step:t.stepSize,count:t.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:t.minRotation||0,includeBounds:!1!==t.includeBounds},this._range||this);return"ticks"===e.bounds&&function(e,t,n){let s,a,r;for(s=0,a=e.length;s<a;s++)r=e[s][n],isNaN(r)||(t.min=Math.min(t.min,r),t.max=Math.max(t.max,r))}(s,this,"value"),e.reverse?(s.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),s}configure(){const e=this.ticks;let t=this.min,n=this.max;if(super.configure(),this.options.offset&&e.length){const s=(n-t)/Math.max(e.length-1,1)/2;t-=s,n+=s}this._startValue=t,this._endValue=n,this._valueRange=n-t}getLabelForValue(e){return wr(e,this.chart.options.locale,this.options.ticks.format)}}class Qc extends Xc{static id="linear";static defaults={ticks:{callback:jr.formatters.numeric}};determineDataLimits(){const{min:e,max:t}=this.getMinMax(!0);this.min=fa(e)?e:0,this.max=fa(t)?t:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),t=e?this.width:this.height,n=Ya(this.options.ticks.minRotation),s=(e?Math.sin(n):Math.cos(n))||.001,a=this._resolveTickFontOptions(0);return Math.ceil(t/Math.min(40,a.lineHeight/s))}getPixelForValue(e){return null===e?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}const Kc="label";function Jc(e,t){"function"==typeof e?e(t):e&&(e.current=t)}function Zc(e,t){e.labels=t}function ed(e,t,n=Kc){const s=[];e.datasets=t.map(t=>{const a=e.datasets.find(e=>e[n]===t[n]);return a&&t.data&&!s.includes(a)?(s.push(a),Object.assign(a,t),a):{...t}})}function td(e,t=Kc){const n={labels:[],datasets:[]};return Zc(n,e.labels),ed(n,e.datasets,t),n}function nd(t,n){const{height:s=150,width:a=300,redraw:r=!1,datasetIdKey:i,type:l,data:o,options:c,plugins:d=[],fallbackContent:u,updateMode:h,...m}=t,p=vt.useRef(null),f=vt.useRef(null),x=()=>{p.current&&(f.current=new Io(p.current,{type:l,data:td(o,i),options:c&&{...c},plugins:d}),Jc(n,f.current))},g=()=>{Jc(n,null),f.current&&(f.current.destroy(),f.current=null)};return vt.useEffect(()=>{!r&&f.current&&c&&function(e,t){const n=e.options;n&&t&&Object.assign(n,t)}(f.current,c)},[r,c]),vt.useEffect(()=>{!r&&f.current&&Zc(f.current.config.data,o.labels)},[r,o.labels]),vt.useEffect(()=>{!r&&f.current&&o.datasets&&ed(f.current.config.data,o.datasets,i)},[r,o.datasets]),vt.useEffect(()=>{f.current&&(r?(g(),setTimeout(x)):f.current.update(h))},[r,c,o.labels,o.datasets,h]),vt.useEffect(()=>{f.current&&(g(),setTimeout(x))},[l]),vt.useEffect(()=>(x(),()=>g()),[]),e.jsx("canvas",{ref:p,role:"img",height:s,width:a,...m,children:u})}const sd=vt.forwardRef(nd);function ad(t,n){return Io.register(n),vt.forwardRef((n,s)=>e.jsx(sd,{...n,ref:s,type:t}))}const rd=ad("line",hl),id=ad("doughnut",ul);Io.register(class extends io{static id="category";static defaults={ticks:{callback:qc}};constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const t=this._addedLabels;if(t.length){const e=this.getLabels();for(const{index:n,label:s}of t)e[n]===s&&e.splice(n,1);this._addedLabels=[]}super.init(e)}parse(e,t){if(ha(e))return null;const n=this.getLabels();return((e,t)=>null===e?null:er(Math.round(e),0,t))(t=isFinite(t)&&n[t]===e?t:Vc(n,e,ga(t,e),this._addedLabels),n.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:t}=this.getUserBounds();let{min:n,max:s}=this.getMinMax(!0);"ticks"===this.options.bounds&&(e||(n=0),t||(s=this.getLabels().length-1)),this.min=n,this.max=s}buildTicks(){const e=this.min,t=this.max,n=this.options.offset,s=[];let a=this.getLabels();a=0===e&&t===a.length-1?a:a.slice(e,t+1),this._valueRange=Math.max(a.length-(n?0:1),1),this._startValue=this.min-(n?.5:0);for(let r=e;r<=t;r++)s.push({value:r});return s}getLabelForValue(e){return qc.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return"number"!=typeof e&&(e=this.parse(e)),null===e?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}},Qc,class extends Ql{static id="point";parsed;skip;stop;static defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(e){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,e&&Object.assign(this,e)}inRange(e,t,n){const s=this.options,{x:a,y:r}=this.getProps(["x","y"],n);return Math.pow(e-a,2)+Math.pow(t-r,2)<Math.pow(s.hitRadius+s.radius,2)}inXRange(e,t){return Zo(this,e,"x",t)}inYRange(e,t){return Zo(this,e,"y",t)}getCenterPoint(e){const{x:t,y:n}=this.getProps(["x","y"],e);return{x:t,y:n}}size(e){let t=(e=e||this.options||{}).radius||0;t=Math.max(t,t&&e.hoverRadius||0);return 2*(t+(t&&e.borderWidth||0))}draw(e,t){const n=this.options;this.skip||n.radius<.1||!Rr(this,t,this.size(n)/2)||(e.strokeStyle=n.borderColor,e.lineWidth=n.borderWidth,e.fillStyle=n.backgroundColor,zr(e,n,this.x,this.y))}getRange(){const e=this.options||{};return e.radius+e.hitRadius}},Jo,class extends Ql{static id="bar";static defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:t,options:{borderColor:n,backgroundColor:s}}=this,{inner:a,outer:r}=nc(this),i=(l=r.radius).topLeft||l.topRight||l.bottomLeft||l.bottomRight?Wr:ac;var l;e.save(),r.w===a.w&&r.h===a.h||(e.beginPath(),i(e,rc(r,t,a)),e.clip(),i(e,rc(a,-t,r)),e.fillStyle=n,e.fill("evenodd")),e.beginPath(),i(e,rc(a,t)),e.fillStyle=s,e.fill(),e.restore()}inRange(e,t,n){return sc(this,e,t,n)}inXRange(e,t){return sc(this,e,null,t)}inYRange(e,t){return sc(this,null,e,t)}getCenterPoint(e){const{x:t,y:n,base:s,horizontal:a}=this.getProps(["x","y","base","horizontal"],e);return{x:a?(t+s)/2:t,y:a?n:(n+s)/2}}getRange(e){return"x"===e?this.width/2:this.height/2}},Dc,Uc,_c,Nc,class extends Ql{static id="arc";static defaults={borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1};static defaultRoutes={backgroundColor:"backgroundColor"};static descriptors={_scriptable:!0,_indexable:e=>"borderDash"!==e};circumference;endAngle;fullCircles;innerRadius;outerRadius;pixelMargin;startAngle;constructor(e){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,e&&Object.assign(this,e)}inRange(e,t,n){const s=this.getProps(["x","y"],n),{angle:a,distance:r}=Xa(s,{x:e,y:t}),{startAngle:i,endAngle:l,innerRadius:o,outerRadius:c,circumference:d}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],n),u=(this.options.spacing+this.options.borderWidth)/2,h=ga(d,l-i),m=Za(a,i,l)&&i!==l,p=h>=Aa||m,f=tr(r,o+u,c+u);return p&&f}getCenterPoint(e){const{x:t,y:n,startAngle:s,endAngle:a,innerRadius:r,outerRadius:i}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],e),{offset:l,spacing:o}=this.options,c=(s+a)/2,d=(r+i+o+l)/2;return{x:t+Math.cos(c)*d,y:n+Math.sin(c)*d}}tooltipPosition(e){return this.getCenterPoint(e)}draw(e){const{options:t,circumference:n}=this,s=(t.offset||0)/4,a=(t.spacing||0)/2,r=t.circular;if(this.pixelMargin="inner"===t.borderAlign?.33:0,this.fullCircles=n>Aa?Math.floor(n/Aa):0,0===n||this.innerRadius<0||this.outerRadius<0)return;e.save();const i=(this.startAngle+this.endAngle)/2;e.translate(Math.cos(i)*s,Math.sin(i)*s);const l=s*(1-Math.sin(Math.min(Ra,n||0)));e.fillStyle=t.backgroundColor,e.strokeStyle=t.borderColor,function(e,t,n,s,a){const{fullCircles:r,startAngle:i,circumference:l}=t;let o=t.endAngle;if(r){Wo(e,t,n,s,o,a);for(let t=0;t<r;++t)e.fill();isNaN(l)||(o=i+(l%Aa||Aa))}Wo(e,t,n,s,o,a),e.fill()}(e,this,l,a,r),Ho(e,this,l,a,r),e.restore()}});const ld=()=>{const[t,n]=vt.useState(null),[s,a]=vt.useState(!0),[r,i]=vt.useState("6m");vt.useEffect(()=>{o()},[r]);const o=async()=>{try{a(!0);const t=await(e={range:r},Jn.get("/dashboard/analytics",{params:e}));n(t.data)}catch(t){}finally{a(!1)}var e};if(s)return e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 animate-pulse",children:[e.jsx("div",{className:"lg:col-span-2 bg-white rounded-2xl h-[300px] shadow-sm border border-slate-200"}),e.jsx("div",{className:"bg-white rounded-2xl h-[300px] shadow-sm border border-slate-200"})]});if(!t)return null;const c={labels:t.labels||[],datasets:[{label:"Documents Created",data:t.data||[],borderColor:"#6366f1",backgroundColor:"rgba(99, 102, 241, 0.1)",fill:!0,tension:.4,pointBackgroundColor:"#fff",pointBorderColor:"#6366f1",pointBorderWidth:2,pointRadius:4,pointHoverRadius:6}]},d={labels:["Draft","Sent","Completed"],datasets:[{data:t?.breakdown?[t.breakdown.draft,t.breakdown.sent,t.breakdown.completed]:[0,0,0],backgroundColor:["#f59e0b","#3b82f6","#10b981"],borderWidth:0,hoverOffset:10}]},u=t?.breakdown?Object.values(t.breakdown).reduce((e,t)=>e+t,0):0;return e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"lg:col-span-2 bg-white p-6 rounded-2xl shadow-sm border border-slate-200 hover:shadow-md transition-shadow duration-300",children:[e.jsxs("div",{className:"flex items-center justify-between mb-8",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-bold text-slate-800 tracking-tight",children:"Document Trends"}),e.jsx("p",{className:"text-sm text-slate-500 font-medium",children:"Activity overview"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("div",{className:"relative",children:[e.jsxs("select",{value:r,onChange:e=>i(e.target.value),className:"appearance-none bg-slate-50 border border-slate-200 text-slate-700 text-xs font-medium py-2 pl-3 pr-8 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500/20 focus:border-indigo-500 cursor-pointer hover:bg-slate-100 transition-colors",children:[e.jsx("option",{value:"7d",children:"Last 7 Days"}),e.jsx("option",{value:"30d",children:"Last 30 Days"}),e.jsx("option",{value:"90d",children:"Last 90 Days"}),e.jsx("option",{value:"6m",children:"Last 6 Months"}),e.jsx("option",{value:"1y",children:"Last Year"})]}),e.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center px-2 pointer-events-none text-slate-400",children:e.jsx(I,{size:14})})]}),e.jsx("div",{className:"p-2.5 bg-indigo-50 text-indigo-600 rounded-xl",children:e.jsx(L,{size:20,strokeWidth:2.5})})]})]}),e.jsx("div",{className:"h-[300px] w-full",children:e.jsx(rd,{data:c,options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1},tooltip:{backgroundColor:"rgba(15, 23, 42, 0.9)",padding:12,titleFont:{size:13,family:"'Inter', sans-serif",weight:"600"},bodyFont:{size:12,family:"'Inter', sans-serif"},cornerRadius:8,displayColors:!1,callbacks:{label:e=>`Documents: ${e.parsed.y}`}}},scales:{y:{beginAtZero:!0,grid:{color:"#f1f5f9",borderDash:[5,5],drawBorder:!1},ticks:{font:{size:11,family:"'Inter', sans-serif"},color:"#64748b",padding:10},border:{display:!1}},x:{grid:{display:!1},ticks:{font:{size:11,family:"'Inter', sans-serif"},color:"#64748b",padding:10},border:{display:!1}}},interaction:{mode:"index",intersect:!1}}})})]}),e.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-slate-200 hover:shadow-md transition-shadow duration-300 flex flex-col",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-bold text-slate-800 tracking-tight",children:"Status Overview"}),e.jsx("p",{className:"text-sm text-slate-500 font-medium",children:"Distribution by status"})]}),e.jsx("div",{className:"p-2.5 bg-emerald-50 text-emerald-600 rounded-xl",children:e.jsx(l,{size:20,strokeWidth:2.5})})]}),e.jsxs("div",{className:"flex-1 min-h-[250px] relative flex items-center justify-center py-4",children:[e.jsx(id,{data:d,options:{responsive:!0,maintainAspectRatio:!1,cutout:"70%",plugins:{legend:{position:"bottom",labels:{usePointStyle:!0,boxWidth:8,padding:20,font:{size:12,family:"'Inter', sans-serif",weight:"500"},color:"#475569"}},tooltip:{backgroundColor:"rgba(15, 23, 42, 0.9)",padding:12,cornerRadius:8,callbacks:{label:e=>` ${e.label}: ${e.parsed}`}}}}}),e.jsx("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none pb-8",children:e.jsxs("div",{className:"text-center",children:[e.jsx("span",{className:"block text-3xl font-extrabold text-slate-800 tracking-tight",children:u}),e.jsx("span",{className:"text-[11px] font-bold text-slate-400 uppercase tracking-widest mt-0.5",children:"Total"})]})})]}),e.jsxs("div",{className:"mt-auto pt-4 border-t border-slate-50 flex justify-between items-center text-xs text-slate-500 font-medium",children:[e.jsx("span",{children:"Real-time data"}),e.jsxs(jt,{to:"/documents",className:"text-indigo-600 hover:text-indigo-700 hover:underline flex items-center gap-1",children:["View Report ",e.jsx(B,{size:12})]})]})]})]})},od=()=>{const[t,n]=vt.useState(null),[s,r]=vt.useState([]),[o,c]=vt.useState(!0);vt.useEffect(()=>{(async()=>{try{const[e,t]=await Promise.all([Jn.get("/dashboard/stats"),Jn.get("/dashboard/activity")]);n(e.data),r(t.data)}catch(e){}finally{c(!1)}})()},[]);const d={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{type:"spring",stiffness:300,damping:24}}},u=t?.total_documents||0,h=t?.breakdown?.completed||0,p=u>0?Math.round(h/u*100):0,f=[{label:"Draft Documents",value:t?.breakdown?.draft||0,change:"+2.5%",isPositive:!0,icon:$,color:"text-amber-600",bg:"bg-amber-50",border:"border-amber-100"},{label:"Team Members",value:t?.team_size||0,change:"+0%",isPositive:!0,icon:m,color:"text-indigo-600",bg:"bg-indigo-50",border:"border-indigo-100"},{label:"Total Documents",value:u,change:"+12%",isPositive:!0,icon:l,color:"text-blue-600",bg:"bg-blue-50",border:"border-blue-100"},{label:"Completion Rate",value:`${p}%`,change:"+1.2%",isPositive:!0,icon:W,color:"text-emerald-600",bg:"bg-emerald-50",border:"border-emerald-100"}];return o?e.jsx("div",{className:"flex h-[50vh] items-center justify-center",children:e.jsxs("div",{className:"flex flex-col items-center gap-4",children:[e.jsx("div",{className:"animate-spin rounded-full h-10 w-10 border-b-2 border-indigo-600"}),e.jsx("p",{className:"text-slate-400 text-sm animate-pulse font-medium",children:"Loading dashboard..."})]})}):e.jsxs(a.div,{variants:{hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1}}},initial:"hidden",animate:"visible",className:"space-y-8 max-w-7xl mx-auto pb-10",children:[e.jsxs("div",{className:"flex flex-col md:flex-row md:items-end justify-between gap-6 pb-2 border-b border-slate-200/60",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-3xl font-bold text-slate-900 tracking-tight",children:"Overview"}),e.jsx("p",{className:"text-slate-500 mt-2 text-sm font-medium",children:"Here's what's happening with your workspace today."})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsxs(jt,{to:"/documents",className:"px-5 py-2.5 bg-white text-slate-700 font-semibold rounded-xl border border-slate-200 hover:bg-slate-50 hover:border-slate-300 transition-all text-sm shadow-sm flex items-center gap-2",children:[e.jsx(l,{size:18}),"View Documents"]}),e.jsxs("button",{className:"px-5 py-2.5 bg-indigo-600 text-white font-semibold rounded-xl hover:bg-indigo-700 transition-all text-sm shadow-lg shadow-indigo-600/20 hover:shadow-indigo-600/30 hover:-translate-y-0.5 flex items-center gap-2",children:[e.jsx(i,{size:18,fill:"currentColor"}),"Quick Action"]})]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:f.map((t,n)=>e.jsxs(a.div,{variants:d,whileHover:{y:-5,transition:{duration:.2}},className:`bg-white p-6 rounded-2xl border ${t.border} shadow-premium hover:shadow-premium-hover transition-all duration-300 relative overflow-hidden group`,children:[e.jsxs("div",{className:"flex justify-between items-start mb-4 relative z-10",children:[e.jsx("div",{className:`p-3.5 rounded-xl ${t.bg} ${t.color} transition-transform group-hover:scale-110 duration-300 shadow-sm`,children:e.jsx(t.icon,{size:24,strokeWidth:2})}),e.jsxs("div",{className:"flex items-center gap-1 text-xs font-bold px-2.5 py-1 rounded-lg "+(t.isPositive?"text-emerald-700 bg-emerald-50 border border-emerald-100":"text-slate-700 bg-slate-50 border border-slate-100"),children:[t.isPositive?e.jsx(B,{size:14}):e.jsx(H,{size:14}),t.change]})]}),e.jsxs("div",{className:"relative z-10",children:[e.jsx("h3",{className:"text-3xl font-bold text-slate-900 tracking-tight leading-tight",children:t.value}),e.jsx("p",{className:"text-sm font-medium text-slate-500 mt-1 uppercase tracking-wide text-[11px]",children:t.label})]})]},n))}),e.jsx(a.div,{variants:d,children:e.jsx(ld,{})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[e.jsxs(a.div,{variants:d,className:"lg:col-span-2 bg-white rounded-2xl border border-slate-200 shadow-sm flex flex-col overflow-hidden",children:[e.jsxs("div",{className:"p-6 border-b border-slate-100 flex justify-between items-center bg-white sticky top-0 z-10",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-lg text-slate-800",children:"Recent Activity"}),e.jsx("p",{className:"text-sm text-slate-500 mt-0.5 font-medium",children:"Latest updates from your team"})]}),e.jsxs("button",{className:"text-indigo-600 text-sm font-semibold hover:text-indigo-700 hover:bg-indigo-50 px-3 py-1.5 rounded-lg transition-colors flex items-center gap-1",children:["View All ",e.jsx(M,{size:16})]})]}),e.jsx("div",{className:"p-2",children:e.jsx("div",{className:"overflow-y-auto max-h-[500px] scrollbar-thin scrollbar-thumb-slate-200 pr-2",children:0===s.length?e.jsxs("div",{className:"p-12 text-center flex flex-col items-center text-slate-400",children:[e.jsx(W,{size:48,className:"mb-4 opacity-50 text-slate-300"}),e.jsx("p",{className:"text-sm font-medium",children:"No recent activity found."})]}):e.jsx("div",{className:"space-y-1",children:s.map(t=>e.jsxs("div",{className:"p-4 flex items-start gap-4 hover:bg-slate-50 rounded-xl transition-all cursor-pointer group border border-transparent hover:border-slate-100",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-indigo-50 border border-slate-200 flex items-center justify-center text-xs font-bold text-indigo-600 uppercase shrink-0 shadow-sm group-hover:shadow-md transition-all",children:t.initials}),e.jsxs("div",{className:"flex-1 min-w-0 pt-0.5",children:[e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsx("p",{className:"text-sm font-bold text-slate-800 truncate group-hover:text-indigo-600 transition-colors",children:t.user}),e.jsx("span",{className:"flex items-center text-[10px] font-bold text-slate-400 gap-1 whitespace-nowrap bg-slate-50 px-2 py-0.5 rounded border border-slate-100 uppercase tracking-wide",children:t.time})]}),e.jsxs("p",{className:"text-sm text-slate-600 mt-1 leading-relaxed",children:[t.action," ",e.jsx("span",{className:"text-slate-300 mx-1",children:""})," ",e.jsx("span",{className:"font-medium text-slate-900 bg-slate-100 px-1.5 py-0.5 rounded text-xs",children:t.project})]})]})]},t.id))})})})]}),e.jsx(a.div,{variants:d,className:"flex flex-col gap-6",children:e.jsxs("div",{className:"bg-slate-900 rounded-2xl shadow-2xl p-8 text-white border border-slate-800 relative overflow-hidden group",children:[e.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-slate-800/50 rounded-full blur-[80px] -translate-y-1/2 translate-x-1/2"}),e.jsx("div",{className:"absolute bottom-0 left-0 w-48 h-48 bg-slate-800/30 rounded-full blur-[60px] translate-y-1/2 -translate-x-1/2"}),e.jsxs("div",{className:"relative z-10",children:[e.jsx("div",{className:"w-12 h-12 bg-white/10 rounded-xl flex items-center justify-center mb-6 backdrop-blur-md border border-white/10 group-hover:scale-110 transition-transform duration-300 shadow-lg shadow-black/20",children:e.jsx(U,{className:"text-indigo-400",size:24})}),e.jsx("h3",{className:"text-xl font-bold mb-2 text-white tracking-tight",children:"Upgrade to Enterprise"}),e.jsx("p",{className:"text-slate-400 text-sm mb-8 leading-relaxed font-medium",children:"Get access to advanced analytics, unlimited team members, and dedicated support."}),e.jsx("button",{className:"w-full py-3.5 bg-indigo-600 text-white font-bold text-sm rounded-xl hover:bg-indigo-700 transition-all shadow-lg shadow-indigo-900/20 hover:-translate-y-0.5",children:"Upgrade Plan"}),e.jsxs("div",{className:"mt-8 pt-6 border-t border-slate-800",children:[e.jsxs("div",{className:"flex justify-between items-center text-xs mb-2",children:[e.jsx("span",{className:"text-slate-400 font-medium",children:"Storage Usage"}),e.jsx("span",{className:"font-bold text-indigo-300",children:"7.8 GB / 10 GB"})]}),e.jsx("div",{className:"w-full bg-slate-800 rounded-full h-2 overflow-hidden border border-slate-700",children:e.jsx("div",{className:"bg-indigo-500 rounded-full h-full w-[78%]"})})]})]})]})})]})]})},cd=()=>{const{user:e}=ts(),[t,n]=vt.useState({roles:{},permissions:[]}),[s,a]=vt.useState(!0);vt.useEffect(()=>{(async()=>{try{const e=await Jn.get("/permissions");n(e.data)}catch(e){}finally{a(!1)}})()},[]);return{can:n=>{if(!e)return!1;if(e.permissions&&e.permissions.includes("*"))return!0;if(e.permissions&&Array.isArray(e.permissions)&&e.permissions.includes(n))return!0;const s=e.role||"viewer",a=t.permissions?.find(e=>e.key===n);return!(!a||!a.roles)&&a.roles.includes(s)},matrix:t,loading:s}};function dd(e){const[t,n]=vt.useState(!1);return vt.useEffect(()=>{const s=window.matchMedia(e);s.matches!==t&&n(s.matches);const a=()=>{n(s.matches)};return window.addEventListener("resize",a),s.addEventListener("change",a),()=>{window.removeEventListener("resize",a),s.removeEventListener("change",a)}},[t,e]),t}const ud=({business:t,mobileMenuOpen:n,setMobileMenuOpen:i})=>{const o=dd("(max-width: 1024px)"),[c,d]=vt.useState(!1),u=kt(),{can:h}=cd(),{logout:p}=ts(),f=()=>d(!c),x=t?.name||"DocForge",g=[{icon:V,label:"Dashboard",path:"/dashboard"},{icon:q,label:"Drive",path:"/drive",permission:"document.view"},{icon:l,label:"Documents",path:"/documents",permission:"document.view"},{icon:Y,label:"Signatures",path:"/signatures/list",permission:"settings.signature"},{icon:m,label:"Team",path:"/team",permission:"team.view"},{icon:G,label:"Settings",path:"/settings",permission:"settings.manage"}].filter(e=>!e.permission||h(e.permission));return e.jsxs(a.aside,{initial:o?"mobileClosed":"expanded",animate:o?n?"mobileOpen":"mobileClosed":c?"collapsed":"expanded",variants:{expanded:{width:280},collapsed:{width:80},mobileOpen:{x:0},mobileClosed:{x:-300}},transition:{type:"spring",stiffness:300,damping:30},className:"\n                no-print bg-slate-900 text-slate-400 flex flex-col justify-between\n                z-50 border-r border-slate-800 shadow-2xl\n                lg:sticky lg:top-0 fixed top-0 left-0 h-screen overflow-hidden\n            ",children:[e.jsxs("div",{className:"p-6 flex items-center h-20 border-b border-slate-800/50 "+(c?"justify-center":"justify-between"),children:[e.jsxs("div",{className:"flex items-center gap-3 overflow-hidden",children:[e.jsx("div",{className:"w-10 h-10 shrink-0 bg-gradient-to-br from-indigo-500 via-purple-500 to-pink-500 rounded-xl flex items-center justify-center text-white shadow-lg shadow-indigo-500/20 ring-1 ring-white/10",children:e.jsx(N,{size:20,strokeWidth:2.5})}),e.jsx(s,{children:(!c||o&&n)&&e.jsxs(a.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},exit:{opacity:0,width:0},className:"whitespace-nowrap",children:[e.jsx("span",{className:"font-bold text-lg text-white block leading-none",children:x}),e.jsxs("span",{className:"text-[10px] uppercase font-bold text-indigo-400 tracking-wider flex items-center gap-1 mt-0.5",children:[e.jsx(X,{size:10})," Workspace"]})]})})]}),!o&&!c&&e.jsx("button",{onClick:f,className:"p-1.5 rounded-lg text-slate-500 hover:text-white hover:bg-white/10 transition-colors",children:e.jsx(z,{size:18})})]}),e.jsxs("nav",{className:"flex-1 px-3 py-6 space-y-1 overflow-y-auto scrollbar-none",children:[!o&&c&&e.jsx("button",{onClick:f,className:"w-full flex justify-center p-2 mb-4 text-slate-500 hover:text-white hover:bg-white/5 rounded-xl transition-colors",children:e.jsx(M,{size:20})}),g.map(t=>e.jsx(_t,{to:t.path,onClick:()=>o&&i(!1),className:({isActive:e})=>"flex items-center px-3 py-3 rounded-xl transition-all group relative overflow-hidden\n                             "+(e?"bg-indigo-600 text-white shadow-lg shadow-indigo-900/20":"hover:bg-slate-800 hover:text-slate-100"),children:({isActive:r})=>e.jsxs(e.Fragment,{children:[r&&e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-white/10 to-transparent pointer-events-none"}),e.jsxs("div",{className:"relative z-10 flex items-center "+(c&&!o?"justify-center w-full":""),children:[e.jsx(t.icon,{size:22,strokeWidth:r?2.5:2,className:r?"text-white":"text-slate-400 group-hover:text-slate-200"}),e.jsx(s,{children:(!c||o&&n)&&e.jsx(a.span,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},exit:{opacity:0,width:0},className:"ml-3 text-sm font-medium whitespace-nowrap",children:t.label})})]}),c&&!o&&e.jsx("div",{className:"hidden group-hover:block absolute left-full ml-4 px-3 py-2 bg-slate-800 text-xs font-semibold text-white rounded-lg shadow-xl border border-slate-700 whitespace-nowrap z-50 animate-in fade-in slide-in-from-left-2",children:t.label})]})},t.path))]}),e.jsxs("div",{className:"p-4 border-t border-slate-800/50 bg-slate-900/50",children:[e.jsx(s,{children:(!c||o&&n)&&e.jsxs(a.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,height:0,marginBottom:0},className:"mb-4 p-4 rounded-xl bg-gradient-to-br from-slate-800 to-slate-900 border border-slate-700/50 shadow-inner group cursor-pointer hover:border-indigo-500/30 transition-colors",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("span",{className:"text-xs font-bold text-white flex items-center gap-1",children:[e.jsx(r,{size:12,className:"text-emerald-400"})," Pro Plan"]}),e.jsx("span",{className:"text-[10px] bg-emerald-500/10 text-emerald-400 px-1.5 py-0.5 rounded border border-emerald-500/20",children:"Active"})]}),e.jsx("div",{className:"w-full bg-slate-700/50 rounded-full h-1.5 overflow-hidden mb-2",children:e.jsx("div",{className:"bg-gradient-to-r from-indigo-500 to-purple-500 h-full w-[75%] rounded-full shadow-[0_0_10px_rgba(99,102,241,0.5)]"})}),e.jsx("p",{className:"text-[10px] text-slate-400",children:"75% of storage used"})]})}),e.jsxs("button",{onClick:async()=>{await p(),u("/")},className:"flex items-center w-full rounded-xl text-slate-400 hover:text-red-400 hover:bg-slate-800 transition-all border border-transparent hover:border-slate-700/50\n                        "+(c&&!o?"justify-center p-3":"px-4 py-3"),title:"Log Out",children:[e.jsx(Q,{size:20,strokeWidth:2}),e.jsx(s,{children:(!c||o&&n)&&e.jsx(a.span,{initial:{opacity:0,width:0},animate:{opacity:1,width:"auto"},exit:{opacity:0,width:0},className:"ml-3 text-sm font-medium whitespace-nowrap overflow-hidden",children:"Log Out"})})]})]})]})},hd=({business:t,onMenuClick:r})=>{const{user:i,logout:o}=ts(),c=kt(),[d,u]=vt.useState(!1),h=vt.useRef(null),[m,p]=vt.useState(!1),[f,x]=vt.useState(!1),b=vt.useRef(null),v=vt.useRef(null),[y,w]=vt.useState([]),[N,k]=vt.useState(0),S=async()=>{try{const e=await Jn.get("/notifications"),t=e.data.data.map(e=>({id:e.id,type:e.data.type||"info",title:e.data.title||"Notification",message:e.data.message||"",time:e.created_at?new Date(e.created_at).toLocaleDateString():"Just now",read:!!e.read_at,raw_created_at:e.created_at}));w(t),k(e.data.unread_count)}catch(e){}};vt.useEffect(()=>{if(i){S();const e=setInterval(S,3e4);return()=>clearInterval(e)}},[i]);const C=async e=>{try{await(e=>Jn.post(`/notifications/${e}/read`))(e),S()}catch(t){}};vt.useEffect(()=>{const e=e=>{b.current&&!b.current.contains(e.target)&&p(!1),v.current&&!v.current.contains(e.target)&&x(!1),h.current&&!h.current.contains(e.target)&&u(!1)};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[]);return e.jsxs("header",{className:"no-print px-6 py-4 flex items-center justify-between sticky top-0 z-40 glass border-b border-indigo-50/50 shadow-sm transition-all duration-300",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("button",{onClick:r,className:"p-2 -ml-2 text-slate-500 hover:bg-slate-100 rounded-xl lg:hidden transition-colors",children:e.jsx(n,{size:20})}),e.jsx("div",{className:""+(d?"hidden md:block":"block"),children:e.jsxs("h1",{className:"text-lg font-bold text-slate-800 tracking-tight flex items-center gap-2",children:["Dashboard",e.jsx("span",{className:"hidden sm:inline-block px-2 py-0.5 rounded-md bg-slate-100 border border-slate-200 text-[10px] font-bold text-slate-500 uppercase tracking-widest",children:"Beta"})]})})]}),e.jsxs("div",{className:"flex items-center gap-3 sm:gap-5",children:[e.jsxs("div",{className:"relative group",ref:h,children:[e.jsx("button",{onClick:()=>u(!d),className:"md:hidden p-2 text-slate-500 hover:bg-slate-50 rounded-xl",children:e.jsx(K,{size:20})}),e.jsxs("div",{className:""+(d?"absolute right-0 top-1/2 -translate-y-1/2 w-[calc(100vw-80px)] md:w-auto bg-white z-50 shadow-xl rounded-xl":"hidden md:block relative"),children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none text-slate-400 group-focus-within:text-indigo-600 transition-colors",children:e.jsx(K,{size:16,strokeWidth:2.5})}),e.jsx("input",{type:"text",autoFocus:d,placeholder:"Type to search...",className:"pl-10 pr-12 py-2.5 bg-slate-100/50 border border-transparent rounded-xl text-sm w-full md:w-72 focus:ring-2 focus:ring-indigo-500/20 focus:bg-white focus:border-indigo-500 transition-all duration-200 placeholder-slate-400 text-slate-700 hover:bg-slate-100 outline-none"}),e.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none text-slate-400",children:e.jsxs("kbd",{className:"hidden sm:inline-flex items-center gap-1 px-1.5 py-0.5 rounded border border-slate-200 bg-white text-[10px] font-sans font-medium text-slate-500 shadow-sm",children:[e.jsx(J,{size:10})," K"]})})]})]}),e.jsxs("div",{className:"relative",ref:b,children:[e.jsxs(a.button,{autoFocus:!1,whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>p(!m),className:"relative p-2.5 rounded-xl transition-all "+(m?"bg-indigo-50 text-indigo-600 shadow-inner":"text-slate-500 hover:bg-slate-50 hover:text-indigo-600"),children:[e.jsx(Z,{size:20,strokeWidth:2}),N>0&&e.jsxs("span",{className:"absolute top-2.5 right-2.5 flex h-2.5 w-2.5",children:[e.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-red-400 opacity-75"}),e.jsx("span",{className:"relative inline-flex rounded-full h-2.5 w-2.5 bg-red-500 ring-2 ring-white"})]})]}),e.jsx(s,{children:m&&e.jsxs(a.div,{initial:{opacity:0,y:10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:10,scale:.95},transition:{type:"spring",duration:.3},className:"absolute right-0 mt-4 w-[90vw] sm:w-[400px] bg-white rounded-2xl shadow-premium border border-slate-100 overflow-hidden z-50 origin-top-right -mr-12 sm:mr-0",children:[e.jsxs("div",{className:"p-4 border-b border-slate-100 flex items-center justify-between bg-slate-50/50 backdrop-blur-sm",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-slate-800",children:"Notifications"}),e.jsxs("p",{className:"text-xs text-slate-500 mt-0.5",children:["You have ",N," unread messages"]})]}),N>0&&e.jsx("button",{onClick:async()=>{try{await Jn.post("/notifications/mark-all-read"),S()}catch(e){}},className:"text-xs text-indigo-600 hover:text-indigo-700 font-bold px-3 py-1.5 bg-indigo-50 hover:bg-indigo-100 rounded-lg transition-colors",children:"Mark all read"})]}),e.jsx("div",{className:"max-h-[400px] overflow-y-auto scrollbar-thin scrollbar-thumb-slate-200",children:0===y.length?e.jsxs("div",{className:"p-12 text-center text-slate-400 flex flex-col items-center",children:[e.jsx(Z,{size:32,className:"mb-3 opacity-20"}),e.jsx("p",{className:"text-sm font-medium",children:"All caught up!"})]}):e.jsx("div",{className:"divide-y divide-slate-50",children:y.map(t=>e.jsxs("div",{onClick:()=>C(t.id),className:"p-4 hover:bg-slate-50 transition-all cursor-pointer group relative "+(t.read?"":"bg-indigo-50/20"),children:[!t.read&&e.jsx("div",{className:"absolute left-0 top-0 bottom-0 w-1 bg-indigo-500 rounded-r-full"}),e.jsxs("div",{className:"flex gap-4",children:[e.jsx("div",{className:"mt-1 h-10 w-10 rounded-full flex items-center justify-center shrink-0 "+(t.read?"bg-slate-100 text-slate-500":"bg-indigo-100 text-indigo-600"),children:e.jsx(l,{size:18,strokeWidth:2})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex justify-between items-start mb-0.5",children:[e.jsx("p",{className:"text-sm font-semibold truncate pr-2 "+(t.read?"text-slate-700":"text-slate-900"),children:t.title}),e.jsx("span",{className:"text-[10px] text-slate-400 font-medium whitespace-nowrap bg-slate-50 px-1.5 py-0.5 rounded border border-slate-100",children:t.time})]}),e.jsx("p",{className:"text-sm text-slate-500 leading-snug line-clamp-2 mix-blend-multiply",children:t.message})]})]})]},t.id))})}),e.jsx("div",{className:"p-3 bg-slate-50/50 text-center border-t border-slate-100",children:e.jsxs("button",{className:"text-xs font-bold text-slate-600 hover:text-indigo-600 transition-colors flex items-center justify-center gap-1 w-full py-1",children:["View All Activity ",e.jsx(g,{size:12})]})})]})})]}),e.jsxs("div",{className:"relative pl-2",ref:v,children:[e.jsxs(a.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>x(!f),className:"flex items-center gap-3 p-1 rounded-xl transition-all border "+(f?"bg-white border-indigo-200 shadow-md ring-2 ring-indigo-50/50":"border-transparent hover:bg-slate-50"),children:[e.jsxs("div",{className:"text-right hidden md:block pr-1",children:[e.jsx("p",{className:"text-sm font-bold text-slate-800 leading-none",children:i?.name||"User"}),e.jsx("p",{className:"text-[10px] uppercase font-bold text-slate-500 tracking-wider mt-1",children:i?.role||"Member"})]}),e.jsx("div",{className:"h-10 w-10 rounded-xl bg-gradient-to-br from-indigo-500 via-purple-500 to-pink-500 p-0.5 shadow-lg shadow-indigo-500/20",children:e.jsx("div",{className:"h-full w-full bg-white rounded-[10px] flex items-center justify-center overflow-hidden",children:i?.avatar_url?e.jsx("img",{src:i.avatar_url,alt:i.name,className:"h-full w-full object-cover"}):e.jsx("span",{className:"font-bold text-sm bg-gradient-to-br from-indigo-600 to-purple-600 bg-clip-text text-transparent",children:i?.name?.charAt(0).toUpperCase()||"U"})})})]}),e.jsx(s,{children:f&&e.jsxs(a.div,{initial:{opacity:0,y:10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:10,scale:.95},transition:{type:"spring",duration:.3},className:"absolute right-0 mt-3 w-64 bg-white rounded-2xl shadow-premium border border-slate-100 overflow-hidden z-50 origin-top-right",children:[e.jsxs("div",{className:"p-5 border-b border-slate-100 bg-gradient-to-br from-slate-50 to-white",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx("div",{className:"h-12 w-12 rounded-full bg-indigo-100 text-indigo-600 flex items-center justify-center font-bold text-xl",children:i?.name?.charAt(0).toUpperCase()}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-bold text-slate-800",children:i?.name}),e.jsx("p",{className:"text-xs text-slate-500 font-medium truncate max-w-[140px]",children:i?.email})]})]}),e.jsx("div",{className:"flex gap-2",children:e.jsx("span",{className:"px-2 py-1 rounded-md bg-emerald-50 text-emerald-700 border border-emerald-100 text-[10px] font-bold uppercase tracking-wide",children:"Pro Plan"})})]}),e.jsxs("div",{className:"p-2 space-y-1",children:[e.jsxs(jt,{to:"/settings",onClick:()=>x(!1),className:"flex items-center gap-3 px-3 py-2.5 text-sm font-medium text-slate-600 hover:text-indigo-600 hover:bg-slate-50 rounded-xl transition-colors group",children:[e.jsx(j,{size:18,className:"text-slate-400 group-hover:text-indigo-500 transition-colors"}),"My Profile"]}),e.jsxs(jt,{to:"/settings",onClick:()=>x(!1),className:"flex items-center gap-3 px-3 py-2.5 text-sm font-medium text-slate-600 hover:text-indigo-600 hover:bg-slate-50 rounded-xl transition-colors group",children:[e.jsx(G,{size:18,className:"text-slate-400 group-hover:text-indigo-500 transition-colors"}),"Settings"]})]}),e.jsx("div",{className:"p-2 border-t border-slate-50 mt-1",children:e.jsxs("button",{onClick:async()=>{await o(),c("/login")},className:"w-full flex items-center gap-3 px-3 py-2.5 text-sm font-bold text-red-600 hover:bg-red-50 rounded-xl transition-colors group",children:[e.jsx(Q,{size:18,className:"text-red-500 group-hover:text-red-600 transition-colors"}),"Sign Out"]})})]})})]})]})]})},md=async e=>{let t;return e instanceof FormData?(e.append("_method","PUT"),t=await Jn.post("/business",e,{headers:{"Content-Type":"multipart/form-data"}})):t=await Jn.put("/business",e),t.data},pd=async()=>(await Jn.get("/user")).data.data.business;function fd(){const[t,n]=vt.useState(null),[s,a]=vt.useState(!1);return vt.useEffect(()=>{At.dismiss();(async()=>{try{const e=await pd();n(e)}catch(e){}})()},[]),e.jsxs("div",{className:"flex bg-slate-50 min-h-screen",children:[e.jsx(ud,{business:t,mobileMenuOpen:s,setMobileMenuOpen:a}),s&&e.jsx("div",{className:"fixed inset-0 bg-slate-900/50 z-40 lg:hidden backdrop-blur-sm",onClick:()=>a(!1)}),e.jsxs("div",{className:"flex-1 flex flex-col min-w-0 transition-all duration-300 relative overflow-x-hidden",children:[e.jsx(hd,{business:t,onMenuClick:()=>a(!s)}),e.jsx("main",{className:"flex-1 overflow-y-auto p-4 md:p-8",children:e.jsx(Nt,{})})]})]})}const xd="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement;function gd(e){const t=Object.prototype.toString.call(e);return"[object Window]"===t||"[object global]"===t}function bd(e){return"nodeType"in e}function vd(e){var t,n;return e?gd(e)?e:bd(e)&&null!=(t=null==(n=e.ownerDocument)?void 0:n.defaultView)?t:window:window}function yd(e){const{Document:t}=vd(e);return e instanceof t}function wd(e){return!gd(e)&&e instanceof vd(e).HTMLElement}function jd(e){return e instanceof vd(e).SVGElement}function Nd(e){return e?gd(e)?e.document:bd(e)?yd(e)?e:wd(e)||jd(e)?e.ownerDocument:document:document:document}const kd=xd?vt.useLayoutEffect:vt.useEffect;function Sd(e){const t=vt.useRef(e);return kd(()=>{t.current=e}),vt.useCallback(function(){for(var e=arguments.length,n=new Array(e),s=0;s<e;s++)n[s]=arguments[s];return null==t.current?void 0:t.current(...n)},[])}function Cd(e,t){void 0===t&&(t=[e]);const n=vt.useRef(e);return kd(()=>{n.current!==e&&(n.current=e)},t),n}function _d(e,t){const n=vt.useRef();return vt.useMemo(()=>{const t=e(n.current);return n.current=t,t},[...t])}function Pd(e){const t=Sd(e),n=vt.useRef(null),s=vt.useCallback(e=>{e!==n.current&&(null==t||t(e,n.current)),n.current=e},[]);return[n,s]}function Dd(e){const t=vt.useRef();return vt.useEffect(()=>{t.current=e},[e]),t.current}let Td={};function Ed(e,t){return vt.useMemo(()=>{if(t)return t;const n=null==Td[e]?0:Td[e]+1;return Td[e]=n,e+"-"+n},[e,t])}function zd(e){return function(t){for(var n=arguments.length,s=new Array(n>1?n-1:0),a=1;a<n;a++)s[a-1]=arguments[a];return s.reduce((t,n)=>{const s=Object.entries(n);for(const[a,r]of s){const n=t[a];null!=n&&(t[a]=n+e*r)}return t},{...t})}}const Md=zd(1),Rd=zd(-1);function Ad(e){if(!e)return!1;const{KeyboardEvent:t}=vd(e.target);return t&&e instanceof t}function Od(e){if(function(e){if(!e)return!1;const{TouchEvent:t}=vd(e.target);return t&&e instanceof t}(e)){if(e.touches&&e.touches.length){const{clientX:t,clientY:n}=e.touches[0];return{x:t,y:n}}if(e.changedTouches&&e.changedTouches.length){const{clientX:t,clientY:n}=e.changedTouches[0];return{x:t,y:n}}}return function(e){return"clientX"in e&&"clientY"in e}(e)?{x:e.clientX,y:e.clientY}:null}const Fd=Object.freeze({Translate:{toString(e){if(!e)return;const{x:t,y:n}=e;return"translate3d("+(t?Math.round(t):0)+"px, "+(n?Math.round(n):0)+"px, 0)"}},Scale:{toString(e){if(!e)return;const{scaleX:t,scaleY:n}=e;return"scaleX("+t+") scaleY("+n+")"}},Transform:{toString(e){if(e)return[Fd.Translate.toString(e),Fd.Scale.toString(e)].join(" ")}},Transition:{toString(e){let{property:t,duration:n,easing:s}=e;return t+" "+n+"ms "+s}}}),Id="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function Ld(e){return e.matches(Id)?e:e.querySelector(Id)}const Bd={display:"none"};function $d(e){let{id:t,value:n}=e;return yt.createElement("div",{id:t,style:Bd},n)}function Wd(e){let{id:t,announcement:n,ariaLiveType:s="assertive"}=e;return yt.createElement("div",{id:t,style:{position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"},role:"status","aria-live":s,"aria-atomic":!0},n)}const Hd=vt.createContext(null);const Ud={draggable:"\n    To pick up a draggable item, press the space bar.\n    While dragging, use the arrow keys to move the item.\n    Press space again to drop the item in its new position, or press escape to cancel.\n  "},Vd={onDragStart(e){let{active:t}=e;return"Picked up draggable item "+t.id+"."},onDragOver(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was moved over droppable area "+n.id+".":"Draggable item "+t.id+" is no longer over a droppable area."},onDragEnd(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was dropped over droppable area "+n.id:"Draggable item "+t.id+" was dropped."},onDragCancel(e){let{active:t}=e;return"Dragging was cancelled. Draggable item "+t.id+" was dropped."}};function qd(e){let{announcements:t=Vd,container:n,hiddenTextDescribedById:s,screenReaderInstructions:a=Ud}=e;const{announce:r,announcement:i}=function(){const[e,t]=vt.useState("");return{announce:vt.useCallback(e=>{null!=e&&t(e)},[]),announcement:e}}(),l=Ed("DndLiveRegion"),[o,c]=vt.useState(!1);if(vt.useEffect(()=>{c(!0)},[]),function(e){const t=vt.useContext(Hd);vt.useEffect(()=>{if(!t)throw new Error("useDndMonitor must be used within a children of <DndContext>");return t(e)},[e,t])}(vt.useMemo(()=>({onDragStart(e){let{active:n}=e;r(t.onDragStart({active:n}))},onDragMove(e){let{active:n,over:s}=e;t.onDragMove&&r(t.onDragMove({active:n,over:s}))},onDragOver(e){let{active:n,over:s}=e;r(t.onDragOver({active:n,over:s}))},onDragEnd(e){let{active:n,over:s}=e;r(t.onDragEnd({active:n,over:s}))},onDragCancel(e){let{active:n,over:s}=e;r(t.onDragCancel({active:n,over:s}))}}),[r,t])),!o)return null;const d=yt.createElement(yt.Fragment,null,yt.createElement($d,{id:s,value:a.draggable}),yt.createElement(Wd,{id:l,announcement:i}));return n?Pt.createPortal(d,n):d}var Yd,Gd;function Xd(){}function Qd(e,t){return vt.useMemo(()=>({sensor:e,options:null!=t?t:{}}),[e,t])}function Kd(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return vt.useMemo(()=>[...t].filter(e=>null!=e),[...t])}(Gd=Yd||(Yd={})).DragStart="dragStart",Gd.DragMove="dragMove",Gd.DragEnd="dragEnd",Gd.DragCancel="dragCancel",Gd.DragOver="dragOver",Gd.RegisterDroppable="registerDroppable",Gd.SetDroppableDisabled="setDroppableDisabled",Gd.UnregisterDroppable="unregisterDroppable";const Jd=Object.freeze({x:0,y:0});function Zd(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function eu(e,t){const n=Od(e);if(!n)return"0 0";return(n.x-t.left)/t.width*100+"% "+(n.y-t.top)/t.height*100+"%"}function tu(e,t){let{data:{value:n}}=e,{data:{value:s}}=t;return n-s}function nu(e,t){let{data:{value:n}}=e,{data:{value:s}}=t;return s-n}function su(e,t,n){return void 0===t&&(t=e.left),void 0===n&&(n=e.top),{x:t+.5*e.width,y:n+.5*e.height}}const au=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:s}=e;const a=su(t,t.left,t.top),r=[];for(const i of s){const{id:e}=i,t=n.get(e);if(t){const n=Zd(su(t),a);r.push({id:e,data:{droppableContainer:i,value:n}})}}return r.sort(tu)};function ru(e,t){const n=Math.max(t.top,e.top),s=Math.max(t.left,e.left),a=Math.min(t.left+t.width,e.left+e.width),r=Math.min(t.top+t.height,e.top+e.height),i=a-s,l=r-n;if(s<a&&n<r){const n=t.width*t.height,s=e.width*e.height,a=i*l;return Number((a/(n+s-a)).toFixed(4))}return 0}const iu=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:s}=e;const a=[];for(const r of s){const{id:e}=r,s=n.get(e);if(s){const n=ru(s,t);n>0&&a.push({id:e,data:{droppableContainer:r,value:n}})}}return a.sort(nu)};function lu(e,t){return e&&t?{x:e.left-t.left,y:e.top-t.top}:Jd}function ou(e){return function(t){for(var n=arguments.length,s=new Array(n>1?n-1:0),a=1;a<n;a++)s[a-1]=arguments[a];return s.reduce((t,n)=>({...t,top:t.top+e*n.y,bottom:t.bottom+e*n.y,left:t.left+e*n.x,right:t.right+e*n.x}),{...t})}}const cu=ou(1);function du(e){if(e.startsWith("matrix3d(")){const t=e.slice(9,-1).split(/, /);return{x:+t[12],y:+t[13],scaleX:+t[0],scaleY:+t[5]}}if(e.startsWith("matrix(")){const t=e.slice(7,-1).split(/, /);return{x:+t[4],y:+t[5],scaleX:+t[0],scaleY:+t[3]}}return null}const uu={ignoreTransform:!1};function hu(e,t){void 0===t&&(t=uu);let n=e.getBoundingClientRect();if(t.ignoreTransform){const{transform:t,transformOrigin:s}=vd(e).getComputedStyle(e);t&&(n=function(e,t,n){const s=du(t);if(!s)return e;const{scaleX:a,scaleY:r,x:i,y:l}=s,o=e.left-i-(1-a)*parseFloat(n),c=e.top-l-(1-r)*parseFloat(n.slice(n.indexOf(" ")+1)),d=a?e.width/a:e.width,u=r?e.height/r:e.height;return{width:d,height:u,top:c,right:o+d,bottom:c+u,left:o}}(n,t,s))}const{top:s,left:a,width:r,height:i,bottom:l,right:o}=n;return{top:s,left:a,width:r,height:i,bottom:l,right:o}}function mu(e){return hu(e,{ignoreTransform:!0})}function pu(e,t){const n=[];return e?function s(a){if(null!=t&&n.length>=t)return n;if(!a)return n;if(yd(a)&&null!=a.scrollingElement&&!n.includes(a.scrollingElement))return n.push(a.scrollingElement),n;if(!wd(a)||jd(a))return n;if(n.includes(a))return n;const r=vd(e).getComputedStyle(a);return a!==e&&function(e,t){void 0===t&&(t=vd(e).getComputedStyle(e));const n=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(e=>{const s=t[e];return"string"==typeof s&&n.test(s)})}(a,r)&&n.push(a),function(e,t){return void 0===t&&(t=vd(e).getComputedStyle(e)),"fixed"===t.position}(a,r)?n:s(a.parentNode)}(e):n}function fu(e){const[t]=pu(e,1);return null!=t?t:null}function xu(e){return xd&&e?gd(e)?e:bd(e)?yd(e)||e===Nd(e).scrollingElement?window:wd(e)?e:null:null:null}function gu(e){return gd(e)?e.scrollX:e.scrollLeft}function bu(e){return gd(e)?e.scrollY:e.scrollTop}function vu(e){return{x:gu(e),y:bu(e)}}var yu,wu;function ju(e){return!(!xd||!e)&&e===document.scrollingElement}function Nu(e){const t={x:0,y:0},n=ju(e)?{height:window.innerHeight,width:window.innerWidth}:{height:e.clientHeight,width:e.clientWidth},s={x:e.scrollWidth-n.width,y:e.scrollHeight-n.height};return{isTop:e.scrollTop<=t.y,isLeft:e.scrollLeft<=t.x,isBottom:e.scrollTop>=s.y,isRight:e.scrollLeft>=s.x,maxScroll:s,minScroll:t}}(wu=yu||(yu={}))[wu.Forward=1]="Forward",wu[wu.Backward=-1]="Backward";const ku={x:.2,y:.2};function Su(e,t,n,s,a){let{top:r,left:i,right:l,bottom:o}=n;void 0===s&&(s=10),void 0===a&&(a=ku);const{isTop:c,isBottom:d,isLeft:u,isRight:h}=Nu(e),m={x:0,y:0},p={x:0,y:0},f=t.height*a.y,x=t.width*a.x;return!c&&r<=t.top+f?(m.y=yu.Backward,p.y=s*Math.abs((t.top+f-r)/f)):!d&&o>=t.bottom-f&&(m.y=yu.Forward,p.y=s*Math.abs((t.bottom-f-o)/f)),!h&&l>=t.right-x?(m.x=yu.Forward,p.x=s*Math.abs((t.right-x-l)/x)):!u&&i<=t.left+x&&(m.x=yu.Backward,p.x=s*Math.abs((t.left+x-i)/x)),{direction:m,speed:p}}function Cu(e){if(e===document.scrollingElement){const{innerWidth:e,innerHeight:t}=window;return{top:0,left:0,right:e,bottom:t,width:e,height:t}}const{top:t,left:n,right:s,bottom:a}=e.getBoundingClientRect();return{top:t,left:n,right:s,bottom:a,width:e.clientWidth,height:e.clientHeight}}function _u(e){return e.reduce((e,t)=>Md(e,vu(t)),Jd)}function Pu(e,t){if(void 0===t&&(t=hu),!e)return;const{top:n,left:s,bottom:a,right:r}=t(e);fu(e)&&(a<=0||r<=0||n>=window.innerHeight||s>=window.innerWidth)&&e.scrollIntoView({block:"center",inline:"center"})}const Du=[["x",["left","right"],function(e){return e.reduce((e,t)=>e+gu(t),0)}],["y",["top","bottom"],function(e){return e.reduce((e,t)=>e+bu(t),0)}]];class Tu{constructor(e,t){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const n=pu(t),s=_u(n);this.rect={...e},this.width=e.width,this.height=e.height;for(const[a,r,i]of Du)for(const e of r)Object.defineProperty(this,e,{get:()=>{const t=i(n),r=s[a]-t;return this.rect[e]+r},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class Eu{constructor(e){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(e=>{var t;return null==(t=this.target)?void 0:t.removeEventListener(...e)})},this.target=e}add(e,t,n){var s;null==(s=this.target)||s.addEventListener(e,t,n),this.listeners.push([e,t,n])}}function zu(e,t){const n=Math.abs(e.x),s=Math.abs(e.y);return"number"==typeof t?Math.sqrt(n**2+s**2)>t:"x"in t&&"y"in t?n>t.x&&s>t.y:"x"in t?n>t.x:"y"in t&&s>t.y}var Mu,Ru,Au,Ou;function Fu(e){e.preventDefault()}function Iu(e){e.stopPropagation()}(Ru=Mu||(Mu={})).Click="click",Ru.DragStart="dragstart",Ru.Keydown="keydown",Ru.ContextMenu="contextmenu",Ru.Resize="resize",Ru.SelectionChange="selectionchange",Ru.VisibilityChange="visibilitychange",(Ou=Au||(Au={})).Space="Space",Ou.Down="ArrowDown",Ou.Right="ArrowRight",Ou.Left="ArrowLeft",Ou.Up="ArrowUp",Ou.Esc="Escape",Ou.Enter="Enter",Ou.Tab="Tab";const Lu={start:[Au.Space,Au.Enter],cancel:[Au.Esc],end:[Au.Space,Au.Enter,Au.Tab]},Bu=(e,t)=>{let{currentCoordinates:n}=t;switch(e.code){case Au.Right:return{...n,x:n.x+25};case Au.Left:return{...n,x:n.x-25};case Au.Down:return{...n,y:n.y+25};case Au.Up:return{...n,y:n.y-25}}};class $u{constructor(e){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=e;const{event:{target:t}}=e;this.props=e,this.listeners=new Eu(Nd(t)),this.windowListeners=new Eu(vd(t)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(Mu.Resize,this.handleCancel),this.windowListeners.add(Mu.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(Mu.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:e,onStart:t}=this.props,n=e.node.current;n&&Pu(n),t(Jd)}handleKeyDown(e){if(Ad(e)){const{active:t,context:n,options:s}=this.props,{keyboardCodes:a=Lu,coordinateGetter:r=Bu,scrollBehavior:i="smooth"}=s,{code:l}=e;if(a.end.includes(l))return void this.handleEnd(e);if(a.cancel.includes(l))return void this.handleCancel(e);const{collisionRect:o}=n.current,c=o?{x:o.left,y:o.top}:Jd;this.referenceCoordinates||(this.referenceCoordinates=c);const d=r(e,{active:t,context:n.current,currentCoordinates:c});if(d){const t=Rd(d,c),s={x:0,y:0},{scrollableAncestors:a}=n.current;for(const n of a){const a=e.code,{isTop:r,isRight:l,isLeft:o,isBottom:c,maxScroll:u,minScroll:h}=Nu(n),m=Cu(n),p={x:Math.min(a===Au.Right?m.right-m.width/2:m.right,Math.max(a===Au.Right?m.left:m.left+m.width/2,d.x)),y:Math.min(a===Au.Down?m.bottom-m.height/2:m.bottom,Math.max(a===Au.Down?m.top:m.top+m.height/2,d.y))},f=a===Au.Right&&!l||a===Au.Left&&!o,x=a===Au.Down&&!c||a===Au.Up&&!r;if(f&&p.x!==d.x){const e=n.scrollLeft+t.x,r=a===Au.Right&&e<=u.x||a===Au.Left&&e>=h.x;if(r&&!t.y)return void n.scrollTo({left:e,behavior:i});s.x=r?n.scrollLeft-e:a===Au.Right?n.scrollLeft-u.x:n.scrollLeft-h.x,s.x&&n.scrollBy({left:-s.x,behavior:i});break}if(x&&p.y!==d.y){const e=n.scrollTop+t.y,r=a===Au.Down&&e<=u.y||a===Au.Up&&e>=h.y;if(r&&!t.x)return void n.scrollTo({top:e,behavior:i});s.y=r?n.scrollTop-e:a===Au.Down?n.scrollTop-u.y:n.scrollTop-h.y,s.y&&n.scrollBy({top:-s.y,behavior:i});break}}this.handleMove(e,Md(Rd(d,this.referenceCoordinates),s))}}}handleMove(e,t){const{onMove:n}=this.props;e.preventDefault(),n(t)}handleEnd(e){const{onEnd:t}=this.props;e.preventDefault(),this.detach(),t()}handleCancel(e){const{onCancel:t}=this.props;e.preventDefault(),this.detach(),t()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}function Wu(e){return Boolean(e&&"distance"in e)}function Hu(e){return Boolean(e&&"delay"in e)}$u.activators=[{eventName:"onKeyDown",handler:(e,t,n)=>{let{keyboardCodes:s=Lu,onActivation:a}=t,{active:r}=n;const{code:i}=e.nativeEvent;if(s.start.includes(i)){const t=r.activatorNode.current;return(!t||e.target===t)&&(e.preventDefault(),null==a||a({event:e.nativeEvent}),!0)}return!1}}];class Uu{constructor(e,t,n){var s;void 0===n&&(n=function(e){const{EventTarget:t}=vd(e);return e instanceof t?e:Nd(e)}(e.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=e,this.events=t;const{event:a}=e,{target:r}=a;this.props=e,this.events=t,this.document=Nd(r),this.documentListeners=new Eu(this.document),this.listeners=new Eu(n),this.windowListeners=new Eu(vd(r)),this.initialCoordinates=null!=(s=Od(a))?s:Jd,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:e,props:{options:{activationConstraint:t,bypassActivationConstraint:n}}}=this;if(this.listeners.add(e.move.name,this.handleMove,{passive:!1}),this.listeners.add(e.end.name,this.handleEnd),e.cancel&&this.listeners.add(e.cancel.name,this.handleCancel),this.windowListeners.add(Mu.Resize,this.handleCancel),this.windowListeners.add(Mu.DragStart,Fu),this.windowListeners.add(Mu.VisibilityChange,this.handleCancel),this.windowListeners.add(Mu.ContextMenu,Fu),this.documentListeners.add(Mu.Keydown,this.handleKeydown),t){if(null!=n&&n({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(Hu(t))return this.timeoutId=setTimeout(this.handleStart,t.delay),void this.handlePending(t);if(Wu(t))return void this.handlePending(t)}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),null!==this.timeoutId&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(e,t){const{active:n,onPending:s}=this.props;s(n,e,this.initialCoordinates,t)}handleStart(){const{initialCoordinates:e}=this,{onStart:t}=this.props;e&&(this.activated=!0,this.documentListeners.add(Mu.Click,Iu,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(Mu.SelectionChange,this.removeTextSelection),t(e))}handleMove(e){var t;const{activated:n,initialCoordinates:s,props:a}=this,{onMove:r,options:{activationConstraint:i}}=a;if(!s)return;const l=null!=(t=Od(e))?t:Jd,o=Rd(s,l);if(!n&&i){if(Wu(i)){if(null!=i.tolerance&&zu(o,i.tolerance))return this.handleCancel();if(zu(o,i.distance))return this.handleStart()}return Hu(i)&&zu(o,i.tolerance)?this.handleCancel():void this.handlePending(i,o)}e.cancelable&&e.preventDefault(),r(l)}handleEnd(){const{onAbort:e,onEnd:t}=this.props;this.detach(),this.activated||e(this.props.active),t()}handleCancel(){const{onAbort:e,onCancel:t}=this.props;this.detach(),this.activated||e(this.props.active),t()}handleKeydown(e){e.code===Au.Esc&&this.handleCancel()}removeTextSelection(){var e;null==(e=this.document.getSelection())||e.removeAllRanges()}}const Vu={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class qu extends Uu{constructor(e){const{event:t}=e,n=Nd(t.target);super(e,Vu,n)}}qu.activators=[{eventName:"onPointerDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:s}=t;return!(!n.isPrimary||0!==n.button)&&(null==s||s({event:n}),!0)}}];const Yu={move:{name:"mousemove"},end:{name:"mouseup"}};var Gu,Xu;(Xu=Gu||(Gu={}))[Xu.RightClick=2]="RightClick";class Qu extends Uu{constructor(e){super(e,Yu,Nd(e.event.target))}}Qu.activators=[{eventName:"onMouseDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:s}=t;return n.button!==Gu.RightClick&&(null==s||s({event:n}),!0)}}];const Ku={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class Ju extends Uu{constructor(e){super(e,Ku)}static setup(){return window.addEventListener(Ku.move.name,e,{capture:!1,passive:!1}),function(){window.removeEventListener(Ku.move.name,e)};function e(){}}}var Zu,eh,th,nh;function sh(e){let{acceleration:t,activator:n=Zu.Pointer,canScroll:s,draggingRect:a,enabled:r,interval:i=5,order:l=th.TreeOrder,pointerCoordinates:o,scrollableAncestors:c,scrollableAncestorRects:d,delta:u,threshold:h}=e;const m=function(e){let{delta:t,disabled:n}=e;const s=Dd(t);return _d(e=>{if(n||!s||!e)return ah;const a={x:Math.sign(t.x-s.x),y:Math.sign(t.y-s.y)};return{x:{[yu.Backward]:e.x[yu.Backward]||-1===a.x,[yu.Forward]:e.x[yu.Forward]||1===a.x},y:{[yu.Backward]:e.y[yu.Backward]||-1===a.y,[yu.Forward]:e.y[yu.Forward]||1===a.y}}},[n,t,s])}({delta:u,disabled:!r}),[p,f]=function(){const e=vt.useRef(null);return[vt.useCallback((t,n)=>{e.current=setInterval(t,n)},[]),vt.useCallback(()=>{null!==e.current&&(clearInterval(e.current),e.current=null)},[])]}(),x=vt.useRef({x:0,y:0}),g=vt.useRef({x:0,y:0}),b=vt.useMemo(()=>{switch(n){case Zu.Pointer:return o?{top:o.y,bottom:o.y,left:o.x,right:o.x}:null;case Zu.DraggableRect:return a}},[n,a,o]),v=vt.useRef(null),y=vt.useCallback(()=>{const e=v.current;if(!e)return;const t=x.current.x*g.current.x,n=x.current.y*g.current.y;e.scrollBy(t,n)},[]),w=vt.useMemo(()=>l===th.TreeOrder?[...c].reverse():c,[l,c]);vt.useEffect(()=>{if(r&&c.length&&b){for(const e of w){if(!1===(null==s?void 0:s(e)))continue;const n=c.indexOf(e),a=d[n];if(!a)continue;const{direction:r,speed:l}=Su(e,a,b,t,h);for(const e of["x","y"])m[e][r[e]]||(l[e]=0,r[e]=0);if(l.x>0||l.y>0)return f(),v.current=e,p(y,i),x.current=l,void(g.current=r)}x.current={x:0,y:0},g.current={x:0,y:0},f()}else f()},[t,y,s,f,r,i,JSON.stringify(b),JSON.stringify(m),p,c,w,d,JSON.stringify(h)])}Ju.activators=[{eventName:"onTouchStart",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:s}=t;const{touches:a}=n;return!(a.length>1)&&(null==s||s({event:n}),!0)}}],(eh=Zu||(Zu={}))[eh.Pointer=0]="Pointer",eh[eh.DraggableRect=1]="DraggableRect",(nh=th||(th={}))[nh.TreeOrder=0]="TreeOrder",nh[nh.ReversedTreeOrder=1]="ReversedTreeOrder";const ah={x:{[yu.Backward]:!1,[yu.Forward]:!1},y:{[yu.Backward]:!1,[yu.Forward]:!1}};var rh,ih,lh;(ih=rh||(rh={}))[ih.Always=0]="Always",ih[ih.BeforeDragging=1]="BeforeDragging",ih[ih.WhileDragging=2]="WhileDragging",(lh||(lh={})).Optimized="optimized";const oh=new Map;function ch(e,t){return _d(n=>e?n||("function"==typeof t?t(e):e):null,[t,e])}function dh(e){let{callback:t,disabled:n}=e;const s=Sd(t),a=vt.useMemo(()=>{if(n||"undefined"==typeof window||void 0===window.ResizeObserver)return;const{ResizeObserver:e}=window;return new e(s)},[n]);return vt.useEffect(()=>()=>null==a?void 0:a.disconnect(),[a]),a}function uh(e){return new Tu(hu(e),e)}function hh(e,t,n){void 0===t&&(t=uh);const[s,a]=vt.useState(null);function r(){a(s=>{if(!e)return null;var a;if(!1===e.isConnected)return null!=(a=null!=s?s:n)?a:null;const r=t(e);return JSON.stringify(s)===JSON.stringify(r)?s:r})}const i=function(e){let{callback:t,disabled:n}=e;const s=Sd(t),a=vt.useMemo(()=>{if(n||"undefined"==typeof window||void 0===window.MutationObserver)return;const{MutationObserver:e}=window;return new e(s)},[s,n]);return vt.useEffect(()=>()=>null==a?void 0:a.disconnect(),[a]),a}({callback(t){if(e)for(const n of t){const{type:t,target:s}=n;if("childList"===t&&s instanceof HTMLElement&&s.contains(e)){r();break}}}}),l=dh({callback:r});return kd(()=>{r(),e?(null==l||l.observe(e),null==i||i.observe(document.body,{childList:!0,subtree:!0})):(null==l||l.disconnect(),null==i||i.disconnect())},[e]),s}const mh=[];function ph(e,t){void 0===t&&(t=[]);const n=vt.useRef(null);return vt.useEffect(()=>{n.current=null},t),vt.useEffect(()=>{const t=e!==Jd;t&&!n.current&&(n.current=e),!t&&n.current&&(n.current=null)},[e]),n.current?Rd(e,n.current):Jd}function fh(e){return vt.useMemo(()=>e?function(e){const t=e.innerWidth,n=e.innerHeight;return{top:0,left:0,right:t,bottom:n,width:t,height:n}}(e):null,[e])}const xh=[];function gh(e){if(!e)return null;if(e.children.length>1)return e;const t=e.children[0];return wd(t)?t:e}const bh=[{sensor:qu,options:{}},{sensor:$u,options:{}}],vh={current:{}},yh={draggable:{measure:mu},droppable:{measure:mu,strategy:rh.WhileDragging,frequency:lh.Optimized},dragOverlay:{measure:hu}};class wh extends Map{get(e){var t;return null!=e&&null!=(t=super.get(e))?t:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(e=>{let{disabled:t}=e;return!t})}getNodeFor(e){var t,n;return null!=(t=null==(n=this.get(e))?void 0:n.node.current)?t:void 0}}const jh={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new wh,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:Xd},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:yh,measureDroppableContainers:Xd,windowRect:null,measuringScheduled:!1},Nh={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:Xd,draggableNodes:new Map,over:null,measureDroppableContainers:Xd},kh=vt.createContext(Nh),Sh=vt.createContext(jh);function Ch(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new wh}}}function _h(e,t){switch(t.type){case Yd.DragStart:return{...e,draggable:{...e.draggable,initialCoordinates:t.initialCoordinates,active:t.active}};case Yd.DragMove:return null==e.draggable.active?e:{...e,draggable:{...e.draggable,translate:{x:t.coordinates.x-e.draggable.initialCoordinates.x,y:t.coordinates.y-e.draggable.initialCoordinates.y}}};case Yd.DragEnd:case Yd.DragCancel:return{...e,draggable:{...e.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case Yd.RegisterDroppable:{const{element:n}=t,{id:s}=n,a=new wh(e.droppable.containers);return a.set(s,n),{...e,droppable:{...e.droppable,containers:a}}}case Yd.SetDroppableDisabled:{const{id:n,key:s,disabled:a}=t,r=e.droppable.containers.get(n);if(!r||s!==r.key)return e;const i=new wh(e.droppable.containers);return i.set(n,{...r,disabled:a}),{...e,droppable:{...e.droppable,containers:i}}}case Yd.UnregisterDroppable:{const{id:n,key:s}=t,a=e.droppable.containers.get(n);if(!a||s!==a.key)return e;const r=new wh(e.droppable.containers);return r.delete(n),{...e,droppable:{...e.droppable,containers:r}}}default:return e}}function Ph(e){let{disabled:t}=e;const{active:n,activatorEvent:s,draggableNodes:a}=vt.useContext(kh),r=Dd(s),i=Dd(null==n?void 0:n.id);return vt.useEffect(()=>{if(!t&&!s&&r&&null!=i){if(!Ad(r))return;if(document.activeElement===r.target)return;const e=a.get(i);if(!e)return;const{activatorNode:t,node:n}=e;if(!t.current&&!n.current)return;requestAnimationFrame(()=>{for(const e of[t.current,n.current]){if(!e)continue;const t=Ld(e);if(t){t.focus();break}}})}},[s,t,a,i,r]),null}function Dh(e,t){let{transform:n,...s}=t;return null!=e&&e.length?e.reduce((e,t)=>t({transform:e,...s}),n):n}const Th=vt.createContext({...Jd,scaleX:1,scaleY:1});var Eh,zh;(zh=Eh||(Eh={}))[zh.Uninitialized=0]="Uninitialized",zh[zh.Initializing=1]="Initializing",zh[zh.Initialized=2]="Initialized";const Mh=vt.memo(function(e){var t,n,s,a;let{id:r,accessibility:i,autoScroll:l=!0,children:o,sensors:c=bh,collisionDetection:d=iu,measuring:u,modifiers:h,...m}=e;const p=vt.useReducer(_h,void 0,Ch),[f,x]=p,[g,b]=function(){const[e]=vt.useState(()=>new Set),t=vt.useCallback(t=>(e.add(t),()=>e.delete(t)),[e]);return[vt.useCallback(t=>{let{type:n,event:s}=t;e.forEach(e=>{var t;return null==(t=e[n])?void 0:t.call(e,s)})},[e]),t]}(),[v,y]=vt.useState(Eh.Uninitialized),w=v===Eh.Initialized,{draggable:{active:j,nodes:N,translate:k},droppable:{containers:S}}=f,C=null!=j?N.get(j):null,_=vt.useRef({initial:null,translated:null}),P=vt.useMemo(()=>{var e;return null!=j?{id:j,data:null!=(e=null==C?void 0:C.data)?e:vh,rect:_}:null},[j,C]),D=vt.useRef(null),[T,E]=vt.useState(null),[z,M]=vt.useState(null),R=Cd(m,Object.values(m)),A=Ed("DndDescribedBy",r),O=vt.useMemo(()=>S.getEnabled(),[S]),F=(I=u,vt.useMemo(()=>({draggable:{...yh.draggable,...null==I?void 0:I.draggable},droppable:{...yh.droppable,...null==I?void 0:I.droppable},dragOverlay:{...yh.dragOverlay,...null==I?void 0:I.dragOverlay}}),[null==I?void 0:I.draggable,null==I?void 0:I.droppable,null==I?void 0:I.dragOverlay]));var I;const{droppableRects:L,measureDroppableContainers:B,measuringScheduled:$}=function(e,t){let{dragging:n,dependencies:s,config:a}=t;const[r,i]=vt.useState(null),{frequency:l,measure:o,strategy:c}=a,d=vt.useRef(e),u=function(){switch(c){case rh.Always:return!1;case rh.BeforeDragging:return n;default:return!n}}(),h=Cd(u),m=vt.useCallback(function(e){void 0===e&&(e=[]),h.current||i(t=>null===t?e:t.concat(e.filter(e=>!t.includes(e))))},[h]),p=vt.useRef(null),f=_d(t=>{if(u&&!n)return oh;if(!t||t===oh||d.current!==e||null!=r){const t=new Map;for(let n of e){if(!n)continue;if(r&&r.length>0&&!r.includes(n.id)&&n.rect.current){t.set(n.id,n.rect.current);continue}const e=n.node.current,s=e?new Tu(o(e),e):null;n.rect.current=s,s&&t.set(n.id,s)}return t}return t},[e,r,n,u,o]);return vt.useEffect(()=>{d.current=e},[e]),vt.useEffect(()=>{u||m()},[n,u]),vt.useEffect(()=>{r&&r.length>0&&i(null)},[JSON.stringify(r)]),vt.useEffect(()=>{u||"number"!=typeof l||null!==p.current||(p.current=setTimeout(()=>{m(),p.current=null},l))},[l,u,m,...s]),{droppableRects:f,measureDroppableContainers:m,measuringScheduled:null!=r}}(O,{dragging:w,dependencies:[k.x,k.y],config:F.droppable}),W=function(e,t){const n=null!=t?e.get(t):void 0,s=n?n.node.current:null;return _d(e=>{var n;return null==t?null:null!=(n=null!=s?s:e)?n:null},[s,t])}(N,j),H=vt.useMemo(()=>z?Od(z):null,[z]),U=function(){const e=!1===(null==T?void 0:T.autoScrollEnabled),t="object"==typeof l?!1===l.enabled:!1===l,n=w&&!e&&!t;if("object"==typeof l)return{...l,enabled:n};return{enabled:n}}(),V=function(e,t){return ch(e,t)}(W,F.draggable.measure);!function(e){let{activeNode:t,measure:n,initialRect:s,config:a=!0}=e;const r=vt.useRef(!1),{x:i,y:l}="boolean"==typeof a?{x:a,y:a}:a;kd(()=>{if(!i&&!l||!t)return void(r.current=!1);if(r.current||!s)return;const e=null==t?void 0:t.node.current;if(!e||!1===e.isConnected)return;const a=lu(n(e),s);if(i||(a.x=0),l||(a.y=0),r.current=!0,Math.abs(a.x)>0||Math.abs(a.y)>0){const t=fu(e);t&&t.scrollBy({top:a.y,left:a.x})}},[t,i,l,s,n])}({activeNode:null!=j?N.get(j):null,config:U.layoutShiftCompensation,initialRect:V,measure:F.draggable.measure});const q=hh(W,F.draggable.measure,V),Y=hh(W?W.parentElement:null),G=vt.useRef({activatorEvent:null,active:null,activeNode:W,collisionRect:null,collisions:null,droppableRects:L,draggableNodes:N,draggingNode:null,draggingNodeRect:null,droppableContainers:S,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),X=S.getNodeFor(null==(t=G.current.over)?void 0:t.id),Q=function(e){let{measure:t}=e;const[n,s]=vt.useState(null),a=dh({callback:vt.useCallback(e=>{for(const{target:n}of e)if(wd(n)){s(e=>{const s=t(n);return e?{...e,width:s.width,height:s.height}:s});break}},[t])}),r=vt.useCallback(e=>{const n=gh(e);null==a||a.disconnect(),n&&(null==a||a.observe(n)),s(n?t(n):null)},[t,a]),[i,l]=Pd(r);return vt.useMemo(()=>({nodeRef:i,rect:n,setRef:l}),[n,i,l])}({measure:F.dragOverlay.measure}),K=null!=(n=Q.nodeRef.current)?n:W,J=w?null!=(s=Q.rect)?s:q:null,Z=Boolean(Q.nodeRef.current&&Q.rect),ee=lu(te=Z?null:q,ch(te));var te;const ne=fh(K?vd(K):null),se=function(e){const t=vt.useRef(e),n=_d(n=>e?n&&n!==mh&&e&&t.current&&e.parentNode===t.current.parentNode?n:pu(e):mh,[e]);return vt.useEffect(()=>{t.current=e},[e]),n}(w?null!=X?X:W:null),ae=function(e,t){void 0===t&&(t=hu);const[n]=e,s=fh(n?vd(n):null),[a,r]=vt.useState(xh);function i(){r(()=>e.length?e.map(e=>ju(e)?s:new Tu(t(e),e)):xh)}const l=dh({callback:i});return kd(()=>{null==l||l.disconnect(),i(),e.forEach(e=>null==l?void 0:l.observe(e))},[e]),a}(se),re=Dh(h,{transform:{x:k.x-ee.x,y:k.y-ee.y,scaleX:1,scaleY:1},activatorEvent:z,active:P,activeNodeRect:q,containerNodeRect:Y,draggingNodeRect:J,over:G.current.over,overlayNodeRect:Q.rect,scrollableAncestors:se,scrollableAncestorRects:ae,windowRect:ne}),ie=H?Md(H,k):null,le=function(e){const[t,n]=vt.useState(null),s=vt.useRef(e),a=vt.useCallback(e=>{const t=xu(e.target);t&&n(e=>e?(e.set(t,vu(t)),new Map(e)):null)},[]);return vt.useEffect(()=>{const t=s.current;if(e!==t){r(t);const i=e.map(e=>{const t=xu(e);return t?(t.addEventListener("scroll",a,{passive:!0}),[t,vu(t)]):null}).filter(e=>null!=e);n(i.length?new Map(i):null),s.current=e}return()=>{r(e),r(t)};function r(e){e.forEach(e=>{const t=xu(e);null==t||t.removeEventListener("scroll",a)})}},[a,e]),vt.useMemo(()=>e.length?t?Array.from(t.values()).reduce((e,t)=>Md(e,t),Jd):_u(e):Jd,[e,t])}(se),oe=ph(le),ce=ph(le,[q]),de=Md(re,oe),ue=J?cu(J,re):null,he=P&&ue?d({active:P,collisionRect:ue,droppableRects:L,droppableContainers:O,pointerCoordinates:ie}):null,me=function(e,t){if(!e||0===e.length)return null;const[n]=e;return n[t]}(he,"id"),[pe,fe]=vt.useState(null),xe=function(e,t,n){return{...e,scaleX:t&&n?t.width/n.width:1,scaleY:t&&n?t.height/n.height:1}}(Z?re:Md(re,ce),null!=(a=null==pe?void 0:pe.rect)?a:null,q),ge=vt.useRef(null),be=vt.useCallback((e,t)=>{let{sensor:n,options:s}=t;if(null==D.current)return;const a=N.get(D.current);if(!a)return;const r=e.nativeEvent,i=new n({active:D.current,activeNode:a,event:r,options:s,context:G,onAbort(e){if(!N.get(e))return;const{onDragAbort:t}=R.current,n={id:e};null==t||t(n),g({type:"onDragAbort",event:n})},onPending(e,t,n,s){if(!N.get(e))return;const{onDragPending:a}=R.current,r={id:e,constraint:t,initialCoordinates:n,offset:s};null==a||a(r),g({type:"onDragPending",event:r})},onStart(e){const t=D.current;if(null==t)return;const n=N.get(t);if(!n)return;const{onDragStart:s}=R.current,a={activatorEvent:r,active:{id:t,data:n.data,rect:_}};Pt.unstable_batchedUpdates(()=>{null==s||s(a),y(Eh.Initializing),x({type:Yd.DragStart,initialCoordinates:e,active:t}),g({type:"onDragStart",event:a}),E(ge.current),M(r)})},onMove(e){x({type:Yd.DragMove,coordinates:e})},onEnd:l(Yd.DragEnd),onCancel:l(Yd.DragCancel)});function l(e){return async function(){const{active:t,collisions:n,over:s,scrollAdjustedTranslate:a}=G.current;let i=null;if(t&&a){const{cancelDrop:l}=R.current;if(i={activatorEvent:r,active:t,collisions:n,delta:a,over:s},e===Yd.DragEnd&&"function"==typeof l){await Promise.resolve(l(i))&&(e=Yd.DragCancel)}}D.current=null,Pt.unstable_batchedUpdates(()=>{x({type:e}),y(Eh.Uninitialized),fe(null),E(null),M(null),ge.current=null;const t=e===Yd.DragEnd?"onDragEnd":"onDragCancel";if(i){const e=R.current[t];null==e||e(i),g({type:t,event:i})}})}}ge.current=i},[N]),ve=function(e,t){return vt.useMemo(()=>e.reduce((e,n)=>{const{sensor:s}=n;return[...e,...s.activators.map(e=>({eventName:e.eventName,handler:t(e.handler,n)}))]},[]),[e,t])}(c,vt.useCallback((e,t)=>(n,s)=>{const a=n.nativeEvent,r=N.get(s);if(null!==D.current||!r||a.dndKit||a.defaultPrevented)return;const i={active:r};!0===e(n,t.options,i)&&(a.dndKit={capturedBy:t.sensor},D.current=s,be(n,t))},[N,be]));!function(e){vt.useEffect(()=>{if(!xd)return;const t=e.map(e=>{let{sensor:t}=e;return null==t.setup?void 0:t.setup()});return()=>{for(const e of t)null==e||e()}},e.map(e=>{let{sensor:t}=e;return t}))}(c),kd(()=>{q&&v===Eh.Initializing&&y(Eh.Initialized)},[q,v]),vt.useEffect(()=>{const{onDragMove:e}=R.current,{active:t,activatorEvent:n,collisions:s,over:a}=G.current;if(!t||!n)return;const r={active:t,activatorEvent:n,collisions:s,delta:{x:de.x,y:de.y},over:a};Pt.unstable_batchedUpdates(()=>{null==e||e(r),g({type:"onDragMove",event:r})})},[de.x,de.y]),vt.useEffect(()=>{const{active:e,activatorEvent:t,collisions:n,droppableContainers:s,scrollAdjustedTranslate:a}=G.current;if(!e||null==D.current||!t||!a)return;const{onDragOver:r}=R.current,i=s.get(me),l=i&&i.rect.current?{id:i.id,rect:i.rect.current,data:i.data,disabled:i.disabled}:null,o={active:e,activatorEvent:t,collisions:n,delta:{x:a.x,y:a.y},over:l};Pt.unstable_batchedUpdates(()=>{fe(l),null==r||r(o),g({type:"onDragOver",event:o})})},[me]),kd(()=>{G.current={activatorEvent:z,active:P,activeNode:W,collisionRect:ue,collisions:he,droppableRects:L,draggableNodes:N,draggingNode:K,draggingNodeRect:J,droppableContainers:S,over:pe,scrollableAncestors:se,scrollAdjustedTranslate:de},_.current={initial:J,translated:ue}},[P,W,he,ue,N,K,J,L,S,pe,se,de]),sh({...U,delta:k,draggingRect:ue,pointerCoordinates:ie,scrollableAncestors:se,scrollableAncestorRects:ae});const ye=vt.useMemo(()=>({active:P,activeNode:W,activeNodeRect:q,activatorEvent:z,collisions:he,containerNodeRect:Y,dragOverlay:Q,draggableNodes:N,droppableContainers:S,droppableRects:L,over:pe,measureDroppableContainers:B,scrollableAncestors:se,scrollableAncestorRects:ae,measuringConfiguration:F,measuringScheduled:$,windowRect:ne}),[P,W,q,z,he,Y,Q,N,S,L,pe,B,se,ae,F,$,ne]),we=vt.useMemo(()=>({activatorEvent:z,activators:ve,active:P,activeNodeRect:q,ariaDescribedById:{draggable:A},dispatch:x,draggableNodes:N,over:pe,measureDroppableContainers:B}),[z,ve,P,q,x,A,N,pe,B]);return yt.createElement(Hd.Provider,{value:b},yt.createElement(kh.Provider,{value:we},yt.createElement(Sh.Provider,{value:ye},yt.createElement(Th.Provider,{value:xe},o)),yt.createElement(Ph,{disabled:!1===(null==i?void 0:i.restoreFocus)})),yt.createElement(qd,{...i,hiddenTextDescribedById:A}))}),Rh=vt.createContext(null),Ah="button";function Oh(e){let{id:t,data:n,disabled:s=!1,attributes:a}=e;const r=Ed("Draggable"),{activators:i,activatorEvent:l,active:o,activeNodeRect:c,ariaDescribedById:d,draggableNodes:u,over:h}=vt.useContext(kh),{role:m=Ah,roleDescription:p="draggable",tabIndex:f=0}=null!=a?a:{},x=(null==o?void 0:o.id)===t,g=vt.useContext(x?Th:Rh),[b,v]=Pd(),[y,w]=Pd(),j=function(e,t){return vt.useMemo(()=>e.reduce((e,n)=>{let{eventName:s,handler:a}=n;return e[s]=e=>{a(e,t)},e},{}),[e,t])}(i,t),N=Cd(n);kd(()=>(u.set(t,{id:t,key:r,node:b,activatorNode:y,data:N}),()=>{const e=u.get(t);e&&e.key===r&&u.delete(t)}),[u,t]);return{active:o,activatorEvent:l,activeNodeRect:c,attributes:vt.useMemo(()=>({role:m,tabIndex:f,"aria-disabled":s,"aria-pressed":!(!x||m!==Ah)||void 0,"aria-roledescription":p,"aria-describedby":d.draggable}),[s,m,f,x,p,d.draggable]),isDragging:x,listeners:s?void 0:j,node:b,over:h,setNodeRef:v,setActivatorNodeRef:w,transform:g}}function Fh(){return vt.useContext(Sh)}const Ih={timeout:25};function Lh(e){let{data:t,disabled:n=!1,id:s,resizeObserverConfig:a}=e;const r=Ed("Droppable"),{active:i,dispatch:l,over:o,measureDroppableContainers:c}=vt.useContext(kh),d=vt.useRef({disabled:n}),u=vt.useRef(!1),h=vt.useRef(null),m=vt.useRef(null),{disabled:p,updateMeasurementsFor:f,timeout:x}={...Ih,...a},g=Cd(null!=f?f:s),b=dh({callback:vt.useCallback(()=>{u.current?(null!=m.current&&clearTimeout(m.current),m.current=setTimeout(()=>{c(Array.isArray(g.current)?g.current:[g.current]),m.current=null},x)):u.current=!0},[x]),disabled:p||!i}),v=vt.useCallback((e,t)=>{b&&(t&&(b.unobserve(t),u.current=!1),e&&b.observe(e))},[b]),[y,w]=Pd(v),j=Cd(t);return vt.useEffect(()=>{b&&y.current&&(b.disconnect(),u.current=!1,b.observe(y.current))},[y,b]),vt.useEffect(()=>(l({type:Yd.RegisterDroppable,element:{id:s,key:r,disabled:n,node:y,rect:h,data:j}}),()=>l({type:Yd.UnregisterDroppable,key:r,id:s})),[s]),vt.useEffect(()=>{n!==d.current.disabled&&(l({type:Yd.SetDroppableDisabled,id:s,key:r,disabled:n}),d.current.disabled=n)},[s,r,n,l]),{active:i,rect:h,isOver:(null==o?void 0:o.id)===s,node:y,over:o,setNodeRef:w}}function Bh(e){let{animation:t,children:n}=e;const[s,a]=vt.useState(null),[r,i]=vt.useState(null),l=Dd(n);return n||s||!l||a(l),kd(()=>{if(!r)return;const e=null==s?void 0:s.key,n=null==s?void 0:s.props.id;null!=e&&null!=n?Promise.resolve(t(n,r)).then(()=>{a(null)}):a(null)},[t,s,r]),yt.createElement(yt.Fragment,null,n,s?vt.cloneElement(s,{ref:i}):null)}const $h={x:0,y:0,scaleX:1,scaleY:1};function Wh(e){let{children:t}=e;return yt.createElement(kh.Provider,{value:Nh},yt.createElement(Th.Provider,{value:$h},t))}const Hh={position:"fixed",touchAction:"none"},Uh=e=>Ad(e)?"transform 250ms ease":void 0,Vh=vt.forwardRef((e,t)=>{let{as:n,activatorEvent:s,adjustScale:a,children:r,className:i,rect:l,style:o,transform:c,transition:d=Uh}=e;if(!l)return null;const u=a?c:{...c,scaleX:1,scaleY:1},h={...Hh,width:l.width,height:l.height,top:l.top,left:l.left,transform:Fd.Transform.toString(u),transformOrigin:a&&s?eu(s,l):void 0,transition:"function"==typeof d?d(s):d,...o};return yt.createElement(n,{className:i,style:h,ref:t},r)}),qh={duration:250,easing:"ease",keyframes:e=>{let{transform:{initial:t,final:n}}=e;return[{transform:Fd.Transform.toString(t)},{transform:Fd.Transform.toString(n)}]},sideEffects:(e=>t=>{let{active:n,dragOverlay:s}=t;const a={},{styles:r,className:i}=e;if(null!=r&&r.active)for(const[e,l]of Object.entries(r.active))void 0!==l&&(a[e]=n.node.style.getPropertyValue(e),n.node.style.setProperty(e,l));if(null!=r&&r.dragOverlay)for(const[e,l]of Object.entries(r.dragOverlay))void 0!==l&&s.node.style.setProperty(e,l);return null!=i&&i.active&&n.node.classList.add(i.active),null!=i&&i.dragOverlay&&s.node.classList.add(i.dragOverlay),function(){for(const[e,t]of Object.entries(a))n.node.style.setProperty(e,t);null!=i&&i.active&&n.node.classList.remove(i.active)}})({styles:{active:{opacity:"0"}}})};function Yh(e){let{config:t,draggableNodes:n,droppableContainers:s,measuringConfiguration:a}=e;return Sd((e,r)=>{if(null===t)return;const i=n.get(e);if(!i)return;const l=i.node.current;if(!l)return;const o=gh(r);if(!o)return;const{transform:c}=vd(r).getComputedStyle(r),d=du(c);if(!d)return;const u="function"==typeof t?t:function(e){const{duration:t,easing:n,sideEffects:s,keyframes:a}={...qh,...e};return e=>{let{active:r,dragOverlay:i,transform:l,...o}=e;if(!t)return;const c={x:i.rect.left-r.rect.left,y:i.rect.top-r.rect.top},d={scaleX:1!==l.scaleX?r.rect.width*l.scaleX/i.rect.width:1,scaleY:1!==l.scaleY?r.rect.height*l.scaleY/i.rect.height:1},u={x:l.x-c.x,y:l.y-c.y,...d},h=a({...o,active:r,dragOverlay:i,transform:{initial:l,final:u}}),[m]=h,p=h[h.length-1];if(JSON.stringify(m)===JSON.stringify(p))return;const f=null==s?void 0:s({active:r,dragOverlay:i,...o}),x=i.node.animate(h,{duration:t,easing:n,fill:"forwards"});return new Promise(e=>{x.onfinish=()=>{null==f||f(),e()}})}}(t);return Pu(l,a.draggable.measure),u({active:{id:e,data:i.data,node:l,rect:a.draggable.measure(l)},draggableNodes:n,dragOverlay:{node:r,rect:a.dragOverlay.measure(o)},droppableContainers:s,measuringConfiguration:a,transform:d})})}let Gh=0;const Xh=yt.memo(e=>{let{adjustScale:t=!1,children:n,dropAnimation:s,style:a,transition:r,modifiers:i,wrapperElement:l="div",className:o,zIndex:c=999}=e;const{activatorEvent:d,active:u,activeNodeRect:h,containerNodeRect:m,draggableNodes:p,droppableContainers:f,dragOverlay:x,over:g,measuringConfiguration:b,scrollableAncestors:v,scrollableAncestorRects:y,windowRect:w}=Fh(),j=vt.useContext(Th),N=(k=null==u?void 0:u.id,vt.useMemo(()=>{if(null!=k)return Gh++,Gh},[k]));var k;const S=Dh(i,{activatorEvent:d,active:u,activeNodeRect:h,containerNodeRect:m,draggingNodeRect:x.rect,over:g,overlayNodeRect:x.rect,scrollableAncestors:v,scrollableAncestorRects:y,transform:j,windowRect:w}),C=ch(h),_=Yh({config:s,draggableNodes:p,droppableContainers:f,measuringConfiguration:b}),P=C?x.setRef:void 0;return yt.createElement(Wh,null,yt.createElement(Bh,{animation:_},u&&N?yt.createElement(Vh,{key:N,id:u.id,ref:P,as:l,activatorEvent:d,adjustScale:t,className:o,transition:r,rect:C,style:{zIndex:c,...a},transform:S},n):null))}),Qh=({title:t,icon:n,isOpen:r,isComplete:i,onClick:l,children:o})=>e.jsxs("div",{className:"border-b border-slate-100 last:border-none",children:[e.jsxs("button",{onClick:l,className:"w-full flex items-center justify-between p-4 transition-all duration-200 "+(r?"bg-indigo-50/50 text-indigo-700":"text-slate-600 hover:bg-slate-50 hover:text-slate-900"),children:[e.jsxs("div",{className:"flex items-center gap-3 font-semibold text-sm",children:[n&&e.jsx(n,{size:18,className:"transition-colors duration-200 "+(r?"text-indigo-600":i?"text-emerald-500":"text-slate-400 group-hover:text-slate-500")}),e.jsx("span",{children:t})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[i&&e.jsx(A,{size:16,className:"text-emerald-500"}),e.jsx(a.div,{animate:{rotate:r?180:0},transition:{duration:.2},children:e.jsx(g,{size:16})})]})]}),e.jsx(s,{initial:!1,children:r&&e.jsx(a.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.3,ease:"easeInOut"},className:"overflow-hidden",children:e.jsx("div",{className:"p-4 pt-0 space-y-4",children:o})})})]}),Kh=({label:t,name:n,value:s,onChange:a,placeholder:r,type:i="text",rows:l,className:o=""})=>e.jsxs("div",{className:o,children:[e.jsx("label",{className:"block text-[11px] font-bold text-slate-500 uppercase tracking-wider mb-1.5",children:t}),l?e.jsx("textarea",{name:n,value:s||"",onChange:a,placeholder:r,rows:l,className:"w-full px-3 py-2.5 bg-white border border-slate-200 rounded-lg text-sm text-slate-700 shadow-sm focus:ring-4 focus:ring-indigo-500/10 focus:border-indigo-500 outline-none transition-all duration-200 placeholder-slate-400 resize-y hover:border-slate-300"}):e.jsx("input",{type:i,name:n,value:s||"",onChange:a,placeholder:r,className:"w-full px-3 py-2.5 bg-white border border-slate-200 rounded-lg text-sm text-slate-700 shadow-sm focus:ring-4 focus:ring-indigo-500/10 focus:border-indigo-500 outline-none transition-all duration-200 placeholder-slate-400 hover:border-slate-300"})]}),Jh=({section:t,onUpdate:n,onRemove:r,isFixed:i=!1,placeholderTitle:l="Section Title",placeholderContent:o="Content...",children:c})=>{const[d,u]=vt.useState(!0);return e.jsxs("div",{className:"group relative pl-4",children:[e.jsx("div",{className:"absolute left-[7px] top-8 bottom-[-8px] w-[2px] bg-slate-100 group-last:hidden"}),e.jsx("div",{className:"absolute left-0 top-6 w-4 h-4 rounded-full border-2 border-indigo-100 bg-white z-10 flex items-center justify-center",children:e.jsx("div",{className:"w-1.5 h-1.5 rounded-full "+(i?"bg-slate-300":"bg-indigo-500")})}),e.jsxs("div",{className:"bg-white border rounded-xl shadow-sm transition-all duration-200 "+(d?"border-indigo-200 shadow-md ring-1 ring-indigo-500/10":"border-slate-200 hover:border-indigo-300"),children:[e.jsxs("div",{className:"flex items-center gap-3 p-3 select-none",children:[!i&&e.jsx("div",{className:"cursor-grab active:cursor-grabbing text-slate-300 hover:text-indigo-500 transition-colors p-1",children:e.jsx(ee,{size:18})}),e.jsx("button",{onClick:()=>u(!d),className:"p-1 text-slate-400 hover:text-indigo-600 rounded-md hover:bg-indigo-50 transition-colors",children:d?e.jsx(g,{size:18}):e.jsx(M,{size:18})}),e.jsx("div",{className:"flex-1 min-w-0",children:i?e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-xs font-bold uppercase tracking-wider text-slate-500",children:t.title}),e.jsx("span",{className:"px-1.5 py-0.5 rounded text-[10px] font-bold bg-slate-100 text-slate-400 border border-slate-200",children:"FIXED"})]}):e.jsx("input",{type:"text",value:t.title||"",onChange:e=>n("title",e.target.value),placeholder:l,className:"w-full bg-transparent text-sm font-bold text-slate-800 placeholder-slate-300 focus:outline-none focus:placeholder-slate-400",onClick:e=>e.stopPropagation()})}),!i&&e.jsx("button",{onClick:r,className:"p-2 text-slate-300 hover:text-red-500 hover:bg-red-50 rounded-lg transition-all opacity-0 group-hover:opacity-100",title:"Remove Section",children:e.jsx(te,{size:16})})]}),e.jsx(s,{children:d&&e.jsx(a.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.2},className:"overflow-hidden",children:e.jsx("div",{className:"p-3 pt-0 border-t border-slate-50",children:i?c:e.jsx("textarea",{value:t.content||"",onChange:e=>n("content",e.target.value),rows:4,className:"w-full mt-3 p-3 text-sm text-slate-600 bg-slate-50 border border-slate-100 rounded-lg focus:bg-white focus:border-indigo-300 focus:ring-4 focus:ring-indigo-500/10 outline-none transition-all resize-y placeholder-slate-300",placeholder:o})})})})]})]})},Zh=({onClick:t,label:n="Add New Section"})=>e.jsxs("div",{className:"pl-4 relative",children:[e.jsx("div",{className:"absolute left-[7px] top-0 h-8 w-[2px] bg-slate-100"}),e.jsx("div",{className:"absolute left-0 top-8 w-4 h-4 rounded-full border-2 border-indigo-100 bg-indigo-50 z-10 flex items-center justify-center",children:e.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-indigo-300"})}),e.jsxs("button",{onClick:t,className:"w-full mt-4 py-3 flex items-center justify-center gap-2 bg-white border-2 border-dashed border-slate-200 rounded-xl text-slate-400 font-medium hover:border-indigo-400 hover:text-indigo-600 hover:bg-indigo-50/50 transition-all duration-200 group relative overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-indigo-50/0 group-hover:bg-indigo-50/30 transition-colors"}),e.jsx("div",{className:"w-6 h-6 rounded-full bg-indigo-100 text-indigo-600 flex items-center justify-center group-hover:scale-110 transition-transform",children:e.jsx(ne,{size:14,strokeWidth:3})}),e.jsx("span",{children:n})]})]}),em=({formData:t,onChange:n})=>{const s=t.logoSize||70,a=t.logoAlignment||"left",r=!1!==t.brandingEnabled&&"false"!==t.brandingEnabled;return e.jsxs("div",{className:"space-y-4 pt-1",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wide",children:"Show Logo"}),e.jsx("button",{onClick:()=>{n({target:{name:"brandingEnabled",value:!r}})},className:"relative inline-flex h-5 w-9 items-center rounded-full transition-colors focus:outline-none "+(r?"bg-indigo-600":"bg-slate-200"),children:e.jsx("span",{className:(r?"translate-x-5":"translate-x-1")+" inline-block h-3 w-3 transform rounded-full bg-white transition-transform"})})]}),r&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wide",children:"Logo Size"}),e.jsxs("span",{className:"text-xs font-mono text-slate-400",children:[s,"px"]})]}),e.jsx("input",{type:"range",min:"30",max:"200",step:"5",value:s,onChange:e=>{n({target:{name:"logoSize",value:parseInt(e.target.value)}})},className:"w-full h-1.5 bg-slate-200 rounded-lg appearance-none cursor-pointer accent-indigo-600 focus:outline-none focus:ring-2 focus:ring-indigo-500/30"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase tracking-wide mb-2",children:"Position"}),e.jsx("div",{className:"flex bg-slate-100 p-1 rounded-lg",children:[{id:"left",icon:se,label:"Left"},{id:"center",icon:ae,label:"Center"},{id:"right",icon:re,label:"Right"}].map(t=>e.jsx("button",{onClick:()=>{return e=t.id,void n({target:{name:"logoAlignment",value:e}});var e},className:"flex-1 flex items-center justify-center py-1.5 rounded-md transition-all "+(a===t.id?"bg-white text-indigo-600 shadow-sm ring-1 ring-slate-200":"text-slate-400 hover:text-slate-600 hover:bg-slate-200/50"),title:`Align ${t.label}`,children:e.jsx(t.icon,{size:18})},t.id))})]}),e.jsx("p",{className:"text-[10px] text-slate-400 italic mt-2",children:"* Adjust position based on header layout compatibility."})]})]})},tm=({styles:t,onUpdate:n,onReset:s})=>e.jsxs("div",{className:"space-y-6 pt-2",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-2 text-xs font-bold text-slate-500 uppercase tracking-wide",children:[e.jsx(ie,{size:14})," Typography"]}),e.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-xs text-slate-400 mb-1 block",children:"Font Family"}),e.jsx("select",{value:t.fontFamily,onChange:e=>n("fontFamily",e.target.value),className:"w-full text-sm bg-slate-50 border border-slate-200 rounded-lg p-2 focus:ring-2 focus:ring-indigo-500/20 focus:outline-none",children:[{label:"Modern Sans",value:"font-sans"},{label:"Classic Serif",value:"font-serif"},{label:"Monospace",value:"font-mono"}].map(t=>e.jsx("option",{value:t.value,children:t.label},t.value))})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-xs text-slate-400 mb-1 block",children:"Size"}),e.jsx("select",{value:t.fontSize,onChange:e=>n("fontSize",e.target.value),className:"w-full text-sm bg-slate-50 border border-slate-200 rounded-lg p-2 focus:ring-2 focus:ring-indigo-500/20 focus:outline-none",children:[{label:"Small (10pt)",value:"text-[10pt]"},{label:"Standard (11pt)",value:"text-[11pt]"},{label:"Large (12pt)",value:"text-[12pt]"}].map(t=>e.jsx("option",{value:t.value,children:t.label},t.value))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs text-slate-400 mb-1 block",children:"Line Height"}),e.jsx("select",{value:t.lineHeight,onChange:e=>n("lineHeight",e.target.value),className:"w-full text-sm bg-slate-50 border border-slate-200 rounded-lg p-2 focus:ring-2 focus:ring-indigo-500/20 focus:outline-none",children:[{label:"Compact",value:"leading-normal"},{label:"Standard",value:"leading-relaxed"},{label:"Loose",value:"leading-loose"}].map(t=>e.jsx("option",{value:t.value,children:t.label},t.value))})]})]})]})]}),e.jsx("hr",{className:"border-slate-100"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-2 text-xs font-bold text-slate-500 uppercase tracking-wide",children:[e.jsx(le,{size:14})," Colors"]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-xs text-slate-400 mb-1 block",children:"Text Color"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"color",value:t.textColor,onChange:e=>n("textColor",e.target.value),className:"h-8 w-8 rounded cursor-pointer border-0 p-0"}),e.jsx("span",{className:"text-xs font-mono text-slate-500",children:t.textColor})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs text-slate-400 mb-1 block",children:"Accent Color"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"color",value:t.accentColor,onChange:e=>n("accentColor",e.target.value),className:"h-8 w-8 rounded cursor-pointer border-0 p-0"}),e.jsx("span",{className:"text-xs font-mono text-slate-500",children:t.accentColor})]})]})]})]}),e.jsx("hr",{className:"border-slate-100"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-2 text-xs font-bold text-slate-500 uppercase tracking-wide",children:[e.jsx(h,{size:14})," Layout"]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs text-slate-400 mb-1 block",children:"Page Margins"}),e.jsx("select",{value:t.pageMargin,onChange:e=>n("pageMargin",e.target.value),className:"w-full text-sm bg-slate-50 border border-slate-200 rounded-lg p-2 focus:ring-2 focus:ring-indigo-500/20 focus:outline-none",children:[{label:"Narrow",value:"p-[15mm]"},{label:"Standard",value:"p-[25.4mm]"},{label:"Wide",value:"p-[35mm]"}].map(t=>e.jsx("option",{value:t.value,children:t.label},t.value))})]})]}),e.jsxs("button",{onClick:s,className:"w-full mt-4 flex items-center justify-center gap-2 py-2 text-xs font-medium text-slate-500 hover:text-slate-700 bg-slate-50 hover:bg-slate-100 rounded-lg transition-colors border border-slate-200",children:[e.jsx(oe,{size:14})," Reset to Defaults"]})]}),nm=({isOpen:n,onClose:r,onConfirm:i,title:l,message:o,confirmText:c="Confirm",cancelText:d="Cancel",isDestructive:u=!1,isLoading:h=!1})=>e.jsx(s,{children:n&&e.jsxs(e.Fragment,{children:[e.jsx(a.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:h?void 0:r,className:"fixed inset-0 bg-black/40 z-50 backdrop-blur-sm"}),e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:e.jsxs(a.div,{initial:{scale:.95,opacity:0,y:20},animate:{scale:1,opacity:1,y:0},exit:{scale:.95,opacity:0,y:20},className:"bg-white rounded-xl shadow-xl w-full max-w-md overflow-hidden",children:[e.jsxs("div",{className:"p-4 border-b border-slate-100 flex items-center justify-between bg-slate-50/50",children:[e.jsxs("h3",{className:"font-semibold text-lg flex items-center gap-2 "+(u?"text-red-600":"text-slate-900"),children:[u&&e.jsx(ce,{size:20}),l]}),e.jsx("button",{onClick:r,disabled:h,className:"text-slate-400 hover:text-slate-600 p-1 rounded-lg hover:bg-slate-100 transition-colors disabled:opacity-50",children:e.jsx(t,{size:20})})]}),e.jsx("div",{className:"p-6",children:e.jsx("p",{className:"text-slate-600 leading-relaxed",children:o})}),e.jsxs("div",{className:"p-4 bg-slate-50 flex items-center justify-end gap-3",children:[e.jsx("button",{onClick:r,disabled:h,className:"px-4 py-2 text-sm font-medium text-slate-600 hover:text-slate-800 bg-white border border-slate-200 hover:border-slate-300 rounded-lg shadow-sm transition-all disabled:opacity-50",children:d}),e.jsxs("button",{onClick:i,disabled:h,className:`px-4 py-2 text-sm font-medium text-white rounded-lg shadow-sm transition-all flex items-center gap-2 ${u?"bg-red-600 hover:bg-red-700 focus:ring-2 focus:ring-red-500/20":"bg-indigo-600 hover:bg-indigo-700 focus:ring-2 focus:ring-indigo-500/20"} disabled:opacity-50 disabled:cursor-not-allowed`,children:[h&&e.jsx("div",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin"}),c]})]})]})})]})}),sm=({formData:t,onChange:n,docContent:s,onContentChange:a,addSection:r,removeSection:i,updateSection:o,reorderSections:c,styles:d,onStyleUpdate:u,onStyleReset:h})=>{const[m,p]=vt.useState("parties"),[f,x]=vt.useState("fill"),[g,b]=vt.useState({isOpen:!1,sectionId:null}),v=e=>{p(m===e?null:e)},y=t.effectiveDateDay&&t.effectiveDateMonth&&t.effectiveDateYear,w=t.disclosingPartyName&&t.receivingPartyName&&t.disclosingPartyAddress&&t.receivingPartyAddress,k=!!t.purpose,S=t.termYears&&t.survivalYears&&t.jurisdiction&&t.courtCity,C=t.disclosingSignatoryName&&t.disclosingSignatoryDesignation&&t.receivingSignatoryName&&t.receivingSignatoryDesignation;return e.jsxs("div",{className:"bg-white min-h-full pb-20 relative",children:[e.jsx(nm,{isOpen:g.isOpen,onClose:()=>b({isOpen:!1,sectionId:null}),onConfirm:()=>{g.sectionId&&(i(g.sectionId),b({isOpen:!1,sectionId:null}))},title:"Delete Section",message:"Are you sure you want to remove this section? This action cannot be undone and will remove the clause from the generated document.",confirmText:"Delete Section",isDestructive:!0}),e.jsxs("div",{className:"p-6 border-b border-slate-100 bg-slate-50/50 sticky top-0 z-10 backdrop-blur-sm",children:[e.jsxs("div",{className:"flex gap-1 bg-slate-200/50 p-1 rounded-lg mb-4",children:[e.jsx("button",{onClick:()=>x("fill"),className:"flex-1 flex items-center justify-center gap-2 py-2 rounded-md text-sm font-medium transition-all "+("fill"===f?"bg-white shadow-sm text-indigo-600":"text-slate-500 hover:text-slate-700"),title:"Fill Details",children:e.jsx(de,{size:16})}),e.jsx("button",{onClick:()=>x("edit"),className:"flex-1 flex items-center justify-center gap-2 py-2 rounded-md text-sm font-medium transition-all "+("edit"===f?"bg-white shadow-sm text-indigo-600":"text-slate-500 hover:text-slate-700"),title:"Structure Builder",children:e.jsx(ue,{size:16})}),e.jsx("button",{onClick:()=>x("style"),className:"flex-1 flex items-center justify-center gap-2 py-2 rounded-md text-sm font-medium transition-all "+("style"===f?"bg-white shadow-sm text-indigo-600":"text-slate-500 hover:text-slate-700"),title:"Appearance",children:e.jsx(ie,{size:16})})]}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-bold text-slate-900",children:"fill"===f?"Document Details":"edit"===f?"Structure Builder":"Styling & Appearance"}),e.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"fill"===f?"Review and specify the agreement terms":"edit"===f?"Customize layout and clauses":"Fonts, colors and spacing"})]})]}),"fill"===f&&e.jsxs(e.Fragment,{children:[e.jsx(Qh,{title:"Effective Date",icon:I,isOpen:"date"===m,isComplete:y,onClick:()=>v("date"),children:e.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[e.jsx(Kh,{label:"Day",name:"effectiveDateDay",value:t.effectiveDateDay,onChange:n,placeholder:"DD"}),e.jsx(Kh,{label:"Month",name:"effectiveDateMonth",value:t.effectiveDateMonth,onChange:n,placeholder:"Month"}),e.jsx(Kh,{label:"Year",name:"effectiveDateYear",value:t.effectiveDateYear,onChange:n,placeholder:"YY"})]})}),e.jsx(Qh,{title:"Parties Involved",icon:j,isOpen:"parties"===m,isComplete:w,onClick:()=>v("parties"),children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"p-3 bg-indigo-50 rounded-lg border border-indigo-100",children:[e.jsxs("h4",{className:"text-xs font-bold text-indigo-900 uppercase mb-3 flex items-center justify-between",children:[e.jsxs("span",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-indigo-500"})," Disclosing Party"]}),e.jsxs("button",{onClick:async()=>{try{const e=await pd();if(e){n({target:{name:"disclosingPartyName",value:e.name||""}});const t=[e.address,e.city,e.state,e.country].filter(Boolean).join(", ");n({target:{name:"disclosingPartyAddress",value:t||""}}),At.success("Business details populated")}else At.error("No business profile found")}catch(e){At.error("Failed to load business info")}},className:"text-[10px] bg-white border border-indigo-200 text-indigo-600 px-2 py-1 rounded hover:bg-indigo-50 transition-colors flex items-center gap-1",title:"Auto-fill with your business profile",children:[e.jsx(N,{size:10})," Use Profile"]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(Kh,{label:"Name / Company",name:"disclosingPartyName",value:t.disclosingPartyName,onChange:n,placeholder:"Ex: Acme Corp"}),e.jsx(Kh,{label:"Full Address",name:"disclosingPartyAddress",value:t.disclosingPartyAddress,onChange:n,placeholder:"Address",rows:2})]})]}),e.jsxs("div",{className:"p-3 bg-emerald-50 rounded-lg border border-emerald-100",children:[e.jsxs("h4",{className:"text-xs font-bold text-emerald-900 uppercase mb-3 flex items-center gap-2",children:[e.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-emerald-500"})," Receiving Party"]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(Kh,{label:"Name / Company",name:"receivingPartyName",value:t.receivingPartyName,onChange:n,placeholder:"Ex: John Doe"}),e.jsx(Kh,{label:"Full Address",name:"receivingPartyAddress",value:t.receivingPartyAddress,onChange:n,placeholder:"Address",rows:2})]})]})]})}),e.jsx(Qh,{title:"Document Branding",icon:le,isOpen:"branding"===m,isComplete:!0,onClick:()=>v("branding"),children:e.jsx(em,{formData:t,onChange:n})}),e.jsx(Qh,{title:"Purpose Scope",icon:l,isOpen:"purpose"===m,isComplete:k,onClick:()=>v("purpose"),children:e.jsx(Kh,{label:"Description of Purpose",name:"purpose",value:t.purpose,onChange:n,placeholder:"Describe why information is being shared (e.g., potential partnership, investment evaluation)...",rows:6})}),e.jsxs(Qh,{title:"Terms & Jurisdiction",icon:T,isOpen:"terms"===m,isComplete:S,onClick:()=>v("terms"),children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx(Kh,{label:"Term (Years)",name:"termYears",value:t.termYears,onChange:n,placeholder:"2"}),e.jsx(Kh,{label:"Survival (Years)",name:"survivalYears",value:t.survivalYears,onChange:n,placeholder:"5"})]}),e.jsx("div",{className:"h-px bg-slate-100 my-2"}),e.jsx(Kh,{label:"Jurisdiction",name:"jurisdiction",value:t.jurisdiction,onChange:n,placeholder:"State/Country (e.g. California)"}),e.jsx(Kh,{label:"Court Location",name:"courtCity",value:t.courtCity,onChange:n,placeholder:"City (e.g. San Francisco)"})]}),e.jsx(Qh,{title:"Signatories",icon:P,isOpen:"signatures"===m,isComplete:C,onClick:()=>v("signatures"),children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-bold text-slate-400 mb-2 uppercase",children:"For Disclosing Party"}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsx(Kh,{label:"Name",name:"disclosingSignatoryName",value:t.disclosingSignatoryName,onChange:n,placeholder:"Name"}),e.jsx(Kh,{label:"Title",name:"disclosingSignatoryDesignation",value:t.disclosingSignatoryDesignation,onChange:n,placeholder:"Title"})]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-bold text-slate-400 mb-2 uppercase",children:"For Receiving Party"}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsx(Kh,{label:"Name",name:"receivingSignatoryName",value:t.receivingSignatoryName,onChange:n,placeholder:"Name"}),e.jsx(Kh,{label:"Title",name:"receivingSignatoryDesignation",value:t.receivingSignatoryDesignation,onChange:n,placeholder:"Title"})]})]})]})})]}),"edit"===f&&e.jsxs("div",{className:"p-4 space-y-6 pb-20",children:[e.jsx(Jh,{isFixed:!0,section:{title:"Preamble & Parties"},onUpdate:()=>{},children:e.jsxs("div",{className:"space-y-3 mt-3",children:[e.jsx("textarea",{name:"preamble",value:s.preamble||"",onChange:a,rows:3,className:"w-full text-xs p-3 rounded-lg border border-slate-200 bg-slate-50 focus:bg-white focus:border-indigo-300 focus:ring-4 focus:ring-indigo-500/10 outline-none transition-all resize-y placeholder-slate-400",placeholder:"Preamble..."}),e.jsxs("div",{className:"grid gap-3",children:[e.jsx("textarea",{name:"partiesDisclosing",value:s.partiesDisclosing||"",onChange:a,rows:2,className:"w-full text-xs p-3 rounded-lg border border-slate-200 bg-slate-50 focus:bg-white focus:border-indigo-300 focus:ring-4 focus:ring-indigo-500/10 outline-none transition-all resize-y placeholder-slate-400",placeholder:"Disclosing Party Clause..."}),e.jsx("textarea",{name:"partiesReceiving",value:s.partiesReceiving||"",onChange:a,rows:2,className:"w-full text-xs p-3 rounded-lg border border-slate-200 bg-slate-50 focus:bg-white focus:border-indigo-300 focus:ring-4 focus:ring-indigo-500/10 outline-none transition-all resize-y placeholder-slate-400",placeholder:"Receiving Party Clause..."})]})]})}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute left-[7px] top-[-24px] bottom-0 w-[2px] bg-slate-100"}),e.jsx("p",{className:"font-bold text-[10px] uppercase tracking-widest text-slate-400 pl-8 mb-4",children:"Structure"}),e.jsx(he,{axis:"y",values:s.sections,onReorder:c,className:"space-y-0",children:s.sections.map(t=>e.jsx(me,{value:t,className:"relative mb-2",children:e.jsx(Jh,{section:t,onUpdate:(e,n)=>o(t.id,e,n),onRemove:()=>{return e=t.id,void b({isOpen:!0,sectionId:e});var e},placeholderTitle:"Section Title",placeholderContent:"Section clauses..."})},t.id))}),e.jsx(Zh,{onClick:r})]})]}),"style"===f&&e.jsx("div",{className:"p-4 pb-20",children:e.jsx(tm,{styles:d,onUpdate:u,onReset:h})})]})},am=({style:t,data:n,isSelected:s,isDragging:a,onEdit:r,onDelete:i,listeners:l,attributes:o,setNodeRef:c,readOnly:d=!1})=>{const{icon:u,label:h}=(()=>{switch(n.fieldType){case"date":return{icon:I,label:"Date"};case"text":return{icon:ie,label:"Text"};case"initials":return{icon:j,label:"Initials"};case"checkbox":return{icon:fe,label:"Check"};default:return{icon:P,label:"Signature"}}})();return e.jsxs("div",{ref:c,style:t,className:`\n                group flex items-center gap-2 bg-white/95 backdrop-blur-md \n                border shadow-sm transition-all duration-200 py-1.5 px-3 rounded-full\n                ${s&&!d?"border-indigo-500 shadow-indigo-100 ring-2 ring-indigo-500/20":"border-slate-300"}\n                ${d?"cursor-default":"hover:border-indigo-400 hover:shadow-md cursor-grab"}\n                ${a?"opacity-50 cursor-grabbing":""}\n                w-auto min-w-[120px] max-w-[240px] select-none\n            `,...l,...o,onClick:e=>{d||(e.preventDefault(),e.stopPropagation(),r&&r())},children:[!d&&e.jsx("div",{className:"text-slate-400 "+(s?"text-indigo-400":""),children:e.jsx(ee,{size:14})}),e.jsx("div",{className:"text-slate-400 "+(s?"text-indigo-500":""),children:e.jsx(u,{size:14})}),e.jsxs("div",{className:"flex flex-col leading-none",children:[e.jsx("span",{className:"text-[10px] uppercase font-bold tracking-wider "+(s&&!d?"text-indigo-600":"text-slate-500"),children:h}),e.jsx("span",{className:"text-xs font-semibold truncate select-none "+(s&&!d?"text-indigo-700":"text-slate-700"),children:n.signeeName||"Signer"})]}),!d&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-px h-3 bg-slate-200 mx-0.5"}),e.jsxs("div",{className:"flex items-center gap-0.5 relative z-20",children:[e.jsx("button",{onPointerDown:e=>e.stopPropagation(),onMouseDown:e=>e.stopPropagation(),onTouchStart:e=>e.stopPropagation(),onClick:e=>{e.stopPropagation(),e.preventDefault(),r&&r()},className:"p-1 hover:bg-slate-100 rounded-full text-slate-400 hover:text-indigo-600 transition-colors cursor-pointer",children:e.jsx(pe,{size:12})}),e.jsx("button",{onPointerDown:e=>e.stopPropagation(),onMouseDown:e=>e.stopPropagation(),onTouchStart:e=>e.stopPropagation(),onClick:e=>{e.stopPropagation(),e.preventDefault(),i&&i()},className:"p-1 hover:bg-slate-100 rounded-full text-slate-400 hover:text-red-500 transition-colors cursor-pointer",children:e.jsx(te,{size:12})})]})]}),n.order&&e.jsx("div",{className:"absolute -top-1.5 -right-1.5 w-4 h-4 bg-indigo-600 text-white text-[9px] font-bold flex items-center justify-center rounded-full shadow-sm border border-white z-10 pointer-events-none",children:n.order})]})},rm=({id:t,data:n,left:s,top:a,onEdit:r,onDelete:i,isSelected:l,readOnly:o=!1})=>{const{attributes:c,listeners:d,setNodeRef:u,transform:h,isDragging:m}=Oh({id:t,data:{...n,type:"signature-field",id:t},disabled:o}),p={transform:Fd.Translate.toString(h),left:`${s}%`,top:`${a}%`,position:"absolute",zIndex:m?999:l?50:10,touchAction:"none"};return e.jsx(am,{style:p,data:n,isSelected:l,isDragging:m,onEdit:r,onDelete:i,listeners:d,attributes:c,setNodeRef:u,readOnly:o})},im=({signatures:t,onUpdateSignature:n,onRemoveSignature:s,onEditSignature:a})=>{const{setNodeRef:r}=Lh({id:"document-canvas"});return e.jsx("div",{ref:r,className:"absolute inset-0 z-20 pointer-events-none",children:t.map(t=>e.jsx("div",{className:"pointer-events-auto",children:e.jsx(rm,{id:t.id,data:t.metadata,left:t.position.x,top:t.position.y,onEdit:()=>a(t),onDelete:()=>s(t.id)})},t.id))})};function lm({data:t,content:n,zoom:r=1,printing:i=!1,readOnly:l=!1,signatures:o=[],onUpdateSignature:c,onRemoveSignature:d,onEditSignature:u,businessLogo:h,styles:m}){const p=({value:t,placeholder:n,name:s,className:a=""})=>{const r=(e=>{if(!e)return"bg-slate-100 text-slate-600 border-slate-200";const t=["bg-indigo-50 text-indigo-700 border-indigo-200","bg-emerald-50 text-emerald-700 border-emerald-200","bg-amber-50 text-amber-700 border-amber-200","bg-rose-50 text-rose-700 border-rose-200","bg-violet-50 text-violet-700 border-violet-200","bg-sky-50 text-sky-700 border-sky-200"];let n=0;for(let s=0;s<e.length;s++)n=e.charCodeAt(s)+((n<<5)-n);return t[Math.abs(n)%t.length]})(s);return t?l||i?e.jsx("span",{className:`font-medium text-slate-900 ${a}`,children:t}):e.jsx("span",{className:`px-1.5 py-0.5 rounded border ${r} font-medium mx-0.5 transition-all hover:brightness-95 ${a}`,children:t}):l||i?e.jsx("span",{className:`text-slate-500 italic ${a}`,children:n}):e.jsx("span",{className:`px-1.5 py-0.5 rounded border border-dashed ${r} bg-opacity-50 font-medium text-xs mx-0.5 ${a}`,children:n})},f=({template:t,values:n})=>{if(!t)return null;const s=t.split(/(\{\{[^}]+\}\})/g);return e.jsx("span",{children:s.map((t,s)=>{if(t.startsWith("{{")&&t.endsWith("}}")){const a=t.slice(2,-2).trim();return e.jsx(p,{value:n[a],name:a,placeholder:`[${a}]`},s)}return e.jsx("span",{children:t},s)})})},x=m||{fontFamily:"font-serif",fontSize:"text-[11pt]",lineHeight:"leading-relaxed",textColor:"#1e293b",pageMargin:"p-[25mm]"},g=i?"div":a.div,b=i?"div":a.section;return e.jsxs(g,{id:"printable-document",...i?{}:{initial:{opacity:0,y:20},animate:{opacity:1,y:0}},style:{transform:i?"none":`scale(${r})`,transformOrigin:"top center",color:x.textColor},className:`w-[210mm] min-h-[297mm] bg-white relative mb-20 origin-top \n                ${i?"":"shadow-[0_8px_30px_rgb(0,0,0,0.12)] border border-slate-200/60"}\n                ${x.fontFamily} ${x.fontSize} ${x.lineHeight} ${x.pageMargin}\n            `,children:[!i&&e.jsx("div",{className:"no-print absolute inset-0 rounded-sm pointer-events-none bg-gradient-to-b from-white to-slate-50/20"}),!i&&!l&&e.jsx(im,{signatures:o,onUpdateSignature:c,onRemoveSignature:d,onEditSignature:u}),(i||l)&&o.length>0&&e.jsx("div",{className:"absolute inset-0 z-50 pointer-events-none",children:o.map(t=>e.jsxs("div",{style:{position:"absolute",left:`${t.position.x}px`,top:`${t.position.y}px`,width:"200px",height:"60px",borderBottom:"1px solid #000",display:"flex",flexDirection:"column",justifyContent:"flex-end"},children:[e.jsx("div",{style:{fontFamily:"cursive",fontSize:"14pt",color:"#1e3a8a",marginBottom:"4px"},children:t.metadata.signeeName||"Sign Here"}),e.jsx("div",{style:{fontSize:"8pt",color:"#64748b",textTransform:"uppercase",letterSpacing:"0.05em"},children:"date"===t.metadata.type?"Date":"Authorized Signature"}),t.metadata.signeeEmail&&e.jsx("div",{style:{fontSize:"7pt",color:"#94a3b8",position:"absolute",bottom:"-14px",left:"0"},children:t.metadata.signeeEmail})]},t.id))}),e.jsxs("div",{className:"p-[10mm] relative z-10",children:[h&&!1!==t.brandingEnabled&&"false"!==t.brandingEnabled&&e.jsx("div",{className:"flex mb-8 "+("left"===t.logoAlignment?"justify-start":"right"===t.logoAlignment?"justify-end":"justify-center"),style:i?{textAlign:t.logoAlignment||"center"}:{},children:e.jsx("img",{src:h,alt:"Company Logo",style:{height:`${t.logoSize||70}px`,objectFit:"contain"}})}),e.jsx("h1",{className:"text-xl font-bold text-center mb-10 uppercase tracking-widest border-b-2 border-slate-900 pb-2",children:n.title}),e.jsx("p",{className:"mb-6 text-justify",children:e.jsx(f,{template:n.preamble,values:t})}),e.jsxs("div",{className:"mb-8 pl-4 border-l-4 border-slate-100",children:[e.jsx("p",{className:"font-bold text-xs uppercase text-slate-400 mb-1",children:"BY AND BETWEEN"}),e.jsx("p",{className:"mb-4 text-justify",children:e.jsx(f,{template:n.partiesDisclosing,values:t})}),e.jsx("p",{className:"font-bold text-xs uppercase text-slate-400 mb-1",children:"AND"}),e.jsx("p",{className:"mb-2 text-justify",children:e.jsx(f,{template:n.partiesReceiving,values:t})})]}),e.jsx("p",{className:"text-justify mb-8",children:e.jsx(f,{template:n.partiesFooter,values:t})}),e.jsx("div",{className:"space-y-6 min-h-[100px]",children:e.jsx(s,{mode:"popLayout",children:n.sections&&n.sections.map((n,s)=>e.jsxs(b,{...i?{}:{layout:!0,initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,scale:.95}},children:[e.jsxs("h2",{className:"font-bold text-sm uppercase mb-2",children:[s+1,". ",n.title]}),e.jsx("p",{className:"text-justify",children:e.jsx(f,{template:n.content,values:t})})]},n.id))})}),e.jsxs("div",{className:"mt-12 break-inside-avoid",children:[e.jsxs("h2",{className:"font-bold text-sm uppercase mb-6 border-b border-slate-900 pb-1",children:[n.sections.length+1,". Signatures"]}),e.jsx("p",{className:"mb-8",children:"IN WITNESS WHEREOF, the Parties have executed this Agreement as of the date first written above."}),i?e.jsx("table",{style:{width:"100%",borderCollapse:"collapse",marginTop:"20px"},children:e.jsx("tbody",{children:e.jsxs("tr",{children:[e.jsxs("td",{style:{width:"48%",verticalAlign:"top",paddingRight:"2%"},children:[e.jsx("p",{className:"font-bold uppercase text-xs tracking-wider mb-8",children:"For Disclosing Party"}),e.jsx("div",{className:"relative border-b border-slate-800 h-8 mb-2",style:{borderBottom:"1px solid #000",height:"40px",marginBottom:"10px"},children:t.disclosingSignatoryName&&e.jsx("span",{style:{fontFamily:"cursive",fontSize:"16pt",color:"#1e3a8a"},children:t.disclosingSignatoryName})}),e.jsx("p",{className:"text-xs uppercase text-slate-500",children:"Authorized Signature"}),e.jsx("table",{style:{width:"100%",marginTop:"15px"},children:e.jsxs("tbody",{children:[e.jsxs("tr",{children:[e.jsx("td",{style:{width:"60px",fontWeight:"bold",fontSize:"10pt"},children:"Name:"}),e.jsx("td",{style:{borderBottom:"1px solid #ccc"},children:t.disclosingSignatoryName})]}),e.jsxs("tr",{children:[e.jsx("td",{style:{paddingBottom:"5px"}}),e.jsx("td",{})]}),e.jsxs("tr",{children:[e.jsx("td",{style:{width:"60px",fontWeight:"bold",fontSize:"10pt"},children:"Title:"}),e.jsx("td",{style:{borderBottom:"1px solid #ccc"},children:t.disclosingSignatoryDesignation})]})]})})]}),e.jsx("td",{style:{width:"4%"}}),e.jsxs("td",{style:{width:"48%",verticalAlign:"top"},children:[e.jsx("p",{className:"font-bold uppercase text-xs tracking-wider mb-8",children:"For Receiving Party"}),e.jsx("div",{className:"relative border-b border-slate-800 h-8 mb-2",style:{borderBottom:"1px solid #000",height:"40px",marginBottom:"10px"},children:t.receivingSignatoryName&&e.jsx("span",{style:{fontFamily:"cursive",fontSize:"16pt",color:"#1e3a8a"},children:t.receivingSignatoryName})}),e.jsx("p",{className:"text-xs uppercase text-slate-500",children:"Authorized Signature"}),e.jsx("table",{style:{width:"100%",marginTop:"15px"},children:e.jsxs("tbody",{children:[e.jsxs("tr",{children:[e.jsx("td",{style:{width:"60px",fontWeight:"bold",fontSize:"10pt"},children:"Name:"}),e.jsx("td",{style:{borderBottom:"1px solid #ccc"},children:t.receivingSignatoryName})]}),e.jsxs("tr",{children:[e.jsx("td",{style:{paddingBottom:"5px"}}),e.jsx("td",{})]}),e.jsxs("tr",{children:[e.jsx("td",{style:{width:"60px",fontWeight:"bold",fontSize:"10pt"},children:"Title:"}),e.jsx("td",{style:{borderBottom:"1px solid #ccc"},children:t.receivingSignatoryDesignation})]})]})})]})]})})}):e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 md:gap-16",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"font-bold uppercase text-xs tracking-wider mb-8",children:"For Disclosing Party"}),e.jsx("div",{className:"relative border-b border-slate-800 h-8 mb-2",children:t.disclosingSignatoryName&&e.jsx("span",{className:"absolute bottom-1 left-2 font-cursive text-xl text-blue-900 opacity-80 rotate-[-2deg]",children:t.disclosingSignatoryName})}),e.jsx("p",{className:"text-xs uppercase text-slate-500",children:"Authorized Signature"}),e.jsxs("div",{className:"pt-4 grid grid-cols-[80px_1fr] gap-x-2 gap-y-1 items-baseline",children:[e.jsx("span",{className:"text-sm font-medium",children:"Name:"}),e.jsx("span",{className:"border-b border-slate-300 w-full inline-block h-5 pl-1",children:t.disclosingSignatoryName}),e.jsx("span",{className:"text-sm font-medium",children:"Title:"}),e.jsx("span",{className:"border-b border-slate-300 w-full inline-block h-5 pl-1",children:t.disclosingSignatoryDesignation})]})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"font-bold uppercase text-xs tracking-wider mb-8",children:"For Receiving Party"}),e.jsx("div",{className:"relative border-b border-slate-800 h-8 mb-2",children:t.receivingSignatoryName&&e.jsx("span",{className:"absolute bottom-1 left-2 font-cursive text-xl text-blue-900 opacity-80 rotate-[-2deg]",children:t.receivingSignatoryName})}),e.jsx("p",{className:"text-xs uppercase text-slate-500",children:"Authorized Signature"}),e.jsxs("div",{className:"pt-4 grid grid-cols-[80px_1fr] gap-x-2 gap-y-1 items-baseline",children:[e.jsx("span",{className:"text-sm font-medium",children:"Name:"}),e.jsx("span",{className:"border-b border-slate-300 w-full inline-block h-5 pl-1",children:t.receivingSignatoryName}),e.jsx("span",{className:"text-sm font-medium",children:"Title:"}),e.jsx("span",{className:"border-b border-slate-300 w-full inline-block h-5 pl-1",children:t.receivingSignatoryDesignation})]})]})]})]}),!i&&e.jsx("div",{className:"absolute bottom-4 left-0 right-0 text-center",children:e.jsx("p",{className:"text-[9px] text-slate-300 uppercase tracking-widest font-sans",children:"Powered by DocForge"})})]})]})}const om=async e=>(await Jn.get(`/documents/${e}`)).data,cm=async e=>(await Jn.post("/documents",e)).data,dm=async(e,t)=>(await Jn.put(`/documents/${e}`,t)).data,um=async(e,t,n,s)=>(await Jn.post(`/documents/${e}/send`,{email:t,message:n,html_content:s})).data,hm=async(e,t,n)=>(await Jn.post(`/documents/${e}/remind`,{email:t,message:n})).data,mm=async e=>await Jn.get(`/documents/${e}/versions`),pm=async e=>(await Jn.get(`/documents/${e}/shares`)).data,fm=({documentId:n,isOpen:r,onClose:i,onRestore:l,onPreview:o,onDownload:c})=>{const[d,u]=vt.useState([]),[h,m]=vt.useState(!1),[p,f]=vt.useState({isOpen:!1,version:null}),[x,g]=vt.useState(!1);vt.useEffect(()=>{r&&n&&b()},[r,n]);const b=async()=>{try{m(!0);const[e,t]=await Promise.allSettled([mm(n),pm(n)]),s="fulfilled"===e.status?e.value.data.data:[],a="fulfilled"===t.status?t.value.data:[],r=s.map(e=>({id:e.id,type:"version",version_number:e.version_number,created_at:e.created_at,created_by:e.created_by,data:e})),i=a.map(e=>({id:e.id,type:"share",email:e.email,permission:e.permission,created_at:e.created_at,created_by:e.created_by||"You",data:e})),l=[...r,...i].sort((e,t)=>new Date(t.created_at)-new Date(e.created_at));u(l)}catch(e){At.error("Failed to load history.")}finally{m(!1)}};return e.jsx(s,{children:r&&e.jsxs(e.Fragment,{children:[e.jsx(a.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:i,className:"fixed inset-0 bg-black/20 z-40 backdrop-blur-sm"}),e.jsxs(a.div,{initial:{x:"100%"},animate:{x:0},exit:{x:"100%"},transition:{type:"spring",damping:25,stiffness:200},className:"fixed right-0 top-0 bottom-0 w-80 bg-white shadow-2xl z-50 border-l border-slate-200 flex flex-col",children:[e.jsxs("div",{className:"p-4 border-b border-slate-100 flex items-center justify-between bg-slate-50",children:[e.jsxs("h3",{className:"font-semibold text-slate-800 flex items-center gap-2",children:[e.jsx($,{size:16})," Activity & History"]}),e.jsx("button",{onClick:i,className:"p-1 hover:bg-slate-200 rounded text-slate-500",children:e.jsx(t,{size:20})})]}),e.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:h?e.jsx("div",{className:"flex justify-center py-8",children:e.jsx(y,{className:"animate-spin text-indigo-600"})}):0===d.length?e.jsx("p",{className:"text-center text-slate-500 text-sm py-8",children:"No history available yet."}):d.map((t,n)=>{if("version"===t.type){const n=t.data;return e.jsxs("div",{className:"relative pl-6 pb-6 border-l-2 border-slate-100 last:border-0 last:pb-0",children:[e.jsx("div",{className:"absolute -left-[9px] top-0 w-4 h-4 rounded-full border-2 border-white bg-slate-200 shadow-sm flex items-center justify-center",children:e.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-slate-400"})}),e.jsxs("div",{className:"text-sm",children:[e.jsxs("div",{className:"flex justify-between items-start mb-1",children:[e.jsxs("span",{className:"font-semibold text-slate-700",children:["Version ",n.version_number]}),e.jsx("span",{className:"text-xs text-slate-400",children:new Date(n.created_at).toLocaleDateString()})]}),e.jsxs("p",{className:"text-xs text-slate-500 mb-2",children:["Saved by ",n.created_by," ",e.jsx("br",{}),new Date(n.created_at).toLocaleTimeString()]}),e.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[e.jsxs("button",{onClick:()=>o&&o(n),className:"px-2 py-1 text-xs font-medium bg-indigo-50 text-indigo-700 rounded hover:bg-indigo-100 transition-colors flex items-center gap-1",children:[e.jsx(xe,{size:12})," Preview"]}),e.jsxs("button",{onClick:()=>c&&c(n),className:"px-2 py-1 text-xs font-medium bg-slate-100 text-slate-700 rounded hover:bg-slate-200 transition-colors flex items-center gap-1",children:[e.jsx(ge,{size:12})," PDF"]}),e.jsxs("button",{onClick:()=>(e=>{f({isOpen:!0,version:e})})(n),className:"px-2 py-1 text-xs font-medium bg-amber-50 text-amber-700 rounded hover:bg-amber-100 transition-colors flex items-center gap-1 ml-auto",children:[e.jsx(be,{size:12})," Restore"]})]})]})]},`v-${n.id}`)}{const n=t.data;return e.jsxs("div",{className:"relative pl-6 pb-6 border-l-2 border-slate-100 last:border-0 last:pb-0",children:[e.jsx("div",{className:"absolute -left-[9px] top-0 w-4 h-4 rounded-full border-2 border-white bg-blue-100 shadow-sm flex items-center justify-center",children:e.jsx(ve,{size:10,className:"text-blue-600"})}),e.jsxs("div",{className:"text-sm",children:[e.jsxs("div",{className:"flex justify-between items-start mb-1",children:[e.jsx("span",{className:"font-semibold text-blue-700 flex items-center gap-1",children:"Document Shared"}),e.jsx("span",{className:"text-xs text-slate-400",children:new Date(n.created_at).toLocaleDateString()})]}),e.jsxs("div",{className:"text-xs text-slate-600 bg-slate-50 p-2 rounded border border-slate-100",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx(v,{size:12,className:"text-slate-400"}),e.jsx("span",{className:"font-medium text-slate-800",children:n.email})]}),e.jsxs("p",{className:"text-slate-400",children:["Shared by ",n.created_by||"You"]})]})]})]},`s-${n.id}`)}})})]}),e.jsx(nm,{isOpen:p.isOpen,onClose:()=>f({isOpen:!1,version:null}),onConfirm:async()=>{const{version:e}=p;if(e)try{g(!0);const t=await(async(e,t)=>await Jn.post(`/documents/${e}/restore/${t}`))(n,e.id);At.success(`Restored to Version ${e.version_number}`),l&&l(t.data.data),f({isOpen:!1,version:null}),i()}catch(t){At.error("Failed to restore version.")}finally{g(!1)}},title:"Restore Version",message:`Are you sure you want to restore Version ${p.version?.version_number}? Current changes will be replaced by this version.`,confirmText:"Restore Version",isLoading:x})]})})},xm=({isOpen:n,onClose:r,documentId:i,documentName:l,isReminder:o=!1,onSuccess:c,getHtmlContent:d,signatures:u=[]})=>{const[h,m]=vt.useState([]),[p,x]=vt.useState([]),[g,w]=vt.useState(""),[j,N]=vt.useState(""),[k,S]=vt.useState("idle"),[C,_]=vt.useState({current:0,total:0}),[P,D]=vt.useState([]);if(yt.useEffect(()=>{if(n&&u.length>0){const e=[],t=new Set;u.forEach(n=>{const s=n.metadata?.signeeEmail||"",a=n.metadata?.signeeName||"Unknown Signer",r=`${s}-${a}`;t.has(r)||(t.add(r),e.push({id:n.id,name:a,email:s,role:"signer",isValid:!!s}))}),m(e)}else n&&0===u.length&&m([])},[n,u]),!n)return null;return e.jsx(s,{children:n&&e.jsx(a.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-slate-900/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:e.jsxs(a.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},className:"bg-white rounded-xl shadow-xl w-full max-w-lg overflow-hidden flex flex-col max-h-[90vh]",children:[e.jsxs("div",{className:"p-6 border-b border-slate-100 flex justify-between items-center bg-slate-50/50 flex-shrink-0",children:[e.jsxs("div",{children:[e.jsxs("h3",{className:"font-bold text-lg text-slate-800 flex items-center gap-2",children:[o?e.jsx(Z,{size:20,className:"text-amber-500"}):e.jsx(v,{size:20,className:"text-indigo-600"}),o?"Send Reminder":"Send Document"]}),e.jsx("p",{className:"text-xs text-slate-500",children:o?`Follow up on "${l}"`:"Review signatures and send to recipients"})]}),e.jsx("button",{onClick:r,className:"text-slate-400 hover:text-slate-600 p-1 hover:bg-slate-100 rounded-full transition-colors",children:e.jsx(t,{size:20})})]}),e.jsx("div",{className:"p-6 overflow-y-auto flex-1",children:"success"===k?e.jsxs("div",{className:"text-center py-8",children:[e.jsx(a.div,{initial:{scale:0,rotate:-180},animate:{scale:1,rotate:0},className:"w-16 h-16 bg-emerald-100 text-emerald-600 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(f,{size:32})}),e.jsx("h4",{className:"font-bold text-slate-800 text-lg mb-2",children:"Sent Successfully!"}),e.jsx("p",{className:"text-slate-500 text-sm",children:"All recipients have been notified."})]}):e.jsxs("div",{className:"space-y-6",children:[h.length>0&&e.jsxs("div",{children:[e.jsxs("h4",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider mb-3 flex items-center gap-2",children:[e.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-indigo-500"}),"Signers (Detected)"]}),e.jsx("div",{className:"space-y-3",children:h.map((t,n)=>e.jsxs("div",{className:"flex items-center gap-3 bg-indigo-50/50 p-3 rounded-lg border border-indigo-100",children:[e.jsxs("div",{className:"w-8 h-8 rounded-full bg-indigo-100 text-indigo-600 flex items-center justify-center text-xs font-bold shrink-0",children:["S",n+1]}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("div",{className:"text-sm font-semibold text-slate-700 truncate",children:t.name}),e.jsx("input",{type:"email",value:t.email,onChange:e=>((e,t)=>{const n=[...h];n[e].email=t,n[e].isValid=/^\S+@\S+\.\S+$/.test(t),m(n)})(n,e.target.value),placeholder:"Enter signer email...",className:"mt-1 w-full text-xs px-2 py-1 bg-white border rounded focus:ring-1 focus:ring-indigo-500 outline-none "+(t.isValid?"border-slate-200 text-slate-600":"border-red-300 text-red-600")})]}),e.jsx("div",{className:"text-[10px] font-bold text-indigo-500 bg-indigo-100 px-2 py-1 rounded",children:"REQ"})]},n))})]}),e.jsxs("div",{children:[e.jsxs("h4",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider mb-3 flex items-center gap-2",children:[e.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-slate-400"}),"CC / Viewers"]}),e.jsxs("div",{className:"space-y-3",children:[p.map((n,s)=>e.jsxs("div",{className:"flex items-center gap-3 bg-slate-50 p-2 rounded-lg border border-slate-200",children:[e.jsx("div",{className:"w-8 h-8 rounded-full bg-slate-200 text-slate-500 flex items-center justify-center text-xs font-bold shrink-0",children:"CC"}),e.jsx("div",{className:"flex-1 text-sm text-slate-600 truncate",children:n.email}),e.jsx("button",{onClick:()=>{return e=s,void x(p.filter((t,n)=>n!==e));var e},className:"text-slate-400 hover:text-red-500 p-1",children:e.jsx(t,{size:14})})]},s)),e.jsxs("form",{onSubmit:e=>{e.preventDefault(),g&&/^\S+@\S+\.\S+$/.test(g)&&(x([...p,{email:g,role:"viewer"}]),w(""))},className:"flex gap-2",children:[e.jsx("input",{type:"email",value:g,onChange:e=>w(e.target.value),placeholder:"Add a viewer (e.g. hr@company.com)",className:"flex-1 px-3 py-2 text-sm border border-slate-200 rounded-lg focus:ring-2 focus:ring-slate-200 outline-none"}),e.jsx("button",{type:"submit",disabled:!g,className:"px-3 py-2 bg-slate-100 text-slate-600 font-medium rounded-lg text-sm hover:bg-slate-200 disabled:opacity-50",children:"Add"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-1.5",children:"Custom Message"}),e.jsx("textarea",{value:j,onChange:e=>N(e.target.value),rows:2,className:"w-full px-3 py-2 border border-slate-200 rounded-lg text-sm focus:ring-2 focus:ring-indigo-500/20 focus:border-indigo-500 outline-none resize-none",placeholder:o?"Checking in...":"Please review and sign..."})]}),P.length>0&&e.jsx("div",{className:"p-3 bg-red-50 text-red-600 text-sm rounded-lg",children:P.map((t,n)=>e.jsxs("div",{className:"flex gap-2",children:[e.jsx(b,{size:14,className:"mt-1 shrink-0"})," ",t]},n))})]})}),"success"!==k&&e.jsx("div",{className:"p-6 border-t border-slate-100 bg-slate-50/50 flex-shrink-0",children:e.jsx("button",{onClick:async()=>{S("sending"),D([]);const e=[...h.filter(e=>e.isValid).map(e=>({email:e.email,type:"signer"})),...p.map(e=>({email:e.email,type:"viewer"}))];if(0===e.length)return S("error"),void D(["No valid recipients found. Please add an email."]);_({current:0,total:e.length});let t=0;const n=[];try{let a=null;d&&(a=await d());for(let r=0;r<e.length;r++){const l=e[r];try{o?await hm(i,l.email,j):await um(i,l.email,j,a),t++}catch(s){n.push(`Failed to send to ${l.email}: ${s.message}`)}_(e=>({...e,current:r+1}))}t===e.length?(S("success"),c&&c({sent_at:(new Date).toISOString()}),setTimeout(()=>{r(),S("idle"),N(""),m([]),x([])},2e3)):(S("error"),D(n.length>0?n:["Some emails failed to send."]))}catch(a){S("error"),D(["A critical error occurred. Please try again."])}},disabled:"sending"===k||0===h.length&&0===p.length,className:"w-full py-3 font-semibold rounded-lg shadow-md hover:shadow-lg transition-all flex items-center justify-center gap-2 disabled:opacity-70 disabled:cursor-not-allowed "+(o?"bg-amber-500 hover:bg-amber-600 text-white":"bg-indigo-600 hover:bg-indigo-700 text-white"),children:"sending"===k?e.jsxs(e.Fragment,{children:[e.jsx(y,{size:18,className:"animate-spin"}),"Sending (",C.current,"/",C.total,")..."]}):e.jsxs(e.Fragment,{children:[o?e.jsx(Z,{size:18}):e.jsx(ye,{size:18}),o?"Send Reminders":"Send to All Recipients"]})})})]})})})},gm=({isOpen:n,onClose:i,onSave:l,initialData:o,parties:c})=>{const[d,u]=vt.useState({id:null,signeeName:"",signeeEmail:"",type:"all",required:!0,order:1,placeholder:"",label:""});vt.useEffect(()=>{n&&o&&u({id:o.id,signeeName:o.signeeName||"",signeeEmail:o.signeeEmail||"",type:o.type||"all",required:o.required??!0,order:o.order||1,placeholder:o.placeholder||"",label:o.label||"",fieldType:o.fieldType||"signature"})},[n,o]);const h=e=>{c&&("disclosing"===e?u(e=>({...e,signeeName:c.disclosingSignatoryName||c.disclosingPartyName||""})):"receiving"===e&&u(e=>({...e,signeeName:c.receivingSignatoryName||c.receivingPartyName||""})))};return e.jsx(s,{children:n&&e.jsxs(e.Fragment,{children:[e.jsx(a.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:i,className:"fixed inset-0 bg-black/40 z-[60] backdrop-blur-sm"}),e.jsx("div",{className:"fixed inset-0 z-[70] flex items-center justify-center p-4 pointer-events-none",children:e.jsxs(a.div,{initial:{scale:.95,opacity:0,y:20},animate:{scale:1,opacity:1,y:0},exit:{scale:.95,opacity:0,y:20},className:"bg-white rounded-xl shadow-2xl w-full max-w-md pointer-events-auto flex flex-col max-h-[90vh]",children:[e.jsxs("div",{className:"p-4 border-b border-slate-100 flex items-center justify-between bg-slate-50/50 rounded-t-xl",children:[e.jsxs("h3",{className:"font-semibold text-slate-800 flex items-center gap-2",children:[e.jsx(G,{size:18,className:"text-indigo-600"}),"Configure Signature"]}),e.jsx("button",{onClick:i,className:"p-1 hover:bg-slate-200 rounded text-slate-500",children:e.jsx(t,{size:20})})]}),e.jsxs("div",{className:"p-6 space-y-6 overflow-y-auto",children:[c&&e.jsxs("div",{className:"flex gap-2 p-1 bg-slate-100 rounded-lg",children:[e.jsx("button",{onClick:()=>h("disclosing"),className:"flex-1 text-xs font-medium py-1.5 px-3 rounded text-slate-600 hover:bg-white hover:shadow-sm hover:text-indigo-600 transition-all text-center",children:"Disclosing Party"}),e.jsx("button",{onClick:()=>h("receiving"),className:"flex-1 text-xs font-medium py-1.5 px-3 rounded text-slate-600 hover:bg-white hover:shadow-sm hover:text-indigo-600 transition-all text-center",children:"Receiving Party"})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"Signee Name"}),e.jsxs("div",{className:"relative",children:[e.jsx(j,{className:"absolute left-3 top-2.5 text-slate-400",size:16}),e.jsx("input",{type:"text",value:d.signeeName,onChange:e=>u({...d,signeeName:e.target.value}),className:"w-full pl-9 pr-3 py-2 text-sm border border-slate-200 rounded-lg focus:ring-2 focus:ring-indigo-500/20 focus:border-indigo-500 outline-none transition-all",placeholder:"e.g. John Doe"})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"Signee Email"}),e.jsx("input",{type:"email",value:d.signeeEmail,onChange:e=>u({...d,signeeEmail:e.target.value}),className:"w-full px-3 py-2 text-sm border border-slate-200 rounded-lg focus:ring-2 focus:ring-indigo-500/20 focus:border-indigo-500 outline-none transition-all",placeholder:"john@example.com"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"Signing Order"}),e.jsx("input",{type:"number",min:"1",value:d.order,onChange:e=>u({...d,order:parseInt(e.target.value)||1}),className:"w-full px-3 py-2 text-sm border border-slate-200 rounded-lg focus:ring-2 focus:ring-indigo-500/20 focus:border-indigo-500 outline-none"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"Required?"}),e.jsxs("button",{onClick:()=>u({...d,required:!d.required}),className:"w-full py-2 px-3 rounded-lg border text-sm font-medium flex items-center justify-center gap-2 transition-all "+(d.required?"bg-emerald-50 border-emerald-200 text-emerald-700":"bg-white border-slate-200 text-slate-500 hover:border-slate-300"),children:[d.required?e.jsx(we,{size:16}):e.jsx("span",{className:"w-4 h-4 block border rounded-sm border-slate-300"}),d.required?"Required":"Optional"]})]})]}),"text"===d.fieldType&&e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"Field Label"}),e.jsx("input",{type:"text",value:d.label,onChange:e=>u({...d,label:e.target.value}),className:"w-full px-3 py-2 text-sm border border-slate-200 rounded-lg outline-none focus:ring-2 focus:ring-indigo-500/20 focus:border-indigo-500",placeholder:"e.g. Full Address"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"Placeholder Text"}),e.jsx("input",{type:"text",value:d.placeholder,onChange:e=>u({...d,placeholder:e.target.value}),className:"w-full px-3 py-2 text-sm border border-slate-200 rounded-lg outline-none focus:ring-2 focus:ring-indigo-500/20 focus:border-indigo-500",placeholder:"e.g. 123 Main St..."})]})]}),(!d.fieldType||"signature"===d.fieldType)&&e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"block text-sm font-medium text-slate-700 flex items-center gap-2",children:[e.jsx(r,{size:14,className:"text-slate-400"}),"Allowed Signature Types"]}),e.jsxs("select",{value:d.type,onChange:e=>u({...d,type:e.target.value}),className:"w-full px-3 py-2 text-sm border border-slate-200 rounded-lg focus:ring-2 focus:ring-indigo-500/20 focus:border-indigo-500 outline-none bg-white",children:[e.jsx("option",{value:"all",children:"Any (Draw, Type, Upload)"}),e.jsx("option",{value:"draw",children:"Draw Only"}),e.jsx("option",{value:"text",children:"Type Only"}),e.jsx("option",{value:"upload",children:"Upload Only"})]})]})]}),e.jsxs("div",{className:"p-4 border-t border-slate-100 bg-slate-50/50 flex justify-end gap-3 rounded-b-xl",children:[e.jsx("button",{onClick:i,className:"px-4 py-2 text-sm font-medium text-slate-600 hover:text-slate-800 bg-white border border-slate-200 rounded-lg hover:border-slate-300 transition-all",children:"Cancel"}),e.jsx("button",{onClick:()=>{l(d),i()},className:"px-6 py-2 text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 rounded-lg shadow-sm shadow-indigo-200 transition-all transform active:scale-95",children:"Save Signature"})]})]})})]})})},bm={title:"Non-Disclosure Agreement",preamble:"This Non-Disclosure Agreement (Agreement) is made and entered into on this {{effectiveDateDay}} day of {{effectiveDateMonth}}, 20{{effectiveDateYear}} (Effective Date),",partiesDisclosing:'{{disclosingPartyName}}, a company/individual having its registered office/address at {{disclosingPartyAddress}} (hereinafter referred to as the "Disclosing Party"),',partiesReceiving:'{{receivingPartyName}}, a company/individual having its registered office/address at {{receivingPartyAddress}} (hereinafter referred to as the "Receiving Party").',partiesFooter:'The Disclosing Party and the Receiving Party may hereinafter be collectively referred to as the "Parties" and individually as a "Party".',sections:[{id:"1",title:"Purpose",content:"The Disclosing Party intends to disclose certain confidential and proprietary information to the Receiving Party for the purpose of {{purpose}} (Purpose)."},{id:"2",title:"Definition of Confidential Information",content:'For the purposes of this Agreement, "Confidential Information" shall mean any information disclosed by the Disclosing Party to the Receiving Party, whether orally, in writing, electronically, visually, or in any other form, including but not limited to business plans, strategies, financial information, and technical data.'},{id:"3",title:"Exclusions from Confidential Information",content:"Confidential Information shall not include information that is publicly available, lawfully known to the Receiving Party prior to disclosure, or independently developed by the Receiving Party."},{id:"4",title:"Obligations of the Receiving Party",content:"The Receiving Party agrees to keep all Confidential Information strictly confidential, use it solely for the Purpose, and not disclose it to any third party without prior written consent."},{id:"5",title:"Disclosure",content:"The Receiving Party may disclose Confidential Information only to its employees, agents, or representatives who have a legitimate need to know for the Purpose and are bound by confidentiality obligations."},{id:"6",title:"No License",content:"Nothing in this Agreement shall be construed as granting any rights, licenses, or ownership in the Confidential Information, except for the limited right to use it for the Purpose."},{id:"7",title:"Term and Survival",content:"This Agreement shall commence on the Effective Date and remain in effect for a period of {{termYears}} years. The confidentiality obligations shall survive the termination for a period of {{survivalYears}} years thereafter."},{id:"8",title:"Return of Information",content:"Upon termination of this Agreement or upon written request by the Disclosing Party, the Receiving Party shall promptly return or destroy all Confidential Information."},{id:"9",title:"Remedies",content:"The Receiving Party acknowledges that unauthorized disclosure or misuse of Confidential Information may cause irreparable harm. The Disclosing Party shall be entitled to seek injunctive relief."},{id:"10",title:"Governing Law",content:"This Agreement shall be governed by and construed in accordance with the laws of {{jurisdiction}}, and the courts of {{courtCity}} shall have exclusive jurisdiction."},{id:"11",title:"Miscellaneous",content:"This Agreement constitutes the entire understanding between the Parties. Any amendment must be in writing. Failure to enforce any provision shall not constitute a waiver."}]},vm={effectiveDateDay:"",effectiveDateMonth:"",effectiveDateYear:"",logoSize:70,logoAlignment:"center",brandingEnabled:!0,disclosingPartyName:"",disclosingPartyAddress:"",receivingPartyName:"",receivingPartyAddress:"",purpose:"",termYears:"",survivalYears:"",jurisdiction:"",courtCity:"",disclosingSignatoryName:"",disclosingSignatoryDesignation:"",receivingSignatoryName:"",receivingSignatoryDesignation:""};var ym,wm={},jm={};function Nm(){if(ym)return jm;ym=1;var e=xt(),t=gt();function n(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=Symbol.for("react.transitional.element"),a=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),h=Symbol.for("react.suspense_list"),m=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),f=Symbol.for("react.scope"),x=Symbol.for("react.activity"),g=Symbol.for("react.legacy_hidden"),b=Symbol.for("react.memo_cache_sentinel"),v=Symbol.for("react.view_transition"),y=Symbol.iterator;function w(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=y&&e[y]||e["@@iterator"])?e:null}var j=Array.isArray;function N(e,t){var n=3&e.length,s=e.length-n,a=t;for(t=0;t<s;){var r=255&e.charCodeAt(t)|(255&e.charCodeAt(++t))<<8|(255&e.charCodeAt(++t))<<16|(255&e.charCodeAt(++t))<<24;++t,a=27492+(65535&(a=5*(65535&(a=(a^=r=461845907*(65535&(r=(r=3432918353*(65535&r)+((3432918353*(r>>>16)&65535)<<16)&4294967295)<<15|r>>>17))+((461845907*(r>>>16)&65535)<<16)&4294967295)<<13|a>>>19))+((5*(a>>>16)&65535)<<16)&4294967295))+(((a>>>16)+58964&65535)<<16)}switch(r=0,n){case 3:r^=(255&e.charCodeAt(t+2))<<16;case 2:r^=(255&e.charCodeAt(t+1))<<8;case 1:a^=461845907*(65535&(r=(r=3432918353*(65535&(r^=255&e.charCodeAt(t)))+((3432918353*(r>>>16)&65535)<<16)&4294967295)<<15|r>>>17))+((461845907*(r>>>16)&65535)<<16)&4294967295}return a^=e.length,a=2246822507*(65535&(a^=a>>>16))+((2246822507*(a>>>16)&65535)<<16)&4294967295,((a=3266489909*(65535&(a^=a>>>13))+((3266489909*(a>>>16)&65535)<<16)&4294967295)^a>>>16)>>>0}var k=Object.assign,S=Object.prototype.hasOwnProperty,C=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),_={},P={};function D(e){return!!S.call(P,e)||!S.call(_,e)&&(C.test(e)?P[e]=!0:(_[e]=!0,!1))}var T=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" ")),E=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),z=/["'&<>]/;function M(e){if("boolean"==typeof e||"number"==typeof e||"bigint"==typeof e)return""+e;e=""+e;var t=z.exec(e);if(t){var n,s="",a=0;for(n=t.index;n<e.length;n++){switch(e.charCodeAt(n)){case 34:t="&quot;";break;case 38:t="&amp;";break;case 39:t="&#x27;";break;case 60:t="&lt;";break;case 62:t="&gt;";break;default:continue}a!==n&&(s+=e.slice(a,n)),a=n+1,s+=t}e=a!==n?s+e.slice(a,n):s}return e}var R=/([A-Z])/g,A=/^ms-/,O=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function F(e){return O.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var I=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,L=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,B={pending:!1,data:null,method:null,action:null},$=L.d;L.d={f:$.f,r:$.r,D:function(e){var t=pn||null;if(t){var n=t.resumableState,s=t.renderState;if("string"==typeof e&&e){var a,r;if(!n.dnsResources.hasOwnProperty(e))n.dnsResources[e]=null,(r=(n=s.headers)&&0<n.remainingCapacity)&&(a="<"+(""+e).replace(qe,Ye)+">; rel=dns-prefetch",r=0<=(n.remainingCapacity-=a.length+2)),r?(s.resets.dns[e]=null,n.preconnects&&(n.preconnects+=", "),n.preconnects+=a):(ce(a=[],{href:e,rel:"dns-prefetch"}),s.preconnects.add(a));cs(t)}}else $.D(e)},C:function(e,t){var n=pn||null;if(n){var s=n.resumableState,a=n.renderState;if("string"==typeof e&&e){var r="use-credentials"===t?"credentials":"string"==typeof t?"anonymous":"default";if(!s.connectResources[r].hasOwnProperty(e)){var i,l;if(s.connectResources[r][e]=null,l=(s=a.headers)&&0<s.remainingCapacity){if(l="<"+(""+e).replace(qe,Ye)+">; rel=preconnect","string"==typeof t)l+='; crossorigin="'+(""+t).replace(Ge,Xe)+'"';i=l,l=0<=(s.remainingCapacity-=i.length+2)}l?(a.resets.connect[r][e]=null,s.preconnects&&(s.preconnects+=", "),s.preconnects+=i):(ce(r=[],{rel:"preconnect",href:e,crossOrigin:t}),a.preconnects.add(r))}cs(n)}}else $.C(e,t)},L:function(e,t,n){var s=pn||null;if(s){var a=s.resumableState,r=s.renderState;if(t&&e){switch(t){case"image":if(n)var i=n.imageSrcSet,l=n.imageSizes,o=n.fetchPriority;var c,d=i?i+"\n"+(l||""):e;if(a.imageResources.hasOwnProperty(d))return;a.imageResources[d]=W,(a=r.headers)&&0<a.remainingCapacity&&"string"!=typeof i&&"high"===o&&(c=Ve(e,t,n),0<=(a.remainingCapacity-=c.length+2))?(r.resets.image[d]=W,a.highImagePreloads&&(a.highImagePreloads+=", "),a.highImagePreloads+=c):(ce(a=[],k({rel:"preload",href:i?void 0:e,as:t},n)),"high"===o?r.highImagePreloads.add(a):(r.bulkPreloads.add(a),r.preloads.images.set(d,a)));break;case"style":if(a.styleResources.hasOwnProperty(e))return;ce(i=[],k({rel:"preload",href:e,as:t},n)),a.styleResources[e]=!n||"string"!=typeof n.crossOrigin&&"string"!=typeof n.integrity?W:[n.crossOrigin,n.integrity],r.preloads.stylesheets.set(e,i),r.bulkPreloads.add(i);break;case"script":if(a.scriptResources.hasOwnProperty(e))return;i=[],r.preloads.scripts.set(e,i),r.bulkPreloads.add(i),ce(i,k({rel:"preload",href:e,as:t},n)),a.scriptResources[e]=!n||"string"!=typeof n.crossOrigin&&"string"!=typeof n.integrity?W:[n.crossOrigin,n.integrity];break;default:if(a.unknownResources.hasOwnProperty(t)){if((i=a.unknownResources[t]).hasOwnProperty(e))return}else i={},a.unknownResources[t]=i;if(i[e]=W,(a=r.headers)&&0<a.remainingCapacity&&"font"===t&&(d=Ve(e,t,n),0<=(a.remainingCapacity-=d.length+2)))r.resets.font[e]=W,a.fontPreloads&&(a.fontPreloads+=", "),a.fontPreloads+=d;else if("font"===(ce(a=[],e=k({rel:"preload",href:e,as:t},n)),t))r.fontPreloads.add(a);else r.bulkPreloads.add(a)}cs(s)}}else $.L(e,t,n)},m:function(e,t){var n=pn||null;if(n){var s=n.resumableState,a=n.renderState;if(e){var r=t&&"string"==typeof t.as?t.as:"script";if("script"===r){if(s.moduleScriptResources.hasOwnProperty(e))return;r=[],s.moduleScriptResources[e]=!t||"string"!=typeof t.crossOrigin&&"string"!=typeof t.integrity?W:[t.crossOrigin,t.integrity],a.preloads.moduleScripts.set(e,r)}else{if(s.moduleUnknownResources.hasOwnProperty(r)){var i=s.unknownResources[r];if(i.hasOwnProperty(e))return}else i={},s.moduleUnknownResources[r]=i;r=[],i[e]=W}ce(r,k({rel:"modulepreload",href:e},t)),a.bulkPreloads.add(r),cs(n)}}else $.m(e,t)},X:function(e,t){var n=pn||null;if(n){var s=n.resumableState,a=n.renderState;if(e){var r=s.scriptResources.hasOwnProperty(e)?s.scriptResources[e]:void 0;null!==r&&(s.scriptResources[e]=null,t=k({src:e,async:!0},t),r&&(2===r.length&&Ue(t,r),e=a.preloads.scripts.get(e))&&(e.length=0),e=[],a.scripts.add(e),pe(e,t),cs(n))}}else $.X(e,t)},S:function(e,t,n){var s=pn||null;if(s){var a=s.resumableState,r=s.renderState;if(e){t=t||"default";var i=r.styles.get(t),l=a.styleResources.hasOwnProperty(e)?a.styleResources[e]:void 0;null!==l&&(a.styleResources[e]=null,i||(i={precedence:M(t),rules:[],hrefs:[],sheets:new Map},r.styles.set(t,i)),t={state:0,props:k({rel:"stylesheet",href:e,"data-precedence":t},n)},l&&(2===l.length&&Ue(t.props,l),(r=r.preloads.stylesheets.get(e))&&0<r.length?r.length=0:t.state=1),i.sheets.set(e,t),cs(s))}}else $.S(e,t,n)},M:function(e,t){var n=pn||null;if(n){var s=n.resumableState,a=n.renderState;if(e){var r=s.moduleScriptResources.hasOwnProperty(e)?s.moduleScriptResources[e]:void 0;null!==r&&(s.moduleScriptResources[e]=null,t=k({src:e,type:"module",async:!0},t),r&&(2===r.length&&Ue(t,r),e=a.preloads.moduleScripts.get(e))&&(e.length=0),e=[],a.scripts.add(e),pe(e,t),cs(n))}}else $.M(e,t)}};var W=[],H=null,U=/(<\/|<)(s)(cript)/gi;function V(e,t,n,s){return t+("s"===n?"\\u0073":"\\u0053")+s}function q(e,t,n,s){return{insertionMode:e,selectedValue:t,tagScope:n,viewTransition:s}}function Y(e,t,n){var s=-25&e.tagScope;switch(t){case"noscript":return q(2,null,1|s,null);case"select":return q(2,null!=n.value?n.value:n.defaultValue,s,null);case"svg":return q(4,null,s,null);case"picture":return q(2,null,2|s,null);case"math":return q(5,null,s,null);case"foreignObject":return q(2,null,s,null);case"table":return q(6,null,s,null);case"thead":case"tbody":case"tfoot":return q(7,null,s,null);case"colgroup":return q(9,null,s,null);case"tr":return q(8,null,s,null);case"head":if(2>e.insertionMode)return q(3,null,s,null);break;case"html":if(0===e.insertionMode)return q(1,null,s,null)}return 6<=e.insertionMode||2>e.insertionMode?q(2,null,s,null):e.tagScope!==s?q(e.insertionMode,e.selectedValue,s,null):e}function G(e){return null===e?null:{update:e.update,enter:"none",exit:"none",share:e.update,name:e.autoName,autoName:e.autoName,nameIdx:0}}function X(e,t){return 32&t.tagScope&&(e.instructions|=128),q(t.insertionMode,t.selectedValue,12|t.tagScope,G(t.viewTransition))}function Q(e,t){e=G(t.viewTransition);var n=16|t.tagScope;return null!==e&&"none"!==e.share&&(n|=64),q(t.insertionMode,t.selectedValue,n,e)}var K=new Map;function J(e,t){if("object"!=typeof t)throw Error(n(62));var s,a=!0;for(s in t)if(S.call(t,s)){var r=t[s];if(null!=r&&"boolean"!=typeof r&&""!==r){if(0===s.indexOf("--")){var i=M(s);r=M((""+r).trim())}else void 0===(i=K.get(s))&&(i=M(s.replace(R,"-$1").toLowerCase().replace(A,"-ms-")),K.set(s,i)),r="number"==typeof r?0===r||T.has(s)?""+r:r+"px":M((""+r).trim());a?(a=!1,e.push(' style="',i,":",r)):e.push(";",i,":",r)}}a||e.push('"')}function Z(e,t,n){n&&"function"!=typeof n&&"symbol"!=typeof n&&e.push(" ",t,'=""')}function ee(e,t,n){"function"!=typeof n&&"symbol"!=typeof n&&"boolean"!=typeof n&&e.push(" ",t,'="',M(n),'"')}var te=M("javascript:throw new Error('React form unexpectedly submitted.')");function ne(e,t){this.push('<input type="hidden"'),se(e),ee(this,"name",t),ee(this,"value",e),this.push("/>")}function se(e){if("string"!=typeof e)throw Error(n(480))}function ae(e,t){if("function"==typeof t.$$FORM_ACTION){var n=e.nextFormID++;e=e.idPrefix+n;try{var s=t.$$FORM_ACTION(e);if(s){var a=s.data;null!=a&&a.forEach(se)}return s}catch(r){if("object"==typeof r&&null!==r&&"function"==typeof r.then)throw r}}return null}function re(e,t,n,s,a,r,i,l){var o=null;if("function"==typeof s){var c=ae(t,s);null!==c?(l=c.name,s=c.action||"",a=c.encType,r=c.method,i=c.target,o=c.data):(e.push(" ","formAction",'="',te,'"'),i=r=a=s=l=null,oe(t,n))}return null!=l&&ie(e,"name",l),null!=s&&ie(e,"formAction",s),null!=a&&ie(e,"formEncType",a),null!=r&&ie(e,"formMethod",r),null!=i&&ie(e,"formTarget",i),o}function ie(e,t,n){switch(t){case"className":ee(e,"class",n);break;case"tabIndex":ee(e,"tabindex",n);break;case"dir":case"role":case"viewBox":case"width":case"height":ee(e,t,n);break;case"style":J(e,n);break;case"src":case"href":if(""===n)break;case"action":case"formAction":if(null==n||"function"==typeof n||"symbol"==typeof n||"boolean"==typeof n)break;n=F(""+n),e.push(" ",t,'="',M(n),'"');break;case"defaultValue":case"defaultChecked":case"innerHTML":case"suppressContentEditableWarning":case"suppressHydrationWarning":case"ref":break;case"autoFocus":case"multiple":case"muted":Z(e,t.toLowerCase(),n);break;case"xlinkHref":if("function"==typeof n||"symbol"==typeof n||"boolean"==typeof n)break;n=F(""+n),e.push(" ","xlink:href",'="',M(n),'"');break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":"function"!=typeof n&&"symbol"!=typeof n&&e.push(" ",t,'="',M(n),'"');break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":n&&"function"!=typeof n&&"symbol"!=typeof n&&e.push(" ",t,'=""');break;case"capture":case"download":!0===n?e.push(" ",t,'=""'):!1!==n&&"function"!=typeof n&&"symbol"!=typeof n&&e.push(" ",t,'="',M(n),'"');break;case"cols":case"rows":case"size":case"span":"function"!=typeof n&&"symbol"!=typeof n&&!isNaN(n)&&1<=n&&e.push(" ",t,'="',M(n),'"');break;case"rowSpan":case"start":"function"==typeof n||"symbol"==typeof n||isNaN(n)||e.push(" ",t,'="',M(n),'"');break;case"xlinkActuate":ee(e,"xlink:actuate",n);break;case"xlinkArcrole":ee(e,"xlink:arcrole",n);break;case"xlinkRole":ee(e,"xlink:role",n);break;case"xlinkShow":ee(e,"xlink:show",n);break;case"xlinkTitle":ee(e,"xlink:title",n);break;case"xlinkType":ee(e,"xlink:type",n);break;case"xmlBase":ee(e,"xml:base",n);break;case"xmlLang":ee(e,"xml:lang",n);break;case"xmlSpace":ee(e,"xml:space",n);break;default:if((!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&D(t=E.get(t)||t)){switch(typeof n){case"function":case"symbol":return;case"boolean":var s=t.toLowerCase().slice(0,5);if("data-"!==s&&"aria-"!==s)return}e.push(" ",t,'="',M(n),'"')}}}function le(e,t,s){if(null!=t){if(null!=s)throw Error(n(60));if("object"!=typeof t||!("__html"in t))throw Error(n(61));null!=(t=t.__html)&&e.push(""+t)}}function oe(e,t){if(!(16&e.instructions)){e.instructions|=16;var n=t.preamble,s=t.bootstrapChunks;(n.htmlChunks||n.headChunks)&&0===s.length?(s.push(t.startInlineScript),$e(s,e),s.push(">",'addEventListener("submit",function(a){if(!a.defaultPrevented){var c=a.target,d=a.submitter,e=c.action,b=d;if(d){var f=d.getAttribute("formAction");null!=f&&(e=f,b=null)}"javascript:throw new Error(\'React form unexpectedly submitted.\')"===e&&(a.preventDefault(),b?(a=document.createElement("input"),a.name=b.name,a.value=b.value,b.parentNode.insertBefore(a,b),b=new FormData(c),a.parentNode.removeChild(a)):b=new FormData(c),a=c.ownerDocument||c,(a.$$reactFormReplay=a.$$reactFormReplay||[]).push(c,d,b))}});',"<\/script>")):s.unshift(t.startInlineScript,">",'addEventListener("submit",function(a){if(!a.defaultPrevented){var c=a.target,d=a.submitter,e=c.action,b=d;if(d){var f=d.getAttribute("formAction");null!=f&&(e=f,b=null)}"javascript:throw new Error(\'React form unexpectedly submitted.\')"===e&&(a.preventDefault(),b?(a=document.createElement("input"),a.name=b.name,a.value=b.value,b.parentNode.insertBefore(a,b),b=new FormData(c),a.parentNode.removeChild(a)):b=new FormData(c),a=c.ownerDocument||c,(a.$$reactFormReplay=a.$$reactFormReplay||[]).push(c,d,b))}});',"<\/script>")}}function ce(e,t){for(var s in e.push(ve("link")),t)if(S.call(t,s)){var a=t[s];if(null!=a)switch(s){case"children":case"dangerouslySetInnerHTML":throw Error(n(399,"link"));default:ie(e,s,a)}}return e.push("/>"),null}var de=/(<\/|<)(s)(tyle)/gi;function ue(e,t,n,s){return t+("s"===n?"\\73 ":"\\53 ")+s}function he(e,t,s){for(var a in e.push(ve(s)),t)if(S.call(t,a)){var r=t[a];if(null!=r)switch(a){case"children":case"dangerouslySetInnerHTML":throw Error(n(399,s));default:ie(e,a,r)}}return e.push("/>"),null}function me(e,t){e.push(ve("title"));var n,s=null,a=null;for(n in t)if(S.call(t,n)){var r=t[n];if(null!=r)switch(n){case"children":s=r;break;case"dangerouslySetInnerHTML":a=r;break;default:ie(e,n,r)}}return e.push(">"),"function"!=typeof(t=Array.isArray(s)?2>s.length?s[0]:null:s)&&"symbol"!=typeof t&&null!=t&&e.push(M(""+t)),le(e,a,s),e.push(je("title")),null}function pe(e,t){e.push(ve("script"));var n,s=null,a=null;for(n in t)if(S.call(t,n)){var r=t[n];if(null!=r)switch(n){case"children":s=r;break;case"dangerouslySetInnerHTML":a=r;break;default:ie(e,n,r)}}return e.push(">"),le(e,a,s),"string"==typeof s&&e.push((""+s).replace(U,V)),e.push(je("script")),null}function fe(e,t,n){e.push(ve(n));var s,a=n=null;for(s in t)if(S.call(t,s)){var r=t[s];if(null!=r)switch(s){case"children":n=r;break;case"dangerouslySetInnerHTML":a=r;break;default:ie(e,s,r)}}return e.push(">"),le(e,a,n),n}function xe(e,t,n){e.push(ve(n));var s,a=n=null;for(s in t)if(S.call(t,s)){var r=t[s];if(null!=r)switch(s){case"children":n=r;break;case"dangerouslySetInnerHTML":a=r;break;default:ie(e,s,r)}}return e.push(">"),le(e,a,n),"string"==typeof n?(e.push(M(n)),null):n}var ge=/^[a-zA-Z][a-zA-Z:_\.\-\d]*$/,be=new Map;function ve(e){var t=be.get(e);if(void 0===t){if(!ge.test(e))throw Error(n(65,e));t="<"+e,be.set(e,t)}return t}function ye(t,s,a,r,i,l,o,c,d){switch(s){case"div":case"span":case"svg":case"path":case"g":case"p":case"li":case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":break;case"a":t.push(ve("a"));var u,h=null,m=null;for(u in a)if(S.call(a,u)){var p=a[u];if(null!=p)switch(u){case"children":h=p;break;case"dangerouslySetInnerHTML":m=p;break;case"href":""===p?ee(t,"href",""):ie(t,u,p);break;default:ie(t,u,p)}}if(t.push(">"),le(t,m,h),"string"==typeof h){t.push(M(h));var f=null}else f=h;return f;case"select":t.push(ve("select"));var x,g=null,b=null;for(x in a)if(S.call(a,x)){var v=a[x];if(null!=v)switch(x){case"children":g=v;break;case"dangerouslySetInnerHTML":b=v;break;case"defaultValue":case"value":break;default:ie(t,x,v)}}return t.push(">"),le(t,b,g),g;case"option":var y=c.selectedValue;t.push(ve("option"));var w,N=null,C=null,_=null,P=null;for(w in a)if(S.call(a,w)){var T=a[w];if(null!=T)switch(w){case"children":N=T;break;case"selected":_=T;break;case"dangerouslySetInnerHTML":P=T;break;case"value":C=T;default:ie(t,w,T)}}if(null!=y){var E=null!==C?""+C:function(t){var n="";return e.Children.forEach(t,function(e){null!=e&&(n+=e)}),n}(N);if(j(y)){for(var z=0;z<y.length;z++)if(""+y[z]===E){t.push(' selected=""');break}}else""+y===E&&t.push(' selected=""')}else _&&t.push(' selected=""');return t.push(">"),le(t,P,N),N;case"textarea":t.push(ve("textarea"));var R,A=null,O=null,I=null;for(R in a)if(S.call(a,R)){var L=a[R];if(null!=L)switch(R){case"children":I=L;break;case"value":A=L;break;case"defaultValue":O=L;break;case"dangerouslySetInnerHTML":throw Error(n(91));default:ie(t,R,L)}}if(null===A&&null!==O&&(A=O),t.push(">"),null!=I){if(null!=A)throw Error(n(92));if(j(I)){if(1<I.length)throw Error(n(93));A=""+I[0]}A=""+I}return"string"==typeof A&&"\n"===A[0]&&t.push("\n"),null!==A&&t.push(M(""+A)),null;case"input":t.push(ve("input"));var B,$=null,H=null,U=null,V=null,q=null,Y=null,G=null,X=null,Q=null;for(B in a)if(S.call(a,B)){var K=a[B];if(null!=K)switch(B){case"children":case"dangerouslySetInnerHTML":throw Error(n(399,"input"));case"name":$=K;break;case"formAction":H=K;break;case"formEncType":U=K;break;case"formMethod":V=K;break;case"formTarget":q=K;break;case"defaultChecked":Q=K;break;case"defaultValue":G=K;break;case"checked":X=K;break;case"value":Y=K;break;default:ie(t,B,K)}}var se=re(t,r,i,H,U,V,q,$);return null!==X?Z(t,"checked",X):null!==Q&&Z(t,"checked",Q),null!==Y?ie(t,"value",Y):null!==G&&ie(t,"value",G),t.push("/>"),null!=se&&se.forEach(ne,t),null;case"button":t.push(ve("button"));var ge,be=null,ye=null,we=null,Ne=null,ke=null,Se=null,Ce=null;for(ge in a)if(S.call(a,ge)){var _e=a[ge];if(null!=_e)switch(ge){case"children":be=_e;break;case"dangerouslySetInnerHTML":ye=_e;break;case"name":we=_e;break;case"formAction":Ne=_e;break;case"formEncType":ke=_e;break;case"formMethod":Se=_e;break;case"formTarget":Ce=_e;break;default:ie(t,ge,_e)}}var Pe=re(t,r,i,Ne,ke,Se,Ce,we);if(t.push(">"),null!=Pe&&Pe.forEach(ne,t),le(t,ye,be),"string"==typeof be){t.push(M(be));var De=null}else De=be;return De;case"form":t.push(ve("form"));var Te,Ee=null,ze=null,Me=null,Re=null,Ae=null,Oe=null;for(Te in a)if(S.call(a,Te)){var Fe=a[Te];if(null!=Fe)switch(Te){case"children":Ee=Fe;break;case"dangerouslySetInnerHTML":ze=Fe;break;case"action":Me=Fe;break;case"encType":Re=Fe;break;case"method":Ae=Fe;break;case"target":Oe=Fe;break;default:ie(t,Te,Fe)}}var Ie=null,Le=null;if("function"==typeof Me){var Be=ae(r,Me);null!==Be?(Me=Be.action||"",Re=Be.encType,Ae=Be.method,Oe=Be.target,Ie=Be.data,Le=Be.name):(t.push(" ","action",'="',te,'"'),Oe=Ae=Re=Me=null,oe(r,i))}if(null!=Me&&ie(t,"action",Me),null!=Re&&ie(t,"encType",Re),null!=Ae&&ie(t,"method",Ae),null!=Oe&&ie(t,"target",Oe),t.push(">"),null!==Le&&(t.push('<input type="hidden"'),ee(t,"name",Le),t.push("/>"),null!=Ie&&Ie.forEach(ne,t)),le(t,ze,Ee),"string"==typeof Ee){t.push(M(Ee));var $e=null}else $e=Ee;return $e;case"menuitem":for(var We in t.push(ve("menuitem")),a)if(S.call(a,We)){var He=a[We];if(null!=He)switch(We){case"children":case"dangerouslySetInnerHTML":throw Error(n(400));default:ie(t,We,He)}}return t.push(">"),null;case"object":t.push(ve("object"));var qe,Ye=null,Ge=null;for(qe in a)if(S.call(a,qe)){var Xe=a[qe];if(null!=Xe)switch(qe){case"children":Ye=Xe;break;case"dangerouslySetInnerHTML":Ge=Xe;break;case"data":var Qe=F(""+Xe);if(""===Qe)break;t.push(" ","data",'="',M(Qe),'"');break;default:ie(t,qe,Xe)}}if(t.push(">"),le(t,Ge,Ye),"string"==typeof Ye){t.push(M(Ye));var Ke=null}else Ke=Ye;return Ke;case"title":var Je=1&c.tagScope,Ze=4&c.tagScope;if(4===c.insertionMode||Je||null!=a.itemProp)var et=me(t,a);else Ze?et=null:(me(i.hoistableChunks,a),et=void 0);return et;case"link":var tt=1&c.tagScope,nt=4&c.tagScope,st=a.rel,at=a.href,rt=a.precedence;if(4===c.insertionMode||tt||null!=a.itemProp||"string"!=typeof st||"string"!=typeof at||""===at){ce(t,a);var it=null}else if("stylesheet"===a.rel)if("string"!=typeof rt||null!=a.disabled||a.onLoad||a.onError)it=ce(t,a);else{var lt=i.styles.get(rt),ot=r.styleResources.hasOwnProperty(at)?r.styleResources[at]:void 0;if(null!==ot){r.styleResources[at]=null,lt||(lt={precedence:M(rt),rules:[],hrefs:[],sheets:new Map},i.styles.set(rt,lt));var ct={state:0,props:k({},a,{"data-precedence":a.precedence,precedence:null})};if(ot){2===ot.length&&Ue(ct.props,ot);var dt=i.preloads.stylesheets.get(at);dt&&0<dt.length?dt.length=0:ct.state=1}lt.sheets.set(at,ct),o&&o.stylesheets.add(ct)}else if(lt){var ut=lt.sheets.get(at);ut&&o&&o.stylesheets.add(ut)}d&&t.push("\x3c!-- --\x3e"),it=null}else a.onLoad||a.onError?it=ce(t,a):(d&&t.push("\x3c!-- --\x3e"),it=nt?null:ce(i.hoistableChunks,a));return it;case"script":var ht=1&c.tagScope,mt=a.async;if("string"!=typeof a.src||!a.src||!mt||"function"==typeof mt||"symbol"==typeof mt||a.onLoad||a.onError||4===c.insertionMode||ht||null!=a.itemProp)var pt=pe(t,a);else{var ft=a.src;if("module"===a.type)var xt=r.moduleScriptResources,gt=i.preloads.moduleScripts;else xt=r.scriptResources,gt=i.preloads.scripts;var bt=xt.hasOwnProperty(ft)?xt[ft]:void 0;if(null!==bt){xt[ft]=null;var vt=a;if(bt){2===bt.length&&Ue(vt=k({},a),bt);var yt=gt.get(ft);yt&&(yt.length=0)}var wt=[];i.scripts.add(wt),pe(wt,vt)}d&&t.push("\x3c!-- --\x3e"),pt=null}return pt;case"style":var jt=1&c.tagScope,Nt=a.precedence,kt=a.href,St=a.nonce;if(4===c.insertionMode||jt||null!=a.itemProp||"string"!=typeof Nt||"string"!=typeof kt||""===kt){t.push(ve("style"));var Ct,_t=null,Pt=null;for(Ct in a)if(S.call(a,Ct)){var Dt=a[Ct];if(null!=Dt)switch(Ct){case"children":_t=Dt;break;case"dangerouslySetInnerHTML":Pt=Dt;break;default:ie(t,Ct,Dt)}}t.push(">");var Tt=Array.isArray(_t)?2>_t.length?_t[0]:null:_t;"function"!=typeof Tt&&"symbol"!=typeof Tt&&null!=Tt&&t.push((""+Tt).replace(de,ue)),le(t,Pt,_t),t.push(je("style"));var Et=null}else{var zt=i.styles.get(Nt);if(null!==(r.styleResources.hasOwnProperty(kt)?r.styleResources[kt]:void 0)){r.styleResources[kt]=null,zt||(zt={precedence:M(Nt),rules:[],hrefs:[],sheets:new Map},i.styles.set(Nt,zt));var Mt=i.nonce.style;if(!Mt||Mt===St){zt.hrefs.push(M(kt));var Rt,At=zt.rules,Ot=null,Ft=null;for(Rt in a)if(S.call(a,Rt)){var It=a[Rt];if(null!=It)switch(Rt){case"children":Ot=It;break;case"dangerouslySetInnerHTML":Ft=It}}var Lt=Array.isArray(Ot)?2>Ot.length?Ot[0]:null:Ot;"function"!=typeof Lt&&"symbol"!=typeof Lt&&null!=Lt&&At.push((""+Lt).replace(de,ue)),le(At,Ft,Ot)}}zt&&o&&o.styles.add(zt),d&&t.push("\x3c!-- --\x3e"),Et=void 0}return Et;case"meta":var Bt=1&c.tagScope,$t=4&c.tagScope;if(4===c.insertionMode||Bt||null!=a.itemProp)var Wt=he(t,a,"meta");else d&&t.push("\x3c!-- --\x3e"),Wt=$t?null:"string"==typeof a.charSet?he(i.charsetChunks,a,"meta"):"viewport"===a.name?he(i.viewportChunks,a,"meta"):he(i.hoistableChunks,a,"meta");return Wt;case"listing":case"pre":t.push(ve(s));var Ht,Ut=null,Vt=null;for(Ht in a)if(S.call(a,Ht)){var qt=a[Ht];if(null!=qt)switch(Ht){case"children":Ut=qt;break;case"dangerouslySetInnerHTML":Vt=qt;break;default:ie(t,Ht,qt)}}if(t.push(">"),null!=Vt){if(null!=Ut)throw Error(n(60));if("object"!=typeof Vt||!("__html"in Vt))throw Error(n(61));var Yt=Vt.__html;null!=Yt&&("string"==typeof Yt&&0<Yt.length&&"\n"===Yt[0]?t.push("\n",Yt):t.push(""+Yt))}return"string"==typeof Ut&&"\n"===Ut[0]&&t.push("\n"),Ut;case"img":var Gt=3&c.tagScope,Xt=a.src,Qt=a.srcSet;if(!("lazy"===a.loading||!Xt&&!Qt||"string"!=typeof Xt&&null!=Xt||"string"!=typeof Qt&&null!=Qt||"low"===a.fetchPriority||Gt)&&("string"!=typeof Xt||":"!==Xt[4]||"d"!==Xt[0]&&"D"!==Xt[0]||"a"!==Xt[1]&&"A"!==Xt[1]||"t"!==Xt[2]&&"T"!==Xt[2]||"a"!==Xt[3]&&"A"!==Xt[3])&&("string"!=typeof Qt||":"!==Qt[4]||"d"!==Qt[0]&&"D"!==Qt[0]||"a"!==Qt[1]&&"A"!==Qt[1]||"t"!==Qt[2]&&"T"!==Qt[2]||"a"!==Qt[3]&&"A"!==Qt[3])){null!==o&&64&c.tagScope&&(o.suspenseyImages=!0);var Kt="string"==typeof a.sizes?a.sizes:void 0,Jt=Qt?Qt+"\n"+(Kt||""):Xt,Zt=i.preloads.images,en=Zt.get(Jt);if(en)("high"===a.fetchPriority||10>i.highImagePreloads.size)&&(Zt.delete(Jt),i.highImagePreloads.add(en));else if(!r.imageResources.hasOwnProperty(Jt)){r.imageResources[Jt]=W;var tn,nn=a.crossOrigin,sn="string"==typeof nn?"use-credentials"===nn?nn:"":void 0,an=i.headers;an&&0<an.remainingCapacity&&"string"!=typeof a.srcSet&&("high"===a.fetchPriority||500>an.highImagePreloads.length)&&(tn=Ve(Xt,"image",{imageSrcSet:a.srcSet,imageSizes:a.sizes,crossOrigin:sn,integrity:a.integrity,nonce:a.nonce,type:a.type,fetchPriority:a.fetchPriority,referrerPolicy:a.refererPolicy}),0<=(an.remainingCapacity-=tn.length+2))?(i.resets.image[Jt]=W,an.highImagePreloads&&(an.highImagePreloads+=", "),an.highImagePreloads+=tn):(ce(en=[],{rel:"preload",as:"image",href:Qt?void 0:Xt,imageSrcSet:Qt,imageSizes:Kt,crossOrigin:sn,integrity:a.integrity,type:a.type,fetchPriority:a.fetchPriority,referrerPolicy:a.referrerPolicy}),"high"===a.fetchPriority||10>i.highImagePreloads.size?i.highImagePreloads.add(en):(i.bulkPreloads.add(en),Zt.set(Jt,en)))}}return he(t,a,"img");case"base":case"area":case"br":case"col":case"embed":case"hr":case"keygen":case"param":case"source":case"track":case"wbr":return he(t,a,s);case"head":if(2>c.insertionMode){var rn=l||i.preamble;if(rn.headChunks)throw Error(n(545,"`<head>`"));null!==l&&t.push("\x3c!--head--\x3e"),rn.headChunks=[];var ln=fe(rn.headChunks,a,"head")}else ln=xe(t,a,"head");return ln;case"body":if(2>c.insertionMode){var on=l||i.preamble;if(on.bodyChunks)throw Error(n(545,"`<body>`"));null!==l&&t.push("\x3c!--body--\x3e"),on.bodyChunks=[];var cn=fe(on.bodyChunks,a,"body")}else cn=xe(t,a,"body");return cn;case"html":if(0===c.insertionMode){var dn=l||i.preamble;if(dn.htmlChunks)throw Error(n(545,"`<html>`"));null!==l&&t.push("\x3c!--html--\x3e"),dn.htmlChunks=[""];var un=fe(dn.htmlChunks,a,"html")}else un=xe(t,a,"html");return un;default:if(-1!==s.indexOf("-")){t.push(ve(s));var hn,mn=null,pn=null;for(hn in a)if(S.call(a,hn)){var fn=a[hn];if(null!=fn){var xn=hn;switch(hn){case"children":mn=fn;break;case"dangerouslySetInnerHTML":pn=fn;break;case"style":J(t,fn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"ref":break;case"className":xn="class";default:if(D(hn)&&"function"!=typeof fn&&"symbol"!=typeof fn&&!1!==fn){if(!0===fn)fn="";else if("object"==typeof fn)continue;t.push(" ",xn,'="',M(fn),'"')}}}}return t.push(">"),le(t,pn,mn),mn}}return xe(t,a,s)}var we=new Map;function je(e){var t=we.get(e);return void 0===t&&(t="</"+e+">",we.set(e,t)),t}function Ne(e,t){null===(e=e.preamble).htmlChunks&&t.htmlChunks&&(e.htmlChunks=t.htmlChunks),null===e.headChunks&&t.headChunks&&(e.headChunks=t.headChunks),null===e.bodyChunks&&t.bodyChunks&&(e.bodyChunks=t.bodyChunks)}function ke(e,t){t=t.bootstrapChunks;for(var n=0;n<t.length-1;n++)e.push(t[n]);return!(n<t.length)||(n=t[n],t.length=0,e.push(n))}function Se(e,t,s){if(e.push('\x3c!--$?--\x3e<template id="'),null===s)throw Error(n(395));return e.push(t.boundaryPrefix),t=s.toString(16),e.push(t),e.push('"></template>')}var Ce=/[<\u2028\u2029]/g;function _e(e){return JSON.stringify(e).replace(Ce,function(e){switch(e){case"<":return"\\u003c";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:throw Error("escapeJSStringsForInstructionScripts encountered a match it does not know how to replace. this means the match regex and the replacement characters are no longer in sync. This is a bug in React")}})}var Pe=/[&><\u2028\u2029]/g;function De(e){return JSON.stringify(e).replace(Pe,function(e){switch(e){case"&":return"\\u0026";case">":return"\\u003e";case"<":return"\\u003c";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:throw Error("escapeJSObjectForInstructionScripts encountered a match it does not know how to replace. this means the match regex and the replacement characters are no longer in sync. This is a bug in React")}})}var Te=!1,Ee=!0;function ze(e){var t=e.rules,n=e.hrefs,s=0;if(n.length){for(this.push(H.startInlineStyle),this.push(' media="not all" data-precedence="'),this.push(e.precedence),this.push('" data-href="');s<n.length-1;s++)this.push(n[s]),this.push(" ");for(this.push(n[s]),this.push('">'),s=0;s<t.length;s++)this.push(t[s]);Ee=this.push("</style>"),Te=!0,t.length=0,n.length=0}}function Me(e){return 2!==e.state&&(Te=!0)}function Re(e,t,n){return Te=!1,Ee=!0,H=n,t.styles.forEach(ze,e),H=null,t.stylesheets.forEach(Me),Te&&(n.stylesToHoist=!0),Ee}function Ae(e){for(var t=0;t<e.length;t++)this.push(e[t]);e.length=0}var Oe=[];function Fe(e){ce(Oe,e.props);for(var t=0;t<Oe.length;t++)this.push(Oe[t]);Oe.length=0,e.state=2}function Ie(e){var t=0<e.sheets.size;e.sheets.forEach(Fe,this),e.sheets.clear();var n=e.rules,s=e.hrefs;if(!t||s.length){if(this.push(H.startInlineStyle),this.push(' data-precedence="'),this.push(e.precedence),e=0,s.length){for(this.push('" data-href="');e<s.length-1;e++)this.push(s[e]),this.push(" ");this.push(s[e])}for(this.push('">'),e=0;e<n.length;e++)this.push(n[e]);this.push("</style>"),n.length=0,s.length=0}}function Le(e){if(0===e.state){e.state=1;var t=e.props;for(ce(Oe,{rel:"preload",as:"style",href:e.props.href,crossOrigin:t.crossOrigin,fetchPriority:t.fetchPriority,integrity:t.integrity,media:t.media,hrefLang:t.hrefLang,referrerPolicy:t.referrerPolicy}),e=0;e<Oe.length;e++)this.push(Oe[e]);Oe.length=0}}function Be(e){e.sheets.forEach(Le,this),e.sheets.clear()}function $e(e,t){!(32&t.instructions)&&(t.instructions|=32,e.push(' id="',M("_"+t.idPrefix+"R_"),'"'))}function We(e,t,n){var s=t.toLowerCase();switch(typeof n){case"function":case"symbol":return}switch(t){case"innerHTML":case"dangerouslySetInnerHTML":case"suppressContentEditableWarning":case"suppressHydrationWarning":case"style":case"ref":return;case"className":s="class",t=""+n;break;case"hidden":if(!1===n)return;t="";break;case"src":case"href":t=""+(n=F(n));break;default:if(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])||!D(t))return;t=""+n}e.push(","),s=De(s),e.push(s),e.push(","),s=De(t),e.push(s)}function He(){return{styles:new Set,stylesheets:new Set,suspenseyImages:!1}}function Ue(e,t){null==e.crossOrigin&&(e.crossOrigin=t[0]),null==e.integrity&&(e.integrity=t[1])}function Ve(e,t,n){for(var s in t="<"+(e=(""+e).replace(qe,Ye))+'>; rel=preload; as="'+(t=(""+t).replace(Ge,Xe))+'"',n)S.call(n,s)&&("string"==typeof(e=n[s])&&(t+="; "+s.toLowerCase()+'="'+(""+e).replace(Ge,Xe)+'"'));return t}var qe=/[<>\r\n]/g;function Ye(e){switch(e){case"<":return"%3C";case">":return"%3E";case"\n":return"%0A";case"\r":return"%0D";default:throw Error("escapeLinkHrefForHeaderContextReplacer encountered a match it does not know how to replace. this means the match regex and the replacement characters are no longer in sync. This is a bug in React")}}var Ge=/["';,\r\n]/g;function Xe(e){switch(e){case'"':return"%22";case"'":return"%27";case";":return"%3B";case",":return"%2C";case"\n":return"%0A";case"\r":return"%0D";default:throw Error("escapeStringForLinkHeaderQuotedParamValueContextReplacer encountered a match it does not know how to replace. this means the match regex and the replacement characters are no longer in sync. This is a bug in React")}}function Qe(e){this.styles.add(e)}function Ke(e){this.stylesheets.add(e)}function Je(e,t){t.styles.forEach(Qe,e),t.stylesheets.forEach(Ke,e),t.suspenseyImages&&(e.suspenseyImages=!0)}function Ze(e,t,n,s){return n.generateStaticMarkup?(e.push(M(t)),!1):(""===t?e=s:(s&&e.push("\x3c!-- --\x3e"),e.push(M(t)),e=!0),e)}function et(e,t,n,s){t.generateStaticMarkup||n&&s&&e.push("\x3c!-- --\x3e")}var tt=Function.prototype.bind,nt=Symbol.for("react.client.reference");function st(e){if(null==e)return null;if("function"==typeof e)return e.$$typeof===nt?null:e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case r:return"Fragment";case l:return"Profiler";case i:return"StrictMode";case u:return"Suspense";case h:return"SuspenseList";case x:return"Activity"}if("object"==typeof e)switch(e.$$typeof){case a:return"Portal";case c:return e.displayName||"Context";case o:return(e._context.displayName||"Context")+".Consumer";case d:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case m:return null!==(t=e.displayName||null)?t:st(e.type)||"Memo";case p:t=e._payload,e=e._init;try{return st(e(t))}catch(n){}}return null}var at={},rt=null;function it(e,t){if(e!==t){e.context._currentValue2=e.parentValue,e=e.parent;var s=t.parent;if(null===e){if(null!==s)throw Error(n(401))}else{if(null===s)throw Error(n(401));it(e,s)}t.context._currentValue2=t.value}}function lt(e){e.context._currentValue2=e.parentValue,null!==(e=e.parent)&&lt(e)}function ot(e){var t=e.parent;null!==t&&ot(t),e.context._currentValue2=e.value}function ct(e,t){if(e.context._currentValue2=e.parentValue,null===(e=e.parent))throw Error(n(402));e.depth===t.depth?it(e,t):ct(e,t)}function dt(e,t){var s=t.parent;if(null===s)throw Error(n(402));e.depth===s.depth?it(e,s):dt(e,s),t.context._currentValue2=t.value}function ut(e){var t=rt;t!==e&&(null===t?ot(e):null===e?lt(t):t.depth===e.depth?it(t,e):t.depth>e.depth?ct(t,e):dt(t,e),rt=e)}var ht={enqueueSetState:function(e,t){null!==(e=e._reactInternals).queue&&e.queue.push(t)},enqueueReplaceState:function(e,t){(e=e._reactInternals).replace=!0,e.queue=[t]},enqueueForceUpdate:function(){}},mt={id:1,overflow:""};function pt(e,t,n){var s=e.id;e=e.overflow;var a=32-ft(s)-1;s&=~(1<<a),n+=1;var r=32-ft(t)+a;if(30<r){var i=a-a%5;return r=(s&(1<<i)-1).toString(32),s>>=i,a-=i,{id:1<<32-ft(t)+a|n<<a|s,overflow:r+e}}return{id:1<<r|n<<a|s,overflow:e}}var ft=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(bt(e)/vt|0)|0},bt=Math.log,vt=Math.LN2;function yt(){}var wt=Error(n(460));var jt=null;function Nt(){if(null===jt)throw Error(n(459));var e=jt;return jt=null,e}var kt="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},St=null,Ct=null,_t=null,Pt=null,Dt=null,Tt=null,Et=!1,zt=!1,Mt=0,Rt=0,At=-1,Ot=0,Ft=null,It=null,Lt=0;function Bt(){if(null===St)throw Error(n(321));return St}function $t(){if(0<Lt)throw Error(n(312));return{memoizedState:null,queue:null,next:null}}function Wt(){return null===Tt?null===Dt?(Et=!1,Dt=Tt=$t()):(Et=!0,Tt=Dt):null===Tt.next?(Et=!1,Tt=Tt.next=$t()):(Et=!0,Tt=Tt.next),Tt}function Ht(){var e=Ft;return Ft=null,e}function Ut(){Pt=_t=Ct=St=null,zt=!1,Dt=null,Lt=0,Tt=It=null}function Vt(e,t){return"function"==typeof t?t(e):t}function qt(e,t,n){if(St=Bt(),Tt=Wt(),Et){var s=Tt.queue;if(t=s.dispatch,null!==It&&void 0!==(n=It.get(s))){It.delete(s),s=Tt.memoizedState;do{s=e(s,n.action),n=n.next}while(null!==n);return Tt.memoizedState=s,[s,t]}return[Tt.memoizedState,t]}return e=e===Vt?"function"==typeof t?t():t:void 0!==n?n(t):t,Tt.memoizedState=e,e=(e=Tt.queue={last:null,dispatch:null}).dispatch=Gt.bind(null,St,e),[Tt.memoizedState,e]}function Yt(e,t){if(St=Bt(),t=void 0===t?null:t,null!==(Tt=Wt())){var n=Tt.memoizedState;if(null!==n&&null!==t){var s=n[1];e:if(null===s)s=!1;else{for(var a=0;a<s.length&&a<t.length;a++)if(!kt(t[a],s[a])){s=!1;break e}s=!0}if(s)return n[0]}}return e=e(),Tt.memoizedState=[e,t],e}function Gt(e,t,s){if(25<=Lt)throw Error(n(301));if(e===St)if(zt=!0,e={action:s,next:null},null===It&&(It=new Map),void 0===(s=It.get(t)))It.set(t,e);else{for(t=s;null!==t.next;)t=t.next;t.next=e}}function Xt(){throw Error(n(440))}function Qt(){throw Error(n(394))}function Kt(){throw Error(n(479))}function Jt(e,t,n){Bt();var s=Rt++,a=_t;if("function"==typeof e.$$FORM_ACTION){var r=null,i=Pt;a=a.formState;var l=e.$$IS_SIGNATURE_EQUAL;if(null!==a&&"function"==typeof l){var o=a[1];l.call(e,a[2],a[3])&&(o===(r=void 0!==n?"p"+n:"k"+N(JSON.stringify([i,null,s]),0))&&(At=s,t=a[0]))}var c=e.bind(null,t);return e=function(e){c(e)},"function"==typeof c.$$FORM_ACTION&&(e.$$FORM_ACTION=function(e){e=c.$$FORM_ACTION(e),void 0!==n&&(n+="",e.action=n);var t=e.data;return t&&(null===r&&(r=void 0!==n?"p"+n:"k"+N(JSON.stringify([i,null,s]),0)),t.append("$ACTION_KEY",r)),e}),[t,e,!1]}var d=e.bind(null,t);return[t,function(e){d(e)},!1]}function Zt(e){var t=Ot;return Ot+=1,null===Ft&&(Ft=[]),function(e,t,n){switch(void 0===(n=e[n])?e.push(t):n!==t&&(t.then(yt,yt),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw t.reason;default:switch("string"==typeof t.status?t.then(yt,yt):((e=t).status="pending",e.then(function(e){if("pending"===t.status){var n=t;n.status="fulfilled",n.value=e}},function(e){if("pending"===t.status){var n=t;n.status="rejected",n.reason=e}})),t.status){case"fulfilled":return t.value;case"rejected":throw t.reason}throw jt=t,wt}}(Ft,e,t)}function en(){throw Error(n(393))}var tn,nn,sn={readContext:function(e){return e._currentValue2},use:function(e){if(null!==e&&"object"==typeof e){if("function"==typeof e.then)return Zt(e);if(e.$$typeof===c)return e._currentValue2}throw Error(n(438,String(e)))},useContext:function(e){return Bt(),e._currentValue2},useMemo:Yt,useReducer:qt,useRef:function(e){St=Bt();var t=(Tt=Wt()).memoizedState;return null===t?(e={current:e},Tt.memoizedState=e):t},useState:function(e){return qt(Vt,e)},useInsertionEffect:yt,useLayoutEffect:yt,useCallback:function(e,t){return Yt(function(){return e},t)},useImperativeHandle:yt,useEffect:yt,useDebugValue:yt,useDeferredValue:function(e,t){return Bt(),void 0!==t?t:e},useTransition:function(){return Bt(),[!1,Qt]},useId:function(){var e=Ct.treeContext,t=e.overflow;e=((e=e.id)&~(1<<32-ft(e)-1)).toString(32)+t;var s=an;if(null===s)throw Error(n(404));return t=Mt++,e="_"+s.idPrefix+"R_"+e,0<t&&(e+="H"+t.toString(32)),e+"_"},useSyncExternalStore:function(e,t,s){if(void 0===s)throw Error(n(407));return s()},useOptimistic:function(e){return Bt(),[e,Kt]},useActionState:Jt,useFormState:Jt,useHostTransitionStatus:function(){return Bt(),B},useMemoCache:function(e){for(var t=Array(e),n=0;n<e;n++)t[n]=b;return t},useCacheRefresh:function(){return en},useEffectEvent:function(){return Xt}},an=null,rn={getCacheForType:function(){throw Error(n(248))},cacheSignal:function(){throw Error(n(248))}};function ln(e){if(void 0===tn)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);tn=t&&t[1]||"",nn=-1<n.stack.indexOf("\n    at")?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return"\n"+tn+e+nn}var on=!1;function cn(e,t){if(!e||on)return"";on=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var s={DetermineComponentFrameRoot:function(){try{if(t){var n=function(){throw Error()};if(Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(n,[])}catch(a){var s=a}Reflect.construct(e,[],n)}else{try{n.call()}catch(r){s=r}e.call(n.prototype)}}else{try{throw Error()}catch(i){s=i}(n=e())&&"function"==typeof n.catch&&n.catch(function(){})}}catch(l){if(l&&s&&"string"==typeof l.stack)return[l.stack,s.stack]}return[null,null]}};s.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var a=Object.getOwnPropertyDescriptor(s.DetermineComponentFrameRoot,"name");a&&a.configurable&&Object.defineProperty(s.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var r=s.DetermineComponentFrameRoot(),i=r[0],l=r[1];if(i&&l){var o=i.split("\n"),c=l.split("\n");for(a=s=0;s<o.length&&!o[s].includes("DetermineComponentFrameRoot");)s++;for(;a<c.length&&!c[a].includes("DetermineComponentFrameRoot");)a++;if(s===o.length||a===c.length)for(s=o.length-1,a=c.length-1;1<=s&&0<=a&&o[s]!==c[a];)a--;for(;1<=s&&0<=a;s--,a--)if(o[s]!==c[a]){if(1!==s||1!==a)do{if(s--,0>--a||o[s]!==c[a]){var d="\n"+o[s].replace(" at new "," at ");return e.displayName&&d.includes("<anonymous>")&&(d=d.replace("<anonymous>",e.displayName)),d}}while(1<=s&&0<=a);break}}}finally{on=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?ln(n):""}function dn(e){if("string"==typeof e)return ln(e);if("function"==typeof e)return e.prototype&&e.prototype.isReactComponent?cn(e,!0):cn(e,!1);if("object"==typeof e&&null!==e){switch(e.$$typeof){case d:return cn(e.render,!1);case m:return cn(e.type,!1);case p:var t=e,n=t._payload;t=t._init;try{e=t(n)}catch(a){return ln("Lazy")}return dn(e)}if("string"==typeof e.name){n=e.name,t=e.env;var s=e.debugLocation;return n=null==s||(e=Error.prepareStackTrace,Error.prepareStackTrace=void 0,s=s.stack,Error.prepareStackTrace=e,s.startsWith("Error: react-stack-top-frame\n")&&(s=s.slice(29)),-1!==(e=s.indexOf("\n"))&&(s=s.slice(e+1)),-1!==(e=s.indexOf("react_stack_bottom_frame"))&&(e=s.lastIndexOf("\n",e)),e=-1!==e?s=s.slice(0,e):"",s=e.lastIndexOf("\n"),-1===(e=-1===s?e:e.slice(s+1)).indexOf(n))?ln(n+(t?" ["+t+"]":"")):"\n"+e}}switch(e){case h:return ln("SuspenseList");case u:return ln("Suspense")}return""}function un(e,t){return 500<t.byteSize&&null===t.contentPreamble}function hn(e){if("object"==typeof e&&null!==e&&"string"==typeof e.environmentName){var t=e.environmentName;"string"==typeof(e=[e].slice(0))[0]?e.splice(0,1,"[%s] "+e[0]," "+t+" "):e.splice(0,0,"[%s]"," "+t+" "),e.unshift(console),(t=tt.apply(console.error,e))()}return null}function mn(e,t,n,s,a,r,i,l,o,c,d){var u=new Set;this.destination=null,this.flushScheduled=!1,this.resumableState=e,this.renderState=t,this.rootFormatContext=n,this.progressiveChunkSize=void 0===s?12800:s,this.status=10,this.fatalError=null,this.pendingRootTasks=this.allPendingTasks=this.nextSegmentId=0,this.completedPreambleSegments=this.completedRootSegment=null,this.byteSize=0,this.abortableTasks=u,this.pingedTasks=[],this.clientRenderedBoundaries=[],this.completedBoundaries=[],this.partialBoundaries=[],this.trackedPostpones=null,this.onError=void 0===a?hn:a,this.onPostpone=void 0===c?yt:c,this.onAllReady=void 0===r?yt:r,this.onShellReady=void 0===i?yt:i,this.onShellError=void 0===l?yt:l,this.onFatalError=void 0===o?yt:o,this.formState=void 0===d?null:d}var pn=null;function fn(e,t){e.pingedTasks.push(t),1===e.pingedTasks.length&&(e.flushScheduled=null!==e.destination,Kn(e))}function xn(e,t,n,s,a){return n={status:0,rootSegmentID:-1,parentFlushed:!1,pendingTasks:0,row:t,completedSegments:[],byteSize:0,fallbackAbortableTasks:n,errorDigest:null,contentState:He(),fallbackState:He(),contentPreamble:s,fallbackPreamble:a,trackedContentKeyPath:null,trackedFallbackNode:null},null!==t&&(t.pendingTasks++,null!==(s=t.boundaries)&&(e.allPendingTasks++,n.pendingTasks++,s.push(n)),null!==(e=t.inheritedHoistables)&&Je(n.contentState,e)),n}function gn(e,t,n,s,a,r,i,l,o,c,d,u,h,m,p){e.allPendingTasks++,null===a?e.pendingRootTasks++:a.pendingTasks++,null!==m&&m.pendingTasks++;var f={replay:null,node:n,childIndex:s,ping:function(){return fn(e,f)},blockedBoundary:a,blockedSegment:r,blockedPreamble:i,hoistableState:l,abortSet:o,keyPath:c,formatContext:d,context:u,treeContext:h,row:m,componentStack:p,thenableState:t};return o.add(f),f}function bn(e,t,n,s,a,r,i,l,o,c,d,u,h,m){e.allPendingTasks++,null===r?e.pendingRootTasks++:r.pendingTasks++,null!==h&&h.pendingTasks++,n.pendingTasks++;var p={replay:n,node:s,childIndex:a,ping:function(){return fn(e,p)},blockedBoundary:r,blockedSegment:null,blockedPreamble:null,hoistableState:i,abortSet:l,keyPath:o,formatContext:c,context:d,treeContext:u,row:h,componentStack:m,thenableState:t};return l.add(p),p}function vn(e,t,n,s,a,r){return{status:0,parentFlushed:!1,id:-1,index:t,chunks:[],children:[],preambleChildren:[],parentFormatContext:s,boundary:n,lastPushedText:a,textEmbedded:r}}function yn(e){var t=e.node;if("object"==typeof t&&null!==t&&t.$$typeof===s)e.componentStack={parent:e.componentStack,type:t.type}}function wn(e){return null===e?null:{parent:e.parent,type:"Suspense Fallback"}}function jn(e){var t={};return e&&Object.defineProperty(t,"componentStack",{configurable:!0,enumerable:!0,get:function(){try{var n="",s=e;do{n+=dn(s.type),s=s.parent}while(s);var a=n}catch(r){a="\nError generating stack: "+r.message+"\n"+r.stack}return Object.defineProperty(t,"componentStack",{value:a}),a}}),t}function Nn(e,t,n){if(null==(t=(e=e.onError)(t,n))||"string"==typeof t)return t}function kn(e,t){var n=e.onShellError,s=e.onFatalError;n(t),s(t),null!==e.destination?(e.status=14,e.destination.destroy(t)):(e.status=13,e.fatalError=t)}function Sn(e,t){Cn(e,t.next,t.hoistables)}function Cn(e,t,n){for(;null!==t;){null!==n&&(Je(t.hoistables,n),t.inheritedHoistables=n);var s=t.boundaries;if(null!==s){t.boundaries=null;for(var a=0;a<s.length;a++){var r=s[a];null!==n&&Je(r.contentState,n),Qn(e,r,null,null)}}if(t.pendingTasks--,0<t.pendingTasks)break;n=t.hoistables,t=t.next}}function _n(e,t){var n=t.boundaries;if(null!==n&&t.pendingTasks===n.length){for(var s=!0,a=0;a<n.length;a++){var r=n[a];if(1!==r.pendingTasks||r.parentFlushed||un(0,r)){s=!1;break}}s&&Cn(e,t,t.hoistables)}}function Pn(e){var t={pendingTasks:1,boundaries:null,hoistables:He(),inheritedHoistables:null,together:!1,next:null};return null!==e&&0<e.pendingTasks&&(t.pendingTasks++,t.boundaries=[],e.next=t),t}function Dn(e,t,n,s,a){var r=t.keyPath,i=t.treeContext,l=t.row;t.keyPath=n,n=s.length;var o=null;if(null!==t.replay){var c=t.replay.slots;if(null!==c&&"object"==typeof c)for(var d=0;d<n;d++){var u="backwards"!==a&&"unstable_legacy-backwards"!==a?d:n-1-d,h=s[u];t.row=o=Pn(o),t.treeContext=pt(i,n,u);var m=c[u];"number"==typeof m?(Mn(e,t,m,h,u),delete c[u]):Wn(e,t,h,u),0===--o.pendingTasks&&Sn(e,o)}else for(c=0;c<n;c++)u=s[d="backwards"!==a&&"unstable_legacy-backwards"!==a?c:n-1-c],t.row=o=Pn(o),t.treeContext=pt(i,n,d),Wn(e,t,u,d),0===--o.pendingTasks&&Sn(e,o)}else if("backwards"!==a&&"unstable_legacy-backwards"!==a)for(a=0;a<n;a++)c=s[a],t.row=o=Pn(o),t.treeContext=pt(i,n,a),Wn(e,t,c,a),0===--o.pendingTasks&&Sn(e,o);else{for(c=(a=t.blockedSegment).children.length,d=a.chunks.length,u=n-1;0<=u;u--){h=s[u],t.row=o=Pn(o),t.treeContext=pt(i,n,u),m=vn(0,d,null,t.formatContext,0!==u||a.lastPushedText,!0),a.children.splice(c,0,m),t.blockedSegment=m;try{Wn(e,t,h,u),et(m.chunks,e.renderState,m.lastPushedText,m.textEmbedded),m.status=1,0===--o.pendingTasks&&Sn(e,o)}catch(p){throw m.status=12===e.status?3:4,p}}t.blockedSegment=a,a.lastPushedText=!1}null!==l&&null!==o&&0<o.pendingTasks&&(l.pendingTasks++,o.next=l),t.treeContext=i,t.row=l,t.keyPath=r}function Tn(e,t,n,s,a,r){var i=t.thenableState;for(t.thenableState=null,St={},Ct=t,_t=e,Pt=n,Rt=Mt=0,At=-1,Ot=0,Ft=i,e=s(a,r);zt;)zt=!1,Rt=Mt=0,At=-1,Ot=0,Lt+=1,Tt=null,e=s(a,r);return Ut(),e}function En(e,t,n,s,a,r,i){var l=!1;if(0!==r&&null!==e.formState){var o=t.blockedSegment;if(null!==o){l=!0,o=o.chunks;for(var c=0;c<r;c++)c===i?o.push("\x3c!--F!--\x3e"):o.push("\x3c!--F--\x3e")}}r=t.keyPath,t.keyPath=n,a?(n=t.treeContext,t.treeContext=pt(n,1,0),Wn(e,t,s,-1),t.treeContext=n):l?Wn(e,t,s,-1):Rn(e,t,s,-1),t.keyPath=r}function zn(e,t,s,a,b,y){if("function"==typeof a)if(a.prototype&&a.prototype.isReactComponent){var N=b;if("ref"in b)for(var S in N={},b)"ref"!==S&&(N[S]=b[S]);var C=a.defaultProps;if(C)for(var _ in N===b&&(N=k({},N,b)),C)void 0===N[_]&&(N[_]=C[_]);b=N,N=at,"object"==typeof(C=a.contextType)&&null!==C&&(N=C._currentValue2);var P=void 0!==(N=new a(b,N)).state?N.state:null;if(N.updater=ht,N.props=b,N.state=P,C={queue:[],replace:!1},N._reactInternals=C,y=a.contextType,N.context="object"==typeof y&&null!==y?y._currentValue2:at,"function"==typeof(y=a.getDerivedStateFromProps)&&(P=null==(y=y(b,P))?P:k({},P,y),N.state=P),"function"!=typeof a.getDerivedStateFromProps&&"function"!=typeof N.getSnapshotBeforeUpdate&&("function"==typeof N.UNSAFE_componentWillMount||"function"==typeof N.componentWillMount))if(a=N.state,"function"==typeof N.componentWillMount&&N.componentWillMount(),"function"==typeof N.UNSAFE_componentWillMount&&N.UNSAFE_componentWillMount(),a!==N.state&&ht.enqueueReplaceState(N,N.state,null),null!==C.queue&&0<C.queue.length)if(a=C.queue,y=C.replace,C.queue=null,C.replace=!1,y&&1===a.length)N.state=a[0];else{for(C=y?a[0]:N.state,P=!0,y=y?1:0;y<a.length;y++)null!=(_="function"==typeof(_=a[y])?_.call(N,C,b,void 0):_)&&(P?(P=!1,C=k({},C,_)):k(C,_));N.state=C}else C.queue=null;if(a=N.render(),12===e.status)throw null;b=t.keyPath,t.keyPath=s,Rn(e,t,a,-1),t.keyPath=b}else{if(a=Tn(e,t,s,a,b,void 0),12===e.status)throw null;En(e,t,s,a,0!==Mt,Rt,At)}else{if("string"!=typeof a){switch(a){case g:case i:case l:case r:return a=t.keyPath,t.keyPath=s,Rn(e,t,b.children,-1),void(t.keyPath=a);case x:return void(null===(a=t.blockedSegment)?"hidden"!==b.mode&&(a=t.keyPath,t.keyPath=s,Wn(e,t,b.children,-1),t.keyPath=a):"hidden"!==b.mode&&(e.renderState.generateStaticMarkup||a.chunks.push("\x3c!--&--\x3e"),a.lastPushedText=!1,N=t.keyPath,t.keyPath=s,Wn(e,t,b.children,-1),t.keyPath=N,e.renderState.generateStaticMarkup||a.chunks.push("\x3c!--/&--\x3e"),a.lastPushedText=!1));case h:e:{if(a=b.children,"forwards"===(b=b.revealOrder)||"backwards"===b||"unstable_legacy-backwards"===b){if(j(a)){Dn(e,t,s,a,b);break e}if((N=w(a))&&(N=N.call(a))){if(!(C=N.next()).done){do{C=N.next()}while(!C.done);Dn(e,t,s,a,b)}break e}}"together"===b?(b=t.keyPath,N=t.row,(C=t.row=Pn(null)).boundaries=[],C.together=!0,t.keyPath=s,Rn(e,t,a,-1),0===--C.pendingTasks&&Sn(e,C),t.keyPath=b,t.row=N,null!==N&&0<C.pendingTasks&&(N.pendingTasks++,C.next=N)):(b=t.keyPath,t.keyPath=s,Rn(e,t,a,-1),t.keyPath=b)}return;case v:case f:throw Error(n(343));case u:e:if(null!==t.replay){a=t.keyPath,N=t.formatContext,C=t.row,t.keyPath=s,t.formatContext=Q(e.resumableState,N),t.row=null,s=b.children;try{Wn(e,t,s,-1)}finally{t.keyPath=a,t.formatContext=N,t.row=C}}else{a=t.keyPath,y=t.formatContext;var D=t.row,T=t.blockedBoundary;_=t.blockedPreamble;var E=t.hoistableState;S=t.blockedSegment;var z=b.fallback;b=b.children;var M=new Set,R=xn(e,t.row,M,null,null);null!==e.trackedPostpones&&(R.trackedContentKeyPath=s);var A=vn(0,S.chunks.length,R,t.formatContext,!1,!1);S.children.push(A),S.lastPushedText=!1;var O=vn(0,0,null,t.formatContext,!1,!1);if(O.parentFlushed=!0,null!==e.trackedPostpones){N=t.componentStack,P=[(C=[s[0],"Suspense Fallback",s[2]])[1],C[2],[],null],e.trackedPostpones.workingMap.set(C,P),R.trackedFallbackNode=P,t.blockedSegment=A,t.blockedPreamble=R.fallbackPreamble,t.keyPath=C,t.formatContext=X(e.resumableState,y),t.componentStack=wn(N),A.status=6;try{Wn(e,t,z,-1),et(A.chunks,e.renderState,A.lastPushedText,A.textEmbedded),A.status=1}catch(F){throw A.status=12===e.status?3:4,F}finally{t.blockedSegment=S,t.blockedPreamble=_,t.keyPath=a,t.formatContext=y}yn(t=gn(e,null,b,-1,R,O,R.contentPreamble,R.contentState,t.abortSet,s,Q(e.resumableState,t.formatContext),t.context,t.treeContext,null,N)),e.pingedTasks.push(t)}else{t.blockedBoundary=R,t.blockedPreamble=R.contentPreamble,t.hoistableState=R.contentState,t.blockedSegment=O,t.keyPath=s,t.formatContext=Q(e.resumableState,y),t.row=null,O.status=6;try{if(Wn(e,t,b,-1),et(O.chunks,e.renderState,O.lastPushedText,O.textEmbedded),O.status=1,Xn(R,O),0===R.pendingTasks&&0===R.status){if(R.status=1,!un(0,R)){null!==D&&0===--D.pendingTasks&&Sn(e,D),0===e.pendingRootTasks&&t.blockedPreamble&&es(e);break e}}else null!==D&&D.together&&_n(e,D)}catch(I){R.status=4,12===e.status?(O.status=3,N=e.fatalError):(O.status=4,N=I),P=Nn(e,N,C=jn(t.componentStack)),R.errorDigest=P,Ln(e,R)}finally{t.blockedBoundary=T,t.blockedPreamble=_,t.hoistableState=E,t.blockedSegment=S,t.keyPath=a,t.formatContext=y,t.row=D}yn(t=gn(e,null,z,-1,T,A,R.fallbackPreamble,R.fallbackState,M,[s[0],"Suspense Fallback",s[2]],X(e.resumableState,t.formatContext),t.context,t.treeContext,t.row,wn(t.componentStack))),e.pingedTasks.push(t)}}return}if("object"==typeof a&&null!==a)switch(a.$$typeof){case d:if("ref"in b)for(z in N={},b)"ref"!==z&&(N[z]=b[z]);else N=b;return void En(e,t,s,a=Tn(e,t,s,a.render,N,y),0!==Mt,Rt,At);case m:return void zn(e,t,s,a.type,b,y);case c:if(C=b.children,N=t.keyPath,b=b.value,P=a._currentValue2,a._currentValue2=b,rt=a={parent:y=rt,depth:null===y?0:y.depth+1,context:a,parentValue:P,value:b},t.context=a,t.keyPath=s,Rn(e,t,C,-1),null===(e=rt))throw Error(n(403));return e.context._currentValue2=e.parentValue,e=rt=e.parent,t.context=e,void(t.keyPath=N);case o:return a=(b=b.children)(a._context._currentValue2),b=t.keyPath,t.keyPath=s,Rn(e,t,a,-1),void(t.keyPath=b);case p:if(a=(N=a._init)(a._payload),12===e.status)throw null;return void zn(e,t,s,a,b,y)}throw Error(n(130,null==a?a:typeof a,""))}if(null===(N=t.blockedSegment))N=b.children,C=t.formatContext,P=t.keyPath,t.formatContext=Y(C,a,b),t.keyPath=s,Wn(e,t,N,-1),t.formatContext=C,t.keyPath=P;else{if(P=ye(N.chunks,a,b,e.resumableState,e.renderState,t.blockedPreamble,t.hoistableState,t.formatContext,N.lastPushedText),N.lastPushedText=!1,C=t.formatContext,y=t.keyPath,t.keyPath=s,3===(t.formatContext=Y(C,a,b)).insertionMode){s=vn(0,0,null,t.formatContext,!1,!1),N.preambleChildren.push(s),t.blockedSegment=s;try{s.status=6,Wn(e,t,P,-1),et(s.chunks,e.renderState,s.lastPushedText,s.textEmbedded),s.status=1}finally{t.blockedSegment=N}}else Wn(e,t,P,-1);t.formatContext=C,t.keyPath=y;e:{switch(t=N.chunks,e=e.resumableState,a){case"title":case"style":case"script":case"area":case"base":case"br":case"col":case"embed":case"hr":case"img":case"input":case"keygen":case"link":case"meta":case"param":case"source":case"track":case"wbr":break e;case"body":if(1>=C.insertionMode){e.hasBody=!0;break e}break;case"html":if(0===C.insertionMode){e.hasHtml=!0;break e}break;case"head":if(1>=C.insertionMode)break e}t.push(je(a))}N.lastPushedText=!1}}}function Mn(e,t,n,s,a){var r=t.replay,i=t.blockedBoundary,l=vn(0,0,null,t.formatContext,!1,!1);l.id=n,l.parentFlushed=!0;try{t.replay=null,t.blockedSegment=l,Wn(e,t,s,a),l.status=1,null===i?e.completedRootSegment=l:(Xn(i,l),i.parentFlushed&&e.partialBoundaries.push(i))}finally{t.replay=r,t.blockedSegment=null}}function Rn(e,t,n,s){null!==t.replay&&"number"==typeof t.replay.slots?Mn(e,t,t.replay.slots,n,s):(t.node=n,t.childIndex=s,n=t.componentStack,yn(t),An(e,t),t.componentStack=n)}function An(e,t){var r=t.node,i=t.childIndex;if(null!==r){if("object"==typeof r){switch(r.$$typeof){case s:var l=r.type,o=r.key,d=r.props,h=void 0!==(r=d.ref)?r:null,m=st(l),f=null==o?-1===i?0:i:o;if(o=[t.keyPath,m,f],null!==t.replay)e:{var x=t.replay;for(i=x.nodes,r=0;r<i.length;r++){var g=i[r];if(f===g[1]){if(4===g.length){if(null!==m&&m!==g[0])throw Error(n(490,g[0],m));var b=g[2];m=g[3],f=t.node,t.replay={nodes:b,slots:m,pendingTasks:1};try{if(zn(e,t,o,l,d,h),1===t.replay.pendingTasks&&0<t.replay.nodes.length)throw Error(n(488));t.replay.pendingTasks--}catch(T){if("object"==typeof T&&null!==T&&(T===wt||"function"==typeof T.then))throw t.node===f?t.replay=x:i.splice(r,1),T;t.replay.pendingTasks--,d=jn(t.componentStack),Un(o=e,e=t.blockedBoundary,b,m,l=T,d=Nn(o,l,d))}t.replay=x}else{if(l!==u)throw Error(n(490,"Suspense",st(l)||"Unknown"));t:{x=void 0,l=g[5],h=g[2],m=g[3],f=null===g[4]?[]:g[4][2],g=null===g[4]?null:g[4][3];var v=t.keyPath,y=t.formatContext,N=t.row,k=t.replay,S=t.blockedBoundary,C=t.hoistableState,_=d.children,P=d.fallback,D=new Set;(d=xn(e,t.row,D,null,null)).parentFlushed=!0,d.rootSegmentID=l,t.blockedBoundary=d,t.hoistableState=d.contentState,t.keyPath=o,t.formatContext=Q(e.resumableState,y),t.row=null,t.replay={nodes:h,slots:m,pendingTasks:1};try{if(Wn(e,t,_,-1),1===t.replay.pendingTasks&&0<t.replay.nodes.length)throw Error(n(488));if(t.replay.pendingTasks--,0===d.pendingTasks&&0===d.status){d.status=1,e.completedBoundaries.push(d);break t}}catch(E){d.status=4,x=Nn(e,E,b=jn(t.componentStack)),d.errorDigest=x,t.replay.pendingTasks--,e.clientRenderedBoundaries.push(d)}finally{t.blockedBoundary=S,t.hoistableState=C,t.replay=k,t.keyPath=v,t.formatContext=y,t.row=N}yn(b=bn(e,null,{nodes:f,slots:g,pendingTasks:0},P,-1,S,d.fallbackState,D,[o[0],"Suspense Fallback",o[2]],X(e.resumableState,t.formatContext),t.context,t.treeContext,t.row,wn(t.componentStack))),e.pingedTasks.push(b)}}i.splice(r,1);break e}}}else zn(e,t,o,l,d,h);return;case a:throw Error(n(257));case p:if(r=(b=r._init)(r._payload),12===e.status)throw null;return void Rn(e,t,r,i)}if(j(r))return void On(e,t,r,i);if((b=w(r))&&(b=b.call(r))){if(!(r=b.next()).done){d=[];do{d.push(r.value),r=b.next()}while(!r.done);On(e,t,d,i)}return}if("function"==typeof r.then)return t.thenableState=null,Rn(e,t,Zt(r),i);if(r.$$typeof===c)return Rn(e,t,r._currentValue2,i);throw i=Object.prototype.toString.call(r),Error(n(31,"[object Object]"===i?"object with keys {"+Object.keys(r).join(", ")+"}":i))}"string"==typeof r?null!==(i=t.blockedSegment)&&(i.lastPushedText=Ze(i.chunks,r,e.renderState,i.lastPushedText)):"number"!=typeof r&&"bigint"!=typeof r||null!==(i=t.blockedSegment)&&(i.lastPushedText=Ze(i.chunks,""+r,e.renderState,i.lastPushedText))}}function On(e,t,s,a){var r=t.keyPath;if(-1===a||(t.keyPath=[t.keyPath,"Fragment",a],null===t.replay)){if(i=t.treeContext,l=s.length,null!==t.replay&&(null!==(o=t.replay.slots)&&"object"==typeof o)){for(a=0;a<l;a++)c=s[a],t.treeContext=pt(i,l,a),"number"==typeof(d=o[a])?(Mn(e,t,d,c,a),delete o[a]):Wn(e,t,c,a);return t.treeContext=i,void(t.keyPath=r)}for(o=0;o<l;o++)a=s[o],t.treeContext=pt(i,l,o),Wn(e,t,a,o);t.treeContext=i,t.keyPath=r}else{for(var i=t.replay,l=i.nodes,o=0;o<l.length;o++){var c=l[o];if(c[1]===a){a=c[2],c=c[3],t.replay={nodes:a,slots:c,pendingTasks:1};try{if(On(e,t,s,-1),1===t.replay.pendingTasks&&0<t.replay.nodes.length)throw Error(n(488));t.replay.pendingTasks--}catch(u){if("object"==typeof u&&null!==u&&(u===wt||"function"==typeof u.then))throw u;t.replay.pendingTasks--,s=jn(t.componentStack);var d=t.blockedBoundary;Un(e,d,a,c,u,s=Nn(e,u,s))}t.replay=i,l.splice(o,1);break}}t.keyPath=r}}function Fn(e,t,s){if(s.status=5,s.rootSegmentID=e.nextSegmentId++,null===(e=s.trackedContentKeyPath))throw Error(n(486));var a=s.trackedFallbackNode,r=t.workingMap.get(e);return void 0===r?(s=[e[1],e[2],[],null,a,s.rootSegmentID],t.workingMap.set(e,s),us(s,e[0],t),s):(r[4]=a,r[5]=s.rootSegmentID,r)}function In(e,t,s,a){a.status=5;var r=s.keyPath,i=s.blockedBoundary;if(null===i)a.id=e.nextSegmentId++,t.rootSlots=a.id,null!==e.completedRootSegment&&(e.completedRootSegment.status=5);else{if(null!==i&&0===i.status){var l=Fn(e,t,i);if(i.trackedContentKeyPath===r&&-1===s.childIndex)return-1===a.id&&(a.id=a.parentFlushed?i.rootSegmentID:e.nextSegmentId++),void(l[3]=a.id)}if(-1===a.id&&(a.id=a.parentFlushed&&null!==i?i.rootSegmentID:e.nextSegmentId++),-1===s.childIndex)null===r?t.rootSlots=a.id:void 0===(s=t.workingMap.get(r))?us(s=[r[1],r[2],[],a.id],r[0],t):s[3]=a.id;else{if(null===r){if(null===(e=t.rootSlots))e=t.rootSlots={};else if("number"==typeof e)throw Error(n(491))}else if(void 0===(l=(i=t.workingMap).get(r)))e={},l=[r[1],r[2],[],e],i.set(r,l),us(l,r[0],t);else if(null===(e=l[3]))e=l[3]={};else if("number"==typeof e)throw Error(n(491));e[s.childIndex]=a.id}}}function Ln(e,t){null!==(e=e.trackedPostpones)&&(null!==(t=t.trackedContentKeyPath)&&(void 0!==(t=e.workingMap.get(t))&&(t.length=4,t[2]=[],t[3]=null)))}function Bn(e,t,n){return bn(e,n,t.replay,t.node,t.childIndex,t.blockedBoundary,t.hoistableState,t.abortSet,t.keyPath,t.formatContext,t.context,t.treeContext,t.row,t.componentStack)}function $n(e,t,n){var s=t.blockedSegment,a=vn(0,s.chunks.length,null,t.formatContext,s.lastPushedText,!0);return s.children.push(a),s.lastPushedText=!1,gn(e,n,t.node,t.childIndex,t.blockedBoundary,a,t.blockedPreamble,t.hoistableState,t.abortSet,t.keyPath,t.formatContext,t.context,t.treeContext,t.row,t.componentStack)}function Wn(e,t,n,s){var a=t.formatContext,r=t.context,i=t.keyPath,l=t.treeContext,o=t.componentStack,c=t.blockedSegment;if(null===c){c=t.replay;try{return Rn(e,t,n,s)}catch(h){if(Ut(),n=h===wt?Nt():h,12!==e.status&&"object"==typeof n&&null!==n){if("function"==typeof n.then)return e=Bn(e,t,s=h===wt?Ht():null).ping,n.then(e,e),t.formatContext=a,t.context=r,t.keyPath=i,t.treeContext=l,t.componentStack=o,t.replay=c,void ut(r);if("Maximum call stack size exceeded"===n.message)return n=Bn(e,t,n=h===wt?Ht():null),e.pingedTasks.push(n),t.formatContext=a,t.context=r,t.keyPath=i,t.treeContext=l,t.componentStack=o,t.replay=c,void ut(r)}}}else{var d=c.children.length,u=c.chunks.length;try{return Rn(e,t,n,s)}catch(m){if(Ut(),c.children.length=d,c.chunks.length=u,n=m===wt?Nt():m,12!==e.status&&"object"==typeof n&&null!==n){if("function"==typeof n.then)return c=n,e=$n(e,t,n=m===wt?Ht():null).ping,c.then(e,e),t.formatContext=a,t.context=r,t.keyPath=i,t.treeContext=l,t.componentStack=o,void ut(r);if("Maximum call stack size exceeded"===n.message)return c=$n(e,t,c=m===wt?Ht():null),e.pingedTasks.push(c),t.formatContext=a,t.context=r,t.keyPath=i,t.treeContext=l,t.componentStack=o,void ut(r)}}}throw t.formatContext=a,t.context=r,t.keyPath=i,t.treeContext=l,ut(r),n}function Hn(e){var t=e.blockedBoundary,n=e.blockedSegment;null!==n&&(n.status=3,Qn(this,t,e.row,n))}function Un(e,t,s,a,r,i){for(var l=0;l<s.length;l++){var o=s[l];if(4===o.length)Un(e,t,o[2],o[3],r,i);else{o=o[5];var c=e,d=i,u=xn(c,null,new Set,null,null);u.parentFlushed=!0,u.rootSegmentID=o,u.status=4,u.errorDigest=d,u.parentFlushed&&c.clientRenderedBoundaries.push(u)}}if(s.length=0,null!==a){if(null===t)throw Error(n(487));if(4!==t.status&&(t.status=4,t.errorDigest=i,t.parentFlushed&&e.clientRenderedBoundaries.push(t)),"object"==typeof a)for(var h in a)delete a[h]}}function Vn(e,t,n){var s=e.blockedBoundary,a=e.blockedSegment;if(null!==a){if(6===a.status)return;a.status=3}var r=jn(e.componentStack);if(null===s){if(13!==t.status&&14!==t.status){if(null===(s=e.replay))return void(null!==t.trackedPostpones&&null!==a?(s=t.trackedPostpones,Nn(t,n,r),In(t,s,e,a),Qn(t,null,e.row,a)):(Nn(t,n,r),kn(t,n)));s.pendingTasks--,0===s.pendingTasks&&0<s.nodes.length&&(a=Nn(t,n,r),Un(t,null,s.nodes,s.slots,n,a)),t.pendingRootTasks--,0===t.pendingRootTasks&&Yn(t)}}else{var i=t.trackedPostpones;if(4!==s.status){if(null!==i&&null!==a)return Nn(t,n,r),In(t,i,e,a),s.fallbackAbortableTasks.forEach(function(e){return Vn(e,t,n)}),s.fallbackAbortableTasks.clear(),Qn(t,s,e.row,a);s.status=4,a=Nn(t,n,r),s.status=4,s.errorDigest=a,Ln(t,s),s.parentFlushed&&t.clientRenderedBoundaries.push(s)}s.pendingTasks--,null!==(a=s.row)&&0===--a.pendingTasks&&Sn(t,a),s.fallbackAbortableTasks.forEach(function(e){return Vn(e,t,n)}),s.fallbackAbortableTasks.clear()}null!==(e=e.row)&&0===--e.pendingTasks&&Sn(t,e),t.allPendingTasks--,0===t.allPendingTasks&&Gn(t)}function qn(e,t){try{var n=e.renderState,s=n.onHeaders;if(s){var a=n.headers;if(a){n.headers=null;var r=a.preconnects;if(a.fontPreloads&&(r&&(r+=", "),r+=a.fontPreloads),a.highImagePreloads&&(r&&(r+=", "),r+=a.highImagePreloads),!t){var i=n.styles.values(),l=i.next();e:for(;0<a.remainingCapacity&&!l.done;l=i.next())for(var o=l.value.sheets.values(),c=o.next();0<a.remainingCapacity&&!c.done;c=o.next()){var d=c.value,u=d.props,h=u.href,m=d.props,p=Ve(m.href,"style",{crossOrigin:m.crossOrigin,integrity:m.integrity,nonce:m.nonce,type:m.type,fetchPriority:m.fetchPriority,referrerPolicy:m.referrerPolicy,media:m.media});if(!(0<=(a.remainingCapacity-=p.length+2)))break e;n.resets.style[h]=W,r&&(r+=", "),r+=p,n.resets.style[h]="string"==typeof u.crossOrigin||"string"==typeof u.integrity?[u.crossOrigin,u.integrity]:W}}s(r?{Link:r}:{})}}}catch(f){Nn(e,f,{})}}function Yn(e){null===e.trackedPostpones&&qn(e,!0),null===e.trackedPostpones&&es(e),e.onShellError=yt,(e=e.onShellReady)()}function Gn(e){qn(e,null===e.trackedPostpones||(null===e.completedRootSegment||5!==e.completedRootSegment.status)),es(e),(e=e.onAllReady)()}function Xn(e,t){if(0===t.chunks.length&&1===t.children.length&&null===t.children[0].boundary&&-1===t.children[0].id){var n=t.children[0];n.id=t.id,n.parentFlushed=!0,1!==n.status&&3!==n.status&&4!==n.status||Xn(e,n)}else e.completedSegments.push(t)}function Qn(e,t,s,a){if(null!==s&&(0===--s.pendingTasks?Sn(e,s):s.together&&_n(e,s)),e.allPendingTasks--,null===t){if(null!==a&&a.parentFlushed){if(null!==e.completedRootSegment)throw Error(n(389));e.completedRootSegment=a}e.pendingRootTasks--,0===e.pendingRootTasks&&Yn(e)}else if(t.pendingTasks--,4!==t.status)if(0===t.pendingTasks){if(0===t.status&&(t.status=1),null!==a&&a.parentFlushed&&(1===a.status||3===a.status)&&Xn(t,a),t.parentFlushed&&e.completedBoundaries.push(t),1===t.status)null!==(s=t.row)&&Je(s.hoistables,t.contentState),un(0,t)||(t.fallbackAbortableTasks.forEach(Hn,e),t.fallbackAbortableTasks.clear(),null!==s&&0===--s.pendingTasks&&Sn(e,s)),0===e.pendingRootTasks&&null===e.trackedPostpones&&null!==t.contentPreamble&&es(e);else if(5===t.status&&null!==(t=t.row)){if(null!==e.trackedPostpones){s=e.trackedPostpones;var r=t.next;if(null!==r&&null!==(a=r.boundaries))for(r.boundaries=null,r=0;r<a.length;r++){var i=a[r];Fn(e,s,i),Qn(e,i,null,null)}}0===--t.pendingTasks&&Sn(e,t)}}else null===a||!a.parentFlushed||1!==a.status&&3!==a.status||(Xn(t,a),1===t.completedSegments.length&&t.parentFlushed&&e.partialBoundaries.push(t)),null!==(t=t.row)&&t.together&&_n(e,t);0===e.allPendingTasks&&Gn(e)}function Kn(e){if(14!==e.status&&13!==e.status){var t=rt,s=I.H;I.H=sn;var a=I.A;I.A=rn;var r=pn;pn=e;var i=an;an=e.resumableState;try{var l,o=e.pingedTasks;for(l=0;l<o.length;l++){var c=o[l],d=e,u=c.blockedSegment;if(null===u){var h=d;if(0!==c.replay.pendingTasks){ut(c.context);try{if("number"==typeof c.replay.slots?Mn(h,c,c.replay.slots,c.node,c.childIndex):An(h,c),1===c.replay.pendingTasks&&0<c.replay.nodes.length)throw Error(n(488));c.replay.pendingTasks--,c.abortSet.delete(c),Qn(h,c.blockedBoundary,c.row,null)}catch(D){Ut();var m=D===wt?Nt():D;if("object"==typeof m&&null!==m&&"function"==typeof m.then){var p=c.ping;m.then(p,p),c.thenableState=D===wt?Ht():null}else{c.replay.pendingTasks--,c.abortSet.delete(c);var f=jn(c.componentStack);d=void 0;var x=h,g=c.blockedBoundary,b=12===h.status?h.fatalError:m;Un(x,g,c.replay.nodes,c.replay.slots,b,d=Nn(x,b,f)),h.pendingRootTasks--,0===h.pendingRootTasks&&Yn(h),h.allPendingTasks--,0===h.allPendingTasks&&Gn(h)}}}}else if(h=void 0,0===(x=u).status){x.status=6,ut(c.context);var v=x.children.length,y=x.chunks.length;try{An(d,c),et(x.chunks,d.renderState,x.lastPushedText,x.textEmbedded),c.abortSet.delete(c),x.status=1,Qn(d,c.blockedBoundary,c.row,x)}catch(D){Ut(),x.children.length=v,x.chunks.length=y;var w=D===wt?Nt():12===d.status?d.fatalError:D;if(12===d.status&&null!==d.trackedPostpones){var j=d.trackedPostpones,N=jn(c.componentStack);c.abortSet.delete(c),Nn(d,w,N),In(d,j,c,x),Qn(d,c.blockedBoundary,c.row,x)}else if("object"==typeof w&&null!==w&&"function"==typeof w.then){x.status=0,c.thenableState=D===wt?Ht():null;var k=c.ping;w.then(k,k)}else{var S=jn(c.componentStack);c.abortSet.delete(c),x.status=4;var C=c.blockedBoundary,_=c.row;if(null!==_&&0===--_.pendingTasks&&Sn(d,_),d.allPendingTasks--,h=Nn(d,w,S),null===C)kn(d,w);else if(C.pendingTasks--,4!==C.status){C.status=4,C.errorDigest=h,Ln(d,C);var P=C.row;null!==P&&0===--P.pendingTasks&&Sn(d,P),C.parentFlushed&&d.clientRenderedBoundaries.push(C),0===d.pendingRootTasks&&null===d.trackedPostpones&&null!==C.contentPreamble&&es(d)}0===d.allPendingTasks&&Gn(d)}}}}o.splice(0,l),null!==e.destination&&os(e,e.destination)}catch(T){Nn(e,T,{}),kn(e,T)}finally{an=i,I.H=s,I.A=a,s===sn&&ut(t),pn=r}}}function Jn(e,t,n){t.preambleChildren.length&&n.push(t.preambleChildren);for(var s=!1,a=0;a<t.children.length;a++)s=Zn(e,t.children[a],n)||s;return s}function Zn(e,t,s){var a=t.boundary;if(null===a)return Jn(e,t,s);var r=a.contentPreamble,i=a.fallbackPreamble;if(null===r||null===i)return!1;switch(a.status){case 1:if(Ne(e.renderState,r),e.byteSize+=a.byteSize,!(t=a.completedSegments[0]))throw Error(n(391));return Jn(e,t,s);case 5:if(null!==e.trackedPostpones)return!0;case 4:if(1===t.status)return Ne(e.renderState,i),Jn(e,t,s);default:return!0}}function es(e){if(e.completedRootSegment&&null===e.completedPreambleSegments){var t=[],n=e.byteSize,s=Zn(e,e.completedRootSegment,t),a=e.renderState.preamble;!1===s||a.headChunks&&a.bodyChunks?e.completedPreambleSegments=t:e.byteSize=n}}function ts(e,t,s,a){switch(s.parentFlushed=!0,s.status){case 0:s.id=e.nextSegmentId++;case 5:return a=s.id,s.lastPushedText=!1,s.textEmbedded=!1,e=e.renderState,t.push('<template id="'),t.push(e.placeholderPrefix),e=a.toString(16),t.push(e),t.push('"></template>');case 1:s.status=2;var r=!0,i=s.chunks,l=0;s=s.children;for(var o=0;o<s.length;o++){for(r=s[o];l<r.index;l++)t.push(i[l]);r=ss(e,t,r,a)}for(;l<i.length-1;l++)t.push(i[l]);return l<i.length&&(r=t.push(i[l])),r;case 3:return!0;default:throw Error(n(390))}}var ns=0;function ss(e,t,s,a){var r=s.boundary;if(null===r)return ts(e,t,s,a);if(r.parentFlushed=!0,4===r.status){var i=r.row;return null!==i&&0===--i.pendingTasks&&Sn(e,i),e.renderState.generateStaticMarkup||(r=r.errorDigest,t.push("\x3c!--$!--\x3e"),t.push("<template"),r&&(t.push(' data-dgst="'),r=M(r),t.push(r),t.push('"')),t.push("></template>")),ts(e,t,s,a),e=!!e.renderState.generateStaticMarkup||t.push("\x3c!--/$--\x3e")}if(1!==r.status)return 0===r.status&&(r.rootSegmentID=e.nextSegmentId++),0<r.completedSegments.length&&e.partialBoundaries.push(r),Se(t,e.renderState,r.rootSegmentID),a&&Je(a,r.fallbackState),ts(e,t,s,a),t.push("\x3c!--/$--\x3e");if(!ls&&un(0,r)&&ns+r.byteSize>e.progressiveChunkSize)return r.rootSegmentID=e.nextSegmentId++,e.completedBoundaries.push(r),Se(t,e.renderState,r.rootSegmentID),ts(e,t,s,a),t.push("\x3c!--/$--\x3e");if(ns+=r.byteSize,a&&Je(a,r.contentState),null!==(s=r.row)&&un(0,r)&&0===--s.pendingTasks&&Sn(e,s),e.renderState.generateStaticMarkup||t.push("\x3c!--$--\x3e"),1!==(s=r.completedSegments).length)throw Error(n(391));return ss(e,t,s[0],a),e=!!e.renderState.generateStaticMarkup||t.push("\x3c!--/$--\x3e")}function as(e,t,s,a){return function(e,t,s,a){switch(s.insertionMode){case 0:case 1:case 3:case 2:return e.push('<div hidden id="'),e.push(t.segmentPrefix),t=a.toString(16),e.push(t),e.push('">');case 4:return e.push('<svg aria-hidden="true" style="display:none" id="'),e.push(t.segmentPrefix),t=a.toString(16),e.push(t),e.push('">');case 5:return e.push('<math aria-hidden="true" style="display:none" id="'),e.push(t.segmentPrefix),t=a.toString(16),e.push(t),e.push('">');case 6:return e.push('<table hidden id="'),e.push(t.segmentPrefix),t=a.toString(16),e.push(t),e.push('">');case 7:return e.push('<table hidden><tbody id="'),e.push(t.segmentPrefix),t=a.toString(16),e.push(t),e.push('">');case 8:return e.push('<table hidden><tr id="'),e.push(t.segmentPrefix),t=a.toString(16),e.push(t),e.push('">');case 9:return e.push('<table hidden><colgroup id="'),e.push(t.segmentPrefix),t=a.toString(16),e.push(t),e.push('">');default:throw Error(n(397))}}(t,e.renderState,s.parentFormatContext,s.id),ss(e,t,s,a),function(e,t){switch(t.insertionMode){case 0:case 1:case 3:case 2:return e.push("</div>");case 4:return e.push("</svg>");case 5:return e.push("</math>");case 6:return e.push("</table>");case 7:return e.push("</tbody></table>");case 8:return e.push("</tr></table>");case 9:return e.push("</colgroup></table>");default:throw Error(n(397))}}(t,s.parentFormatContext)}function rs(e,t,s){ns=s.byteSize;for(var a=s.completedSegments,r=0;r<a.length;r++)is(e,t,s,a[r]);a.length=0,null!==(a=s.row)&&un(0,s)&&0===--a.pendingTasks&&Sn(e,a),Re(t,s.contentState,e.renderState),a=e.resumableState,e=e.renderState,r=s.rootSegmentID,s=s.contentState;var i=e.stylesToHoist;return e.stylesToHoist=!1,t.push(e.startInlineScript),t.push(">"),i?(!(4&a.instructions)&&(a.instructions|=4,t.push('$RX=function(b,c,d,e,f){var a=document.getElementById(b);a&&(b=a.previousSibling,b.data="$!",a=a.dataset,c&&(a.dgst=c),d&&(a.msg=d),e&&(a.stck=e),f&&(a.cstck=f),b._reactRetry&&b._reactRetry())};')),!(2&a.instructions)&&(a.instructions|=2,t.push('$RB=[];$RV=function(a){$RT=performance.now();for(var b=0;b<a.length;b+=2){var c=a[b],e=a[b+1];null!==e.parentNode&&e.parentNode.removeChild(e);var f=c.parentNode;if(f){var g=c.previousSibling,h=0;do{if(c&&8===c.nodeType){var d=c.data;if("/$"===d||"/&"===d)if(0===h)break;else h--;else"$"!==d&&"$?"!==d&&"$~"!==d&&"$!"!==d&&"&"!==d||h++}d=c.nextSibling;f.removeChild(c);c=d}while(c);for(;e.firstChild;)f.insertBefore(e.firstChild,c);g.data="$";g._reactRetry&&requestAnimationFrame(g._reactRetry)}}a.length=0};\n$RC=function(a,b){if(b=document.getElementById(b))(a=document.getElementById(a))?(a.previousSibling.data="$~",$RB.push(a,b),2===$RB.length&&("number"!==typeof $RT?requestAnimationFrame($RV.bind(null,$RB)):(a=performance.now(),setTimeout($RV.bind(null,$RB),2300>a&&2E3<a?2300-a:$RT+300-a)))):b.parentNode.removeChild(b)};')),8&a.instructions?t.push('$RR("'):(a.instructions|=8,t.push('$RM=new Map;$RR=function(n,w,p){function u(q){this._p=null;q()}for(var r=new Map,t=document,h,b,e=t.querySelectorAll("link[data-precedence],style[data-precedence]"),v=[],k=0;b=e[k++];)"not all"===b.getAttribute("media")?v.push(b):("LINK"===b.tagName&&$RM.set(b.getAttribute("href"),b),r.set(b.dataset.precedence,h=b));e=0;b=[];var l,a;for(k=!0;;){if(k){var f=p[e++];if(!f){k=!1;e=0;continue}var c=!1,m=0;var d=f[m++];if(a=$RM.get(d)){var g=a._p;c=!0}else{a=t.createElement("link");a.href=d;a.rel=\n"stylesheet";for(a.dataset.precedence=l=f[m++];g=f[m++];)a.setAttribute(g,f[m++]);g=a._p=new Promise(function(q,x){a.onload=u.bind(a,q);a.onerror=u.bind(a,x)});$RM.set(d,a)}d=a.getAttribute("media");!g||d&&!matchMedia(d).matches||b.push(g);if(c)continue}else{a=v[e++];if(!a)break;l=a.getAttribute("data-precedence");a.removeAttribute("media")}c=r.get(l)||h;c===h&&(h=a);r.set(l,a);c?c.parentNode.insertBefore(a,c.nextSibling):(c=t.head,c.insertBefore(a,c.firstChild))}if(p=document.getElementById(n))p.previousSibling.data=\n"$~";Promise.all(b).then($RC.bind(null,n,w),$RX.bind(null,n,"CSS failed to load"))};$RR("'))):(!(2&a.instructions)&&(a.instructions|=2,t.push('$RB=[];$RV=function(a){$RT=performance.now();for(var b=0;b<a.length;b+=2){var c=a[b],e=a[b+1];null!==e.parentNode&&e.parentNode.removeChild(e);var f=c.parentNode;if(f){var g=c.previousSibling,h=0;do{if(c&&8===c.nodeType){var d=c.data;if("/$"===d||"/&"===d)if(0===h)break;else h--;else"$"!==d&&"$?"!==d&&"$~"!==d&&"$!"!==d&&"&"!==d||h++}d=c.nextSibling;f.removeChild(c);c=d}while(c);for(;e.firstChild;)f.insertBefore(e.firstChild,c);g.data="$";g._reactRetry&&requestAnimationFrame(g._reactRetry)}}a.length=0};\n$RC=function(a,b){if(b=document.getElementById(b))(a=document.getElementById(a))?(a.previousSibling.data="$~",$RB.push(a,b),2===$RB.length&&("number"!==typeof $RT?requestAnimationFrame($RV.bind(null,$RB)):(a=performance.now(),setTimeout($RV.bind(null,$RB),2300>a&&2E3<a?2300-a:$RT+300-a)))):b.parentNode.removeChild(b)};')),t.push('$RC("')),a=r.toString(16),t.push(e.boundaryPrefix),t.push(a),t.push('","'),t.push(e.segmentPrefix),t.push(a),i?(t.push('",'),function(e,t){e.push("[");var s="[";t.stylesheets.forEach(function(t){if(2!==t.state)if(3===t.state)e.push(s),t=De(""+t.props.href),e.push(t),e.push("]"),s=",[";else{e.push(s);var a=t.props["data-precedence"],r=t.props,i=F(""+t.props.href);for(var l in i=De(i),e.push(i),a=""+a,e.push(","),a=De(a),e.push(a),r)if(S.call(r,l)&&null!=(a=r[l]))switch(l){case"href":case"rel":case"precedence":case"data-precedence":break;case"children":case"dangerouslySetInnerHTML":throw Error(n(399,"link"));default:We(e,l,a)}e.push("]"),s=",[",t.state=3}}),e.push("]")}(t,s)):t.push('"'),s=t.push(")<\/script>"),ke(t,e)&&s}function is(e,t,s,a){if(2===a.status)return!0;var r=s.contentState,i=a.id;if(-1===i){if(-1===(a.id=s.rootSegmentID))throw Error(n(392));return as(e,t,a,r)}return i===s.rootSegmentID?as(e,t,a,r):(as(e,t,a,r),s=e.resumableState,e=e.renderState,t.push(e.startInlineScript),t.push(">"),1&s.instructions?t.push('$RS("'):(s.instructions|=1,t.push('$RS=function(a,b){a=document.getElementById(a);b=document.getElementById(b);for(a.parentNode.removeChild(a);a.firstChild;)b.parentNode.insertBefore(a.firstChild,b);b.parentNode.removeChild(b)};$RS("')),t.push(e.segmentPrefix),i=i.toString(16),t.push(i),t.push('","'),t.push(e.placeholderPrefix),t.push(i),t=t.push('")<\/script>'))}var ls=!1;function os(e,t){try{if(!(0<e.pendingRootTasks)){var n,s=e.completedRootSegment;if(null!==s){if(5===s.status)return;var a=e.completedPreambleSegments;if(null===a)return;ns=e.byteSize;var r,i=e.resumableState,l=e.renderState,o=l.preamble,c=o.htmlChunks,d=o.headChunks;if(c){for(r=0;r<c.length;r++)t.push(c[r]);if(d)for(r=0;r<d.length;r++)t.push(d[r]);else{var u=ve("head");t.push(u),t.push(">")}}else if(d)for(r=0;r<d.length;r++)t.push(d[r]);var h=l.charsetChunks;for(r=0;r<h.length;r++)t.push(h[r]);h.length=0,l.preconnects.forEach(Ae,t),l.preconnects.clear();var m=l.viewportChunks;for(r=0;r<m.length;r++)t.push(m[r]);m.length=0,l.fontPreloads.forEach(Ae,t),l.fontPreloads.clear(),l.highImagePreloads.forEach(Ae,t),l.highImagePreloads.clear(),H=l,l.styles.forEach(Ie,t),H=null;var p=l.importMapChunks;for(r=0;r<p.length;r++)t.push(p[r]);p.length=0,l.bootstrapScripts.forEach(Ae,t),l.scripts.forEach(Ae,t),l.scripts.clear(),l.bulkPreloads.forEach(Ae,t),l.bulkPreloads.clear(),i.instructions|=32;var f=l.hoistableChunks;for(r=0;r<f.length;r++)t.push(f[r]);for(i=f.length=0;i<a.length;i++){var x=a[i];for(l=0;l<x.length;l++)ss(e,t,x[l],null)}var g=e.renderState.preamble,b=g.headChunks;if(g.htmlChunks||b){var v=je("head");t.push(v)}var y=g.bodyChunks;if(y)for(a=0;a<y.length;a++)t.push(y[a]);ss(e,t,s,null),e.completedRootSegment=null;var w=e.renderState;if(0!==e.allPendingTasks||0!==e.clientRenderedBoundaries.length||0!==e.completedBoundaries.length||null!==e.trackedPostpones&&(0!==e.trackedPostpones.rootNodes.length||null!==e.trackedPostpones.rootSlots)){var j=e.resumableState;if(!(64&j.instructions)){if(j.instructions|=64,t.push(w.startInlineScript),!(32&j.instructions)){j.instructions|=32;var N="_"+j.idPrefix+"R_";t.push(' id="');var k=M(N);t.push(k),t.push('"')}t.push(">"),t.push("requestAnimationFrame(function(){$RT=performance.now()});"),t.push("<\/script>")}}ke(t,w)}var S=e.renderState;s=0;var C=S.viewportChunks;for(s=0;s<C.length;s++)t.push(C[s]);C.length=0,S.preconnects.forEach(Ae,t),S.preconnects.clear(),S.fontPreloads.forEach(Ae,t),S.fontPreloads.clear(),S.highImagePreloads.forEach(Ae,t),S.highImagePreloads.clear(),S.styles.forEach(Be,t),S.scripts.forEach(Ae,t),S.scripts.clear(),S.bulkPreloads.forEach(Ae,t),S.bulkPreloads.clear();var _=S.hoistableChunks;for(s=0;s<_.length;s++)t.push(_[s]);_.length=0;var P=e.clientRenderedBoundaries;for(n=0;n<P.length;n++){var D=P[n];S=t;var T=e.resumableState,E=e.renderState,z=D.rootSegmentID,R=D.errorDigest;S.push(E.startInlineScript),S.push(">"),4&T.instructions?S.push('$RX("'):(T.instructions|=4,S.push('$RX=function(b,c,d,e,f){var a=document.getElementById(b);a&&(b=a.previousSibling,b.data="$!",a=a.dataset,c&&(a.dgst=c),d&&(a.msg=d),e&&(a.stck=e),f&&(a.cstck=f),b._reactRetry&&b._reactRetry())};;$RX("')),S.push(E.boundaryPrefix);var A=z.toString(16);if(S.push(A),S.push('"'),R){S.push(",");var O=_e(R||"");S.push(O)}var F=S.push(")<\/script>");if(!F)return e.destination=null,n++,void P.splice(0,n)}P.splice(0,n);var I=e.completedBoundaries;for(n=0;n<I.length;n++)if(!rs(e,t,I[n]))return e.destination=null,n++,void I.splice(0,n);I.splice(0,n),ls=!0;var L=e.partialBoundaries;for(n=0;n<L.length;n++){var B=L[n];e:{P=e,D=t,ns=B.byteSize;var $=B.completedSegments;for(F=0;F<$.length;F++)if(!is(P,D,B,$[F])){F++,$.splice(0,F);var W=!1;break e}$.splice(0,F);var U=B.row;null!==U&&U.together&&1===B.pendingTasks&&(1===U.pendingTasks?Cn(P,U,U.hoistables):U.pendingTasks--),W=Re(D,B.contentState,P.renderState)}if(!W)return e.destination=null,n++,void L.splice(0,n)}L.splice(0,n),ls=!1;var V=e.completedBoundaries;for(n=0;n<V.length;n++)if(!rs(e,t,V[n]))return e.destination=null,n++,void V.splice(0,n);V.splice(0,n)}}finally{ls=!1,0===e.allPendingTasks&&0===e.clientRenderedBoundaries.length&&0===e.completedBoundaries.length&&(e.flushScheduled=!1,(n=e.resumableState).hasBody&&(L=je("body"),t.push(L)),n.hasHtml&&(n=je("html"),t.push(n)),e.status=14,t.push(null),e.destination=null)}}function cs(e){if(!1===e.flushScheduled&&0===e.pingedTasks.length&&null!==e.destination){e.flushScheduled=!0;var t=e.destination;t?os(e,t):e.flushScheduled=!1}}function ds(e,t){11!==e.status&&10!==e.status||(e.status=12);try{var s=e.abortableTasks;if(0<s.size){var a=void 0===t?Error(n(432)):"object"==typeof t&&null!==t&&"function"==typeof t.then?Error(n(530)):t;e.fatalError=a,s.forEach(function(t){return Vn(t,e,a)}),s.clear()}null!==e.destination&&os(e,e.destination)}catch(r){Nn(e,r,{}),kn(e,r)}}function us(e,t,n){if(null===t)n.rootNodes.push(e);else{var s=n.workingMap,a=s.get(t);void 0===a&&(a=[t[1],t[2],[],null],s.set(t,a),us(a,t[0],n)),a[2].push(e)}}function hs(){}function ms(e,t,s,a){var r,i,l,o,c=!1,d=null,u="",h=!1;if(e=function(e,t,n,s,a,r,i,l,o,c,d,u){return(n=vn(t=new mn(t,n,s,a,r,i,l,o,c,d,u),0,null,s,!1,!1)).parentFlushed=!0,yn(e=gn(t,null,e,-1,null,n,null,null,t.abortableTasks,null,s,null,mt,null,null)),t.pingedTasks.push(e),t}(e,t={idPrefix:void 0===(r=t?t.identifierPrefix:void 0)?"":r,nextFormID:0,streamingFormat:0,bootstrapScriptContent:i,bootstrapScripts:l,bootstrapModules:o,instructions:0,hasBody:!1,hasHtml:!1,unknownResources:{},dnsResources:{},connectResources:{default:{},anonymous:{},credentials:{}},imageResources:{},styleResources:{},scriptResources:{},moduleUnknownResources:{},moduleScriptResources:{}},function(e,t){var n=e.idPrefix,s=[],a=e.bootstrapScriptContent,r=e.bootstrapScripts,i=e.bootstrapModules;void 0!==a&&(s.push("<script"),$e(s,e),s.push(">",(""+a).replace(U,V),"<\/script>")),a=n+"P:";var l=n+"S:";n+="B:";var o=new Set,c=new Set,d=new Set,u=new Map,h=new Set,m=new Set,p=new Set,f={images:new Map,stylesheets:new Map,scripts:new Map,moduleScripts:new Map};if(void 0!==r)for(var x=0;x<r.length;x++){var g,b=r[x],v=void 0,y=void 0,w={rel:"preload",as:"script",fetchPriority:"low",nonce:void 0};"string"==typeof b?w.href=g=b:(w.href=g=b.src,w.integrity=y="string"==typeof b.integrity?b.integrity:void 0,w.crossOrigin=v="string"==typeof b||null==b.crossOrigin?void 0:"use-credentials"===b.crossOrigin?"use-credentials":"");var j=g;(b=e).scriptResources[j]=null,b.moduleScriptResources[j]=null,ce(b=[],w),h.add(b),s.push('<script src="',M(g),'"'),"string"==typeof y&&s.push(' integrity="',M(y),'"'),"string"==typeof v&&s.push(' crossorigin="',M(v),'"'),$e(s,e),s.push(' async=""><\/script>')}if(void 0!==i)for(r=0;r<i.length;r++)v=g=void 0,y={rel:"modulepreload",fetchPriority:"low",nonce:void 0},"string"==typeof(w=i[r])?y.href=x=w:(y.href=x=w.src,y.integrity=v="string"==typeof w.integrity?w.integrity:void 0,y.crossOrigin=g="string"==typeof w||null==w.crossOrigin?void 0:"use-credentials"===w.crossOrigin?"use-credentials":""),b=x,(w=e).scriptResources[b]=null,w.moduleScriptResources[b]=null,ce(w=[],y),h.add(w),s.push('<script type="module" src="',M(x),'"'),"string"==typeof v&&s.push(' integrity="',M(v),'"'),"string"==typeof g&&s.push(' crossorigin="',M(g),'"'),$e(s,e),s.push(' async=""><\/script>');return{placeholderPrefix:a,segmentPrefix:l,boundaryPrefix:n,startInlineScript:"<script",startInlineStyle:"<style",preamble:{htmlChunks:null,headChunks:null,bodyChunks:null},externalRuntimeScript:null,bootstrapChunks:s,importMapChunks:[],onHeaders:void 0,headers:null,resets:{font:{},dns:{},connect:{default:{},anonymous:{},credentials:{}},image:{},style:{}},charsetChunks:[],viewportChunks:[],hoistableChunks:[],preconnects:o,fontPreloads:c,highImagePreloads:d,styles:u,bootstrapScripts:h,scripts:m,bulkPreloads:p,preloads:f,nonce:{script:void 0,style:void 0},stylesToHoist:!1,generateStaticMarkup:t}}(t,s),q(0,null,0,null),1/0,hs,void 0,function(){h=!0},void 0,void 0,void 0),e.flushScheduled=null!==e.destination,Kn(e),10===e.status&&(e.status=11),null===e.trackedPostpones&&qn(e,0===e.pendingRootTasks),ds(e,a),function(e,t){if(13===e.status)e.status=14,t.destroy(e.fatalError);else if(14!==e.status&&null===e.destination){e.destination=t;try{os(e,t)}catch(n){Nn(e,n,{}),kn(e,n)}}}(e,{push:function(e){return null!==e&&(u+=e),!0},destroy:function(e){c=!0,d=e}}),c&&d!==a)throw d;if(!h)throw Error(n(426));return u}return jm.renderToStaticMarkup=function(e,t){return ms(e,t,!0,'The server used "renderToStaticMarkup" which does not support Suspense. If you intended to have the server wait for the suspended component please switch to "renderToReadableStream" which supports Suspense on the server')},jm.renderToString=function(e,t){return ms(e,t,!1,'The server used "renderToString" which does not support Suspense. If you intended for this Suspense boundary to render the fallback content on the server consider throwing an Error somewhere within the Suspense boundary. If you intended to have the server wait for the suspended component please switch to "renderToReadableStream" which supports Suspense on the server')},jm.version="19.2.3",jm}var km,Sm,Cm={};function _m(){if(km)return Cm;km=1;var e=xt(),t=gt();function n(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=Symbol.for("react.transitional.element"),a=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),h=Symbol.for("react.suspense_list"),m=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),f=Symbol.for("react.scope"),x=Symbol.for("react.activity"),g=Symbol.for("react.legacy_hidden"),b=Symbol.for("react.memo_cache_sentinel"),v=Symbol.for("react.view_transition"),y=Symbol.iterator;function w(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=y&&e[y]||e["@@iterator"])?e:null}var j=Array.isArray;function N(e,t){var n=3&e.length,s=e.length-n,a=t;for(t=0;t<s;){var r=255&e.charCodeAt(t)|(255&e.charCodeAt(++t))<<8|(255&e.charCodeAt(++t))<<16|(255&e.charCodeAt(++t))<<24;++t,a=27492+(65535&(a=5*(65535&(a=(a^=r=461845907*(65535&(r=(r=3432918353*(65535&r)+((3432918353*(r>>>16)&65535)<<16)&4294967295)<<15|r>>>17))+((461845907*(r>>>16)&65535)<<16)&4294967295)<<13|a>>>19))+((5*(a>>>16)&65535)<<16)&4294967295))+(((a>>>16)+58964&65535)<<16)}switch(r=0,n){case 3:r^=(255&e.charCodeAt(t+2))<<16;case 2:r^=(255&e.charCodeAt(t+1))<<8;case 1:a^=461845907*(65535&(r=(r=3432918353*(65535&(r^=255&e.charCodeAt(t)))+((3432918353*(r>>>16)&65535)<<16)&4294967295)<<15|r>>>17))+((461845907*(r>>>16)&65535)<<16)&4294967295}return a^=e.length,a=2246822507*(65535&(a^=a>>>16))+((2246822507*(a>>>16)&65535)<<16)&4294967295,((a=3266489909*(65535&(a^=a>>>13))+((3266489909*(a>>>16)&65535)<<16)&4294967295)^a>>>16)>>>0}var k=new MessageChannel,S=[];function C(e){S.push(e),k.port2.postMessage(null)}function _(e){setTimeout(function(){throw e})}k.port1.onmessage=function(){var e=S.shift();e&&e()};var P=Promise,D="function"==typeof queueMicrotask?queueMicrotask:function(e){P.resolve(null).then(e).catch(_)},T=null,E=0;function z(e,t){if(0!==t.byteLength)if(2048<t.byteLength)0<E&&(e.enqueue(new Uint8Array(T.buffer,0,E)),T=new Uint8Array(2048),E=0),e.enqueue(t);else{var n=T.length-E;n<t.byteLength&&(0===n?e.enqueue(T):(T.set(t.subarray(0,n),E),e.enqueue(T),t=t.subarray(n)),T=new Uint8Array(2048),E=0),T.set(t,E),E+=t.byteLength}}function M(e,t){return z(e,t),!0}function R(e){T&&0<E&&(e.enqueue(new Uint8Array(T.buffer,0,E)),T=null,E=0)}var A=new TextEncoder;function O(e){return A.encode(e)}function F(e){return A.encode(e)}function I(e){return e.byteLength}function L(e,t){"function"==typeof e.error?e.error(t):e.close()}var B=Object.assign,$=Object.prototype.hasOwnProperty,W=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),H={},U={};function V(e){return!!$.call(U,e)||!$.call(H,e)&&(W.test(e)?U[e]=!0:(H[e]=!0,!1))}var q=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" ")),Y=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),G=/["'&<>]/;function X(e){if("boolean"==typeof e||"number"==typeof e||"bigint"==typeof e)return""+e;e=""+e;var t=G.exec(e);if(t){var n,s="",a=0;for(n=t.index;n<e.length;n++){switch(e.charCodeAt(n)){case 34:t="&quot;";break;case 38:t="&amp;";break;case 39:t="&#x27;";break;case 60:t="&lt;";break;case 62:t="&gt;";break;default:continue}a!==n&&(s+=e.slice(a,n)),a=n+1,s+=t}e=a!==n?s+e.slice(a,n):s}return e}var Q=/([A-Z])/g,K=/^ms-/,J=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Z(e){return J.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var ee=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,te=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ne={pending:!1,data:null,method:null,action:null},se=te.d;te.d={f:se.f,r:se.r,D:function(e){var t=Ca||null;if(t){var n=t.resumableState,s=t.renderState;if("string"==typeof e&&e){var a,r;if(!n.dnsResources.hasOwnProperty(e))n.dnsResources[e]=null,(r=(n=s.headers)&&0<n.remainingCapacity)&&(a="<"+(""+e).replace(is,ls)+">; rel=dns-prefetch",r=0<=(n.remainingCapacity-=a.length+2)),r?(s.resets.dns[e]=null,n.preconnects&&(n.preconnects+=", "),n.preconnects+=a):(nt(a=[],{href:e,rel:"dns-prefetch"}),s.preconnects.add(a));Nr(t)}}else se.D(e)},C:function(e,t){var n=Ca||null;if(n){var s=n.resumableState,a=n.renderState;if("string"==typeof e&&e){var r="use-credentials"===t?"credentials":"string"==typeof t?"anonymous":"default";if(!s.connectResources[r].hasOwnProperty(e)){var i,l;if(s.connectResources[r][e]=null,l=(s=a.headers)&&0<s.remainingCapacity){if(l="<"+(""+e).replace(is,ls)+">; rel=preconnect","string"==typeof t)l+='; crossorigin="'+(""+t).replace(os,cs)+'"';i=l,l=0<=(s.remainingCapacity-=i.length+2)}l?(a.resets.connect[r][e]=null,s.preconnects&&(s.preconnects+=", "),s.preconnects+=i):(nt(r=[],{rel:"preconnect",href:e,crossOrigin:t}),a.preconnects.add(r))}Nr(n)}}else se.C(e,t)},L:function(e,t,n){var s=Ca||null;if(s){var a=s.resumableState,r=s.renderState;if(t&&e){switch(t){case"image":if(n)var i=n.imageSrcSet,l=n.imageSizes,o=n.fetchPriority;var c,d=i?i+"\n"+(l||""):e;if(a.imageResources.hasOwnProperty(d))return;a.imageResources[d]=ae,(a=r.headers)&&0<a.remainingCapacity&&"string"!=typeof i&&"high"===o&&(c=rs(e,t,n),0<=(a.remainingCapacity-=c.length+2))?(r.resets.image[d]=ae,a.highImagePreloads&&(a.highImagePreloads+=", "),a.highImagePreloads+=c):(nt(a=[],B({rel:"preload",href:i?void 0:e,as:t},n)),"high"===o?r.highImagePreloads.add(a):(r.bulkPreloads.add(a),r.preloads.images.set(d,a)));break;case"style":if(a.styleResources.hasOwnProperty(e))return;nt(i=[],B({rel:"preload",href:e,as:t},n)),a.styleResources[e]=!n||"string"!=typeof n.crossOrigin&&"string"!=typeof n.integrity?ae:[n.crossOrigin,n.integrity],r.preloads.stylesheets.set(e,i),r.bulkPreloads.add(i);break;case"script":if(a.scriptResources.hasOwnProperty(e))return;i=[],r.preloads.scripts.set(e,i),r.bulkPreloads.add(i),nt(i,B({rel:"preload",href:e,as:t},n)),a.scriptResources[e]=!n||"string"!=typeof n.crossOrigin&&"string"!=typeof n.integrity?ae:[n.crossOrigin,n.integrity];break;default:if(a.unknownResources.hasOwnProperty(t)){if((i=a.unknownResources[t]).hasOwnProperty(e))return}else i={},a.unknownResources[t]=i;if(i[e]=ae,(a=r.headers)&&0<a.remainingCapacity&&"font"===t&&(d=rs(e,t,n),0<=(a.remainingCapacity-=d.length+2)))r.resets.font[e]=ae,a.fontPreloads&&(a.fontPreloads+=", "),a.fontPreloads+=d;else if("font"===(nt(a=[],e=B({rel:"preload",href:e,as:t},n)),t))r.fontPreloads.add(a);else r.bulkPreloads.add(a)}Nr(s)}}else se.L(e,t,n)},m:function(e,t){var n=Ca||null;if(n){var s=n.resumableState,a=n.renderState;if(e){var r=t&&"string"==typeof t.as?t.as:"script";if("script"===r){if(s.moduleScriptResources.hasOwnProperty(e))return;r=[],s.moduleScriptResources[e]=!t||"string"!=typeof t.crossOrigin&&"string"!=typeof t.integrity?ae:[t.crossOrigin,t.integrity],a.preloads.moduleScripts.set(e,r)}else{if(s.moduleUnknownResources.hasOwnProperty(r)){var i=s.unknownResources[r];if(i.hasOwnProperty(e))return}else i={},s.moduleUnknownResources[r]=i;r=[],i[e]=ae}nt(r,B({rel:"modulepreload",href:e},t)),a.bulkPreloads.add(r),Nr(n)}}else se.m(e,t)},X:function(e,t){var n=Ca||null;if(n){var s=n.resumableState,a=n.renderState;if(e){var r=s.scriptResources.hasOwnProperty(e)?s.scriptResources[e]:void 0;null!==r&&(s.scriptResources[e]=null,t=B({src:e,async:!0},t),r&&(2===r.length&&as(t,r),e=a.preloads.scripts.get(e))&&(e.length=0),e=[],a.scripts.add(e),dt(e,t),Nr(n))}}else se.X(e,t)},S:function(e,t,n){var s=Ca||null;if(s){var a=s.resumableState,r=s.renderState;if(e){t=t||"default";var i=r.styles.get(t),l=a.styleResources.hasOwnProperty(e)?a.styleResources[e]:void 0;null!==l&&(a.styleResources[e]=null,i||(i={precedence:O(X(t)),rules:[],hrefs:[],sheets:new Map},r.styles.set(t,i)),t={state:0,props:B({rel:"stylesheet",href:e,"data-precedence":t},n)},l&&(2===l.length&&as(t.props,l),(r=r.preloads.stylesheets.get(e))&&0<r.length?r.length=0:t.state=1),i.sheets.set(e,t),Nr(s))}}else se.S(e,t,n)},M:function(e,t){var n=Ca||null;if(n){var s=n.resumableState,a=n.renderState;if(e){var r=s.moduleScriptResources.hasOwnProperty(e)?s.moduleScriptResources[e]:void 0;null!==r&&(s.moduleScriptResources[e]=null,t=B({src:e,type:"module",async:!0},t),r&&(2===r.length&&as(t,r),e=a.preloads.moduleScripts.get(e))&&(e.length=0),e=[],a.scripts.add(e),dt(e,t),Nr(n))}}else se.M(e,t)}};var ae=[],re=null;F('"></template>');var ie=F("<script"),le=F("<\/script>"),oe=F('<script src="'),ce=F('<script type="module" src="'),de=F(' nonce="'),ue=F(' integrity="'),he=F(' crossorigin="'),me=F(' async=""><\/script>'),pe=F("<style"),fe=/(<\/|<)(s)(cript)/gi;function xe(e,t,n,s){return t+("s"===n?"\\u0073":"\\u0053")+s}var ge=F('<script type="importmap">'),be=F("<\/script>");function ve(e,t,n,s,a,r){var i=void 0===(n="string"==typeof t?t:t&&t.script)?ie:F('<script nonce="'+X(n)+'"'),l="string"==typeof t?void 0:t&&t.style,o=void 0===l?pe:F('<style nonce="'+X(l)+'"'),c=e.idPrefix,d=[],u=e.bootstrapScriptContent,h=e.bootstrapScripts,m=e.bootstrapModules;if(void 0!==u&&(d.push(i),Kn(d,e),d.push(Ge,O((""+u).replace(fe,xe)),le)),u=[],void 0!==s&&(u.push(ge),u.push(O((""+JSON.stringify(s)).replace(fe,xe))),u.push(be)),s=a?{preconnects:"",fontPreloads:"",highImagePreloads:"",remainingCapacity:2+("number"==typeof r?r:2e3)}:null,a={placeholderPrefix:F(c+"P:"),segmentPrefix:F(c+"S:"),boundaryPrefix:F(c+"B:"),startInlineScript:i,startInlineStyle:o,preamble:{htmlChunks:null,headChunks:null,bodyChunks:null},externalRuntimeScript:null,bootstrapChunks:d,importMapChunks:u,onHeaders:a,headers:s,resets:{font:{},dns:{},connect:{default:{},anonymous:{},credentials:{}},image:{},style:{}},charsetChunks:[],viewportChunks:[],hoistableChunks:[],preconnects:new Set,fontPreloads:new Set,highImagePreloads:new Set,styles:new Map,bootstrapScripts:new Set,scripts:new Set,bulkPreloads:new Set,preloads:{images:new Map,stylesheets:new Map,scripts:new Map,moduleScripts:new Map},nonce:{script:n,style:l},hoistableState:null,stylesToHoist:!1},void 0!==h)for(s=0;s<h.length;s++)l=i=void 0,o={rel:"preload",as:"script",fetchPriority:"low",nonce:t},"string"==typeof(c=h[s])?o.href=r=c:(o.href=r=c.src,o.integrity=l="string"==typeof c.integrity?c.integrity:void 0,o.crossOrigin=i="string"==typeof c||null==c.crossOrigin?void 0:"use-credentials"===c.crossOrigin?"use-credentials":""),u=r,(c=e).scriptResources[u]=null,c.moduleScriptResources[u]=null,nt(c=[],o),a.bootstrapScripts.add(c),d.push(oe,O(X(r)),Fe),n&&d.push(de,O(X(n)),Fe),"string"==typeof l&&d.push(ue,O(X(l)),Fe),"string"==typeof i&&d.push(he,O(X(i)),Fe),Kn(d,e),d.push(me);if(void 0!==m)for(t=0;t<m.length;t++)r=s=void 0,i={rel:"modulepreload",fetchPriority:"low",nonce:n},"string"==typeof(l=m[t])?i.href=h=l:(i.href=h=l.src,i.integrity=r="string"==typeof l.integrity?l.integrity:void 0,i.crossOrigin=s="string"==typeof l||null==l.crossOrigin?void 0:"use-credentials"===l.crossOrigin?"use-credentials":""),o=h,(l=e).scriptResources[o]=null,l.moduleScriptResources[o]=null,nt(l=[],i),a.bootstrapScripts.add(l),d.push(ce,O(X(h)),Fe),n&&d.push(de,O(X(n)),Fe),"string"==typeof r&&d.push(ue,O(X(r)),Fe),"string"==typeof s&&d.push(he,O(X(s)),Fe),Kn(d,e),d.push(me);return a}function ye(e,t,n,s,a){return{idPrefix:void 0===e?"":e,nextFormID:0,streamingFormat:0,bootstrapScriptContent:n,bootstrapScripts:s,bootstrapModules:a,instructions:0,hasBody:!1,hasHtml:!1,unknownResources:{},dnsResources:{},connectResources:{default:{},anonymous:{},credentials:{}},imageResources:{},styleResources:{},scriptResources:{},moduleUnknownResources:{},moduleScriptResources:{}}}function we(){return{htmlChunks:null,headChunks:null,bodyChunks:null}}function je(e,t,n,s){return{insertionMode:e,selectedValue:t,tagScope:n,viewTransition:s}}function Ne(e){return je("http://www.w3.org/2000/svg"===e?4:"http://www.w3.org/1998/Math/MathML"===e?5:0,null,0,null)}function ke(e,t,n){var s=-25&e.tagScope;switch(t){case"noscript":return je(2,null,1|s,null);case"select":return je(2,null!=n.value?n.value:n.defaultValue,s,null);case"svg":return je(4,null,s,null);case"picture":return je(2,null,2|s,null);case"math":return je(5,null,s,null);case"foreignObject":return je(2,null,s,null);case"table":return je(6,null,s,null);case"thead":case"tbody":case"tfoot":return je(7,null,s,null);case"colgroup":return je(9,null,s,null);case"tr":return je(8,null,s,null);case"head":if(2>e.insertionMode)return je(3,null,s,null);break;case"html":if(0===e.insertionMode)return je(1,null,s,null)}return 6<=e.insertionMode||2>e.insertionMode?je(2,null,s,null):e.tagScope!==s?je(e.insertionMode,e.selectedValue,s,null):e}function Se(e){return null===e?null:{update:e.update,enter:"none",exit:"none",share:e.update,name:e.autoName,autoName:e.autoName,nameIdx:0}}function Ce(e,t){return 32&t.tagScope&&(e.instructions|=128),je(t.insertionMode,t.selectedValue,12|t.tagScope,Se(t.viewTransition))}function _e(e,t){e=Se(t.viewTransition);var n=16|t.tagScope;return null!==e&&"none"!==e.share&&(n|=64),je(t.insertionMode,t.selectedValue,n,e)}var Pe=F("\x3c!-- --\x3e");function De(e,t,n,s){return""===t?s:(s&&e.push(Pe),e.push(O(X(t))),!0)}var Te=new Map,Ee=F(' style="'),ze=F(":"),Me=F(";");function Re(e,t){if("object"!=typeof t)throw Error(n(62));var s,a=!0;for(s in t)if($.call(t,s)){var r=t[s];if(null!=r&&"boolean"!=typeof r&&""!==r){if(0===s.indexOf("--")){var i=O(X(s));r=O(X((""+r).trim()))}else void 0===(i=Te.get(s))&&(i=F(X(s.replace(Q,"-$1").toLowerCase().replace(K,"-ms-"))),Te.set(s,i)),r="number"==typeof r?0===r||q.has(s)?O(""+r):O(r+"px"):O(X((""+r).trim()));a?(a=!1,e.push(Ee,i,ze,r)):e.push(Me,i,ze,r)}}a||e.push(Fe)}var Ae=F(" "),Oe=F('="'),Fe=F('"'),Ie=F('=""');function Le(e,t,n){n&&"function"!=typeof n&&"symbol"!=typeof n&&e.push(Ae,O(t),Ie)}function Be(e,t,n){"function"!=typeof n&&"symbol"!=typeof n&&"boolean"!=typeof n&&e.push(Ae,O(t),Oe,O(X(n)),Fe)}var $e=F(X("javascript:throw new Error('React form unexpectedly submitted.')")),We=F('<input type="hidden"');function He(e,t){this.push(We),Ue(e),Be(this,"name",t),Be(this,"value",e),this.push(Xe)}function Ue(e){if("string"!=typeof e)throw Error(n(480))}function Ve(e,t){if("function"==typeof t.$$FORM_ACTION){var n=e.nextFormID++;e=e.idPrefix+n;try{var s=t.$$FORM_ACTION(e);if(s){var a=s.data;null!=a&&a.forEach(Ue)}return s}catch(r){if("object"==typeof r&&null!==r&&"function"==typeof r.then)throw r}}return null}function qe(e,t,n,s,a,r,i,l){var o=null;if("function"==typeof s){var c=Ve(t,s);null!==c?(l=c.name,s=c.action||"",a=c.encType,r=c.method,i=c.target,o=c.data):(e.push(Ae,O("formAction"),Oe,$e,Fe),i=r=a=s=l=null,Ze(t,n))}return null!=l&&Ye(e,"name",l),null!=s&&Ye(e,"formAction",s),null!=a&&Ye(e,"formEncType",a),null!=r&&Ye(e,"formMethod",r),null!=i&&Ye(e,"formTarget",i),o}function Ye(e,t,n){switch(t){case"className":Be(e,"class",n);break;case"tabIndex":Be(e,"tabindex",n);break;case"dir":case"role":case"viewBox":case"width":case"height":Be(e,t,n);break;case"style":Re(e,n);break;case"src":case"href":if(""===n)break;case"action":case"formAction":if(null==n||"function"==typeof n||"symbol"==typeof n||"boolean"==typeof n)break;n=Z(""+n),e.push(Ae,O(t),Oe,O(X(n)),Fe);break;case"defaultValue":case"defaultChecked":case"innerHTML":case"suppressContentEditableWarning":case"suppressHydrationWarning":case"ref":break;case"autoFocus":case"multiple":case"muted":Le(e,t.toLowerCase(),n);break;case"xlinkHref":if("function"==typeof n||"symbol"==typeof n||"boolean"==typeof n)break;n=Z(""+n),e.push(Ae,O("xlink:href"),Oe,O(X(n)),Fe);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":"function"!=typeof n&&"symbol"!=typeof n&&e.push(Ae,O(t),Oe,O(X(n)),Fe);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":n&&"function"!=typeof n&&"symbol"!=typeof n&&e.push(Ae,O(t),Ie);break;case"capture":case"download":!0===n?e.push(Ae,O(t),Ie):!1!==n&&"function"!=typeof n&&"symbol"!=typeof n&&e.push(Ae,O(t),Oe,O(X(n)),Fe);break;case"cols":case"rows":case"size":case"span":"function"!=typeof n&&"symbol"!=typeof n&&!isNaN(n)&&1<=n&&e.push(Ae,O(t),Oe,O(X(n)),Fe);break;case"rowSpan":case"start":"function"==typeof n||"symbol"==typeof n||isNaN(n)||e.push(Ae,O(t),Oe,O(X(n)),Fe);break;case"xlinkActuate":Be(e,"xlink:actuate",n);break;case"xlinkArcrole":Be(e,"xlink:arcrole",n);break;case"xlinkRole":Be(e,"xlink:role",n);break;case"xlinkShow":Be(e,"xlink:show",n);break;case"xlinkTitle":Be(e,"xlink:title",n);break;case"xlinkType":Be(e,"xlink:type",n);break;case"xmlBase":Be(e,"xml:base",n);break;case"xmlLang":Be(e,"xml:lang",n);break;case"xmlSpace":Be(e,"xml:space",n);break;default:if((!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&V(t=Y.get(t)||t)){switch(typeof n){case"function":case"symbol":return;case"boolean":var s=t.toLowerCase().slice(0,5);if("data-"!==s&&"aria-"!==s)return}e.push(Ae,O(t),Oe,O(X(n)),Fe)}}}var Ge=F(">"),Xe=F("/>");function Qe(e,t,s){if(null!=t){if(null!=s)throw Error(n(60));if("object"!=typeof t||!("__html"in t))throw Error(n(61));null!=(t=t.__html)&&e.push(O(""+t))}}var Ke=F(' selected=""'),Je=F('addEventListener("submit",function(a){if(!a.defaultPrevented){var c=a.target,d=a.submitter,e=c.action,b=d;if(d){var f=d.getAttribute("formAction");null!=f&&(e=f,b=null)}"javascript:throw new Error(\'React form unexpectedly submitted.\')"===e&&(a.preventDefault(),b?(a=document.createElement("input"),a.name=b.name,a.value=b.value,b.parentNode.insertBefore(a,b),b=new FormData(c),a.parentNode.removeChild(a)):b=new FormData(c),a=c.ownerDocument||c,(a.$$reactFormReplay=a.$$reactFormReplay||[]).push(c,d,b))}});');function Ze(e,t){if(!(16&e.instructions)){e.instructions|=16;var n=t.preamble,s=t.bootstrapChunks;(n.htmlChunks||n.headChunks)&&0===s.length?(s.push(t.startInlineScript),Kn(s,e),s.push(Ge,Je,le)):s.unshift(t.startInlineScript,Ge,Je,le)}}var et=F("\x3c!--F!--\x3e"),tt=F("\x3c!--F--\x3e");function nt(e,t){for(var s in e.push(bt("link")),t)if($.call(t,s)){var a=t[s];if(null!=a)switch(s){case"children":case"dangerouslySetInnerHTML":throw Error(n(399,"link"));default:Ye(e,s,a)}}return e.push(Xe),null}var st=/(<\/|<)(s)(tyle)/gi;function at(e,t,n,s){return t+("s"===n?"\\73 ":"\\53 ")+s}function rt(e,t,s){for(var a in e.push(bt(s)),t)if($.call(t,a)){var r=t[a];if(null!=r)switch(a){case"children":case"dangerouslySetInnerHTML":throw Error(n(399,s));default:Ye(e,a,r)}}return e.push(Xe),null}function it(e,t){e.push(bt("title"));var n,s=null,a=null;for(n in t)if($.call(t,n)){var r=t[n];if(null!=r)switch(n){case"children":s=r;break;case"dangerouslySetInnerHTML":a=r;break;default:Ye(e,n,r)}}return e.push(Ge),"function"!=typeof(t=Array.isArray(s)?2>s.length?s[0]:null:s)&&"symbol"!=typeof t&&null!=t&&e.push(O(X(""+t))),Qe(e,a,s),e.push(jt("title")),null}var lt=F("\x3c!--head--\x3e"),ot=F("\x3c!--body--\x3e"),ct=F("\x3c!--html--\x3e");function dt(e,t){e.push(bt("script"));var n,s=null,a=null;for(n in t)if($.call(t,n)){var r=t[n];if(null!=r)switch(n){case"children":s=r;break;case"dangerouslySetInnerHTML":a=r;break;default:Ye(e,n,r)}}return e.push(Ge),Qe(e,a,s),"string"==typeof s&&e.push(O((""+s).replace(fe,xe))),e.push(jt("script")),null}function ut(e,t,n){e.push(bt(n));var s,a=n=null;for(s in t)if($.call(t,s)){var r=t[s];if(null!=r)switch(s){case"children":n=r;break;case"dangerouslySetInnerHTML":a=r;break;default:Ye(e,s,r)}}return e.push(Ge),Qe(e,a,n),n}function ht(e,t,n){e.push(bt(n));var s,a=n=null;for(s in t)if($.call(t,s)){var r=t[s];if(null!=r)switch(s){case"children":n=r;break;case"dangerouslySetInnerHTML":a=r;break;default:Ye(e,s,r)}}return e.push(Ge),Qe(e,a,n),"string"==typeof n?(e.push(O(X(n))),null):n}var mt=F("\n"),pt=/^[a-zA-Z][a-zA-Z:_\.\-\d]*$/,ft=new Map;function bt(e){var t=ft.get(e);if(void 0===t){if(!pt.test(e))throw Error(n(65,e));t=F("<"+e),ft.set(e,t)}return t}var vt=F("<!DOCTYPE html>");function yt(t,s,a,r,i,l,o,c,d){switch(s){case"div":case"span":case"svg":case"path":case"g":case"p":case"li":case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":break;case"a":t.push(bt("a"));var u,h=null,m=null;for(u in a)if($.call(a,u)){var p=a[u];if(null!=p)switch(u){case"children":h=p;break;case"dangerouslySetInnerHTML":m=p;break;case"href":""===p?Be(t,"href",""):Ye(t,u,p);break;default:Ye(t,u,p)}}if(t.push(Ge),Qe(t,m,h),"string"==typeof h){t.push(O(X(h)));var f=null}else f=h;return f;case"select":t.push(bt("select"));var x,g=null,b=null;for(x in a)if($.call(a,x)){var v=a[x];if(null!=v)switch(x){case"children":g=v;break;case"dangerouslySetInnerHTML":b=v;break;case"defaultValue":case"value":break;default:Ye(t,x,v)}}return t.push(Ge),Qe(t,b,g),g;case"option":var y=c.selectedValue;t.push(bt("option"));var w,N=null,k=null,S=null,C=null;for(w in a)if($.call(a,w)){var _=a[w];if(null!=_)switch(w){case"children":N=_;break;case"selected":S=_;break;case"dangerouslySetInnerHTML":C=_;break;case"value":k=_;default:Ye(t,w,_)}}if(null!=y){var P=null!==k?""+k:function(t){var n="";return e.Children.forEach(t,function(e){null!=e&&(n+=e)}),n}(N);if(j(y)){for(var D=0;D<y.length;D++)if(""+y[D]===P){t.push(Ke);break}}else""+y===P&&t.push(Ke)}else S&&t.push(Ke);return t.push(Ge),Qe(t,C,N),N;case"textarea":t.push(bt("textarea"));var T,E=null,z=null,M=null;for(T in a)if($.call(a,T)){var R=a[T];if(null!=R)switch(T){case"children":M=R;break;case"value":E=R;break;case"defaultValue":z=R;break;case"dangerouslySetInnerHTML":throw Error(n(91));default:Ye(t,T,R)}}if(null===E&&null!==z&&(E=z),t.push(Ge),null!=M){if(null!=E)throw Error(n(92));if(j(M)){if(1<M.length)throw Error(n(93));E=""+M[0]}E=""+M}return"string"==typeof E&&"\n"===E[0]&&t.push(mt),null!==E&&t.push(O(X(""+E))),null;case"input":t.push(bt("input"));var A,F=null,I=null,L=null,W=null,H=null,U=null,q=null,Y=null,G=null;for(A in a)if($.call(a,A)){var Q=a[A];if(null!=Q)switch(A){case"children":case"dangerouslySetInnerHTML":throw Error(n(399,"input"));case"name":F=Q;break;case"formAction":I=Q;break;case"formEncType":L=Q;break;case"formMethod":W=Q;break;case"formTarget":H=Q;break;case"defaultChecked":G=Q;break;case"defaultValue":q=Q;break;case"checked":Y=Q;break;case"value":U=Q;break;default:Ye(t,A,Q)}}var K=qe(t,r,i,I,L,W,H,F);return null!==Y?Le(t,"checked",Y):null!==G&&Le(t,"checked",G),null!==U?Ye(t,"value",U):null!==q&&Ye(t,"value",q),t.push(Xe),null!=K&&K.forEach(He,t),null;case"button":t.push(bt("button"));var J,ee=null,te=null,ne=null,se=null,re=null,ie=null,le=null;for(J in a)if($.call(a,J)){var oe=a[J];if(null!=oe)switch(J){case"children":ee=oe;break;case"dangerouslySetInnerHTML":te=oe;break;case"name":ne=oe;break;case"formAction":se=oe;break;case"formEncType":re=oe;break;case"formMethod":ie=oe;break;case"formTarget":le=oe;break;default:Ye(t,J,oe)}}var ce=qe(t,r,i,se,re,ie,le,ne);if(t.push(Ge),null!=ce&&ce.forEach(He,t),Qe(t,te,ee),"string"==typeof ee){t.push(O(X(ee)));var de=null}else de=ee;return de;case"form":t.push(bt("form"));var ue,he=null,me=null,pe=null,fe=null,xe=null,ge=null;for(ue in a)if($.call(a,ue)){var be=a[ue];if(null!=be)switch(ue){case"children":he=be;break;case"dangerouslySetInnerHTML":me=be;break;case"action":pe=be;break;case"encType":fe=be;break;case"method":xe=be;break;case"target":ge=be;break;default:Ye(t,ue,be)}}var ve=null,ye=null;if("function"==typeof pe){var we=Ve(r,pe);null!==we?(pe=we.action||"",fe=we.encType,xe=we.method,ge=we.target,ve=we.data,ye=we.name):(t.push(Ae,O("action"),Oe,$e,Fe),ge=xe=fe=pe=null,Ze(r,i))}if(null!=pe&&Ye(t,"action",pe),null!=fe&&Ye(t,"encType",fe),null!=xe&&Ye(t,"method",xe),null!=ge&&Ye(t,"target",ge),t.push(Ge),null!==ye&&(t.push(We),Be(t,"name",ye),t.push(Xe),null!=ve&&ve.forEach(He,t)),Qe(t,me,he),"string"==typeof he){t.push(O(X(he)));var je=null}else je=he;return je;case"menuitem":for(var Ne in t.push(bt("menuitem")),a)if($.call(a,Ne)){var ke=a[Ne];if(null!=ke)switch(Ne){case"children":case"dangerouslySetInnerHTML":throw Error(n(400));default:Ye(t,Ne,ke)}}return t.push(Ge),null;case"object":t.push(bt("object"));var Se,Ce=null,_e=null;for(Se in a)if($.call(a,Se)){var De=a[Se];if(null!=De)switch(Se){case"children":Ce=De;break;case"dangerouslySetInnerHTML":_e=De;break;case"data":var Te=Z(""+De);if(""===Te)break;t.push(Ae,O("data"),Oe,O(X(Te)),Fe);break;default:Ye(t,Se,De)}}if(t.push(Ge),Qe(t,_e,Ce),"string"==typeof Ce){t.push(O(X(Ce)));var Ee=null}else Ee=Ce;return Ee;case"title":var ze=1&c.tagScope,Me=4&c.tagScope;if(4===c.insertionMode||ze||null!=a.itemProp)var Ie=it(t,a);else Me?Ie=null:(it(i.hoistableChunks,a),Ie=void 0);return Ie;case"link":var Ue=1&c.tagScope,Je=4&c.tagScope,et=a.rel,tt=a.href,pt=a.precedence;if(4===c.insertionMode||Ue||null!=a.itemProp||"string"!=typeof et||"string"!=typeof tt||""===tt){nt(t,a);var ft=null}else if("stylesheet"===a.rel)if("string"!=typeof pt||null!=a.disabled||a.onLoad||a.onError)ft=nt(t,a);else{var xt=i.styles.get(pt),gt=r.styleResources.hasOwnProperty(tt)?r.styleResources[tt]:void 0;if(null!==gt){r.styleResources[tt]=null,xt||(xt={precedence:O(X(pt)),rules:[],hrefs:[],sheets:new Map},i.styles.set(pt,xt));var yt={state:0,props:B({},a,{"data-precedence":a.precedence,precedence:null})};if(gt){2===gt.length&&as(yt.props,gt);var wt=i.preloads.stylesheets.get(tt);wt&&0<wt.length?wt.length=0:yt.state=1}xt.sheets.set(tt,yt),o&&o.stylesheets.add(yt)}else if(xt){var Nt=xt.sheets.get(tt);Nt&&o&&o.stylesheets.add(Nt)}d&&t.push(Pe),ft=null}else a.onLoad||a.onError?ft=nt(t,a):(d&&t.push(Pe),ft=Je?null:nt(i.hoistableChunks,a));return ft;case"script":var kt=1&c.tagScope,St=a.async;if("string"!=typeof a.src||!a.src||!St||"function"==typeof St||"symbol"==typeof St||a.onLoad||a.onError||4===c.insertionMode||kt||null!=a.itemProp)var Ct=dt(t,a);else{var _t=a.src;if("module"===a.type)var Pt=r.moduleScriptResources,Dt=i.preloads.moduleScripts;else Pt=r.scriptResources,Dt=i.preloads.scripts;var Tt=Pt.hasOwnProperty(_t)?Pt[_t]:void 0;if(null!==Tt){Pt[_t]=null;var Et=a;if(Tt){2===Tt.length&&as(Et=B({},a),Tt);var zt=Dt.get(_t);zt&&(zt.length=0)}var Mt=[];i.scripts.add(Mt),dt(Mt,Et)}d&&t.push(Pe),Ct=null}return Ct;case"style":var Rt=1&c.tagScope,At=a.precedence,Ot=a.href,Ft=a.nonce;if(4===c.insertionMode||Rt||null!=a.itemProp||"string"!=typeof At||"string"!=typeof Ot||""===Ot){t.push(bt("style"));var It,Lt=null,Bt=null;for(It in a)if($.call(a,It)){var $t=a[It];if(null!=$t)switch(It){case"children":Lt=$t;break;case"dangerouslySetInnerHTML":Bt=$t;break;default:Ye(t,It,$t)}}t.push(Ge);var Wt=Array.isArray(Lt)?2>Lt.length?Lt[0]:null:Lt;"function"!=typeof Wt&&"symbol"!=typeof Wt&&null!=Wt&&t.push(O((""+Wt).replace(st,at))),Qe(t,Bt,Lt),t.push(jt("style"));var Ht=null}else{var Ut=i.styles.get(At);if(null!==(r.styleResources.hasOwnProperty(Ot)?r.styleResources[Ot]:void 0)){r.styleResources[Ot]=null,Ut||(Ut={precedence:O(X(At)),rules:[],hrefs:[],sheets:new Map},i.styles.set(At,Ut));var Vt=i.nonce.style;if(!Vt||Vt===Ft){Ut.hrefs.push(O(X(Ot)));var qt,Yt=Ut.rules,Gt=null,Xt=null;for(qt in a)if($.call(a,qt)){var Qt=a[qt];if(null!=Qt)switch(qt){case"children":Gt=Qt;break;case"dangerouslySetInnerHTML":Xt=Qt}}var Kt=Array.isArray(Gt)?2>Gt.length?Gt[0]:null:Gt;"function"!=typeof Kt&&"symbol"!=typeof Kt&&null!=Kt&&Yt.push(O((""+Kt).replace(st,at))),Qe(Yt,Xt,Gt)}}Ut&&o&&o.styles.add(Ut),d&&t.push(Pe),Ht=void 0}return Ht;case"meta":var Jt=1&c.tagScope,Zt=4&c.tagScope;if(4===c.insertionMode||Jt||null!=a.itemProp)var en=rt(t,a,"meta");else d&&t.push(Pe),en=Zt?null:"string"==typeof a.charSet?rt(i.charsetChunks,a,"meta"):"viewport"===a.name?rt(i.viewportChunks,a,"meta"):rt(i.hoistableChunks,a,"meta");return en;case"listing":case"pre":t.push(bt(s));var tn,nn=null,sn=null;for(tn in a)if($.call(a,tn)){var an=a[tn];if(null!=an)switch(tn){case"children":nn=an;break;case"dangerouslySetInnerHTML":sn=an;break;default:Ye(t,tn,an)}}if(t.push(Ge),null!=sn){if(null!=nn)throw Error(n(60));if("object"!=typeof sn||!("__html"in sn))throw Error(n(61));var rn=sn.__html;null!=rn&&("string"==typeof rn&&0<rn.length&&"\n"===rn[0]?t.push(mt,O(rn)):t.push(O(""+rn)))}return"string"==typeof nn&&"\n"===nn[0]&&t.push(mt),nn;case"img":var ln=3&c.tagScope,on=a.src,cn=a.srcSet;if(!("lazy"===a.loading||!on&&!cn||"string"!=typeof on&&null!=on||"string"!=typeof cn&&null!=cn||"low"===a.fetchPriority||ln)&&("string"!=typeof on||":"!==on[4]||"d"!==on[0]&&"D"!==on[0]||"a"!==on[1]&&"A"!==on[1]||"t"!==on[2]&&"T"!==on[2]||"a"!==on[3]&&"A"!==on[3])&&("string"!=typeof cn||":"!==cn[4]||"d"!==cn[0]&&"D"!==cn[0]||"a"!==cn[1]&&"A"!==cn[1]||"t"!==cn[2]&&"T"!==cn[2]||"a"!==cn[3]&&"A"!==cn[3])){null!==o&&64&c.tagScope&&(o.suspenseyImages=!0);var dn="string"==typeof a.sizes?a.sizes:void 0,un=cn?cn+"\n"+(dn||""):on,hn=i.preloads.images,mn=hn.get(un);if(mn)("high"===a.fetchPriority||10>i.highImagePreloads.size)&&(hn.delete(un),i.highImagePreloads.add(mn));else if(!r.imageResources.hasOwnProperty(un)){r.imageResources[un]=ae;var pn,fn=a.crossOrigin,xn="string"==typeof fn?"use-credentials"===fn?fn:"":void 0,gn=i.headers;gn&&0<gn.remainingCapacity&&"string"!=typeof a.srcSet&&("high"===a.fetchPriority||500>gn.highImagePreloads.length)&&(pn=rs(on,"image",{imageSrcSet:a.srcSet,imageSizes:a.sizes,crossOrigin:xn,integrity:a.integrity,nonce:a.nonce,type:a.type,fetchPriority:a.fetchPriority,referrerPolicy:a.refererPolicy}),0<=(gn.remainingCapacity-=pn.length+2))?(i.resets.image[un]=ae,gn.highImagePreloads&&(gn.highImagePreloads+=", "),gn.highImagePreloads+=pn):(nt(mn=[],{rel:"preload",as:"image",href:cn?void 0:on,imageSrcSet:cn,imageSizes:dn,crossOrigin:xn,integrity:a.integrity,type:a.type,fetchPriority:a.fetchPriority,referrerPolicy:a.referrerPolicy}),"high"===a.fetchPriority||10>i.highImagePreloads.size?i.highImagePreloads.add(mn):(i.bulkPreloads.add(mn),hn.set(un,mn)))}}return rt(t,a,"img");case"base":case"area":case"br":case"col":case"embed":case"hr":case"keygen":case"param":case"source":case"track":case"wbr":return rt(t,a,s);case"head":if(2>c.insertionMode){var bn=l||i.preamble;if(bn.headChunks)throw Error(n(545,"`<head>`"));null!==l&&t.push(lt),bn.headChunks=[];var vn=ut(bn.headChunks,a,"head")}else vn=ht(t,a,"head");return vn;case"body":if(2>c.insertionMode){var yn=l||i.preamble;if(yn.bodyChunks)throw Error(n(545,"`<body>`"));null!==l&&t.push(ot),yn.bodyChunks=[];var wn=ut(yn.bodyChunks,a,"body")}else wn=ht(t,a,"body");return wn;case"html":if(0===c.insertionMode){var jn=l||i.preamble;if(jn.htmlChunks)throw Error(n(545,"`<html>`"));null!==l&&t.push(ct),jn.htmlChunks=[vt];var Nn=ut(jn.htmlChunks,a,"html")}else Nn=ht(t,a,"html");return Nn;default:if(-1!==s.indexOf("-")){t.push(bt(s));var kn,Sn=null,Cn=null;for(kn in a)if($.call(a,kn)){var _n=a[kn];if(null!=_n){var Pn=kn;switch(kn){case"children":Sn=_n;break;case"dangerouslySetInnerHTML":Cn=_n;break;case"style":Re(t,_n);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"ref":break;case"className":Pn="class";default:if(V(kn)&&"function"!=typeof _n&&"symbol"!=typeof _n&&!1!==_n){if(!0===_n)_n="";else if("object"==typeof _n)continue;t.push(Ae,O(Pn),Oe,O(X(_n)),Fe)}}}}return t.push(Ge),Qe(t,Cn,Sn),Sn}}return ht(t,a,s)}var wt=new Map;function jt(e){var t=wt.get(e);return void 0===t&&(t=F("</"+e+">"),wt.set(e,t)),t}function Nt(e,t){null===(e=e.preamble).htmlChunks&&t.htmlChunks&&(e.htmlChunks=t.htmlChunks),null===e.headChunks&&t.headChunks&&(e.headChunks=t.headChunks),null===e.bodyChunks&&t.bodyChunks&&(e.bodyChunks=t.bodyChunks)}function kt(e,t){t=t.bootstrapChunks;for(var n=0;n<t.length-1;n++)z(e,t[n]);return!(n<t.length)||(n=t[n],t.length=0,M(e,n))}var St=F("requestAnimationFrame(function(){$RT=performance.now()});"),Ct=F('<template id="'),_t=F('"></template>'),Pt=F("\x3c!--&--\x3e"),Dt=F("\x3c!--/&--\x3e"),Tt=F("\x3c!--$--\x3e"),Et=F('\x3c!--$?--\x3e<template id="'),zt=F('"></template>'),Mt=F("\x3c!--$!--\x3e"),Rt=F("\x3c!--/$--\x3e"),At=F("<template"),Ot=F('"'),Ft=F(' data-dgst="');F(' data-msg="'),F(' data-stck="'),F(' data-cstck="');var It=F("></template>");function Lt(e,t,s){if(z(e,Et),null===s)throw Error(n(395));return z(e,t.boundaryPrefix),z(e,O(s.toString(16))),M(e,zt)}var Bt=F('<div hidden id="'),$t=F('">'),Wt=F("</div>"),Ht=F('<svg aria-hidden="true" style="display:none" id="'),Ut=F('">'),Vt=F("</svg>"),qt=F('<math aria-hidden="true" style="display:none" id="'),Yt=F('">'),Gt=F("</math>"),Xt=F('<table hidden id="'),Qt=F('">'),Kt=F("</table>"),Jt=F('<table hidden><tbody id="'),Zt=F('">'),en=F("</tbody></table>"),tn=F('<table hidden><tr id="'),nn=F('">'),sn=F("</tr></table>"),an=F('<table hidden><colgroup id="'),rn=F('">'),ln=F("</colgroup></table>");var on=F('$RS=function(a,b){a=document.getElementById(a);b=document.getElementById(b);for(a.parentNode.removeChild(a);a.firstChild;)b.parentNode.insertBefore(a.firstChild,b);b.parentNode.removeChild(b)};$RS("'),cn=F('$RS("'),dn=F('","'),un=F('")<\/script>');F('<template data-rsi="" data-sid="'),F('" data-pid="');var hn=F('$RB=[];$RV=function(a){$RT=performance.now();for(var b=0;b<a.length;b+=2){var c=a[b],e=a[b+1];null!==e.parentNode&&e.parentNode.removeChild(e);var f=c.parentNode;if(f){var g=c.previousSibling,h=0;do{if(c&&8===c.nodeType){var d=c.data;if("/$"===d||"/&"===d)if(0===h)break;else h--;else"$"!==d&&"$?"!==d&&"$~"!==d&&"$!"!==d&&"&"!==d||h++}d=c.nextSibling;f.removeChild(c);c=d}while(c);for(;e.firstChild;)f.insertBefore(e.firstChild,c);g.data="$";g._reactRetry&&requestAnimationFrame(g._reactRetry)}}a.length=0};\n$RC=function(a,b){if(b=document.getElementById(b))(a=document.getElementById(a))?(a.previousSibling.data="$~",$RB.push(a,b),2===$RB.length&&("number"!==typeof $RT?requestAnimationFrame($RV.bind(null,$RB)):(a=performance.now(),setTimeout($RV.bind(null,$RB),2300>a&&2E3<a?2300-a:$RT+300-a)))):b.parentNode.removeChild(b)};');O('$RV=function(A,g){function k(a,b){var e=a.getAttribute(b);e&&(b=a.style,l.push(a,b.viewTransitionName,b.viewTransitionClass),"auto"!==e&&(b.viewTransitionClass=e),(a=a.getAttribute("vt-name"))||(a="_T_"+K++ +"_"),b.viewTransitionName=a,B=!0)}var B=!1,K=0,l=[];try{var f=document.__reactViewTransition;if(f){f.finished.finally($RV.bind(null,g));return}var m=new Map;for(f=1;f<g.length;f+=2)for(var h=g[f].querySelectorAll("[vt-share]"),d=0;d<h.length;d++){var c=h[d];m.set(c.getAttribute("vt-name"),c)}var u=[];for(h=0;h<g.length;h+=2){var C=g[h],x=C.parentNode;if(x){var v=x.getBoundingClientRect();if(v.left||v.top||v.width||v.height){c=C;for(f=0;c;){if(8===c.nodeType){var r=c.data;if("/$"===r)if(0===f)break;else f--;else"$"!==r&&"$?"!==r&&"$~"!==r&&"$!"!==r||f++}else if(1===c.nodeType){d=c;var D=d.getAttribute("vt-name"),y=m.get(D);k(d,y?"vt-share":"vt-exit");y&&(k(y,"vt-share"),m.set(D,null));var E=d.querySelectorAll("[vt-share]");for(d=0;d<E.length;d++){var F=E[d],G=F.getAttribute("vt-name"),\nH=m.get(G);H&&(k(F,"vt-share"),k(H,"vt-share"),m.set(G,null))}}c=c.nextSibling}for(var I=g[h+1],t=I.firstElementChild;t;)null!==m.get(t.getAttribute("vt-name"))&&k(t,"vt-enter"),t=t.nextElementSibling;c=x;do for(var n=c.firstElementChild;n;){var J=n.getAttribute("vt-update");J&&"none"!==J&&!l.includes(n)&&k(n,"vt-update");n=n.nextElementSibling}while((c=c.parentNode)&&1===c.nodeType&&"none"!==c.getAttribute("vt-update"));u.push.apply(u,I.querySelectorAll(\'img[src]:not([loading="lazy"])\'))}}}if(B){var z=\ndocument.__reactViewTransition=document.startViewTransition({update:function(){A(g);for(var a=[document.documentElement.clientHeight,document.fonts.ready],b={},e=0;e<u.length;b={g:b.g},e++)if(b.g=u[e],!b.g.complete){var p=b.g.getBoundingClientRect();0<p.bottom&&0<p.right&&p.top<window.innerHeight&&p.left<window.innerWidth&&(p=new Promise(function(w){return function(q){w.g.addEventListener("load",q);w.g.addEventListener("error",q)}}(b)),a.push(p))}return Promise.race([Promise.all(a),new Promise(function(w){var q=\nperformance.now();setTimeout(w,2300>q&&2E3<q?2300-q:500)})])},types:[]});z.ready.finally(function(){for(var a=l.length-3;0<=a;a-=3){var b=l[a],e=b.style;e.viewTransitionName=l[a+1];e.viewTransitionClass=l[a+1];""===b.getAttribute("style")&&b.removeAttribute("style")}});z.finished.finally(function(){document.__reactViewTransition===z&&(document.__reactViewTransition=null)});$RB=[];return}}catch(a){}A(g)}.bind(null,$RV);');var mn=F('$RC("'),pn=F('$RM=new Map;$RR=function(n,w,p){function u(q){this._p=null;q()}for(var r=new Map,t=document,h,b,e=t.querySelectorAll("link[data-precedence],style[data-precedence]"),v=[],k=0;b=e[k++];)"not all"===b.getAttribute("media")?v.push(b):("LINK"===b.tagName&&$RM.set(b.getAttribute("href"),b),r.set(b.dataset.precedence,h=b));e=0;b=[];var l,a;for(k=!0;;){if(k){var f=p[e++];if(!f){k=!1;e=0;continue}var c=!1,m=0;var d=f[m++];if(a=$RM.get(d)){var g=a._p;c=!0}else{a=t.createElement("link");a.href=d;a.rel=\n"stylesheet";for(a.dataset.precedence=l=f[m++];g=f[m++];)a.setAttribute(g,f[m++]);g=a._p=new Promise(function(q,x){a.onload=u.bind(a,q);a.onerror=u.bind(a,x)});$RM.set(d,a)}d=a.getAttribute("media");!g||d&&!matchMedia(d).matches||b.push(g);if(c)continue}else{a=v[e++];if(!a)break;l=a.getAttribute("data-precedence");a.removeAttribute("media")}c=r.get(l)||h;c===h&&(h=a);r.set(l,a);c?c.parentNode.insertBefore(a,c.nextSibling):(c=t.head,c.insertBefore(a,c.firstChild))}if(p=document.getElementById(n))p.previousSibling.data=\n"$~";Promise.all(b).then($RC.bind(null,n,w),$RX.bind(null,n,"CSS failed to load"))};$RR("'),fn=F('$RR("'),xn=F('","'),gn=F('",'),bn=F('"'),vn=F(")<\/script>");F('<template data-rci="" data-bid="'),F('<template data-rri="" data-bid="'),F('" data-sid="'),F('" data-sty="');var yn=F('$RX=function(b,c,d,e,f){var a=document.getElementById(b);a&&(b=a.previousSibling,b.data="$!",a=a.dataset,c&&(a.dgst=c),d&&(a.msg=d),e&&(a.stck=e),f&&(a.cstck=f),b._reactRetry&&b._reactRetry())};'),wn=F('$RX=function(b,c,d,e,f){var a=document.getElementById(b);a&&(b=a.previousSibling,b.data="$!",a=a.dataset,c&&(a.dgst=c),d&&(a.msg=d),e&&(a.stck=e),f&&(a.cstck=f),b._reactRetry&&b._reactRetry())};;$RX("'),jn=F('$RX("'),Nn=F('"'),kn=F(","),Sn=F(")<\/script>");F('<template data-rxi="" data-bid="'),F('" data-dgst="'),F('" data-msg="'),F('" data-stck="'),F('" data-cstck="');var Cn=/[<\u2028\u2029]/g;function _n(e){return JSON.stringify(e).replace(Cn,function(e){switch(e){case"<":return"\\u003c";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:throw Error("escapeJSStringsForInstructionScripts encountered a match it does not know how to replace. this means the match regex and the replacement characters are no longer in sync. This is a bug in React")}})}var Pn=/[&><\u2028\u2029]/g;function Dn(e){return JSON.stringify(e).replace(Pn,function(e){switch(e){case"&":return"\\u0026";case">":return"\\u003e";case"<":return"\\u003c";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:throw Error("escapeJSObjectForInstructionScripts encountered a match it does not know how to replace. this means the match regex and the replacement characters are no longer in sync. This is a bug in React")}})}var Tn=F(' media="not all" data-precedence="'),En=F('" data-href="'),zn=F('">'),Mn=F("</style>"),Rn=!1,An=!0;function On(e){var t=e.rules,n=e.hrefs,s=0;if(n.length){for(z(this,re.startInlineStyle),z(this,Tn),z(this,e.precedence),z(this,En);s<n.length-1;s++)z(this,n[s]),z(this,Un);for(z(this,n[s]),z(this,zn),s=0;s<t.length;s++)z(this,t[s]);An=M(this,Mn),Rn=!0,t.length=0,n.length=0}}function Fn(e){return 2!==e.state&&(Rn=!0)}function In(e,t,n){return Rn=!1,An=!0,re=n,t.styles.forEach(On,e),re=null,t.stylesheets.forEach(Fn),Rn&&(n.stylesToHoist=!0),An}function Ln(e){for(var t=0;t<e.length;t++)z(this,e[t]);e.length=0}var Bn=[];function $n(e){nt(Bn,e.props);for(var t=0;t<Bn.length;t++)z(this,Bn[t]);Bn.length=0,e.state=2}var Wn=F(' data-precedence="'),Hn=F('" data-href="'),Un=F(" "),Vn=F('">'),qn=F("</style>");function Yn(e){var t=0<e.sheets.size;e.sheets.forEach($n,this),e.sheets.clear();var n=e.rules,s=e.hrefs;if(!t||s.length){if(z(this,re.startInlineStyle),z(this,Wn),z(this,e.precedence),e=0,s.length){for(z(this,Hn);e<s.length-1;e++)z(this,s[e]),z(this,Un);z(this,s[e])}for(z(this,Vn),e=0;e<n.length;e++)z(this,n[e]);z(this,qn),n.length=0,s.length=0}}function Gn(e){if(0===e.state){e.state=1;var t=e.props;for(nt(Bn,{rel:"preload",as:"style",href:e.props.href,crossOrigin:t.crossOrigin,fetchPriority:t.fetchPriority,integrity:t.integrity,media:t.media,hrefLang:t.hrefLang,referrerPolicy:t.referrerPolicy}),e=0;e<Bn.length;e++)z(this,Bn[e]);Bn.length=0}}function Xn(e){e.sheets.forEach(Gn,this),e.sheets.clear()}F('<link rel="expect" href="#'),F('" blocking="render"/>');var Qn=F(' id="');function Kn(e,t){!(32&t.instructions)&&(t.instructions|=32,e.push(Qn,O(X("_"+t.idPrefix+"R_")),Fe))}var Jn=F("["),Zn=F(",["),es=F(","),ts=F("]");function ns(e,t,n){var s=t.toLowerCase();switch(typeof n){case"function":case"symbol":return}switch(t){case"innerHTML":case"dangerouslySetInnerHTML":case"suppressContentEditableWarning":case"suppressHydrationWarning":case"style":case"ref":return;case"className":s="class",t=""+n;break;case"hidden":if(!1===n)return;t="";break;case"src":case"href":t=""+(n=Z(n));break;default:if(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])||!V(t))return;t=""+n}z(e,es),z(e,O(Dn(s))),z(e,es),z(e,O(Dn(t)))}function ss(){return{styles:new Set,stylesheets:new Set,suspenseyImages:!1}}function as(e,t){null==e.crossOrigin&&(e.crossOrigin=t[0]),null==e.integrity&&(e.integrity=t[1])}function rs(e,t,n){for(var s in t="<"+(e=(""+e).replace(is,ls))+'>; rel=preload; as="'+(t=(""+t).replace(os,cs))+'"',n)$.call(n,s)&&("string"==typeof(e=n[s])&&(t+="; "+s.toLowerCase()+'="'+(""+e).replace(os,cs)+'"'));return t}var is=/[<>\r\n]/g;function ls(e){switch(e){case"<":return"%3C";case">":return"%3E";case"\n":return"%0A";case"\r":return"%0D";default:throw Error("escapeLinkHrefForHeaderContextReplacer encountered a match it does not know how to replace. this means the match regex and the replacement characters are no longer in sync. This is a bug in React")}}var os=/["';,\r\n]/g;function cs(e){switch(e){case'"':return"%22";case"'":return"%27";case";":return"%3B";case",":return"%2C";case"\n":return"%0A";case"\r":return"%0D";default:throw Error("escapeStringForLinkHeaderQuotedParamValueContextReplacer encountered a match it does not know how to replace. this means the match regex and the replacement characters are no longer in sync. This is a bug in React")}}function ds(e){this.styles.add(e)}function us(e){this.stylesheets.add(e)}function hs(e,t){t.styles.forEach(ds,e),t.stylesheets.forEach(us,e),t.suspenseyImages&&(e.suspenseyImages=!0)}function ms(e){return 0<e.stylesheets.size||e.suspenseyImages}var ps=Function.prototype.bind,fs=Symbol.for("react.client.reference");function xs(e){if(null==e)return null;if("function"==typeof e)return e.$$typeof===fs?null:e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case r:return"Fragment";case l:return"Profiler";case i:return"StrictMode";case u:return"Suspense";case h:return"SuspenseList";case x:return"Activity"}if("object"==typeof e)switch(e.$$typeof){case a:return"Portal";case c:return e.displayName||"Context";case o:return(e._context.displayName||"Context")+".Consumer";case d:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case m:return null!==(t=e.displayName||null)?t:xs(e.type)||"Memo";case p:t=e._payload,e=e._init;try{return xs(e(t))}catch(n){}}return null}var gs={},bs=null;function vs(e,t){if(e!==t){e.context._currentValue=e.parentValue,e=e.parent;var s=t.parent;if(null===e){if(null!==s)throw Error(n(401))}else{if(null===s)throw Error(n(401));vs(e,s)}t.context._currentValue=t.value}}function ys(e){e.context._currentValue=e.parentValue,null!==(e=e.parent)&&ys(e)}function ws(e){var t=e.parent;null!==t&&ws(t),e.context._currentValue=e.value}function js(e,t){if(e.context._currentValue=e.parentValue,null===(e=e.parent))throw Error(n(402));e.depth===t.depth?vs(e,t):js(e,t)}function Ns(e,t){var s=t.parent;if(null===s)throw Error(n(402));e.depth===s.depth?vs(e,s):Ns(e,s),t.context._currentValue=t.value}function ks(e){var t=bs;t!==e&&(null===t?ws(e):null===e?ys(t):t.depth===e.depth?vs(t,e):t.depth>e.depth?js(t,e):Ns(t,e),bs=e)}var Ss={enqueueSetState:function(e,t){null!==(e=e._reactInternals).queue&&e.queue.push(t)},enqueueReplaceState:function(e,t){(e=e._reactInternals).replace=!0,e.queue=[t]},enqueueForceUpdate:function(){}},Cs={id:1,overflow:""};function _s(e,t,n){var s=e.id;e=e.overflow;var a=32-Ps(s)-1;s&=~(1<<a),n+=1;var r=32-Ps(t)+a;if(30<r){var i=a-a%5;return r=(s&(1<<i)-1).toString(32),s>>=i,a-=i,{id:1<<32-Ps(t)+a|n<<a|s,overflow:r+e}}return{id:1<<r|n<<a|s,overflow:e}}var Ps=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(Ds(e)/Ts|0)|0},Ds=Math.log,Ts=Math.LN2;function Es(){}var zs=Error(n(460));var Ms=null;function Rs(){if(null===Ms)throw Error(n(459));var e=Ms;return Ms=null,e}var As="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},Os=null,Fs=null,Is=null,Ls=null,Bs=null,$s=null,Ws=!1,Hs=!1,Us=0,Vs=0,qs=-1,Ys=0,Gs=null,Xs=null,Qs=0;function Ks(){if(null===Os)throw Error(n(321));return Os}function Js(){if(0<Qs)throw Error(n(312));return{memoizedState:null,queue:null,next:null}}function Zs(){return null===$s?null===Bs?(Ws=!1,Bs=$s=Js()):(Ws=!0,$s=Bs):null===$s.next?(Ws=!1,$s=$s.next=Js()):(Ws=!0,$s=$s.next),$s}function ea(){var e=Gs;return Gs=null,e}function ta(){Ls=Is=Fs=Os=null,Hs=!1,Bs=null,Qs=0,$s=Xs=null}function na(e,t){return"function"==typeof t?t(e):t}function sa(e,t,n){if(Os=Ks(),$s=Zs(),Ws){var s=$s.queue;if(t=s.dispatch,null!==Xs&&void 0!==(n=Xs.get(s))){Xs.delete(s),s=$s.memoizedState;do{s=e(s,n.action),n=n.next}while(null!==n);return $s.memoizedState=s,[s,t]}return[$s.memoizedState,t]}return e=e===na?"function"==typeof t?t():t:void 0!==n?n(t):t,$s.memoizedState=e,e=(e=$s.queue={last:null,dispatch:null}).dispatch=ra.bind(null,Os,e),[$s.memoizedState,e]}function aa(e,t){if(Os=Ks(),t=void 0===t?null:t,null!==($s=Zs())){var n=$s.memoizedState;if(null!==n&&null!==t){var s=n[1];e:if(null===s)s=!1;else{for(var a=0;a<s.length&&a<t.length;a++)if(!As(t[a],s[a])){s=!1;break e}s=!0}if(s)return n[0]}}return e=e(),$s.memoizedState=[e,t],e}function ra(e,t,s){if(25<=Qs)throw Error(n(301));if(e===Os)if(Hs=!0,e={action:s,next:null},null===Xs&&(Xs=new Map),void 0===(s=Xs.get(t)))Xs.set(t,e);else{for(t=s;null!==t.next;)t=t.next;t.next=e}}function ia(){throw Error(n(440))}function la(){throw Error(n(394))}function oa(){throw Error(n(479))}function ca(e,t,n){Ks();var s=Vs++,a=Is;if("function"==typeof e.$$FORM_ACTION){var r=null,i=Ls;a=a.formState;var l=e.$$IS_SIGNATURE_EQUAL;if(null!==a&&"function"==typeof l){var o=a[1];l.call(e,a[2],a[3])&&(o===(r=void 0!==n?"p"+n:"k"+N(JSON.stringify([i,null,s]),0))&&(qs=s,t=a[0]))}var c=e.bind(null,t);return e=function(e){c(e)},"function"==typeof c.$$FORM_ACTION&&(e.$$FORM_ACTION=function(e){e=c.$$FORM_ACTION(e),void 0!==n&&(n+="",e.action=n);var t=e.data;return t&&(null===r&&(r=void 0!==n?"p"+n:"k"+N(JSON.stringify([i,null,s]),0)),t.append("$ACTION_KEY",r)),e}),[t,e,!1]}var d=e.bind(null,t);return[t,function(e){d(e)},!1]}function da(e){var t=Ys;return Ys+=1,null===Gs&&(Gs=[]),function(e,t,n){switch(void 0===(n=e[n])?e.push(t):n!==t&&(t.then(Es,Es),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw t.reason;default:switch("string"==typeof t.status?t.then(Es,Es):((e=t).status="pending",e.then(function(e){if("pending"===t.status){var n=t;n.status="fulfilled",n.value=e}},function(e){if("pending"===t.status){var n=t;n.status="rejected",n.reason=e}})),t.status){case"fulfilled":return t.value;case"rejected":throw t.reason}throw Ms=t,zs}}(Gs,e,t)}function ua(){throw Error(n(393))}var ha,ma,pa={readContext:function(e){return e._currentValue},use:function(e){if(null!==e&&"object"==typeof e){if("function"==typeof e.then)return da(e);if(e.$$typeof===c)return e._currentValue}throw Error(n(438,String(e)))},useContext:function(e){return Ks(),e._currentValue},useMemo:aa,useReducer:sa,useRef:function(e){Os=Ks();var t=($s=Zs()).memoizedState;return null===t?(e={current:e},$s.memoizedState=e):t},useState:function(e){return sa(na,e)},useInsertionEffect:Es,useLayoutEffect:Es,useCallback:function(e,t){return aa(function(){return e},t)},useImperativeHandle:Es,useEffect:Es,useDebugValue:Es,useDeferredValue:function(e,t){return Ks(),void 0!==t?t:e},useTransition:function(){return Ks(),[!1,la]},useId:function(){var e=Fs.treeContext,t=e.overflow;e=((e=e.id)&~(1<<32-Ps(e)-1)).toString(32)+t;var s=fa;if(null===s)throw Error(n(404));return t=Us++,e="_"+s.idPrefix+"R_"+e,0<t&&(e+="H"+t.toString(32)),e+"_"},useSyncExternalStore:function(e,t,s){if(void 0===s)throw Error(n(407));return s()},useOptimistic:function(e){return Ks(),[e,oa]},useActionState:ca,useFormState:ca,useHostTransitionStatus:function(){return Ks(),ne},useMemoCache:function(e){for(var t=Array(e),n=0;n<e;n++)t[n]=b;return t},useCacheRefresh:function(){return ua},useEffectEvent:function(){return ia}},fa=null,xa={getCacheForType:function(){throw Error(n(248))},cacheSignal:function(){throw Error(n(248))}};function ga(e){if(void 0===ha)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);ha=t&&t[1]||"",ma=-1<n.stack.indexOf("\n    at")?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return"\n"+ha+e+ma}var ba=!1;function va(e,t){if(!e||ba)return"";ba=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var s={DetermineComponentFrameRoot:function(){try{if(t){var n=function(){throw Error()};if(Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(n,[])}catch(a){var s=a}Reflect.construct(e,[],n)}else{try{n.call()}catch(r){s=r}e.call(n.prototype)}}else{try{throw Error()}catch(i){s=i}(n=e())&&"function"==typeof n.catch&&n.catch(function(){})}}catch(l){if(l&&s&&"string"==typeof l.stack)return[l.stack,s.stack]}return[null,null]}};s.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var a=Object.getOwnPropertyDescriptor(s.DetermineComponentFrameRoot,"name");a&&a.configurable&&Object.defineProperty(s.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var r=s.DetermineComponentFrameRoot(),i=r[0],l=r[1];if(i&&l){var o=i.split("\n"),c=l.split("\n");for(a=s=0;s<o.length&&!o[s].includes("DetermineComponentFrameRoot");)s++;for(;a<c.length&&!c[a].includes("DetermineComponentFrameRoot");)a++;if(s===o.length||a===c.length)for(s=o.length-1,a=c.length-1;1<=s&&0<=a&&o[s]!==c[a];)a--;for(;1<=s&&0<=a;s--,a--)if(o[s]!==c[a]){if(1!==s||1!==a)do{if(s--,0>--a||o[s]!==c[a]){var d="\n"+o[s].replace(" at new "," at ");return e.displayName&&d.includes("<anonymous>")&&(d=d.replace("<anonymous>",e.displayName)),d}}while(1<=s&&0<=a);break}}}finally{ba=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?ga(n):""}function ya(e){if("string"==typeof e)return ga(e);if("function"==typeof e)return e.prototype&&e.prototype.isReactComponent?va(e,!0):va(e,!1);if("object"==typeof e&&null!==e){switch(e.$$typeof){case d:return va(e.render,!1);case m:return va(e.type,!1);case p:var t=e,n=t._payload;t=t._init;try{e=t(n)}catch(a){return ga("Lazy")}return ya(e)}if("string"==typeof e.name){n=e.name,t=e.env;var s=e.debugLocation;return n=null==s||(e=Error.prepareStackTrace,Error.prepareStackTrace=void 0,s=s.stack,Error.prepareStackTrace=e,s.startsWith("Error: react-stack-top-frame\n")&&(s=s.slice(29)),-1!==(e=s.indexOf("\n"))&&(s=s.slice(e+1)),-1!==(e=s.indexOf("react_stack_bottom_frame"))&&(e=s.lastIndexOf("\n",e)),e=-1!==e?s=s.slice(0,e):"",s=e.lastIndexOf("\n"),-1===(e=-1===s?e:e.slice(s+1)).indexOf(n))?ga(n+(t?" ["+t+"]":"")):"\n"+e}}switch(e){case h:return ga("SuspenseList");case u:return ga("Suspense")}return""}function wa(e,t){return(500<t.byteSize||ms(t.contentState))&&null===t.contentPreamble}function ja(e){if("object"==typeof e&&null!==e&&"string"==typeof e.environmentName){var t=e.environmentName;"string"==typeof(e=[e].slice(0))[0]?e.splice(0,1,"%c%s%c "+e[0],"background: #e6e6e6;background: light-dark(rgba(0,0,0,0.1), rgba(255,255,255,0.25));color: #000000;color: light-dark(#000000, #ffffff);border-radius: 2px"," "+t+" ",""):e.splice(0,0,"%c%s%c","background: #e6e6e6;background: light-dark(rgba(0,0,0,0.1), rgba(255,255,255,0.25));color: #000000;color: light-dark(#000000, #ffffff);border-radius: 2px"," "+t+" ",""),e.unshift(console),(t=ps.apply(console.error,e))()}return null}function Na(e,t,n,s,a,r,i,l,o,c,d){var u=new Set;this.destination=null,this.flushScheduled=!1,this.resumableState=e,this.renderState=t,this.rootFormatContext=n,this.progressiveChunkSize=void 0===s?12800:s,this.status=10,this.fatalError=null,this.pendingRootTasks=this.allPendingTasks=this.nextSegmentId=0,this.completedPreambleSegments=this.completedRootSegment=null,this.byteSize=0,this.abortableTasks=u,this.pingedTasks=[],this.clientRenderedBoundaries=[],this.completedBoundaries=[],this.partialBoundaries=[],this.trackedPostpones=null,this.onError=void 0===a?ja:a,this.onPostpone=void 0===c?Es:c,this.onAllReady=void 0===r?Es:r,this.onShellReady=void 0===i?Es:i,this.onShellError=void 0===l?Es:l,this.onFatalError=void 0===o?Es:o,this.formState=void 0===d?null:d}function ka(e,t,n,s,a,r,i,l,o,c,d,u){return(n=Ea(t=new Na(t,n,s,a,r,i,l,o,c,d,u),0,null,s,!1,!1)).parentFlushed=!0,za(e=Da(t,null,e,-1,null,n,null,null,t.abortableTasks,null,s,null,Cs,null,null)),t.pingedTasks.push(e),t}function Sa(e,t,n,s,a,r,i,l,o){return(n=new Na(t.resumableState,n,t.rootFormatContext,t.progressiveChunkSize,s,a,r,i,l,o,null)).nextSegmentId=t.nextSegmentId,"number"==typeof t.replaySlots?((s=Ea(n,0,null,t.rootFormatContext,!1,!1)).parentFlushed=!0,za(e=Da(n,null,e,-1,null,s,null,null,n.abortableTasks,null,t.rootFormatContext,null,Cs,null,null)),n.pingedTasks.push(e),n):(za(e=Ta(n,null,{nodes:t.replayNodes,slots:t.replaySlots,pendingTasks:0},e,-1,null,null,n.abortableTasks,null,t.rootFormatContext,null,Cs,null,null)),n.pingedTasks.push(e),n)}var Ca=null;function _a(e,t){e.pingedTasks.push(t),1===e.pingedTasks.length&&(e.flushScheduled=null!==e.destination,null!==e.trackedPostpones||10===e.status?D(function(){return dr(e)}):C(function(){return dr(e)}))}function Pa(e,t,n,s,a){return n={status:0,rootSegmentID:-1,parentFlushed:!1,pendingTasks:0,row:t,completedSegments:[],byteSize:0,fallbackAbortableTasks:n,errorDigest:null,contentState:ss(),fallbackState:ss(),contentPreamble:s,fallbackPreamble:a,trackedContentKeyPath:null,trackedFallbackNode:null},null!==t&&(t.pendingTasks++,null!==(s=t.boundaries)&&(e.allPendingTasks++,n.pendingTasks++,s.push(n)),null!==(e=t.inheritedHoistables)&&hs(n.contentState,e)),n}function Da(e,t,n,s,a,r,i,l,o,c,d,u,h,m,p){e.allPendingTasks++,null===a?e.pendingRootTasks++:a.pendingTasks++,null!==m&&m.pendingTasks++;var f={replay:null,node:n,childIndex:s,ping:function(){return _a(e,f)},blockedBoundary:a,blockedSegment:r,blockedPreamble:i,hoistableState:l,abortSet:o,keyPath:c,formatContext:d,context:u,treeContext:h,row:m,componentStack:p,thenableState:t};return o.add(f),f}function Ta(e,t,n,s,a,r,i,l,o,c,d,u,h,m){e.allPendingTasks++,null===r?e.pendingRootTasks++:r.pendingTasks++,null!==h&&h.pendingTasks++,n.pendingTasks++;var p={replay:n,node:s,childIndex:a,ping:function(){return _a(e,p)},blockedBoundary:r,blockedSegment:null,blockedPreamble:null,hoistableState:i,abortSet:l,keyPath:o,formatContext:c,context:d,treeContext:u,row:h,componentStack:m,thenableState:t};return l.add(p),p}function Ea(e,t,n,s,a,r){return{status:0,parentFlushed:!1,id:-1,index:t,chunks:[],children:[],preambleChildren:[],parentFormatContext:s,boundary:n,lastPushedText:a,textEmbedded:r}}function za(e){var t=e.node;if("object"==typeof t&&null!==t&&t.$$typeof===s)e.componentStack={parent:e.componentStack,type:t.type}}function Ma(e){return null===e?null:{parent:e.parent,type:"Suspense Fallback"}}function Ra(e){var t={};return e&&Object.defineProperty(t,"componentStack",{configurable:!0,enumerable:!0,get:function(){try{var n="",s=e;do{n+=ya(s.type),s=s.parent}while(s);var a=n}catch(r){a="\nError generating stack: "+r.message+"\n"+r.stack}return Object.defineProperty(t,"componentStack",{value:a}),a}}),t}function Aa(e,t,n){if(null==(t=(e=e.onError)(t,n))||"string"==typeof t)return t}function Oa(e,t){var n=e.onShellError,s=e.onFatalError;n(t),s(t),null!==e.destination?(e.status=14,L(e.destination,t)):(e.status=13,e.fatalError=t)}function Fa(e,t){Ia(e,t.next,t.hoistables)}function Ia(e,t,n){for(;null!==t;){null!==n&&(hs(t.hoistables,n),t.inheritedHoistables=n);var s=t.boundaries;if(null!==s){t.boundaries=null;for(var a=0;a<s.length;a++){var r=s[a];null!==n&&hs(r.contentState,n),cr(e,r,null,null)}}if(t.pendingTasks--,0<t.pendingTasks)break;n=t.hoistables,t=t.next}}function La(e,t){var n=t.boundaries;if(null!==n&&t.pendingTasks===n.length){for(var s=!0,a=0;a<n.length;a++){var r=n[a];if(1!==r.pendingTasks||r.parentFlushed||wa(0,r)){s=!1;break}}s&&Ia(e,t,t.hoistables)}}function Ba(e){var t={pendingTasks:1,boundaries:null,hoistables:ss(),inheritedHoistables:null,together:!1,next:null};return null!==e&&0<e.pendingTasks&&(t.pendingTasks++,t.boundaries=[],e.next=t),t}function $a(e,t,n,s,a){var r=t.keyPath,i=t.treeContext,l=t.row;t.keyPath=n,n=s.length;var o=null;if(null!==t.replay){var c=t.replay.slots;if(null!==c&&"object"==typeof c)for(var d=0;d<n;d++){var u="backwards"!==a&&"unstable_legacy-backwards"!==a?d:n-1-d,h=s[u];t.row=o=Ba(o),t.treeContext=_s(i,n,u);var m=c[u];"number"==typeof m?(Va(e,t,m,h,u),delete c[u]):er(e,t,h,u),0===--o.pendingTasks&&Fa(e,o)}else for(c=0;c<n;c++)u=s[d="backwards"!==a&&"unstable_legacy-backwards"!==a?c:n-1-c],t.row=o=Ba(o),t.treeContext=_s(i,n,d),er(e,t,u,d),0===--o.pendingTasks&&Fa(e,o)}else if("backwards"!==a&&"unstable_legacy-backwards"!==a)for(a=0;a<n;a++)c=s[a],t.row=o=Ba(o),t.treeContext=_s(i,n,a),er(e,t,c,a),0===--o.pendingTasks&&Fa(e,o);else{for(c=(a=t.blockedSegment).children.length,d=a.chunks.length,u=n-1;0<=u;u--){h=s[u],t.row=o=Ba(o),t.treeContext=_s(i,n,u),m=Ea(0,d,null,t.formatContext,0!==u||a.lastPushedText,!0),a.children.splice(c,0,m),t.blockedSegment=m;try{er(e,t,h,u),m.lastPushedText&&m.textEmbedded&&m.chunks.push(Pe),m.status=1,or(e,t.blockedBoundary,m),0===--o.pendingTasks&&Fa(e,o)}catch(p){throw m.status=12===e.status?3:4,p}}t.blockedSegment=a,a.lastPushedText=!1}null!==l&&null!==o&&0<o.pendingTasks&&(l.pendingTasks++,o.next=l),t.treeContext=i,t.row=l,t.keyPath=r}function Wa(e,t,n,s,a,r){var i=t.thenableState;for(t.thenableState=null,Os={},Fs=t,Is=e,Ls=n,Vs=Us=0,qs=-1,Ys=0,Gs=i,e=s(a,r);Hs;)Hs=!1,Vs=Us=0,qs=-1,Ys=0,Qs+=1,$s=null,e=s(a,r);return ta(),e}function Ha(e,t,n,s,a,r,i){var l=!1;if(0!==r&&null!==e.formState){var o=t.blockedSegment;if(null!==o){l=!0,o=o.chunks;for(var c=0;c<r;c++)c===i?o.push(et):o.push(tt)}}r=t.keyPath,t.keyPath=n,a?(n=t.treeContext,t.treeContext=_s(n,1,0),er(e,t,s,-1),t.treeContext=n):l?er(e,t,s,-1):qa(e,t,s,-1),t.keyPath=r}function Ua(e,t,s,a,b,y){if("function"==typeof a)if(a.prototype&&a.prototype.isReactComponent){var N=b;if("ref"in b)for(var k in N={},b)"ref"!==k&&(N[k]=b[k]);var S=a.defaultProps;if(S)for(var C in N===b&&(N=B({},N,b)),S)void 0===N[C]&&(N[C]=S[C]);b=N,N=gs,"object"==typeof(S=a.contextType)&&null!==S&&(N=S._currentValue);var _=void 0!==(N=new a(b,N)).state?N.state:null;if(N.updater=Ss,N.props=b,N.state=_,S={queue:[],replace:!1},N._reactInternals=S,y=a.contextType,N.context="object"==typeof y&&null!==y?y._currentValue:gs,"function"==typeof(y=a.getDerivedStateFromProps)&&(_=null==(y=y(b,_))?_:B({},_,y),N.state=_),"function"!=typeof a.getDerivedStateFromProps&&"function"!=typeof N.getSnapshotBeforeUpdate&&("function"==typeof N.UNSAFE_componentWillMount||"function"==typeof N.componentWillMount))if(a=N.state,"function"==typeof N.componentWillMount&&N.componentWillMount(),"function"==typeof N.UNSAFE_componentWillMount&&N.UNSAFE_componentWillMount(),a!==N.state&&Ss.enqueueReplaceState(N,N.state,null),null!==S.queue&&0<S.queue.length)if(a=S.queue,y=S.replace,S.queue=null,S.replace=!1,y&&1===a.length)N.state=a[0];else{for(S=y?a[0]:N.state,_=!0,y=y?1:0;y<a.length;y++)null!=(C="function"==typeof(C=a[y])?C.call(N,S,b,void 0):C)&&(_?(_=!1,S=B({},S,C)):B(S,C));N.state=S}else S.queue=null;if(a=N.render(),12===e.status)throw null;b=t.keyPath,t.keyPath=s,qa(e,t,a,-1),t.keyPath=b}else{if(a=Wa(e,t,s,a,b,void 0),12===e.status)throw null;Ha(e,t,s,a,0!==Us,Vs,qs)}else{if("string"!=typeof a){switch(a){case g:case i:case l:case r:return a=t.keyPath,t.keyPath=s,qa(e,t,b.children,-1),void(t.keyPath=a);case x:return void(null===(a=t.blockedSegment)?"hidden"!==b.mode&&(a=t.keyPath,t.keyPath=s,er(e,t,b.children,-1),t.keyPath=a):"hidden"!==b.mode&&(a.chunks.push(Pt),a.lastPushedText=!1,N=t.keyPath,t.keyPath=s,er(e,t,b.children,-1),t.keyPath=N,a.chunks.push(Dt),a.lastPushedText=!1));case h:e:{if(a=b.children,"forwards"===(b=b.revealOrder)||"backwards"===b||"unstable_legacy-backwards"===b){if(j(a)){$a(e,t,s,a,b);break e}if((N=w(a))&&(N=N.call(a))){if(!(S=N.next()).done){do{S=N.next()}while(!S.done);$a(e,t,s,a,b)}break e}}"together"===b?(b=t.keyPath,N=t.row,(S=t.row=Ba(null)).boundaries=[],S.together=!0,t.keyPath=s,qa(e,t,a,-1),0===--S.pendingTasks&&Fa(e,S),t.keyPath=b,t.row=N,null!==N&&0<S.pendingTasks&&(N.pendingTasks++,S.next=N)):(b=t.keyPath,t.keyPath=s,qa(e,t,a,-1),t.keyPath=b)}return;case v:case f:throw Error(n(343));case u:e:if(null!==t.replay){a=t.keyPath,N=t.formatContext,S=t.row,t.keyPath=s,t.formatContext=_e(e.resumableState,N),t.row=null,s=b.children;try{er(e,t,s,-1)}finally{t.keyPath=a,t.formatContext=N,t.row=S}}else{a=t.keyPath,y=t.formatContext;var P=t.row;C=t.blockedBoundary,k=t.blockedPreamble;var D=t.hoistableState,T=t.blockedSegment,E=b.fallback;b=b.children;var z=new Set,M=2>t.formatContext.insertionMode?Pa(e,t.row,z,{htmlChunks:null,headChunks:null,bodyChunks:null},{htmlChunks:null,headChunks:null,bodyChunks:null}):Pa(e,t.row,z,null,null);null!==e.trackedPostpones&&(M.trackedContentKeyPath=s);var R=Ea(0,T.chunks.length,M,t.formatContext,!1,!1);T.children.push(R),T.lastPushedText=!1;var A=Ea(0,0,null,t.formatContext,!1,!1);if(A.parentFlushed=!0,null!==e.trackedPostpones){N=t.componentStack,_=[(S=[s[0],"Suspense Fallback",s[2]])[1],S[2],[],null],e.trackedPostpones.workingMap.set(S,_),M.trackedFallbackNode=_,t.blockedSegment=R,t.blockedPreamble=M.fallbackPreamble,t.keyPath=S,t.formatContext=Ce(e.resumableState,y),t.componentStack=Ma(N),R.status=6;try{er(e,t,E,-1),R.lastPushedText&&R.textEmbedded&&R.chunks.push(Pe),R.status=1,or(e,C,R)}catch(O){throw R.status=12===e.status?3:4,O}finally{t.blockedSegment=T,t.blockedPreamble=k,t.keyPath=a,t.formatContext=y}za(t=Da(e,null,b,-1,M,A,M.contentPreamble,M.contentState,t.abortSet,s,_e(e.resumableState,t.formatContext),t.context,t.treeContext,null,N)),e.pingedTasks.push(t)}else{t.blockedBoundary=M,t.blockedPreamble=M.contentPreamble,t.hoistableState=M.contentState,t.blockedSegment=A,t.keyPath=s,t.formatContext=_e(e.resumableState,y),t.row=null,A.status=6;try{if(er(e,t,b,-1),A.lastPushedText&&A.textEmbedded&&A.chunks.push(Pe),A.status=1,or(e,M,A),lr(M,A),0===M.pendingTasks&&0===M.status){if(M.status=1,!wa(0,M)){null!==P&&0===--P.pendingTasks&&Fa(e,P),0===e.pendingRootTasks&&t.blockedPreamble&&mr(e);break e}}else null!==P&&P.together&&La(e,P)}catch(F){M.status=4,12===e.status?(A.status=3,N=e.fatalError):(A.status=4,N=F),_=Aa(e,N,S=Ra(t.componentStack)),M.errorDigest=_,Ka(e,M)}finally{t.blockedBoundary=C,t.blockedPreamble=k,t.hoistableState=D,t.blockedSegment=T,t.keyPath=a,t.formatContext=y,t.row=P}za(t=Da(e,null,E,-1,C,R,M.fallbackPreamble,M.fallbackState,z,[s[0],"Suspense Fallback",s[2]],Ce(e.resumableState,t.formatContext),t.context,t.treeContext,t.row,Ma(t.componentStack))),e.pingedTasks.push(t)}}return}if("object"==typeof a&&null!==a)switch(a.$$typeof){case d:if("ref"in b)for(T in N={},b)"ref"!==T&&(N[T]=b[T]);else N=b;return void Ha(e,t,s,a=Wa(e,t,s,a.render,N,y),0!==Us,Vs,qs);case m:return void Ua(e,t,s,a.type,b,y);case c:if(S=b.children,N=t.keyPath,b=b.value,_=a._currentValue,a._currentValue=b,bs=a={parent:y=bs,depth:null===y?0:y.depth+1,context:a,parentValue:_,value:b},t.context=a,t.keyPath=s,qa(e,t,S,-1),null===(e=bs))throw Error(n(403));return e.context._currentValue=e.parentValue,e=bs=e.parent,t.context=e,void(t.keyPath=N);case o:return a=(b=b.children)(a._context._currentValue),b=t.keyPath,t.keyPath=s,qa(e,t,a,-1),void(t.keyPath=b);case p:if(a=(N=a._init)(a._payload),12===e.status)throw null;return void Ua(e,t,s,a,b,y)}throw Error(n(130,null==a?a:typeof a,""))}if(null===(N=t.blockedSegment))N=b.children,S=t.formatContext,_=t.keyPath,t.formatContext=ke(S,a,b),t.keyPath=s,er(e,t,N,-1),t.formatContext=S,t.keyPath=_;else{if(_=yt(N.chunks,a,b,e.resumableState,e.renderState,t.blockedPreamble,t.hoistableState,t.formatContext,N.lastPushedText),N.lastPushedText=!1,S=t.formatContext,y=t.keyPath,t.keyPath=s,3===(t.formatContext=ke(S,a,b)).insertionMode){s=Ea(0,0,null,t.formatContext,!1,!1),N.preambleChildren.push(s),t.blockedSegment=s;try{s.status=6,er(e,t,_,-1),s.lastPushedText&&s.textEmbedded&&s.chunks.push(Pe),s.status=1,or(e,t.blockedBoundary,s)}finally{t.blockedSegment=N}}else er(e,t,_,-1);t.formatContext=S,t.keyPath=y;e:{switch(t=N.chunks,e=e.resumableState,a){case"title":case"style":case"script":case"area":case"base":case"br":case"col":case"embed":case"hr":case"img":case"input":case"keygen":case"link":case"meta":case"param":case"source":case"track":case"wbr":break e;case"body":if(1>=S.insertionMode){e.hasBody=!0;break e}break;case"html":if(0===S.insertionMode){e.hasHtml=!0;break e}break;case"head":if(1>=S.insertionMode)break e}t.push(jt(a))}N.lastPushedText=!1}}}function Va(e,t,n,s,a){var r=t.replay,i=t.blockedBoundary,l=Ea(0,0,null,t.formatContext,!1,!1);l.id=n,l.parentFlushed=!0;try{t.replay=null,t.blockedSegment=l,er(e,t,s,a),l.status=1,or(e,i,l),null===i?e.completedRootSegment=l:(lr(i,l),i.parentFlushed&&e.partialBoundaries.push(i))}finally{t.replay=r,t.blockedSegment=null}}function qa(e,t,n,s){null!==t.replay&&"number"==typeof t.replay.slots?Va(e,t,t.replay.slots,n,s):(t.node=n,t.childIndex=s,n=t.componentStack,za(t),Ya(e,t),t.componentStack=n)}function Ya(e,t){var r=t.node,i=t.childIndex;if(null!==r){if("object"==typeof r){switch(r.$$typeof){case s:var l=r.type,o=r.key,d=r.props,h=void 0!==(r=d.ref)?r:null,m=xs(l),f=null==o?-1===i?0:i:o;if(o=[t.keyPath,m,f],null!==t.replay)e:{var x=t.replay;for(i=x.nodes,r=0;r<i.length;r++){var g=i[r];if(f===g[1]){if(4===g.length){if(null!==m&&m!==g[0])throw Error(n(490,g[0],m));var b=g[2];m=g[3],f=t.node,t.replay={nodes:b,slots:m,pendingTasks:1};try{if(Ua(e,t,o,l,d,h),1===t.replay.pendingTasks&&0<t.replay.nodes.length)throw Error(n(488));t.replay.pendingTasks--}catch(T){if("object"==typeof T&&null!==T&&(T===zs||"function"==typeof T.then))throw t.node===f?t.replay=x:i.splice(r,1),T;t.replay.pendingTasks--,d=Ra(t.componentStack),nr(o=e,e=t.blockedBoundary,b,m,l=T,d=Aa(o,l,d))}t.replay=x}else{if(l!==u)throw Error(n(490,"Suspense",xs(l)||"Unknown"));t:{x=void 0,l=g[5],h=g[2],m=g[3],f=null===g[4]?[]:g[4][2],g=null===g[4]?null:g[4][3];var v=t.keyPath,y=t.formatContext,N=t.row,k=t.replay,S=t.blockedBoundary,C=t.hoistableState,_=d.children,P=d.fallback,D=new Set;(d=2>t.formatContext.insertionMode?Pa(e,t.row,D,we(),we()):Pa(e,t.row,D,null,null)).parentFlushed=!0,d.rootSegmentID=l,t.blockedBoundary=d,t.hoistableState=d.contentState,t.keyPath=o,t.formatContext=_e(e.resumableState,y),t.row=null,t.replay={nodes:h,slots:m,pendingTasks:1};try{if(er(e,t,_,-1),1===t.replay.pendingTasks&&0<t.replay.nodes.length)throw Error(n(488));if(t.replay.pendingTasks--,0===d.pendingTasks&&0===d.status){d.status=1,e.completedBoundaries.push(d);break t}}catch(E){d.status=4,x=Aa(e,E,b=Ra(t.componentStack)),d.errorDigest=x,t.replay.pendingTasks--,e.clientRenderedBoundaries.push(d)}finally{t.blockedBoundary=S,t.hoistableState=C,t.replay=k,t.keyPath=v,t.formatContext=y,t.row=N}za(b=Ta(e,null,{nodes:f,slots:g,pendingTasks:0},P,-1,S,d.fallbackState,D,[o[0],"Suspense Fallback",o[2]],Ce(e.resumableState,t.formatContext),t.context,t.treeContext,t.row,Ma(t.componentStack))),e.pingedTasks.push(b)}}i.splice(r,1);break e}}}else Ua(e,t,o,l,d,h);return;case a:throw Error(n(257));case p:if(r=(b=r._init)(r._payload),12===e.status)throw null;return void qa(e,t,r,i)}if(j(r))return void Ga(e,t,r,i);if((b=w(r))&&(b=b.call(r))){if(!(r=b.next()).done){d=[];do{d.push(r.value),r=b.next()}while(!r.done);Ga(e,t,d,i)}return}if("function"==typeof r.then)return t.thenableState=null,qa(e,t,da(r),i);if(r.$$typeof===c)return qa(e,t,r._currentValue,i);throw i=Object.prototype.toString.call(r),Error(n(31,"[object Object]"===i?"object with keys {"+Object.keys(r).join(", ")+"}":i))}"string"==typeof r?null!==(i=t.blockedSegment)&&(i.lastPushedText=De(i.chunks,r,e.renderState,i.lastPushedText)):"number"!=typeof r&&"bigint"!=typeof r||null!==(i=t.blockedSegment)&&(i.lastPushedText=De(i.chunks,""+r,e.renderState,i.lastPushedText))}}function Ga(e,t,s,a){var r=t.keyPath;if(-1===a||(t.keyPath=[t.keyPath,"Fragment",a],null===t.replay)){if(i=t.treeContext,l=s.length,null!==t.replay&&(null!==(o=t.replay.slots)&&"object"==typeof o)){for(a=0;a<l;a++)c=s[a],t.treeContext=_s(i,l,a),"number"==typeof(d=o[a])?(Va(e,t,d,c,a),delete o[a]):er(e,t,c,a);return t.treeContext=i,void(t.keyPath=r)}for(o=0;o<l;o++)a=s[o],t.treeContext=_s(i,l,o),er(e,t,a,o);t.treeContext=i,t.keyPath=r}else{for(var i=t.replay,l=i.nodes,o=0;o<l.length;o++){var c=l[o];if(c[1]===a){a=c[2],c=c[3],t.replay={nodes:a,slots:c,pendingTasks:1};try{if(Ga(e,t,s,-1),1===t.replay.pendingTasks&&0<t.replay.nodes.length)throw Error(n(488));t.replay.pendingTasks--}catch(u){if("object"==typeof u&&null!==u&&(u===zs||"function"==typeof u.then))throw u;t.replay.pendingTasks--,s=Ra(t.componentStack);var d=t.blockedBoundary;nr(e,d,a,c,u,s=Aa(e,u,s))}t.replay=i,l.splice(o,1);break}}t.keyPath=r}}function Xa(e,t,s){if(s.status=5,s.rootSegmentID=e.nextSegmentId++,null===(e=s.trackedContentKeyPath))throw Error(n(486));var a=s.trackedFallbackNode,r=t.workingMap.get(e);return void 0===r?(s=[e[1],e[2],[],null,a,s.rootSegmentID],t.workingMap.set(e,s),Cr(s,e[0],t),s):(r[4]=a,r[5]=s.rootSegmentID,r)}function Qa(e,t,s,a){a.status=5;var r=s.keyPath,i=s.blockedBoundary;if(null===i)a.id=e.nextSegmentId++,t.rootSlots=a.id,null!==e.completedRootSegment&&(e.completedRootSegment.status=5);else{if(null!==i&&0===i.status){var l=Xa(e,t,i);if(i.trackedContentKeyPath===r&&-1===s.childIndex)return-1===a.id&&(a.id=a.parentFlushed?i.rootSegmentID:e.nextSegmentId++),void(l[3]=a.id)}if(-1===a.id&&(a.id=a.parentFlushed&&null!==i?i.rootSegmentID:e.nextSegmentId++),-1===s.childIndex)null===r?t.rootSlots=a.id:void 0===(s=t.workingMap.get(r))?Cr(s=[r[1],r[2],[],a.id],r[0],t):s[3]=a.id;else{if(null===r){if(null===(e=t.rootSlots))e=t.rootSlots={};else if("number"==typeof e)throw Error(n(491))}else if(void 0===(l=(i=t.workingMap).get(r)))e={},l=[r[1],r[2],[],e],i.set(r,l),Cr(l,r[0],t);else if(null===(e=l[3]))e=l[3]={};else if("number"==typeof e)throw Error(n(491));e[s.childIndex]=a.id}}}function Ka(e,t){null!==(e=e.trackedPostpones)&&(null!==(t=t.trackedContentKeyPath)&&(void 0!==(t=e.workingMap.get(t))&&(t.length=4,t[2]=[],t[3]=null)))}function Ja(e,t,n){return Ta(e,n,t.replay,t.node,t.childIndex,t.blockedBoundary,t.hoistableState,t.abortSet,t.keyPath,t.formatContext,t.context,t.treeContext,t.row,t.componentStack)}function Za(e,t,n){var s=t.blockedSegment,a=Ea(0,s.chunks.length,null,t.formatContext,s.lastPushedText,!0);return s.children.push(a),s.lastPushedText=!1,Da(e,n,t.node,t.childIndex,t.blockedBoundary,a,t.blockedPreamble,t.hoistableState,t.abortSet,t.keyPath,t.formatContext,t.context,t.treeContext,t.row,t.componentStack)}function er(e,t,n,s){var a=t.formatContext,r=t.context,i=t.keyPath,l=t.treeContext,o=t.componentStack,c=t.blockedSegment;if(null===c){c=t.replay;try{return qa(e,t,n,s)}catch(h){if(ta(),n=h===zs?Rs():h,12!==e.status&&"object"==typeof n&&null!==n){if("function"==typeof n.then)return e=Ja(e,t,s=h===zs?ea():null).ping,n.then(e,e),t.formatContext=a,t.context=r,t.keyPath=i,t.treeContext=l,t.componentStack=o,t.replay=c,void ks(r);if("Maximum call stack size exceeded"===n.message)return n=Ja(e,t,n=h===zs?ea():null),e.pingedTasks.push(n),t.formatContext=a,t.context=r,t.keyPath=i,t.treeContext=l,t.componentStack=o,t.replay=c,void ks(r)}}}else{var d=c.children.length,u=c.chunks.length;try{return qa(e,t,n,s)}catch(m){if(ta(),c.children.length=d,c.chunks.length=u,n=m===zs?Rs():m,12!==e.status&&"object"==typeof n&&null!==n){if("function"==typeof n.then)return c=n,e=Za(e,t,n=m===zs?ea():null).ping,c.then(e,e),t.formatContext=a,t.context=r,t.keyPath=i,t.treeContext=l,t.componentStack=o,void ks(r);if("Maximum call stack size exceeded"===n.message)return c=Za(e,t,c=m===zs?ea():null),e.pingedTasks.push(c),t.formatContext=a,t.context=r,t.keyPath=i,t.treeContext=l,t.componentStack=o,void ks(r)}}}throw t.formatContext=a,t.context=r,t.keyPath=i,t.treeContext=l,ks(r),n}function tr(e){var t=e.blockedBoundary,n=e.blockedSegment;null!==n&&(n.status=3,cr(this,t,e.row,n))}function nr(e,t,s,a,r,i){for(var l=0;l<s.length;l++){var o=s[l];if(4===o.length)nr(e,t,o[2],o[3],r,i);else{o=o[5];var c=e,d=i,u=Pa(c,null,new Set,null,null);u.parentFlushed=!0,u.rootSegmentID=o,u.status=4,u.errorDigest=d,u.parentFlushed&&c.clientRenderedBoundaries.push(u)}}if(s.length=0,null!==a){if(null===t)throw Error(n(487));if(4!==t.status&&(t.status=4,t.errorDigest=i,t.parentFlushed&&e.clientRenderedBoundaries.push(t)),"object"==typeof a)for(var h in a)delete a[h]}}function sr(e,t,n){var s=e.blockedBoundary,a=e.blockedSegment;if(null!==a){if(6===a.status)return;a.status=3}var r=Ra(e.componentStack);if(null===s){if(13!==t.status&&14!==t.status){if(null===(s=e.replay))return void(null!==t.trackedPostpones&&null!==a?(s=t.trackedPostpones,Aa(t,n,r),Qa(t,s,e,a),cr(t,null,e.row,a)):(Aa(t,n,r),Oa(t,n)));s.pendingTasks--,0===s.pendingTasks&&0<s.nodes.length&&(a=Aa(t,n,r),nr(t,null,s.nodes,s.slots,n,a)),t.pendingRootTasks--,0===t.pendingRootTasks&&rr(t)}}else{var i=t.trackedPostpones;if(4!==s.status){if(null!==i&&null!==a)return Aa(t,n,r),Qa(t,i,e,a),s.fallbackAbortableTasks.forEach(function(e){return sr(e,t,n)}),s.fallbackAbortableTasks.clear(),cr(t,s,e.row,a);s.status=4,a=Aa(t,n,r),s.status=4,s.errorDigest=a,Ka(t,s),s.parentFlushed&&t.clientRenderedBoundaries.push(s)}s.pendingTasks--,null!==(a=s.row)&&0===--a.pendingTasks&&Fa(t,a),s.fallbackAbortableTasks.forEach(function(e){return sr(e,t,n)}),s.fallbackAbortableTasks.clear()}null!==(e=e.row)&&0===--e.pendingTasks&&Fa(t,e),t.allPendingTasks--,0===t.allPendingTasks&&ir(t)}function ar(e,t){try{var n=e.renderState,s=n.onHeaders;if(s){var a=n.headers;if(a){n.headers=null;var r=a.preconnects;if(a.fontPreloads&&(r&&(r+=", "),r+=a.fontPreloads),a.highImagePreloads&&(r&&(r+=", "),r+=a.highImagePreloads),!t){var i=n.styles.values(),l=i.next();e:for(;0<a.remainingCapacity&&!l.done;l=i.next())for(var o=l.value.sheets.values(),c=o.next();0<a.remainingCapacity&&!c.done;c=o.next()){var d=c.value,u=d.props,h=u.href,m=d.props,p=rs(m.href,"style",{crossOrigin:m.crossOrigin,integrity:m.integrity,nonce:m.nonce,type:m.type,fetchPriority:m.fetchPriority,referrerPolicy:m.referrerPolicy,media:m.media});if(!(0<=(a.remainingCapacity-=p.length+2)))break e;n.resets.style[h]=ae,r&&(r+=", "),r+=p,n.resets.style[h]="string"==typeof u.crossOrigin||"string"==typeof u.integrity?[u.crossOrigin,u.integrity]:ae}}s(r?{Link:r}:{})}}}catch(f){Aa(e,f,{})}}function rr(e){null===e.trackedPostpones&&ar(e,!0),null===e.trackedPostpones&&mr(e),e.onShellError=Es,(e=e.onShellReady)()}function ir(e){ar(e,null===e.trackedPostpones||(null===e.completedRootSegment||5!==e.completedRootSegment.status)),mr(e),(e=e.onAllReady)()}function lr(e,t){if(0===t.chunks.length&&1===t.children.length&&null===t.children[0].boundary&&-1===t.children[0].id){var n=t.children[0];n.id=t.id,n.parentFlushed=!0,1!==n.status&&3!==n.status&&4!==n.status||lr(e,n)}else e.completedSegments.push(t)}function or(e,t,n){if(null!==I){n=n.chunks;for(var s=0,a=0;a<n.length;a++)s+=n[a].byteLength;null===t?e.byteSize+=s:t.byteSize+=s}}function cr(e,t,s,a){if(null!==s&&(0===--s.pendingTasks?Fa(e,s):s.together&&La(e,s)),e.allPendingTasks--,null===t){if(null!==a&&a.parentFlushed){if(null!==e.completedRootSegment)throw Error(n(389));e.completedRootSegment=a}e.pendingRootTasks--,0===e.pendingRootTasks&&rr(e)}else if(t.pendingTasks--,4!==t.status)if(0===t.pendingTasks){if(0===t.status&&(t.status=1),null!==a&&a.parentFlushed&&(1===a.status||3===a.status)&&lr(t,a),t.parentFlushed&&e.completedBoundaries.push(t),1===t.status)null!==(s=t.row)&&hs(s.hoistables,t.contentState),wa(0,t)||(t.fallbackAbortableTasks.forEach(tr,e),t.fallbackAbortableTasks.clear(),null!==s&&0===--s.pendingTasks&&Fa(e,s)),0===e.pendingRootTasks&&null===e.trackedPostpones&&null!==t.contentPreamble&&mr(e);else if(5===t.status&&null!==(t=t.row)){if(null!==e.trackedPostpones){s=e.trackedPostpones;var r=t.next;if(null!==r&&null!==(a=r.boundaries))for(r.boundaries=null,r=0;r<a.length;r++){var i=a[r];Xa(e,s,i),cr(e,i,null,null)}}0===--t.pendingTasks&&Fa(e,t)}}else null===a||!a.parentFlushed||1!==a.status&&3!==a.status||(lr(t,a),1===t.completedSegments.length&&t.parentFlushed&&e.partialBoundaries.push(t)),null!==(t=t.row)&&t.together&&La(e,t);0===e.allPendingTasks&&ir(e)}function dr(e){if(14!==e.status&&13!==e.status){var t=bs,s=ee.H;ee.H=pa;var a=ee.A;ee.A=xa;var r=Ca;Ca=e;var i=fa;fa=e.resumableState;try{var l,o=e.pingedTasks;for(l=0;l<o.length;l++){var c=o[l],d=e,u=c.blockedSegment;if(null===u){var h=d;if(0!==c.replay.pendingTasks){ks(c.context);try{if("number"==typeof c.replay.slots?Va(h,c,c.replay.slots,c.node,c.childIndex):Ya(h,c),1===c.replay.pendingTasks&&0<c.replay.nodes.length)throw Error(n(488));c.replay.pendingTasks--,c.abortSet.delete(c),cr(h,c.blockedBoundary,c.row,null)}catch(D){ta();var m=D===zs?Rs():D;if("object"==typeof m&&null!==m&&"function"==typeof m.then){var p=c.ping;m.then(p,p),c.thenableState=D===zs?ea():null}else{c.replay.pendingTasks--,c.abortSet.delete(c);var f=Ra(c.componentStack);d=void 0;var x=h,g=c.blockedBoundary,b=12===h.status?h.fatalError:m;nr(x,g,c.replay.nodes,c.replay.slots,b,d=Aa(x,b,f)),h.pendingRootTasks--,0===h.pendingRootTasks&&rr(h),h.allPendingTasks--,0===h.allPendingTasks&&ir(h)}}}}else if(h=void 0,0===(x=u).status){x.status=6,ks(c.context);var v=x.children.length,y=x.chunks.length;try{Ya(d,c),x.lastPushedText&&x.textEmbedded&&x.chunks.push(Pe),c.abortSet.delete(c),x.status=1,or(d,c.blockedBoundary,x),cr(d,c.blockedBoundary,c.row,x)}catch(D){ta(),x.children.length=v,x.chunks.length=y;var w=D===zs?Rs():12===d.status?d.fatalError:D;if(12===d.status&&null!==d.trackedPostpones){var j=d.trackedPostpones,N=Ra(c.componentStack);c.abortSet.delete(c),Aa(d,w,N),Qa(d,j,c,x),cr(d,c.blockedBoundary,c.row,x)}else if("object"==typeof w&&null!==w&&"function"==typeof w.then){x.status=0,c.thenableState=D===zs?ea():null;var k=c.ping;w.then(k,k)}else{var S=Ra(c.componentStack);c.abortSet.delete(c),x.status=4;var C=c.blockedBoundary,_=c.row;if(null!==_&&0===--_.pendingTasks&&Fa(d,_),d.allPendingTasks--,h=Aa(d,w,S),null===C)Oa(d,w);else if(C.pendingTasks--,4!==C.status){C.status=4,C.errorDigest=h,Ka(d,C);var P=C.row;null!==P&&0===--P.pendingTasks&&Fa(d,P),C.parentFlushed&&d.clientRenderedBoundaries.push(C),0===d.pendingRootTasks&&null===d.trackedPostpones&&null!==C.contentPreamble&&mr(d)}0===d.allPendingTasks&&ir(d)}}}}o.splice(0,l),null!==e.destination&&wr(e,e.destination)}catch(T){Aa(e,T,{}),Oa(e,T)}finally{fa=i,ee.H=s,ee.A=a,s===pa&&ks(t),Ca=r}}}function ur(e,t,n){t.preambleChildren.length&&n.push(t.preambleChildren);for(var s=!1,a=0;a<t.children.length;a++)s=hr(e,t.children[a],n)||s;return s}function hr(e,t,s){var a=t.boundary;if(null===a)return ur(e,t,s);var r=a.contentPreamble,i=a.fallbackPreamble;if(null===r||null===i)return!1;switch(a.status){case 1:if(Nt(e.renderState,r),e.byteSize+=a.byteSize,!(t=a.completedSegments[0]))throw Error(n(391));return ur(e,t,s);case 5:if(null!==e.trackedPostpones)return!0;case 4:if(1===t.status)return Nt(e.renderState,i),ur(e,t,s);default:return!0}}function mr(e){if(e.completedRootSegment&&null===e.completedPreambleSegments){var t=[],n=e.byteSize,s=hr(e,e.completedRootSegment,t),a=e.renderState.preamble;!1===s||a.headChunks&&a.bodyChunks?e.completedPreambleSegments=t:e.byteSize=n}}function pr(e,t,s,a){switch(s.parentFlushed=!0,s.status){case 0:s.id=e.nextSegmentId++;case 5:return a=s.id,s.lastPushedText=!1,s.textEmbedded=!1,e=e.renderState,z(t,Ct),z(t,e.placeholderPrefix),z(t,e=O(a.toString(16))),M(t,_t);case 1:s.status=2;var r=!0,i=s.chunks,l=0;s=s.children;for(var o=0;o<s.length;o++){for(r=s[o];l<r.index;l++)z(t,i[l]);r=xr(e,t,r,a)}for(;l<i.length-1;l++)z(t,i[l]);return l<i.length&&(r=M(t,i[l])),r;case 3:return!0;default:throw Error(n(390))}}var fr=0;function xr(e,t,s,a){var r=s.boundary;if(null===r)return pr(e,t,s,a);if(r.parentFlushed=!0,4===r.status){var i=r.row;null!==i&&0===--i.pendingTasks&&Fa(e,i),r=r.errorDigest,M(t,Mt),z(t,At),r&&(z(t,Ft),z(t,O(X(r))),z(t,Ot)),M(t,It),pr(e,t,s,a)}else if(1!==r.status)0===r.status&&(r.rootSegmentID=e.nextSegmentId++),0<r.completedSegments.length&&e.partialBoundaries.push(r),Lt(t,e.renderState,r.rootSegmentID),a&&hs(a,r.fallbackState),pr(e,t,s,a);else if(!yr&&wa(0,r)&&(fr+r.byteSize>e.progressiveChunkSize||ms(r.contentState)))r.rootSegmentID=e.nextSegmentId++,e.completedBoundaries.push(r),Lt(t,e.renderState,r.rootSegmentID),pr(e,t,s,a);else{if(fr+=r.byteSize,a&&hs(a,r.contentState),null!==(s=r.row)&&wa(0,r)&&0===--s.pendingTasks&&Fa(e,s),M(t,Tt),1!==(s=r.completedSegments).length)throw Error(n(391));xr(e,t,s[0],a)}return M(t,Rt)}function gr(e,t,s,a){return function(e,t,s,a){switch(s.insertionMode){case 0:case 1:case 3:case 2:return z(e,Bt),z(e,t.segmentPrefix),z(e,O(a.toString(16))),M(e,$t);case 4:return z(e,Ht),z(e,t.segmentPrefix),z(e,O(a.toString(16))),M(e,Ut);case 5:return z(e,qt),z(e,t.segmentPrefix),z(e,O(a.toString(16))),M(e,Yt);case 6:return z(e,Xt),z(e,t.segmentPrefix),z(e,O(a.toString(16))),M(e,Qt);case 7:return z(e,Jt),z(e,t.segmentPrefix),z(e,O(a.toString(16))),M(e,Zt);case 8:return z(e,tn),z(e,t.segmentPrefix),z(e,O(a.toString(16))),M(e,nn);case 9:return z(e,an),z(e,t.segmentPrefix),z(e,O(a.toString(16))),M(e,rn);default:throw Error(n(397))}}(t,e.renderState,s.parentFormatContext,s.id),xr(e,t,s,a),function(e,t){switch(t.insertionMode){case 0:case 1:case 3:case 2:return M(e,Wt);case 4:return M(e,Vt);case 5:return M(e,Gt);case 6:return M(e,Kt);case 7:return M(e,en);case 8:return M(e,sn);case 9:return M(e,ln);default:throw Error(n(397))}}(t,s.parentFormatContext)}function br(e,t,s){fr=s.byteSize;for(var a=s.completedSegments,r=0;r<a.length;r++)vr(e,t,s,a[r]);a.length=0,null!==(a=s.row)&&wa(0,s)&&0===--a.pendingTasks&&Fa(e,a),In(t,s.contentState,e.renderState),a=e.resumableState,e=e.renderState,r=s.rootSegmentID,s=s.contentState;var i=e.stylesToHoist;return e.stylesToHoist=!1,z(t,e.startInlineScript),z(t,Ge),i?(!(4&a.instructions)&&(a.instructions|=4,z(t,yn)),!(2&a.instructions)&&(a.instructions|=2,z(t,hn)),8&a.instructions?z(t,fn):(a.instructions|=8,z(t,pn))):(!(2&a.instructions)&&(a.instructions|=2,z(t,hn)),z(t,mn)),a=O(r.toString(16)),z(t,e.boundaryPrefix),z(t,a),z(t,xn),z(t,e.segmentPrefix),z(t,a),i?(z(t,gn),function(e,t){z(e,Jn);var s=Jn;t.stylesheets.forEach(function(t){if(2!==t.state)if(3===t.state)z(e,s),z(e,O(Dn(""+t.props.href))),z(e,ts),s=Zn;else{z(e,s);var a=t.props["data-precedence"],r=t.props,i=Z(""+t.props.href);for(var l in z(e,O(Dn(i))),a=""+a,z(e,es),z(e,O(Dn(a))),r)if($.call(r,l)&&null!=(a=r[l]))switch(l){case"href":case"rel":case"precedence":case"data-precedence":break;case"children":case"dangerouslySetInnerHTML":throw Error(n(399,"link"));default:ns(e,l,a)}z(e,ts),s=Zn,t.state=3}}),z(e,ts)}(t,s)):z(t,bn),s=M(t,vn),kt(t,e)&&s}function vr(e,t,s,a){if(2===a.status)return!0;var r=s.contentState,i=a.id;if(-1===i){if(-1===(a.id=s.rootSegmentID))throw Error(n(392));return gr(e,t,a,r)}return i===s.rootSegmentID?gr(e,t,a,r):(gr(e,t,a,r),s=e.resumableState,z(t,(e=e.renderState).startInlineScript),z(t,Ge),1&s.instructions?z(t,cn):(s.instructions|=1,z(t,on)),z(t,e.segmentPrefix),z(t,i=O(i.toString(16))),z(t,dn),z(t,e.placeholderPrefix),z(t,i),t=M(t,un))}var yr=!1;function wr(e,t){T=new Uint8Array(2048),E=0;try{if(!(0<e.pendingRootTasks)){var n,s=e.completedRootSegment;if(null!==s){if(5===s.status)return;var a=e.completedPreambleSegments;if(null===a)return;fr=e.byteSize;var r,i=e.resumableState,l=e.renderState,o=l.preamble,c=o.htmlChunks,d=o.headChunks;if(c){for(r=0;r<c.length;r++)z(t,c[r]);if(d)for(r=0;r<d.length;r++)z(t,d[r]);else z(t,bt("head")),z(t,Ge)}else if(d)for(r=0;r<d.length;r++)z(t,d[r]);var u=l.charsetChunks;for(r=0;r<u.length;r++)z(t,u[r]);u.length=0,l.preconnects.forEach(Ln,t),l.preconnects.clear();var h=l.viewportChunks;for(r=0;r<h.length;r++)z(t,h[r]);h.length=0,l.fontPreloads.forEach(Ln,t),l.fontPreloads.clear(),l.highImagePreloads.forEach(Ln,t),l.highImagePreloads.clear(),re=l,l.styles.forEach(Yn,t),re=null;var m=l.importMapChunks;for(r=0;r<m.length;r++)z(t,m[r]);m.length=0,l.bootstrapScripts.forEach(Ln,t),l.scripts.forEach(Ln,t),l.scripts.clear(),l.bulkPreloads.forEach(Ln,t),l.bulkPreloads.clear(),c||d||(i.instructions|=32);var p=l.hoistableChunks;for(r=0;r<p.length;r++)z(t,p[r]);for(i=p.length=0;i<a.length;i++){var f=a[i];for(l=0;l<f.length;l++)xr(e,t,f[l],null)}var x=e.renderState.preamble,g=x.headChunks;(x.htmlChunks||g)&&z(t,jt("head"));var b=x.bodyChunks;if(b)for(a=0;a<b.length;a++)z(t,b[a]);xr(e,t,s,null),e.completedRootSegment=null;var v=e.renderState;if(0!==e.allPendingTasks||0!==e.clientRenderedBoundaries.length||0!==e.completedBoundaries.length||null!==e.trackedPostpones&&(0!==e.trackedPostpones.rootNodes.length||null!==e.trackedPostpones.rootSlots)){var y=e.resumableState;if(!(64&y.instructions)){if(y.instructions|=64,z(t,v.startInlineScript),!(32&y.instructions)){y.instructions|=32;var w="_"+y.idPrefix+"R_";z(t,Qn),z(t,O(X(w))),z(t,Fe)}z(t,Ge),z(t,St),M(t,le)}}kt(t,v)}var j=e.renderState;s=0;var N=j.viewportChunks;for(s=0;s<N.length;s++)z(t,N[s]);N.length=0,j.preconnects.forEach(Ln,t),j.preconnects.clear(),j.fontPreloads.forEach(Ln,t),j.fontPreloads.clear(),j.highImagePreloads.forEach(Ln,t),j.highImagePreloads.clear(),j.styles.forEach(Xn,t),j.scripts.forEach(Ln,t),j.scripts.clear(),j.bulkPreloads.forEach(Ln,t),j.bulkPreloads.clear();var k=j.hoistableChunks;for(s=0;s<k.length;s++)z(t,k[s]);k.length=0;var S=e.clientRenderedBoundaries;for(n=0;n<S.length;n++){var C=S[n];j=t;var _=e.resumableState,P=e.renderState,D=C.rootSegmentID,A=C.errorDigest;z(j,P.startInlineScript),z(j,Ge),4&_.instructions?z(j,jn):(_.instructions|=4,z(j,wn)),z(j,P.boundaryPrefix),z(j,O(D.toString(16))),z(j,Nn),A&&(z(j,kn),z(j,O(_n(A||""))));var F=M(j,Sn);if(!F)return e.destination=null,n++,void S.splice(0,n)}S.splice(0,n);var I=e.completedBoundaries;for(n=0;n<I.length;n++)if(!br(e,t,I[n]))return e.destination=null,n++,void I.splice(0,n);I.splice(0,n),R(t),T=new Uint8Array(2048),E=0,yr=!0;var L=e.partialBoundaries;for(n=0;n<L.length;n++){var B=L[n];e:{S=e,C=t,fr=B.byteSize;var $=B.completedSegments;for(F=0;F<$.length;F++)if(!vr(S,C,B,$[F])){F++,$.splice(0,F);var W=!1;break e}$.splice(0,F);var H=B.row;null!==H&&H.together&&1===B.pendingTasks&&(1===H.pendingTasks?Ia(S,H,H.hoistables):H.pendingTasks--),W=In(C,B.contentState,S.renderState)}if(!W)return e.destination=null,n++,void L.splice(0,n)}L.splice(0,n),yr=!1;var U=e.completedBoundaries;for(n=0;n<U.length;n++)if(!br(e,t,U[n]))return e.destination=null,n++,void U.splice(0,n);U.splice(0,n)}}finally{yr=!1,0===e.allPendingTasks&&0===e.clientRenderedBoundaries.length&&0===e.completedBoundaries.length?(e.flushScheduled=!1,(n=e.resumableState).hasBody&&z(t,jt("body")),n.hasHtml&&z(t,jt("html")),R(t),e.status=14,t.close(),e.destination=null):R(t)}}function jr(e){e.flushScheduled=null!==e.destination,D(function(){return dr(e)}),C(function(){10===e.status&&(e.status=11),null===e.trackedPostpones&&ar(e,0===e.pendingRootTasks)})}function Nr(e){!1===e.flushScheduled&&0===e.pingedTasks.length&&null!==e.destination&&(e.flushScheduled=!0,C(function(){var t=e.destination;t?wr(e,t):e.flushScheduled=!1}))}function kr(e,t){if(13===e.status)e.status=14,L(t,e.fatalError);else if(14!==e.status&&null===e.destination){e.destination=t;try{wr(e,t)}catch(n){Aa(e,n,{}),Oa(e,n)}}}function Sr(e,t){11!==e.status&&10!==e.status||(e.status=12);try{var s=e.abortableTasks;if(0<s.size){var a=void 0===t?Error(n(432)):"object"==typeof t&&null!==t&&"function"==typeof t.then?Error(n(530)):t;e.fatalError=a,s.forEach(function(t){return sr(t,e,a)}),s.clear()}null!==e.destination&&wr(e,e.destination)}catch(r){Aa(e,r,{}),Oa(e,r)}}function Cr(e,t,n){if(null===t)n.rootNodes.push(e);else{var s=n.workingMap,a=s.get(t);void 0===a&&(a=[t[1],t[2],[],null],s.set(t,a),Cr(a,t[0],n)),a[2].push(e)}}function _r(e){var t=e.trackedPostpones;if(null===t||0===t.rootNodes.length&&null===t.rootSlots)return e.trackedPostpones=null;if(null===e.completedRootSegment||5!==e.completedRootSegment.status&&null!==e.completedPreambleSegments){var n=e.nextSegmentId,s=t.rootSlots,a=e.resumableState;a.bootstrapScriptContent=void 0,a.bootstrapScripts=void 0,a.bootstrapModules=void 0}else{n=0,s=-1,a=e.resumableState;var r=e.renderState;a.nextFormID=0,a.hasBody=!1,a.hasHtml=!1,a.unknownResources={font:r.resets.font},a.dnsResources=r.resets.dns,a.connectResources=r.resets.connect,a.imageResources=r.resets.image,a.styleResources=r.resets.style,a.scriptResources={},a.moduleUnknownResources={},a.moduleScriptResources={},a.instructions=0}return{nextSegmentId:n,rootFormatContext:e.rootFormatContext,progressiveChunkSize:e.progressiveChunkSize,resumableState:e.resumableState,replayNodes:t.rootNodes,replaySlots:s}}function Pr(){var t=e.version;if("19.2.3"!==t)throw Error(n(527,t,"19.2.3"))}return Pr(),Pr(),Cm.prerender=function(e,t){return new Promise(function(n,s){var a,r=t?t.onHeaders:void 0;r&&(a=function(e){r(new Headers(e))});var i=ye(t?t.identifierPrefix:void 0,t&&t.unstable_externalRuntimeSrc,t?t.bootstrapScriptContent:void 0,t?t.bootstrapScripts:void 0,t?t.bootstrapModules:void 0),l=function(e,t,n,s,a,r,i,l,o,c,d){return(e=ka(e,t,n,s,a,r,i,l,o,c,d,void 0)).trackedPostpones={workingMap:new Map,rootNodes:[],rootSlots:null},e}(e,i,ve(i,void 0,t?t.unstable_externalRuntimeSrc:void 0,t?t.importMap:void 0,a,t?t.maxHeadersLength:void 0),Ne(t?t.namespaceURI:void 0),t?t.progressiveChunkSize:void 0,t?t.onError:void 0,function(){var e=new ReadableStream({type:"bytes",pull:function(e){kr(l,e)},cancel:function(e){l.destination=null,Sr(l,e)}},{highWaterMark:0});e={postponed:_r(l),prelude:e},n(e)},void 0,void 0,s,t?t.onPostpone:void 0);if(t&&t.signal){var o=t.signal;if(o.aborted)Sr(l,o.reason);else{var c=function(){Sr(l,o.reason),o.removeEventListener("abort",c)};o.addEventListener("abort",c)}}jr(l)})},Cm.renderToReadableStream=function(e,t){return new Promise(function(n,s){var a,r,i,l=new Promise(function(e,t){r=e,a=t}),o=t?t.onHeaders:void 0;o&&(i=function(e){o(new Headers(e))});var c=ye(t?t.identifierPrefix:void 0,t&&t.unstable_externalRuntimeSrc,t?t.bootstrapScriptContent:void 0,t?t.bootstrapScripts:void 0,t?t.bootstrapModules:void 0),d=ka(e,c,ve(c,t?t.nonce:void 0,t?t.unstable_externalRuntimeSrc:void 0,t?t.importMap:void 0,i,t?t.maxHeadersLength:void 0),Ne(t?t.namespaceURI:void 0),t?t.progressiveChunkSize:void 0,t?t.onError:void 0,r,function(){var e=new ReadableStream({type:"bytes",pull:function(e){kr(d,e)},cancel:function(e){d.destination=null,Sr(d,e)}},{highWaterMark:0});e.allReady=l,n(e)},function(e){l.catch(function(){}),s(e)},a,t?t.onPostpone:void 0,t?t.formState:void 0);if(t&&t.signal){var u=t.signal;if(u.aborted)Sr(d,u.reason);else{var h=function(){Sr(d,u.reason),u.removeEventListener("abort",h)};u.addEventListener("abort",h)}}jr(d)})},Cm.resume=function(e,t,n){return new Promise(function(s,a){var r,i,l=new Promise(function(e,t){i=e,r=t}),o=Sa(e,t,ve(t.resumableState,n?n.nonce:void 0,void 0,void 0,void 0,void 0),n?n.onError:void 0,i,function(){var e=new ReadableStream({type:"bytes",pull:function(e){kr(o,e)},cancel:function(e){o.destination=null,Sr(o,e)}},{highWaterMark:0});e.allReady=l,s(e)},function(e){l.catch(function(){}),a(e)},r,n?n.onPostpone:void 0);if(n&&n.signal){var c=n.signal;if(c.aborted)Sr(o,c.reason);else{var d=function(){Sr(o,c.reason),c.removeEventListener("abort",d)};c.addEventListener("abort",d)}}jr(o)})},Cm.resumeAndPrerender=function(e,t,n){return new Promise(function(s,a){var r=function(e,t,n,s,a,r,i,l,o){return(e=Sa(e,t,n,s,a,r,i,l,o)).trackedPostpones={workingMap:new Map,rootNodes:[],rootSlots:null},e}(e,t,ve(t.resumableState,void 0,void 0,void 0,void 0,void 0),n?n.onError:void 0,function(){var e=new ReadableStream({type:"bytes",pull:function(e){kr(r,e)},cancel:function(e){r.destination=null,Sr(r,e)}},{highWaterMark:0});e={postponed:_r(r),prelude:e},s(e)},void 0,void 0,a,n?n.onPostpone:void 0);if(n&&n.signal){var i=n.signal;if(i.aborted)Sr(r,i.reason);else{var l=function(){Sr(r,i.reason),i.removeEventListener("abort",l)};i.addEventListener("abort",l)}}jr(r)})},Cm.version="19.2.3",Cm}var Pm,Dm,Tm=(Sm||(Sm=1,Pm=Nm(),Dm=_m(),wm.version=Pm.version,wm.renderToString=Pm.renderToString,wm.renderToStaticMarkup=Pm.renderToStaticMarkup,wm.renderToReadableStream=Dm.renderToReadableStream,wm.resume=Dm.resume),wm);const Em=(t,n,s="Document",a=[],r=null)=>`\n    <!DOCTYPE html>\n    <html>\n        <head>\n            <meta charset="utf-8">\n            <title>${s}</title>\n            <style>\n                * { box-sizing: border-box; }\n                body { \n                    font-family: 'Times New Roman', serif; \n                    line-height: 1.5; \n                    color: #333; \n                    font-size: 12pt; \n                    margin: 0; \n                    padding: 40px; \n                }\n                .text-center { text-align: center; }\n                .uppercase { text-transform: uppercase; }\n                .font-bold { font-weight: bold; }\n                .text-sm { font-size: 10pt; }\n                .text-xs { font-size: 9pt; }\n                .text-justify { text-align: justify; }\n                .mb-2 { margin-bottom: 0.5rem; }\n                .mb-4 { margin-bottom: 1rem; }\n                .mb-6 { margin-bottom: 1.5rem; }\n                .mb-8 { margin-bottom: 2rem; }\n                .mb-10 { margin-bottom: 2.5rem; }\n                .pb-2 { padding-bottom: 0.5rem; }\n                .mt-12 { margin-top: 3rem; }\n                .border-b { border-bottom: 1px solid #000; }\n                .border-b-2 { border-bottom: 2px solid #000; }\n                \n                @page { margin: 40px; }\n                \n                h1 { \n                    font-size: 16pt; \n                    text-transform: uppercase; \n                    border-bottom: 2px solid #000; \n                    padding-bottom: 10px; \n                    margin-bottom: 30px; \n                    text-align: center; \n                    font-weight: bold; \n                    letter-spacing: 2px; \n                }\n                p { margin-bottom: 12px; }\n                \n                table { width: 100%; border-collapse: collapse; }\n                td { vertical-align: top; }\n            </style>\n        </head>\n        <body>\n            ${Tm.renderToStaticMarkup(e.jsx(lm,{data:t,content:n,zoom:1,printing:!0,signatures:a,businessLogo:r}))}\n        </body>\n    </html>\n    `,zm=()=>Math.random().toString(36).substr(2,9),Mm={fontFamily:"font-sans",fontSize:"text-[11pt]",lineHeight:"leading-relaxed",textColor:"#1e293b",headingColor:"#0f172a",accentColor:"#4f46e5",pageMargin:"p-[10mm]",paragraphSpacing:"mb-6"},Rm=(e={})=>{const[t,n]=vt.useState({...Mm,...e});return{styles:t,updateStyle:vt.useCallback((e,t)=>{n(n=>({...n,[e]:t}))},[]),resetStyles:vt.useCallback(()=>{n(Mm)},[])}},Am=e=>{const[t,n]=vt.useState(vm),[s,a]=vt.useState(bm),[r,i]=vt.useState("Untitled NDA"),[l,o]=vt.useState(null),[c,d]=vt.useState(!!e),[u,h]=vt.useState(!1),[m,p]=vt.useState(!1),{styles:f,updateStyle:x,resetStyles:g}=Rm(),b=vt.useRef(null);vt.useEffect(()=>{(async()=>{if(e)try{d(!0);const s=await om(e);s.data.name&&i(s.data.name),s.data.sent_at&&o(s.data.sent_at);let r=s.data?.content||s.content;if("string"==typeof r)try{r=JSON.parse(r)}catch(t){}r=r||{},r.blocks&&p(!0),r.formData&&n(e=>({...e,...r.formData})),r.docContent&&a(r.docContent),r.signatures&&y(r.signatures),r.styles&&Object.entries(r.styles).forEach(([e,t])=>x(e,t))}catch(s){At.error("Failed to load document")}finally{d(!1)}else try{const e=await pd();e&&n(t=>({...t,disclosingPartyName:e.name||"",disclosingPartyAddress:[e.address,e.city,e.state,e.country].filter(Boolean).join(", ")}))}catch(s){}})()},[e]);const[v,y]=vt.useState([]);return{formData:t,docContent:s,signatures:v,documentName:r,setDocumentName:i,sentAt:l,setSentAt:o,isLoading:c,isSaving:u,handleFormChange:e=>{const{name:t,value:s}=e.target;n(e=>({...e,[t]:s}))},handleContentChange:e=>{const{name:t,value:n}=e.target;a(e=>({...e,[t]:n}))},addSection:()=>{a(e=>({...e,sections:[...e.sections,{id:zm(),title:"New Section",content:"Enter the details of this new clause here..."}]}))},removeSection:e=>{a(t=>({...t,sections:t.sections.filter(t=>t.id!==e)}))},updateSection:(e,t,n)=>{a(s=>({...s,sections:s.sections.map(s=>s.id===e?{...s,[t]:n}:s)}))},reorderSections:e=>{a(t=>({...t,sections:e}))},addSignature:e=>{y(t=>[...t,e])},updateSignature:(e,t)=>{y(n=>n.map(n=>n.id===e?{...n,...t}:n))},removeSignature:e=>{y(t=>t.filter(t=>t.id!==e))},saveDocument:async n=>{h(!0);try{const a={name:r,type_slug:"nda",content:{formData:t,docContent:s,signatures:v,styles:f},status:"draft"};if(e)return await dm(e,a),At.success("Document updated successfully"),e;{const e=await cm(a);return At.success("Document created successfully"),n&&n(`/documents/nda/${e.data.id}`,{replace:!0}),e.data.id}}catch(a){throw a.response&&422===a.response.status||At.error("Failed to save document"),a}finally{setTimeout(()=>h(!1),500)}},enterPreviewMode:e=>{b.current||(b.current={formData:t,docContent:s});let r=e.content;if("string"==typeof r)try{r=JSON.parse(r)}catch(i){}return r.formData&&n(r.formData),r.docContent&&a(r.docContent),r},exitPreviewMode:()=>{b.current&&(n(b.current.formData),a(b.current.docContent),b.current=null)},restoreVersion:e=>{if(e&&e.content){let s=e.content;if("string"==typeof s)try{s=JSON.parse(s)}catch(t){}s.formData&&n(s.formData),s.docContent&&a(s.docContent),s.styles&&Object.entries(s.styles).forEach(([e,t])=>x(e,t))}b.current=null},styles:f,updateStyle:x,resetStyles:g,isNewEngine:m}},Om=(e,t,n=null)=>`\n<!DOCTYPE html>\n<html>\n<head>\n    <meta charset="utf-8" />\n    <meta name="viewport" content="width=device-width, initial-scale=1.0" />\n    <title>${t}</title>\n    <style>\n        \n    /* ===============================\n       RESET + PRINT SAFETY\n    ================================ */\n    * {\n        box-sizing: border-box;\n        -webkit-print-color-adjust: exact;\n        print-color-adjust: exact;\n    }\n\n    /* ===============================\n       PAGE SETUP (CRITICAL)\n    ================================ */\n    @page {\n        size: A4;\n        margin: 15mm 12mm 22mm 12mm; /* bottom space reserved for footer */\n    }\n\n    body {\n        font-family: Helvetica, Arial, sans-serif;\n        font-size: 10pt;\n        line-height: 1.5;\n        color: #1e293b;\n        margin: 0;\n        padding: 0;\n        min-height: 100%;\n    }\n\n    /* ===============================\n       UTILITIES\n    ================================ */\n    .text-center { text-align: center; }\n    .text-right { text-align: right; }\n    .text-left { text-align: left; }\n    .text-justify { text-align: justify; }\n\n    .uppercase { text-transform: uppercase; }\n    .italic { font-style: italic; }\n\n    .font-bold { font-weight: bold; }\n    .font-semibold { font-weight: 600; }\n    .font-medium { font-weight: 500; }\n\n    /* ===============================\n       TEXT SIZES\n    ================================ */\n    .text-2xl { font-size: 24pt; line-height: 1.2; }\n    .text-lg  { font-size: 14pt; }\n    .text-base { font-size: 11pt; }\n    .text-sm { font-size: 9pt; }\n    .text-xs { font-size: 8pt; }\n\n    /* ===============================\n       COLORS\n    ================================ */\n    .text-slate-900 { color: #0f172a; }\n    .text-slate-800 { color: #1e293b; }\n    .text-slate-600 { color: #475569; }\n    .text-slate-400 { color: #94a3b8; }\n\n    .bg-slate-50 { background-color: #f8fafc; }\n    .bg-slate-100 { background-color: #f1f5f9; }\n    .bg-slate-800 { background-color: #1e293b; }\n\n    /* ===============================\n       SPACING\n    ================================ */\n    .p-1 { padding: 4px; }\n    .p-2 { padding: 8px; }\n    .p-3 { padding: 12px; }\n    .p-4 { padding: 16px; }\n\n    .mt-2 { margin-top: 8px; }\n    .mt-4 { margin-top: 16px; }\n    .mb-1 { margin-bottom: 4px; }\n    .mb-2 { margin-bottom: 8px; }\n    .mb-4 { margin-bottom: 16px; }\n    .mb-6 { margin-bottom: 24px; }\n    .mb-8 { margin-bottom: 32px; }\n    .mb-10 { margin-bottom: 40px; }\n    .mb-12 { margin-bottom: 48px; }\n    .mb-20 { margin-bottom: 80px; }\n\n    /* ===============================\n       BORDERS\n    ================================ */\n    .rounded { border-radius: 4px; }\n    .border { border: 1px solid #e2e8f0; }\n    .border-b { border-bottom: 1px solid #e2e8f0; }\n    .border-b-2 { border-bottom: 2px solid #1e293b; }\n\n    /* ===============================\n       TABLES (PDF SAFE)\n    ================================ */\n    table {\n        width: 100%;\n        border-collapse: collapse;\n        page-break-inside: auto;\n    }\n\n    thead {\n        display: table-header-group;\n    }\n\n    tr {\n        page-break-inside: avoid;\n    }\n\n    th {\n        text-align: left;\n        font-weight: bold;\n    }\n\n    td {\n        vertical-align: top;\n    }\n\n    /* ===============================\n       PAGE BREAK HELPERS\n    ================================ */\n    .page-break {\n        page-break-before: always;\n    }\n\n    .avoid-break {\n        page-break-inside: avoid;\n    }\n\n    /* ===============================\n       WATERMARK\n    ================================ */\n    .watermark {\n        position: fixed;\n        top: 50%;\n        left: 50%;\n        transform: translate(-50%, -50%) rotate(-30deg);\n        font-size: 60pt;\n        color: rgba(15, 23, 42, 0.08);\n        z-index: -1;\n        pointer-events: none;\n        user-select: none;\n        white-space: nowrap;\n    }\n\n    /* ===============================\n       FOOTER\n    ================================ */\n    .footer {\n        position: fixed;\n        bottom: 8mm;\n        left: 0;\n        right: 0;\n        text-align: center;\n        font-size: 9pt;\n        color: #94a3b8;\n        letter-spacing: 2px;\n        text-transform: uppercase;\n    }\n\n    </style>\n</head>\n<body>\n    ${n?`<div class="watermark">${n}</div>`:""}\n\n    ${e}\n\n    <div class="footer">POWERED BY DOCFORGE</div>\n</body>\n</html>\n`,Fm=async(e,t,n,s=null)=>(async(e,t)=>(await Jn.post(`/documents/${e}/generate-pdf`,{html_content:t})).data)(e,Om(t,n,s));function Im(e,t,n){const s=e.slice();return s.splice(n<0?s.length+n:n,0,s.splice(t,1)[0]),s}function Lm(e,t){return e.reduce((e,n,s)=>{const a=t.get(n);return a&&(e[s]=a),e},Array(e.length))}function Bm(e){return null!==e&&e>=0}const $m=e=>{let{rects:t,activeIndex:n,overIndex:s,index:a}=e;const r=Im(t,s,n),i=t[a],l=r[a];return l&&i?{x:l.left-i.left,y:l.top-i.top,scaleX:l.width/i.width,scaleY:l.height/i.height}:null},Wm={scaleX:1,scaleY:1},Hm=e=>{var t;let{activeIndex:n,activeNodeRect:s,index:a,rects:r,overIndex:i}=e;const l=null!=(t=r[n])?t:s;if(!l)return null;if(a===n){const e=r[i];return e?{x:0,y:n<i?e.top+e.height-(l.top+l.height):e.top-l.top,...Wm}:null}const o=function(e,t,n){const s=e[t],a=e[t-1],r=e[t+1];if(!s)return 0;if(n<t)return a?s.top-(a.top+a.height):r?r.top-(s.top+s.height):0;return r?r.top-(s.top+s.height):a?s.top-(a.top+a.height):0}(r,a,n);return a>n&&a<=i?{x:0,y:-l.height-o,...Wm}:a<n&&a>=i?{x:0,y:l.height+o,...Wm}:{x:0,y:0,...Wm}};const Um="Sortable",Vm=yt.createContext({activeIndex:-1,containerId:Um,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:$m,disabled:{draggable:!1,droppable:!1}});function qm(e){let{children:t,id:n,items:s,strategy:a=$m,disabled:r=!1}=e;const{active:i,dragOverlay:l,droppableRects:o,over:c,measureDroppableContainers:d}=Fh(),u=Ed(Um,n),h=Boolean(null!==l.rect),m=vt.useMemo(()=>s.map(e=>"object"==typeof e&&"id"in e?e.id:e),[s]),p=null!=i,f=i?m.indexOf(i.id):-1,x=c?m.indexOf(c.id):-1,g=vt.useRef(m),b=!function(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}(m,g.current),v=-1!==x&&-1===f||b,y=function(e){return"boolean"==typeof e?{draggable:e,droppable:e}:e}(r);kd(()=>{b&&p&&d(m)},[b,m,p,d]),vt.useEffect(()=>{g.current=m},[m]);const w=vt.useMemo(()=>({activeIndex:f,containerId:u,disabled:y,disableTransforms:v,items:m,overIndex:x,useDragOverlay:h,sortedRects:Lm(m,o),strategy:a}),[f,u,y.draggable,y.droppable,v,m,x,o,h,a]);return yt.createElement(Vm.Provider,{value:w},t)}const Ym=e=>{let{id:t,items:n,activeIndex:s,overIndex:a}=e;return Im(n,s,a).indexOf(t)},Gm=e=>{let{containerId:t,isSorting:n,wasDragging:s,index:a,items:r,newIndex:i,previousItems:l,previousContainerId:o,transition:c}=e;return!(!c||!s)&&((l===r||a!==i)&&(!!n||i!==a&&t===o))},Xm={duration:200,easing:"ease"},Qm="transform",Km=Fd.Transition.toString({property:Qm,duration:0,easing:"linear"}),Jm={roleDescription:"sortable"};function Zm(e){let{animateLayoutChanges:t=Gm,attributes:n,disabled:s,data:a,getNewIndex:r=Ym,id:i,strategy:l,resizeObserverConfig:o,transition:c=Xm}=e;const{items:d,containerId:u,activeIndex:h,disabled:m,disableTransforms:p,sortedRects:f,overIndex:x,useDragOverlay:g,strategy:b}=vt.useContext(Vm),v=function(e,t){var n,s;if("boolean"==typeof e)return{draggable:e,droppable:!1};return{draggable:null!=(n=null==e?void 0:e.draggable)?n:t.draggable,droppable:null!=(s=null==e?void 0:e.droppable)?s:t.droppable}}(s,m),y=d.indexOf(i),w=vt.useMemo(()=>({sortable:{containerId:u,index:y,items:d},...a}),[u,a,y,d]),j=vt.useMemo(()=>d.slice(d.indexOf(i)),[d,i]),{rect:N,node:k,isOver:S,setNodeRef:C}=Lh({id:i,data:w,disabled:v.droppable,resizeObserverConfig:{updateMeasurementsFor:j,...o}}),{active:_,activatorEvent:P,activeNodeRect:D,attributes:T,setNodeRef:E,listeners:z,isDragging:M,over:R,setActivatorNodeRef:A,transform:O}=Oh({id:i,data:w,attributes:{...Jm,...n},disabled:v.draggable}),F=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return vt.useMemo(()=>e=>{t.forEach(t=>t(e))},t)}(C,E),I=Boolean(_),L=I&&!p&&Bm(h)&&Bm(x),B=!g&&M,$=B&&L?O:null,W=L?null!=$?$:(null!=l?l:b)({rects:f,activeNodeRect:D,activeIndex:h,overIndex:x,index:y}):null,H=Bm(h)&&Bm(x)?r({id:i,items:d,activeIndex:h,overIndex:x}):y,U=null==_?void 0:_.id,V=vt.useRef({activeId:U,items:d,newIndex:H,containerId:u}),q=d!==V.current.items,Y=t({active:_,containerId:u,isDragging:M,isSorting:I,id:i,index:y,items:d,newIndex:V.current.newIndex,previousItems:V.current.items,previousContainerId:V.current.containerId,transition:c,wasDragging:null!=V.current.activeId}),G=function(e){let{disabled:t,index:n,node:s,rect:a}=e;const[r,i]=vt.useState(null),l=vt.useRef(n);return kd(()=>{if(!t&&n!==l.current&&s.current){const e=a.current;if(e){const t=hu(s.current,{ignoreTransform:!0}),n={x:e.left-t.left,y:e.top-t.top,scaleX:e.width/t.width,scaleY:e.height/t.height};(n.x||n.y)&&i(n)}}n!==l.current&&(l.current=n)},[t,n,s,a]),vt.useEffect(()=>{r&&i(null)},[r]),r}({disabled:!Y,index:y,node:k,rect:N});return vt.useEffect(()=>{I&&V.current.newIndex!==H&&(V.current.newIndex=H),u!==V.current.containerId&&(V.current.containerId=u),d!==V.current.items&&(V.current.items=d)},[I,H,u,d]),vt.useEffect(()=>{if(U===V.current.activeId)return;if(null!=U&&null==V.current.activeId)return void(V.current.activeId=U);const e=setTimeout(()=>{V.current.activeId=U},50);return()=>clearTimeout(e)},[U]),{active:_,activeIndex:h,attributes:T,data:w,rect:N,index:y,newIndex:H,items:d,isOver:S,isSorting:I,isDragging:M,listeners:z,node:k,overIndex:x,over:R,setNodeRef:F,setActivatorNodeRef:A,setDroppableNodeRef:C,setDraggableNodeRef:E,transform:null!=G?G:W,transition:function(){if(G||q&&V.current.newIndex===y)return Km;if(B&&!Ad(P)||!c)return;if(I||Y)return Fd.Transition.toString({...c,property:Qm});return}()}}Au.Down,Au.Right,Au.Up,Au.Left;const ep=[];for(let Og=0;Og<256;++Og)ep.push((Og+256).toString(16).slice(1));let tp;const np=new Uint8Array(16);const sp={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};function ap(e,t,n){const s=(e=e||{}).random??e.rng?.()??function(){if(!tp){if("undefined"==typeof crypto||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");tp=crypto.getRandomValues.bind(crypto)}return tp(np)}();if(s.length<16)throw new Error("Random bytes length must be >= 16");return s[6]=15&s[6]|64,s[8]=63&s[8]|128,function(e,t=0){return(ep[e[t+0]]+ep[e[t+1]]+ep[e[t+2]]+ep[e[t+3]]+"-"+ep[e[t+4]]+ep[e[t+5]]+"-"+ep[e[t+6]]+ep[e[t+7]]+"-"+ep[e[t+8]]+ep[e[t+9]]+"-"+ep[e[t+10]]+ep[e[t+11]]+ep[e[t+12]]+ep[e[t+13]]+ep[e[t+14]]+ep[e[t+15]]).toLowerCase()}(s)}function rp(e,t,n){return sp.randomUUID&&!e?sp.randomUUID():ap(e)}const ip="ADD_BLOCK",lp="UPDATE_BLOCK",op="REMOVE_BLOCK",cp="REORDER_BLOCKS",dp="SET_METADATA",up="ADD_VARIABLE",hp="UPDATE_VARIABLE",mp="LOAD_DOCUMENT",pp="SELECT_BLOCK",fp={metadata:{title:"Untitled Document",version:"1.0",theme:"default"},variables:{},blocks:[],selectedBlockId:null,history:{past:[],future:[]}};function xp(e,t){switch(t.type){case mp:return{...fp,...t.payload,history:fp.history};case ip:{const n={id:rp(),type:t.payload.type,data:t.payload.data||{}},s=[...e.blocks];return"number"==typeof t.payload.index?s.splice(t.payload.index,0,n):s.push(n),{...e,blocks:s,selectedBlockId:n.id}}case lp:{const n=e.blocks.map(e=>e.id===t.payload.id?{...e,data:{...e.data,...t.payload.data}}:e);return{...e,blocks:n}}case op:return{...e,blocks:e.blocks.filter(e=>e.id!==t.payload.id),selectedBlockId:e.selectedBlockId===t.payload.id?null:e.selectedBlockId};case cp:return{...e,blocks:t.payload.blocks};case dp:return{...e,metadata:{...e.metadata,...t.payload}};case up:return{...e,variables:{...e.variables,[t.payload.key]:t.payload.config}};case hp:return{...e,variables:{...e.variables,[t.payload.key]:{...e.variables[t.payload.key],...t.payload.config}}};case pp:return{...e,selectedBlockId:t.payload.id};default:return e}}const gp=(e=null)=>{const[t,n]=vt.useReducer(xp,e||fp);return{documentState:t,actions:{loadDocument:vt.useCallback(e=>n({type:mp,payload:e}),[]),addBlock:vt.useCallback((e,t={},s=null)=>n({type:ip,payload:{type:e,data:t,index:s}}),[]),updateBlock:vt.useCallback((e,t)=>n({type:lp,payload:{id:e,data:t}}),[]),removeBlock:vt.useCallback(e=>n({type:op,payload:{id:e}}),[]),reorderBlocks:vt.useCallback(e=>n({type:cp,payload:{blocks:e}}),[]),setMetadata:vt.useCallback(e=>n({type:dp,payload:e}),[]),addVariable:vt.useCallback((e,t)=>n({type:up,payload:{key:e,config:t}}),[]),updateVariable:vt.useCallback((e,t)=>n({type:hp,payload:{key:e,config:t}}),[]),selectBlock:vt.useCallback(e=>n({type:pp,payload:{id:e}}),[])}}},bp=({data:t,onChange:n})=>{const s=t.text||"";return e.jsx("div",{contentEditable:!0,suppressContentEditableWarning:!0,onBlur:e=>{n({text:e.target.innerText})},className:"outline-none text-base text-slate-700 leading-relaxed min-h-[24px] empty:before:content-[attr(placeholder)] empty:before:text-slate-300 relative",placeholder:"Type something...",children:s})},vp=({data:t,onChange:n})=>{const s=t.level||1,a=t.text||"",r=t.align||"left",i=`h${Math.min(s,3)}`;return e.jsx(i,{contentEditable:!0,suppressContentEditableWarning:!0,onBlur:e=>{n({text:e.target.innerText})},className:`\n                outline-none font-bold text-slate-900 leading-tight\n                ${1===s?"text-3xl mb-4 mt-6":""}\n                ${2===s?"text-2xl mb-3 mt-5":""}\n                ${3===s?"text-xl mb-2 mt-4":""}\n                text-${r}\n            `,style:{minHeight:"1.2em"},children:a})},yp=({data:t,onChange:n})=>{const s=t.src;return s?e.jsx("div",{className:"relative group",children:e.jsx("img",{src:s,alt:"Document Asset",className:"max-w-full rounded-lg"})}):e.jsxs("div",{className:"w-full h-32 bg-slate-50 border-2 border-dashed border-slate-200 rounded-lg flex flex-col items-center justify-center text-slate-400 cursor-pointer hover:bg-slate-100 hover:border-slate-300 transition-colors",children:[e.jsx(je,{size:24,className:"mb-2"}),e.jsx("span",{className:"text-sm",children:"Click to upload image"})]})},wp=({data:t,onChange:n})=>{const s=t.signee||"Client",a=!1!==t.required;return e.jsxs("div",{className:"my-4 p-4 border-2 border-dashed border-indigo-200 bg-indigo-50/50 rounded-lg flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-indigo-100 text-indigo-600 rounded-md",children:e.jsx(P,{size:20})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-semibold text-indigo-900",children:"Signature Required"}),e.jsxs("p",{className:"text-xs text-indigo-600",children:["Assignee: ",s]})]})]}),a&&e.jsx("span",{className:"text-xs font-bold text-red-500 bg-red-50 px-2 py-1 rounded",children:"REQUIRED"})]})},jp=({data:t,onChange:n,businessData:s})=>{const a=t.align||"left",r=t.width||150,i=t.src||(s?.logo?`undefined/storage/${s.logo}`:null),l={left:"justify-start",center:"justify-center",right:"justify-end"}[a];return e.jsx("div",{className:`flex w-full ${l} mb-6 mt-4 group`,children:i?e.jsx("img",{src:i,alt:"Business Logo",style:{width:`${r}px`},className:"object-contain"}):e.jsx("div",{className:"w-40 h-16 bg-slate-100 border-2 border-dashed border-slate-300 rounded flex items-center justify-center text-slate-400",children:e.jsx("span",{className:"text-xs font-semibold",children:"Business Logo"})})})},Np=({data:t,onChange:n,businessData:s})=>{const a={left:"text-left",center:"text-center",right:"text-right"}[t.align||"left"];return s?e.jsxs("div",{className:`w-full text-slate-600 text-sm leading-relaxed ${a} mb-4`,children:[e.jsx("p",{className:"font-bold text-slate-900",children:s.name}),s.address&&e.jsx("p",{children:s.address}),e.jsx("p",{children:[s.city,s.state,s.zip,s.country].filter(Boolean).join(", ")}),s.phone&&e.jsxs("p",{children:["Tel: ",s.phone]}),s.email&&e.jsxs("p",{children:["Email: ",s.email]}),s.tax_label&&s.tax_percentage&&e.jsxs("p",{className:"mt-1 text-xs text-slate-500 font-medium",children:[s.tax_label,": ",s.tax_percentage,"%"]})]}):e.jsxs("div",{className:"w-full p-2 border border-dashed border-amber-200 bg-amber-50 text-amber-600 text-xs rounded flex items-center gap-2",children:[e.jsx(N,{size:14}),e.jsx("span",{children:"Business Info (Loading...)"})]})},kp=({block:t,actions:n,businessData:s,isSelected:a,onSelect:r})=>{const{attributes:i,listeners:l,setNodeRef:o,transform:c,transition:d,isDragging:u}=Zm({id:t.id}),h={transform:Fd.Transform.toString(c),transition:d,opacity:u?.5:1};return e.jsxs("div",{ref:o,style:h,className:"group relative flex items-start -ml-12 mb-2",children:[e.jsxs("div",{className:"w-10 h-full flex flex-col items-center pt-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[e.jsx("button",{...i,...l,className:"p-1 text-slate-400 hover:text-slate-600 cursor-grab active:cursor-grabbing hover:bg-slate-100 rounded",children:e.jsx(ee,{size:16})}),e.jsx("button",{onClick:()=>n.removeBlock(t.id),className:"p-1 mt-1 text-slate-400 hover:text-red-500 hover:bg-red-50 rounded",children:e.jsx(te,{size:16})})]}),e.jsx("div",{className:"flex-1 min-h-[40px] border rounded-md transition-colors cursor-pointer "+(a?"border-2 border-indigo-500 ring-2 ring-indigo-50/50":"border-transparent group-hover:border-slate-100"),onClick:e=>{e.stopPropagation(),r(t.id)},children:(()=>{switch(t.type){case"HEADING":return e.jsx(vp,{data:t.data,onChange:e=>n.updateBlock(t.id,e)});case"TEXT":return e.jsx(bp,{data:t.data,onChange:e=>n.updateBlock(t.id,e)});case"IMAGE":return e.jsx(yp,{data:t.data,onChange:e=>n.updateBlock(t.id,e)});case"SIGNATURE":return e.jsx(wp,{data:t.data,onChange:e=>n.updateBlock(t.id,e)});case"LOGO":return e.jsx(jp,{data:t.data,onChange:e=>n.updateBlock(t.id,e),businessData:s});case"BUSINESS_INFO":return e.jsx(Np,{data:t.data,onChange:e=>n.updateBlock(t.id,e),businessData:s});default:return e.jsxs("div",{className:"p-4 text-red-500",children:["Unknown Block Type: ",t.type]})}})()})]})},Sp=({blocks:t,actions:n,readOnly:s,businessData:a,selectedBlockId:r,onSelectBlock:i})=>e.jsxs("div",{className:"w-full max-w-[850px] min-h-[1100px] bg-white shadow-sm border border-slate-200 lg:scale-[1] origin-top p-12 lg:p-16",id:"document-canvas",children:[0===t.length&&e.jsxs("div",{className:"text-center py-20 text-slate-400 border-2 border-dashed border-slate-200 rounded-lg",children:[e.jsx("p",{className:"mb-2 font-medium",children:"Empty Document"}),e.jsx("p",{className:"text-sm",children:"Drag blocks from the sidebar to start building."})]}),e.jsx(qm,{items:t.map(e=>e.id),strategy:Hm,children:t.map(t=>e.jsx(kp,{block:t,actions:n,businessData:a,isSelected:r===t.id,onSelect:i},t.id))})]}),Cp=({type:t,icon:n,label:s})=>{const{attributes:a,listeners:r,setNodeRef:i,isDragging:l}=Oh({id:`tool-${t}`,data:{type:"TOOL",toolType:t}});return e.jsxs("button",{ref:i,...r,...a,className:"w-full flex items-center gap-3 p-3 rounded-lg hover:bg-slate-50 border border-transparent hover:border-slate-200 transition-all cursor-grab active:cursor-grabbing text-left "+(l?"opacity-50":""),children:[e.jsx("div",{className:"p-2 bg-indigo-50 text-indigo-600 rounded-md",children:e.jsx(n,{size:20})}),e.jsx("span",{className:"text-sm font-medium text-slate-700",children:s})]})},_p=()=>e.jsxs("div",{className:"flex-1 overflow-y-auto p-4",children:[e.jsx("h3",{className:"text-xs font-semibold text-slate-400 uppercase tracking-wider mb-4",children:"Content Blocks"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Cp,{type:"HEADING",icon:Ne,label:"Heading"}),e.jsx(Cp,{type:"TEXT",icon:ie,label:"Text Paragraph"}),e.jsx(Cp,{type:"IMAGE",icon:je,label:"Image"}),e.jsx(Cp,{type:"LOGO",icon:ke,label:"Smart Logo"})," ",e.jsx(Cp,{type:"BUSINESS_INFO",icon:N,label:"Business Details"})," ",e.jsx(Cp,{type:"SIGNATURE",icon:P,label:"Signature Field"})]}),e.jsx("div",{className:"h-px bg-slate-100 my-6"}),e.jsx("h3",{className:"text-xs font-semibold text-slate-400 uppercase tracking-wider mb-4",children:"Layout"}),e.jsx("div",{className:"space-y-2",children:e.jsx("div",{className:"opacity-50 pointer-events-none",title:"Coming Soon",children:e.jsx(Cp,{type:"COLUMNS",icon:Se,label:"Columns (Soon)"})})})]}),Pp=({value:t,onChange:n})=>e.jsx("div",{className:"flex bg-slate-100 rounded-lg p-1 gap-1",children:["left","center","right"].map(s=>e.jsxs("button",{onClick:()=>n(s),className:"flex-1 p-1 rounded-md flex justify-center transition-all "+(t===s?"bg-white shadow text-indigo-600":"text-slate-400 hover:text-slate-600"),children:["left"===s&&e.jsx(se,{size:16}),"center"===s&&e.jsx(ae,{size:16}),"right"===s&&e.jsx(re,{size:16})]},s))}),Dp=({selectedBlock:t,updateBlock:n,removeBlock:s})=>{if(!t)return e.jsxs("div",{className:"h-full flex flex-col items-center justify-center p-6 text-center text-slate-400",children:[e.jsx("div",{className:"w-16 h-16 bg-slate-50 rounded-full flex items-center justify-center mb-4",children:e.jsx(Tp,{size:24})}),e.jsx("p",{className:"font-semibold text-slate-600 mb-1",children:"No Block Selected"}),e.jsx("p",{className:"text-xs",children:"Click on any element in the document canvas to customize its properties."})]});const{type:a,data:r,id:i}=t,l=(e,t)=>{n(i,{[e]:t})};return e.jsxs("div",{className:"h-full flex flex-col bg-white",children:[e.jsxs("div",{className:"p-4 border-b border-slate-200 flex items-center justify-between bg-slate-50",children:[e.jsx("span",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider",children:a.replace("_"," ")}),e.jsx("button",{onClick:()=>s(i),className:"text-red-400 hover:text-red-600 p-1 hover:bg-red-50 rounded",children:e.jsx(te,{size:16})})]}),e.jsxs("div",{className:"p-5 flex-1 overflow-y-auto form-control-group",children:[["HEADING","LOGO","BUSINESS_INFO","IMAGE"].includes(a)&&e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"text-xs font-semibold text-slate-600 mb-2 block",children:"Alignment"}),e.jsx(Pp,{value:r.align||"left",onChange:e=>l("align",e)})]}),"HEADING"===a&&e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"text-xs font-semibold text-slate-600 mb-2 block",children:"Heading Level"}),e.jsx("div",{className:"flex gap-2",children:[1,2,3].map(t=>e.jsxs("button",{onClick:()=>l("level",t),className:"flex-1 py-2 border rounded text-sm font-bold "+(r.level===t?"border-indigo-500 bg-indigo-50 text-indigo-700":"border-slate-200 text-slate-500 hover:border-slate-300"),children:["H",t]},t))})]}),"LOGO"===a&&e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"text-xs font-semibold text-slate-600 mb-2 block",children:"Size (Width)"}),e.jsx("input",{type:"range",min:"50",max:"500",value:r.width||150,onChange:e=>l("width",parseInt(e.target.value)),className:"w-full accent-indigo-600"}),e.jsxs("div",{className:"flex justify-between text-xs text-slate-400 mt-1",children:[e.jsx("span",{children:"Small"}),e.jsxs("span",{children:[r.width||150,"px"]}),e.jsx("span",{children:"Large"})]})]}),"SIGNATURE"===a&&e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"text-xs font-semibold text-slate-600 mb-2 block",children:"Signee"}),e.jsxs("select",{value:r.signee||"client",onChange:e=>l("signee",e.target.value),className:"w-full text-sm border-slate-300 rounded-md focus:ring-indigo-500 focus:border-indigo-500",children:[e.jsx("option",{value:"client",children:"Client"}),e.jsx("option",{value:"me",children:"Me (Provider)"})]}),e.jsxs("div",{className:"mt-4 flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",checked:!1!==r.required,onChange:e=>l("required",e.target.checked),className:"rounded text-indigo-600 focus:ring-indigo-500"}),e.jsx("span",{className:"text-sm text-slate-700",children:"Required Field"})]})]})]})]})},Tp=({size:t})=>e.jsxs("svg",{width:t,height:t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.1a2 2 0 0 1-1-1.72v-.51a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z"}),e.jsx("circle",{cx:"12",cy:"12",r:"3"})]}),Ep=({variables:t,onAdd:n})=>{const[s,a]=vt.useState(!1),[r,i]=vt.useState(""),[l,o]=vt.useState("");return e.jsxs("div",{className:"h-1/3 min-h-[250px] border-t border-slate-200 flex flex-col bg-slate-50",children:[e.jsxs("div",{className:"p-4 border-b border-slate-200 flex items-center justify-between bg-white",children:[e.jsxs("div",{className:"flex items-center gap-2 text-slate-700",children:[e.jsx(Ce,{size:16}),e.jsx("span",{className:"font-semibold text-sm",children:"Variables"})]}),e.jsx("button",{onClick:()=>a(!s),className:"p-1 hover:bg-slate-100 rounded text-indigo-600",children:e.jsx(ne,{size:16})})]}),e.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-3",children:[s&&e.jsxs("div",{className:"text-sm bg-white p-3 rounded-lg border border-indigo-100 shadow-sm",children:[e.jsx("input",{className:"w-full mb-2 p-1 border-b border-slate-200 text-xs focus:outline-none focus:border-indigo-500",placeholder:"Key (e.g. client_name)",value:r,onChange:e=>i(e.target.value),autoFocus:!0}),e.jsx("input",{className:"w-full mb-3 p-1 border-b border-slate-200 text-xs focus:outline-none focus:border-indigo-500",placeholder:"Default Value",value:l,onChange:e=>o(e.target.value)}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>{if(!r)return;const e=r.replace(/[^a-zA-Z0-9_]/g,"");n(e,{type:"text",value:l,label:e}),i(""),o(""),a(!1)},className:"flex-1 py-1 bg-indigo-600 text-white text-xs rounded",children:"Add"}),e.jsx("button",{onClick:()=>a(!1),className:"flex-1 py-1 bg-slate-100 text-slate-600 text-xs rounded",children:"Cancel"})]})]}),0===Object.entries(t).length&&!s&&e.jsx("p",{className:"text-xs text-slate-400 italic text-center py-4",children:"No variables defined."}),Object.entries(t).map(([t,n])=>e.jsxs("div",{className:"bg-white p-2 rounded border border-slate-200 text-sm group",children:[e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsx("span",{className:"font-mono text-xs font-bold text-indigo-600 px-1 bg-indigo-50 rounded",children:`{{${t}}}`}),e.jsx("span",{className:"text-[10px] text-slate-400 capitalize",children:n.type})]}),e.jsx("p",{className:"text-slate-600 truncate text-xs pl-1",children:n.value})]},t))]})]})},zp=()=>{const{id:t}=Ct(),n=kt(),{documentState:s,actions:a}=gp(),[r,i]=yt.useState("edit"),[l,o]=yt.useState(!1),[c,d]=yt.useState(null);vt.useEffect(()=>{(async()=>{try{const n=await pd();if(d(n),t){const n=await om(t);let s=n.data.content;if("string"==typeof s)try{s=JSON.parse(s)}catch(e){}s&&s.blocks?(a.loadDocument({blocks:s.blocks,variables:s.variables||{},metadata:s.metadata||{title:n.data.name},history:{past:[],future:[]}}),a.setMetadata({title:n.data.name})):a.setMetadata({title:n.data.name})}else s.variables&&0===Object.keys(s.variables).length&&(a.addVariable("client_name",{value:"",type:"text",label:"Client Name"}),a.addVariable("date",{value:(new Date).toLocaleDateString(),type:"date",label:"Date"}))}catch(n){At.error("Failed to load document")}})()},[t]);const u=Kd(Qd(qu,{activationConstraint:{distance:8}}));return e.jsx(Mh,{sensors:u,collisionDetection:au,onDragEnd:e=>{const{active:t,over:n}=e;if(n)if("TOOL"!==t.data.current?.type){if(t.id!==n.id){const e=s.blocks.findIndex(e=>e.id===t.id),r=s.blocks.findIndex(e=>e.id===n.id),i=Im(s.blocks,e,r);a.reorderBlocks(i)}}else a.addBlock(t.data.current.toolType)},children:e.jsxs("div",{className:"flex flex-col h-screen bg-slate-50 overflow-hidden",children:[e.jsxs("header",{className:"h-16 bg-white border-b border-slate-200 px-6 flex items-center justify-between z-30 flex-shrink-0",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("button",{onClick:()=>n("/documents"),className:"p-2 hover:bg-slate-100 rounded-full text-slate-500",children:e.jsx(F,{size:20})}),e.jsx("input",{type:"text",value:s.metadata.title,onChange:e=>a.setMetadata({title:e.target.value}),className:"text-lg font-bold text-slate-800 border-none focus:ring-0 bg-transparent p-0 placeholder-slate-400 focus:outline-none",placeholder:"Untitled Document"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 text-slate-600 font-medium hover:bg-slate-100 rounded-lg",children:[e.jsx(xe,{size:18})," Preview"]}),e.jsxs("button",{onClick:async()=>{if(t){o(!0);try{const e={blocks:s.blocks,variables:s.variables,metadata:s.metadata},n={name:s.metadata.title,content:JSON.stringify(e)};await dm(t,n),At.success("Document saved successfully")}catch(e){At.error("Failed to save changes")}finally{o(!1)}}},disabled:l,className:"flex items-center gap-2 px-4 py-2 bg-indigo-600 text-white font-medium rounded-lg hover:bg-indigo-700 shadow-sm disabled:opacity-50",children:[l?e.jsx(y,{className:"animate-spin",size:18}):e.jsx(_e,{size:18}),l?"Saving...":"Save"]})]})]}),e.jsxs("div",{className:"flex flex-1 overflow-hidden",children:[e.jsxs("div",{className:"w-[300px] bg-white border-r border-slate-200 flex flex-col z-20",children:[e.jsx(_p,{}),e.jsx("div",{className:"h-px bg-slate-200 my-2"}),e.jsx(Ep,{variables:s.variables,onAdd:a.addVariable})]}),e.jsx("div",{className:"flex-1 bg-slate-100 overflow-y-auto p-8 flex justify-center",children:e.jsx(Sp,{blocks:s.blocks,actions:a,readOnly:!1,businessData:c,selectedBlockId:s.selectedBlockId,onSelectBlock:a.selectBlock})}),e.jsx("div",{className:"w-[280px] bg-white border-l border-slate-200 z-20",children:e.jsx(Dp,{selectedBlock:s.blocks.find(e=>e.id===s.selectedBlockId),updateBlock:a.updateBlock,removeBlock:a.removeBlock})})]})]})})},Mp=()=>e.jsx(zp,{}),Rp=()=>{const n=kt(),{id:s}=Ct(),a=dd("(min-width: 1024px)"),[r,i]=vt.useState("edit"),[o,c]=vt.useState(1),[d,u]=vt.useState(!1),[h,m]=vt.useState(!1),[p,f]=vt.useState(!1),[x,g]=vt.useState(!1),[w,j]=vt.useState(!1),[N,k]=vt.useState(null),[S,C]=vt.useState(null),[_,P]=vt.useState(null),[D,T]=vt.useState(null),{formData:E,docContent:z,signatures:M,documentName:R,setDocumentName:A,sentAt:O,setSentAt:I,isLoading:L,isSaving:B,handleFormChange:W,handleContentChange:H,addSection:U,removeSection:V,updateSection:q,reorderSections:Y,addSignature:G,updateSignature:X,removeSignature:Q,saveDocument:K,enterPreviewMode:J,exitPreviewMode:ee,restoreVersion:te,styles:ne,updateStyle:se,resetStyles:ae,isNewEngine:re}=Am(s);if(re)return e.jsx(Mp,{});const[ie,le]=vt.useState({isOpen:!1,data:null}),oe=yt.useDeferredValue(E),ce=yt.useDeferredValue(z),de=Kd(Qd(qu,{activationConstraint:{distance:8}}),Qd(Ju,{activationConstraint:{delay:250,tolerance:5}})),ue=yt.useRef(null),he=async e=>{try{if(e&&e.includes("/storage/")){const t=`http://localhost:8000/api/v1/file-proxy?path=${encodeURIComponent(e)}`,n=await fetch(t),s=await n.blob();return new Promise((e,t)=>{const n=new FileReader;n.onloadend=()=>e(n.result),n.onerror=t,n.readAsDataURL(s)})}const t=await fetch(e),n=await t.blob();return new Promise((e,t)=>{const s=new FileReader;s.onloadend=()=>e(s.result),s.onerror=t,s.readAsDataURL(n)})}catch(t){return null}};yt.useEffect(()=>{(async()=>{try{const e=await pd();e&&e.logo&&T(e.logo)}catch(e){}})()},[]);const me=async()=>{try{await K(n)}catch(e){}},[pe,fe]=vt.useState(null),be=async()=>{if(s){f(!0);try{let t=D;if(D&&!D.startsWith("data:")){const e=await he(D);e&&(t=e)}const n=renderToStaticMarkup(e.jsx(lm,{data:E,content:z,zoom:1,printing:!0,styles:ne,signatures:M,businessLogo:t})),a=await Fm(s,n,R);a.url&&window.open(a.url,"_blank")}catch(t){At.error("Failed to generate PDF. Please try again.")}finally{f(!1)}}else At.error("Please save the document before printing.")},ve=async()=>{if(s){g(!0),g(!0);try{let e=D;if(D&&!D.startsWith("data:")){const t=await he(D);t&&(e=t)}const t=Em(E,z,R,M,e),n=await Fm(s,t,R);if(n.url){const e=document.createElement("a");e.href=n.url,e.download=`${R.replace(/[^a-z0-9]/gi,"_").toLowerCase()}.pdf`,document.body.appendChild(e),e.click(),document.body.removeChild(e),At.success("Document exported successfully")}}catch(e){At.error("Failed to export document")}finally{g(!1)}}else At.error("Please save the document before exporting.")},ye=()=>{s?j(!0):At.error("Please save the document before sending.")};return L?e.jsx("div",{className:"flex h-screen items-center justify-center bg-slate-50",children:e.jsxs("div",{className:"text-center",children:[e.jsx(y,{size:40,className:"animate-spin text-indigo-600 mx-auto mb-4"}),e.jsx("p",{className:"text-slate-500 font-medium",children:"Loading Document..."})]})}):e.jsx(Mh,{sensors:de,onDragStart:e=>{fe(e.active)},onDragEnd:e=>{const{active:t,over:n}=e;if(fe(null),n&&"document-canvas"===n.id){const e=document.getElementById("printable-document");if(e&&t.rect.current.translated){const n=e.getBoundingClientRect(),s=(t.rect.current.translated.left-n.left)/o,a=(t.rect.current.translated.top-n.top)/o;if("toolbar-item"===t.data.current?.type)le({isOpen:!0,data:{id:null,position:{x:s,y:a},type:"all",required:!0,order:M.length+1}});else if("signature-field"===t.data.current?.type){const e=t.id;X(e,{position:{x:s,y:a}})}}}},children:e.jsxs("div",{className:"flex flex-col h-screen bg-slate-100 overflow-hidden",children:[e.jsx(gm,{isOpen:ie.isOpen,onClose:()=>le({isOpen:!1,data:null}),onSave:e=>{if(e.id)X(e.id,{metadata:{signeeName:e.signeeName,signeeEmail:e.signeeEmail,type:e.type,required:e.required,order:e.order}});else{const t={id:zm(),position:ie.data.position,metadata:{signeeName:e.signeeName,signeeEmail:e.signeeEmail,type:e.type,required:e.required,order:e.order}};G(t)}},initialData:ie.data,parties:{disclosingPartyName:E.disclosingPartyName,receivingPartyName:E.receivingPartyName,disclosingSignatoryName:E.disclosingSignatoryName,receivingSignatoryName:E.receivingSignatoryName}}),e.jsx(Xh,{dropAnimation:{sideEffects:({active:e})=>(document.body.style.cursor="grabbing",()=>{document.body.style.cursor=""})},children:pe?"toolbar-item"===pe.data.current?.type?e.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-lg border border-indigo-500 bg-white shadow-xl opacity-90 cursor-grabbing ring-2 ring-indigo-500/20 w-48",children:[e.jsx("div",{className:"p-2 rounded-md bg-indigo-100 text-indigo-600",children:e.jsx("div",{className:"w-5 h-5 flex items-center justify-center font-bold",children:"+"})}),e.jsx("span",{className:"text-sm font-medium text-slate-900",children:"Placing Field..."})]}):"signature-field"===pe.data.current?.type?e.jsxs("div",{className:"w-64 bg-white/95 backdrop-blur-sm border-2 border-indigo-500 rounded-lg shadow-2xl p-3 flex flex-col cursor-grabbing",children:[e.jsx("div",{className:"flex items-center gap-2 text-indigo-700 font-semibold border-b pb-2 mb-2",children:e.jsx("span",{children:pe.data.current.signeeName||"Signature"})}),e.jsx("div",{className:"h-10 flex items-center justify-center text-indigo-200",children:"Sign Here"})]}):null:null}),N&&e.jsxs("div",{className:"bg-amber-100 border-b border-amber-200 px-4 py-2 flex items-center justify-between text-amber-800 text-sm",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(xe,{size:16}),e.jsxs("span",{className:"font-medium",children:["Previewing Version ",N.version_number]}),e.jsxs("span",{className:"text-amber-600 hidden md:inline",children:["(",new Date(N.created_at).toLocaleString(),")"]})]}),e.jsxs("button",{onClick:()=>{ee(),k(null),At.success("Exited preview mode")},className:"text-amber-700 hover:text-amber-900 font-medium hover:underline flex items-center gap-1",children:[e.jsx(t,{size:14})," Exit Preview"]})]}),e.jsx(xm,{isOpen:w,onClose:()=>j(!1),documentId:s,documentName:R,isReminder:!!O,onSuccess:e=>{e&&e.sent_at&&I(e.sent_at)},getHtmlContent:async()=>{let e=D;if(D&&!D.startsWith("data:")){const t=await he(D);t&&(e=t)}return Em(E,z,R,M,e)},signatures:M}),e.jsxs("header",{className:"no-print h-14 md:h-16 bg-white/80 backdrop-blur-md border-b border-slate-200/60 px-4 md:px-6 flex items-center justify-between flex-shrink-0 z-30 shadow-sm relative transition-all duration-300",children:[e.jsxs("div",{className:"flex items-center gap-2 md:gap-4",children:[e.jsx("button",{onClick:()=>n("/documents"),className:"p-2 hover:bg-slate-100 rounded-full text-slate-500 transition-colors flex-shrink-0",title:"Back to Documents",children:e.jsx(F,{size:20})}),e.jsxs("div",{className:"min-w-0 relative group/input",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("div",{className:"relative",children:[e.jsx("input",{ref:ue,type:"text",value:R,onChange:e=>{A(e.target.value),S&&C(null)},className:"font-bold text-sm md:text-lg bg-transparent border-b-2 focus:ring-0 p-0 m-0 w-auto min-w-[150px] max-w-[300px] placeholder-slate-400 truncate transition-colors "+(S?"border-red-500 text-slate-800 ring-4 ring-red-500/10 rounded-sm px-1 -mx-1":"border-transparent hover:border-slate-200 text-slate-800"),placeholder:"Enter Document Name"}),S&&e.jsxs("div",{className:"absolute top-full left-0 mt-2 w-64 bg-white rounded-lg shadow-xl border border-red-100 z-50 p-3 animate-in fade-in slide-in-from-top-2",children:[e.jsxs("div",{className:"flex items-start gap-2 text-red-600 mb-2",children:[e.jsx(b,{size:16,className:"mt-0.5 flex-shrink-0"}),e.jsx("p",{className:"text-xs font-semibold leading-tight",children:S})]}),_&&e.jsxs("div",{className:"bg-slate-50 rounded p-2 border border-slate-100",children:[e.jsx("p",{className:"text-[10px] text-slate-500 mb-1 uppercase tracking-wide font-bold",children:"Suggestion:"}),e.jsx("button",{onClick:()=>{A(_),C(null),P(null)},className:"w-full text-left text-sm font-bold text-indigo-600 hover:text-indigo-700 hover:underline truncate",title:"Click to use this name",children:_})]})]})]}),e.jsx("button",{onClick:()=>{const e=E.receivingPartyName?.trim();e?(A(`NDA - ${e}`),C(null),P(null),At.success("Generated smart name!")):At.error("Enter 'Receiving Party Name' in the form first.")},className:"p-1.5 text-slate-400 hover:text-indigo-600 hover:bg-indigo-50 rounded-md transition-colors",title:"Auto-generate name from Form Data",children:e.jsx(Pe,{size:16})}),O&&e.jsxs("span",{className:"hidden lg:inline-flex items-center gap-1 px-2 py-0.5 rounded-full bg-emerald-50 text-emerald-600 text-[10px] font-medium border border-emerald-100",children:[e.jsx(we,{size:10})," Sent"]})]}),e.jsx("p",{className:"text-[10px] md:text-xs text-slate-400 font-medium whitespace-nowrap hidden sm:block mt-0.5",children:s?"Autosaved locally":"Draft"})]})]}),e.jsxs("div",{className:"flex items-center gap-2 md:gap-3",children:[e.jsxs("div",{className:"hidden lg:flex items-center bg-slate-100 rounded-lg p-1 mr-4",children:[e.jsx("button",{onClick:()=>c(e=>Math.max(e-.1,.5)),className:"p-1.5 hover:bg-white hover:shadow-sm rounded-md text-slate-500 transition-all",children:e.jsx(De,{size:16})}),e.jsxs("span",{className:"text-xs font-semibold text-slate-600 w-12 text-center",children:[Math.round(100*o),"%"]}),e.jsx("button",{onClick:()=>c(e=>Math.min(e+.1,1.5)),className:"p-1.5 hover:bg-white hover:shadow-sm rounded-md text-slate-500 transition-all",children:e.jsx(Te,{size:16})})]}),e.jsxs("button",{onClick:()=>u(!0),className:"hidden lg:flex items-center gap-2 px-4 py-2 text-slate-600 text-sm font-medium hover:bg-slate-50 rounded-lg border border-transparent hover:border-slate-200 transition-all",title:"Version History",children:[e.jsx($,{size:18}),e.jsx("span",{children:"History"})]}),e.jsxs("button",{onClick:be,disabled:p,className:"hidden lg:flex items-center gap-2 px-4 py-2 text-slate-600 text-sm font-medium hover:bg-slate-50 rounded-lg border border-transparent hover:border-slate-200 transition-all disabled:opacity-50",children:[p?e.jsx(y,{size:18,className:"animate-spin"}):e.jsx(Ee,{size:18}),e.jsx("span",{children:p?"Generating...":"Print"})]}),e.jsxs("button",{onClick:ye,className:"hidden lg:flex items-center gap-2 px-4 py-2 text-sm font-medium rounded-lg border border-transparent transition-all "+(O?"text-amber-600 hover:bg-amber-50 hover:border-amber-200":"text-slate-600 hover:bg-slate-50 hover:border-slate-200"),children:[O?e.jsx(Z,{size:18}):e.jsx(v,{size:18}),e.jsx("span",{children:O?"Remind":"Send"})]}),e.jsxs("button",{onClick:ve,disabled:x,className:"hidden lg:flex items-center gap-2 px-4 py-2 text-slate-600 text-sm font-medium hover:bg-slate-50 rounded-lg border border-transparent hover:border-slate-200 transition-all disabled:opacity-50",children:[x?e.jsx(y,{size:18,className:"animate-spin"}):e.jsx(ge,{size:18}),e.jsx("span",{children:x?"Exporting...":"Export"})]}),e.jsxs("button",{onClick:me,className:"hidden lg:flex items-center gap-2 px-5 py-2 rounded-lg text-white font-medium shadow-md transition-all "+(B?"bg-emerald-500":"bg-indigo-600 hover:bg-indigo-700"),children:[B?e.jsx(we,{size:18}):e.jsx(_e,{size:18}),e.jsx("span",{children:B?"Saved!":"Save"})]})]})]}),e.jsxs("div",{className:"flex flex-col lg:flex-row flex-1 overflow-hidden relative pb-[70px] lg:pb-0",children:[e.jsx("div",{className:`\n                        no-print w-full lg:w-[400px] h-full bg-white border-b lg:border-b-0 lg:border-r border-slate-200 \n                        overflow-y-auto z-20 shadow-sm flex-shrink-0 lg:order-1\n                        ${a||"edit"===r?"block":"hidden"}\n                    `,children:e.jsx(sm,{formData:E,onChange:W,docContent:z,onContentChange:H,addSection:U,removeSection:V,updateSection:q,reorderSections:Y,styles:ne,onStyleUpdate:se,onStyleReset:ae})}),e.jsxs("div",{className:`\n                        flex-1 h-full overflow-y-auto bg-slate-50/50 p-4 md:p-8 sm:p-12 \n                        flex justify-center items-start scrollbar-thin scrollbar-thumb-slate-300 lg:order-2\n                        ${a||"preview"===r?"flex":"hidden"}\n                    `,style:{backgroundImage:"radial-gradient(#cbd5e1 1px, transparent 1px)",backgroundSize:"20px 20px"},children:[e.jsx(lm,{data:oe,content:ce,zoom:o,signatures:M,onUpdateSignature:X,onRemoveSignature:Q,onEditSignature:e=>{le({isOpen:!0,data:{id:e.id,...e.metadata}})},businessLogo:D,styles:ne}),!a&&"preview"===r&&e.jsx("button",{onClick:()=>{le({isOpen:!0,data:{id:null,position:{x:50,y:100},type:"all",required:!0,order:M.length+1}})},className:"fixed bottom-24 right-6 w-14 h-14 bg-indigo-600 text-white rounded-full shadow-lg shadow-indigo-600/30 flex items-center justify-center hover:bg-indigo-700 transition-transform active:scale-95 z-30",title:"Add Signature",children:e.jsx("span",{className:"text-2xl font-bold",children:"+"})})]})]}),e.jsx(fm,{documentId:s,isOpen:d,onClose:()=>u(!1),onPreview:e=>{J(e),k(e),u(!1),At.success(`Previewing Version ${e.version_number}`)},onDownload:async e=>{const t=At.loading("Preparing version PDF...");try{let a=e.content;if("string"==typeof a)try{a=JSON.parse(a)}catch(n){}const r=a.formData||E,i=a.docContent||z;let l=D;if(D&&!D.startsWith("data:")){const e=await he(D);e&&(l=e)}const o=Em(r,i,`${R} - v${e.version_number}`,[],l),c=await Fm(s,o,`${R} - v${e.version_number}`);if(c.url){const n=document.createElement("a");n.href=c.url,n.download=`${R.replace(/[^a-z0-9]/gi,"_")}_v${e.version_number}.pdf`,document.body.appendChild(n),n.click(),document.body.removeChild(n),At.success(`Version ${e.version_number} downloaded`,{id:t})}}catch(a){At.error("Failed to download version PDF",{id:t})}},onRestore:e=>{te(e),k(null)}}),!a&&e.jsxs("div",{className:"fixed bottom-0 left-0 right-0 bg-white border-t border-slate-200 flex justify-between items-center px-6 py-3 pb-safe z-40 safe-area-bottom",children:[e.jsxs("button",{onClick:()=>i("edit"),className:"flex flex-col items-center gap-1 "+("edit"===r?"text-indigo-600":"text-slate-400"),children:[e.jsx(l,{size:24,strokeWidth:"edit"===r?2.5:2}),e.jsx("span",{className:"text-[10px] font-medium",children:"Editor"})]}),e.jsxs("button",{onClick:()=>i("preview"),className:"flex flex-col items-center gap-1 "+("preview"===r?"text-indigo-600":"text-slate-400"),children:[e.jsx(xe,{size:24,strokeWidth:"preview"===r?2.5:2}),e.jsx("span",{className:"text-[10px] font-medium",children:"Preview"})]}),e.jsxs("button",{onClick:me,className:"flex flex-col items-center gap-1 "+(B?"text-emerald-500":"text-slate-400 transition-colors active:text-indigo-600"),children:[B?e.jsx(we,{size:24,strokeWidth:2.5}):e.jsx(_e,{size:24}),e.jsx("span",{className:"text-[10px] font-medium",children:B?"Saved":"Save"})]}),e.jsxs("button",{onClick:()=>m(!0),className:"flex flex-col items-center gap-1 "+(h?"text-indigo-600":"text-slate-400"),children:[e.jsx(ze,{size:24}),e.jsx("span",{className:"text-[10px] font-medium",children:"More"})]})]}),!a&&h&&e.jsxs("div",{className:"fixed inset-0 z-50 flex flex-col justify-end",children:[e.jsx("div",{className:"absolute inset-0 bg-slate-900/40 backdrop-blur-sm animate-in fade-in",onClick:()=>m(!1)}),e.jsxs("div",{className:"relative bg-white rounded-t-2xl p-6 pb-safe animate-in slide-in-from-bottom shadow-2xl space-y-2",children:[e.jsx("div",{className:"w-12 h-1.5 bg-slate-200 rounded-full mx-auto mb-6"}),e.jsx("h3",{className:"text-sm font-semibold text-slate-400 uppercase tracking-wider mb-2 px-2",children:"Actions"}),e.jsxs("button",{onClick:()=>{m(!1),u(!0)},className:"w-full flex items-center gap-3 p-3 text-slate-700 font-medium hover:bg-slate-50 rounded-xl transition-colors",children:[e.jsx("div",{className:"p-2 bg-indigo-50 text-indigo-600 rounded-lg",children:e.jsx($,{size:20})}),"Version History"]}),e.jsxs("button",{onClick:()=>{m(!1),ye()},className:"w-full flex items-center gap-3 p-3 text-slate-700 font-medium hover:bg-slate-50 rounded-xl transition-colors",children:[e.jsx("div",{className:"p-2 bg-amber-50 text-amber-600 rounded-lg",children:O?e.jsx(Z,{size:20}):e.jsx(v,{size:20})}),O?"Send Reminder":"Send to Client"]}),e.jsxs("button",{onClick:()=>{m(!1),be()},disabled:p,className:"w-full flex items-center gap-3 p-3 text-slate-700 font-medium hover:bg-slate-50 rounded-xl transition-colors disabled:opacity-50",children:[e.jsx("div",{className:"p-2 bg-sky-50 text-sky-600 rounded-lg",children:p?e.jsx(y,{size:20,className:"animate-spin"}):e.jsx(Ee,{size:20})}),p?"Generating PDF...":"Print / Download PDF"]}),e.jsxs("button",{onClick:()=>{m(!1),ve()},disabled:x,className:"w-full flex items-center gap-3 p-3 text-slate-700 font-medium hover:bg-slate-50 rounded-xl transition-colors disabled:opacity-50",children:[e.jsx("div",{className:"p-2 bg-emerald-50 text-emerald-600 rounded-lg",children:x?e.jsx(y,{size:20,className:"animate-spin"}):e.jsx(ge,{size:20})}),x?"Exporting...":"Export"]}),e.jsx("button",{onClick:()=>m(!1),className:"w-full mt-4 p-3 bg-slate-100 text-slate-600 font-semibold rounded-xl",children:"Cancel"})]})]})]})})},Ap=({title:t,icon:n,isOpen:r,onClick:i,children:l})=>e.jsxs("div",{className:"border-b border-slate-100 last:border-none",children:[e.jsxs("button",{onClick:i,className:"w-full flex items-center justify-between p-4 transition-colors "+(r?"bg-slate-50 text-indigo-600":"text-slate-700 hover:bg-slate-50"),children:[e.jsxs("div",{className:"flex items-center gap-3 font-semibold text-sm",children:[n&&e.jsx(n,{size:18,className:r?"text-indigo-500":"text-slate-400"}),e.jsx("span",{children:t})]}),e.jsx(a.div,{animate:{rotate:r?180:0},transition:{duration:.2},children:e.jsx(g,{size:16})})]}),e.jsx(s,{initial:!1,children:r&&e.jsx(a.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.3,ease:"easeInOut"},className:"overflow-hidden",children:e.jsx("div",{className:"p-4 pt-0 space-y-4",children:l})})})]}),Op=({label:t,name:n,value:s,onChange:a,placeholder:r,type:i="text",rows:l})=>e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase tracking-wide mb-1.5",children:t}),l?e.jsx("textarea",{name:n,value:s||"",onChange:a,placeholder:r,rows:l,className:"w-full px-3 py-2.5 bg-white border border-slate-200 rounded-lg text-sm text-slate-700 shadow-sm focus:ring-2 focus:ring-indigo-500/20 focus:border-indigo-500 outline-none transition-all placeholder-slate-400 resize-y"}):e.jsx("input",{type:i,name:n,value:s||"",onChange:a,placeholder:r,className:"w-full px-3 py-2.5 bg-white border border-slate-200 rounded-lg text-sm text-slate-700 shadow-sm focus:ring-2 focus:ring-indigo-500/20 focus:border-indigo-500 outline-none transition-all placeholder-slate-400"})]}),Fp=({formData:t,onChange:n,docContent:s,onContentChange:a,addSection:i,removeSection:o,updateSection:c,reorderSections:d,updateTimeline:u,addTimelineRow:h,removeTimelineRow:m,styles:p,onStyleUpdate:f,onStyleReset:x,addListItem:g,removeListItem:b,updateListItem:v})=>{const[y,w]=vt.useState("cover"),[N,S]=vt.useState("fill"),C=e=>{w(y===e?null:e)},_=({title:t,items:n,onAdd:s,onRemove:a,onUpdate:r,placeholder:i})=>e.jsxs("div",{className:"space-y-3",children:[e.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase tracking-wide",children:t}),e.jsx("div",{className:"space-y-2",children:n&&n.map((t,n)=>e.jsxs("div",{className:"flex gap-2 group relative",children:[e.jsx("input",{type:"text",value:t,onChange:e=>r(n,e.target.value),placeholder:i,className:"w-full px-3 py-2 bg-slate-50 border border-slate-200 rounded-lg text-sm text-slate-700 focus:bg-white transition-all outline-none focus:ring-2 focus:ring-indigo-500/20 focus:border-indigo-500"}),e.jsx("button",{onClick:()=>a(n),className:"p-2 text-slate-400 hover:text-red-500 hover:bg-red-50 rounded-lg transition-colors opacity-0 group-hover:opacity-100",title:"Remove item",children:e.jsx(te,{size:16})})]},n))}),e.jsxs("button",{onClick:s,className:"w-full py-2 border border-dashed border-slate-300 text-slate-500 hover:text-indigo-600 hover:border-indigo-300 rounded-lg text-xs font-medium transition-colors flex items-center justify-center gap-2",children:[e.jsx(ne,{size:14})," Add Item"]})]}),P=({title:t,label:n,placeholder:a,rows:r=6})=>{const i=s.sections.find(e=>e.title===t)||s.sections.find(e=>e.title.includes(t));return i?e.jsx(Op,{label:n||t,name:`section_${i.id}`,value:i.content,onChange:e=>c(i.id,"content",e.target.value),placeholder:a,rows:r}):null};return e.jsxs("div",{className:"bg-white min-h-full pb-20",children:[e.jsxs("div",{className:"p-6 border-b border-slate-100 bg-slate-50/50 sticky top-0 z-10 backdrop-blur-sm",children:[e.jsxs("div",{className:"flex gap-1 bg-slate-200/50 p-1 rounded-lg mb-4",children:[e.jsxs("button",{onClick:()=>S("fill"),className:"flex-1 flex items-center justify-center gap-2 py-2 rounded-md text-sm font-medium transition-all "+("fill"===N?"bg-white shadow-sm text-indigo-600":"text-slate-500 hover:text-slate-700"),children:[e.jsx(de,{size:16}),"Fill Details"]}),e.jsxs("button",{onClick:()=>S("edit"),className:"flex-1 flex items-center justify-center gap-2 py-2 rounded-md text-sm font-medium transition-all "+("edit"===N?"bg-white shadow-sm text-indigo-600":"text-slate-500 hover:text-slate-700"),children:[e.jsx(ue,{size:16}),"Builder"]}),e.jsxs("button",{onClick:()=>S("style"),className:"flex-1 flex items-center justify-center gap-2 py-2 rounded-md text-sm font-medium transition-all "+("style"===N?"bg-white shadow-sm text-indigo-600":"text-slate-500 hover:text-slate-700"),children:[e.jsx(ie,{size:16}),"Style"]})]}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-bold text-slate-900",children:"fill"===N?"Proposal Details":"edit"===N?"Structure Builder":"Styling & Appearance"}),e.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"fill"===N?"Enter project specifics and pricing":"edit"===N?"Customize layout and clauses":"Fonts, colors and spacing"})]})]}),"fill"===N&&e.jsxs(e.Fragment,{children:[e.jsxs(Ap,{title:"Cover Page",icon:l,isOpen:"cover"===y,onClick:()=>C("cover"),children:[e.jsx(Op,{label:"Proposal Title",name:"proposalTitle",value:t.proposalTitle,onChange:n,placeholder:"e.g. Mobile App Development"}),e.jsx(Op,{label:"Project Description (Short)",name:"projectDescription",value:t.projectDescription,onChange:n,placeholder:"Brief summary...",rows:2}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsx(Op,{label:"Date",name:"proposalDate",value:t.proposalDate,onChange:n,placeholder:"DD/MM/YYYY"}),e.jsx(Op,{label:"Ref No.",name:"referenceNo",value:t.referenceNo,onChange:n,placeholder:"Optional"})]})]}),e.jsx(Ap,{title:"Document Branding",icon:le,isOpen:"branding"===y,onClick:()=>C("branding"),children:e.jsx(em,{formData:t,onChange:n})}),e.jsx(Ap,{title:"Introduction & Goals",icon:Me,isOpen:"intro"===y,onClick:()=>C("intro"),children:e.jsxs("div",{className:"space-y-6",children:[e.jsx(P,{title:"Introduction",placeholder:"Executive summary and intro...",rows:4}),e.jsx(_,{title:"Client Objectives",items:t.objectivesList,onAdd:()=>g("objectivesList"),onRemove:e=>b("objectivesList",e),onUpdate:(e,t)=>v("objectivesList",e,t),placeholder:"E.g. Increase revenue by 20%"})]})}),e.jsx(Ap,{title:"Scope & Deliverables",icon:k,isOpen:"scope"===y,onClick:()=>C("scope"),children:e.jsxs("div",{className:"space-y-8",children:[e.jsx(_,{title:"Services Included",items:t.scopeIncludedList,onAdd:()=>g("scopeIncludedList"),onRemove:e=>b("scopeIncludedList",e),onUpdate:(e,t)=>v("scopeIncludedList",e,t),placeholder:"Service description..."}),e.jsx(_,{title:"Services Excluded",items:t.scopeExcludedList,onAdd:()=>g("scopeExcludedList"),onRemove:e=>b("scopeExcludedList",e),onUpdate:(e,t)=>v("scopeExcludedList",e,t),placeholder:"Excluded service..."}),e.jsx("div",{className:"h-px bg-slate-100"}),e.jsx(_,{title:"Deliverables",items:t.deliverablesList,onAdd:()=>g("deliverablesList"),onRemove:e=>b("deliverablesList",e),onUpdate:(e,t)=>v("deliverablesList",e,t),placeholder:"E.g. Final Report PDF"})]})}),e.jsx(Ap,{title:"Parties Involved",icon:j,isOpen:"parties"===y,onClick:()=>C("parties"),children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"p-3 bg-indigo-50 rounded-lg border border-indigo-100",children:[e.jsx("h4",{className:"text-xs font-bold text-indigo-900 uppercase mb-3",children:"Prepared For (Client)"}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(Op,{label:"Client Name",name:"clientName",value:t.clientName,onChange:n,placeholder:"Contact Person"}),e.jsx(Op,{label:"Company",name:"clientCompany",value:t.clientCompany,onChange:n,placeholder:"Client Company"}),e.jsx(Op,{label:"Address",name:"clientAddress",value:t.clientAddress,onChange:n,placeholder:"Full Address",rows:2})]})]}),e.jsxs("div",{className:"p-3 bg-emerald-50 rounded-lg border border-emerald-100",children:[e.jsx("h4",{className:"text-xs font-bold text-emerald-900 uppercase mb-3",children:"Prepared By (Provider)"}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(Op,{label:"Your Name",name:"providerName",value:t.providerName,onChange:n,placeholder:"Your Name"}),e.jsx(Op,{label:"Company",name:"providerCompany",value:t.providerCompany,onChange:n,placeholder:"Your Company"}),e.jsx(Op,{label:"Address",name:"providerAddress",value:t.providerAddress,onChange:n,placeholder:"Full Address",rows:2})]})]})]})}),e.jsx(Ap,{title:"Project Timeline",icon:Re,isOpen:"timeline"===y,onClick:()=>C("timeline"),children:e.jsxs("div",{className:"space-y-4",children:[t.timeline.map((t,n)=>e.jsxs("div",{className:"bg-slate-50 border border-slate-200 rounded-lg p-3 relative group",children:[e.jsxs("div",{className:"grid grid-cols-[1fr_80px] gap-2 mb-2",children:[e.jsx("input",{value:t.phase||"",onChange:e=>u(n,"phase",e.target.value),className:"bg-white border border-slate-200 rounded px-2 py-1 text-xs font-bold text-slate-700",placeholder:"Phase"}),e.jsx("input",{value:t.duration||"",onChange:e=>u(n,"duration",e.target.value),className:"bg-white border border-slate-200 rounded px-2 py-1 text-xs text-slate-500 text-right",placeholder:"Duration"})]}),e.jsx("textarea",{value:t.description||"",onChange:e=>u(n,"description",e.target.value),rows:2,className:"w-full bg-white border border-slate-200 rounded px-2 py-1 text-xs text-slate-600 resize-none",placeholder:"Phase Description..."}),e.jsx("button",{onClick:()=>m(n),className:"absolute -top-2 -right-2 bg-white text-slate-400 hover:text-red-500 rounded-full p-1 shadow-sm border border-slate-100 opacity-0 group-hover:opacity-100 transition-all",children:e.jsx(te,{size:12})})]},n)),e.jsxs("button",{onClick:h,className:"w-full py-2 border border-dashed border-slate-300 text-slate-500 hover:text-indigo-600 hover:border-indigo-300 rounded-lg text-xs font-medium transition-colors flex items-center justify-center gap-2",children:[e.jsx(ne,{size:14})," Add Phase"]})]})}),e.jsxs(Ap,{title:"Commercials",icon:Ae,isOpen:"commercials"===y,onClick:()=>C("commercials"),children:[e.jsx(Op,{label:"Total Project Cost",name:"totalProjectCost",value:t.totalProjectCost,onChange:n,placeholder:"e.g. $5,000 USD"}),e.jsxs("div",{className:"grid grid-cols-2 gap-3 mt-3",children:[e.jsx(Op,{label:"Payment Days",name:"paymentDays",value:t.paymentDays,onChange:n,placeholder:"15"}),e.jsx(Op,{label:"Validity (Days)",name:"validityDays",value:t.validityDays,onChange:n,placeholder:"30"})]}),e.jsx("div",{className:"h-px bg-slate-100 my-3"}),e.jsx(Op,{label:"Jurisdiction",name:"jurisdiction",value:t.jurisdiction,onChange:n,placeholder:"State/Country"})]}),e.jsx(Ap,{title:"Legal Terms",icon:r,isOpen:"legal"===y,onClick:()=>C("legal"),children:e.jsxs("div",{className:"space-y-4",children:[e.jsx(P,{title:"Client Responsibilities",rows:3}),e.jsx(P,{title:"Confidentiality",rows:3}),e.jsx(P,{title:"Intellectual Property Rights",rows:3}),e.jsx(P,{title:"Limitation of Liability",rows:3}),e.jsx(P,{title:"Term & Termination",rows:3}),e.jsx(P,{title:"Governing Law",rows:2})]})})]}),"edit"===N&&e.jsx("div",{className:"p-4 space-y-4 pb-20",children:e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute left-[7px] top-4 bottom-0 w-[2px] bg-slate-100"}),e.jsx("p",{className:"font-bold text-[10px] uppercase tracking-widest text-slate-400 pl-8 mb-4",children:"Proposal Structure"}),e.jsx(he,{axis:"y",values:s.sections,onReorder:d,className:"space-y-0",children:s.sections.map((t,n)=>e.jsx(me,{value:t,className:"relative mb-2",children:e.jsx(Jh,{section:t,onUpdate:(e,n)=>c(t.id,e,n),onRemove:()=>o(t.id),placeholderTitle:"Section Title",placeholderContent:"Section content..."})},t.id))}),e.jsx(Zh,{onClick:i})]})})]})};function Ip({data:t,content:n,zoom:r=1,printing:i=!1,readOnly:l=!1,styles:o}){const c=o||{fontFamily:"font-serif",fontSize:"text-[11pt]",lineHeight:"leading-relaxed",textColor:"#1e293b",headingColor:"#0f172a",accentColor:"#4f46e5",pageMargin:"p-[25mm]"},d=({value:t,placeholder:n,name:s,className:a=""})=>{const r=(e=>{if(!e)return"bg-slate-100 text-slate-600 border-slate-200";const t=["bg-indigo-50 text-indigo-700 border-indigo-200","bg-emerald-50 text-emerald-700 border-emerald-200","bg-amber-50 text-amber-700 border-amber-200","bg-rose-50 text-rose-700 border-rose-200","bg-violet-50 text-violet-700 border-violet-200","bg-sky-50 text-sky-700 border-sky-200"];let n=0;for(let s=0;s<e.length;s++)n=e.charCodeAt(s)+((n<<5)-n);return t[Math.abs(n)%t.length]})(s);return t?l||i?e.jsx("span",{className:`font-medium text-slate-900 ${a}`,children:t}):e.jsx("span",{className:`px-1.5 py-0.5 rounded border ${r} font-medium mx-0.5 transition-all hover:brightness-95 ${a}`,children:t}):l||i?e.jsx("span",{className:`text-slate-500 italic ${a}`,children:n}):e.jsx("span",{className:`px-1.5 py-0.5 rounded border border-dashed ${r} bg-opacity-50 font-medium text-xs mx-0.5 ${a}`,children:n})},u=({template:t,values:n})=>{if(!t)return null;const s=t.split(/(\*\*[^*]+\*\*)/g);return e.jsx("span",{children:s.map((t,s)=>{if(t.startsWith("**")&&t.endsWith("**"))return e.jsx("strong",{children:t.slice(2,-2)},s);const a=t.split(/(\{\{[^}]+\}\})/g);return e.jsx("span",{children:a.map((t,s)=>{if(t.startsWith("{{")&&t.endsWith("}}")){const a=t.slice(2,-2).trim();return Array.isArray(n[a])?e.jsx("ul",{className:"list-disc pl-5 my-2 space-y-1",children:n[a].map((t,n)=>e.jsx("li",{children:e.jsx(d,{value:t,name:`${a}_${n}`})},n))},s):e.jsx(d,{value:n[a],name:a,placeholder:`[${a}]`},s)}return t.split("\n").map((t,n)=>e.jsxs(yt.Fragment,{children:[n>0&&e.jsx("br",{}),t]},n))})},s)})})},h=i?"div":a.div,m=i?"div":a.section;return e.jsxs(h,{id:"printable-document",...i?{}:{initial:{opacity:0,y:20},animate:{opacity:1,y:0}},style:{transform:i?"none":`scale(${r})`,transformOrigin:"top center",color:c.textColor},className:`w-[210mm] min-h-[297mm] bg-white relative mb-20 origin-top\n                ${i?"":"shadow-[0_8px_30px_rgb(0,0,0,0.12)] border border-slate-200/60"}\n                ${c.fontFamily} ${c.fontSize} ${c.lineHeight} ${c.pageMargin}\n            `,children:[e.jsx("div",{className:"no-print absolute inset-0 shadow-[0_2px_4px_rgba(0,0,0,0.05),0_12px_24px_rgba(0,0,0,0.1)] rounded-sm pointer-events-none"}),e.jsxs("div",{className:"p-[10mm] h-full flex flex-col relative z-10 min-h-[297mm]",children:[e.jsxs("div",{className:`flex-1 flex flex-col justify-center ${"left"===t.logoAlignment?"items-start text-left":"right"===t.logoAlignment?"items-end text-right":"items-center text-center"} border-b-2 border-slate-900 mb-12 pb-12 break-after-page`,style:i?{textAlign:t.logoAlignment||"center"}:{},children:[t.businessLogo&&!1!==t.brandingEnabled&&"false"!==t.brandingEnabled&&e.jsx("div",{className:"mb-8 w-full",children:e.jsx("img",{src:t.businessLogo,alt:"Company Logo",style:{height:`${t.logoSize||80}px`,objectFit:"contain",marginLeft:"right"===t.logoAlignment||"center"===t.logoAlignment?"auto":"0",marginRight:"left"===t.logoAlignment||"center"===t.logoAlignment?"auto":"0",display:"block"},className:"object-contain "+("left"===t.logoAlignment?"":"right"===t.logoAlignment?"ml-auto":"mx-auto")})}),e.jsx("div",{className:"mb-4",children:e.jsx("span",{className:"uppercase tracking-[0.2em] text-slate-400 text-sm font-sans",children:"Project Proposal"})}),e.jsx("h1",{className:"text-4xl font-bold mb-2 max-w-lg leading-tight",style:{color:c.headingColor},children:e.jsx(d,{value:t.proposalTitle,placeholder:"[Project Name]"})}),e.jsx("div",{className:"w-16 h-1 bg-indigo-500 my-8"}),e.jsxs("div",{className:"grid grid-cols-1 gap-12 w-full max-w-md mt-8 "+("right"===t.logoAlignment?"text-right":"text-left"),children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs uppercase font-bold text-slate-400 mb-2 font-sans",children:"Prepared For"}),e.jsx("div",{className:"text-lg font-medium",children:e.jsx(d,{value:t.clientName,placeholder:"[Client Name]"})}),e.jsx("div",{className:"text-slate-600",children:e.jsx(d,{value:t.clientCompany,placeholder:"[Client Company]"})}),e.jsx("div",{className:"text-slate-500 text-sm mt-1 whitespace-pre-wrap",children:e.jsx(d,{value:t.clientAddress,placeholder:"[Client Address]"})})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs uppercase font-bold text-slate-400 mb-2 font-sans",children:"Prepared By"}),e.jsx("div",{className:"text-lg font-medium",children:e.jsx(d,{value:t.providerName,placeholder:"[Your Name]"})}),e.jsx("div",{className:"text-slate-600",children:e.jsx(d,{value:t.providerCompany,placeholder:"[Your Company]"})}),e.jsx("div",{className:"text-slate-500 text-sm mt-1 whitespace-pre-wrap",children:e.jsx(d,{value:t.providerAddress,placeholder:"[Your Address]"})})]})]}),e.jsxs("div",{className:"mt-auto grid grid-cols-2 gap-8 w-full max-w-md text-sm border-t border-slate-100 pt-8",children:[e.jsxs("div",{className:"right"===t.logoAlignment?"text-right order-2":"",children:[e.jsx("span",{className:"text-slate-400",children:"Date:"})," ",e.jsx(d,{value:t.proposalDate,placeholder:"DD/MM/YYYY"})]}),e.jsxs("div",{className:"right"===t.logoAlignment?"text-left order-1":"text-right",children:[e.jsx("span",{className:"text-slate-400",children:"Ref:"})," ",e.jsx(d,{value:t.referenceNo,placeholder:"-"})]})]})]}),e.jsx("div",{className:"space-y-8",children:e.jsx(s,{children:n.sections&&n.sections.map((n,s)=>e.jsxs(m,{...i?{}:{layout:!0,initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,scale:.95}},children:[e.jsxs("h2",{className:"font-bold text-lg uppercase mb-3 border-l-4 pl-3",style:{color:c.headingColor,borderColor:c.accentColor},children:[s+2,". ",n.title]}),e.jsx("div",{className:"text-justify text-slate-700",children:e.jsx(u,{template:n.content,values:t})}),n.title.includes("Timeline")&&e.jsx("div",{className:"mt-6 mb-8 overflow-hidden rounded-lg border border-slate-200",children:e.jsxs("table",{className:"w-full text-sm text-left",children:[e.jsx("thead",{className:"bg-slate-100 text-slate-700 font-bold uppercase text-xs",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3",children:"Phase"}),e.jsx("th",{className:"px-4 py-3",children:"Description"}),e.jsx("th",{className:"px-4 py-3 text-right",children:"Duration"})]})}),e.jsx("tbody",{className:"divide-y divide-slate-100",children:t.timeline.map((t,n)=>e.jsxs("tr",{className:"bg-white",children:[e.jsx("td",{className:"px-4 py-3 font-medium text-slate-900",children:t.phase}),e.jsx("td",{className:"px-4 py-3 text-slate-600",children:t.description}),e.jsx("td",{className:"px-4 py-3 text-right text-slate-500",children:t.duration})]},n))})]})})]},n.id))})}),e.jsxs("section",{className:"mt-16 break-inside-avoid border-t-2 border-slate-900 pt-8",children:[e.jsxs("h2",{className:"font-bold text-lg uppercase mb-6 text-slate-900 pl-3 border-l-4 border-indigo-500",children:[n.sections.length+2,". Acceptance"]}),e.jsx("p",{className:"mb-8",children:"By signing below, both parties agree to the terms and conditions outlined in this proposal."}),i?e.jsx("table",{style:{width:"100%",marginTop:"20px"},children:e.jsx("tbody",{children:e.jsxs("tr",{children:[e.jsxs("td",{style:{width:"48%",verticalAlign:"top",paddingRight:"2%"},children:[e.jsx("p",{style:{fontWeight:"bold",textTransform:"uppercase",fontSize:"10pt",marginBottom:"20px",backgroundColor:"#f1f5f9",padding:"5px"},children:"For Client"}),e.jsx("table",{style:{width:"100%"},children:e.jsxs("tbody",{children:[e.jsxs("tr",{children:[e.jsx("td",{style:{width:"80px",paddingBottom:"15px"},children:"Name:"}),e.jsx("td",{style:{borderBottom:"1px solid #ccc"}})]}),e.jsxs("tr",{children:[e.jsx("td",{style:{width:"80px",paddingBottom:"15px"},children:"Designation:"}),e.jsx("td",{style:{borderBottom:"1px solid #ccc"}})]}),e.jsxs("tr",{children:[e.jsx("td",{style:{width:"80px",paddingBottom:"15px"},children:"Signature:"}),e.jsx("td",{style:{borderBottom:"1px solid #ccc",height:"40px"}})]}),e.jsxs("tr",{children:[e.jsx("td",{style:{width:"80px"},children:"Date:"}),e.jsx("td",{style:{borderBottom:"1px solid #ccc"}})]})]})})]}),e.jsx("td",{style:{width:"4%"}}),e.jsxs("td",{style:{width:"48%",verticalAlign:"top"},children:[e.jsx("p",{style:{fontWeight:"bold",textTransform:"uppercase",fontSize:"10pt",marginBottom:"20px",backgroundColor:"#f1f5f9",padding:"5px"},children:"For Service Provider"}),e.jsx("table",{style:{width:"100%"},children:e.jsxs("tbody",{children:[e.jsxs("tr",{children:[e.jsx("td",{style:{width:"80px",paddingBottom:"15px"},children:"Name:"}),e.jsx("td",{style:{borderBottom:"1px solid #ccc"},children:t.providerName})]}),e.jsxs("tr",{children:[e.jsx("td",{style:{width:"80px",paddingBottom:"15px"},children:"Designation:"}),e.jsx("td",{style:{borderBottom:"1px solid #ccc"}})]}),e.jsxs("tr",{children:[e.jsx("td",{style:{width:"80px",paddingBottom:"15px"},children:"Signature:"}),e.jsx("td",{style:{borderBottom:"1px solid #ccc",height:"40px"}})]}),e.jsxs("tr",{children:[e.jsx("td",{style:{width:"80px"},children:"Date:"}),e.jsx("td",{style:{borderBottom:"1px solid #ccc"}})]})]})})]})]})})}):e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 md:gap-16",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("p",{className:"font-bold uppercase text-xs tracking-wider mb-8 bg-slate-100 p-2 inline-block rounded",children:"For Client"}),e.jsxs("div",{className:"grid grid-cols-[100px_1fr] gap-x-2 gap-y-4 items-baseline text-sm",children:[e.jsx("span",{className:"font-medium text-slate-500",children:"Name:"}),e.jsx("div",{className:"border-b border-slate-300 h-6"}),e.jsx("span",{className:"font-medium text-slate-500",children:"Designation:"}),e.jsx("div",{className:"border-b border-slate-300 h-6"}),e.jsx("span",{className:"font-medium text-slate-500",children:"Signature:"}),e.jsx("div",{className:"border-b border-slate-300 h-10"}),e.jsx("span",{className:"font-medium text-slate-500",children:"Date:"}),e.jsx("div",{className:"border-b border-slate-300 h-6"})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("p",{className:"font-bold uppercase text-xs tracking-wider mb-8 bg-slate-100 p-2 inline-block rounded",children:"For Service Provider"}),e.jsxs("div",{className:"grid grid-cols-[100px_1fr] gap-x-2 gap-y-4 items-baseline text-sm",children:[e.jsx("span",{className:"font-medium text-slate-500",children:"Name:"}),e.jsx("div",{className:"border-b border-slate-300 h-6 text-slate-900",children:t.providerName}),e.jsx("span",{className:"font-medium text-slate-500",children:"Designation:"}),e.jsx("div",{className:"border-b border-slate-300 h-6"}),e.jsx("span",{className:"font-medium text-slate-500",children:"Signature:"}),e.jsx("div",{className:"border-b border-slate-300 h-10"}),e.jsx("span",{className:"font-medium text-slate-500",children:"Date:"}),e.jsx("div",{className:"border-b border-slate-300 h-6"})]})]})]})]}),!i&&e.jsx("div",{className:"mt-auto pt-12 text-center",children:e.jsx("p",{className:"text-[9px] text-slate-300 uppercase tracking-widest font-sans",children:"Generated by DocForge"})})]})]})}const Lp=({children:e})=>{const[t,n]=vt.useState(null);return vt.useEffect(()=>{const e=document.getElementById("print-root");if(e)n(e);else{const e=document.createElement("div");e.id="print-root",document.body.appendChild(e),n(e)}},[]),t?Dt.createPortal(e,t):null},Bp=()=>e.jsx(zp,{}),$p={title:"Business / Project Proposal",sections:[{id:"1",title:"Introduction",content:"This proposal is submitted by {{providerCompany}} to {{clientName}} to outline the scope, deliverables, timelines, and commercial terms for {{projectDescription}}. This document is intended to present a clear understanding of the proposed engagement and to serve as a basis for mutual agreement."},{id:"2",title:"Client Objectives",content:"The objective of this proposal is to assist {{clientCompany}} in achieving the following goals:\n\n1. [Objective 1]\n2. [Objective 2]\n3. [Objective 3]"},{id:"3",title:"Scope of Work",content:"The scope of work under this proposal shall include, but is not limited to, the following services:\n\n**4.1 Services Included**\n[Service 1]\n[Service 2]\n\n**4.2 Services Excluded**\nAny services not explicitly mentioned above shall be considered outside the scope and may be provided under a separate agreement or change request."},{id:"4",title:"Deliverables",content:"The following deliverables shall be provided as part of this engagement:\n\n1. [Deliverable 1]\n2. [Deliverable 2]\n\nAll deliverables shall be submitted in the agreed format and within the defined timeline."},{id:"5",title:"Project Timeline",content:"The estimated timeline for completion of the project is as follows (see table below). Timelines are indicative and subject to client approvals and dependencies."},{id:"6",title:"Commercials & Pricing",content:"The total professional fees for the services described in this proposal shall be: {{totalProjectCost}}.\n\n**Payment Terms**\n- [Percentage] payable upon acceptance\n- [Percentage] payable upon milestone completion\n- [Percentage] payable upon final delivery\n\nAll payments shall be made within {{paymentDays}} days from the date of invoice."},{id:"7",title:"Client Responsibilities",content:"The Client agrees to:\n- Provide accurate and timely information\n- Share necessary access, approvals, and feedback\n- Assign a single point of contact for communication\n\nDelays caused due to client dependencies may impact project timelines."},{id:"8",title:"Confidentiality",content:"Both parties agree to maintain strict confidentiality of all proprietary, technical, commercial, and business information exchanged during the course of this engagement. Confidential information shall not be disclosed to any third party without prior written consent."},{id:"9",title:"Intellectual Property Rights",content:"Unless otherwise agreed in writing:\n- All intellectual property developed during the project shall remain the property of {{providerCompany}} until full payment is received.\n- Upon full payment, ownership or license rights shall be transferred as mutually agreed."},{id:"10",title:"Limitation of Liability",content:"In no event shall either party be liable for indirect, incidental, or consequential damages. The total liability of {{providerCompany}} shall not exceed the total fees paid under this proposal."},{id:"11",title:"Term & Termination",content:"This proposal shall remain valid for {{validityDays}} days from the proposal date. Either party may terminate the engagement by providing {{noticeDays}} days written notice. Fees for work completed up to the termination date shall be payable."},{id:"12",title:"Governing Law",content:"This proposal shall be governed by and construed in accordance with the laws of {{jurisdiction}}, and courts of {{courtCity}} shall have exclusive jurisdiction."}]},Wp=()=>{const n=kt(),{id:s}=Ct(),a=dd("(min-width: 1024px)"),[r,i]=vt.useState("edit"),[l,o]=vt.useState(1),[c,d]=vt.useState(!1),[u,h]=vt.useState("Untitled Proposal"),[m,p]=vt.useState(!1),[f,x]=vt.useState(null),g=yt.useRef(null),[b,w]=vt.useState({proposalTitle:"Website Redesign Project",proposalDate:(new Date).toLocaleDateString(),logoSize:80,logoAlignment:"center",brandingEnabled:!0,referenceNo:"",clientName:"",clientCompany:"",clientAddress:"",providerName:"",providerCompany:"",providerAddress:"",projectDescription:"",totalProjectCost:"",paymentDays:"15",validityDays:"30",noticeDays:"30",jurisdiction:"",courtCity:"",timeline:[{phase:"Phase 1",description:"Requirement Analysis",duration:"5 days"},{phase:"Phase 2",description:"Execution / Development",duration:"15 days"},{phase:"Phase 3",description:"Review & Final Delivery",duration:"5 days"}]}),[j,N]=vt.useState($p),{styles:k,updateStyle:S,resetStyles:C}=Rm(),_=yt.useDeferredValue(b),P=yt.useDeferredValue(j);vt.useEffect(()=>{s&&E(s)},[s]);const[D,T]=vt.useState(!1),E=async e=>{try{const n=await om(e);n.data.name&&h(n.data.name);let s=n.data.content||{};if("string"==typeof s)try{s=JSON.parse(s)}catch(t){}if(s.blocks)return void T(!0);s.formData&&w(e=>({...e,...s.formData})),s.docContent&&N(s.docContent),s.styles&&Object.entries(s.styles).forEach(([e,t])=>S(e,t))}catch(n){}};if(D)return e.jsx(Bp,{});vt.useEffect(()=>{if(!s){(async()=>{try{const e=await pd();e&&w(t=>({...t,providerName:e.name||"",providerCompany:e.name||"",providerAddress:[e.address,e.city,e.state,e.country].filter(Boolean).join(", "),businessLogo:e.logo||null}))}catch(e){}})()}},[s]);const[z,M]=vt.useState(!1);yt.useRef(null);const[R,A]=vt.useState(null),[O,I]=vt.useState(!1),[L,B]=vt.useState(null),[W,H]=vt.useState(!1);return e.jsxs("div",{className:"flex flex-col h-screen bg-slate-100 overflow-hidden",children:[f&&e.jsxs("div",{className:"bg-amber-100 border-b border-amber-200 px-4 py-2 flex items-center justify-between text-amber-800 text-sm",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(xe,{size:16}),e.jsxs("span",{className:"font-medium",children:["Previewing Version ",f.version_number]}),e.jsxs("span",{className:"text-amber-600 hidden md:inline",children:["(",new Date(f.created_at).toLocaleString(),")"]})]}),e.jsx("div",{className:"flex items-center gap-3",children:e.jsxs("button",{onClick:()=>{g.current&&(w(g.current.formData),N(g.current.docContent),g.current=null),x(null),At.success("Exited preview mode")},className:"text-amber-700 hover:text-amber-900 font-medium hover:underline flex items-center gap-1",children:[e.jsx(t,{size:14})," Exit Preview"]})})]}),z&&e.jsx(Lp,{children:e.jsx(Ip,{data:b,content:j,zoom:1})}),e.jsx(xm,{isOpen:O,onClose:()=>I(!1),documentId:s,documentName:u,isReminder:!!L,onSuccess:e=>{e&&e.sent_at&&B(e.sent_at)},getHtmlContent:async()=>{const t=Tm.renderToStaticMarkup(e.jsx(Ip,{data:b,content:j,zoom:1,printing:!0}));return Om(t,u)}}),e.jsxs("header",{className:"no-print h-16 bg-white/80 backdrop-blur-md border-b border-slate-200/60 px-4 md:px-6 flex items-center justify-between flex-shrink-0 z-30 shadow-sm transition-all duration-300",children:[e.jsxs("div",{className:"flex items-center gap-2 md:gap-4 overflow-hidden",children:[e.jsx("button",{onClick:()=>n("/documents"),className:"p-2 hover:bg-slate-100 rounded-full text-slate-500 transition-colors flex-shrink-0",title:"Back to Documents",children:e.jsx(F,{size:20})}),e.jsxs("div",{className:"min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"text",value:u,onChange:e=>h(e.target.value),className:"font-bold text-slate-800 text-sm md:text-lg bg-transparent border-none focus:ring-0 p-0 m-0 w-auto min-w-[120px] max-w-[200px] placeholder-slate-400 truncate",placeholder:"Enter Document Name"}),L&&e.jsxs("span",{className:"hidden lg:inline-flex items-center gap-1 px-2 py-0.5 rounded-full bg-emerald-50 text-emerald-600 text-[10px] font-medium border border-emerald-100",children:[e.jsx(we,{size:10})," Sent"]})]}),e.jsx("p",{className:"text-[10px] md:text-xs text-slate-400 font-medium whitespace-nowrap hidden sm:block",children:"Last saved: Just now"})]})]}),e.jsxs("div",{className:"flex items-center gap-2 md:gap-3",children:[e.jsxs("div",{className:"hidden lg:flex items-center bg-slate-100 rounded-lg p-1 mr-4",children:[e.jsx("button",{onClick:()=>o(e=>Math.max(e-.1,.5)),className:"p-1.5 hover:bg-white hover:shadow-sm rounded-md text-slate-500 transition-all",children:e.jsx(De,{size:16})}),e.jsxs("span",{className:"text-xs font-semibold text-slate-600 w-12 text-center",children:[Math.round(100*l),"%"]}),e.jsx("button",{onClick:()=>o(e=>Math.min(e+.1,1.5)),className:"p-1.5 hover:bg-white hover:shadow-sm rounded-md text-slate-500 transition-all",children:e.jsx(Te,{size:16})})]}),e.jsxs("button",{onClick:()=>p(!0),className:"flex items-center gap-2 p-2 md:px-4 md:py-2 text-slate-600 text-sm font-medium hover:bg-slate-50 rounded-lg border border-transparent hover:border-slate-200 transition-all",children:[e.jsx($,{size:18}),e.jsx("span",{className:"hidden lg:inline",children:"History"})]}),e.jsxs("button",{onClick:async()=>{if(s){M(!0);try{let t=b.businessLogo;if(b.businessLogo&&!b.businessLogo.startsWith("data:")){const e=await(async e=>{try{if(e&&e.includes("/storage/")){const t=`http://localhost:8000/api/v1/file-proxy?path=${encodeURIComponent(e)}`,n=await fetch(t),s=await n.blob();return new Promise((e,t)=>{const n=new FileReader;n.onloadend=()=>e(n.result),n.onerror=t,n.readAsDataURL(s)})}const t=await fetch(e),n=await t.blob();return new Promise((e,t)=>{const s=new FileReader;s.onloadend=()=>e(s.result),s.onerror=t,s.readAsDataURL(n)})}catch(t){return null}})(b.businessLogo);e&&(t=e)}const n={...b,businessLogo:t},a=Tm.renderToStaticMarkup(e.jsx(Ip,{data:n,content:j,zoom:1,printing:!0,styles:k})),r=await Fm(s,a,u);r.url&&window.open(r.url,"_blank")}catch(t){At.error("Failed to generate PDF")}finally{M(!1)}}else At.error("Please save the document before printing.")},className:"hidden md:flex items-center gap-2 p-2 md:px-4 md:py-2 text-slate-600 text-sm font-medium hover:bg-slate-50 rounded-lg border border-transparent hover:border-slate-200 transition-all",children:[e.jsx(Ee,{size:18}),e.jsx("span",{className:"hidden lg:inline",children:"Print"})]}),e.jsxs("button",{onClick:()=>{s?I(!0):At.error("Please save the document before sending.")},className:"flex items-center gap-2 px-2 md:px-4 py-2 text-sm font-medium rounded-lg border border-transparent transition-all "+(L?"text-amber-600 hover:bg-amber-50 hover:border-amber-200":"text-slate-600 hover:bg-slate-50 hover:border-slate-200"),children:[L?e.jsx(Z,{size:18}):e.jsx(v,{size:18}),e.jsx("span",{className:"hidden lg:inline",children:L?"Remind":"Send"})]}),e.jsxs("button",{onClick:async()=>{if(s){H(!0);try{const t=Tm.renderToStaticMarkup(e.jsx(Ip,{data:b,content:j,zoom:1,printing:!0})),n=await Fm(s,t,u);if(n.url){const e=document.createElement("a");e.href=n.url,e.download=`${u.replace(/[^a-z0-9]/gi,"_").toLowerCase()}.pdf`,document.body.appendChild(e),e.click(),document.body.removeChild(e),At.success("Proposal exported successfully")}}catch(t){At.error("Failed to export proposal")}finally{H(!1)}}else At.error("Please save the document before exporting.")},disabled:W,className:"flex items-center gap-2 px-2 md:px-4 py-2 text-slate-600 text-sm font-medium hover:bg-slate-50 rounded-lg border border-transparent hover:border-slate-200 transition-all disabled:opacity-50",children:[W?e.jsx(y,{size:18,className:"animate-spin"}):e.jsx(ge,{size:18}),e.jsx("span",{className:"hidden lg:inline",children:W?"Exporting...":"Export"})]}),e.jsxs("button",{onClick:async()=>{d(!0);try{const e={name:u,type_slug:"proposal",content:{formData:b,docContent:j,styles:k},status:"draft"};if(s)await dm(s,e),At.success("Proposal updated successfully");else{const t=await cm(e);At.success("Proposal created successfully"),n(`/documents/proposal/${t.data.id}`,{replace:!0})}}catch(e){At.error("Failed to save proposal")}finally{setTimeout(()=>d(!1),500)}},className:"flex items-center gap-2 px-3 md:px-5 py-2 rounded-lg text-white font-medium shadow-md transition-all "+(c?"bg-emerald-500":"bg-indigo-600 hover:bg-indigo-700"),children:[c?e.jsx(we,{size:18}):e.jsx(_e,{size:18}),e.jsx("span",{className:"hidden md:inline",children:c?"Saved!":"Save"})]})]})]}),!a&&e.jsxs("div",{className:"flex bg-white border-b border-slate-200 px-4",children:[e.jsx("button",{onClick:()=>i("edit"),className:"flex-1 py-3 text-sm font-medium border-b-2 transition-colors "+("edit"===r?"border-indigo-600 text-indigo-600":"border-transparent text-slate-500 hover:text-slate-700"),children:"Edit"}),e.jsx("button",{onClick:()=>i("preview"),className:"flex-1 py-3 text-sm font-medium border-b-2 transition-colors "+("preview"===r?"border-indigo-600 text-indigo-600":"border-transparent text-slate-500 hover:text-slate-700"),children:"Preview"})]}),e.jsxs("div",{className:"flex flex-col lg:flex-row flex-1 overflow-hidden relative",children:[e.jsx("div",{className:`\n                    no-print w-full lg:w-[400px] h-full bg-white border-b lg:border-b-0 lg:border-r border-slate-200 \n                    overflow-y-auto z-20 shadow-sm flex-shrink-0 lg:order-1\n                    ${a||"edit"===r?"block":"hidden"}\n                `,children:e.jsx(Fp,{formData:b,onChange:e=>{const{name:t,value:n}=e.target;w(e=>({...e,[t]:n}))},docContent:j,onContentChange:e=>{const{name:t,value:n}=e.target;N(e=>({...e,[t]:n}))},addSection:()=>{const e={id:Math.random().toString(36).substr(2,9),title:"New Section",content:"Enter the details of this new clause here..."};N(t=>({...t,sections:[...t.sections,e]}))},removeSection:e=>{N(t=>({...t,sections:t.sections.filter(t=>t.id!==e)}))},updateSection:(e,t,n)=>{N(s=>({...s,sections:s.sections.map(s=>s.id===e?{...s,[t]:n}:s)}))},reorderSections:e=>{N(t=>({...t,sections:e}))},updateTimeline:(e,t,n)=>{const s=[...b.timeline];s[e][t]=n,w(e=>({...e,timeline:s}))},addTimelineRow:()=>{w(e=>({...e,timeline:[...e.timeline,{phase:"New Phase",description:"",duration:""}]}))},removeTimelineRow:e=>{b.timeline.length<=1||w(t=>({...t,timeline:t.timeline.filter((t,n)=>n!==e)}))},styles:k,onStyleUpdate:S,onStyleReset:C})}),e.jsx("div",{className:`\n                    flex-1 h-full overflow-y-auto bg-slate-50/50 p-4 md:p-8 sm:p-12 \n                    flex justify-center items-start scrollbar-thin scrollbar-thumb-slate-300 lg:order-2\n                    ${a||"preview"===r?"flex":"hidden"}\n                `,style:{backgroundImage:"radial-gradient(#cbd5e1 1px, transparent 1px)",backgroundSize:"20px 20px"},children:e.jsx(Ip,{data:_,content:P,zoom:l,styles:k})})]}),e.jsx(fm,{documentId:s,isOpen:m,onClose:()=>p(!1),onPreview:e=>{g.current||(g.current={formData:b,docContent:j});let t=e.content;if("string"==typeof t)try{t=JSON.parse(t)}catch(n){}t.formData&&w(t.formData),t.docContent&&N(t.docContent),x(e),p(!1),At.success(`Previewing Version ${e.version_number}`)},onDownload:async t=>{const n=At.loading("Preparing version PDF...");try{let r=t.content;if("string"==typeof r)try{r=JSON.parse(r)}catch(a){}const i=Tm.renderToStaticMarkup(e.jsx(Ip,{data:r.formData||b,content:r.docContent||j,zoom:1,printing:!0})),l=await Fm(s,i,`${u} - v${t.version_number}`);if(l.url){const e=document.createElement("a");e.href=l.url,e.download=`${u.replace(/[^a-z0-9]/gi,"_")}_v${t.version_number}.pdf`,document.body.appendChild(e),e.click(),document.body.removeChild(e),At.success(`Version ${t.version_number} downloaded`,{id:n})}}catch(r){At.error("Failed to download version PDF",{id:n})}},onRestore:e=>{if(e&&e.content){let n=e.content;if("string"==typeof n)try{n=JSON.parse(n)}catch(t){}n.formData&&w(n.formData),n.docContent&&N(n.docContent)}x(null),g.current=null}})]})},Hp=({formData:t,onChange:n,updateItem:s,addItem:a,removeItem:r,totals:i,styles:o,onStyleUpdate:c,onStyleReset:d})=>{const[u,h]=vt.useState("details"),[m,p]=vt.useState("fill"),f=e=>{h(u===e?null:e)};return e.jsxs("div",{className:"bg-white min-h-full pb-20",children:[e.jsxs("div",{className:"p-6 border-b border-slate-100 bg-slate-50/50 sticky top-0 z-10 backdrop-blur-sm",children:[e.jsxs("div",{className:"flex gap-1 bg-slate-200/50 p-1 rounded-lg mb-4",children:[e.jsxs("button",{onClick:()=>p("fill"),className:"flex-1 flex items-center justify-center gap-2 py-2 rounded-md text-sm font-medium transition-all "+("fill"===m?"bg-white shadow-sm text-indigo-600":"text-slate-500 hover:text-slate-700"),children:[e.jsx(l,{size:16}),"Invoice Details"]}),e.jsxs("button",{onClick:()=>p("style"),className:"flex-1 flex items-center justify-center gap-2 py-2 rounded-md text-sm font-medium transition-all "+("style"===m?"bg-white shadow-sm text-indigo-600":"text-slate-500 hover:text-slate-700"),children:[e.jsx(ie,{size:16}),"Appearance"]})]}),e.jsx("h2",{className:"text-lg font-bold text-slate-900",children:"fill"===m?"Invoice Details":"Styling & Appearance"}),e.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"fill"===m?"Configure invoice data and line items":"Fonts, colors and spacing"}),"fill"===m&&e.jsxs("div",{className:"mt-4 bg-emerald-50 border border-emerald-100 p-3 rounded-lg flex justify-between items-center",children:[e.jsx("span",{className:"text-xs font-bold text-emerald-800 uppercase",children:"Grand Total"}),e.jsx("span",{className:"text-lg font-bold text-emerald-600",children:i.grandTotal.toLocaleString()})]})]}),"fill"===m?e.jsxs(e.Fragment,{children:[e.jsxs(AccordionItem,{title:"Invoice Basics",icon:l,isOpen:"details"===u,onClick:()=>f("details"),children:[e.jsx(InputGroup,{label:"Invoice Title",name:"invoiceTitle",value:t.invoiceTitle,onChange:n,placeholder:"INVOICE"}),e.jsx(InputGroup,{label:"Invoice Number",name:"invoiceNumber",value:t.invoiceNumber,onChange:n,placeholder:"INV-001"}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsx(InputGroup,{label:"Date",name:"invoiceDate",value:t.invoiceDate,onChange:n,placeholder:"DD/MM/YYYY"}),e.jsx(InputGroup,{label:"Due Date",name:"dueDate",value:t.dueDate,onChange:n,placeholder:"DD/MM/YYYY"})]}),e.jsx(InputGroup,{label:"Place of Supply",name:"placeOfSupply",value:t.placeOfSupply,onChange:n,placeholder:"State/Country"})]}),e.jsx(AccordionItem,{title:"Document Branding",icon:le,isOpen:"branding"===u,onClick:()=>f("branding"),children:e.jsx(em,{formData:t,onChange:n})}),e.jsx(AccordionItem,{title:"Parties Involved",icon:j,isOpen:"parties"===u,onClick:()=>f("parties"),children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"p-3 bg-indigo-50 rounded-lg border border-indigo-100",children:[e.jsx("h4",{className:"text-xs font-bold text-indigo-900 uppercase mb-3",children:"Seller (You)"}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(InputGroup,{label:"Name",name:"sellerName",value:t.sellerName,onChange:n,placeholder:"Your Company"}),e.jsx(InputGroup,{label:"Address",name:"sellerAddress",value:t.sellerAddress,onChange:n,placeholder:"Address",rows:2}),e.jsx(InputGroup,{label:"Tax ID (GST/PAN)",name:"sellerTaxId",value:t.sellerTaxId,onChange:n,placeholder:"Optional"}),e.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[e.jsx(InputGroup,{label:"Email",name:"sellerEmail",value:t.sellerEmail,onChange:n,placeholder:"Email"}),e.jsx(InputGroup,{label:"Phone",name:"sellerPhone",value:t.sellerPhone,onChange:n,placeholder:"Phone"})]})]})]}),e.jsxs("div",{className:"p-3 bg-slate-50 rounded-lg border border-slate-200",children:[e.jsx("h4",{className:"text-xs font-bold text-slate-700 uppercase mb-3",children:"Bill To (Client)"}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(InputGroup,{label:"Client Name",name:"clientName",value:t.clientName,onChange:n,placeholder:"Client Name"}),e.jsx(InputGroup,{label:"Address",name:"clientAddress",value:t.clientAddress,onChange:n,placeholder:"Client Address",rows:2}),e.jsx(InputGroup,{label:"Tax ID (GSTIN)",name:"clientTaxId",value:t.clientTaxId,onChange:n,placeholder:"Optional"})]})]})]})}),e.jsx(AccordionItem,{title:"Line Items",icon:Oe,isOpen:"items"===u,onClick:()=>f("items"),children:e.jsxs("div",{className:"space-y-4",children:[t.items.map((t,n)=>e.jsxs("div",{className:"bg-white border border-slate-200 rounded-lg p-3 relative group shadow-sm",children:[e.jsxs("div",{className:"mb-2",children:[e.jsx("label",{className:"block text-[10px] font-bold text-slate-400 uppercase tracking-wide mb-1",children:"Description"}),e.jsx("input",{value:t.description,onChange:e=>s(n,"description",e.target.value),className:"w-full bg-slate-50 border border-slate-200 rounded px-2 py-1.5 text-sm outline-none focus:border-indigo-400 transition-colors",placeholder:"Item Name"})]}),e.jsxs("div",{className:"grid grid-cols-[1fr_1fr_1fr] gap-2 items-end",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-[10px] font-bold text-slate-400 uppercase tracking-wide mb-1",children:"Qty"}),e.jsx("input",{type:"number",value:t.quantity,onChange:e=>s(n,"quantity",e.target.value),className:"w-full bg-slate-50 border border-slate-200 rounded px-2 py-1.5 text-sm text-center font-mono"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-[10px] font-bold text-slate-400 uppercase tracking-wide mb-1",children:"Rate"}),e.jsx("input",{type:"number",value:t.rate,onChange:e=>s(n,"rate",e.target.value),className:"w-full bg-slate-50 border border-slate-200 rounded px-2 py-1.5 text-sm text-right font-mono"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-[10px] font-bold text-slate-400 uppercase tracking-wide mb-1",children:"Amount"}),e.jsx("div",{className:"w-full bg-slate-100 border border-slate-200 rounded px-2 py-1.5 text-sm text-right font-bold text-slate-600 font-mono",children:t.amount})]})]}),e.jsx("button",{onClick:()=>r(n),className:"absolute top-2 right-2 text-slate-300 hover:text-red-500 p-1 transition-colors",children:e.jsx(te,{size:14})})]},n)),e.jsxs("button",{onClick:a,className:"w-full py-2 border border-dashed border-slate-300 text-slate-500 hover:text-indigo-600 hover:border-indigo-300 rounded-lg text-xs font-medium transition-colors flex items-center justify-center gap-2",children:[e.jsx(ne,{size:14})," Add Item"]})]})}),e.jsx(AccordionItem,{title:"Tax Details",icon:Fe,isOpen:"tax"===u,onClick:()=>f("tax"),children:e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsx(InputGroup,{label:"Tax Type",name:"taxType",value:t.taxType,onChange:n,placeholder:"GST"}),e.jsx(InputGroup,{label:"Tax Rate (%)",name:"taxRate",value:t.taxRate,onChange:n,placeholder:"18",type:"number"})]})}),e.jsx(AccordionItem,{title:"Bank & Payment",icon:Ie,isOpen:"bank"===u,onClick:()=>f("bank"),children:e.jsxs("div",{className:"space-y-3",children:[e.jsx(InputGroup,{label:"Account Name",name:"accountName",value:t.accountName,onChange:n,placeholder:"Account Holder"}),e.jsx(InputGroup,{label:"Bank Name",name:"bankName",value:t.bankName,onChange:n,placeholder:"Bank Name"}),e.jsx(InputGroup,{label:"Account Number",name:"accountNumber",value:t.accountNumber,onChange:n,placeholder:"XXXX XXXX XXXX"}),e.jsx(InputGroup,{label:"IFSC / SWIFT",name:"ifscCode",value:t.ifscCode,onChange:n,placeholder:"Code"})]})}),e.jsxs(AccordionItem,{title:"Notes & Signatory",icon:Le,isOpen:"notes"===u,onClick:()=>f("notes"),children:[e.jsx(InputGroup,{label:"Authorized Signatory Name",name:"signatoryName",value:t.signatoryName,onChange:n,placeholder:"Name"}),e.jsx("div",{className:"h-2"}),e.jsx(InputGroup,{label:"Notes / Terms",name:"notes",value:t.notes,onChange:n,placeholder:"Terms...",rows:3})]})]}):e.jsx("div",{className:"p-4 pb-20",children:e.jsx(tm,{styles:o,onUpdate:c,onReset:d})})]})};function Up({data:t,totals:n,zoom:s=1,printing:r=!1,readOnly:i=!1,styles:l}){const o=l||{fontFamily:"font-sans",fontSize:"text-[10pt]",lineHeight:"leading-relaxed",textColor:"#1e293b",headingColor:"#0f172a"},c=t.logoSize||60,d=t.logoAlignment||"left",u=({className:n="",style:s={}})=>t.businessLogo&&!1!==t.brandingEnabled&&"false"!==t.brandingEnabled?e.jsx("img",{src:t.businessLogo,alt:"Business Logo",className:`${n}`,style:{height:`${c}px`,objectFit:"contain",...s}}):null,h=({value:t,placeholder:n,className:s=""})=>t?i||r?e.jsx("span",{className:`font-medium text-slate-900 ${s}`,children:t}):e.jsx("span",{className:`font-medium text-slate-900 border-b border-transparent hover:border-indigo-200 hover:bg-indigo-50 transition-all px-0.5 rounded ${s}`,children:t}):i||r?e.jsx("span",{className:`text-slate-500 italic ${s}`,children:n}):e.jsx("span",{className:`bg-blue-50/50 px-1 border-b border-blue-200 text-slate-400 italic transition-colors hover:bg-blue-100 ${s}`,children:n}),m=r?"div":a.div;return e.jsxs(m,{id:"printable-document",...r?{}:{initial:{opacity:0,y:20},animate:{opacity:1,y:0}},style:{transform:r?"none":`scale(${s})`,transformOrigin:"top center",color:o.textColor},className:`w-[210mm] min-h-[297mm] bg-white relative mb-20 origin-top\n                ${r?"":"shadow-[0_8px_30px_rgb(0,0,0,0.12)] border border-slate-200/60"}\n                ${o.fontFamily} ${o.fontSize} ${o.lineHeight}\n            `,children:[!r&&e.jsx("div",{className:"no-print absolute inset-0 rounded-sm pointer-events-none bg-gradient-to-b from-white to-slate-50/20"}),e.jsxs("div",{className:`p-[10mm] ${r?"block h-auto":"flex flex-col h-full"} relative z-10`,children:[r?e.jsx("table",{style:{width:"100%",marginBottom:"20px",borderBottom:"2px solid #000",paddingBottom:"20px"},children:e.jsxs("tbody",{children:["center"===d&&t.businessLogo&&e.jsx("tr",{children:e.jsx("td",{colSpan:"2",style:{textAlign:"center",paddingBottom:"20px"},children:e.jsx(u,{style:{marginBottom:"15px"}})})}),e.jsxs("tr",{children:[e.jsxs("td",{style:{verticalAlign:"top",width:"50%"},children:["left"===d&&e.jsx("div",{style:{marginBottom:"15px"},children:e.jsx(u,{})}),e.jsx("h1",{className:"text-2xl font-bold uppercase tracking-wider mb-2",style:{color:o.headingColor},children:t.invoiceTitle||"Invoice"}),e.jsxs("div",{className:"mt-4 text-sm",children:[e.jsx("h2",{className:"font-bold text-lg",children:e.jsx(h,{value:t.sellerName,placeholder:"[Your Company Name]"})}),e.jsx("div",{className:"text-slate-600 max-w-[250px] whitespace-pre-wrap",children:e.jsx(h,{value:t.sellerAddress,placeholder:"[Full Address]"})}),t.sellerTaxId&&e.jsxs("div",{className:"mt-1",children:[e.jsx("span",{className:"font-bold text-xs uppercase",children:"GSTIN/Tax ID:"})," ",t.sellerTaxId]}),e.jsxs("div",{className:"mt-1 text-xs",children:[t.sellerEmail&&e.jsx("div",{children:t.sellerEmail}),t.sellerPhone&&e.jsx("div",{children:t.sellerPhone})]})]})]}),e.jsxs("td",{style:{verticalAlign:"top",width:"50%",textAlign:"right"},children:["right"===d&&e.jsx("div",{style:{marginBottom:"15px",display:"flex",justifyContent:"flex-end"},children:e.jsx(u,{})}),e.jsx("table",{style:{float:"right",width:"auto",padding:"10px"},children:e.jsxs("tbody",{children:[e.jsxs("tr",{children:[e.jsx("td",{style:{fontWeight:"bold",color:"#64748b",paddingRight:"10px"},children:"Invoice #:"}),e.jsx("td",{className:"font-mono",children:e.jsx(h,{value:t.invoiceNumber,placeholder:"INV-0001"})})]}),e.jsxs("tr",{children:[e.jsx("td",{style:{fontWeight:"bold",color:"#64748b",paddingRight:"10px"},children:"Date:"}),e.jsx("td",{children:e.jsx(h,{value:t.invoiceDate,placeholder:"DD/MM/YYYY"})})]}),e.jsxs("tr",{children:[e.jsx("td",{style:{fontWeight:"bold",color:"#64748b",paddingRight:"10px"},children:"Due Date:"}),e.jsx("td",{children:e.jsx(h,{value:t.dueDate,placeholder:"DD/MM/YYYY"})})]}),e.jsxs("tr",{children:[e.jsx("td",{style:{fontWeight:"bold",color:"#64748b",paddingRight:"10px"},children:"Place of Supply:"}),e.jsx("td",{children:e.jsx(h,{value:t.placeOfSupply,placeholder:"State"})})]})]})})]})]})]})}):e.jsxs("div",{className:"flex flex-col gap-6 mb-8 border-b-2 border-slate-900 pb-6",children:["center"===d&&e.jsx("div",{className:"flex justify-center mb-4",children:e.jsx(u,{})}),e.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start gap-6 md:gap-0",children:[e.jsxs("div",{children:["left"===d&&e.jsx("div",{className:"mb-4",children:e.jsx(u,{})}),e.jsx("h1",{className:"text-2xl font-bold uppercase tracking-wider mb-4",style:{color:o.headingColor},children:t.invoiceTitle||"Invoice"}),e.jsxs("div",{className:"mt-4 text-sm",children:[e.jsx("h2",{className:"font-bold text-lg",children:e.jsx(h,{value:t.sellerName,placeholder:"[Your Company Name]"})}),e.jsx("div",{className:"text-slate-600 max-w-[250px] whitespace-pre-wrap",children:e.jsx(h,{value:t.sellerAddress,placeholder:"[Full Address]"})}),t.sellerTaxId&&e.jsxs("div",{className:"mt-1",children:[e.jsx("span",{className:"font-bold text-xs uppercase",children:"GSTIN/Tax ID:"})," ",t.sellerTaxId]}),e.jsxs("div",{className:"mt-1 text-xs",children:[t.sellerEmail&&e.jsx("div",{children:t.sellerEmail}),t.sellerPhone&&e.jsx("div",{children:t.sellerPhone})]})]})]}),e.jsxs("div",{className:"text-right flex flex-col items-end",children:["right"===d&&e.jsx("div",{className:"mb-4",children:e.jsx(u,{})}),e.jsxs("div",{className:"bg-slate-50 p-4 rounded-lg border border-slate-100 text-sm min-w-[200px]",children:[e.jsxs("div",{className:"flex justify-between mb-1 gap-4",children:[e.jsx("span",{className:"text-slate-500 font-bold",children:"Invoice #:"}),e.jsx(h,{value:t.invoiceNumber,placeholder:"INV-0001",className:"font-mono"})]}),e.jsxs("div",{className:"flex justify-between mb-1 gap-4",children:[e.jsx("span",{className:"text-slate-500 font-bold",children:"Date:"}),e.jsx(h,{value:t.invoiceDate,placeholder:"DD/MM/YYYY"})]}),e.jsxs("div",{className:"flex justify-between mb-1 gap-4",children:[e.jsx("span",{className:"text-slate-500 font-bold",children:"Due Date:"}),e.jsx(h,{value:t.dueDate,placeholder:"DD/MM/YYYY"})]}),e.jsxs("div",{className:"flex justify-between gap-4",children:[e.jsx("span",{className:"text-slate-500 font-bold",children:"Place of Supply:"}),e.jsx(h,{value:t.placeOfSupply,placeholder:"State"})]})]})]})]})]}),e.jsxs("div",{className:"mb-8",children:[e.jsx("p",{className:"text-xs uppercase font-bold text-slate-400 mb-1",children:"Bill To"}),e.jsx("div",{className:"text-lg font-bold",children:e.jsx(h,{value:t.clientName,placeholder:"[Client Name]"})}),e.jsx("div",{className:"text-slate-600 max-w-[300px] whitespace-pre-wrap",children:e.jsx(h,{value:t.clientAddress,placeholder:"[Client Address]"})}),t.clientTaxId&&e.jsxs("div",{className:"mt-1 text-sm",children:[e.jsx("span",{className:"font-semibold",children:"GSTIN/Tax ID:"})," ",t.clientTaxId]})]}),e.jsx("div",{className:"mb-8",children:e.jsxs("table",{className:"w-full text-sm",children:[e.jsx("thead",{className:"bg-slate-800 text-white uppercase text-xs",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-3 py-2 text-left w-12",children:"Sr."}),e.jsx("th",{className:"px-3 py-2 text-left",children:"Description"}),e.jsx("th",{className:"px-3 py-2 text-center w-20",children:"Qty"}),e.jsx("th",{className:"px-3 py-2 text-right w-24",children:"Rate"}),e.jsx("th",{className:"px-3 py-2 text-right w-32",children:"Amount"})]})}),e.jsx("tbody",{className:"divide-y divide-slate-200 border-b border-slate-200",children:t.items.map((t,n)=>e.jsxs("tr",{className:"even:bg-slate-50",children:[e.jsx("td",{className:"px-3 py-2 text-slate-500",children:n+1}),e.jsx("td",{className:"px-3 py-2 font-medium",children:t.description}),e.jsx("td",{className:"px-3 py-2 text-center",children:t.quantity}),e.jsx("td",{className:"px-3 py-2 text-right",children:Number(t.rate).toLocaleString()}),e.jsx("td",{className:"px-3 py-2 text-right font-bold",children:Number(t.amount).toLocaleString()})]},n))})]})}),r?e.jsx("table",{style:{width:"100%",marginBottom:"20px"},children:e.jsxs("tbody",{children:[e.jsxs("tr",{children:[e.jsx("td",{style:{width:"50%"}})," ",e.jsx("td",{style:{width:"50%"},children:e.jsx("table",{className:"w-full text-sm",children:e.jsxs("tbody",{className:"divide-y divide-slate-100",children:[e.jsxs("tr",{children:[e.jsx("td",{className:"py-2 text-slate-600 font-medium",children:"Subtotal"}),e.jsx("td",{className:"py-2 text-right font-bold",children:n.subtotal.toLocaleString()})]}),t.taxType&&Number(t.taxRate)>0&&e.jsxs("tr",{children:[e.jsxs("td",{className:"py-2 text-slate-600 font-medium",children:[t.taxType," (",t.taxRate,"%)"]}),e.jsx("td",{className:"py-2 text-right font-bold",children:n.taxAmount.toLocaleString()})]}),e.jsxs("tr",{className:"border-t-2 border-slate-800 text-base",children:[e.jsx("td",{className:"py-2 font-extrabold text-slate-900",children:"Total"}),e.jsx("td",{className:"py-2 text-right font-extrabold text-indigo-700",children:n.grandTotal.toLocaleString()})]})]})})})]}),e.jsxs("tr",{children:[e.jsx("td",{style:{width:"50%"}}),e.jsxs("td",{style:{width:"50%",textAlign:"right",fontSize:"10px",fontStyle:"italic",color:"#64748b"},children:["Amount in Words: ",e.jsx("span",{className:"font-semibold text-slate-700",children:n.amountInWords})]})]})]})}):e.jsx("div",{className:"flex justify-end mb-8 break-inside-avoid",children:e.jsxs("div",{className:"w-[300px]",children:[e.jsx("table",{className:"w-full text-sm",children:e.jsxs("tbody",{className:"divide-y divide-slate-100",children:[e.jsxs("tr",{children:[e.jsx("td",{className:"py-2 text-slate-600 font-medium",children:"Subtotal"}),e.jsx("td",{className:"py-2 text-right font-bold",children:n.subtotal.toLocaleString()})]}),t.taxType&&Number(t.taxRate)>0&&e.jsxs("tr",{children:[e.jsxs("td",{className:"py-2 text-slate-600 font-medium",children:[t.taxType," (",t.taxRate,"%)"]}),e.jsx("td",{className:"py-2 text-right font-bold",children:n.taxAmount.toLocaleString()})]}),e.jsxs("tr",{className:"border-t-2 border-slate-800 text-base",children:[e.jsx("td",{className:"py-2 font-extrabold text-slate-900",children:"Total"}),e.jsx("td",{className:"py-2 text-right font-extrabold text-indigo-700",children:n.grandTotal.toLocaleString()})]})]})}),e.jsxs("div",{className:"mt-2 text-right text-xs text-slate-500 italic border-t border-slate-100 pt-1",children:["Amount in Words: ",e.jsx("span",{className:"font-semibold text-slate-700",children:n.amountInWords})]})]})}),r?e.jsx("div",{className:"mt-4 pt-4 border-t border-slate-200",style:{breakInside:"avoid"},children:e.jsx("table",{style:{width:"100%"},children:e.jsx("tbody",{children:e.jsxs("tr",{children:[e.jsxs("td",{style:{verticalAlign:"top",width:"60%"},children:[e.jsx("p",{className:"font-bold uppercase text-xs text-slate-400 mb-2",children:"Bank Details"}),e.jsxs("div",{className:"bg-slate-50 p-3 rounded-lg border border-slate-100",style:{fontSize:"12px"},children:[e.jsxs("p",{children:[e.jsx("span",{className:"font-semibold",children:"Account Name:"})," ",t.accountName||"-"]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-semibold",children:"Bank Name:"})," ",t.bankName||"-"]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-semibold",children:"Account No.:"})," ",t.accountNumber||"-"]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-semibold",children:"IFSC/SWIFT:"})," ",t.ifscCode||"-"]})]}),e.jsxs("div",{className:"mt-4",children:[e.jsx("p",{className:"font-bold uppercase text-xs text-slate-400 mb-1",children:"Terms"}),e.jsx("p",{className:"text-xs text-slate-500",children:t.notes})]})]}),e.jsxs("td",{style:{verticalAlign:"bottom",width:"40%",textAlign:"right"},children:[e.jsxs("p",{className:"font-bold text-sm text-slate-900 mb-4",children:["For ",t.sellerName||"[Company Name]"]}),e.jsx("table",{style:{width:"100%"},children:e.jsx("tbody",{children:e.jsx("tr",{children:e.jsxs("td",{style:{borderTop:"1px solid #94a3b8",paddingTop:"8px",textAlign:"center"},children:[e.jsx("p",{className:"font-bold",children:t.signatoryName||"Authorized Signatory"}),e.jsx("p",{className:"text-xs text-slate-500",children:"Authorized Signature"})]})})})})]})]})})})}):e.jsxs("div",{className:"mt-auto grid grid-cols-2 gap-12 border-t border-slate-200 pt-8 break-inside-avoid",children:[e.jsxs("div",{className:"text-sm",children:[e.jsx("p",{className:"font-bold uppercase text-xs text-slate-400 mb-2",children:"Bank Details"}),e.jsx("div",{className:"bg-slate-50 p-3 rounded-lg border border-slate-100",children:e.jsxs("div",{className:"grid grid-cols-[100px_1fr] gap-1 text-slate-700",children:[e.jsx("span",{className:"font-semibold",children:"Account Name:"})," ",e.jsx("span",{children:t.accountName||"-"}),e.jsx("span",{className:"font-semibold",children:"Bank Name:"})," ",e.jsx("span",{children:t.bankName||"-"}),e.jsx("span",{className:"font-semibold",children:"Account No.:"})," ",e.jsx("span",{className:"font-mono",children:t.accountNumber||"-"}),e.jsx("span",{className:"font-semibold",children:"IFSC/SWIFT:"})," ",e.jsx("span",{className:"font-mono",children:t.ifscCode||"-"})]})}),e.jsxs("div",{className:"mt-4",children:[e.jsx("p",{className:"font-bold uppercase text-xs text-slate-400 mb-1",children:"Terms"}),e.jsx("p",{className:"text-xs text-slate-500",children:t.notes})]})]}),e.jsxs("div",{className:"text-right flex flex-col items-end",children:[e.jsxs("p",{className:"font-bold text-sm text-slate-900 mb-16",children:["For ",t.sellerName||"[Company Name]"]}),e.jsxs("div",{className:"border-t border-slate-400 w-48 pt-2 text-center",children:[e.jsx("p",{className:"font-bold",children:t.signatoryName||"Authorized Signatory"}),e.jsx("p",{className:"text-xs text-slate-500",children:"Authorized Signature"})]})]})]}),!r&&e.jsx("div",{className:"mt-8 pt-4 text-center border-t border-transparent",children:e.jsx("p",{className:"text-[9px] text-slate-300 uppercase tracking-widest font-sans",children:"Powered by DocForge"})})]})]})}const Vp=()=>{const n=kt(),{id:s}=Ct(),a=dd("(min-width: 1024px)"),[r,i]=vt.useState("edit"),[l,o]=vt.useState(1),[c,d]=vt.useState(!1),[u,h]=vt.useState("Untitled Invoice"),[m,p]=vt.useState(!1),[f,x]=vt.useState(null),g=yt.useRef(null),[b,w]=vt.useState({invoiceTitle:"INVOICE",invoiceNumber:"",invoiceDate:(new Date).toLocaleDateString(),dueDate:new Date(Date.now()+1296e6).toLocaleDateString(),placeOfSupply:"State/Country",logoSize:60,logoAlignment:"left",brandingEnabled:!0,sellerName:"",sellerAddress:"",sellerTaxId:"",sellerEmail:"",sellerPhone:"",clientName:"",clientAddress:"",clientTaxId:"",items:[{description:"Web Development Services",quantity:1,rate:5e3,amount:5e3}],taxType:"GST",taxRate:18,accountName:"",bankName:"",accountNumber:"",ifscCode:"",notes:"This invoice is generated electronically and does not require a physical signature.",disputeDays:"7",signatoryName:""}),[j,N]=vt.useState({subtotal:0,taxAmount:0,grandTotal:0,amountInWords:"Zero Only"}),{styles:k,updateStyle:S,resetStyles:C}=Rm(),_=yt.useDeferredValue(b),P=yt.useDeferredValue(j);vt.useEffect(()=>{s&&D(s)},[s]);const D=async e=>{try{const n=await om(e);n.data.name&&h(n.data.name),n.data.sent_at&&B(n.data.sent_at);let s=n.data.content||{};if("string"==typeof s)try{s=JSON.parse(s)}catch(t){}s.formData&&w(e=>({...e,...s.formData})),s.styles&&Object.entries(s.styles).forEach(([e,t])=>S(e,t))}catch(n){}};vt.useEffect(()=>{if(!s){const e=async()=>{try{const e=await(async()=>(await Jn.get("/documents/next-invoice-number")).data)();e&&e.next_number&&(w(t=>({...t,invoiceNumber:e.next_number})),h(`Invoice #${e.next_number}`))}catch(e){w(e=>({...e,invoiceNumber:"INV-0001"})),h("Invoice #INV-0001")}};(async()=>{try{const e=await pd();e&&w(t=>({...t,sellerName:e.name||"",sellerAddress:[e.address,e.city,e.state,e.country,e.zip].filter(Boolean).join(", "),sellerEmail:e.email||"",sellerPhone:e.phone||"",taxType:e.tax_label||"Tax",taxRate:e.tax_percentage||0,businessLogo:e.logo||null,currencySymbol:e.currency_symbol||"$"}))}catch(e){}})(),e()}},[s]),vt.useEffect(()=>{const e=b.items.reduce((e,t)=>e+(Number(t.amount)||0),0),t=e*Number(b.taxRate)/100,n=e+t;N({subtotal:e,taxAmount:t,grandTotal:n,amountInWords:`${n.toLocaleString()} Only`})},[b.items,b.taxRate]);const[T,E]=vt.useState(!1),z=yt.useRef(null),[M,R]=vt.useState(null),A=async e=>{try{if(e&&e.includes("/storage/")){const t=`http://localhost:8000/api/v1/file-proxy?path=${encodeURIComponent(e)}`,n=await fetch(t),s=await n.blob();return new Promise((e,t)=>{const n=new FileReader;n.onloadend=()=>e(n.result),n.onerror=t,n.readAsDataURL(s)})}const t=await fetch(e),n=await t.blob();return new Promise((e,t)=>{const s=new FileReader;s.onloadend=()=>e(s.result),s.onerror=t,s.readAsDataURL(n)})}catch(t){return null}},[O,I]=vt.useState(!1),[L,B]=vt.useState(null),[W,H]=vt.useState(!1);return e.jsxs("div",{className:"flex flex-col h-screen bg-slate-50",children:[f&&e.jsxs("div",{className:"bg-amber-100 border-b border-amber-200 px-4 py-2 flex items-center justify-between text-amber-800 text-sm",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(xe,{size:16}),e.jsxs("span",{className:"font-medium",children:["Previewing Version ",f.version_number]}),e.jsxs("span",{className:"text-amber-600 hidden md:inline",children:["(",new Date(f.created_at).toLocaleString(),")"]})]}),e.jsx("div",{className:"flex items-center gap-3",children:e.jsxs("button",{onClick:()=>{g.current&&(w(g.current.formData),g.current=null),x(null),At.success("Exited preview mode")},className:"text-amber-700 hover:text-amber-900 font-medium hover:underline flex items-center gap-1",children:[e.jsx(t,{size:14})," Exit Preview"]})})]}),T&&e.jsx(Lp,{children:e.jsx(Up,{data:b,totals:j,zoom:1})}),e.jsx(xm,{isOpen:O,onClose:()=>I(!1),documentId:s,documentName:`Invoice #${b.invoiceNumber}`,isReminder:!!L,onSuccess:e=>{e&&e.sent_at&&B(e.sent_at)},getHtmlContent:async()=>{let t=b.businessLogo;if(b.businessLogo&&!b.businessLogo.startsWith("data:")){const e=await A(b.businessLogo);e&&(t=e)}const n={...b,businessLogo:t},s=Tm.renderToStaticMarkup(e.jsx(Up,{data:n,totals:j,zoom:1,printing:!0}));return Om(s,`Invoice #${b.invoiceNumber}`)}}),e.jsxs("header",{className:"no-print h-16 bg-white/80 backdrop-blur-md border-b border-slate-200/60 px-4 md:px-6 flex items-center justify-between sticky top-0 z-30 shadow-sm transition-all duration-300",children:[e.jsxs("div",{className:"flex items-center gap-2 md:gap-4 overflow-hidden",children:[e.jsx("button",{onClick:()=>n("/documents"),className:"p-2 hover:bg-slate-100 rounded-full text-slate-500 transition-colors flex-shrink-0",title:"Back to Documents",children:e.jsx(F,{size:20})}),e.jsxs("div",{className:"min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("h1",{className:"font-bold text-slate-800 text-sm md:text-lg truncate",children:"Service Invoice"}),L&&e.jsxs("span",{className:"hidden lg:inline-flex items-center gap-1 px-2 py-0.5 rounded-full bg-emerald-50 text-emerald-600 text-[10px] font-medium border border-emerald-100",children:[e.jsx(we,{size:10})," Sent"]})]}),e.jsxs("p",{className:"text-[10px] md:text-xs text-slate-400 font-medium whitespace-nowrap hidden sm:block",children:["#",b.invoiceNumber]})]})]}),e.jsxs("div",{className:"flex items-center gap-2 md:gap-3",children:[e.jsxs("div",{className:"hidden lg:flex items-center bg-slate-100 rounded-lg p-1 mr-4",children:[e.jsx("button",{onClick:()=>o(e=>Math.max(e-.1,.5)),className:"p-1.5 hover:bg-white hover:shadow-sm rounded-md text-slate-500 transition-all",children:e.jsx(De,{size:16})}),e.jsxs("span",{className:"text-xs font-semibold text-slate-600 w-12 text-center",children:[Math.round(100*l),"%"]}),e.jsx("button",{onClick:()=>o(e=>Math.min(e+.1,1.5)),className:"p-1.5 hover:bg-white hover:shadow-sm rounded-md text-slate-500 transition-all",children:e.jsx(Te,{size:16})})]}),e.jsxs("button",{onClick:()=>p(!0),className:"flex items-center gap-2 p-2 md:px-4 md:py-2 text-slate-600 text-sm font-medium hover:bg-slate-50 rounded-lg border border-transparent hover:border-slate-200 transition-all",children:[e.jsx($,{size:18}),e.jsx("span",{className:"hidden lg:inline",children:"History"})]}),e.jsxs("button",{onClick:async()=>{if(!s)return void At.error("Please save the document before printing.");const t=JSON.stringify({formData:b,totals:j});if(M&&z.current===t)window.open(M,"_blank");else{E(!0);try{let n=b.businessLogo;if(b.businessLogo&&!b.businessLogo.startsWith("data:")){const e=await A(b.businessLogo);e&&(n=e)}const a={...b,businessLogo:n},r=Tm.renderToStaticMarkup(e.jsx(Up,{data:a,totals:j,zoom:1,printing:!0,styles:k})),i=await Fm(s,r,b.invoiceNumber?`Invoice #${b.invoiceNumber}`:"Invoice");i.url&&(R(i.url),z.current=t,window.open(i.url,"_blank"))}catch(n){At.error("Failed to generate PDF")}finally{E(!1)}}},className:"hidden md:flex items-center gap-2 p-2 md:px-4 md:py-2 text-slate-600 text-sm font-medium hover:bg-slate-50 rounded-lg border border-transparent hover:border-slate-200 transition-all",children:[e.jsx(Ee,{size:18}),e.jsx("span",{className:"hidden lg:inline",children:"Print"})]}),e.jsxs("button",{onClick:()=>{s?I(!0):At.error("Please save the document before sending.")},className:"flex items-center gap-2 px-2 md:px-4 py-2 text-sm font-medium rounded-lg border border-transparent transition-all "+(L?"text-amber-600 hover:bg-amber-50 hover:border-amber-200":"text-slate-600 hover:bg-slate-50 hover:border-slate-200"),children:[L?e.jsx(Z,{size:18}):e.jsx(v,{size:18}),e.jsx("span",{className:"hidden lg:inline",children:L?"Remind":"Send"})]}),e.jsxs("button",{onClick:async()=>{if(s){H(!0);try{let t=b.businessLogo;if(b.businessLogo&&!b.businessLogo.startsWith("data:")){const e=await A(b.businessLogo);e&&(t=e)}const n={...b,businessLogo:t},a=Tm.renderToStaticMarkup(e.jsx(Up,{data:n,totals:j,zoom:1,printing:!0})),r=await Fm(s,a,b.invoiceNumber?`Invoice #${b.invoiceNumber}`:"Invoice");if(r.url){const e=document.createElement("a");e.href=r.url,e.download=`${(b.invoiceNumber?`Invoice_${b.invoiceNumber}`:"Invoice").replace(/[^a-z0-9]/gi,"_")}.pdf`,document.body.appendChild(e),e.click(),document.body.removeChild(e),At.success("Invoice exported successfully")}}catch(t){At.error("Failed to export invoice")}finally{H(!1)}}else At.error("Please save the document before exporting.")},disabled:W,className:"flex items-center gap-2 px-2 md:px-4 py-2 text-slate-600 text-sm font-medium hover:bg-slate-50 rounded-lg border border-transparent hover:border-slate-200 transition-all disabled:opacity-50",children:[W?e.jsx(y,{size:18,className:"animate-spin"}):e.jsx(ge,{size:18}),e.jsx("span",{className:"hidden lg:inline",children:W?"Exporting...":"Export"})]}),e.jsxs("button",{onClick:async()=>{d(!0);try{const e={name:`Invoice #${b.invoiceNumber}`||"Untitled Invoice",type_slug:"invoice",content:{formData:b,styles:k},status:"draft"};if(s)await dm(s,e),At.success("Invoice updated successfully");else{const t=await cm(e);At.success("Invoice created successfully"),n(`/documents/invoice/${t.data.id}`,{replace:!0})}}catch(e){At.error("Failed to save invoice")}finally{setTimeout(()=>d(!1),500)}},className:"flex items-center gap-2 px-3 md:px-5 py-2 rounded-lg text-white font-medium shadow-md transition-all "+(c?"bg-emerald-500":"bg-indigo-600 hover:bg-indigo-700"),children:[c?e.jsx(we,{size:18}):e.jsx(_e,{size:18}),e.jsx("span",{className:"hidden md:inline",children:c?"Saved!":"Save"})]})]})]}),!a&&e.jsxs("div",{className:"flex bg-white border-b border-slate-200 px-4",children:[e.jsx("button",{onClick:()=>i("edit"),className:"flex-1 py-3 text-sm font-medium border-b-2 transition-colors "+("edit"===r?"border-indigo-600 text-indigo-600":"border-transparent text-slate-500 hover:text-slate-700"),children:"Edit"}),e.jsx("button",{onClick:()=>i("preview"),className:"flex-1 py-3 text-sm font-medium border-b-2 transition-colors "+("preview"===r?"border-indigo-600 text-indigo-600":"border-transparent text-slate-500 hover:text-slate-700"),children:"Preview"})]}),e.jsxs("div",{className:"flex flex-col lg:flex-row flex-1 overflow-hidden relative",children:[e.jsx("div",{className:`\n                    no-print w-full lg:w-[400px] h-full bg-white border-b lg:border-b-0 lg:border-r border-slate-200 \n                    overflow-y-auto z-20 shadow-sm flex-shrink-0 lg:order-1\n                    ${a||"edit"===r?"block":"hidden"}\n                `,children:e.jsx(Hp,{formData:b,onChange:e=>{const{name:t,value:n}=e.target;w(e=>({...e,[t]:n})),"invoiceNumber"===t&&h(`Invoice #${n}`)},updateItem:(e,t,n)=>{const s=[...b.items];if(s[e][t]=n,"quantity"===t||"rate"===t){const a=Number("quantity"===t?n:s[e].quantity)||0,r=Number("rate"===t?n:s[e].rate)||0;s[e].amount=a*r}w(e=>({...e,items:s}))},addItem:()=>{w(e=>({...e,items:[...e.items,{description:"",quantity:1,rate:0,amount:0}]}))},removeItem:e=>{b.items.length<=1||w(t=>({...t,items:t.items.filter((t,n)=>n!==e)}))},totals:j,styles:k,onStyleUpdate:S,onStyleReset:C})}),e.jsx("div",{className:`\n                    flex-1 h-full overflow-y-auto bg-slate-50/50 p-4 md:p-8 sm:p-12 \n                    flex justify-center items-start scrollbar-thin scrollbar-thumb-slate-300 lg:order-2\n                    ${a||"preview"===r?"flex":"hidden"}\n                `,style:{backgroundImage:"radial-gradient(#cbd5e1 1px, transparent 1px)",backgroundSize:"20px 20px"},children:e.jsx(Up,{data:_,totals:P,zoom:l,styles:k})})]}),e.jsx(fm,{documentId:s,isOpen:m,onClose:()=>p(!1),onPreview:e=>{g.current||(g.current={formData:b});let t=e.content;if("string"==typeof t)try{t=JSON.parse(t)}catch(n){}t.formData&&w(t.formData),x(e),p(!1),At.success(`Previewing Version ${e.version_number}`)},onDownload:async t=>{const n=At.loading("Preparing version PDF...");try{let r=t.content;if("string"==typeof r)try{r=JSON.parse(r)}catch(a){}const i=r.formData||b,l=(i.items||[]).reduce((e,t)=>e+(Number(t.amount)||0),0),o=l*Number(i.taxRate)/100,c=l+o,d={subtotal:l,taxAmount:o,grandTotal:c,amountInWords:`${c.toLocaleString()} Only`},h=Tm.renderToStaticMarkup(e.jsx(Up,{data:i,totals:d,zoom:1,printing:!0})),m=await Fm(s,h,`${u} - v${t.version_number}`);if(m.url){const e=document.createElement("a");e.href=m.url,e.download=`${u.replace(/[^a-z0-9]/gi,"_")}_v${t.version_number}.pdf`,document.body.appendChild(e),e.click(),document.body.removeChild(e),At.success(`Version ${t.version_number} downloaded`,{id:n})}}catch(r){At.error("Failed to download version PDF",{id:n})}},onRestore:e=>{if(e&&e.content){let n=e.content;if("string"==typeof n)try{n=JSON.parse(n)}catch(t){}n.formData&&w(n.formData)}x(null),g.current=null}})]})},qp=({formData:t,onChange:n,docContent:s,onContentChange:a,addSection:r,removeSection:i,updateSection:l,reorderSections:o,styles:c,onStyleUpdate:d,onStyleReset:u})=>{const[h,m]=vt.useState("parties"),[p,f]=vt.useState("fill"),[x,g]=vt.useState({isOpen:!1,sectionId:null}),b=e=>{m(h===e?null:e)},v=t.effectiveDateDay&&t.effectiveDateMonth&&t.effectiveDateYear,y=t.employerName&&t.candidateName,w=t.position&&t.startDate&&t.salary,S=t.employerSignatoryName;return e.jsxs("div",{className:"bg-white min-h-full pb-20 relative",children:[e.jsx(nm,{isOpen:x.isOpen,onClose:()=>g({isOpen:!1,sectionId:null}),onConfirm:()=>{x.sectionId&&(i(x.sectionId),g({isOpen:!1,sectionId:null}))},title:"Delete Section",message:"Are you sure you want to remove this section? This action cannot be undone.",confirmText:"Delete Section",isDestructive:!0}),e.jsxs("div",{className:"p-6 border-b border-slate-100 bg-slate-50/50 sticky top-0 z-10 backdrop-blur-sm",children:[e.jsxs("div",{className:"flex gap-1 bg-slate-200/50 p-1 rounded-lg mb-4",children:[e.jsx("button",{onClick:()=>f("fill"),className:"flex-1 flex items-center justify-center gap-2 py-2 rounded-md text-sm font-medium transition-all "+("fill"===p?"bg-white shadow-sm text-indigo-600":"text-slate-500 hover:text-slate-700"),children:e.jsx(de,{size:16})}),e.jsx("button",{onClick:()=>f("edit"),className:"flex-1 flex items-center justify-center gap-2 py-2 rounded-md text-sm font-medium transition-all "+("edit"===p?"bg-white shadow-sm text-indigo-600":"text-slate-500 hover:text-slate-700"),title:"Structure",children:e.jsx(ue,{size:16})}),e.jsx("button",{onClick:()=>f("style"),className:"flex-1 flex items-center justify-center gap-2 py-2 rounded-md text-sm font-medium transition-all "+("style"===p?"bg-white shadow-sm text-indigo-600":"text-slate-500 hover:text-slate-700"),title:"Appearance",children:e.jsx(ie,{size:16})})]}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-bold text-slate-900",children:"fill"===p?"Offer Letter Details":"edit"===p?"Structure Builder":"Styling & Appearance"}),e.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"fill"===p?"Enter candidate and job details":"edit"===p?"Customize letter layout":"Fonts, colors and spacing"})]})]}),"fill"===p&&e.jsxs(e.Fragment,{children:[e.jsx(Qh,{title:"Letter Date",icon:I,isOpen:"date"===h,isComplete:v,onClick:()=>b("date"),children:e.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[e.jsx(Kh,{label:"Day",name:"effectiveDateDay",value:t.effectiveDateDay,onChange:n,placeholder:"DD"}),e.jsx(Kh,{label:"Month",name:"effectiveDateMonth",value:t.effectiveDateMonth,onChange:n,placeholder:"Month"}),e.jsx(Kh,{label:"Year",name:"effectiveDateYear",value:t.effectiveDateYear,onChange:n,placeholder:"YY"})]})}),e.jsx(Qh,{title:"Parties Involved",icon:j,isOpen:"parties"===h,isComplete:y,onClick:()=>b("parties"),children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"p-3 bg-indigo-50 rounded-lg border border-indigo-100",children:[e.jsxs("h4",{className:"text-xs font-bold text-indigo-900 uppercase mb-3 flex items-center justify-between",children:[e.jsx("span",{className:"flex items-center gap-2",children:"Employer"}),e.jsxs("button",{onClick:async()=>{try{const e=await pd();if(e){n({target:{name:"employerName",value:e.name||""}});const t=[e.address,e.city,e.state,e.country].filter(Boolean).join(", ");n({target:{name:"employerAddress",value:t||""}}),At.success("Business details populated")}else At.error("No business profile found")}catch(e){At.error("Failed to load business info")}},className:"text-[10px] bg-white border border-indigo-200 text-indigo-600 px-2 py-1 rounded hover:bg-indigo-50 transition-colors flex items-center gap-1",children:[e.jsx(N,{size:10})," Use Profile"]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(Kh,{label:"Company Name",name:"employerName",value:t.employerName,onChange:n,placeholder:"Acme Inc."}),e.jsx(Kh,{label:"Full Address",name:"employerAddress",value:t.employerAddress,onChange:n,placeholder:"Standard Address",rows:2})]})]}),e.jsxs("div",{className:"p-3 bg-emerald-50 rounded-lg border border-emerald-100",children:[e.jsx("h4",{className:"text-xs font-bold text-emerald-900 uppercase mb-3",children:"Candidate"}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(Kh,{label:"Candidate Name",name:"candidateName",value:t.candidateName,onChange:n,placeholder:"John Doe"}),e.jsx(Kh,{label:"Current Address",name:"candidateAddress",value:t.candidateAddress,onChange:n,placeholder:"Candidate Address",rows:2})]})]})]})}),e.jsx(Qh,{title:"Position Details",icon:k,isOpen:"position"===h,isComplete:w,onClick:()=>b("position"),children:e.jsxs("div",{className:"space-y-3",children:[e.jsx(Kh,{label:"Job Title",name:"position",value:t.position,onChange:n,placeholder:"Senior Developer"}),e.jsx(Kh,{label:"Reports To",name:"managerName",value:t.managerName,onChange:n,placeholder:"CTO"}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsx(Kh,{label:"Start Date",name:"startDate",value:t.startDate,onChange:n,placeholder:"Jan 1, 2026"}),e.jsx(Kh,{label:"Salary",name:"salary",value:t.salary,onChange:n,placeholder:"$120,000"})]})]})}),e.jsx(Qh,{title:"Document Branding",icon:le,isOpen:"branding"===h,isComplete:!0,onClick:()=>b("branding"),children:e.jsx(em,{formData:t,onChange:n})}),e.jsx(Qh,{title:"Signatories",icon:P,isOpen:"signatures"===h,isComplete:S,onClick:()=>b("signatures"),children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-bold text-slate-400 mb-2 uppercase",children:"For Employer"}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsx(Kh,{label:"Name",name:"employerSignatoryName",value:t.employerSignatoryName,onChange:n,placeholder:"Hiring Manager"}),e.jsx(Kh,{label:"Title",name:"employerSignatoryTitle",value:t.employerSignatoryTitle,onChange:n,placeholder:"HR Director"})]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-bold text-slate-400 mb-2 uppercase",children:"For Candidate"}),e.jsxs("div",{className:"p-2 bg-slate-50 text-slate-500 text-xs rounded border border-slate-100",children:["Candidate Name will be used for signature block: ",e.jsx("strong",{children:t.candidateName||"(Enter Candidate Name)"})]})]})]})})]}),"edit"===p&&e.jsxs("div",{className:"p-4 space-y-6 pb-20",children:[e.jsx(Jh,{isFixed:!0,section:{title:"Letter Header"},onUpdate:()=>{},children:e.jsx("div",{className:"space-y-3 mt-3",children:e.jsx("textarea",{name:"partiesDisclosing",value:s.partiesDisclosing||"",onChange:a,rows:3,className:"w-full text-xs p-3 rounded-lg border border-slate-200 bg-slate-50 resize-y",placeholder:"Recipient Address Block..."})})}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute left-[7px] top-[-24px] bottom-0 w-[2px] bg-slate-100"}),e.jsx("p",{className:"font-bold text-[10px] uppercase tracking-widest text-slate-400 pl-8 mb-4",children:"Body Sections"}),e.jsx(he,{axis:"y",values:s.sections,onReorder:o,className:"space-y-0",children:s.sections.map(t=>e.jsx(me,{value:t,className:"relative mb-2",children:e.jsx(Jh,{section:t,onUpdate:(e,n)=>l(t.id,e,n),onRemove:()=>{return e=t.id,void g({isOpen:!0,sectionId:e});var e},placeholderTitle:"Section Title",placeholderContent:"Body text..."})},t.id))}),e.jsx(Zh,{onClick:r})]})]}),"style"===p&&e.jsx("div",{className:"p-4 pb-20",children:e.jsx(tm,{styles:c,onUpdate:d,onReset:u})})]})};function Yp({data:t,content:n,zoom:r=1,printing:i=!1,readOnly:l=!1,signatures:o=[],onUpdateSignature:c,onRemoveSignature:d,onEditSignature:u,businessLogo:h,styles:m}){const p=({value:t,placeholder:n,name:s,className:a=""})=>{const r=(e=>{if(!e)return"bg-slate-100 text-slate-600 border-slate-200";const t=["bg-indigo-50 text-indigo-700 border-indigo-200","bg-emerald-50 text-emerald-700 border-emerald-200","bg-amber-50 text-amber-700 border-amber-200","bg-rose-50 text-rose-700 border-rose-200","bg-violet-50 text-violet-700 border-violet-200","bg-sky-50 text-sky-700 border-sky-200"];let n=0;for(let s=0;s<e.length;s++)n=e.charCodeAt(s)+((n<<5)-n);return t[Math.abs(n)%t.length]})(s);return t?l||i?e.jsx("span",{className:`font-medium text-slate-900 ${a}`,children:t}):e.jsx("span",{className:`px-1.5 py-0.5 rounded border ${r} font-medium mx-0.5 transition-all hover:brightness-95 ${a}`,children:t}):l||i?e.jsx("span",{className:`text-slate-500 italic ${a}`,children:n}):e.jsx("span",{className:`px-1.5 py-0.5 rounded border border-dashed ${r} bg-opacity-50 font-medium text-xs mx-0.5 ${a}`,children:n})},f=({template:t,values:n})=>{if(!t)return null;const s=t.split(/(\{\{[^}]+\}\})/g);return e.jsx("span",{children:s.map((t,s)=>{if(t.startsWith("{{")&&t.endsWith("}}")){const a=t.slice(2,-2).trim(),r=n[a];return a.toLowerCase().includes("address")&&r?e.jsx("span",{className:"whitespace-pre-line",children:e.jsx(p,{value:r,name:a,placeholder:`[${a}]`})},s):e.jsx(p,{value:n[a],name:a,placeholder:`[${a}]`},s)}return e.jsx("span",{children:t},s)})})},x=i?"div":a.div,g=i?"div":a.section,b=m||{fontFamily:"font-sans",fontSize:"text-[11pt]",lineHeight:"leading-relaxed",textColor:"#1e293b",headingColor:"#0f172a",pageMargin:"p-[10mm]",paragraphSpacing:"mb-6"};return e.jsxs(x,{id:"printable-document",...i?{}:{initial:{opacity:0,y:20},animate:{opacity:1,y:0}},style:{transform:i?"none":`scale(${r})`,transformOrigin:"top center",color:b.textColor},className:`\n                w-[210mm] min-h-[297mm] bg-white relative mb-20 origin-top \n                ${i?"":"shadow-[0_8px_30px_rgb(0,0,0,0.12)] border border-slate-200/60"}\n                ${b.fontFamily} ${b.fontSize} ${b.lineHeight}\n            `,children:[!i&&e.jsx("div",{className:"no-print absolute inset-0 rounded-sm pointer-events-none bg-gradient-to-b from-white to-slate-50/20"}),e.jsxs("div",{className:`${b.pageMargin} relative z-10`,children:[h&&!1!==t.brandingEnabled&&"false"!==t.brandingEnabled&&e.jsx("div",{className:"flex mb-8 "+("left"===t.logoAlignment?"justify-start":"right"===t.logoAlignment?"justify-end":"justify-center"),style:i?{textAlign:t.logoAlignment||"center"}:{},children:e.jsx("img",{src:h,alt:"Company Logo",style:{height:`${t.logoSize||70}px`,objectFit:"contain"}})})," ",e.jsxs("div",{className:"mb-8",children:[e.jsx("p",{className:`font-medium ${b.paragraphSpacing}`,children:e.jsx(f,{template:n.preamble,values:t})}),e.jsx("div",{className:`whitespace-pre-line ${b.paragraphSpacing}`,children:e.jsx(f,{template:n.partiesDisclosing,values:t})}),e.jsx("p",{className:`${b.paragraphSpacing}`,children:e.jsx(f,{template:n.partiesFooter,values:t})})]}),e.jsx("div",{className:`text-justify ${b.paragraphSpacing}`}),e.jsx("div",{className:"space-y-6 min-h-[100px]",children:e.jsx(s,{mode:"popLayout",children:n.sections&&n.sections.map((n,s)=>e.jsxs(g,{className:b.paragraphSpacing,...i?{}:{layout:!0,initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,scale:.95}},children:[e.jsx("h2",{className:"font-bold text-sm uppercase mb-2",style:{color:b.headingColor},children:n.title}),e.jsx("p",{className:"text-justify",children:e.jsx(f,{template:n.content,values:t})})]},n.id))})}),e.jsxs("div",{className:"mt-12 break-inside-avoid",children:[e.jsx("p",{className:"mb-8",children:"Sincerely,"}),i?e.jsx("table",{style:{width:"100%",borderCollapse:"collapse",marginTop:"20px"},children:e.jsx("tbody",{children:e.jsxs("tr",{children:[e.jsxs("td",{style:{width:"48%",verticalAlign:"top",paddingRight:"2%"},children:[e.jsxs("p",{className:"font-bold uppercase text-xs tracking-wider mb-8",children:["For ",t.employerName||"The Company"]}),e.jsx("div",{className:"relative border-b border-slate-800 h-8 mb-2",style:{borderBottom:"1px solid #000",height:"40px",marginBottom:"10px"},children:t.employerSignatoryName&&e.jsx("span",{style:{fontFamily:"cursive",fontSize:"16pt",color:"#1e3a8a"},children:t.employerSignatoryName})}),e.jsx("p",{className:"text-xs uppercase text-slate-500",children:"Authorized Signature"}),e.jsx("table",{style:{width:"100%",marginTop:"15px"},children:e.jsxs("tbody",{children:[e.jsxs("tr",{children:[e.jsx("td",{style:{width:"60px",fontWeight:"bold",fontSize:"10pt"},children:"Name:"}),e.jsx("td",{style:{borderBottom:"1px solid #ccc"},children:t.employerSignatoryName})]}),e.jsxs("tr",{children:[e.jsx("td",{style:{paddingBottom:"5px"}}),e.jsx("td",{})]}),e.jsxs("tr",{children:[e.jsx("td",{style:{width:"60px",fontWeight:"bold",fontSize:"10pt"},children:"Title:"}),e.jsx("td",{style:{borderBottom:"1px solid #ccc"},children:t.employerSignatoryTitle})]})]})})]}),e.jsx("td",{style:{width:"4%"}}),e.jsxs("td",{style:{width:"48%",verticalAlign:"top"},children:[e.jsx("p",{className:"font-bold uppercase text-xs tracking-wider mb-8",children:"Accepted By"}),e.jsx("div",{className:"relative border-b border-slate-800 h-8 mb-2",style:{borderBottom:"1px solid #000",height:"40px",marginBottom:"10px"},children:t.candidateSignatoryName&&e.jsx("span",{style:{fontFamily:"cursive",fontSize:"16pt",color:"#1e3a8a"},children:t.candidateSignatoryName})}),e.jsx("p",{className:"text-xs uppercase text-slate-500",children:"Candidate Signature"}),e.jsx("table",{style:{width:"100%",marginTop:"15px"},children:e.jsxs("tbody",{children:[e.jsxs("tr",{children:[e.jsx("td",{style:{width:"60px",fontWeight:"bold",fontSize:"10pt"},children:"Name:"}),e.jsx("td",{style:{borderBottom:"1px solid #ccc"},children:t.candidateName})]}),e.jsxs("tr",{children:[e.jsx("td",{style:{paddingBottom:"5px"}}),e.jsx("td",{})]}),e.jsxs("tr",{children:[e.jsx("td",{style:{width:"60px",fontWeight:"bold",fontSize:"10pt"},children:"Date:"}),e.jsx("td",{style:{borderBottom:"1px solid #ccc"}})]})]})})]})]})})}):e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 md:gap-16",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsxs("p",{className:"font-bold uppercase text-xs tracking-wider mb-8",children:["For ",t.employerName||"The Company"]}),e.jsx("div",{className:"relative border-b border-slate-800 h-8 mb-2",children:t.employerSignatoryName&&e.jsx("span",{className:"absolute bottom-1 left-2 font-cursive text-xl text-blue-900 opacity-80 rotate-[-2deg]",children:t.employerSignatoryName})}),e.jsx("p",{className:"text-xs uppercase text-slate-500",children:"Authorized Signature"}),e.jsxs("div",{className:"pt-4 grid grid-cols-[60px_1fr] gap-x-2 gap-y-1 items-baseline",children:[e.jsx("span",{className:"text-sm font-medium",children:"Name:"}),e.jsx("span",{className:"border-b border-slate-300 w-full inline-block h-5 pl-1",children:t.employerSignatoryName}),e.jsx("span",{className:"text-sm font-medium",children:"Title:"}),e.jsx("span",{className:"border-b border-slate-300 w-full inline-block h-5 pl-1",children:t.employerSignatoryTitle})]})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"font-bold uppercase text-xs tracking-wider mb-8",children:"Accepted By"}),e.jsx("div",{className:"relative border-b border-slate-800 h-8 mb-2",children:t.candidateSignatoryName&&e.jsx("span",{className:"absolute bottom-1 left-2 font-cursive text-xl text-blue-900 opacity-80 rotate-[-2deg]",children:t.candidateSignatoryName})}),e.jsx("p",{className:"text-xs uppercase text-slate-500",children:"Candidate Signature"}),e.jsxs("div",{className:"pt-4 grid grid-cols-[60px_1fr] gap-x-2 gap-y-1 items-baseline",children:[e.jsx("span",{className:"text-sm font-medium",children:"Name:"}),e.jsx("span",{className:"border-b border-slate-300 w-full inline-block h-5 pl-1",children:t.candidateName}),e.jsx("span",{className:"text-sm font-medium",children:"Date:"}),e.jsx("span",{className:"border-b border-slate-300 w-full inline-block h-5 pl-1"})]})]})]})]}),!i&&e.jsx("div",{className:"absolute bottom-4 left-0 right-0 text-center",children:e.jsx("p",{className:"text-[9px] text-slate-300 uppercase tracking-widest font-sans",children:"Powered by DocForge"})})]})]})}const Gp={title:"Employment Offer Letter",preamble:"{{effectiveDateDay}} {{effectiveDateMonth}}, 20{{effectiveDateYear}}",partiesDisclosing:"To,\n{{candidateName}}\n{{candidateAddress}}",partiesReceiving:"",partiesFooter:"Dear {{candidateName}},",sections:[{id:"1",title:"Welcome",content:'We are pleased to offer you the position of {{position}} at {{employerName}} ("Company"). We believe your skills and experience are an excellent match for our company.'},{id:"2",title:"Position and Duties",content:"You will be working as {{position}}, reporting to {{managerName}}. Your start date will be {{startDate}}. Your primary duties will be those consistent with this position and as assigned by your manager."},{id:"3",title:"Compensation",content:"Your starting salary will be {{salary}} per year, payable in accordance with the Company's standard payroll schedule. This salary is subject to adjustment pursuant to the Company's employee compensation policies."},{id:"4",title:"Benefits",content:"You will be eligible to participate in the Company's standard employee benefit plans, including health insurance, vacation, and 401(k), provided to employees at your level."},{id:"5",title:"At-Will Employment",content:'Your employment with the Company is for no specified period and constitutes "at-will" employment. This means that either you or the Company may terminate the employment relationship at any time, with or without cause or notice.'},{id:"6",title:"Acceptance",content:"To accept this offer, please sign and date this letter below and return it to us by {{expirationDate}}."}]},Xp={effectiveDateDay:"",effectiveDateMonth:"",effectiveDateYear:"",logoSize:80,logoAlignment:"left",brandingEnabled:!0,employerName:"",employerAddress:"",candidateName:"",candidateAddress:"",position:"",managerName:"",startDate:"",salary:"",expirationDate:"",employerSignatoryName:"",employerSignatoryTitle:"",candidateSignatoryName:""},Qp=(t,n,s="Document",a=[],r=null)=>`\n    <!DOCTYPE html>\n    <html>\n        <head>\n            <meta charset="utf-8">\n            <title>${s}</title>\n            <style>\n                * { box-sizing: border-box; }\n                body { \n                    font-family: 'Times New Roman', serif; \n                    line-height: 1.5; \n                    color: #333; \n                    font-size: 11pt; \n                    margin: 0; \n                    padding: 40px; \n                }\n                .text-center { text-align: center; }\n                .uppercase { text-transform: uppercase; }\n                .font-bold { font-weight: bold; }\n                .text-sm { font-size: 10pt; }\n                .text-xs { font-size: 9pt; }\n                .text-justify { text-align: justify; }\n                .mb-2 { margin-bottom: 0.5rem; }\n                .mb-4 { margin-bottom: 1rem; }\n                .mb-6 { margin-bottom: 1.5rem; }\n                .mb-8 { margin-bottom: 2rem; }\n                .mb-10 { margin-bottom: 2.5rem; }\n                .pb-2 { padding-bottom: 0.5rem; }\n                .mt-12 { margin-top: 3rem; }\n                .border-b { border-bottom: 1px solid #000; }\n                .border-b-2 { border-bottom: 2px solid #000; }\n                \n                @page { margin: 40px; }\n                \n                h1 { \n                    font-size: 16pt; \n                    text-transform: uppercase; \n                    border-bottom: 2px solid #000; \n                    padding-bottom: 10px; \n                    margin-bottom: 30px; \n                    text-align: center; \n                    font-weight: bold; \n                    letter-spacing: 2px; \n                }\n                p { margin-bottom: 12px; }\n                \n                table { width: 100%; border-collapse: collapse; }\n                td { vertical-align: top; }\n                \n                .font-cursive { font-family: cursive; font-style: italic; }\n            </style>\n        </head>\n        <body>\n            ${Tm.renderToStaticMarkup(e.jsx(Yp,{data:t,content:n,zoom:1,printing:!0,signatures:a,businessLogo:r}))}\n        </body>\n    </html>\n    `,Kp=()=>{const n=kt(),{id:s}=Ct(),a=dd("(min-width: 1024px)"),[r,i]=vt.useState("edit"),[o,c]=vt.useState(1),[d,u]=vt.useState(!1),[h,m]=vt.useState(!1),[p,f]=vt.useState(!1),[x,g]=vt.useState(!1),[w,j]=vt.useState(!1),[N,k]=vt.useState(null),[S,C]=vt.useState(null),[_,P]=vt.useState(null),[D,T]=vt.useState(null),{formData:E,docContent:z,signatures:M,documentName:R,setDocumentName:A,sentAt:O,setSentAt:I,isLoading:L,isSaving:B,handleFormChange:W,handleContentChange:H,addSection:U,removeSection:V,updateSection:q,reorderSections:Y,addSignature:G,updateSignature:X,removeSignature:Q,saveDocument:K,enterPreviewMode:J,exitPreviewMode:ee,restoreVersion:te,styles:ne,updateStyle:se,resetStyles:ae}=(e=>{const[t,n]=vt.useState(Xp),[s,a]=vt.useState(Gp),[r,i]=vt.useState("Untitled Offer Letter"),[l,o]=vt.useState(null),[c,d]=vt.useState(!!e),[u,h]=vt.useState(!1),{styles:m,updateStyle:p,resetStyles:f}=Rm(),x=vt.useRef(null);vt.useEffect(()=>{(async()=>{if(e)try{d(!0);const s=await om(e);s.data.name&&i(s.data.name),s.data.sent_at&&o(s.data.sent_at);let r=s.data?.content||s.content;if(r){let e=r;if("string"==typeof e)try{e=JSON.parse(e)}catch(t){}e=e||{},n(t=>({...t,...e.formData||Xp})),a(e.docContent||Gp),e.styles&&Object.entries(e.styles).forEach(([e,t])=>p(e,t)),e.signatures&&b(e.signatures)}}catch(s){At.error("Failed to load document")}finally{d(!1)}else try{const e=await pd();e&&n(t=>({...t,employerName:e.name||"",employerAddress:[e.address,e.city,e.state,e.country].filter(Boolean).join(", ")}))}catch(s){}})()},[e]);const[g,b]=vt.useState([]);return{formData:t,docContent:s,signatures:g,documentName:r,setDocumentName:i,sentAt:l,setSentAt:o,isLoading:c,isSaving:u,handleFormChange:e=>{const{name:t,value:s}=e.target;n(e=>({...e,[t]:s}))},handleContentChange:e=>{const{name:t,value:n}=e.target;a(e=>({...e,[t]:n}))},addSection:()=>{a(e=>({...e,sections:[...e.sections,{id:zm(),title:"New Section",content:"Enter the details of this new clause here..."}]}))},removeSection:e=>{a(t=>({...t,sections:t.sections.filter(t=>t.id!==e)}))},updateSection:(e,t,n)=>{a(s=>({...s,sections:s.sections.map(s=>s.id===e?{...s,[t]:n}:s)}))},reorderSections:e=>{a(t=>({...t,sections:e}))},addSignature:e=>{b(t=>[...t,e])},updateSignature:(e,t)=>{b(n=>n.map(n=>n.id===e?{...n,...t}:n))},removeSignature:e=>{b(t=>t.filter(t=>t.id!==e))},saveDocument:async n=>{h(!0);try{const a={name:r,type_slug:"offer-letter",content:{formData:t,docContent:s,styles:m,signatures:g},status:"draft"};if(e)return await dm(e,a),At.success("Document updated successfully"),e;{const e=await cm(a);return At.success("Document created successfully"),n&&n(`/documents/offer-letter/${e.data.id}`,{replace:!0}),e.data.id}}catch(a){throw a.response&&422===a.response.status||At.error("Failed to save document"),a}finally{setTimeout(()=>h(!1),500)}},enterPreviewMode:e=>{x.current||(x.current={formData:t,docContent:s});let r=e.content;if("string"==typeof r)try{r=JSON.parse(r)}catch(i){}return r.formData&&n(r.formData),r.docContent&&a(r.docContent),r},exitPreviewMode:()=>{x.current&&(n(x.current.formData),a(x.current.docContent),x.current=null)},restoreVersion:e=>{if(e&&e.content){let s=e.content;if("string"==typeof s)try{s=JSON.parse(s)}catch(t){}s.formData&&n(s.formData),s.docContent&&a(s.docContent)}x.current=null},styles:m,updateStyle:p,resetStyles:f}})(s),[re,ie]=vt.useState({isOpen:!1,data:null}),le=yt.useDeferredValue(E),oe=yt.useDeferredValue(z),ce=Kd(Qd(qu,{activationConstraint:{distance:8}}),Qd(Ju,{activationConstraint:{delay:250,tolerance:5}})),de=yt.useRef(null),ue=async e=>{try{if(e&&e.includes("/storage/")){const t=`http://127.0.0.1:8000/api/v1/file-proxy?path=${encodeURIComponent(e)}`,n=await fetch(t),s=await n.blob();return new Promise((e,t)=>{const n=new FileReader;n.onloadend=()=>e(n.result),n.onerror=t,n.readAsDataURL(s)})}const t=await fetch(e),n=await t.blob();return new Promise((e,t)=>{const s=new FileReader;s.onloadend=()=>e(s.result),s.onerror=t,s.readAsDataURL(n)})}catch(t){return null}};yt.useEffect(()=>{(async()=>{try{const e=await pd();e&&e.logo&&T(e.logo)}catch(e){}})()},[]);const he=async()=>{const e=R?.trim();if(!e||["Untitled Offer Letter"].includes(e))return C("Please enter a valid document name."),void(de.current&&de.current.focus());try{await K(n)}catch(t){}},[me,pe]=vt.useState(null),fe=async()=>{if(s){f(!0);try{let t=D;if(D&&!D.startsWith("data:")){const e=await ue(D);e&&(t=e)}const n={...E,brandingEnabled:!1!==E.brandingEnabled&&"false"!==E.brandingEnabled,logoAlignment:E.logoAlignment||"center",logoSize:E.logoSize||70,businessLogo:t},a=renderToStaticMarkup(e.jsx(Yp,{data:n,content:z,signatures:M,zoom:1,printing:!0,styles:ne,businessLogo:t})),r=await Fm(s,a,R);r.url&&window.open(r.url,"_blank")}catch(t){At.error("Failed to generate PDF. Please try again.")}finally{f(!1)}}else At.error("Please save the document before printing.")},be=async()=>{if(s){g(!0);try{let e=D;if(D&&!D.startsWith("data:")){const t=await ue(D);t&&(e=t)}const t=Qp(E,z,R,M,e),n=await Fm(s,t,R);if(n.url){const e=document.createElement("a");e.href=n.url,e.download=`${R.replace(/[^a-z0-9]/gi,"_").toLowerCase()}.pdf`,document.body.appendChild(e),e.click(),document.body.removeChild(e),At.success("Document exported successfully")}}catch(e){At.error("Failed to export document")}finally{g(!1)}}else At.error("Please save the document before exporting.")},ve=()=>{s?j(!0):At.error("Please save the document before sending.")};return L?e.jsx("div",{className:"flex h-screen items-center justify-center bg-slate-50",children:e.jsxs("div",{className:"text-center",children:[e.jsx(y,{size:40,className:"animate-spin text-indigo-600 mx-auto mb-4"}),e.jsx("p",{className:"text-slate-500 font-medium",children:"Loading Document..."})]})}):e.jsx(Mh,{sensors:ce,onDragStart:e=>{pe(e.active)},onDragEnd:e=>{const{active:t,over:n}=e;if(pe(null),n&&"document-canvas"===n.id){const e=document.getElementById("printable-document");if(e&&t.rect.current.translated){const n=e.getBoundingClientRect(),s=(t.rect.current.translated.left-n.left)/o,a=(t.rect.current.translated.top-n.top)/o;"toolbar-item"===t.data.current?.type?ie({isOpen:!0,data:{id:null,position:{x:s,y:a},type:"all",required:!0,order:M.length+1}}):"signature-field"===t.data.current?.type&&X(t.id,{position:{x:s,y:a}})}}},children:e.jsxs("div",{className:"flex flex-col h-screen bg-slate-100 overflow-hidden",children:[e.jsx(gm,{isOpen:re.isOpen,onClose:()=>ie({isOpen:!1,data:null}),onSave:e=>{if(e.id)X(e.id,{metadata:{signeeName:e.signeeName,signeeEmail:e.signeeEmail,type:e.type,required:e.required,order:e.order}});else{const t={id:zm(),position:re.data.position,metadata:{signeeName:e.signeeName,signeeEmail:e.signeeEmail,type:e.type,required:e.required,order:e.order}};G(t)}},initialData:re.data,parties:{disclosingPartyName:E.employerName,receivingPartyName:E.candidateName,disclosingSignatoryName:E.employerSignatoryName,receivingSignatoryName:E.candidateName}}),e.jsx(Xh,{dropAnimation:{sideEffects:({active:e})=>(document.body.style.cursor="grabbing",()=>{document.body.style.cursor=""})},children:me?"toolbar-item"===me.data.current?.type?e.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-lg border border-indigo-500 bg-white shadow-xl opacity-90 cursor-grabbing ring-2 ring-indigo-500/20 w-48",children:[e.jsx("div",{className:"p-2 rounded-md bg-indigo-100 text-indigo-600",children:e.jsx("div",{className:"w-5 h-5 flex items-center justify-center font-bold",children:"+"})}),e.jsx("span",{className:"text-sm font-medium text-slate-900",children:"Placing Field..."})]}):"signature-field"===me.data.current?.type?e.jsxs("div",{className:"w-64 bg-white/95 backdrop-blur-sm border-2 border-indigo-500 rounded-lg shadow-2xl p-3 flex flex-col cursor-grabbing",children:[e.jsx("div",{className:"flex items-center gap-2 text-indigo-700 font-semibold border-b pb-2 mb-2",children:e.jsx("span",{children:me.data.current.signeeName||"Signature"})}),e.jsx("div",{className:"h-10 flex items-center justify-center text-indigo-200",children:"Sign Here"})]}):null:null}),N&&e.jsxs("div",{className:"bg-amber-100 border-b border-amber-200 px-4 py-2 flex items-center justify-between text-amber-800 text-sm",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(xe,{size:16}),e.jsxs("span",{className:"font-medium",children:["Previewing Version ",N.version_number]})]}),e.jsxs("button",{onClick:()=>{ee(),k(null),At.success("Exited preview mode")},className:"text-amber-700 hover:text-amber-900 font-medium hover:underline flex items-center gap-1",children:[e.jsx(t,{size:14})," Exit Preview"]})]}),e.jsx(xm,{isOpen:w,onClose:()=>j(!1),documentId:s,documentName:R,isReminder:!!O,onSuccess:e=>{e&&e.sent_at&&I(e.sent_at)},getHtmlContent:async()=>{let e=D;if(D&&!D.startsWith("data:")){const t=await ue(D);t&&(e=t)}return Qp(E,z,R,M,e)},signatures:M}),e.jsxs("header",{className:"no-print h-14 md:h-16 bg-white/80 backdrop-blur-md border-b border-slate-200/60 px-4 md:px-6 flex items-center justify-between flex-shrink-0 z-30 shadow-sm relative transition-all duration-300",children:[e.jsxs("div",{className:"flex items-center gap-2 md:gap-4",children:[e.jsx("button",{onClick:()=>n("/documents"),className:"p-2 hover:bg-slate-100 rounded-full text-slate-500 transition-colors flex-shrink-0",children:e.jsx(F,{size:20})}),e.jsxs("div",{className:"min-w-0 relative group/input",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("div",{className:"relative",children:[e.jsx("input",{ref:de,type:"text",value:R,onChange:e=>{A(e.target.value),S&&C(null)},className:"font-bold text-sm md:text-lg bg-transparent border-b-2 focus:ring-0 p-0 m-0 w-auto min-w-[150px] max-w-[300px] placeholder-slate-400 truncate transition-colors "+(S?"border-red-500 text-slate-800 ring-4 ring-red-500/10 rounded-sm px-1 -mx-1":"border-transparent hover:border-slate-200 text-slate-800"),placeholder:"Enter Document Name"}),S&&e.jsxs("div",{className:"absolute top-full left-0 mt-2 w-64 bg-white rounded-lg shadow-xl border border-red-100 z-50 p-3 animate-in fade-in slide-in-from-top-2",children:[e.jsxs("div",{className:"flex items-start gap-2 text-red-600 mb-2",children:[e.jsx(b,{size:16}),e.jsx("p",{className:"text-xs font-semibold",children:S})]}),_&&e.jsxs("div",{className:"bg-slate-50 rounded p-2 border border-slate-100",children:[e.jsx("p",{className:"text-[10px] text-slate-500 mb-1 uppercase font-bold",children:"Suggestion:"}),e.jsx("button",{onClick:()=>{A(_),C(null)},className:"text-sm font-bold text-indigo-600 hover:text-indigo-700 hover:underline",children:_})]})]})]}),e.jsx("button",{onClick:()=>{const e=E.candidateName?.trim();e?(A(`Offer Letter - ${e}`),C(null),P(null),At.success("Generated smart name!")):At.error("Enter 'Candidate Name' in the form first.")},className:"p-1.5 text-slate-400 hover:text-indigo-600 hover:bg-indigo-50 rounded-md transition-colors",children:e.jsx(Pe,{size:16})}),O&&e.jsxs("span",{className:"hidden lg:inline-flex items-center gap-1 px-2 py-0.5 rounded-full bg-emerald-50 text-emerald-600 text-[10px] font-medium border border-emerald-100",children:[e.jsx(we,{size:10})," Sent"]})]}),e.jsx("p",{className:"text-[10px] md:text-xs text-slate-400 font-medium whitespace-nowrap hidden sm:block mt-0.5",children:s?"Autosaved locally":"Draft"})]})]}),e.jsxs("div",{className:"flex items-center gap-2 md:gap-3",children:[e.jsxs("div",{className:"hidden lg:flex items-center bg-slate-100 rounded-lg p-1 mr-4",children:[e.jsx("button",{onClick:()=>c(e=>Math.max(e-.1,.5)),className:"p-1.5 hover:bg-white hover:shadow-sm rounded-md text-slate-500 transition-all",children:e.jsx(De,{size:16})}),e.jsxs("span",{className:"text-xs font-semibold text-slate-600 w-12 text-center",children:[Math.round(100*o),"%"]}),e.jsx("button",{onClick:()=>c(e=>Math.min(e+.1,1.5)),className:"p-1.5 hover:bg-white hover:shadow-sm rounded-md text-slate-500 transition-all",children:e.jsx(Te,{size:16})})]}),e.jsxs("button",{onClick:()=>u(!0),className:"hidden lg:flex items-center gap-2 px-4 py-2 text-slate-600 text-sm font-medium hover:bg-slate-50 rounded-lg border border-transparent hover:border-slate-200 transition-all",children:[e.jsx($,{size:18}),e.jsx("span",{children:"History"})]}),e.jsxs("button",{onClick:fe,disabled:p,className:"hidden lg:flex items-center gap-2 px-4 py-2 text-slate-600 text-sm font-medium hover:bg-slate-50 rounded-lg border border-transparent hover:border-slate-200 transition-all disabled:opacity-50",children:[p?e.jsx(y,{size:18,className:"animate-spin"}):e.jsx(Ee,{size:18}),e.jsx("span",{children:"Print"})]}),e.jsxs("button",{onClick:ve,className:"hidden lg:flex items-center gap-2 px-4 py-2 text-sm font-medium rounded-lg border border-transparent transition-all "+(O?"text-amber-600 hover:bg-amber-50 hover:border-amber-200":"text-slate-600 hover:bg-slate-50 hover:border-slate-200"),children:[O?e.jsx(Z,{size:18}):e.jsx(v,{size:18}),e.jsx("span",{children:O?"Remind":"Send"})]}),e.jsxs("button",{onClick:be,disabled:x,className:"hidden lg:flex items-center gap-2 px-4 py-2 text-slate-600 text-sm font-medium hover:bg-slate-50 rounded-lg border border-transparent hover:border-slate-200 transition-all disabled:opacity-50",children:[x?e.jsx(y,{size:18,className:"animate-spin"}):e.jsx(ge,{size:18}),e.jsx("span",{children:"Export"})]}),e.jsxs("button",{onClick:he,className:"hidden lg:flex items-center gap-2 px-5 py-2 rounded-lg text-white font-medium shadow-md transition-all "+(B?"bg-emerald-500":"bg-indigo-600 hover:bg-indigo-700"),children:[B?e.jsx(we,{size:18}):e.jsx(_e,{size:18}),e.jsx("span",{children:B?"Saved!":"Save"})]})]})]}),e.jsxs("div",{className:"flex flex-col lg:flex-row flex-1 overflow-hidden relative pb-[70px] lg:pb-0",children:[e.jsx("div",{className:`\n                        no-print w-full lg:w-[400px] h-full bg-white border-b lg:border-b-0 lg:border-r border-slate-200 \n                        overflow-y-auto z-20 shadow-sm flex-shrink-0 lg:order-1\n                        ${a||"edit"===r?"block":"hidden"}\n                    `,children:e.jsx(qp,{formData:E,onChange:W,docContent:z,onContentChange:H,addSection:U,removeSection:V,updateSection:q,reorderSections:Y,styles:ne,onStyleUpdate:se,onStyleReset:ae})}),e.jsxs("div",{className:`\n                        flex-1 h-full overflow-y-auto bg-slate-50/50 p-4 md:p-8 sm:p-12 \n                        flex justify-center items-start scrollbar-thin scrollbar-thumb-slate-300 lg:order-2\n                        ${a||"preview"===r?"flex":"hidden"}\n                    `,style:{backgroundImage:"radial-gradient(#cbd5e1 1px, transparent 1px)",backgroundSize:"20px 20px"},children:[e.jsx(Yp,{data:le,content:oe,zoom:o,signatures:M,onUpdateSignature:X,onRemoveSignature:Q,onEditSignature:e=>{ie({isOpen:!0,data:{id:e.id,...e.metadata}})},businessLogo:D,styles:ne}),!a&&"preview"===r&&e.jsx("button",{onClick:()=>{ie({isOpen:!0,data:{id:null,position:{x:50,y:100},type:"all",required:!0,order:M.length+1}})},className:"fixed bottom-24 right-6 w-14 h-14 bg-indigo-600 text-white rounded-full shadow-lg shadow-indigo-600/30 flex items-center justify-center hover:bg-indigo-700 transition-transform active:scale-95 z-30",children:e.jsx("span",{className:"text-2xl font-bold",children:"+"})})]})]}),e.jsx(fm,{documentId:s,isOpen:d,onClose:()=>u(!1),onPreview:e=>{J(e),k(e),u(!1),At.success(`Previewing Version ${e.version_number}`)},onDownload:async e=>{const t=At.loading("Preparing version PDF...");try{let a=e.content;if("string"==typeof a)try{a=JSON.parse(a)}catch(n){}const r=a.formData||E,i=a.docContent||z;let l=D;if(D&&!D.startsWith("data:")){const e=await ue(D);e&&(l=e)}const o=Qp(r,i,`${R} - v${e.version_number}`,[],l),c=await Fm(s,o,`${R} - v${e.version_number}`);if(c.url){const n=document.createElement("a");n.href=c.url,n.download=`${R.replace(/[^a-z0-9]/gi,"_")}_v${e.version_number}.pdf`,document.body.appendChild(n),n.click(),document.body.removeChild(n),At.success(`Version ${e.version_number} downloaded`,{id:t})}}catch(a){At.error("Failed to download version PDF",{id:t})}},onRestore:e=>{te(e),k(null)}}),!a&&e.jsxs("div",{className:"fixed bottom-0 left-0 right-0 bg-white border-t border-slate-200 flex justify-between items-center px-6 py-3 pb-safe z-40 safe-area-bottom",children:[e.jsxs("button",{onClick:()=>i("edit"),className:"flex flex-col items-center gap-1 "+("edit"===r?"text-indigo-600":"text-slate-400"),children:[e.jsx(l,{size:24,strokeWidth:"edit"===r?2.5:2}),e.jsx("span",{className:"text-[10px] font-medium",children:"Editor"})]}),e.jsxs("button",{onClick:()=>i("preview"),className:"flex flex-col items-center gap-1 "+("preview"===r?"text-indigo-600":"text-slate-400"),children:[e.jsx(xe,{size:24,strokeWidth:"preview"===r?2.5:2}),e.jsx("span",{className:"text-[10px] font-medium",children:"Preview"})]}),e.jsxs("button",{onClick:he,className:"flex flex-col items-center gap-1 "+(B?"text-emerald-500":"text-slate-400 transition-colors active:text-indigo-600"),children:[B?e.jsx(we,{size:24,strokeWidth:2.5}):e.jsx(_e,{size:24}),e.jsx("span",{className:"text-[10px] font-medium",children:B?"Saved":"Save"})]}),e.jsxs("button",{onClick:()=>m(!0),className:"flex flex-col items-center gap-1 "+(h?"text-indigo-600":"text-slate-400"),children:[e.jsx(ze,{size:24}),e.jsx("span",{className:"text-[10px] font-medium",children:"More"})]})]}),!a&&h&&e.jsxs("div",{className:"fixed inset-0 z-50 flex flex-col justify-end",children:[e.jsx("div",{className:"absolute inset-0 bg-slate-900/40 backdrop-blur-sm animate-in fade-in",onClick:()=>m(!1)}),e.jsxs("div",{className:"relative bg-white rounded-t-2xl p-6 pb-safe animate-in slide-in-from-bottom shadow-2xl space-y-2",children:[e.jsx("div",{className:"w-12 h-1.5 bg-slate-200 rounded-full mx-auto mb-6"}),e.jsx("h3",{className:"text-sm font-semibold text-slate-400 uppercase tracking-wider mb-2 px-2",children:"Actions"}),e.jsxs("button",{onClick:()=>{m(!1),u(!0)},className:"w-full flex items-center gap-3 p-3 text-slate-700 font-medium hover:bg-slate-50 rounded-xl transition-colors",children:[e.jsx("div",{className:"p-2 bg-indigo-50 text-indigo-600 rounded-lg",children:e.jsx($,{size:20})}),"Version History"]}),e.jsxs("button",{onClick:()=>{m(!1),ve()},className:"w-full flex items-center gap-3 p-3 text-slate-700 font-medium hover:bg-slate-50 rounded-xl transition-colors",children:[e.jsx("div",{className:"p-2 bg-amber-50 text-amber-600 rounded-lg",children:O?e.jsx(Z,{size:20}):e.jsx(v,{size:20})}),O?"Send Reminder":"Send to Client"]}),e.jsxs("button",{onClick:()=>{m(!1),fe()},disabled:p,className:"w-full flex items-center gap-3 p-3 text-slate-700 font-medium hover:bg-slate-50 rounded-xl transition-colors disabled:opacity-50",children:[e.jsx("div",{className:"p-2 bg-sky-50 text-sky-600 rounded-lg",children:p?e.jsx(y,{size:20,className:"animate-spin"}):e.jsx(Ee,{size:20})}),p?"Generating PDF...":"Print / Download PDF"]}),e.jsxs("button",{onClick:()=>{m(!1),be()},disabled:x,className:"w-full flex items-center gap-3 p-3 text-slate-700 font-medium hover:bg-slate-50 rounded-xl transition-colors disabled:opacity-50",children:[e.jsx("div",{className:"p-2 bg-emerald-50 text-emerald-600 rounded-lg",children:x?e.jsx(y,{size:20,className:"animate-spin"}):e.jsx(ge,{size:20})}),x?"Exporting...":"Export"]}),e.jsx("button",{onClick:()=>m(!1),className:"w-full mt-4 p-3 bg-slate-100 text-slate-600 font-semibold rounded-xl",children:"Cancel"})]})]})]})})},Jp=({formData:t,onChange:n,docContent:s,onContentChange:a,addSection:r,removeSection:i,updateSection:l,reorderSections:o,styles:c,onStyleUpdate:d,onStyleReset:u})=>{const[h,m]=vt.useState("parties"),[p,f]=vt.useState("fill"),[x,g]=vt.useState({isOpen:!1,sectionId:null}),b=e=>{m(h===e?null:e)},v=t.effectiveDateDay&&t.effectiveDateMonth&&t.effectiveDateYear,y=t.clientName&&t.consultantName,w=t.startDate&&t.endDate&&t.feeAmount,k=t.clientSignatoryName&&t.consultantSignatoryName;return e.jsxs("div",{className:"bg-white min-h-full pb-20 relative",children:[e.jsx(nm,{isOpen:x.isOpen,onClose:()=>g({isOpen:!1,sectionId:null}),onConfirm:()=>{x.sectionId&&(i(x.sectionId),g({isOpen:!1,sectionId:null}))},title:"Delete Section",message:"Are you sure you want to remove this section? This action cannot be undone.",confirmText:"Delete Section",isDestructive:!0}),e.jsxs("div",{className:"p-6 border-b border-slate-100 bg-slate-50/50 sticky top-0 z-10 backdrop-blur-sm",children:[e.jsxs("div",{className:"flex gap-1 bg-slate-200/50 p-1 rounded-lg mb-4",children:[e.jsx("button",{onClick:()=>f("fill"),className:"flex-1 flex items-center justify-center gap-2 py-2 rounded-md text-sm font-medium transition-all "+("fill"===p?"bg-white shadow-sm text-indigo-600":"text-slate-500 hover:text-slate-700"),children:e.jsx(de,{size:16})}),e.jsx("button",{onClick:()=>f("edit"),className:"flex-1 flex items-center justify-center gap-2 py-2 rounded-md text-sm font-medium transition-all "+("edit"===p?"bg-white shadow-sm text-indigo-600":"text-slate-500 hover:text-slate-700"),title:"Structure",children:e.jsx(ue,{size:16})}),e.jsx("button",{onClick:()=>f("style"),className:"flex-1 flex items-center justify-center gap-2 py-2 rounded-md text-sm font-medium transition-all "+("style"===p?"bg-white shadow-sm text-indigo-600":"text-slate-500 hover:text-slate-700"),title:"Appearance",children:e.jsx(ie,{size:16})})]}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-bold text-slate-900",children:"fill"===p?"Contract Details":"edit"===p?"Structure Builder":"Styling & Appearance"}),e.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"fill"===p?"Enter contract terms":"edit"===p?"Customize layout":"Fonts, colors and spacing"})]})]}),"fill"===p&&e.jsxs(e.Fragment,{children:[e.jsx(Qh,{title:"Effective Date",icon:I,isOpen:"date"===h,isComplete:v,onClick:()=>b("date"),children:e.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[e.jsx(Kh,{label:"Day",name:"effectiveDateDay",value:t.effectiveDateDay,onChange:n,placeholder:"DD"}),e.jsx(Kh,{label:"Month",name:"effectiveDateMonth",value:t.effectiveDateMonth,onChange:n,placeholder:"Month"}),e.jsx(Kh,{label:"Year",name:"effectiveDateYear",value:t.effectiveDateYear,onChange:n,placeholder:"YY"})]})}),e.jsx(Qh,{title:"Parties Involved",icon:j,isOpen:"parties"===h,isComplete:y,onClick:()=>b("parties"),children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"p-3 bg-indigo-50 rounded-lg border border-indigo-100",children:[e.jsxs("h4",{className:"text-xs font-bold text-indigo-900 uppercase mb-3 flex items-center justify-between",children:[e.jsx("span",{className:"flex items-center gap-2",children:"Client"}),e.jsxs("button",{onClick:async()=>{try{const e=await pd();if(e){n({target:{name:"clientName",value:e.name||""}});const t=[e.address,e.city,e.state,e.country].filter(Boolean).join(", ");n({target:{name:"clientAddress",value:t||""}}),At.success("Business details populated")}else At.error("No business profile found")}catch(e){At.error("Failed to load business info")}},className:"text-[10px] bg-white border border-indigo-200 text-indigo-600 px-2 py-1 rounded hover:bg-indigo-50 transition-colors flex items-center gap-1",children:[e.jsx(N,{size:10})," Use Profile"]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(Kh,{label:"Client",name:"clientName",value:t.clientName,onChange:n,placeholder:"Company A"}),e.jsx(Kh,{label:"Full Address",name:"clientAddress",value:t.clientAddress,onChange:n,placeholder:"Address",rows:2})]})]}),e.jsxs("div",{className:"p-3 bg-emerald-50 rounded-lg border border-emerald-100",children:[e.jsx("h4",{className:"text-xs font-bold text-emerald-900 uppercase mb-3",children:"Consultant"}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(Kh,{label:"Consultant",name:"consultantName",value:t.consultantName,onChange:n,placeholder:"Jane Doe"}),e.jsx(Kh,{label:"Full Address",name:"consultantAddress",value:t.consultantAddress,onChange:n,placeholder:"Address",rows:2})]})]})]})}),e.jsx(Qh,{title:"Terms & Payment",icon:Ae,isOpen:"terms"===h,isComplete:w,onClick:()=>b("terms"),children:e.jsxs("div",{className:"space-y-3",children:[e.jsx(Kh,{label:"Services Description",name:"servicesDescription",value:t.servicesDescription,onChange:n,placeholder:"Describe services...",rows:3}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsx(Kh,{label:"Start Date",name:"startDate",value:t.startDate,onChange:n,placeholder:"Date"}),e.jsx(Kh,{label:"End Date",name:"endDate",value:t.endDate,onChange:n,placeholder:"Date"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsx(Kh,{label:"Fee Amount",name:"feeAmount",value:t.feeAmount,onChange:n,placeholder:"$5,000"}),e.jsx(Kh,{label:"Notice (Days)",name:"noticePeriod",value:t.noticePeriod,onChange:n,placeholder:"30"})]}),e.jsx(Kh,{label:"Payment Terms",name:"paymentTerms",value:t.paymentTerms,onChange:n,placeholder:"Net 30, Upon Completion, etc."})]})}),e.jsx(Qh,{title:"Document Branding",icon:le,isOpen:"branding"===h,isComplete:!0,onClick:()=>b("branding"),children:e.jsx(em,{formData:t,onChange:n})}),e.jsx(Qh,{title:"Signatories",icon:P,isOpen:"signatures"===h,isComplete:k,onClick:()=>b("signatures"),children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-bold text-slate-400 mb-2 uppercase",children:"For Client"}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsx(Kh,{label:"Name",name:"clientSignatoryName",value:t.clientSignatoryName,onChange:n,placeholder:"Client Rep"}),e.jsx(Kh,{label:"Title",name:"clientSignatoryTitle",value:t.clientSignatoryTitle,onChange:n,placeholder:"Director"})]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-bold text-slate-400 mb-2 uppercase",children:"For Consultant"}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsx(Kh,{label:"Name",name:"consultantSignatoryName",value:t.consultantSignatoryName,onChange:n,placeholder:"Consultant Name"}),e.jsx(Kh,{label:"Title",name:"consultantSignatoryTitle",value:t.consultantSignatoryTitle,onChange:n,placeholder:"Title"})]})]})]})})]}),"edit"===p&&e.jsxs("div",{className:"p-4 space-y-6 pb-20",children:[e.jsx(Jh,{isFixed:!0,section:{title:"Preamble & Parties"},onUpdate:()=>{},children:e.jsxs("div",{className:"space-y-3 mt-3",children:[e.jsx("textarea",{name:"preamble",value:s.preamble||"",onChange:a,rows:3,className:"w-full text-xs p-3 rounded-lg border border-slate-200 bg-slate-50 resize-y",placeholder:"Preamble..."}),e.jsxs("div",{className:"grid gap-3",children:[e.jsx("textarea",{name:"partiesDisclosing",value:s.partiesDisclosing||"",onChange:a,rows:2,className:"w-full text-xs p-3 rounded-lg border border-slate-200 bg-slate-50 resize-y",placeholder:"Client Clause..."}),e.jsx("textarea",{name:"partiesReceiving",value:s.partiesReceiving||"",onChange:a,rows:2,className:"w-full text-xs p-3 rounded-lg border border-slate-200 bg-slate-50 resize-y",placeholder:"Consultant Clause..."})]})]})}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute left-[7px] top-[-24px] bottom-0 w-[2px] bg-slate-100"}),e.jsx("p",{className:"font-bold text-[10px] uppercase tracking-widest text-slate-400 pl-8 mb-4",children:"Contract Sections"}),e.jsx(he,{axis:"y",values:s.sections,onReorder:o,className:"space-y-0",children:s.sections.map(t=>e.jsx(me,{value:t,className:"relative mb-2",children:e.jsx(Jh,{section:t,onUpdate:(e,n)=>l(t.id,e,n),onRemove:()=>{return e=t.id,void g({isOpen:!0,sectionId:e});var e},placeholderTitle:"Section Title",placeholderContent:"Body text..."})},t.id))}),e.jsx(Zh,{onClick:r})]})]}),"style"===p&&e.jsx("div",{className:"p-4 pb-20",children:e.jsx(tm,{styles:c,onUpdate:d,onReset:u})})]})};function Zp({data:t,content:n,zoom:r=1,printing:i=!1,readOnly:l=!1,signatures:o=[],onUpdateSignature:c,onRemoveSignature:d,onEditSignature:u,businessLogo:h,styles:m}){const p=({value:t,placeholder:n,name:s,className:a=""})=>{const r=(e=>{if(!e)return"bg-slate-100 text-slate-600 border-slate-200";const t=["bg-indigo-50 text-indigo-700 border-indigo-200","bg-emerald-50 text-emerald-700 border-emerald-200","bg-amber-50 text-amber-700 border-amber-200","bg-rose-50 text-rose-700 border-rose-200","bg-violet-50 text-violet-700 border-violet-200","bg-sky-50 text-sky-700 border-sky-200"];let n=0;for(let s=0;s<e.length;s++)n=e.charCodeAt(s)+((n<<5)-n);return t[Math.abs(n)%t.length]})(s);return t?l||i?e.jsx("span",{className:`font-medium text-slate-900 ${a}`,children:t}):e.jsx("span",{className:`px-1.5 py-0.5 rounded border ${r} font-medium mx-0.5 transition-all hover:brightness-95 ${a}`,children:t}):l||i?e.jsx("span",{className:`text-slate-500 italic ${a}`,children:n}):e.jsx("span",{className:`px-1.5 py-0.5 rounded border border-dashed ${r} bg-opacity-50 font-medium text-xs mx-0.5 ${a}`,children:n})},f=({template:t,values:n})=>{if(!t)return null;const s=t.split(/(\{\{[^}]+\}\})/g);return e.jsx("span",{children:s.map((t,s)=>{if(t.startsWith("{{")&&t.endsWith("}}")){const a=t.slice(2,-2).trim();return e.jsx(p,{value:n[a],name:a,placeholder:`[${a}]`},s)}return e.jsx("span",{children:t},s)})})},x=i?"div":a.div,g=i?"div":a.section,b=m||{fontFamily:"font-serif",fontSize:"text-[11pt]",lineHeight:"leading-relaxed",textColor:"#1e293b",headingColor:"#0f172a",pageMargin:"p-[10mm]",paragraphSpacing:"mb-6"};return e.jsxs(x,{id:"printable-document",...i?{}:{initial:{opacity:0,y:20},animate:{opacity:1,y:0}},style:{transform:i?"none":`scale(${r})`,transformOrigin:"top center",color:b.textColor},className:`\n                w-[210mm] min-h-[297mm] bg-white relative mb-20 origin-top \n                ${i?"":"shadow-[0_8px_30px_rgb(0,0,0,0.12)] border border-slate-200/60"}\n                ${b.fontFamily} ${b.fontSize} ${b.lineHeight}\n            `,children:[!i&&e.jsx("div",{className:"no-print absolute inset-0 rounded-sm pointer-events-none bg-gradient-to-b from-white to-slate-50/20"}),!i&&!l&&e.jsx(im,{signatures:o,onUpdateSignature:c,onRemoveSignature:d,onEditSignature:u}),(i||l)&&o.length>0&&e.jsx("div",{className:"absolute inset-0 z-50 pointer-events-none",children:o.map(t=>e.jsxs("div",{style:{position:"absolute",left:`${t.position.x}px`,top:`${t.position.y}px`,width:"200px",height:"60px",borderBottom:"1px solid #000",display:"flex",flexDirection:"column",justifyContent:"flex-end"},children:[e.jsx("div",{style:{fontFamily:"cursive",fontSize:"14pt",color:"#1e3a8a",marginBottom:"4px"},children:t.metadata.signeeName||"Sign Here"}),e.jsx("div",{style:{fontSize:"8pt",color:"#64748b",textTransform:"uppercase",letterSpacing:"0.05em"},children:"date"===t.metadata.type?"Date":"Authorized Signature"})]},t.id))}),e.jsxs("div",{className:`${b.pageMargin} relative z-10`,children:[h&&!1!==t.brandingEnabled&&"false"!==t.brandingEnabled&&e.jsx("div",{className:"flex mb-8 "+("left"===t.logoAlignment?"justify-start":"right"===t.logoAlignment?"justify-end":"justify-center"),style:i?{textAlign:t.logoAlignment||"center"}:{},children:e.jsx("img",{src:h,alt:"Company Logo",style:{height:`${t.logoSize||70}px`,objectFit:"contain"}})}),e.jsx("h1",{className:"text-xl font-bold text-center mb-10 uppercase tracking-widest border-b-2 border-slate-900 pb-2",style:{borderColor:b.headingColor,color:b.headingColor},children:n.title}),e.jsx("p",{className:`text-justify ${b.paragraphSpacing}`,children:e.jsx(f,{template:n.preamble,values:t})}),e.jsxs("div",{className:"mb-8 pl-4 border-l-4 border-slate-100",children:[e.jsx("p",{className:"font-bold text-xs uppercase text-slate-400 mb-1",children:"BY AND BETWEEN"}),e.jsx("p",{className:`text-justify ${b.paragraphSpacing}`,children:e.jsx(f,{template:n.partiesDisclosing,values:t})}),e.jsx("p",{className:"font-bold text-xs uppercase text-slate-400 mb-1",children:"AND"}),e.jsx("p",{className:`text-justify ${b.paragraphSpacing}`,children:e.jsx(f,{template:n.partiesReceiving,values:t})})]}),e.jsx("p",{className:`text-justify ${b.paragraphSpacing}`,children:e.jsx(f,{template:n.partiesFooter,values:t})}),e.jsx("div",{className:"space-y-6 min-h-[100px]",children:e.jsx(s,{mode:"popLayout",children:n.sections&&n.sections.map((n,s)=>e.jsxs(g,{className:b.paragraphSpacing,...i?{}:{layout:!0,initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,scale:.95}},children:[e.jsx("h2",{className:"font-bold text-sm uppercase mb-2",style:{color:b.headingColor},children:n.title}),e.jsx("p",{className:"text-justify",children:e.jsx(f,{template:n.content,values:t})})]},n.id))})}),e.jsxs("div",{className:"mt-12 break-inside-avoid",children:[e.jsxs("h2",{className:"font-bold text-sm uppercase mb-6 border-b border-slate-900 pb-1",style:{borderColor:b.headingColor,color:b.headingColor},children:[n.sections.length+1,". Signatures"]}),e.jsx("p",{className:"mb-8",children:"IN WITNESS WHEREOF, the Parties have executed this Agreement as of the date first written above."}),i?e.jsx("table",{style:{width:"100%",borderCollapse:"collapse",marginTop:"20px"},children:e.jsx("tbody",{children:e.jsxs("tr",{children:[e.jsxs("td",{style:{width:"48%",verticalAlign:"top",paddingRight:"2%"},children:[e.jsx("p",{className:"font-bold uppercase text-xs tracking-wider mb-8",children:"For Client"}),e.jsx("div",{className:"relative border-b border-slate-800 h-8 mb-2",style:{borderBottom:"1px solid #000",height:"40px",marginBottom:"10px"},children:t.clientSignatoryName&&e.jsx("span",{style:{fontFamily:"cursive",fontSize:"16pt",color:"#1e3a8a"},children:t.clientSignatoryName})}),e.jsx("p",{className:"text-xs uppercase text-slate-500",children:"Authorized Signature"}),e.jsx("table",{style:{width:"100%",marginTop:"15px"},children:e.jsxs("tbody",{children:[e.jsxs("tr",{children:[e.jsx("td",{style:{width:"60px",fontWeight:"bold",fontSize:"10pt"},children:"Name:"}),e.jsx("td",{style:{borderBottom:"1px solid #ccc"},children:t.clientSignatoryName})]}),e.jsxs("tr",{children:[e.jsx("td",{style:{paddingBottom:"5px"}}),e.jsx("td",{})]}),e.jsxs("tr",{children:[e.jsx("td",{style:{width:"60px",fontWeight:"bold",fontSize:"10pt"},children:"Title:"}),e.jsx("td",{style:{borderBottom:"1px solid #ccc"},children:t.clientSignatoryTitle})]})]})})]}),e.jsx("td",{style:{width:"4%"}}),e.jsxs("td",{style:{width:"48%",verticalAlign:"top"},children:[e.jsx("p",{className:"font-bold uppercase text-xs tracking-wider mb-8",children:"For Consultant"}),e.jsx("div",{className:"relative border-b border-slate-800 h-8 mb-2",style:{borderBottom:"1px solid #000",height:"40px",marginBottom:"10px"},children:t.consultantSignatoryName&&e.jsx("span",{style:{fontFamily:"cursive",fontSize:"16pt",color:"#1e3a8a"},children:t.consultantSignatoryName})}),e.jsx("p",{className:"text-xs uppercase text-slate-500",children:"Authorized Signature"}),e.jsx("table",{style:{width:"100%",marginTop:"15px"},children:e.jsxs("tbody",{children:[e.jsxs("tr",{children:[e.jsx("td",{style:{width:"60px",fontWeight:"bold",fontSize:"10pt"},children:"Name:"}),e.jsx("td",{style:{borderBottom:"1px solid #ccc"},children:t.consultantSignatoryName})]}),e.jsxs("tr",{children:[e.jsx("td",{style:{paddingBottom:"5px"}}),e.jsx("td",{})]}),e.jsxs("tr",{children:[e.jsx("td",{style:{width:"60px",fontWeight:"bold",fontSize:"10pt"},children:"Title:"}),e.jsx("td",{style:{borderBottom:"1px solid #ccc"},children:t.consultantSignatoryTitle})]})]})})]})]})})}):e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 md:gap-16",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"font-bold uppercase text-xs tracking-wider mb-8",children:"For Client"}),e.jsx("div",{className:"relative border-b border-slate-800 h-8 mb-2",children:t.clientSignatoryName&&e.jsx("span",{className:"absolute bottom-1 left-2 font-cursive text-xl text-blue-900 opacity-80 rotate-[-2deg]",children:t.clientSignatoryName})}),e.jsx("p",{className:"text-xs uppercase text-slate-500",children:"Authorized Signature"}),e.jsxs("div",{className:"pt-4 grid grid-cols-[60px_1fr] gap-x-2 gap-y-1 items-baseline",children:[e.jsx("span",{className:"text-sm font-medium",children:"Name:"}),e.jsx("span",{className:"border-b border-slate-300 w-full inline-block h-5 pl-1",children:t.clientSignatoryName}),e.jsx("span",{className:"text-sm font-medium",children:"Title:"}),e.jsx("span",{className:"border-b border-slate-300 w-full inline-block h-5 pl-1",children:t.clientSignatoryTitle})]})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"font-bold uppercase text-xs tracking-wider mb-8",children:"For Consultant"}),e.jsx("div",{className:"relative border-b border-slate-800 h-8 mb-2",children:t.consultantSignatoryName&&e.jsx("span",{className:"absolute bottom-1 left-2 font-cursive text-xl text-blue-900 opacity-80 rotate-[-2deg]",children:t.consultantSignatoryName})}),e.jsx("p",{className:"text-xs uppercase text-slate-500",children:"Authorized Signature"}),e.jsxs("div",{className:"pt-4 grid grid-cols-[60px_1fr] gap-x-2 gap-y-1 items-baseline",children:[e.jsx("span",{className:"text-sm font-medium",children:"Name:"}),e.jsx("span",{className:"border-b border-slate-300 w-full inline-block h-5 pl-1",children:t.consultantSignatoryName}),e.jsx("span",{className:"text-sm font-medium",children:"Title:"}),e.jsx("span",{className:"border-b border-slate-300 w-full inline-block h-5 pl-1",children:t.consultantSignatoryTitle})]})]})]})]}),!i&&e.jsx("div",{className:"absolute bottom-4 left-0 right-0 text-center",children:e.jsx("p",{className:"text-[9px] text-slate-300 uppercase tracking-widest font-sans",children:"Powered by DocForge"})})]})]})}const ef={title:"Consulting Services Agreement",preamble:"This Consulting Services Agreement (Agreement) is made and entered into on this {{effectiveDateDay}} day of {{effectiveDateMonth}}, 20{{effectiveDateYear}} (Effective Date),",partiesDisclosing:'{{clientName}}, having its principal place of business at {{clientAddress}} (hereinafter referred to as the "Client"),',partiesReceiving:'{{consultantName}}, having its principal place of business at {{consultantAddress}} (hereinafter referred to as the "Consultant").',partiesFooter:'The Client and the Consultant may hereinafter be collectively referred to as the "Parties" and individually as a "Party".',sections:[{id:"1",title:"Services",content:"The Consultant agrees to perform the following services for the Client: {{servicesDescription}} (Services). The Consultant shall perform the Services in a professional and workmanlike manner."},{id:"2",title:"Term",content:"The term of this Agreement shall commence on {{startDate}} and shall continue until {{endDate}}, unless earlier terminated in accordance with this Agreement."},{id:"3",title:"Compensation",content:"In consideration for the Services, the Client shall pay the Consultant a fee of {{feeAmount}}. Payment shall be made according to the following terms: {{paymentTerms}}."},{id:"4",title:"Independent Contractor",content:"The Consultant is an independent contractor and not an employee of the Client. The Consultant shall be solely responsible for all taxes, withholdings, and other statutory obligations."},{id:"5",title:"Confidentiality",content:"The Consultant agrees to keep confidential all non-public information obtained from the Client during the course of providing Services and shall not disclose it to any third party without prior written consent."},{id:"6",title:"Intellectual Property",content:'Any work product created by the Consultant specifically for the Client under this Agreement shall be considered "work made for hire" and shall be the sole property of the Client.'},{id:"7",title:"Termination",content:"Either party may terminate this Agreement upon {{noticePeriod}} days' written notice to the other party."}]},tf={effectiveDateDay:"",effectiveDateMonth:"",effectiveDateYear:"",logoSize:70,logoAlignment:"center",brandingEnabled:!0,clientName:"",clientAddress:"",consultantName:"",consultantAddress:"",servicesDescription:"",startDate:"",endDate:"",feeAmount:"",paymentTerms:"",noticePeriod:"30",clientSignatoryName:"",clientSignatoryTitle:"",consultantSignatoryName:"",consultantSignatoryTitle:""},nf=e=>{const[t,n]=vt.useState(tf),[s,a]=vt.useState(ef),[r,i]=vt.useState("Untitled Consulting Agreement"),[l,o]=vt.useState(null),[c,d]=vt.useState(!!e),[u,h]=vt.useState(!1),[m,p]=vt.useState(!1),{styles:f,updateStyle:x,resetStyles:g}=Rm(),b=vt.useRef(null);vt.useEffect(()=>{(async()=>{if(e)try{d(!0);const s=await om(e);s.data.name&&i(s.data.name),s.data.sent_at&&o(s.data.sent_at);let r=s.data?.content||s.content;if("string"==typeof r)try{r=JSON.parse(r)}catch(t){}r=r||{},r.blocks&&p(!0),r.formData&&n(e=>({...e,...r.formData})),r.docContent&&a(r.docContent),r.signatures&&y(r.signatures),r.styles&&Object.entries(r.styles).forEach(([e,t])=>x(e,t))}catch(s){At.error("Failed to load document")}finally{d(!1)}else try{const e=await pd();e&&n(t=>({...t,clientName:e.name||"",clientAddress:[e.address,e.city,e.state,e.country].filter(Boolean).join(", ")}))}catch(s){}})()},[e]);const[v,y]=vt.useState([]);return{formData:t,docContent:s,signatures:v,documentName:r,setDocumentName:i,sentAt:l,setSentAt:o,isLoading:c,isSaving:u,handleFormChange:e=>{const{name:t,value:s}=e.target;n(e=>({...e,[t]:s}))},handleContentChange:e=>{const{name:t,value:n}=e.target;a(e=>({...e,[t]:n}))},addSection:()=>{a(e=>({...e,sections:[...e.sections,{id:zm(),title:"New Section",content:"Enter the details of this new clause here..."}]}))},removeSection:e=>{a(t=>({...t,sections:t.sections.filter(t=>t.id!==e)}))},updateSection:(e,t,n)=>{a(s=>({...s,sections:s.sections.map(s=>s.id===e?{...s,[t]:n}:s)}))},reorderSections:e=>{a(t=>({...t,sections:e}))},addSignature:e=>{y(t=>[...t,e])},updateSignature:(e,t)=>{y(n=>n.map(n=>n.id===e?{...n,...t}:n))},removeSignature:e=>{y(t=>t.filter(t=>t.id!==e))},saveDocument:async n=>{h(!0);try{const a={name:r,type_slug:"consulting-agreement",content:{formData:t,docContent:s,signatures:v,styles:f},status:"draft"};if(e)return await dm(e,a),At.success("Document updated successfully"),e;{const e=await cm(a);return At.success("Document created successfully"),n&&n(`/documents/consulting-agreement/${e.data.id}`,{replace:!0}),e.data.id}}catch(a){throw a.response&&422===a.response.status||At.error("Failed to save document"),a}finally{setTimeout(()=>h(!1),500)}},enterPreviewMode:e=>{b.current||(b.current={formData:t,docContent:s});let r=e.content;if("string"==typeof r)try{r=JSON.parse(r)}catch(i){}return r.formData&&n(r.formData),r.docContent&&a(r.docContent),r},exitPreviewMode:()=>{b.current&&(n(b.current.formData),a(b.current.docContent),b.current=null)},restoreVersion:e=>{if(e&&e.content){let s=e.content;if("string"==typeof s)try{s=JSON.parse(s)}catch(t){}s.formData&&n(s.formData),s.docContent&&a(s.docContent)}b.current=null},styles:f,updateStyle:x,resetStyles:g,isNewEngine:m}},sf=(t,n,s="Document",a=[],r=null)=>`\n    <!DOCTYPE html>\n    <html>\n        <head>\n            <meta charset="utf-8">\n            <title>${s}</title>\n            <style>\n                * { box-sizing: border-box; }\n                body { \n                    font-family: 'Times New Roman', serif; \n                    line-height: 1.5; \n                    color: #333; \n                    font-size: 11pt; \n                    margin: 0; \n                    padding: 40px; \n                }\n                .text-center { text-align: center; }\n                .uppercase { text-transform: uppercase; }\n                .font-bold { font-weight: bold; }\n                .text-sm { font-size: 10pt; }\n                .text-xs { font-size: 9pt; }\n                .text-justify { text-align: justify; }\n                .mb-2 { margin-bottom: 0.5rem; }\n                .mb-4 { margin-bottom: 1rem; }\n                .mb-6 { margin-bottom: 1.5rem; }\n                .mb-8 { margin-bottom: 2rem; }\n                .mb-10 { margin-bottom: 2.5rem; }\n                .pb-2 { padding-bottom: 0.5rem; }\n                .mt-12 { margin-top: 3rem; }\n                .border-b { border-bottom: 1px solid #000; }\n                .border-b-2 { border-bottom: 2px solid #000; }\n                \n                @page { margin: 40px; }\n                \n                h1 { \n                    font-size: 16pt; \n                    text-transform: uppercase; \n                    border-bottom: 2px solid #000; \n                    padding-bottom: 10px; \n                    margin-bottom: 30px; \n                    text-align: center; \n                    font-weight: bold; \n                    letter-spacing: 2px; \n                }\n                p { margin-bottom: 12px; }\n                \n                table { width: 100%; border-collapse: collapse; }\n                td { vertical-align: top; }\n                \n                .font-cursive { font-family: cursive; font-style: italic; }\n            </style>\n        </head>\n        <body>\n            ${Tm.renderToStaticMarkup(e.jsx(Zp,{data:t,content:n,zoom:1,printing:!0,signatures:a,businessLogo:r}))}\n        </body>\n    </html>\n    `,af=()=>e.jsx(zp,{}),rf=()=>{const n=kt(),{id:s}=Ct(),a=dd("(min-width: 1024px)"),[r,i]=vt.useState("edit"),[o,c]=vt.useState(1),[d,u]=vt.useState(!1),[h,m]=vt.useState(!1),[p,f]=vt.useState(!1),[x,g]=vt.useState(!1),[w,j]=vt.useState(!1),[N,k]=vt.useState(null),[S,C]=vt.useState(null),[_,P]=vt.useState(null),[D,T]=vt.useState(null),{formData:E,docContent:z,signatures:M,documentName:R,setDocumentName:A,sentAt:O,setSentAt:I,isLoading:L,isSaving:B,handleFormChange:W,handleContentChange:H,addSection:U,removeSection:V,updateSection:q,reorderSections:Y,addSignature:G,updateSignature:X,removeSignature:Q,saveDocument:K,enterPreviewMode:J,exitPreviewMode:ee,restoreVersion:te,styles:ne,updateStyle:se,resetStyles:ae,isNewEngine:re}=nf(s);if(re)return e.jsx(af,{});const[ie,le]=vt.useState({isOpen:!1,data:null}),oe=yt.useDeferredValue(E),ce=yt.useDeferredValue(z),de=Kd(Qd(qu,{activationConstraint:{distance:8}}),Qd(Ju,{activationConstraint:{delay:250,tolerance:5}})),ue=yt.useRef(null),he=async e=>{try{if(e&&e.includes("/storage/")){const t=`http://localhost:8000/api/v1/file-proxy?path=${encodeURIComponent(e)}`,n=await fetch(t),s=await n.blob();return new Promise((e,t)=>{const n=new FileReader;n.onloadend=()=>e(n.result),n.onerror=t,n.readAsDataURL(s)})}const t=await fetch(e),n=await t.blob();return new Promise((e,t)=>{const s=new FileReader;s.onloadend=()=>e(s.result),s.onerror=t,s.readAsDataURL(n)})}catch(t){return null}};yt.useEffect(()=>{(async()=>{try{const e=await pd();e&&e.logo&&T(e.logo)}catch(e){}})()},[]);const me=async()=>{try{await K(n)}catch(e){}},[pe,fe]=vt.useState(null);return L?e.jsx("div",{className:"flex h-screen items-center justify-center bg-slate-50",children:e.jsxs("div",{className:"text-center",children:[e.jsx(y,{size:40,className:"animate-spin text-indigo-600 mx-auto mb-4"}),e.jsx("p",{className:"text-slate-500 font-medium",children:"Loading Document..."})]})}):e.jsx(Mh,{sensors:de,onDragStart:e=>{fe(e.active)},onDragEnd:e=>{const{active:t,over:n}=e;if(fe(null),n&&"document-canvas"===n.id){const e=document.getElementById("printable-document");if(e&&t.rect.current.translated){const n=e.getBoundingClientRect(),s=(t.rect.current.translated.left-n.left)/o,a=(t.rect.current.translated.top-n.top)/o;"toolbar-item"===t.data.current?.type?le({isOpen:!0,data:{id:null,position:{x:s,y:a},type:"all",required:!0,order:M.length+1}}):"signature-field"===t.data.current?.type&&X(t.id,{position:{x:s,y:a}})}}},children:e.jsxs("div",{className:"flex flex-col h-screen bg-slate-100 overflow-hidden",children:[e.jsx(gm,{isOpen:ie.isOpen,onClose:()=>le({isOpen:!1,data:null}),onSave:e=>{if(e.id)X(e.id,{metadata:{signeeName:e.signeeName,signeeEmail:e.signeeEmail,type:e.type,required:e.required,order:e.order}});else{const t={id:zm(),position:ie.data.position,metadata:{signeeName:e.signeeName,signeeEmail:e.signeeEmail,type:e.type,required:e.required,order:e.order}};G(t)}},initialData:ie.data,parties:{disclosingPartyName:E.clientName,receivingPartyName:E.consultantName,disclosingSignatoryName:E.clientSignatoryName,receivingSignatoryName:E.consultantSignatoryName}}),e.jsx(Xh,{dropAnimation:{sideEffects:({active:e})=>(document.body.style.cursor="grabbing",()=>{document.body.style.cursor=""})},children:pe?"toolbar-item"===pe.data.current?.type?e.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-lg border border-indigo-500 bg-white shadow-xl opacity-90 cursor-grabbing ring-2 ring-indigo-500/20 w-48",children:[e.jsx("div",{className:"p-2 rounded-md bg-indigo-100 text-indigo-600",children:e.jsx("div",{className:"w-5 h-5 flex items-center justify-center font-bold",children:"+"})}),e.jsx("span",{className:"text-sm font-medium text-slate-900",children:"Placing Field..."})]}):"signature-field"===pe.data.current?.type?e.jsxs("div",{className:"w-64 bg-white/95 backdrop-blur-sm border-2 border-indigo-500 rounded-lg shadow-2xl p-3 flex flex-col cursor-grabbing",children:[e.jsx("div",{className:"flex items-center gap-2 text-indigo-700 font-semibold border-b pb-2 mb-2",children:e.jsx("span",{children:pe.data.current.signeeName||"Signature"})}),e.jsx("div",{className:"h-10 flex items-center justify-center text-indigo-200",children:"Sign Here"})]}):null:null}),N&&e.jsxs("div",{className:"bg-amber-100 border-b border-amber-200 px-4 py-2 flex items-center justify-between text-amber-800 text-sm",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(xe,{size:16}),e.jsxs("span",{className:"font-medium",children:["Previewing Version ",N.version_number]})]}),e.jsxs("button",{onClick:()=>{ee(),k(null),At.success("Exited preview mode")},className:"text-amber-700 hover:text-amber-900 font-medium hover:underline flex items-center gap-1",children:[e.jsx(t,{size:14})," Exit Preview"]})]}),e.jsx(xm,{isOpen:w,onClose:()=>j(!1),documentId:s,documentName:R,isReminder:!!O,onSuccess:e=>{e&&e.sent_at&&I(e.sent_at)},getHtmlContent:async()=>{let e=D;if(D&&!D.startsWith("data:")){const t=await he(D);t&&(e=t)}return sf(E,z,R,M,e)},signatures:M}),e.jsxs("header",{className:"no-print h-14 md:h-16 bg-white/80 backdrop-blur-md border-b border-slate-200/60 px-4 md:px-6 flex items-center justify-between flex-shrink-0 z-30 shadow-sm relative transition-all duration-300",children:[e.jsxs("div",{className:"flex items-center gap-2 md:gap-4",children:[e.jsx("button",{onClick:()=>n("/documents"),className:"p-2 hover:bg-slate-100 rounded-full text-slate-500 transition-colors flex-shrink-0",children:e.jsx(F,{size:20})}),e.jsxs("div",{className:"min-w-0 relative",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("div",{className:"relative",children:[e.jsx("input",{ref:ue,type:"text",value:R,onChange:e=>{A(e.target.value),S&&C(null)},className:"font-bold text-sm md:text-lg bg-transparent border-b-2 focus:ring-0 p-0 m-0 w-auto min-w-[150px] max-w-[300px] placeholder-slate-400 truncate transition-colors "+(S?"border-red-500 text-slate-800 ring-4 ring-red-500/10 rounded-sm px-1 -mx-1":"border-transparent hover:border-slate-200 text-slate-800"),placeholder:"Enter Document Name"}),S&&e.jsxs("div",{className:"absolute top-full left-0 mt-2 w-64 bg-white rounded-lg shadow-xl border border-red-100 z-50 p-3",children:[e.jsxs("div",{className:"flex items-start gap-2 text-red-600 mb-2",children:[e.jsx(b,{size:16}),e.jsx("p",{className:"text-xs font-semibold",children:S})]}),_&&e.jsxs("div",{className:"bg-slate-50 rounded p-2",children:[e.jsx("p",{className:"text-[10px] text-slate-500 mb-1 uppercase font-bold",children:"Suggestion:"}),e.jsx("button",{onClick:()=>{A(_),C(null)},className:"text-sm font-bold text-indigo-600 hover:underline",children:_})]})]})]}),e.jsx("button",{onClick:()=>{const e=E.clientName?.trim(),t=E.consultantName?.trim();e&&t?(A(`Consulting Agreement - ${e} & ${t}`),C(null),P(null),At.success("Generated smart name!")):At.error("Enter Client and Consultant names first.")},className:"p-1.5 text-slate-400 hover:text-indigo-600 hover:bg-indigo-50 rounded-md transition-colors",children:e.jsx(Pe,{size:16})}),O&&e.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-0.5 rounded-full bg-emerald-50 text-emerald-600 text-[10px] font-medium border border-emerald-100",children:[e.jsx(we,{size:10})," Sent"]})]}),e.jsx("p",{className:"text-[10px] md:text-xs text-slate-400 font-medium whitespace-nowrap hidden sm:block mt-0.5",children:s?"Autosaved locally":"Draft"})]})]}),e.jsxs("div",{className:"flex items-center gap-2 md:gap-3",children:[e.jsxs("div",{className:"hidden lg:flex items-center bg-slate-100 rounded-lg p-1 mr-4",children:[e.jsx("button",{onClick:()=>c(e=>Math.max(e-.1,.5)),className:"p-1.5 hover:bg-white rounded-md text-slate-500",children:e.jsx(De,{size:16})}),e.jsxs("span",{className:"text-xs font-semibold text-slate-600 w-12 text-center",children:[Math.round(100*o),"%"]}),e.jsx("button",{onClick:()=>c(e=>Math.min(e+.1,1.5)),className:"p-1.5 hover:bg-white rounded-md text-slate-500",children:e.jsx(Te,{size:16})})]}),e.jsxs("button",{onClick:()=>u(!0),className:"hidden lg:flex items-center gap-2 px-4 py-2 text-slate-600 text-sm font-medium hover:bg-slate-50 rounded-lg border border-transparent hover:border-slate-200 transition-all",children:[e.jsx($,{size:18}),e.jsx("span",{children:"History"})]}),e.jsxs("button",{onClick:async()=>{if(s){f(!0);try{let t=D;if(D&&!D.startsWith("data:")){const e=await he(D);e&&(t=e)}const n=renderToStaticMarkup(e.jsx(Zp,{data:E,content:z,zoom:1,printing:!0,styles:ne,signatures:M,businessLogo:t})),a=await Fm(s,n,R);a.url&&window.open(a.url,"_blank")}catch(t){At.error("Failed to generate PDF. Please try again.")}finally{f(!1)}}else At.error("Please save the document before printing.")},disabled:p,className:"hidden lg:flex items-center gap-2 px-4 py-2 text-slate-600 text-sm font-medium hover:bg-slate-50 rounded-lg border border-transparent hover:border-slate-200 transition-all disabled:opacity-50",children:[p?e.jsx(y,{size:18,className:"animate-spin"}):e.jsx(Ee,{size:18}),e.jsx("span",{children:"Print"})]}),e.jsxs("button",{onClick:()=>{s?j(!0):At.error("Please save the document before sending.")},className:"hidden lg:flex items-center gap-2 px-4 py-2 text-sm font-medium rounded-lg border border-transparent transition-all "+(O?"text-amber-600 hover:bg-amber-50 hover:border-amber-200":"text-slate-600 hover:bg-slate-50 hover:border-slate-200"),children:[O?e.jsx(Z,{size:18}):e.jsx(v,{size:18}),e.jsx("span",{children:O?"Remind":"Send"})]}),e.jsxs("button",{onClick:async()=>{if(s){g(!0);try{let e=D;if(D&&!D.startsWith("data:")){const t=await he(D);t&&(e=t)}const t=sf(E,z,R,M,e),n=await Fm(s,t,R);if(n.url){const e=document.createElement("a");e.href=n.url,e.download=`${R.replace(/[^a-z0-9]/gi,"_").toLowerCase()}.pdf`,document.body.appendChild(e),e.click(),document.body.removeChild(e),At.success("Document exported successfully")}}catch(e){At.error("Failed to export document")}finally{g(!1)}}else At.error("Please save the document before exporting.")},disabled:x,className:"hidden lg:flex items-center gap-2 px-4 py-2 text-slate-600 text-sm font-medium hover:bg-slate-50 rounded-lg border border-transparent hover:border-slate-200 transition-all disabled:opacity-50",children:[x?e.jsx(y,{size:18,className:"animate-spin"}):e.jsx(ge,{size:18}),e.jsx("span",{children:"Export"})]}),e.jsxs("button",{onClick:me,className:"hidden lg:flex items-center gap-2 px-5 py-2 rounded-lg text-white font-medium shadow-md transition-all "+(B?"bg-emerald-500":"bg-indigo-600 hover:bg-indigo-700"),children:[B?e.jsx(we,{size:18}):e.jsx(_e,{size:18}),e.jsx("span",{children:B?"Saved!":"Save"})]})]})]}),e.jsxs("div",{className:"flex flex-col lg:flex-row flex-1 overflow-hidden relative pb-[70px] lg:pb-0",children:[e.jsx("div",{className:"no-print w-full lg:w-[400px] h-full bg-white border-r border-slate-200 overflow-y-auto z-20 shadow-sm flex-shrink-0 lg:order-1 "+(a||"edit"===r?"block":"hidden"),children:e.jsx(Jp,{formData:E,onChange:W,docContent:z,onContentChange:H,addSection:U,removeSection:V,updateSection:q,reorderSections:Y,styles:ne,onStyleUpdate:se,onStyleReset:ae})}),e.jsxs("div",{className:"flex-1 h-full overflow-y-auto bg-slate-50/50 p-4 md:p-8 sm:p-12 flex justify-center items-start scrollbar-thin scrollbar-thumb-slate-300 lg:order-2 "+(a||"preview"===r?"flex":"hidden"),style:{backgroundImage:"radial-gradient(#cbd5e1 1px, transparent 1px)",backgroundSize:"20px 20px"},children:[e.jsx(Zp,{data:oe,content:ce,zoom:o,signatures:M,onRemoveSignature:Q,onEditSignature:e=>{le({isOpen:!0,data:{id:e.id,...e.metadata}})},businessLogo:D,styles:ne}),!a&&"preview"===r&&e.jsx("button",{onClick:()=>{le({isOpen:!0,data:{id:null,position:{x:50,y:100},type:"all",required:!0,order:M.length+1}})},className:"fixed bottom-24 right-6 w-14 h-14 bg-indigo-600 text-white rounded-full shadow-lg flex items-center justify-center z-30",children:"+"})]})]}),e.jsx(fm,{documentId:s,isOpen:d,onClose:()=>u(!1),onPreview:e=>{J(e),k(e),u(!1),At.success(`Previewing Version ${e.version_number}`)},onDownload:async e=>{const t=At.loading("Preparing version PDF...");try{let a=e.content;if("string"==typeof a)try{a=JSON.parse(a)}catch(n){}const r=a.formData||E,i=a.docContent||z;let l=D;if(D&&!D.startsWith("data:")){const e=await he(D);e&&(l=e)}const o=sf(r,i,`${R} - v${e.version_number}`,[],l),c=await Fm(s,o,`${R} - v${e.version_number}`);if(c.url){const n=document.createElement("a");n.href=c.url,n.download=`${R.replace(/[^a-z0-9]/gi,"_")}_v${e.version_number}.pdf`,document.body.appendChild(n),n.click(),document.body.removeChild(n),At.success(`Version ${e.version_number} downloaded`,{id:t})}}catch(a){At.error("Failed to download version PDF",{id:t})}},onRestore:e=>{te(e),k(null)}}),!a&&e.jsxs("div",{className:"fixed bottom-0 left-0 right-0 bg-white border-t border-slate-200 flex justify-between items-center px-6 py-3 pb-safe z-40 safe-area-bottom",children:[e.jsxs("button",{onClick:()=>i("edit"),className:"flex flex-col items-center gap-1 "+("edit"===r?"text-indigo-600":"text-slate-400"),children:[e.jsx(l,{size:24}),e.jsx("span",{className:"text-[10px]",children:"Editor"})]}),e.jsxs("button",{onClick:()=>i("preview"),className:"flex flex-col items-center gap-1 "+("preview"===r?"text-indigo-600":"text-slate-400"),children:[e.jsx(xe,{size:24}),e.jsx("span",{className:"text-[10px]",children:"Preview"})]}),e.jsxs("button",{onClick:me,className:"flex flex-col items-center gap-1 "+(B?"text-emerald-500":"text-slate-400"),children:[e.jsx(_e,{size:24}),e.jsx("span",{className:"text-[10px]",children:"Save"})]}),e.jsxs("button",{onClick:()=>m(!0),className:"flex flex-col items-center gap-1 "+(h?"text-indigo-600":"text-slate-400"),children:[e.jsx(ze,{size:24}),e.jsx("span",{className:"text-[10px]",children:"More"})]})]})]})})},lf=[{id:"nda",title:"Non-Disclosure Agreement",description:"Standard confidentiality agreement for business partnerships.",icon:$e,color:"bg-indigo-500",available:!0,route:"/documents/nda"},{id:"offer-letter",title:"Employment Offer Letter",description:"Formal job offer with compensation and benefits details.",icon:k,color:"bg-blue-500",available:!0,route:"/documents/offer-letter"},{id:"consulting-agreement",title:"Consulting Agreement",description:"Contract defining scope, services, and payment terms.",icon:We,color:"bg-violet-500",available:!0,route:"/documents/consulting-agreement"},{id:"proposal",title:"Business Proposal",description:"Comprehensive proposal with timeline, scope, and pricing.",icon:l,color:"bg-emerald-500",available:!0,route:"/documents/proposal"},{id:"invoice",title:"Service Invoice",description:"Professional invoice template with tax calculations.",icon:u,color:"bg-orange-500",available:!0,route:"/documents/invoice"}],of=({isOpen:n,onClose:r})=>{const i=kt(),[l,c]=vt.useState("grid");return Pt.createPortal(e.jsx(s,{children:n&&e.jsxs(e.Fragment,{children:[e.jsx(a.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-slate-900/40 backdrop-blur-sm z-[9998]",onClick:r},"backdrop"),e.jsx(a.div,{initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},className:"fixed inset-0 m-auto max-w-4xl h-fit max-h-[90vh] z-[9999] p-4 pointer-events-none flex items-center justify-center",children:e.jsxs("div",{className:"bg-white/95 backdrop-blur-md w-full rounded-2xl shadow-2xl overflow-hidden border border-white/20 relative pointer-events-auto flex flex-col max-h-full",children:[e.jsxs("div",{className:"p-6 border-b border-slate-100 flex justify-between items-start bg-gradient-to-br from-slate-50 to-white/50",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-slate-900 tracking-tight",children:"Create New Document"}),e.jsx("p",{className:"text-sm text-slate-500 mt-1",children:"Select a premium template to get started with your document."})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"flex bg-slate-100 p-1 rounded-lg border border-slate-200",children:[e.jsx("button",{onClick:()=>c("grid"),className:"p-1.5 rounded-md transition-all "+("grid"===l?"bg-white shadow text-indigo-600":"text-slate-400 hover:text-slate-600"),title:"Grid View",children:e.jsx(Be,{size:18})}),e.jsx("button",{onClick:()=>c("list"),className:"p-1.5 rounded-md transition-all "+("list"===l?"bg-white shadow text-indigo-600":"text-slate-400 hover:text-slate-600"),title:"List View",children:e.jsx(Re,{size:18})})]}),e.jsx("button",{onClick:r,className:"p-2 hover:bg-slate-100 rounded-full transition-colors text-slate-400 hover:text-slate-600",children:e.jsx(t,{size:24})})]})]}),e.jsx("div",{className:"p-6 overflow-y-auto "+("grid"===l?"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4":"flex flex-col gap-3"),children:lf.map(t=>e.jsxs("button",{onClick:()=>(e=>{e.available&&(i(e.route),r())})(t),disabled:!t.available,className:`group relative transition-all text-left outline-none focus:ring-2 ring-indigo-500/20 rounded-xl\n                                            ${"grid"===l?"p-6 border border-slate-200 hover:border-indigo-300 hover:shadow-lg hover:-translate-y-1 bg-white flex flex-col items-start gap-4":"p-4 border border-slate-200 hover:border-indigo-300 hover:bg-indigo-50/30 flex items-center gap-4 bg-white"}\n                                            ${!t.available&&"opacity-60 cursor-not-allowed grayscale"}\n                                        `,children:[e.jsx("div",{className:`\n                                            flex items-center justify-center text-white shadow-lg rounded-xl transition-transform group-hover:scale-110 duration-300\n                                            ${"grid"===l?"w-14 h-14 mb-2":"w-12 h-12"}\n                                            ${t.color}\n                                        `,children:e.jsx(t.icon,{size:"grid"===l?28:24})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("h3",{className:"font-bold text-slate-800 flex items-center gap-2 "+("grid"===l?"text-lg":"text-base"),children:[t.title,!t.available&&e.jsx("span",{className:"text-[10px] uppercase tracking-wider font-bold bg-slate-200 text-slate-500 px-2 py-0.5 rounded-full",children:"Soon"})]}),e.jsx("p",{className:"text-slate-500 leading-relaxed "+("grid"===l?"text-sm mt-2 line-clamp-3":"text-sm mt-0.5 line-clamp-1"),children:t.description})]}),t.available&&e.jsx("div",{className:`\n                                                text-slate-300 group-hover:text-indigo-500 transition-colors\n                                                ${"grid"===l?"absolute top-6 right-6 opacity-0 group-hover:opacity-100 -translate-x-2 group-hover:translate-x-0 transition-all duration-300":""}\n                                            `,children:e.jsx(o,{size:20})})]},t.id))}),e.jsxs("div",{className:"p-4 bg-slate-50 border-t border-slate-100 text-center text-xs text-slate-400 font-medium",children:["Can't find what you're looking for? ",e.jsx("button",{className:"text-indigo-600 hover:underline",children:"Request a template"})]})]})},"modal")]})}),document.body)},cf=({isOpen:n,onClose:s,history:a,loading:r})=>n?e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/20 backdrop-blur-sm",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-2xl max-h-[80vh] flex flex-col overflow-hidden",children:[e.jsxs("div",{className:"p-4 border-b border-slate-100 flex items-center justify-between bg-slate-50",children:[e.jsxs("h3",{className:"font-semibold text-slate-800 flex items-center gap-2",children:[e.jsx(v,{size:18,className:"text-slate-500"})," Share History"]}),e.jsx("button",{onClick:s,className:"p-1 hover:bg-slate-200 rounded text-slate-500 transition-colors",children:e.jsx(t,{size:20})})]}),e.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:r?e.jsx("div",{className:"text-center py-8 text-slate-500",children:"Loading history..."}):0===a.length?e.jsxs("div",{className:"text-center py-12 text-slate-400",children:[e.jsx(v,{size:48,className:"mx-auto mb-2 opacity-20"}),e.jsx("p",{children:"No share history found for this document."})]}):a.map(t=>e.jsxs("div",{className:"bg-white border border-slate-100 rounded-lg p-4 shadow-sm hover:shadow-md transition-shadow",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between gap-4 mb-3",children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-slate-100 flex items-center justify-center text-slate-500 flex-shrink-0",children:e.jsx(j,{size:20})}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-slate-900",children:t.recipient_email}),e.jsxs("div",{className:"text-xs text-slate-500 flex items-center gap-2 mt-1",children:[e.jsx(I,{size:12}),new Date(t.sent_at).toLocaleString()]})]})]}),e.jsxs("div",{className:"text-xs text-slate-400 bg-slate-50 px-2 py-1 rounded h-fit whitespace-nowrap",children:["Sent by: ",t.sender?.name||"System"]})]}),t.message&&e.jsxs("div",{className:"bg-slate-50 rounded-md p-3 text-sm text-slate-600 mt-2 flex gap-2",children:[e.jsx(He,{size:16,className:"text-slate-400 flex-shrink-0 mt-0.5"}),e.jsxs("p",{className:"italic",children:['"',t.message,'"']})]})]},t.id))})]})}):null,df=({title:t,subtitle:n,children:s})=>e.jsxs("div",{className:"flex flex-col md:flex-row md:items-start justify-between gap-4 mb-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-slate-900 tracking-tight",children:t}),n&&e.jsx("p",{className:"text-slate-500 mt-1 text-sm",children:n})]}),e.jsx("div",{className:"flex items-center gap-3",children:s})]}),uf=({children:t,className:n=""})=>e.jsx("div",{className:`max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 ${n}`,children:e.jsx(a.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.3,ease:"easeOut"},children:t})}),hf=({viewMode:t})=>"list"===t?e.jsxs("div",{className:"flex items-center gap-6 py-4 px-6 border-b border-slate-100 last:border-0 animate-pulse",children:[e.jsx("div",{className:"w-5 h-5 bg-slate-100 rounded"}),e.jsx("div",{className:"w-10 h-10 bg-slate-100 rounded-lg"}),e.jsxs("div",{className:"flex-1 grid grid-cols-1 md:grid-cols-4 gap-4 w-full",children:[e.jsx("div",{className:"h-4 bg-slate-100 rounded w-3/4"}),e.jsx("div",{className:"hidden md:block h-4 bg-slate-100 rounded w-1/2"}),e.jsx("div",{className:"hidden md:block h-4 bg-slate-100 rounded w-1/3"}),e.jsx("div",{className:"hidden md:block h-4 bg-slate-100 rounded w-1/2"})]}),e.jsx("div",{className:"w-8 h-8 bg-slate-100 rounded ml-auto"})]}):e.jsxs("div",{className:"bg-white border border-slate-200 rounded-xl p-5 animate-pulse flex flex-col h-[280px]",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsx("div",{className:"w-10 h-10 bg-slate-100 rounded-lg"}),e.jsx("div",{className:"w-16 h-6 bg-slate-100 rounded-full"})]}),e.jsxs("div",{className:"space-y-3 flex-1",children:[e.jsx("div",{className:"h-5 bg-slate-100 rounded w-3/4"}),e.jsx("div",{className:"h-4 bg-slate-50 rounded w-1/2"})]}),e.jsxs("div",{className:"mt-auto pt-4 border-t border-slate-50 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-6 h-6 rounded-full bg-slate-100"}),e.jsx("div",{className:"w-20 h-3 bg-slate-100 rounded"})]}),e.jsx("div",{className:"w-16 h-3 bg-slate-100 rounded"})]})]}),mf=6048e5,pf=43200,ff=Symbol.for("constructDateFrom");function xf(e,t){return"function"==typeof e?e(t):e&&"object"==typeof e&&ff in e?e[ff](t):e instanceof Date?new e.constructor(t):new Date(t)}function gf(e,t){return xf(t||e,e)}let bf={};function vf(){return bf}function yf(e,t){const n=vf(),s=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,a=gf(e,t?.in),r=a.getDay(),i=(r<s?7:0)+r-s;return a.setDate(a.getDate()-i),a.setHours(0,0,0,0),a}function wf(e,t){return yf(e,{...t,weekStartsOn:1})}function jf(e,t){const n=gf(e,t?.in),s=n.getFullYear(),a=xf(n,0);a.setFullYear(s+1,0,4),a.setHours(0,0,0,0);const r=wf(a),i=xf(n,0);i.setFullYear(s,0,4),i.setHours(0,0,0,0);const l=wf(i);return n.getTime()>=r.getTime()?s+1:n.getTime()>=l.getTime()?s:s-1}function Nf(e){const t=gf(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}function kf(e,...t){const n=xf.bind(null,e||t.find(e=>"object"==typeof e));return t.map(n)}function Sf(e,t){const n=gf(e,t?.in);return n.setHours(0,0,0,0),n}function Cf(e,t){const n=+gf(e)-+gf(t);return n<0?-1:n>0?1:n}function _f(e){return!(!((t=e)instanceof Date||"object"==typeof t&&"[object Date]"===Object.prototype.toString.call(t))&&"number"!=typeof e||isNaN(+gf(e)));var t}function Pf(e,t){const n=gf(e,t?.in);return+function(e,t){const n=gf(e,t?.in);return n.setHours(23,59,59,999),n}(n,t)===+function(e,t){const n=gf(e,t?.in),s=n.getMonth();return n.setFullYear(n.getFullYear(),s+1,0),n.setHours(23,59,59,999),n}(n,t)}function Df(e,t,n){const[s,a,r]=kf(n?.in,e,e,t),i=Cf(a,r),l=Math.abs(function(e,t,n){const[s,a]=kf(n?.in,e,t);return 12*(s.getFullYear()-a.getFullYear())+(s.getMonth()-a.getMonth())}(a,r));if(l<1)return 0;1===a.getMonth()&&a.getDate()>27&&a.setDate(30),a.setMonth(a.getMonth()-i*l);let o=Cf(a,r)===-i;Pf(s)&&1===l&&1===Cf(s,r)&&(o=!1);const c=i*(l-+o);return 0===c?0:c}function Tf(e,t,n){const s=function(e,t){return+gf(e)-+gf(t)}(e,t)/1e3;return(a=n?.roundingMethod,e=>{const t=(a?Math[a]:Math.trunc)(e);return 0===t?0:t})(s);var a}const Ef={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};function zf(e){return(t={})=>{const n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const Mf={date:zf({formats:{full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},defaultWidth:"full"}),time:zf({formats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},defaultWidth:"full"}),dateTime:zf({formats:{full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})},Rf={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"};function Af(e){return(t,n)=>{let s;if("formatting"===(n?.context?String(n.context):"standalone")&&e.formattingValues){const t=e.defaultFormattingWidth||e.defaultWidth,a=n?.width?String(n.width):t;s=e.formattingValues[a]||e.formattingValues[t]}else{const t=e.defaultWidth,a=n?.width?String(n.width):e.defaultWidth;s=e.values[a]||e.values[t]}return s[e.argumentCallback?e.argumentCallback(t):t]}}function Of(e){return(t,n={})=>{const s=n.width,a=s&&e.matchPatterns[s]||e.matchPatterns[e.defaultMatchWidth],r=t.match(a);if(!r)return null;const i=r[0],l=s&&e.parsePatterns[s]||e.parsePatterns[e.defaultParseWidth],o=Array.isArray(l)?function(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n;return}(l,e=>e.test(i)):function(e,t){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n;return}(l,e=>e.test(i));let c;c=e.valueCallback?e.valueCallback(o):o,c=n.valueCallback?n.valueCallback(c):c;return{value:c,rest:t.slice(i.length)}}}var Ff;const If={code:"en-US",formatDistance:(e,t,n)=>{let s;const a=Ef[e];return s="string"==typeof a?a:1===t?a.one:a.other.replace("{{count}}",t.toString()),n?.addSuffix?n.comparison&&n.comparison>0?"in "+s:s+" ago":s},formatLong:Mf,formatRelative:(e,t,n,s)=>Rf[e],localize:{ordinalNumber:(e,t)=>{const n=Number(e),s=n%100;if(s>20||s<10)switch(s%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},era:Af({values:{narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},defaultWidth:"wide"}),quarter:Af({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},defaultWidth:"wide",argumentCallback:e=>e-1}),month:Af({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},defaultWidth:"wide"}),day:Af({values:{narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},defaultWidth:"wide"}),dayPeriod:Af({values:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},defaultFormattingWidth:"wide"})},match:{ordinalNumber:(Ff={matchPattern:/^(\d+)(th|st|nd|rd)?/i,parsePattern:/\d+/i,valueCallback:e=>parseInt(e,10)},(e,t={})=>{const n=e.match(Ff.matchPattern);if(!n)return null;const s=n[0],a=e.match(Ff.parsePattern);if(!a)return null;let r=Ff.valueCallback?Ff.valueCallback(a[0]):a[0];return r=t.valueCallback?t.valueCallback(r):r,{value:r,rest:e.slice(s.length)}}),era:Of({matchPatterns:{narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^b/i,/^(a|c)/i]},defaultParseWidth:"any"}),quarter:Of({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:e=>e+1}),month:Of({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:Of({matchPatterns:{narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:Of({matchPatterns:{narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},defaultParseWidth:"any"})},options:{weekStartsOn:0,firstWeekContainsDate:1}};function Lf(e,t){const n=gf(e,t?.in),s=function(e,t,n){const[s,a]=kf(n?.in,e,t),r=Sf(s),i=Sf(a),l=+r-Nf(r),o=+i-Nf(i);return Math.round((l-o)/864e5)}(n,function(e,t){const n=gf(e,t?.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}(n));return s+1}function Bf(e,t){const n=gf(e,t?.in),s=+wf(n)-+function(e,t){const n=jf(e,t),s=xf(e,0);return s.setFullYear(n,0,4),s.setHours(0,0,0,0),wf(s)}(n);return Math.round(s/mf)+1}function $f(e,t){const n=gf(e,t?.in),s=n.getFullYear(),a=vf(),r=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??a.firstWeekContainsDate??a.locale?.options?.firstWeekContainsDate??1,i=xf(t?.in||e,0);i.setFullYear(s+1,0,r),i.setHours(0,0,0,0);const l=yf(i,t),o=xf(t?.in||e,0);o.setFullYear(s,0,r),o.setHours(0,0,0,0);const c=yf(o,t);return+n>=+l?s+1:+n>=+c?s:s-1}function Wf(e,t){const n=gf(e,t?.in),s=+yf(n,t)-+function(e,t){const n=vf(),s=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,a=$f(e,t),r=xf(t?.in||e,0);return r.setFullYear(a,0,s),r.setHours(0,0,0,0),yf(r,t)}(n,t);return Math.round(s/mf)+1}function Hf(e,t){return(e<0?"-":"")+Math.abs(e).toString().padStart(t,"0")}const Uf={y(e,t){const n=e.getFullYear(),s=n>0?n:1-n;return Hf("yy"===t?s%100:s,t.length)},M(e,t){const n=e.getMonth();return"M"===t?String(n+1):Hf(n+1,2)},d:(e,t)=>Hf(e.getDate(),t.length),a(e,t){const n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];default:return"am"===n?"a.m.":"p.m."}},h:(e,t)=>Hf(e.getHours()%12||12,t.length),H:(e,t)=>Hf(e.getHours(),t.length),m:(e,t)=>Hf(e.getMinutes(),t.length),s:(e,t)=>Hf(e.getSeconds(),t.length),S(e,t){const n=t.length,s=e.getMilliseconds();return Hf(Math.trunc(s*Math.pow(10,n-3)),t.length)}},Vf="midnight",qf="noon",Yf="morning",Gf="afternoon",Xf="evening",Qf="night",Kf={G:function(e,t,n){const s=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(s,{width:"abbreviated"});case"GGGGG":return n.era(s,{width:"narrow"});default:return n.era(s,{width:"wide"})}},y:function(e,t,n){if("yo"===t){const t=e.getFullYear(),s=t>0?t:1-t;return n.ordinalNumber(s,{unit:"year"})}return Uf.y(e,t)},Y:function(e,t,n,s){const a=$f(e,s),r=a>0?a:1-a;if("YY"===t){return Hf(r%100,2)}return"Yo"===t?n.ordinalNumber(r,{unit:"year"}):Hf(r,t.length)},R:function(e,t){return Hf(jf(e),t.length)},u:function(e,t){return Hf(e.getFullYear(),t.length)},Q:function(e,t,n){const s=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(s);case"QQ":return Hf(s,2);case"Qo":return n.ordinalNumber(s,{unit:"quarter"});case"QQQ":return n.quarter(s,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(s,{width:"narrow",context:"formatting"});default:return n.quarter(s,{width:"wide",context:"formatting"})}},q:function(e,t,n){const s=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(s);case"qq":return Hf(s,2);case"qo":return n.ordinalNumber(s,{unit:"quarter"});case"qqq":return n.quarter(s,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(s,{width:"narrow",context:"standalone"});default:return n.quarter(s,{width:"wide",context:"standalone"})}},M:function(e,t,n){const s=e.getMonth();switch(t){case"M":case"MM":return Uf.M(e,t);case"Mo":return n.ordinalNumber(s+1,{unit:"month"});case"MMM":return n.month(s,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(s,{width:"narrow",context:"formatting"});default:return n.month(s,{width:"wide",context:"formatting"})}},L:function(e,t,n){const s=e.getMonth();switch(t){case"L":return String(s+1);case"LL":return Hf(s+1,2);case"Lo":return n.ordinalNumber(s+1,{unit:"month"});case"LLL":return n.month(s,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(s,{width:"narrow",context:"standalone"});default:return n.month(s,{width:"wide",context:"standalone"})}},w:function(e,t,n,s){const a=Wf(e,s);return"wo"===t?n.ordinalNumber(a,{unit:"week"}):Hf(a,t.length)},I:function(e,t,n){const s=Bf(e);return"Io"===t?n.ordinalNumber(s,{unit:"week"}):Hf(s,t.length)},d:function(e,t,n){return"do"===t?n.ordinalNumber(e.getDate(),{unit:"date"}):Uf.d(e,t)},D:function(e,t,n){const s=Lf(e);return"Do"===t?n.ordinalNumber(s,{unit:"dayOfYear"}):Hf(s,t.length)},E:function(e,t,n){const s=e.getDay();switch(t){case"E":case"EE":case"EEE":return n.day(s,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(s,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(s,{width:"short",context:"formatting"});default:return n.day(s,{width:"wide",context:"formatting"})}},e:function(e,t,n,s){const a=e.getDay(),r=(a-s.weekStartsOn+8)%7||7;switch(t){case"e":return String(r);case"ee":return Hf(r,2);case"eo":return n.ordinalNumber(r,{unit:"day"});case"eee":return n.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(a,{width:"short",context:"formatting"});default:return n.day(a,{width:"wide",context:"formatting"})}},c:function(e,t,n,s){const a=e.getDay(),r=(a-s.weekStartsOn+8)%7||7;switch(t){case"c":return String(r);case"cc":return Hf(r,t.length);case"co":return n.ordinalNumber(r,{unit:"day"});case"ccc":return n.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(a,{width:"narrow",context:"standalone"});case"cccccc":return n.day(a,{width:"short",context:"standalone"});default:return n.day(a,{width:"wide",context:"standalone"})}},i:function(e,t,n){const s=e.getDay(),a=0===s?7:s;switch(t){case"i":return String(a);case"ii":return Hf(a,t.length);case"io":return n.ordinalNumber(a,{unit:"day"});case"iii":return n.day(s,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(s,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(s,{width:"short",context:"formatting"});default:return n.day(s,{width:"wide",context:"formatting"})}},a:function(e,t,n){const s=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(s,{width:"narrow",context:"formatting"});default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(e,t,n){const s=e.getHours();let a;switch(a=12===s?qf:0===s?Vf:s/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(a,{width:"narrow",context:"formatting"});default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(e,t,n){const s=e.getHours();let a;switch(a=s>=17?Xf:s>=12?Gf:s>=4?Yf:Qf,t){case"B":case"BB":case"BBB":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(a,{width:"narrow",context:"formatting"});default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(e,t,n){if("ho"===t){let t=e.getHours()%12;return 0===t&&(t=12),n.ordinalNumber(t,{unit:"hour"})}return Uf.h(e,t)},H:function(e,t,n){return"Ho"===t?n.ordinalNumber(e.getHours(),{unit:"hour"}):Uf.H(e,t)},K:function(e,t,n){const s=e.getHours()%12;return"Ko"===t?n.ordinalNumber(s,{unit:"hour"}):Hf(s,t.length)},k:function(e,t,n){let s=e.getHours();return 0===s&&(s=24),"ko"===t?n.ordinalNumber(s,{unit:"hour"}):Hf(s,t.length)},m:function(e,t,n){return"mo"===t?n.ordinalNumber(e.getMinutes(),{unit:"minute"}):Uf.m(e,t)},s:function(e,t,n){return"so"===t?n.ordinalNumber(e.getSeconds(),{unit:"second"}):Uf.s(e,t)},S:function(e,t){return Uf.S(e,t)},X:function(e,t,n){const s=e.getTimezoneOffset();if(0===s)return"Z";switch(t){case"X":return Zf(s);case"XXXX":case"XX":return ex(s);default:return ex(s,":")}},x:function(e,t,n){const s=e.getTimezoneOffset();switch(t){case"x":return Zf(s);case"xxxx":case"xx":return ex(s);default:return ex(s,":")}},O:function(e,t,n){const s=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+Jf(s,":");default:return"GMT"+ex(s,":")}},z:function(e,t,n){const s=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+Jf(s,":");default:return"GMT"+ex(s,":")}},t:function(e,t,n){return Hf(Math.trunc(+e/1e3),t.length)},T:function(e,t,n){return Hf(+e,t.length)}};function Jf(e,t=""){const n=e>0?"-":"+",s=Math.abs(e),a=Math.trunc(s/60),r=s%60;return 0===r?n+String(a):n+String(a)+t+Hf(r,2)}function Zf(e,t){if(e%60==0){return(e>0?"-":"+")+Hf(Math.abs(e)/60,2)}return ex(e,t)}function ex(e,t=""){const n=e>0?"-":"+",s=Math.abs(e);return n+Hf(Math.trunc(s/60),2)+t+Hf(s%60,2)}const tx=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});default:return t.date({width:"full"})}},nx=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});default:return t.time({width:"full"})}},sx={p:nx,P:(e,t)=>{const n=e.match(/(P+)(p+)?/)||[],s=n[1],a=n[2];if(!a)return tx(e,t);let r;switch(s){case"P":r=t.dateTime({width:"short"});break;case"PP":r=t.dateTime({width:"medium"});break;case"PPP":r=t.dateTime({width:"long"});break;default:r=t.dateTime({width:"full"})}return r.replace("{{date}}",tx(s,t)).replace("{{time}}",nx(a,t))}},ax=/^D+$/,rx=/^Y+$/,ix=["D","DD","YY","YYYY"];const lx=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,ox=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,cx=/^'([^]*?)'?$/,dx=/''/g,ux=/[a-zA-Z]/;function hx(e,t,n){const s=vf(),a=s.locale??If,r=s.firstWeekContainsDate??s.locale?.options?.firstWeekContainsDate??1,i=s.weekStartsOn??s.locale?.options?.weekStartsOn??0,l=gf(e,n?.in);if(!_f(l))throw new RangeError("Invalid time value");let o=t.match(ox).map(e=>{const t=e[0];if("p"===t||"P"===t){return(0,sx[t])(e,a.formatLong)}return e}).join("").match(lx).map(e=>{if("''"===e)return{isToken:!1,value:"'"};const t=e[0];if("'"===t)return{isToken:!1,value:mx(e)};if(Kf[t])return{isToken:!0,value:e};if(t.match(ux))throw new RangeError("Format string contains an unescaped latin alphabet character `"+t+"`");return{isToken:!1,value:e}});a.localize.preprocessor&&(o=a.localize.preprocessor(l,o));const c={firstWeekContainsDate:r,weekStartsOn:i,locale:a};return o.map(n=>{if(!n.isToken)return n.value;const s=n.value;(function(e){return rx.test(e)}(s)||function(e){return ax.test(e)}(s))&&function(e,t,n){const s=function(e,t,n){const s="Y"===e[0]?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${s} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}(e,t,n);if(ix.includes(e))throw new RangeError(s)}(s,t,String(e));return(0,Kf[s[0]])(l,s,a.localize,c)}).join("")}function mx(e){const t=e.match(cx);return t?t[1].replace(dx,"'"):e}function px(e,t){return function(e,t,n){const s=vf(),a=n?.locale??s.locale??If,r=Cf(e,t);if(isNaN(r))throw new RangeError("Invalid time value");const i=Object.assign({},n,{addSuffix:n?.addSuffix,comparison:r}),[l,o]=kf(n?.in,...r>0?[t,e]:[e,t]),c=Tf(o,l),d=(Nf(o)-Nf(l))/1e3,u=Math.round((c-d)/60);let h;if(u<2)return n?.includeSeconds?c<5?a.formatDistance("lessThanXSeconds",5,i):c<10?a.formatDistance("lessThanXSeconds",10,i):c<20?a.formatDistance("lessThanXSeconds",20,i):c<40?a.formatDistance("halfAMinute",0,i):c<60?a.formatDistance("lessThanXMinutes",1,i):a.formatDistance("xMinutes",1,i):0===u?a.formatDistance("lessThanXMinutes",1,i):a.formatDistance("xMinutes",u,i);if(u<45)return a.formatDistance("xMinutes",u,i);if(u<90)return a.formatDistance("aboutXHours",1,i);if(u<1440){const e=Math.round(u/60);return a.formatDistance("aboutXHours",e,i)}if(u<2520)return a.formatDistance("xDays",1,i);if(u<pf){const e=Math.round(u/1440);return a.formatDistance("xDays",e,i)}if(u<86400)return h=Math.round(u/pf),a.formatDistance("aboutXMonths",h,i);if(h=Df(o,l),h<12){const e=Math.round(u/pf);return a.formatDistance("xMonths",e,i)}{const e=h%12,t=Math.trunc(h/12);return e<3?a.formatDistance("aboutXYears",t,i):e<9?a.formatDistance("overXYears",t,i):a.formatDistance("almostXYears",t+1,i)}}(e,function(e){return xf(e,Date.now())}(e),t)}const fx=vt.memo(({doc:t,getStatusStyle:n,variants:s,onViewHistory:r,handleView:i})=>e.jsxs(a.div,{variants:s,className:"group relative bg-white rounded-xl border border-slate-200 p-5 cursor-pointer hover:shadow-lg hover:border-indigo-200 transition-all duration-200 flex flex-col justify-between h-full",onClick:()=>i(t),children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between items-start mb-4",children:[e.jsx("div",{className:"p-2.5 rounded-lg transition-colors "+(t.signers_count>0?"bg-purple-50 text-purple-600 group-hover:bg-purple-100":"bg-indigo-50 text-indigo-600 group-hover:bg-indigo-100"),children:t.signers_count>0?e.jsx(P,{size:20}):e.jsx(l,{size:20})}),e.jsxs("div",{className:"flex gap-2 items-center",children:[e.jsx("button",{onClick:e=>r(e,t.id),className:"p-1.5 rounded-md text-slate-400 hover:text-indigo-600 hover:bg-indigo-50 transition-colors",title:"View Share History",children:e.jsx(v,{size:14})}),e.jsx("span",{className:`px-2.5 py-1 rounded-md text-[10px] font-bold uppercase tracking-wider border ${n(t.status)}`,children:t.status})]})]}),e.jsx("h3",{className:"font-semibold text-slate-800 mb-1.5 group-hover:text-indigo-600 transition-colors line-clamp-1 text-base",children:t.title||t.name}),e.jsx("p",{className:"text-xs font-medium text-slate-500 mb-4 uppercase tracking-wider",children:t.type?.name||t.type})]}),e.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-slate-100 mt-auto",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[t.creator?.avatar_url?e.jsx("img",{src:t.creator.avatar_url,alt:t.creator.name,className:"w-6 h-6 rounded-full object-cover border border-slate-200"}):e.jsx("div",{className:"w-6 h-6 rounded-full bg-slate-100 flex items-center justify-center text-[10px] font-bold text-slate-600 border border-slate-200",children:t.creator?.name?t.creator.name.substring(0,2).toUpperCase():"NA"}),e.jsx("span",{className:"text-xs font-medium text-slate-600 truncate max-w-[100px]",title:t.creator?.name,children:t.creator?.name||"Unknown"})]}),e.jsxs("span",{className:"text-[11px] font-medium text-slate-400 flex items-center gap-1",children:[e.jsx($,{size:12})," ",px(new Date(t.updated_at),{addSuffix:!0})]})]})]})),xx=vt.memo(({doc:t,getStatusStyle:n,variants:r,isSelected:i,toggleSelect:o,onViewHistory:c,activeMenuId:d,setActiveMenuId:u,handleView:h,handleDelete:m,handleRestore:p,viewMode:f})=>e.jsxs(a.div,{variants:r,className:"relative group bg-white hover:bg-slate-50 transition-colors border-b border-slate-100 last:border-b-0 "+(i?"bg-indigo-50/50":""),onClick:()=>h(t),children:[e.jsx("div",{className:"md:hidden p-4 flex flex-col gap-3",children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{onClick:e=>{e.stopPropagation(),o(t.id)},children:i?e.jsx(fe,{size:20,className:"text-indigo-600"}):e.jsx(Ue,{size:20,className:"text-slate-300"})}),e.jsx("div",{className:"p-2 rounded-lg "+(t.signers_count>0?"bg-purple-100 text-purple-600":"bg-indigo-100 text-indigo-600"),children:t.signers_count>0?e.jsx(P,{size:16}):e.jsx(l,{size:16})}),e.jsxs("div",{children:[e.jsx("span",{className:"font-semibold text-sm text-slate-900 line-clamp-1",children:t.title||t.name}),e.jsxs("div",{className:"flex items-center gap-2 mt-0.5",children:[e.jsx("span",{className:"text-xs text-slate-500 capitalize",children:t.type?.name||t.type}),e.jsx("span",{className:"text-[10px] text-slate-400",children:""}),e.jsxs("span",{className:"text-xs text-slate-500",children:[px(new Date(t.updated_at))," ago"]})]})]})]}),e.jsx("button",{onClick:e=>{e.stopPropagation(),u(d===t.id?null:t.id)},className:"p-1 text-slate-400 hover:text-slate-600 relative z-10",children:e.jsx(Ve,{size:20})})]})}),e.jsxs("div",{className:"hidden md:grid px-6 py-4 grid-cols-[auto_3fr_1fr_1fr_1fr_1fr_auto] gap-6 items-center",children:[e.jsx("div",{onClick:e=>{e.stopPropagation(),o(t.id)},className:"cursor-pointer",children:i?e.jsx(fe,{size:18,className:"text-indigo-600"}):e.jsx(Ue,{size:18,className:"text-slate-300 group-hover:text-slate-400"})}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"p-2 rounded-lg transition-colors "+(t.signers_count>0?"bg-purple-50 text-purple-600":"bg-slate-100 text-slate-500 group-hover:bg-indigo-50 group-hover:text-indigo-600"),children:t.signers_count>0?e.jsx(P,{size:18}):e.jsx(l,{size:18})}),e.jsxs("div",{children:[e.jsx("span",{className:"font-semibold text-sm text-slate-700 block group-hover:text-indigo-600 transition-colors",children:t.title||t.name}),t.signers_count>0&&e.jsx("span",{className:"text-[10px] bg-purple-100 text-purple-700 px-1.5 py-0.5 rounded font-medium mt-1 inline-block",children:"Signature Required"})]})]}),e.jsx("div",{className:"text-sm text-slate-500 font-medium capitalize",children:t.type?.name||t.type}),e.jsx("div",{children:e.jsx("span",{className:`px-2.5 py-1 rounded-full text-[11px] font-bold border ${n(t.status)}`,children:t.status})}),e.jsxs("div",{className:"text-xs text-slate-500 flex items-center gap-1.5",children:[e.jsx($,{size:13,className:"text-slate-400"}),px(new Date(t.updated_at),{addSuffix:!0})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[t.creator?.avatar_url?e.jsx("img",{src:t.creator.avatar_url,alt:t.creator.name,className:"w-6 h-6 rounded-full object-cover border border-slate-200"}):e.jsx("div",{className:"w-6 h-6 rounded-full bg-slate-100 flex items-center justify-center text-[10px] font-bold text-slate-600 border border-slate-200",children:t.creator?.name?t.creator.name.substring(0,2).toUpperCase():"NA"}),e.jsx("span",{className:"text-xs font-medium text-slate-600 truncate max-w-[80px]",children:t.creator?.name||"Unknown"})]}),e.jsxs("div",{className:"flex justify-end gap-1 relative",children:[e.jsx("button",{onClick:e=>c(e,t.id),className:"p-1.5 rounded-lg text-slate-400 hover:text-indigo-600 hover:bg-slate-100 transition-colors",title:"View History",children:e.jsx(v,{size:16})}),e.jsx("button",{onClick:e=>{e.stopPropagation(),u(d===t.id?null:t.id)},className:"p-1.5 rounded-lg text-slate-400 hover:text-indigo-600 hover:bg-slate-100 transition-colors",children:e.jsx(Ve,{size:16})})]})]}),e.jsx(s,{children:d===t.id&&e.jsx(a.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},transition:{duration:.1},className:"absolute right-4 md:right-8 top-12 md:top-10 w-48 bg-white border border-slate-100 rounded-xl shadow-xl z-50 p-1.5 flex flex-col gap-0.5 origin-top-right",onClick:e=>e.stopPropagation(),children:"active"===f?e.jsxs(e.Fragment,{children:[e.jsxs("button",{onClick:()=>{h(t),u(null)},className:"w-full text-left flex items-center gap-2.5 px-3 py-2 text-sm font-medium text-slate-600 hover:bg-slate-50 hover:text-indigo-600 rounded-lg transition-colors",children:[e.jsx(xe,{size:16})," View/Edit"]}),e.jsxs("button",{onClick:()=>{m(t.id),u(null)},className:"w-full text-left flex items-center gap-2.5 px-3 py-2 text-sm font-medium text-red-600 hover:bg-red-50 rounded-lg transition-colors",children:[e.jsx(te,{size:16})," Delete"]})]}):e.jsxs("button",{onClick:()=>{p(t.id),u(null)},className:"w-full text-left flex items-center gap-2.5 px-3 py-2 text-sm font-medium text-emerald-600 hover:bg-emerald-50 rounded-lg transition-colors",children:[e.jsx(oe,{size:16})," Restore"]})})})]})),gx={hidden:{opacity:0},show:{opacity:1,transition:{staggerChildren:.05}}},bx={hidden:{opacity:0,y:5},show:{opacity:1,y:0}},vx=()=>{const n=kt(),{can:r}=cd(),[i,o]=vt.useState(!1),[c,d]=vt.useState(()=>localStorage.getItem("documentViewMode")||"list"),[u,h]=vt.useState(!0),[m,p]=vt.useState([]),[x,g]=vt.useState(!1),[b,v]=vt.useState([]),[y,w]=vt.useState({current_page:1,last_page:1,per_page:10,total:0,from:0,to:0}),[N,k]=vt.useState(null),[S,C]=vt.useState(null),[_,P]=vt.useState(null),[D,T]=vt.useState({search:"",status:"all",type:"all",category:"all"}),[E,R]=vt.useState(!1),[A,O]=vt.useState([]),[F,I]=vt.useState(!1),L=yt.useMemo(()=>({canEdit:r("document.edit"),canDelete:r("document.delete"),canCreate:r("document.create")}),[r]),B=vt.useCallback(e=>{d(e),localStorage.setItem("documentViewMode",e)},[]),W=vt.useCallback(async(e=1)=>{try{h(!0);const t={page:e,per_page:y.per_page,search:D.search,status:D.status,type:D.type,category:D.category,view_mode:x?"trash":"active"},n=await Jn.get("/documents",{params:t});p(n.data.data||[]),n.data.meta&&w(e=>({...e,current_page:n.data.meta.current_page,last_page:n.data.meta.last_page,total:n.data.meta.total,from:n.data.meta.from,to:n.data.meta.to}))}catch(t){p([])}finally{h(!1)}},[D,x,y.per_page]);vt.useEffect(()=>{const e=setTimeout(()=>{W(1)},300);return()=>clearTimeout(e)},[W]),vt.useEffect(()=>{const e=()=>k(null);return document.addEventListener("click",e),()=>document.removeEventListener("click",e)},[]);const H=vt.useCallback((e,t)=>{T(n=>({...n,[e]:t}))},[]),U=vt.useCallback(e=>{switch(e){case"draft":default:return"bg-slate-100 text-slate-700 border-slate-200";case"sent":return"bg-blue-50 text-blue-700 border-blue-200";case"signed":return"bg-emerald-50 text-emerald-700 border-emerald-200";case"completed":return"bg-emerald-100 text-emerald-700 border-emerald-200"}},[]),V=vt.useCallback(async(e,t)=>{e.stopPropagation(),R(!0),I(!0);try{const e=await pm(t);O(e.data||[])}catch(n){At.error("Could not load history")}finally{I(!1)}},[]),q=vt.useCallback(async(e,t="preview")=>{try{const n=await Jn.get(`/documents/${e}`);P(n.data.data),C(t)}catch(n){At.error("Failed to load document details")}},[]),Y=vt.useCallback(e=>{if(e.signers_count>0||"general"===e.type?.slug&&e.signers_count>0)q(e.id);else{const t=e.type?.slug||"general";n(`/documents/${t}/${e.id}`)}},[q,n]),G=vt.useCallback(async e=>{if(window.confirm("Are you sure you want to move this document to trash?"))try{await Jn.delete(`/documents/${e}`),At.success("Document moved to trash",{id:"doc-delete"}),W(y.current_page)}catch(t){At.error("Failed to delete document",{id:"doc-delete-error"})}},[W,y.current_page]),X=vt.useCallback(async e=>{try{await Jn.post(`/documents/${e}/restore`),At.success("Document restored",{id:"doc-restore"}),W(y.current_page)}catch(t){At.error("Failed to restore document",{id:"doc-restore-error"})}},[W,y.current_page]),Q=vt.useCallback(e=>{v(t=>t.includes(e)?t.filter(t=>t!==e):[...t,e])},[]),J=vt.useCallback(()=>{b.length===m.length&&m.length>0?v([]):v(m.map(e=>e.id))},[b.length,m]);return e.jsxs(uf,{children:[e.jsx(df,{title:"Documents",subtitle:"Manage, organize, and track your legal documents.",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("button",{onClick:()=>{g(e=>!e),w(e=>({...e,current_page:1})),v([])},className:"flex items-center gap-2 px-4 py-2 rounded-lg text-sm font-medium transition-all "+(x?"bg-red-50 text-red-700 border border-red-200":"bg-white text-slate-600 border border-slate-200 hover:bg-slate-50"),children:[x?e.jsx(oe,{size:16}):e.jsx(te,{size:16}),x?"Back to All":"Trash"]}),L.canCreate&&!x&&e.jsxs("button",{onClick:()=>o(!0),className:"px-4 py-2 bg-slate-900 text-white rounded-lg font-semibold flex items-center gap-2 hover:bg-slate-800 transition-all shadow-lg shadow-slate-900/20 text-sm",children:[e.jsx(ne,{size:18,strokeWidth:2.5}),e.jsx("span",{children:"New Document"})]})]})}),e.jsxs("div",{className:"bg-white p-4 rounded-xl border border-slate-200 shadow-sm flex flex-col xl:flex-row gap-4 justify-between items-center mb-6",children:[e.jsxs("div",{className:"relative flex-1 w-full xl:max-w-lg group",children:[e.jsx(K,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400 group-focus-within:text-slate-600 transition-colors",size:18}),e.jsx("input",{type:"text",value:D.search,onChange:e=>H("search",e.target.value),placeholder:"Search documents...",className:"w-full pl-10 pr-4 py-2 bg-slate-50 border-transparent rounded-lg text-sm focus:bg-white focus:ring-2 focus:ring-slate-100 focus:border-slate-300 transition-all placeholder-slate-400 text-slate-900 outline-none"})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 w-full xl:w-auto items-center",children:[e.jsxs("div",{className:"flex items-center gap-2 w-full sm:w-auto",children:[e.jsx(qe,{size:16,className:"text-slate-400"}),e.jsxs("select",{value:D.type,onChange:e=>H("type",e.target.value),className:"px-3 py-2 bg-slate-50 border-transparent hover:bg-slate-100 rounded-lg text-sm text-slate-600 font-medium outline-none focus:ring-2 focus:ring-slate-100 cursor-pointer transition-colors w-full sm:w-auto",children:[e.jsx("option",{value:"all",children:"All Types"}),e.jsx("option",{value:"nda",children:"NDA"}),e.jsx("option",{value:"proposal",children:"Proposal"}),e.jsx("option",{value:"invoice",children:"Invoice"})]})]}),e.jsx("div",{className:"w-px h-6 bg-slate-200 hidden sm:block"}),e.jsxs("select",{value:D.category,onChange:e=>H("category",e.target.value),className:"px-3 py-2 bg-slate-50 border-transparent hover:bg-slate-100 rounded-lg text-sm text-slate-600 font-medium outline-none focus:ring-2 focus:ring-slate-100 cursor-pointer transition-colors w-full sm:w-auto",children:[e.jsx("option",{value:"all",children:"All Categories"}),e.jsx("option",{value:"generated",children:"Generated Docs"}),e.jsx("option",{value:"signature",children:"Signature Requests"})]}),e.jsx("div",{className:"w-px h-6 bg-slate-200 hidden sm:block"}),e.jsxs("select",{value:D.status,onChange:e=>H("status",e.target.value),className:"px-3 py-2 bg-slate-50 border-transparent hover:bg-slate-100 rounded-lg text-sm text-slate-600 font-medium outline-none focus:ring-2 focus:ring-slate-100 cursor-pointer transition-colors w-full sm:w-auto",children:[e.jsx("option",{value:"all",children:"All Status"}),e.jsx("option",{value:"draft",children:"Draft"}),e.jsx("option",{value:"sent",children:"Sent"}),e.jsx("option",{value:"signed",children:"Signed"})]}),e.jsx("div",{className:"w-px h-6 bg-slate-200 hidden sm:block"}),e.jsxs("div",{className:"flex bg-slate-100 p-1 rounded-lg border border-slate-200",children:[e.jsx("button",{onClick:()=>B("list"),className:"p-1.5 rounded-md transition-all "+("list"===c?"bg-white shadow-sm text-slate-700":"text-slate-400 hover:text-slate-600"),children:e.jsx(Re,{size:16})}),e.jsx("button",{onClick:()=>B("grid"),className:"p-1.5 rounded-md transition-all "+("grid"===c?"bg-white shadow-sm text-slate-700":"text-slate-400 hover:text-slate-600"),children:e.jsx(Be,{size:16})})]})]})]}),b.length>0&&e.jsxs("div",{className:"flex items-center gap-4 w-full bg-slate-50 p-2 rounded-lg border border-slate-200 animate-in fade-in slide-in-from-top-2 mb-4",children:[e.jsxs("span",{className:"text-sm font-semibold text-slate-700 ml-2",children:[b.length," selected"]}),e.jsx("div",{className:"h-6 w-px bg-slate-300"}),e.jsxs("button",{onClick:async()=>{if(window.confirm(`Delete ${b.length} documents?`))try{await Jn.post("/documents/bulk-delete",{ids:b}),At.success(`${b.length} documents moved to trash`,{id:"bulk-delete"}),v([]),W(y.current_page)}catch(e){At.error("Failed to bulk delete",{id:"bulk-delete-error"})}},className:"flex items-center gap-2 text-red-600 hover:bg-red-50 px-3 py-1.5 rounded-md text-sm font-medium transition-colors",children:[e.jsx(te,{size:16})," Delete Selected"]})]}),e.jsxs("div",{className:""+("list"===c?"bg-white rounded-xl border border-slate-200 shadow-sm overflow-hidden":""),children:[u?e.jsx("div",{className:"p-6 "+("grid"===c?"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6":"space-y-4"),children:[1,2,3,4,5,6].map(t=>e.jsx(hf,{viewMode:c},t))}):e.jsx(a.div,{variants:gx,initial:"hidden",animate:"show",className:"grid"===c?"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6":"overflow-x-auto",children:"list"===c?e.jsxs("div",{className:"w-full",children:[e.jsxs("div",{className:"hidden md:grid bg-slate-50/50 border-b border-slate-200 px-6 py-3 grid-cols-[auto_3fr_1fr_1fr_1fr_1fr_auto] gap-6 text-xs font-bold text-slate-500 uppercase tracking-wider",children:[e.jsx("div",{className:"w-6 flex items-center justify-center",children:e.jsx("button",{onClick:J,children:m.length>0&&b.length===m.length?e.jsx(fe,{size:18,className:"text-slate-900"}):e.jsx("div",{className:"w-[18px] h-[18px] border-2 border-slate-300 rounded mx-auto"})})}),e.jsx("div",{children:"Document Name"}),e.jsx("div",{children:"Type"}),e.jsx("div",{children:"Status"}),e.jsx("div",{children:"Updated"}),e.jsx("div",{children:"Owner"}),e.jsx("div",{className:"text-right",children:"Action"})]}),e.jsx("div",{children:m.map(t=>e.jsx(xx,{doc:t,getStatusStyle:U,variants:bx,onViewHistory:V,isSelected:b.includes(t.id),toggleSelect:Q,activeMenuId:N,setActiveMenuId:k,handleView:Y,handleDelete:G,handleRestore:X,viewMode:x?"trash":"active"},t.id))})]}):m.map(t=>e.jsx(fx,{doc:t,getStatusStyle:U,variants:bx,onViewHistory:V,handleView:Y},t.id))},c),!u&&0===m.length&&e.jsxs("div",{className:"text-center py-24 col-span-full flex flex-col items-center justify-center",children:[e.jsx("div",{className:"p-4 bg-slate-50 rounded-full mb-4 border border-slate-100",children:e.jsx(l,{size:40,className:"text-slate-300",strokeWidth:1})}),e.jsx("h3",{className:"text-lg font-bold text-slate-900 mb-2",children:"No documents found"}),e.jsx("p",{className:"text-slate-500 max-w-sm mx-auto mb-6 text-sm",children:x?"Trash is empty.":"Create a new document to get started."}),L.canCreate&&!x&&e.jsxs("button",{onClick:()=>o(!0),className:"px-4 py-2 bg-slate-900 text-white rounded-lg font-semibold flex items-center gap-2 hover:bg-slate-800 transition-all text-sm",children:[e.jsx(ne,{size:16}),e.jsx("span",{children:"Create Document"})]})]})]}),y.total>0&&e.jsxs("div",{className:"border-t border-slate-200 p-4 bg-slate-50 flex flex-col sm:flex-row items-center justify-between gap-4 text-sm mt-8 rounded-xl border border-t-0",children:[e.jsxs("div",{className:"text-slate-500 font-medium",children:["Showing ",e.jsx("span",{className:"text-slate-900 font-bold",children:y.from})," to ",e.jsx("span",{className:"text-slate-900 font-bold",children:y.to})," of ",e.jsx("span",{className:"text-slate-900 font-bold",children:y.total})," results"]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("select",{value:y.per_page,onChange:e=>w(t=>({...t,per_page:Number(e.target.value),current_page:1})),className:"border border-slate-200 rounded-lg text-sm py-1.5 pl-2 pr-8 bg-white focus:outline-none focus:ring-2 focus:ring-slate-200 cursor-pointer font-medium text-slate-600",children:[e.jsx("option",{value:10,children:"10 per page"}),e.jsx("option",{value:20,children:"20 per page"}),e.jsx("option",{value:50,children:"50 per page"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>W(y.current_page-1),disabled:y.current_page<=1,className:"p-2 rounded-lg border border-slate-200 bg-white text-slate-600 hover:bg-slate-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:e.jsx(z,{size:16})}),e.jsx("span",{className:"px-2 font-bold text-slate-700 min-w-[20px] text-center",children:y.current_page}),e.jsx("button",{onClick:()=>W(y.current_page+1),disabled:y.current_page>=y.last_page,className:"p-2 rounded-lg border border-slate-200 bg-white text-slate-600 hover:bg-slate-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:e.jsx(M,{size:16})})]})]})]}),e.jsx(of,{isOpen:i,onClose:()=>o(!1)}),e.jsx(cf,{isOpen:E,onClose:()=>R(!1),history:A,loading:F}),e.jsx(s,{children:S&&_&&e.jsxs(e.Fragment,{children:[e.jsx(a.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-slate-900/20 backdrop-blur-sm z-40",onClick:()=>C(null)}),e.jsxs(a.div,{initial:{x:"100%"},animate:{x:0},exit:{x:"100%"},transition:{type:"spring",stiffness:300,damping:30},className:"fixed inset-y-0 right-0 w-full max-w-lg bg-white shadow-2xl z-50 flex flex-col border-l border-slate-200",children:[e.jsxs("div",{className:"p-6 border-b border-slate-100 flex items-center justify-between bg-white",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold text-slate-800",children:"audit"===S?"Audit Trail":"Document Details"}),e.jsx("p",{className:"text-sm text-slate-500 mt-0.5 max-w-[300px] truncate",children:_.name})]}),e.jsx("button",{onClick:()=>C(null),className:"p-2 rounded-full hover:bg-slate-100 transition-all text-slate-400 hover:text-slate-700",children:e.jsx(t,{size:20})})]}),e.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:"preview"===S?e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:["completed"===_.status&&e.jsxs("button",{onClick:()=>n(`/signatures/${_.id}/view-signed`),className:"col-span-2 flex items-center justify-center gap-2 p-3 bg-emerald-600 hover:bg-emerald-700 text-white rounded-xl font-semibold transition-colors shadow-lg shadow-emerald-600/10",children:[e.jsx(xe,{size:18})," View Signed Document"]}),_.pdf_url&&e.jsxs("a",{href:_.pdf_url,target:"_blank",rel:"noopener noreferrer",className:"flex items-center justify-center gap-2 p-3 bg-white border border-slate-200 hover:border-slate-300 text-slate-700 rounded-xl font-medium transition-all",children:[e.jsx(l,{size:18})," Original PDF"]}),_.final_pdf_url&&e.jsxs("a",{href:_.final_pdf_url,download:!0,className:"flex items-center justify-center gap-2 p-3 bg-white border border-slate-200 hover:border-slate-300 text-slate-700 rounded-xl font-medium transition-all",children:[e.jsx(ge,{size:18})," Signed PDF"]})]}),e.jsxs("div",{className:"bg-slate-50 rounded-2xl p-5 border border-slate-100 space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-slate-500 font-medium",children:"Status"}),e.jsx("span",{className:"px-2 py-1 rounded-md text-xs font-bold uppercase tracking-wider bg-white border border-slate-200 text-slate-700",children:_.status})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-slate-500 font-medium",children:"Created On"}),e.jsx("span",{className:"text-sm font-semibold text-slate-700",children:new Date(_.created_at).toLocaleString()})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-slate-500 font-medium",children:"Last Activity"}),e.jsx("span",{className:"text-sm font-semibold text-slate-700",children:new Date(_.updated_at).toLocaleString()})]})]}),_.signers&&_.signers.length>0&&e.jsxs("div",{children:[e.jsxs("h4",{className:"font-bold text-slate-800 mb-4 flex items-center gap-2",children:[e.jsx(j,{size:18,className:"text-slate-500"}),"Signers (",_.signers.length,")"]}),e.jsx("div",{className:"space-y-3",children:_.signers.map((t,n)=>e.jsxs("div",{className:"flex items-center gap-3 p-3 bg-white border border-slate-200 rounded-xl shadow-sm",children:[e.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center text-white font-bold "+("signed"===t.status?"bg-emerald-500":"bg-slate-400"),children:t.name.charAt(0)}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"font-semibold text-slate-800 text-sm",children:t.name}),e.jsx("p",{className:"text-xs text-slate-400",children:t.email})]}),"signed"===t.status?e.jsx(f,{size:18,className:"text-emerald-500"}):e.jsx("button",{onClick:()=>(async e=>{At.promise(Jn.post(`/documents/${e}/remind`,{email:_?.signers?.find(e=>"signed"!==e.status)?.email}),{loading:"Sending reminder...",success:"Reminder sent!",error:"Failed to send reminder"})})(_.id),className:"text-xs text-slate-600 hover:text-slate-900 font-medium bg-slate-100 px-2 py-1 rounded transition-colors",children:"Resend"})]},n))})]})]}):e.jsxs("div",{className:"text-center py-10 text-slate-500",children:[e.jsx($,{size:40,className:"mx-auto mb-4 text-slate-300"}),e.jsx("p",{children:"Audit Trail details not fully loaded."})]})})]})]})})]})},yx=({title:t,description:n,children:s,className:a=""})=>e.jsxs("div",{className:`p-0 md:p-0 ${a} mb-8`,children:[e.jsxs("div",{className:"mb-5 pb-4 border-b border-slate-200",children:[e.jsx("h3",{className:"text-lg font-bold text-slate-800 tracking-tight",children:t}),n&&e.jsx("p",{className:"text-sm text-slate-500 mt-1",children:n})]}),e.jsx("div",{className:"space-y-5",children:s})]}),wx=({label:t,error:n,className:s="",...a})=>e.jsxs("div",{className:s,children:[e.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:t}),e.jsx("div",{className:"relative",children:e.jsx("input",{className:"block w-full rounded-lg border-slate-300 bg-white shadow-sm focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500 sm:text-sm px-3.5 py-2.5 border transition-all duration-200 outline-none placeholder-slate-400 text-slate-900 "+(n?"border-red-300 focus:border-red-500 focus:ring-red-200":"hover:border-slate-400"),...a})}),n&&e.jsxs("p",{className:"mt-1.5 text-xs font-medium text-red-600 flex items-center gap-1",children:[e.jsx(b,{size:12})," ",n]})]}),jx=({label:t,error:n,className:s="",...a})=>e.jsxs("div",{className:s,children:[e.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:t}),e.jsx("textarea",{className:"block w-full rounded-lg border-slate-300 bg-white shadow-sm focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500 sm:text-sm px-3.5 py-2.5 border transition-all duration-200 outline-none placeholder-slate-400 text-slate-900 "+(n?"border-red-300 focus:border-red-500 focus:ring-red-200":"hover:border-slate-400"),...a}),n&&e.jsxs("p",{className:"mt-1.5 text-xs font-medium text-red-600 flex items-center gap-1",children:[e.jsx(b,{size:12})," ",n]})]}),Nx=({loading:t,saved:n,onClick:s,label:r="Save Changes"})=>e.jsx("div",{className:"flex justify-end pt-6 border-t border-slate-200 mt-8",children:e.jsxs(a.button,{whileHover:{scale:1.01},whileTap:{scale:.99},type:"submit",disabled:t,onClick:s,className:`inline-flex justify-center items-center py-2.5 px-6 border border-transparent shadow-sm text-sm font-semibold rounded-lg text-white transition-all duration-200 \n                ${n?"bg-emerald-600 hover:bg-emerald-700":"bg-indigo-600 hover:bg-indigo-700"} \n                disabled:opacity-70 disabled:cursor-not-allowed`,children:[t?e.jsx(R,{className:"animate-spin mr-2",size:16,strokeWidth:2.5}):n?e.jsx(we,{className:"mr-2",size:16,strokeWidth:3}):e.jsx(_e,{className:"mr-2",size:16,strokeWidth:2.5}),n?"Changes Saved":r]})}),kx=({message:t})=>e.jsxs(a.div,{initial:{opacity:0,y:-5},animate:{opacity:1,y:0},exit:{opacity:0},className:"flex items-center gap-3 text-emerald-700 text-sm font-medium bg-emerald-50 px-4 py-3 rounded-lg border border-emerald-200 mb-6",children:[e.jsx(we,{size:16,strokeWidth:2.5,className:"text-emerald-600"}),t]}),Sx=({message:t})=>e.jsxs(a.div,{initial:{opacity:0,y:-5},animate:{opacity:1,y:0},exit:{opacity:0},className:"flex items-center gap-3 text-red-700 text-sm font-medium bg-red-50 px-4 py-3 rounded-lg border border-red-200 mb-6",children:[e.jsx(b,{size:16,strokeWidth:2.5,className:"text-red-500"}),t]}),Cx=({business:t,onUpdate:n})=>{const[s,a]=vt.useState({name:"",email:"",phone:"",website:"",address:"",city:"",state:"",zip:"",country:"",industry:"",social_links:{linkedin:"",twitter:"",facebook:"",instagram:""}}),[r,i]=vt.useState(!1),[l,o]=vt.useState(!1),[c,d]=vt.useState(null);vt.useEffect(()=>{t&&a({name:t.name||"",email:t.email||"",phone:t.phone||"",website:t.website||"",address:t.address||"",city:t.city||"",state:t.state||"",zip:t.zip||"",country:t.country||"",industry:t.industry||"",social_links:t.social_links||{linkedin:"",twitter:"",facebook:"",instagram:""}})},[t]);const u=e=>{const{name:t,value:n}=e.target;if(t.startsWith("social_")){const e=t.replace("social_","");a(t=>({...t,social_links:{...t.social_links,[e]:n}}))}else a({...s,[t]:n});o(!1)};return e.jsxs("form",{onSubmit:async e=>{e.preventDefault(),i(!0),d(null);try{const e=await md(s);n(e.data),o(!0),setTimeout(()=>o(!1),3e3)}catch(t){d(t.response?.data?.message||"Failed to update settings")}finally{i(!1)}},className:"max-w-3xl",children:[c&&e.jsx(Sx,{message:c}),l&&e.jsx("div",{className:"mb-4",children:e.jsx(kx,{message:"Settings updated successfully."})}),e.jsx(yx,{title:"Business Information",description:"Basic contact information for your business.",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsx("div",{className:"md:col-span-2",children:e.jsx(wx,{label:"Business Name",name:"name",value:s.name,onChange:u,required:!0})}),e.jsx(wx,{label:"Email",type:"email",name:"email",value:s.email,onChange:u}),e.jsx(wx,{label:"Phone",name:"phone",value:s.phone,onChange:u}),e.jsx("div",{className:"md:col-span-2",children:e.jsx(wx,{label:"Website",type:"url",name:"website",value:s.website,onChange:u,placeholder:"https://example.com"})})]})}),e.jsx(yx,{title:"Address Details",description:"Your business physical location.",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsx("div",{className:"md:col-span-2",children:e.jsx(wx,{label:"Address",name:"address",value:s.address,onChange:u})}),e.jsx(wx,{label:"City",name:"city",value:s.city,onChange:u}),e.jsx(wx,{label:"State",name:"state",value:s.state,onChange:u}),e.jsx(wx,{label:"Zip / Postal Code",name:"zip",value:s.zip,onChange:u}),e.jsx(wx,{label:"Country",name:"country",value:s.country,onChange:u})]})}),e.jsx(yx,{title:"Social Profiles",description:"Connect your social media accounts.",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsx(wx,{label:"LinkedIn",type:"url",name:"social_linkedin",value:s.social_links?.linkedin||"",onChange:u,placeholder:"https://linkedin.com/in/..."}),e.jsx(wx,{label:"Twitter (X)",type:"url",name:"social_twitter",value:s.social_links?.twitter||"",onChange:u,placeholder:"https://twitter.com/..."}),e.jsx(wx,{label:"Facebook",type:"url",name:"social_facebook",value:s.social_links?.facebook||"",onChange:u,placeholder:"https://facebook.com/..."}),e.jsx(wx,{label:"Instagram",type:"url",name:"social_instagram",value:s.social_links?.instagram||"",onChange:u,placeholder:"https://instagram.com/..."})]})}),e.jsx("div",{className:"flex justify-end pt-2",children:e.jsx(Nx,{loading:r,saved:l})})]})},_x=({business:t,onUpdate:n})=>{const[s,a]=vt.useState({invoice_prefix:"",invoice_terms:"",default_invoice_notes:"",bank_details:{account_name:"",bank_name:"",account_number:"",ifsc_code:"",swift_code:""}}),[r,i]=vt.useState(!1),[l,o]=vt.useState(!1),[c,d]=vt.useState(null);vt.useEffect(()=>{t&&a({invoice_prefix:t.invoice_prefix||"",invoice_terms:t.invoice_terms||"",default_invoice_notes:t.default_invoice_notes||"",bank_details:t.bank_details||{account_name:"",bank_name:"",account_number:"",ifsc_code:"",swift_code:""}})},[t]);const u=e=>{const{name:t,value:n}=e.target;if(t.startsWith("bank_")){const e=t.replace("bank_","");a(t=>({...t,bank_details:{...t.bank_details,[e]:n}}))}else a(e=>({...e,[t]:n}));o(!1)};return e.jsxs("form",{onSubmit:async e=>{e.preventDefault(),i(!0),d(null);try{const e=await md(s);n(e.data),o(!0),setTimeout(()=>o(!1),3e3)}catch(t){d(t.response?.data?.message||"Failed to update settings")}finally{i(!1)}},className:"max-w-3xl",children:[c&&e.jsx(Sx,{message:c}),l&&e.jsx("div",{className:"mb-4",children:e.jsx(kx,{message:"Invoice settings updated successfully."})}),e.jsx(yx,{title:"General Configuration",description:"Set your invoice number prefix.",children:e.jsxs("div",{children:[e.jsx(wx,{label:"Invoice Prefix",name:"invoice_prefix",value:s.invoice_prefix,onChange:u,placeholder:"INV-"}),e.jsx("p",{className:"mt-2 text-xs text-slate-500",children:"Prefix for invoice numbers (e.g., INV-0001)"})]})}),e.jsx(yx,{title:"Bank Account Details",description:"These details will be displayed on invoices for payments.",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsx("div",{className:"md:col-span-2",children:e.jsx(wx,{label:"Account Name / Beneficiary Name",name:"bank_account_name",value:s.bank_details?.account_name||"",onChange:u})}),e.jsx("div",{className:"md:col-span-2",children:e.jsx(wx,{label:"Bank Name",name:"bank_bank_name",value:s.bank_details?.bank_name||"",onChange:u})}),e.jsx(wx,{label:"Account Number / IBAN",name:"bank_account_number",value:s.bank_details?.account_number||"",onChange:u}),e.jsx(wx,{label:"IFSC / SWIFT Code",name:"bank_ifsc_code",value:s.bank_details?.ifsc_code||"",onChange:u})]})}),e.jsx(yx,{title:"Defaults",description:"Default texts for new invoices.",children:e.jsxs("div",{className:"space-y-6",children:[e.jsx(jx,{label:"Default Terms & Conditions",name:"invoice_terms",rows:4,value:s.invoice_terms,onChange:u,placeholder:"e.g. Payment due within 30 days..."}),e.jsx(jx,{label:"Default Invoice Notes",name:"default_invoice_notes",rows:2,value:s.default_invoice_notes,onChange:u,placeholder:"e.g. Thank you for your business!"})]})}),e.jsx("div",{className:"flex justify-end pt-2",children:e.jsx(Nx,{loading:r,saved:l})})]})},Px=({business:t,onUpdate:n})=>{const[s,a]=vt.useState({tax_label:"",tax_percentage:""}),[r,i]=vt.useState(!1),[l,o]=vt.useState(!1),[c,d]=vt.useState(null),[u,h]=vt.useState([]),[m,p]=vt.useState(!0);vt.useEffect(()=>{(async()=>{try{const e=await Jn.get("/tax-rates");h(e.data.data)}catch(e){}finally{p(!1)}})(),t&&a({tax_label:t.tax_label||"",tax_percentage:t.tax_percentage||""})},[t]);return e.jsxs("form",{onSubmit:async e=>{e.preventDefault(),i(!0),d(null);try{const e=await md(s);n(e.data),o(!0),setTimeout(()=>o(!1),3e3)}catch(t){d(t.response?.data?.message||"Failed to update settings")}finally{i(!1)}},className:"max-w-3xl",children:[c&&e.jsx(Sx,{message:c}),l&&e.jsx("div",{className:"mb-4",children:e.jsx(kx,{message:"Tax settings updated successfully."})}),e.jsx(yx,{title:"Tax Configuration",description:"Configure your tax settings for invoices.",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Tax Type"}),e.jsxs("select",{name:"tax_label",value:s.tax_label,onChange:e=>{const t=e.target.value,n=u.find(e=>e.name===t);n&&a({...s,tax_label:n.name,tax_percentage:n.rate}),o(!1)},className:"w-full rounded-md border border-slate-300 bg-white py-2 px-3 shadow-sm focus:border-indigo-500 focus:outline-none focus:ring-1 focus:ring-indigo-500 sm:text-sm",disabled:m,children:[e.jsx("option",{value:"",children:"Select Tax"}),u.map(t=>e.jsxs("option",{value:t.name,children:[t.name," (",Number(t.rate).toFixed(2),"%)"]},t.id))]})]}),e.jsx(wx,{label:"Tax Percentage (%)",type:"number",step:"0.01",name:"tax_percentage",value:s.tax_percentage,onChange:e=>{a({...s,[e.target.name]:e.target.value}),o(!1)},placeholder:"0.00",disabled:!0})]})}),e.jsx("div",{className:"flex justify-end pt-2",children:e.jsx(Nx,{loading:r,saved:l})})]})},Dx=({business:t,onUpdate:n})=>{const[s,a]=vt.useState({currency_symbol:"",currency_code:"",currency_country:""}),[r,i]=vt.useState(!1),[l,o]=vt.useState(!1),[c,d]=vt.useState(null),[u,h]=vt.useState([]),[m,p]=vt.useState(!0);vt.useEffect(()=>{(async()=>{try{const e=await Jn.get("/currencies");h(e.data.data)}catch(e){}finally{p(!1)}})(),t&&a({currency_symbol:t.currency_symbol||"",currency_code:t.currency_code||"",currency_country:t.currency_country||""})},[t]);const f=e=>{a({...s,[e.target.name]:e.target.value}),o(!1)};return e.jsxs("form",{onSubmit:async e=>{e.preventDefault(),i(!0),d(null);try{const e=await md(s);n(e.data),o(!0),setTimeout(()=>o(!1),3e3)}catch(t){d(t.response?.data?.message||"Failed to update settings")}finally{i(!1)}},className:"max-w-3xl",children:[c&&e.jsx(Sx,{message:c}),l&&e.jsx("div",{className:"mb-4",children:e.jsx(kx,{message:"Currency settings updated successfully."})}),e.jsx(yx,{title:"Currency & Region",description:"Set your preferred currency for invoices and financial reports.",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Currency"}),e.jsxs("select",{name:"currency_code",value:s.currency_code,onChange:e=>{const t=e.target.value,n=u.find(e=>e.code===t);n&&a({...s,currency_code:n.code,currency_symbol:n.symbol,currency_country:n.name}),o(!1)},className:"w-full rounded-md border border-slate-300 bg-white py-2 px-3 shadow-sm focus:border-indigo-500 focus:outline-none focus:ring-1 focus:ring-indigo-500 sm:text-sm",disabled:m,children:[e.jsx("option",{value:"",children:"Select Currency"}),u.map(t=>e.jsxs("option",{value:t.code,children:[t.code," - ",t.name," (",t.symbol,")"]},t.id))]})]}),e.jsx(wx,{label:"Symbol",name:"currency_symbol",value:s.currency_symbol,onChange:f,placeholder:"$",disabled:!0}),e.jsx(wx,{label:"Country",name:"currency_country",value:s.currency_country,onChange:f,placeholder:"United States",disabled:!0})]})}),e.jsx("div",{className:"flex justify-end pt-2",children:e.jsx(Nx,{loading:r,saved:l})})]})},Tx=({business:t,onUpdate:n})=>{const[s,a]=vt.useState(null),[r,i]=vt.useState(null),[l,o]=vt.useState(null),[c,d]=vt.useState(null),[u,h]=vt.useState(!1),[m,p]=vt.useState(!1),[f,x]=vt.useState(null);vt.useEffect(()=>{t&&(t.logo&&i(t.logo),t.favicon&&d(t.favicon))},[t]);const g=(e,t,n)=>{const s=e.target.files[0];if(s){t(s);const e=new FileReader;e.onloadend=()=>{n(e.result)},e.readAsDataURL(s),p(!1)}},b=e=>e?e.startsWith("http")||e.startsWith("data:")?e:`http://127.0.0.1:8000/api/v1${e}`:null;return e.jsxs("form",{onSubmit:async e=>{e.preventDefault(),h(!0),x(null);const t=new FormData;if(s&&t.append("logo",s),l&&t.append("favicon",l),s||l)try{const e=await md(t);n(e.data),p(!0),setTimeout(()=>p(!1),3e3),a(null),o(null)}catch(r){x("Failed to update branding settings")}finally{h(!1)}else h(!1)},className:"max-w-3xl",children:[f&&e.jsx(Sx,{message:f}),m&&e.jsx("div",{className:"mb-4",children:e.jsx(kx,{message:"Branding settings updated successfully."})}),e.jsx(yx,{title:"Brand Assets",description:"Upload your business logo and favicon.",children:e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-3",children:"Business Logo"}),e.jsxs("div",{className:"flex items-start gap-6",children:[e.jsx("div",{className:"w-32 h-32 border-2 border-dashed border-slate-300 rounded-lg flex items-center justify-center overflow-hidden bg-slate-50 relative group transition-all hover:border-indigo-400",children:r?e.jsx("img",{src:b(r),alt:"Logo Preview",className:"w-full h-full object-contain p-2"}):e.jsx("span",{className:"text-slate-400 text-xs font-medium",children:"No Logo"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("input",{type:"file",accept:"image/*",id:"logo-upload",className:"hidden",onChange:e=>g(e,a,i)}),e.jsxs("label",{htmlFor:"logo-upload",className:"inline-flex items-center px-4 py-2 border border-slate-300 shadow-sm text-sm font-medium rounded-lg text-slate-700 bg-white hover:bg-slate-50 cursor-pointer transition-colors",children:[e.jsx(E,{className:"mr-2 h-4 w-4"}),"Upload Logo"]}),e.jsx("p",{className:"mt-2 text-xs text-slate-500",children:"Recommended size: 512x512px. Max file size: 2MB."})]})]})]}),e.jsx("div",{className:"border-t border-slate-100 my-6"}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-3",children:"Favicon"}),e.jsxs("div",{className:"flex items-start gap-6",children:[e.jsx("div",{className:"w-16 h-16 border-2 border-dashed border-slate-300 rounded-lg flex items-center justify-center overflow-hidden bg-slate-50 transition-all hover:border-indigo-400",children:c?e.jsx("img",{src:b(c),alt:"Favicon Preview",className:"w-8 h-8 object-contain"}):e.jsx("span",{className:"text-slate-400 text-xs font-medium",children:"No Icon"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("input",{type:"file",accept:"image/x-icon,image/png,image/jpeg,image/svg+xml",id:"favicon-upload",className:"hidden",onChange:e=>g(e,o,d)}),e.jsxs("label",{htmlFor:"favicon-upload",className:"inline-flex items-center px-4 py-2 border border-slate-300 shadow-sm text-sm font-medium rounded-lg text-slate-700 bg-white hover:bg-slate-50 cursor-pointer transition-colors",children:[e.jsx(E,{className:"mr-2 h-4 w-4"}),"Upload Favicon"]}),e.jsx("p",{className:"mt-2 text-xs text-slate-500",children:"Recommended size: 32x32px or 16x16px. Formats: .ico, .png, .svg."})]})]})]})]})}),e.jsx("div",{className:"flex justify-end pt-2",children:e.jsx(Nx,{loading:u,saved:m,disabled:!s&&!l,label:"Save Branding"})})]})},Ex=()=>{const{user:t,setUser:n}=ts(),[s,a]=vt.useState({name:"",email:"",password:"",password_confirmation:""}),[r,i]=vt.useState(!1),[l,o]=vt.useState(!1),[c,d]=vt.useState(null),[u,h]=vt.useState(null),[m,p]=vt.useState(null);vt.useEffect(()=>{t&&(a(e=>({...e,name:t.name||"",email:t.email||""})),t.avatar_url&&p(t.avatar_url))},[t]);const f=e=>{a({...s,[e.target.name]:e.target.value}),o(!1)};return e.jsxs("form",{onSubmit:async e=>{e.preventDefault(),i(!0),d(null);const t=new FormData;t.append("name",s.name),t.append("email",s.email),s.password&&(t.append("password",s.password),t.append("password_confirmation",s.password_confirmation)),u&&t.append("avatar",u);try{const e=await(async e=>(await Jn.post("/user/profile",e)).data)(t);o(!0),n(e.data),a(e=>({...e,password:"",password_confirmation:""})),h(null),setTimeout(()=>o(!1),3e3)}catch(r){d(r.response?.data?.message||"Failed to update profile")}finally{i(!1)}},className:"max-w-3xl",children:[c&&e.jsx(Sx,{message:c}),l&&e.jsx("div",{className:"mb-4",children:e.jsx(kx,{message:"Profile updated successfully."})}),e.jsx(yx,{title:"Personal Information",description:"Manage your personal account details.",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"md:col-span-2 flex items-center gap-6",children:[e.jsxs("div",{className:"relative group",children:[e.jsx("div",{className:"h-20 w-20 rounded-full overflow-hidden bg-slate-100 border border-slate-200",children:m?e.jsx("img",{src:m,alt:"Profile",className:"h-full w-full object-cover"}):e.jsx("div",{className:"h-full w-full flex items-center justify-center text-slate-400 font-bold text-2xl",children:s.name.charAt(0)})}),e.jsx("label",{htmlFor:"avatar-upload",className:"absolute inset-0 bg-black/50 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity cursor-pointer rounded-full text-white text-xs font-medium",children:"Change"}),e.jsx("input",{id:"avatar-upload",type:"file",accept:"image/*",onChange:e=>{const t=e.target.files[0];t&&(h(t),p(URL.createObjectURL(t)),o(!1))},className:"hidden"})]}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"text-sm font-medium text-slate-800",children:"Profile Picture"}),e.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Upload a JPG or PNG. Max size 2MB."})]})]}),e.jsx("div",{className:"md:col-span-2",children:e.jsx(wx,{label:"Full Name",name:"name",value:s.name,onChange:f,required:!0})}),e.jsx("div",{className:"md:col-span-2",children:e.jsx(wx,{label:"Email Address",type:"email",name:"email",value:s.email,onChange:f,required:!0})})]})}),e.jsx(yx,{title:"Security",description:"Update your password (leave blank to keep current).",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsx(wx,{label:"New Password",type:"password",name:"password",value:s.password,onChange:f,placeholder:"Min. 8 characters"}),e.jsx(wx,{label:"Confirm Password",type:"password",name:"password_confirmation",value:s.password_confirmation,onChange:f,placeholder:"Re-enter password"})]})}),e.jsx("div",{className:"flex justify-end pt-2",children:e.jsx(Nx,{loading:r,saved:l,label:"Update Profile"})})]})},zx=()=>{const[t,n]=vt.useState("profile"),[r,i]=vt.useState(null),[o,c]=vt.useState(!0);vt.useEffect(()=>{d()},[]);const d=async()=>{try{const e=await pd();i(e)}catch(e){}finally{c(!1)}},u=e=>{i(e)},h=[{id:"profile",label:"My Profile",icon:j,desc:"Personal & Security"},{id:"general",label:"Business Info",icon:N,desc:"Organization Details"},{id:"branding",label:"Branding",icon:le,desc:"Logos & Colors"},{id:"invoice",label:"Invoicing",icon:l,desc:"Prefix & Terms"},{id:"tax",label:"Taxation",icon:Ye,desc:"VAT/GST Setup"},{id:"currency",label:"Currency",icon:Ae,desc:"Region & Symbol"}];return o?e.jsx("div",{className:"flex items-center justify-center min-h-[60vh]",children:e.jsx(R,{className:"animate-spin text-indigo-600",size:32})}):e.jsxs(uf,{className:"max-w-6xl",children:[e.jsx(df,{title:"Settings",subtitle:"Manage your personal and workspace preferences."}),e.jsxs("div",{className:"flex flex-col md:flex-row gap-8 items-start",children:[e.jsx("div",{className:"w-full md:w-64 flex-shrink-0 overflow-x-auto md:overflow-visible pb-4 md:pb-0",children:e.jsx("nav",{className:"flex md:flex-col space-x-2 md:space-x-0 md:space-y-0.5 min-w-max md:min-w-0",children:h.map(s=>{const a=s.icon,r=t===s.id;return e.jsxs("button",{onClick:()=>n(s.id),className:"flex items-center gap-3 px-3 py-2 text-left rounded-md transition-colors whitespace-nowrap "+(r?"bg-slate-100 text-slate-900 font-medium":"text-slate-600 hover:bg-slate-50 hover:text-slate-900"),children:[e.jsx(a,{size:18,className:r?"text-indigo-600":"text-slate-400"}),e.jsx("span",{className:"text-sm",children:s.label})]},s.id)})})}),e.jsx("div",{className:"flex-1 min-w-0 bg-white rounded-lg border border-slate-200 shadow-sm p-6 md:p-8",children:e.jsx(s,{mode:"wait",children:e.jsxs(a.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.2},children:["profile"===t&&e.jsx(Ex,{}),"general"===t&&e.jsx(Cx,{business:r,onUpdate:u}),"branding"===t&&e.jsx(Tx,{business:r,onUpdate:u}),"invoice"===t&&e.jsx(_x,{business:r,onUpdate:u}),"tax"===t&&e.jsx(Px,{business:r,onUpdate:u}),"currency"===t&&e.jsx(Dx,{business:r,onUpdate:u})]},t)})})]})]})},Mx=({isOpen:n,onClose:i,onInvite:o})=>{const{matrix:c}=cd(),[u,h]=vt.useState(""),[p,f]=vt.useState("member"),[x,b]=vt.useState([]),[y,w]=vt.useState(!1),[j,N]=vt.useState(!1),k=yt.useMemo(()=>c.permissions?c.permissions.reduce((e,t)=>{const n=t.key.split(".")[0];return e[n]||(e[n]=[]),e[n].push(t),e},{}):{},[c.permissions]);vt.useEffect(()=>{},[n]),vt.useEffect(()=>{if(!c.permissions)return;const e=c.permissions.filter(e=>e.roles.includes(p)).map(e=>e.key);b(e)},[p,c]);const S=t=>{switch(t){case"admin":return e.jsx(r,{className:"text-purple-600",size:24});case"editor":return e.jsx(l,{className:"text-blue-600",size:24});case"member":default:return e.jsx(m,{className:"text-slate-600",size:24});case"viewer":return e.jsx(we,{className:"text-emerald-600",size:24})}},C=()=>{h(""),f("member"),N(!1)};return n?e.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[e.jsx(a.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:i,className:"absolute inset-0 bg-slate-900/60 backdrop-blur-sm"}),e.jsxs(a.div,{initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},className:"relative bg-white rounded-2xl shadow-2xl w-full max-w-2xl overflow-hidden flex flex-col max-h-[90vh]",children:[e.jsxs("div",{className:"relative px-8 py-6 bg-slate-900 overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 opacity-10 bg-[radial-gradient(circle_at_top_right,_var(--tw-gradient-stops))] from-indigo-500 via-slate-900 to-slate-900"}),e.jsxs("div",{className:"relative flex items-center justify-between z-10",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold text-white",children:"Invite Team Member"}),e.jsx("p",{className:"text-slate-400 text-sm mt-1",children:"Send an invitation to join your workspace."})]}),e.jsx("button",{onClick:i,className:"text-slate-400 hover:text-white transition-colors bg-white/10 hover:bg-white/20 rounded-full p-2 backdrop-blur-sm",children:e.jsx(t,{size:20})})]})]}),e.jsx("div",{className:"p-8 overflow-y-auto custom-scrollbar",children:e.jsxs("form",{id:"inviteForm",onSubmit:async e=>{e.preventDefault(),w(!0);try{await o({email:u,role:p,permissions:x}),C()}catch(t){}finally{w(!1)}},className:"space-y-8",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsx("label",{className:"text-sm font-semibold text-slate-700",children:"Email Address"}),e.jsxs("div",{className:"relative group",children:[e.jsx(v,{className:"absolute left-4 top-3.5 text-slate-400 group-focus-within:text-indigo-600 transition-colors",size:20}),e.jsx("input",{type:"email",required:!0,value:u,onChange:e=>h(e.target.value),placeholder:"colleague@company.com",className:"w-full pl-12 pr-4 py-3 border border-slate-200 rounded-xl focus:ring-2 focus:ring-indigo-500/20 focus:border-indigo-500 outline-none transition-all placeholder:text-slate-400 text-slate-700 bg-slate-50 focus:bg-white"})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("label",{className:"text-sm font-semibold text-slate-700",children:"Select Role"}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:["admin","editor","member","viewer"].map(t=>e.jsxs("label",{className:`\n                                            relative flex items-start gap-4 p-4 border rounded-xl cursor-pointer transition-all duration-200\n                                            ${p===t?"border-indigo-600 bg-indigo-50/50 ring-1 ring-indigo-600 shadow-sm":"border-slate-200 hover:border-indigo-200 hover:bg-slate-50"}\n                                        `,children:[e.jsx("input",{type:"radio",name:"role",value:t,checked:p===t,onChange:e=>f(e.target.value),className:"sr-only"}),e.jsx("div",{className:"mt-1 p-2 rounded-lg "+(p===t?"bg-indigo-100":"bg-slate-100"),children:S(t)}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"font-semibold capitalize "+(p===t?"text-indigo-900":"text-slate-900"),children:t}),p===t&&e.jsx("div",{className:"w-2 h-2 rounded-full bg-indigo-600"})]}),e.jsxs("div",{className:"text-xs text-slate-500 mt-1 leading-relaxed",children:["admin"===t&&"Full workspace access. Can manage settings & team.","editor"===t&&"Can create, edit, and delete content.","member"===t&&"Can view and comment on shared documents.","viewer"===t&&"Read-only access to specific items."]})]})]},t))})]}),e.jsxs("div",{className:"border-t border-slate-100 pt-6",children:[e.jsxs("button",{type:"button",onClick:()=>N(!j),className:"flex items-center gap-2 text-sm font-medium text-slate-600 hover:text-indigo-600 transition-colors",children:[j?e.jsx(g,{size:16}):e.jsx(M,{size:16}),e.jsx(d,{size:16}),e.jsx("span",{children:"Advanced Permission Settings"}),!j&&e.jsxs("span",{className:"ml-auto text-xs text-slate-400 bg-slate-100 px-2 py-1 rounded-full",children:[x.length," selected"]})]}),e.jsx(s,{children:j&&e.jsx(a.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},className:"overflow-hidden",children:e.jsx("div",{className:"pt-4 space-y-6",children:Object.entries(k).map(([t,n])=>e.jsxs("div",{className:"space-y-3",children:[e.jsxs("h4",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider flex items-center gap-2",children:["document"===t&&e.jsx(l,{size:12}),"team"===t&&e.jsx(m,{size:12}),"settings"===t&&e.jsx(G,{size:12}),t," Permissions"]}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:n.map(t=>{const n=x.includes(t.key);return e.jsxs("label",{className:`\n                                                                    flex items-center gap-3 p-3 rounded-lg border cursor-pointer transition-all\n                                                                    ${n?"bg-indigo-50 border-indigo-200":"bg-white border-slate-200 hover:border-slate-300"}\n                                                                `,children:[e.jsxs("div",{className:`\n                                                                        w-5 h-5 rounded border flex items-center justify-center transition-colors\n                                                                        ${n?"bg-indigo-600 border-indigo-600":"bg-white border-slate-300"}\n                                                                    `,children:[n&&e.jsx(we,{size:12,className:"text-white"}),e.jsx("input",{type:"checkbox",checked:n,onChange:()=>{return e=t.key,void b(t=>t.includes(e)?t.filter(t=>t!==e):[...t,e]);var e},className:"hidden"})]}),e.jsx("div",{className:"flex-1",children:e.jsx("div",{className:"text-sm font-medium "+(n?"text-indigo-900":"text-slate-700"),children:t.label})})]},t.key)})})]},t))})})})]})]})}),e.jsxs("div",{className:"px-8 py-5 border-t border-slate-200 bg-slate-50 flex justify-end gap-3 sticky bottom-0 z-20",children:[e.jsx("button",{type:"button",onClick:i,className:"px-5 py-2.5 text-sm font-medium text-slate-600 hover:text-slate-900 hover:bg-slate-200/50 rounded-xl transition-colors",children:"Cancel"}),e.jsx("button",{type:"submit",form:"inviteForm",disabled:y,className:"px-8 py-2.5 text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 rounded-xl shadow-lg shadow-indigo-200 transition-all hover:-translate-y-0.5 disabled:opacity-70 disabled:cursor-not-allowed flex items-center gap-2",children:y?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin"}),"Sending Invitation..."]}):e.jsxs(e.Fragment,{children:[e.jsx(v,{size:18}),"Send Invitation"]})})]})]})]}):null},Rx=({isOpen:n,onClose:i,member:o,onUpdate:c})=>{const{matrix:u}=cd(),[h,p]=vt.useState("member"),[f,x]=vt.useState([]),[b,v]=vt.useState(!1),[y,w]=vt.useState(!1),N=yt.useMemo(()=>u.permissions?u.permissions.reduce((e,t)=>{const n=t.key.split(".")[0];return e[n]||(e[n]=[]),e[n].push(t),e},{}):{},[u.permissions]);vt.useEffect(()=>{if(o)if(p(o.role),o.permissions&&Array.isArray(o.permissions))x(o.permissions);else if(u.permissions){const e=u.permissions.filter(e=>e.roles.includes(o.role)).map(e=>e.key);x(e)}},[o,n,u]);const k=t=>{switch(t){case"admin":return e.jsx(r,{className:"text-purple-600",size:20});case"editor":return e.jsx(l,{className:"text-blue-600",size:20});case"member":return e.jsx(m,{className:"text-slate-600",size:20});case"viewer":return e.jsx(we,{className:"text-emerald-600",size:20});default:return e.jsx(j,{className:"text-slate-600",size:20})}};return n&&o?e.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[e.jsx(a.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:i,className:"absolute inset-0 bg-slate-900/60 backdrop-blur-sm"}),e.jsxs(a.div,{initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},className:"relative bg-white rounded-2xl shadow-2xl w-full max-w-2xl overflow-hidden flex flex-col max-h-[90vh]",children:[e.jsxs("div",{className:"relative px-8 py-6 bg-slate-900",children:[e.jsx("div",{className:"absolute inset-0 opacity-10 bg-[radial-gradient(circle_at_top_right,_var(--tw-gradient-stops))] from-indigo-500 via-slate-900 to-slate-900"}),e.jsxs("div",{className:"relative flex items-center justify-between z-10",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 rounded-full bg-indigo-500/20 flex items-center justify-center text-white font-bold border-2 border-indigo-500/30",children:o.child?.name?.charAt(0).toUpperCase()||"?"}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold text-white tracking-tight",children:o.child?.name}),e.jsx("p",{className:"text-slate-400 text-sm mt-0.5",children:o.child?.email})]})]}),e.jsx("button",{onClick:i,className:"text-slate-400 hover:text-white transition-colors bg-white/10 hover:bg-white/20 rounded-full p-2 backdrop-blur-sm",children:e.jsx(t,{size:20})})]})]}),e.jsx("div",{className:"p-8 overflow-y-auto custom-scrollbar",children:e.jsxs("form",{id:"editForm",onSubmit:async e=>{e.preventDefault(),v(!0);try{await c(o.id,{role:h,permissions:f}),i()}catch(t){}finally{v(!1)}},className:"space-y-8",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsx("label",{className:"text-sm font-semibold text-slate-700",children:"Role Allocation"}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:["admin","editor","member","viewer"].map(t=>e.jsxs("label",{className:`\n                                            relative flex items-center gap-4 p-4 border rounded-xl cursor-pointer transition-all duration-200\n                                            ${h===t?"border-indigo-600 bg-indigo-50/50 ring-1 ring-indigo-600 shadow-sm":"border-slate-200 hover:border-indigo-200 hover:bg-slate-50"}\n                                        `,children:[e.jsx("input",{type:"radio",name:"role",value:t,checked:h===t,onChange:e=>(e=>{if(p(e),u.permissions){const t=u.permissions.filter(t=>t.roles.includes(e)).map(e=>e.key);x(t)}})(e.target.value),className:"sr-only"}),e.jsx("div",{className:"p-2 rounded-lg "+(h===t?"bg-indigo-100":"bg-slate-100"),children:k(t)}),e.jsx("div",{children:e.jsx("span",{className:"font-semibold capitalize "+(h===t?"text-indigo-900":"text-slate-900"),children:t})}),h===t&&e.jsx(we,{size:16,className:"text-indigo-600 ml-auto"})]},t))})]}),e.jsxs("div",{className:"border-t border-slate-100 pt-6",children:[e.jsxs("button",{type:"button",onClick:()=>w(!y),className:"flex items-center gap-2 text-sm font-medium text-slate-600 hover:text-indigo-600 transition-colors",children:[y?e.jsx(g,{size:16}):e.jsx(M,{size:16}),e.jsx(d,{size:16}),e.jsx("span",{children:"Advanced Access Control"}),!y&&e.jsxs("span",{className:"ml-auto text-xs text-slate-400 bg-slate-100 px-2 py-1 rounded-full",children:[f.length," selected"]})]}),e.jsx(s,{children:y&&e.jsx(a.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},className:"overflow-hidden",children:e.jsx("div",{className:"pt-4 space-y-6",children:Object.entries(N).map(([t,n])=>e.jsxs("div",{className:"space-y-3",children:[e.jsxs("h4",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider flex items-center gap-2",children:["document"===t&&e.jsx(l,{size:12}),"team"===t&&e.jsx(m,{size:12}),"settings"===t&&e.jsx(G,{size:12}),t," Permissions"]}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:n.map(t=>{const n=f.includes(t.key);return e.jsxs("label",{className:`\n                                                                    flex items-center gap-3 p-3 rounded-lg border cursor-pointer transition-all\n                                                                    ${n?"bg-indigo-50 border-indigo-200":"bg-white border-slate-200 hover:border-slate-300"}\n                                                                `,children:[e.jsxs("div",{className:`\n                                                                        w-5 h-5 rounded border flex items-center justify-center transition-colors\n                                                                        ${n?"bg-indigo-600 border-indigo-600":"bg-white border-slate-300"}\n                                                                    `,children:[n&&e.jsx(we,{size:12,className:"text-white"}),e.jsx("input",{type:"checkbox",checked:n,onChange:()=>{return e=t.key,void x(t=>t.includes(e)?t.filter(t=>t!==e):[...t,e]);var e},className:"hidden"})]}),e.jsx("div",{className:"flex-1",children:e.jsx("div",{className:"text-sm font-medium "+(n?"text-indigo-900":"text-slate-700"),children:t.label})})]},t.key)})})]},t))})})})]})]})}),e.jsxs("div",{className:"px-8 py-5 border-t border-slate-200 bg-slate-50 flex justify-end gap-3 sticky bottom-0 z-20",children:[e.jsx("button",{type:"button",onClick:i,className:"px-5 py-2.5 text-sm font-medium text-slate-600 hover:text-slate-900 hover:bg-slate-200/50 rounded-xl transition-colors",children:"Cancel"}),e.jsx("button",{type:"submit",form:"editForm",disabled:b,className:"px-8 py-2.5 text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 rounded-xl shadow-lg shadow-indigo-200 transition-all hover:-translate-y-0.5 disabled:opacity-70 disabled:cursor-not-allowed flex items-center gap-2",children:b?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin"}),"Saving..."]}):e.jsxs(e.Fragment,{children:[e.jsx(_e,{size:18}),"Save Changes"]})})]})]})]}):null},Ax=()=>{const{user:t}=ts(),{matrix:n}=cd(),[i,l]=vt.useState([]),[o,c]=vt.useState(!0),[u,h]=vt.useState(""),[m,p]=vt.useState(!1),[x,g]=vt.useState(null),[b,v]=vt.useState("members"),[y,w]=vt.useState(null);vt.useEffect(()=>{j()},[]);const j=async()=>{try{c(!0);const e=await Jn.get("/team");l(e.data)}catch(e){}finally{c(!1)}},N=async e=>{if(confirm("Are you sure you want to remove this member?")){try{await(e=>Jn.delete(`/team/${e}`))(e),l(i.filter(t=>t.id!==e)),At.success("Member removed successfully")}catch(t){At.error("Failed to remove member")}w(null)}},k=i.filter(e=>e.child?.name?.toLowerCase().includes(u.toLowerCase())||e.child?.email?.toLowerCase().includes(u.toLowerCase())),S=e=>{switch(e){case"admin":return"bg-purple-100 text-purple-700 border-purple-200";case"editor":return"bg-blue-100 text-blue-700 border-blue-200";case"member":return"bg-slate-100 text-slate-700 border-slate-200";case"viewer":return"bg-emerald-100 text-emerald-700 border-emerald-200";default:return"bg-slate-100 text-slate-700"}},C=e=>{switch(e){case"active":return"bg-emerald-50 text-emerald-700 border-emerald-100";case"pending":return"bg-amber-50 text-amber-700 border-amber-100";default:return"bg-slate-100 text-slate-500"}};return e.jsxs(uf,{children:[e.jsx(df,{title:"Team Management",subtitle:"Manage your team members and their roles.",children:e.jsxs("button",{onClick:()=>p(!0),className:"flex items-center gap-2 px-4 py-2 bg-indigo-600 text-white font-medium rounded-lg hover:bg-indigo-700 transition-colors shadow-md shadow-indigo-600/20 text-sm",children:[e.jsx(ne,{size:18,strokeWidth:2.5}),"Invite Member"]})}),e.jsx("div",{className:"border-b border-slate-200 mb-6",children:e.jsxs("div",{className:"flex gap-6",children:[e.jsxs("button",{onClick:()=>v("members"),className:"pb-3 text-sm font-medium transition-colors relative "+("members"===b?"text-indigo-600":"text-slate-500 hover:text-slate-700"),children:["Members","members"===b&&e.jsx(a.div,{layoutId:"tab-underline",className:"absolute bottom-0 left-0 right-0 h-0.5 bg-indigo-600"})]}),e.jsxs("button",{onClick:()=>v("roles"),className:"pb-3 text-sm font-medium transition-colors relative "+("roles"===b?"text-indigo-600":"text-slate-500 hover:text-slate-700"),children:["Roles & Permissions","roles"===b&&e.jsx(a.div,{layoutId:"tab-underline",className:"absolute bottom-0 left-0 right-0 h-0.5 bg-indigo-600"})]})]})}),e.jsx(s,{mode:"wait",children:"members"===b?e.jsxs(a.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.2},children:[e.jsxs("div",{className:"bg-white p-4 rounded-lg border border-slate-200 shadow-sm mb-6 flex items-center gap-3",children:[e.jsx(K,{className:"text-slate-400",size:20}),e.jsx("input",{type:"text",placeholder:"Search members by name or email...",className:"flex-1 outline-none text-slate-700 placeholder:text-slate-400",value:u,onChange:e=>h(e.target.value)})]}),e.jsxs("div",{className:"bg-white rounded-lg border border-slate-200 shadow-sm overflow-hidden min-h-[400px]",children:[e.jsx("div",{className:"hidden md:block overflow-x-auto",children:e.jsxs("table",{className:"w-full text-left",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-slate-50 border-b border-slate-200",children:[e.jsx("th",{className:"px-6 py-4 text-xs font-semibold text-slate-500 uppercase tracking-wider",children:"User"}),e.jsx("th",{className:"px-6 py-4 text-xs font-semibold text-slate-500 uppercase tracking-wider",children:"Role"}),e.jsx("th",{className:"px-6 py-4 text-xs font-semibold text-slate-500 uppercase tracking-wider",children:"Status"}),e.jsx("th",{className:"px-6 py-4 text-xs font-semibold text-slate-500 uppercase tracking-wider text-right",children:"Actions"})]})}),e.jsx("tbody",{className:"divide-y divide-slate-100",children:o?e.jsx("tr",{children:e.jsx("td",{colSpan:"4",className:"px-6 py-8 text-center text-slate-500",children:e.jsx("div",{className:"flex items-center justify-center h-full",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-indigo-600"})})})}):0===k.length?e.jsx("tr",{children:e.jsx("td",{colSpan:"4",className:"px-6 py-8 text-center text-slate-500",children:e.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-center p-8",children:[e.jsx("div",{className:"w-16 h-16 bg-slate-50 rounded-full flex items-center justify-center mb-4",children:e.jsx(r,{className:"text-slate-300",size:32})}),e.jsx("h3",{className:"text-lg font-medium text-slate-900 mb-1",children:"No team members yet"}),e.jsx("p",{className:"text-slate-500 text-sm max-w-sm",children:"Invite your colleagues to collaborate on documents and manage your business together."})]})})}):k.map(t=>e.jsxs("tr",{className:"hover:bg-slate-50 transition-colors",children:[e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-indigo-100 flex items-center justify-center text-indigo-700 font-bold border-2 border-white shadow-sm",children:t.child?.name?.charAt(0).toUpperCase()||"?"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-slate-900",children:t.child?.name||"Unknown User"}),e.jsx("div",{className:"text-sm text-slate-500",children:t.child?.email})]})]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex flex-col items-start gap-1",children:[e.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium border ${S(t.role)} capitalize`,children:t.role||"Member"}),t.permissions&&e.jsxs("span",{className:"text-[10px] text-slate-400 flex items-center gap-0.5",children:[e.jsx(d,{size:10}),"Custom Access"]})]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("span",{className:`inline-flex items-center gap-1.5 px-2.5 py-0.5 rounded-full text-xs font-medium border ${C(t.status)}`,children:[e.jsx("div",{className:"w-1.5 h-1.5 rounded-full "+("active"===t.status?"bg-emerald-500":"bg-amber-500")}),"active"===t.status?"Active":"Pending"]})}),e.jsx("td",{className:"px-6 py-4 text-right",children:e.jsx("div",{className:"relative group inline-block text-left",children:e.jsx("button",{onClick:e=>{e.stopPropagation();const n=e.currentTarget.getBoundingClientRect();w(y===t.id?null:{id:t.id,top:n.bottom+window.scrollY,left:n.right-192})},className:"p-1.5 hover:bg-slate-100 rounded-md text-slate-400 hover:text-slate-600 transition-colors",children:e.jsx(Ve,{size:16})})})})]},t.id))})]})}),e.jsx("div",{className:"md:hidden divide-y divide-slate-100",children:o?e.jsx("div",{className:"p-8 text-center text-slate-500",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-indigo-600 mx-auto"})}):0===k.length?e.jsxs("div",{className:"p-8 text-center flex flex-col items-center",children:[e.jsx("div",{className:"w-12 h-12 bg-slate-50 rounded-full flex items-center justify-center mb-3",children:e.jsx(r,{className:"text-slate-300",size:24})}),e.jsx("p",{className:"text-slate-500 text-sm",children:"No members found."})]}):k.map(t=>e.jsxs("div",{className:"p-4 flex flex-col gap-3",children:[e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-indigo-100 flex items-center justify-center text-indigo-700 font-bold border-2 border-white shadow-sm",children:t.child?.name?.charAt(0).toUpperCase()||"?"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-slate-900",children:t.child?.name||"Unknown User"}),e.jsx("div",{className:"text-sm text-slate-500",children:t.child?.email})]})]}),e.jsx("button",{onClick:e=>{e.stopPropagation();const n=e.currentTarget.getBoundingClientRect();w(y===t.id?null:{id:t.id,top:n.bottom+window.scrollY,left:n.right-192})},className:"p-1 text-slate-400",children:e.jsx(Ve,{size:20})})]}),e.jsxs("div",{className:"flex items-center gap-3 pl-13",children:[e.jsx("span",{className:`inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium border ${S(t.role)} capitalize`,children:t.role||"Member"}),e.jsxs("span",{className:`inline-flex items-center gap-1.5 px-2 py-0.5 rounded-full text-xs font-medium border ${C(t.status)}`,children:[e.jsx("div",{className:"w-1.5 h-1.5 rounded-full "+("active"===t.status?"bg-emerald-500":"bg-amber-500")}),"active"===t.status?"Active":"Pending"]})]})]},t.id))})]})]},"members"):e.jsx(a.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.2},children:e.jsxs("div",{className:"bg-white rounded-lg border border-slate-200 shadow-sm overflow-hidden",children:[e.jsxs("div",{className:"p-6 border-b border-slate-200 bg-slate-50",children:[e.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:"Role Permissions"}),e.jsx("p",{className:"text-slate-500 text-sm mt-1",children:"View access levels for each role. (Read-only reference)"})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full text-left border-collapse",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-white border-b border-slate-200",children:[e.jsx("th",{className:"px-6 py-4 text-xs font-semibold text-slate-500 uppercase tracking-wider w-1/3 border-r border-slate-100",children:"Permission"}),n.roles&&Object.keys(n.roles).map(t=>e.jsx("th",{className:"px-6 py-4 text-xs font-semibold text-center text-slate-500 uppercase tracking-wider w-1/6",children:n.roles[t]},t))]})}),e.jsx("tbody",{className:"divide-y divide-slate-100",children:n.permissions&&n.permissions.map(t=>e.jsxs("tr",{className:"hover:bg-slate-50 transition-colors",children:[e.jsxs("td",{className:"px-6 py-4 text-sm font-medium text-slate-700 border-r border-slate-100",children:[t.label,e.jsx("div",{className:"text-xs text-slate-400 font-normal mt-0.5",children:t.key})]}),Object.keys(n.roles).map(n=>{const s=t.roles.includes(n);return e.jsx("td",{className:"px-6 py-4 text-center",children:s?e.jsx(f,{size:18,className:"mx-auto text-emerald-500"}):e.jsx("div",{className:"w-1.5 h-1.5 bg-slate-200 rounded-full mx-auto"})},n)})]},t.key))})]})})]})},"roles")}),y&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>w(null)}),e.jsxs("div",{className:"fixed z-50 w-48 bg-white rounded-lg shadow-xl border border-slate-200 py-1 overflow-hidden animate-in fade-in zoom-in duration-200 origin-top-right",style:{top:y.top+5,left:y.left},children:[e.jsxs("button",{onClick:()=>{const e=i.find(e=>e.id===y.id);e&&g(e),w(null)},className:"w-full text-left px-4 py-2.5 text-sm text-slate-700 hover:bg-slate-50 flex items-center gap-2 border-b border-slate-100",children:[e.jsx(ue,{size:14}),"Edit Access"]}),e.jsxs("button",{onClick:()=>{N(y.id),w(null)},className:"w-full text-left px-4 py-2.5 text-sm text-red-600 hover:bg-red-50 flex items-center gap-2 mt-1",children:[e.jsx(te,{size:14}),"Remove Member"]})]})]}),e.jsx(Mx,{isOpen:m,onClose:()=>p(!1),onInvite:async e=>{try{await(e=>Jn.post("/team",e))(e),j(),p(!1),At.success("Invitation sent successfully")}catch(t){At.error("Failed to invite member: "+(t.response?.data?.message||t.message))}}}),e.jsx(Rx,{isOpen:!!x,onClose:()=>g(null),member:x,onUpdate:async(e,t)=>{try{await((e,t)=>Jn.put(`/team/${e}`,t))(e,t),j(),At.success("Member updated successfully")}catch(n){At.error("Failed to update member: "+(n.response?.data?.message||n.message))}}})]})},Ox=({onFileUpload:n})=>{const[o,c]=vt.useState(!1),[d,u]=vt.useState(null),[h,m]=vt.useState(null),[p,x]=vt.useState(!1),g=vt.useCallback(e=>{e.preventDefault(),e.stopPropagation(),"dragenter"===e.type||"dragover"===e.type?c(!0):"dragleave"===e.type&&c(!1)},[]),v=vt.useCallback(e=>{e.preventDefault(),e.stopPropagation(),c(!1),e.dataTransfer.files&&e.dataTransfer.files[0]&&y(e.dataTransfer.files[0])},[]),y=e=>{x(!0),setTimeout(()=>{(e=>(m(null),"application/pdf"!==e.type?(m("Please upload a valid PDF document."),!1):!(e.size>10485760&&(m("File size must be under 10MB."),1))))(e)?(u(e),m(null),setTimeout(()=>n(e),1500)):u(null),x(!1)},1e3)};return e.jsxs("div",{className:"w-full h-full flex flex-col items-center justify-center p-4 lg:p-12 relative overflow-hidden",children:[e.jsxs("div",{className:"absolute inset-0 z-0 opacity-40 pointer-events-none",children:[e.jsx("div",{className:"absolute top-[-10%] left-[-10%] w-[40%] h-[40%] bg-indigo-200/30 rounded-full blur-[100px]"}),e.jsx("div",{className:"absolute bottom-[-10%] right-[-10%] w-[40%] h-[40%] bg-purple-200/30 rounded-full blur-[100px]"})]}),e.jsxs(a.div,{initial:{opacity:0,scale:.98},animate:{opacity:1,scale:1},transition:{duration:.6,ease:"easeOut"},className:"relative z-10 w-full max-w-5xl bg-white/60 backdrop-blur-xl rounded-[2.5rem] shadow-[0_32px_64px_-12px_rgba(0,0,0,0.08)] border border-white/50 flex flex-col md:flex-row overflow-hidden min-h-[550px]",children:[e.jsxs("div",{className:"hidden md:flex w-full md:w-5/12 bg-white/40 p-10 lg:p-14 flex-col justify-between border-r border-slate-100/50",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"inline-flex items-center gap-2 px-3 py-1 bg-indigo-50 border border-indigo-100 text-indigo-700 text-xs font-bold uppercase tracking-wider rounded-full mb-8",children:[e.jsx(r,{size:12,className:"fill-indigo-700"}),"Secure Environment"]}),e.jsxs("h1",{className:"text-3xl lg:text-4xl font-extrabold text-slate-800 leading-tight mb-4",children:["Upload your ",e.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-indigo-600 to-purple-600",children:"Document"})]}),e.jsx("p",{className:"text-slate-500 text-base leading-relaxed",children:"Drag and drop your PDF to get started. We use banking-grade encryption to ensure your documents remain private and secure throughout the signing workflow."})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-6",children:[e.jsxs("div",{className:"flex items-start gap-4 p-4 rounded-2xl bg-white/50 border border-white/60 shadow-sm hover:shadow-md transition-shadow",children:[e.jsx("div",{className:"p-2.5 bg-indigo-100 text-indigo-600 rounded-xl",children:e.jsx(i,{size:20})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-slate-700 text-sm",children:"Lightning Fast"}),e.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Instant processing and rendering."})]})]}),e.jsxs("div",{className:"flex items-start gap-4 p-4 rounded-2xl bg-white/50 border border-white/60 shadow-sm hover:shadow-md transition-shadow",children:[e.jsx("div",{className:"p-2.5 bg-emerald-100 text-emerald-600 rounded-xl",children:e.jsx(r,{size:20})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-slate-700 text-sm",children:"Encrypted Storage"}),e.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Your data never leaves our secure loop."})]})]})]})]}),e.jsxs("div",{className:"w-full md:w-7/12 p-6 lg:p-12 flex flex-col items-center justify-center bg-gradient-to-br from-white to-slate-50/50 relative",children:[e.jsx("div",{onDragEnter:g,onDragLeave:g,onDragOver:g,onDrop:v,onClick:()=>!d&&document.getElementById("file-upload").click(),className:`\n                            relative w-full h-full min-h-[350px] border-[3px] border-dashed rounded-[2rem] flex flex-col items-center justify-center text-center transition-all duration-300 cursor-pointer group\n                            ${o?"border-indigo-500 bg-indigo-50/50 scale-[0.98]":d?"border-emerald-400 bg-emerald-50/30":h?"border-red-300 bg-red-50/50":"border-slate-200 hover:border-indigo-300 hover:bg-slate-50"}\n                        `,children:e.jsx(s,{mode:"wait",children:p?e.jsxs(a.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"flex flex-col items-center p-8",children:[e.jsxs("div",{className:"relative w-24 h-24 mb-6",children:[e.jsx("div",{className:"absolute inset-0 border-4 border-indigo-100 rounded-full"}),e.jsx("div",{className:"absolute inset-0 border-4 border-t-indigo-600 rounded-full animate-spin"}),e.jsx(l,{className:"absolute inset-0 m-auto text-indigo-600",size:32})]}),e.jsx("h3",{className:"text-xl font-bold text-slate-800",children:"Verifying..."}),e.jsx("p",{className:"text-slate-500 mt-2",children:"Checking file integrity"})]},"validating"):d?e.jsxs(a.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"flex flex-col items-center p-8 w-full max-w-sm",children:[e.jsx("div",{className:"w-24 h-24 bg-emerald-100 rounded-full flex items-center justify-center mb-6 shadow-sm",children:e.jsx(f,{size:48,className:"text-emerald-600"})}),e.jsx("h3",{className:"text-xl font-bold text-slate-800 break-words w-full px-4",children:d.name}),e.jsx("p",{className:"text-sm font-mono text-slate-500 mt-2 mb-6 bg-white px-3 py-1 rounded-lg border border-slate-100 shadow-sm",children:(e=>{if(0===e)return"0 Bytes";const t=Math.floor(Math.log(e)/Math.log(1024));return parseFloat((e/Math.pow(1024,t)).toFixed(2))+" "+["Bytes","KB","MB"][t]})(d.size)}),e.jsxs("button",{onClick:e=>{e.stopPropagation(),u(null),m(null)},className:"text-rose-500 hover:text-rose-700 text-sm font-semibold flex items-center gap-2 px-4 py-2 hover:bg-rose-50 rounded-lg transition-colors",children:[e.jsx(t,{size:16})," Cancel"]})]},"success"):h?e.jsxs(a.div,{initial:{opacity:0},animate:{opacity:1},className:"flex flex-col items-center p-8",children:[e.jsx("div",{className:"w-20 h-20 bg-red-100 text-red-500 rounded-full flex items-center justify-center mb-4",children:e.jsx(b,{size:40})}),e.jsx("h3",{className:"text-lg font-bold text-slate-800",children:"Upload Failed"}),e.jsx("p",{className:"text-red-500 mt-1 text-center max-w-xs",children:h}),e.jsx("button",{onClick:e=>{e.stopPropagation(),m(null)},className:"mt-6 text-slate-500 hover:text-slate-800 underline underline-offset-4",children:"Try again"})]},"error"):e.jsxs(a.div,{initial:{opacity:0},animate:{opacity:1},className:"flex flex-col items-center p-8",children:[e.jsx("div",{className:"w-28 h-28 bg-indigo-50/80 rounded-full flex items-center justify-center mb-8 group-hover:scale-110 transition-transform duration-300 shadow-sm group-hover:shadow-md",children:e.jsx(Ge,{size:48,className:"text-indigo-600 transition-colors group-hover:text-indigo-700",strokeWidth:1.5})}),e.jsx("h3",{className:"text-2xl font-bold text-slate-800 mb-2 group-hover:text-indigo-700 transition-colors",children:"Drag & Drop PDF"}),e.jsxs("p",{className:"text-slate-500 mb-8 max-w-xs leading-relaxed",children:["Drop your file here or click to browse. ",e.jsx("br",{}),e.jsx("span",{className:"text-xs text-slate-400 mt-1 block",children:"Supports PDF up to 10MB"})]}),e.jsxs("button",{className:"px-8 py-3.5 bg-slate-900 text-white font-semibold rounded-xl shadow-lg hover:shadow-xl hover:-translate-y-1 transition-all duration-300 flex items-center gap-2 group-hover:bg-indigo-600",children:[e.jsx(l,{size:18}),e.jsx("span",{children:"Choose Local File"})]})]},"idle")})}),e.jsx("input",{id:"file-upload",type:"file",accept:".pdf,application/pdf",onChange:e=>{e.target.files&&e.target.files[0]&&y(e.target.files[0])},className:"hidden"})]})]}),e.jsxs("p",{className:"mt-8 text-center text-xs text-slate-400 font-medium",children:["By uploading, you agree to our ",e.jsx("span",{className:"underline cursor-pointer hover:text-slate-600",children:"Terms of Service"})," and ",e.jsx("span",{className:"underline cursor-pointer hover:text-slate-600",children:"Privacy Policy"}),"."]})]})},Fx=({pageNumber:t,signatures:n,onUpdateSignature:s,onRemoveSignature:a,onEditSignature:r,readOnly:i,onFieldClick:l,scale:o=1,rotation:c=0})=>{const{setNodeRef:d,isOver:u}=Lh({id:`page-${t}`});return e.jsxs("div",{ref:d,id:`pdf-page-${t}`,className:"relative mb-6 transition-colors "+(u?"ring-2 ring-indigo-500 ring-offset-2":""),style:{width:"fit-content",margin:"0 auto 1.5rem auto"},children:[e.jsx(It,{pageNumber:t,className:"",renderTextLayer:!1,renderAnnotationLayer:!1,width:800,scale:o,rotate:c}),n.map(t=>i?e.jsx("div",{className:"absolute",style:{left:`${t.position.x}%`,top:`${t.position.y}%`,cursor:l&&t.metadata?.isMine&&!t.metadata?.value?"pointer":"default",pointerEvents:"auto"},onClick:e=>{e.stopPropagation(),l&&l(t)},children:e.jsx(am,{data:t.metadata,isSelected:!1,isDragging:!1,readOnly:!0})},t.id):e.jsx(rm,{id:t.id,data:t.metadata,left:t.position.x,top:t.position.y,onUpdate:s,onRemove:a,onEdit:r},t.id))]})},Ix="/assets/pdf.worker.min-qwK7q_zL.mjs";Lt.workerSrc=Ix;const Lx=({pdfUrl:t,signatures:n=[],onUpdateSignature:s,onRemoveSignature:a,onEditSignature:r,readOnly:i=!1,onFieldClick:l,onLoadSuccess:o})=>{const[c,d]=vt.useState(null),[u,h]=vt.useState(1),[m,p]=vt.useState(0),f=vt.useMemo(()=>n.reduce((e,t)=>{const n=t.pageNumber||1;return e[n]||(e[n]=[]),e[n].push(t),e},{}),[n]);return t?e.jsxs("div",{className:"relative flex flex-col items-center bg-slate-100/50 h-full w-full rounded-xl border border-slate-200 overflow-hidden",children:[e.jsxs("div",{className:"sticky top-0 z-30 w-full bg-white/80 backdrop-blur-md border-b border-slate-200 p-2 flex items-center justify-between px-4",children:[e.jsx("span",{className:"text-xs font-semibold text-slate-500 uppercase tracking-wider",children:c?`${c} Pages`:"Loading Document..."}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>h(e=>Math.max(e-.1,.5)),className:"p-1.5 text-slate-600 hover:bg-slate-100 rounded-lg transition-colors",title:"Zoom Out",children:e.jsx(De,{size:18})}),e.jsxs("span",{className:"text-xs font-mono font-medium text-slate-600 w-12 text-center",children:[Math.round(100*u),"%"]}),e.jsx("button",{onClick:()=>h(e=>Math.min(e+.1,2)),className:"p-1.5 text-slate-600 hover:bg-slate-100 rounded-lg transition-colors",title:"Zoom In",children:e.jsx(Te,{size:18})}),e.jsx("div",{className:"w-px h-4 bg-slate-300 mx-1"}),e.jsx("button",{onClick:()=>p(e=>e+90),className:"p-1.5 text-slate-600 hover:bg-slate-100 rounded-lg transition-colors",title:"Rotate",children:e.jsx(Xe,{size:18})})]})]}),e.jsxs("div",{className:"flex-1 w-full overflow-y-auto overflow-x-hidden p-8 flex flex-col items-center scrollbar-thin scrollbar-thumb-slate-300 scrollbar-track-transparent",children:[e.jsx(Bt,{file:t,onLoadSuccess:({numPages:e})=>{d(e),o&&o({numPages:e})},className:"flex flex-col items-center gap-8",loading:e.jsxs("div",{className:"flex flex-col items-center justify-center py-20",children:[e.jsx("div",{className:"w-10 h-10 border-4 border-indigo-200 border-t-indigo-600 rounded-full animate-spin mb-4"}),e.jsx("p",{className:"text-slate-500 font-medium",children:"Loading PDF..."})]}),error:e.jsxs("div",{className:"text-center py-20",children:[e.jsx("p",{className:"text-red-500 font-medium",children:"Failed to load PDF."}),e.jsx("p",{className:"text-sm text-slate-400 mt-2",children:"Please ensure it is a valid PDF file."})]}),children:c&&Array.from({length:c},(t,n)=>e.jsx(Fx,{pageNumber:n+1,signatures:f[n+1]||[],onUpdateSignature:s,onRemoveSignature:a,onEditSignature:r,readOnly:i,onFieldClick:l,scale:u,rotation:m},`page_${n+1}`))}),e.jsx("div",{className:"h-40 w-full flex-shrink-0"})]})]}):null},Bx=({signer:t,onRemove:n,onEdit:s,isEditing:a,onUpdate:r,readOnly:i})=>{const{attributes:l,listeners:o,setNodeRef:c,transform:d,transition:u,isDragging:h}=Zm({id:t.id}),m={transform:Fd.Transform.toString(d),transition:u,opacity:h?.4:1};return e.jsx("div",{ref:c,style:m,className:`group p-4 bg-slate-50 hover:bg-white rounded-xl border border-slate-200 hover:border-indigo-200 hover:shadow-md transition-all ${h?"shadow-lg ring-2 ring-indigo-500/20":""} ${i?"opacity-70 cursor-default":""}`,children:e.jsxs("div",{className:"flex items-center gap-3",children:[!i&&e.jsx("div",{...l,...o,className:"cursor-move text-slate-400 hover:text-indigo-500 transition-colors p-1",children:e.jsx(ee,{size:18})}),e.jsx("div",{className:"w-8 h-8 bg-indigo-100 text-indigo-600 rounded-lg flex items-center justify-center font-bold text-sm flex-shrink-0",children:t.order}),e.jsx("div",{className:"flex-1 min-w-0",children:a&&!i?e.jsxs("div",{className:"space-y-2",children:[e.jsx("input",{type:"text",defaultValue:t.name,onBlur:e=>r(t.id,{name:e.target.value}),className:"w-full px-2 py-1 text-sm border border-slate-200 rounded focus:border-indigo-500 outline-none",placeholder:"Name",autoFocus:!0,disabled:i}),e.jsx("input",{type:"email",defaultValue:t.email,onBlur:e=>r(t.id,{email:e.target.value}),className:"w-full px-2 py-1 text-sm border border-slate-200 rounded focus:border-indigo-500 outline-none",placeholder:"Email",disabled:i})]}):e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-slate-800 truncate",children:t.name||"Unnamed Signer"}),e.jsx("p",{className:"text-xs text-slate-500 truncate",children:t.email||"No email provided"})]})}),e.jsx("span",{className:"px-2 py-1 text-xs font-medium rounded-full "+("signer"===t.role?"bg-blue-100 text-blue-700":"bg-slate-100 text-slate-700"),children:t.role}),!i&&e.jsxs("div",{className:"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[e.jsx("button",{onClick:()=>s(a?null:t.id),className:"p-1.5 rounded transition-colors "+(a?"bg-indigo-100 text-indigo-600":"hover:bg-blue-50 text-slate-400 hover:text-blue-600"),title:"Edit",children:e.jsx(pe,{size:14})}),e.jsx("button",{onClick:()=>n(t.id),className:"p-1.5 hover:bg-red-50 text-slate-400 hover:text-red-600 rounded transition-colors",title:"Remove",children:e.jsx(te,{size:14})})]})]})})},$x=({signers:t,onUpdateSigners:n,readOnly:s=!1})=>{const[a,i]=yt.useState(null),l=Kd(Qd(qu),Qd($u)),o=(e,s)=>{n(t.map(t=>t.id===e?{...t,...s}:t))},c=e=>{const s=t.filter(t=>t.id!==e).map((e,t)=>({...e,order:t+1}));n(s)};return e.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-slate-200 p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-bold text-slate-800",children:"Signers"}),e.jsx("p",{className:"text-sm text-slate-500",children:"Drag to reorder signing sequence"})]}),e.jsxs("div",{className:"bg-indigo-50 text-indigo-600 px-3 py-1 rounded-full text-xs font-bold border border-indigo-100",children:[t.length," ",1===t.length?"Person":"People"]})]}),e.jsx("div",{className:"space-y-4",children:0===t.length?e.jsxs("div",{className:"text-center py-8 border-2 border-dashed border-slate-200 rounded-xl bg-slate-50/50",children:[e.jsx("div",{className:"w-12 h-12 bg-white rounded-full flex items-center justify-center mx-auto mb-3 shadow-sm border border-slate-100",children:e.jsx(j,{size:20,className:"text-slate-400"})}),e.jsx("p",{className:"text-slate-600 font-medium text-sm",children:"No signers yet"}),e.jsx("p",{className:"text-xs text-slate-400 mt-1 max-w-[200px] mx-auto",children:"Drag a signature field onto the document to add a signer automatically."})]}):e.jsx(Mh,{sensors:l,collisionDetection:au,onDragEnd:e=>{const{active:s,over:a}=e;if(s.id!==a.id){const e=t.findIndex(e=>e.id===s.id),r=t.findIndex(e=>e.id===a.id),i=[...t],[l]=i.splice(e,1);i.splice(r,0,l);const o=i.map((e,t)=>({...e,order:t+1}));n(o)}},children:e.jsx(qm,{items:t.map(e=>e.id),strategy:Hm,children:e.jsx("div",{className:"space-y-3",children:t.map(t=>e.jsx(Bx,{signer:t,onRemove:c,onEdit:i,isEditing:a===t.id,onUpdate:o,readOnly:s},t.id))})})})}),t.length>0&&e.jsx("div",{className:"mt-6 p-4 bg-slate-50/50 rounded-xl border border-slate-200",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(r,{size:16,className:"text-slate-400 flex-shrink-0 mt-0.5"}),e.jsxs("div",{className:"text-xs text-slate-500 leading-relaxed",children:[e.jsx("span",{className:"font-semibold text-slate-700",children:"Sequential Signing:"})," Signers will receive the document in the order shown above (",1," to ",t.length,"). Drag items to change the sequence."]})]})})]})},Wx=({type:t,icon:n,label:s})=>{const{attributes:a,listeners:r,setNodeRef:i,isDragging:l}=Oh({id:`toolbar-${t}`,data:{type:"toolbar-item",fieldType:t}});return e.jsxs("div",{ref:i,...r,...a,className:`\n                flex items-center gap-3 p-3 rounded-lg border border-slate-200 bg-white \n                cursor-grab active:cursor-grabbing hover:border-indigo-300 hover:shadow-sm transition-all\n                ${l?"opacity-50 border-indigo-500 ring-2 ring-indigo-500/20":""}\n            `,style:{touchAction:"none"},children:[e.jsx("div",{className:"p-2 rounded-md "+(l?"bg-indigo-100 text-indigo-600":"bg-slate-100 text-slate-500"),children:e.jsx(n,{size:18})}),e.jsx("span",{className:"text-sm font-medium text-slate-700",children:s})]})},Hx=()=>e.jsxs("div",{className:"space-y-3",children:[e.jsx("h3",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider mb-4 px-1",children:"Signature Tools"}),e.jsx(Wx,{type:"signature",icon:P,label:"Signature Field"}),e.jsx(Wx,{type:"initials",icon:j,label:"Initials"}),e.jsx(Wx,{type:"date",icon:I,label:"Date Signed"}),e.jsx(Wx,{type:"text",icon:ie,label:"Text Box"}),e.jsx(Wx,{type:"checkbox",icon:fe,label:"Checkbox"}),e.jsx("div",{className:"mt-4 p-3 bg-indigo-50 rounded-lg text-xs text-indigo-700 border border-indigo-100",children:e.jsx("p",{children:"Drag fields onto the document to request information."})})]}),Ux=vt.memo(({show:n,onClose:r,signers:i,onProceed:l,canProceed:c})=>e.jsx(s,{children:n&&e.jsxs(e.Fragment,{children:[e.jsx(a.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-slate-900/40 backdrop-blur-sm z-40 lg:hidden",onClick:r}),e.jsxs(a.div,{initial:{y:"100%"},animate:{y:0},exit:{y:"100%"},transition:{type:"spring",damping:25,stiffness:300},className:"fixed bottom-0 left-0 right-0 h-[60vh] bg-white rounded-t-2xl shadow-[0_-8px_30px_rgba(0,0,0,0.12)] z-50 lg:hidden flex flex-col",children:[e.jsxs("div",{className:"p-4 border-b border-slate-100 flex items-center justify-between bg-slate-50/50 rounded-t-2xl",children:[e.jsxs("h3",{className:"font-bold text-slate-800 flex items-center gap-2",children:[e.jsx(P,{size:18,className:"text-indigo-600"}),"Signature Tools"]}),e.jsx("button",{onClick:r,className:"p-2 bg-slate-100 rounded-full text-slate-500",children:e.jsx(t,{size:20})})]}),e.jsxs("div",{className:"flex-1 overflow-y-auto p-6 bg-white safe-area-bottom",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h4",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider mb-3",children:"Drag Fields to Canvas"}),e.jsx(Hx,{})]}),e.jsxs("div",{className:"pt-4 border-t border-slate-100",children:[e.jsxs("div",{className:"flex items-center justify-between text-sm mb-3",children:[e.jsx("span",{className:"text-slate-600 font-medium",children:"Signers Required"}),e.jsx("span",{className:"font-bold text-indigo-600 bg-indigo-50 px-2 py-0.5 rounded text-xs",children:i.length})]}),e.jsxs("div",{className:"space-y-2 mb-4",children:[i.map(t=>e.jsxs("div",{className:"flex items-center gap-2 text-xs text-slate-600 bg-slate-50 p-2 rounded border border-slate-100",children:[e.jsx("div",{className:"w-5 h-5 bg-indigo-100 text-indigo-600 rounded-full flex items-center justify-center font-bold text-[10px]",children:t.order}),e.jsx("span",{className:"truncate flex-1",children:t.name||t.email||"New Signer"})]},t.id)),0===i.length&&e.jsx("p",{className:"text-xs text-slate-400 italic",children:"No signers yet. Add a field to create one."})]})]})]}),e.jsx("div",{className:"p-4 border-t border-slate-200 bg-slate-50 pb-8",children:e.jsxs("button",{onClick:l,disabled:!c,className:"w-full flex items-center justify-center gap-2 py-3 bg-indigo-600 hover:bg-indigo-700 text-white font-bold rounded-xl shadow-lg hover:shadow-indigo-600/20 transition-all disabled:opacity-50 disabled:cursor-not-allowed active:scale-95",children:[e.jsx("span",{children:"Review & Send"}),e.jsx(o,{size:16})]})})]})]})})),Vx=vt.memo(({show:n,onClose:r,signers:i,onUpdateSigners:l,onSend:o,onBack:c})=>e.jsx(s,{children:n&&e.jsxs(e.Fragment,{children:[e.jsx(a.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-slate-900/40 backdrop-blur-sm z-40 lg:hidden",onClick:r}),e.jsxs(a.div,{initial:{y:"100%"},animate:{y:0},exit:{y:"100%"},transition:{type:"spring",damping:25,stiffness:300},className:"fixed bottom-0 left-0 right-0 h-[85vh] bg-white rounded-t-2xl shadow-[0_-8px_30px_rgba(0,0,0,0.12)] z-50 lg:hidden flex flex-col",children:[e.jsxs("div",{className:"p-4 border-b border-slate-100 flex items-center justify-between bg-slate-50/50 rounded-t-2xl",children:[e.jsx("h3",{className:"font-bold text-slate-800",children:"Review Signers"}),e.jsx("button",{onClick:r,className:"p-2 bg-slate-100 rounded-full text-slate-500",children:e.jsx(t,{size:20})})]}),e.jsxs("div",{className:"flex-1 overflow-y-auto p-4 bg-white safe-area-bottom",children:[e.jsx("p",{className:"text-sm text-slate-500 mb-4 px-1",children:"Verify signer order and details before sending."}),e.jsx($x,{signers:i,onUpdateSigners:l,readOnly:!0})]}),e.jsxs("div",{className:"p-4 border-t border-slate-200 bg-slate-50 space-y-3 pb-8",children:[e.jsxs("button",{onClick:o,className:"w-full flex items-center justify-center gap-2 py-3.5 bg-emerald-600 hover:bg-emerald-700 text-white font-bold rounded-xl shadow-lg hover:shadow-emerald-600/20 transition-all active:scale-95",children:[e.jsx(ye,{size:18}),e.jsx("span",{children:"Send Document"})]}),e.jsx("button",{onClick:c,className:"w-full py-3 text-slate-500 font-medium hover:text-slate-800 bg-white border border-slate-200 rounded-xl active:bg-slate-50",children:"Back to Edit"})]})]})]})})),qx=vt.memo(({pdfUrl:t,numPages:n,onPageClick:s,currentPage:a,signatures:r})=>t&&n?e.jsxs("div",{className:"w-full flex flex-col h-full bg-slate-50 border-r border-slate-200",children:[e.jsx("div",{className:"p-4 border-b border-slate-200 bg-white sticky top-0 z-10 shadow-sm",children:e.jsxs("h3",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider flex items-center gap-2",children:[e.jsx(de,{size:14,className:"text-indigo-600"}),"Pages (",n,")"]})}),e.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-4 scrollbar-thin scrollbar-thumb-slate-300",children:e.jsx(Bt,{file:t,loading:e.jsx("div",{className:"text-xs text-slate-400 text-center py-4",children:"Loading thumbnails..."}),children:Array.from({length:n},(t,n)=>{const i=n+1,l=(e=>r.filter(t=>t.pageNumber===e))(i),o=a===i;return e.jsxs("div",{className:"relative group",children:[e.jsx("div",{className:"flex items-start gap-2 mb-1",children:e.jsx("span",{className:"text-[10px] font-bold w-4 "+(o?"text-indigo-600":"text-slate-400"),children:i})}),e.jsxs("button",{onClick:()=>s(i),className:"w-full relative transition-all duration-200 group-hover:scale-[1.02] "+(o?"ring-2 ring-indigo-500 rounded-sm shadow-md":"hover:ring-2 hover:ring-indigo-200 rounded-sm"),children:[e.jsxs("div",{className:"aspect-[3/4] bg-white border border-slate-200 rounded-sm overflow-hidden relative shadow-sm",children:[e.jsx(It,{pageNumber:i,width:180,renderTextLayer:!1,renderAnnotationLayer:!1,className:"pointer-events-none opacity-90"}),l.length>0&&e.jsx("div",{className:"absolute inset-0 bg-transparent",children:l.map((t,n)=>e.jsx("div",{className:"absolute w-4 h-4 bg-indigo-600 text-white text-[9px] font-bold rounded-full flex items-center justify-center shadow-sm border border-white z-10 transform -translate-x-1/2 -translate-y-1/2 transition-transform hover:scale-125",style:{left:`${t.position.x}%`,top:`${t.position.y}%`},title:`Signer ${t.metadata?.order||"?"}`,children:t.metadata?.order||n+1},t.id))})]}),l.length>0&&e.jsx("div",{className:"absolute top-1 rights-1 flex flex-col gap-1 items-end p-1",children:e.jsxs("div",{className:"bg-emerald-500 text-white text-[9px] px-1.5 py-0.5 rounded-full shadow-sm font-bold border border-white",children:[l.length," Fields"]})})]})]},`thumb-${i}`)})})})]}):null),Yx=()=>{const t=kt(),n=Kd(Qd(Qu,{activationConstraint:{distance:10}}),Qd(Ju,{activationConstraint:{delay:250,tolerance:5}})),[r,i]=vt.useState(1),[l,c]=vt.useState(null),[d,u]=vt.useState(null),[h,m]=vt.useState([]),[p,x]=vt.useState([]),[g,b]=vt.useState(!1),[v,y]=vt.useState(null),[w,j]=vt.useState(null),[N,k]=vt.useState(null),[S,C]=vt.useState(0),[_,P]=vt.useState("tools"),[D,T]=vt.useState(!1),[z,M]=vt.useState(!1),[R,A]=vt.useState(!1),[O,F]=vt.useState(!1),[I,L]=vt.useState(null),[B,$]=vt.useState(0),W=vt.useRef(null),H=[{id:1,title:"Upload & Place",icon:E},{id:2,title:"Review & Send",icon:ye}];vt.useEffect(()=>{let e;if(O){$(0);const n=50,s=5e3/n;e=setInterval(()=>{$(n=>{const a=n+100/s;return a>=100?(clearInterval(e),Ot.success("Document sent successfully!"),t("/signatures/list"),100):a})},n)}return()=>clearInterval(e)},[O,t]);const U=e=>{if(!v)return;x(p.map(t=>t.id===v.id?{...t,metadata:e}:t));const{signeeName:t,signeeEmail:n}=e;if(t&&n){const e=h.find(e=>e.email.toLowerCase()===n.trim().toLowerCase());e||m(e=>[...e,{id:`signer-${Date.now()}`,name:t,email:n,role:"signer",order:h.length+1}])}},V=()=>{if(0===p.length)return void Ot.error("Please add at least one signature field");const e=new Set(p.map(e=>e.metadata?.signeeEmail?.toLowerCase()?.trim()).filter(Boolean)),t=h.filter(t=>t.email&&e.has(t.email.toLowerCase().trim())).map((e,t)=>({...e,order:t+1}));m(t),i(2),T(!1)},q=async()=>{if(l){A(!0),L(null);try{const e=new FormData;e.append("file",l),e.append("name",l.name);const t=await fetch("http://127.0.0.1:8000/api/v1/signatures/upload",{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`},body:e});if(!t.ok)throw new Error("Failed to upload document");const n=(await t.json()).data.id,s=p.map(e=>({signerId:h.find(t=>t.email===e.metadata.signeeEmail)?.id,type:"signature",pageNumber:e.pageNumber,x:e.position.x,y:e.position.y,width:200,height:60,metadata:e.metadata})),a=h.map(e=>({id:e.id,name:e.name,email:e.email,order:e.order}));if(!(await fetch("http://127.0.0.1:8000/api/v1/signatures/send",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({document_id:n,signers:a,fields:s})})).ok)throw new Error("Failed to send signature request");F(!0)}catch(e){L(e.message||"Failed to send.")}finally{A(!1)}}};return e.jsxs("div",{className:"max-w-7xl mx-auto h-[calc(100vh-80px)] flex flex-col font-sans",children:[e.jsx(df,{title:"E-Signature Module",subtitle:"Prepare and send documents",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"flex items-center bg-slate-100 p-1 rounded-lg",children:H.map(t=>e.jsxs("div",{className:"flex items-center gap-2 px-3 py-1.5 rounded-md text-xs md:text-sm font-medium transition-all "+(r===t.id?"bg-white text-indigo-600 shadow-sm":"text-slate-500"),children:[e.jsx(t.icon,{size:14}),e.jsx("span",{className:"hidden md:inline",children:t.title})]},t.id))}),1===r&&l&&e.jsx("button",{onClick:()=>T(!0),className:"lg:hidden p-2 bg-indigo-600 text-white rounded-lg shadow-md active:scale-95 transition-transform",children:e.jsx(G,{size:20})})]})}),e.jsx("div",{className:"flex-1 flex overflow-hidden bg-slate-50 border border-slate-200 rounded-xl shadow-sm mb-6 relative",children:e.jsxs(Mh,{sensors:n,onDragStart:e=>{j(e.active.id),k(e.active.data.current)},onDragEnd:e=>{const{active:t,over:n}=e;if(n&&n.id.startsWith("page-")){const e=parseInt(n.id.replace("page-","")),s=t.rect.current.translated,a=n.rect;if(s&&a){const n=s.left-a.left,r=s.top-a.top,i=n/a.width*100,l=r/a.height*100;if("toolbar-item"===t.data.current.type){const n={id:`sig-${Date.now()}`,type:t.data.current.fieldType,position:{x:i,y:l},pageNumber:e,metadata:{fieldType:t.data.current.fieldType,signeeName:"",signeeEmail:"",type:"all",required:!0,order:p.length+1}};x([...p,n]),y(n),b(!0),T(!1)}else"signature-field"===t.data.current.type&&x(p.map(n=>n.id===t.id?{...n,pageNumber:e,position:{x:i,y:l}}:n))}}j(null)},children:[1===r&&e.jsxs(e.Fragment,{children:[l&&e.jsxs("div",{className:"w-80 bg-white border-r border-slate-200 hidden lg:flex flex-col z-20 h-full",children:[e.jsxs("div",{className:"flex items-center border-b border-slate-200",children:[e.jsx("button",{onClick:()=>P("tools"),className:"flex-1 py-3 text-xs font-bold uppercase tracking-wider transition-colors border-b-2 "+("tools"===_?"border-indigo-600 text-indigo-600 bg-indigo-50/50":"border-transparent text-slate-500 hover:text-slate-700 hover:bg-slate-50"),children:"Tools"}),e.jsx("button",{onClick:()=>P("pages"),className:"flex-1 py-3 text-xs font-bold uppercase tracking-wider transition-colors border-b-2 "+("pages"===_?"border-indigo-600 text-indigo-600 bg-indigo-50/50":"border-transparent text-slate-500 hover:text-slate-700 hover:bg-slate-50"),children:"Pages"})]}),"tools"===_?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"p-4 border-b border-slate-100 bg-white sticky top-0 z-10",children:e.jsxs("h3",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider flex items-center gap-2",children:[e.jsx(G,{size:14}),"Signature Tools"]})}),e.jsxs("div",{className:"flex-1 overflow-y-auto p-5 space-y-6",children:[e.jsx(Hx,{}),e.jsxs("div",{className:"pt-6 border-t border-slate-100",children:[e.jsxs("div",{className:"flex items-center justify-between text-sm mb-3",children:[e.jsx("span",{className:"text-slate-600 font-medium",children:"Signers Required"}),e.jsx("span",{className:"font-bold text-indigo-600 bg-indigo-50 px-2 py-0.5 rounded text-xs",children:h.length})]}),e.jsx("div",{className:"space-y-2",children:h.map(t=>e.jsxs("div",{className:"flex items-center gap-2 text-xs text-slate-600 bg-slate-50 p-2 rounded border border-slate-100",children:[e.jsx("div",{className:"w-5 h-5 bg-indigo-100 text-indigo-600 rounded-full flex items-center justify-center font-bold text-[10px]",children:t.order}),e.jsx("span",{className:"truncate flex-1",children:t.name||t.email||"New Signer"})]},t.id))})]})]}),e.jsx("div",{className:"p-4 border-t border-slate-200 bg-slate-50",children:e.jsxs("button",{onClick:V,disabled:0===p.length,className:"w-full flex items-center justify-center gap-2 py-3 bg-indigo-600 hover:bg-indigo-700 text-white font-bold rounded-lg shadow-lg hover:shadow-indigo-600/20 transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:[e.jsx("span",{children:"Review & Send"}),e.jsx(o,{size:16})]})})]}):e.jsx(qx,{pdfUrl:d,numPages:S,currentPage:1,onPageClick:e=>{const t=document.getElementById(`pdf-page-${e}`);t&&t.scrollIntoView({behavior:"smooth"})},signatures:p})]}),e.jsx("div",{className:"flex-1 bg-slate-100/50 relative flex flex-col h-full overflow-hidden",children:l?e.jsx("div",{className:"w-full h-full p-4 md:p-8 flex justify-center bg-slate-200/50 relative overflow-hidden",children:e.jsx("div",{className:"w-full h-full bg-white border border-slate-200 relative rounded-xl overflow-hidden shadow-sm",children:e.jsx("div",{ref:W,className:"h-full w-full relative",children:e.jsx(Lx,{pdfUrl:d,signatures:p,onUpdateSignature:U,onRemoveSignature:e=>{x(p.filter(t=>t.id!==e))},onEditSignature:e=>{y(e),b(!0)},onLoadSuccess:({numPages:e})=>C(e)})})})}):e.jsx("div",{className:"w-full h-full p-6 flex items-center justify-center overflow-y-auto",children:e.jsx("div",{className:"w-full h-full flex items-center justify-center",children:e.jsx(Ox,{onFileUpload:e=>{c(e);const t=URL.createObjectURL(e);u(t)}})})})})]}),2===r&&e.jsxs("div",{className:"w-full h-full flex bg-slate-50",children:[e.jsxs("div",{className:"w-96 border-r border-slate-200 bg-white hidden lg:flex flex-col h-full shadow-lg z-10",children:[e.jsxs("div",{className:"p-5 border-b border-slate-100 bg-white",children:[e.jsx("h2",{className:"text-lg font-bold text-slate-800",children:"Review Signers"}),e.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Verify details before sending."})]}),e.jsx("div",{className:"flex-1 overflow-y-auto p-2 scrollbar-thin scrollbar-thumb-slate-200",children:e.jsx($x,{signers:h,onUpdateSigners:m,readOnly:!0})}),e.jsxs("div",{className:"p-5 border-t border-slate-200 bg-slate-50 space-y-3",children:[e.jsxs("button",{onClick:q,className:"w-full flex items-center justify-center gap-2 py-3 bg-emerald-600 hover:bg-emerald-700 text-white font-bold rounded-lg shadow-lg hover:shadow-emerald-600/20 transition-all",children:[e.jsx(ye,{size:18}),e.jsx("span",{children:"Send Document"})]}),e.jsx("button",{onClick:()=>i(1),className:"w-full py-2.5 text-slate-500 font-medium hover:text-slate-800 bg-white border border-slate-200 rounded-lg",children:"Back to Edit"})]})]}),e.jsx("div",{className:"lg:hidden absolute bottom-6 w-full flex justify-center z-30 pointer-events-none",children:e.jsxs("button",{onClick:()=>M(!0),className:"pointer-events-auto px-6 py-3 bg-indigo-600 text-white font-bold rounded-full shadow-2xl flex items-center gap-2 animate-bounce",children:[e.jsx(ye,{size:18}),e.jsx("span",{children:"Finalize & Send"})]})}),e.jsx("div",{className:"flex-1 bg-slate-100/50 relative flex flex-col h-full overflow-hidden",children:e.jsx("div",{className:"w-full h-full p-4 md:p-8 flex justify-center bg-slate-200/50 relative overflow-hidden",children:e.jsx("div",{className:"w-full h-full bg-white border border-slate-200 relative rounded-xl overflow-hidden shadow-sm",children:e.jsx(Lx,{pdfUrl:d,signatures:p,readOnly:!0,onUpdateSignature:()=>{},onRemoveSignature:()=>{},onEditSignature:()=>{}})})})})]}),e.jsx(Xh,{dropAnimation:null,children:w?e.jsxs("div",{className:"w-48 px-4 py-3 bg-indigo-600 text-white rounded-lg shadow-xl flex items-center gap-2 opacity-90 cursor-grabbing",children:[e.jsx("div",{className:"w-2 h-2 bg-white rounded-full animate-pulse"}),e.jsx("span",{className:"font-medium text-sm",children:"Place Field"})]}):null})]})}),e.jsx(Ux,{show:D,onClose:()=>T(!1),signers:h,onProceed:V,canProceed:p.length>0}),e.jsx(Vx,{show:z,onClose:()=>M(!1),signers:h,onUpdateSigners:m,onSend:q,onBack:()=>{M(!1),i(1)}}),e.jsx(gm,{isOpen:g,onClose:()=>{b(!1),y(null)},onSave:U,initialData:v?.metadata}),e.jsx(s,{children:(R||O||I)&&e.jsx(a.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-slate-900/60 backdrop-blur-sm p-4",children:e.jsx(a.div,{className:"bg-white rounded-2xl shadow-2xl p-0 w-full max-w-lg overflow-hidden border border-white/20",children:e.jsxs("div",{className:"p-8 pb-10 flex flex-col items-center text-center relative z-10",children:[R&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-16 h-16 border-4 border-indigo-100 border-t-indigo-600 rounded-full animate-spin mb-6"}),e.jsx("h3",{className:"text-xl font-bold text-slate-800 mb-2",children:"Sending Document..."}),e.jsx("p",{className:"text-slate-500",children:"Dispatching to all signers securely."})]}),O&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-16 h-16 bg-emerald-100 text-emerald-600 rounded-full flex items-center justify-center mb-6",children:e.jsx(f,{size:32})}),e.jsx("h3",{className:"text-xl font-bold text-slate-800 mb-2",children:"Sent Successfully!"}),e.jsx("div",{className:"w-full max-w-xs h-1.5 bg-slate-100 rounded-full overflow-hidden mb-4 mt-2",children:e.jsx(a.div,{className:"h-full bg-emerald-500",style:{width:`${B}%`}})}),e.jsx("button",{onClick:()=>t("/signatures/list"),className:"text-sm font-bold text-indigo-600",children:"Redirecting..."})]}),I&&e.jsxs(e.Fragment,{children:[e.jsx("p",{className:"text-red-500 text-lg font-bold mb-4",children:I}),e.jsx("button",{onClick:()=>L(null),className:"px-6 py-2 bg-slate-900 text-white rounded-lg",children:"Try Again"})]})]})})})})]})},Gx=vt.memo(({doc:t,isSelected:n,toggleSelect:s,getStatusInfo:r,getProgress:i,handleResendReminder:o,handleDelete:c,setSelectedDoc:d,setActiveDrawer:u})=>{const h=r(t),m=i(t.signers);return e.jsxs(a.tr,{initial:{opacity:0},animate:{opacity:1},whileHover:{backgroundColor:"rgba(248, 250, 252, 0.8)"},className:`group transition-colors ${n?"bg-indigo-50/50":""} border-b border-slate-50 last:border-0`,children:[e.jsx("td",{className:"px-6 py-4 w-12",children:e.jsx("button",{onClick:()=>s(t.id),className:"transition-colors "+(n?"text-indigo-600":"text-slate-300 hover:text-slate-500"),children:n?e.jsx(fe,{size:18}):e.jsx(Ue,{size:18})})}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-lg flex items-center justify-center border transition-colors "+("completed"===t.status?"bg-emerald-50 border-emerald-100 text-emerald-600":"bg-white border-slate-200 text-slate-400 group-hover:border-indigo-200 group-hover:text-indigo-600"),children:"completed"===t.status?e.jsx(f,{size:20}):e.jsx(l,{size:20,strokeWidth:1.5})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-slate-700 text-sm hover:text-indigo-600 cursor-pointer transition-colors line-clamp-1",onClick:()=>{d(t),u("preview")},children:t.name||"Untitled Document"}),e.jsxs("span",{className:"text-[11px] text-slate-400 font-mono",children:["ID: #",t.id.toString().slice(-6)]})]})]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"space-y-1.5",children:[e.jsxs("div",{className:`inline-flex items-center gap-1.5 px-2 py-0.5 rounded-full text-[11px] font-bold border ${h.color}`,children:[e.jsx(h.icon,{size:10}),h.label]}),t.signers?.length>0&&e.jsxs("div",{className:"w-32",children:[e.jsxs("div",{className:"flex justify-between text-[10px] text-slate-400 mb-1 font-medium",children:[e.jsx("span",{children:"Progress"}),e.jsxs("span",{children:[m,"%"]})]}),e.jsx("div",{className:"h-1.5 bg-slate-100 rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full rounded-full transition-all duration-1000 "+(100===m?"bg-emerald-500":"bg-indigo-500"),style:{width:`${m}%`}})})]})]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex -space-x-2",children:[t.signers?.slice(0,4).map((t,n)=>e.jsxs("div",{className:"w-8 h-8 rounded-full border-2 border-white flex items-center justify-center text-[10px] font-bold text-white shadow-sm ring-1 ring-slate-100 relative group/avatar "+("signed"===t.status?"bg-emerald-500":"viewed"===t.status?"bg-amber-400":"bg-indigo-300"),title:`${t.name} (${t.email}) - ${t.status}`,children:[t.name.charAt(0).toUpperCase(),e.jsx("div",{className:"absolute -bottom-0.5 -right-0.5 bg-white rounded-full p-[1px]",children:"signed"===t.status&&e.jsx(f,{size:8,className:"text-emerald-500 fill-emerald-100"})})]},n)),t.signers?.length>4&&e.jsxs("div",{className:"w-8 h-8 rounded-full border-2 border-white bg-slate-100 flex items-center justify-center text-[10px] font-bold text-slate-500 shadow-sm",children:["+",t.signers.length-4]}),(!t.signers||0===t.signers.length)&&e.jsx("span",{className:"text-xs text-slate-400 italic",children:"No signers"})]})}),e.jsxs("td",{className:"px-6 py-4",children:[e.jsx("div",{className:"text-sm text-slate-600 font-medium",children:hx(new Date(t.updated_at),"MMM d, yyyy")}),e.jsxs("div",{className:"text-[11px] text-slate-400 mt-0.5 flex items-center gap-1",children:[e.jsx($,{size:10}),hx(new Date(t.updated_at),"h:mm a")]})]}),e.jsx("td",{className:"px-6 py-4 text-right",children:e.jsxs("div",{className:"flex items-center justify-end gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:["completed"!==t.status&&t.signers?.some(e=>"signed"!==e.status)&&e.jsx("button",{onClick:()=>o(t.id),className:"p-1.5 hover:bg-slate-100 rounded-lg text-slate-400 hover:text-indigo-600 transition-colors",title:"Resend Signature Request",children:e.jsx(v,{size:16})}),"completed"===t.status&&e.jsx(jt,{to:`/signatures/${t.id}/view-signed`,className:"p-1.5 hover:bg-emerald-50 rounded-lg text-emerald-600 transition-colors",title:"View Signed PDF",children:e.jsx(xe,{size:16})}),e.jsx("button",{onClick:()=>{d(t),u("audit")},className:"p-1.5 hover:bg-slate-100 rounded-lg text-slate-400 hover:text-slate-700 transition-colors",title:"View History",children:e.jsx(Qe,{size:16})}),e.jsx("div",{className:"h-4 w-px bg-slate-200 mx-1"}),e.jsx("button",{onClick:()=>c(t.id),className:"p-1.5 hover:bg-red-50 rounded-lg text-slate-300 hover:text-red-500 transition-colors",title:"Delete",children:e.jsx(te,{size:16})})]})})]})}),Xx=vt.memo(({doc:t,getStatusInfo:n,getProgress:s,setSelectedDoc:a,setActiveDrawer:r})=>{const i=n(t),o=s(t.signers);return e.jsxs("div",{className:"p-5 flex flex-col gap-4 active:bg-slate-50 border-b border-slate-100 last:border-0",onClick:()=>{a(t),r("preview")},children:[e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2.5 rounded-xl border "+("completed"===t.status?"bg-emerald-50 border-emerald-100 text-emerald-600":"bg-slate-50 border-slate-100 text-slate-500"),children:"completed"===t.status?e.jsx(f,{size:20}):e.jsx(l,{size:20,strokeWidth:1.5})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-slate-800 text-sm line-clamp-1",children:t.name||"Untitled"}),e.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[e.jsx("span",{className:`px-2 py-0.5 rounded-md text-[10px] font-bold border capitalize ${i.color}`,children:i.label}),e.jsx("span",{className:"text-[10px] text-slate-400",children:hx(new Date(t.updated_at),"M/d/yy")})]})]})]}),e.jsx("button",{onClick:e=>{e.stopPropagation(),a(t),r("preview")},className:"p-1 text-slate-300 hover:text-slate-600",children:e.jsx(Ve,{size:20})})]}),t.signers?.length>0&&e.jsxs("div",{className:"bg-slate-50 rounded-xl p-3 border border-slate-100",children:[e.jsxs("div",{className:"flex justify-between text-xs mb-2",children:[e.jsx("span",{className:"text-slate-500 font-medium",children:"Signature Progress"}),e.jsxs("span",{className:"font-bold text-indigo-600",children:[o,"%"]})]}),e.jsx("div",{className:"h-1.5 bg-slate-200 rounded-full overflow-hidden mb-3",children:e.jsx("div",{className:"h-full rounded-full "+(100===o?"bg-emerald-500":"bg-indigo-500"),style:{width:`${o}%`}})}),e.jsx("div",{className:"flex -space-x-2",children:t.signers.map((t,n)=>e.jsx("div",{className:"w-7 h-7 rounded-full border-2 border-white flex items-center justify-center text-[10px] text-white font-bold "+("signed"===t.status?"bg-emerald-500":"bg-indigo-400"),children:t.name.charAt(0)},n))})]})]})}),Qx=()=>{const[n,r]=vt.useState([]),[i,o]=vt.useState(!0),[c,d]=vt.useState(""),[u,h]=vt.useState("all"),[m,p]=vt.useState("newest"),[x,g]=vt.useState([]),[b,v]=vt.useState(null),[y,w]=vt.useState(null),N=vt.useCallback(async()=>{o(!0);try{const e=await Jn.get("/signatures"),t=e.data.data||e.data;r(Array.isArray(t)?t:[])}catch(e){At.error("Failed to refresh documents")}finally{o(!1)}},[]);vt.useEffect(()=>{N()},[N]);const k=vt.useMemo(()=>{let e=[...n];if("all"!==u&&(e=e.filter(e=>{let t="draft";return"completed"===e.status?t="completed":e.signers?.length>0&&(t="pending"),t===u})),c){const t=c.toLowerCase();e=e.filter(e=>(e.name||"").toLowerCase().includes(t)||e.signers?.some(e=>e.email.toLowerCase().includes(t)))}return e.sort((e,t)=>"newest"===m?new Date(t.created_at)-new Date(e.created_at):"oldest"===m?new Date(e.created_at)-new Date(t.created_at):"name"===m?(e.name||"").localeCompare(t.name||""):0),e},[n,u,c,m]),S=vt.useCallback(e=>{g(t=>t.includes(e)?t.filter(t=>t!==e):[...t,e])},[]),C=vt.useCallback(()=>{x.length===k.length?g([]):g(k.map(e=>e.id))},[x.length,k]),_=vt.useCallback(async e=>{if(confirm("Are you sure you want to delete this document?"))try{await Jn.delete(`/documents/${e}`),r(t=>t.filter(t=>t.id!==e)),g(t=>t.filter(t=>t!==e)),At.success("Document deleted")}catch(t){At.error("Failed to delete document")}},[]),P=vt.useCallback(async e=>{At.promise(new Promise(e=>setTimeout(e,1e3)),{loading:"Sending reminders...",success:"Reminders sent to pending signers!",error:"Failed to send"})},[]),D=vt.useCallback(e=>"completed"===e.status?{label:"Completed",color:"bg-emerald-100 text-emerald-700 border-emerald-200",icon:f}:e.signers?.length>0?{label:"In Progress",color:"bg-indigo-50 text-indigo-700 border-indigo-200",icon:$}:{label:"Draft",color:"bg-slate-100 text-slate-600 border-slate-200",icon:l},[]),T=vt.useCallback(e=>{if(!e?.length)return 0;const t=e.filter(e=>"signed"===e.status).length;return Math.round(t/e.length*100)},[]);return e.jsxs(uf,{children:[e.jsx(df,{title:"Signature Requests",subtitle:"Manage your digital agreements and track progress",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("button",{onClick:N,className:"p-2.5 bg-white border border-slate-200 text-slate-500 hover:text-indigo-600 hover:border-indigo-200 rounded-xl transition-all shadow-sm hover:shadow",title:"Refresh List",children:e.jsx(Ke,{size:18,className:i?"animate-spin":""})}),e.jsxs(jt,{to:"/signatures",className:"flex items-center gap-2 px-6 py-2.5 bg-indigo-600 hover:bg-indigo-700 text-white font-semibold rounded-xl transition-all shadow-lg shadow-indigo-600/20",children:[e.jsx(ne,{size:20}),"New Request"]})]})}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[{label:"Pending Signatures",value:n.filter(e=>e.signers?.length>0&&"completed"!==e.status).length,color:"text-indigo-600",bg:"bg-indigo-50"},{label:"Completed",value:n.filter(e=>"completed"===e.status).length,color:"text-emerald-600",bg:"bg-emerald-50"},{label:"Total Documents",value:n.length,color:"text-slate-600",bg:"bg-slate-50"}].map((t,n)=>e.jsxs("div",{className:"bg-white p-4 rounded-xl border border-slate-200 shadow-sm flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-slate-400 text-xs font-bold uppercase tracking-wide",children:t.label}),e.jsx("p",{className:"text-2xl font-bold text-slate-800 mt-1",children:t.value})]}),e.jsx("div",{className:`w-10 h-10 rounded-lg flex items-center justify-center ${t.bg} ${t.color}`,children:e.jsx(l,{size:20})})]},n))}),e.jsxs("div",{className:"flex flex-col lg:flex-row gap-4 bg-white p-2 rounded-xl shadow-sm border border-slate-200 mb-6",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(K,{className:"absolute left-3.5 top-1/2 -translate-y-1/2 text-slate-400",size:18}),e.jsx("input",{type:"text",placeholder:"Search by document name, signer email...",value:c,onChange:e=>d(e.target.value),className:"w-full pl-11 pr-4 py-2.5 bg-slate-50 border border-slate-200 rounded-lg focus:ring-2 focus:ring-slate-100 focus:border-slate-300 focus:bg-white outline-none transition-all placeholder:text-slate-400 font-medium text-slate-700"})]}),e.jsxs("div",{className:"flex items-center gap-2 overflow-x-auto pb-2 lg:pb-0",children:[e.jsx("div",{className:"bg-slate-100 p-1 rounded-lg flex",children:["all","pending","completed"].map(t=>e.jsx("button",{onClick:()=>h(t),className:"px-4 py-1.5 rounded-md text-sm font-semibold capitalize transition-all "+(u===t?"bg-white text-slate-800 shadow-sm":"text-slate-500 hover:text-slate-700"),children:t},t))}),e.jsx("div",{className:"h-8 w-px bg-slate-200 mx-2 hidden lg:block"}),e.jsxs("select",{value:m,onChange:e=>p(e.target.value),className:"px-4 py-2.5 bg-white border border-slate-200 rounded-lg text-sm font-medium text-slate-700 outline-none focus:border-slate-300 hover:bg-slate-50 transition-colors cursor-pointer",children:[e.jsx("option",{value:"newest",children:"Newest First"}),e.jsx("option",{value:"oldest",children:"Oldest First"}),e.jsx("option",{value:"name",children:"Name (A-Z)"})]})]})]}),e.jsxs("div",{className:"bg-white border border-slate-200 rounded-xl shadow-sm overflow-hidden relative min-h-[400px]",children:[e.jsx(s,{children:x.length>0&&e.jsxs(a.div,{initial:{y:50,opacity:0},animate:{y:0,opacity:1},exit:{y:50,opacity:0},className:"absolute bottom-6 left-1/2 -translate-x-1/2 z-30 bg-slate-900 text-white px-6 py-3 rounded-full shadow-2xl flex items-center gap-6",children:[e.jsxs("span",{className:"text-sm font-semibold text-slate-300 border-r border-slate-700 pr-4",children:[x.length," Selected"]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{className:"p-2 hover:bg-slate-800 rounded-full transition-colorsAsync text-slate-300 hover:text-white",title:"Download All",children:e.jsx(ge,{size:18})}),e.jsx("button",{className:"p-2 hover:bg-slate-800 rounded-full transition-colors text-slate-300 hover:text-white",title:"Archive",children:e.jsx(Je,{size:18})}),e.jsx("button",{onClick:async()=>{if(confirm(`Delete ${x.length} documents?`))try{r(e=>e.filter(e=>!x.includes(e.id))),g([]),At.success(`${x.length} Documents deleted`)}catch(e){At.error("Bulk delete failed")}},className:"p-2 hover:bg-red-900/50 rounded-full transition-colors text-red-300 hover:text-red-200",title:"Delete Selected",children:e.jsx(te,{size:18})})]}),e.jsx("button",{onClick:()=>g([]),className:"ml-2 text-xs font-bold text-slate-400 hover:text-white",children:"Cancel"})]})}),e.jsx("div",{className:"hidden md:block overflow-x-auto",children:e.jsxs("table",{className:"w-full text-left border-collapse",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-slate-50/50 border-b border-slate-200",children:[e.jsx("th",{className:"px-6 py-3 w-12 text-center",children:e.jsx("button",{onClick:C,className:"text-slate-400 hover:text-indigo-600 transition-colors flex justify-center",children:x.length>0&&x.length===k.length?e.jsx(fe,{size:18,className:"text-indigo-600"}):e.jsx(Ue,{size:18})})}),e.jsx("th",{className:"px-6 py-3 text-xs font-bold text-slate-500 uppercase tracking-wider",children:"Document Name"}),e.jsx("th",{className:"px-6 py-3 text-xs font-bold text-slate-500 uppercase tracking-wider",children:"Status & Progress"}),e.jsx("th",{className:"px-6 py-3 text-xs font-bold text-slate-500 uppercase tracking-wider",children:"Signers"}),e.jsx("th",{className:"px-6 py-3 text-xs font-bold text-slate-500 uppercase tracking-wider",children:"Last Updated"}),e.jsx("th",{className:"px-6 py-3 w-32"})]})}),e.jsx("tbody",{className:"divide-y divide-slate-100",children:i?e.jsx("tr",{children:e.jsx("td",{colSpan:"6",className:"p-32 text-center",children:e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("div",{className:"w-8 h-8 border-2 border-slate-200 border-t-indigo-600 rounded-full animate-spin mb-4"}),e.jsx("p",{className:"text-slate-500 font-medium text-sm",children:"Loading documents..."})]})})}):0===k.length?e.jsx("tr",{children:e.jsxs("td",{colSpan:"6",className:"p-24 text-center",children:[e.jsx("div",{className:"bg-slate-50 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(l,{size:32,className:"text-slate-300",strokeWidth:1})}),e.jsx("h3",{className:"text-lg font-bold text-slate-800",children:"No documents found"}),e.jsx("p",{className:"text-slate-400 text-sm mt-1",children:"Try adjusting your search or filters."})]})}):k.map(t=>e.jsx(Gx,{doc:t,isSelected:x.includes(t.id),toggleSelect:S,getStatusInfo:D,getProgress:T,handleResendReminder:P,handleDelete:_,setSelectedDoc:w,setActiveDrawer:v},t.id))})]})}),e.jsx("div",{className:"md:hidden",children:i?e.jsxs("div",{className:"p-12 text-center flex flex-col items-center",children:[e.jsx("div",{className:"w-8 h-8 border-2 border-slate-200 border-t-indigo-600 rounded-full animate-spin mb-4"}),e.jsx("p",{className:"text-slate-500 text-sm",children:"Loading documents..."})]}):0===k.length?e.jsxs("div",{className:"p-12 text-center",children:[e.jsx("div",{className:"bg-slate-50 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(l,{size:32,className:"text-slate-300",strokeWidth:1})}),e.jsx("p",{className:"text-slate-500 font-medium",children:"No documents found."})]}):k.map(t=>e.jsx(Xx,{doc:t,getStatusInfo:D,getProgress:T,setSelectedDoc:w,setActiveDrawer:v},t.id))})]}),e.jsx(s,{children:b&&y&&e.jsxs(e.Fragment,{children:[e.jsx(a.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-slate-900/20 backdrop-blur-sm z-40",onClick:()=>v(null)}),e.jsxs(a.div,{initial:{x:"100%"},animate:{x:0},exit:{x:"100%"},transition:{type:"spring",stiffness:300,damping:30},className:"fixed inset-y-0 right-0 w-full max-w-lg bg-white shadow-2xl z-50 flex flex-col border-l border-slate-200",children:[e.jsxs("div",{className:"p-6 border-b border-slate-100 flex items-center justify-between bg-white",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold text-slate-800",children:"audit"===b?"Audit Trail":"Document Details"}),e.jsx("p",{className:"text-sm text-slate-500 mt-0.5 truncate max-w-[300px]",children:y.name})]}),e.jsx("button",{onClick:()=>v(null),className:"p-2 rounded-full hover:bg-slate-50 transition-all text-slate-400 hover:text-slate-700",children:e.jsx(t,{size:20})})]}),e.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:"preview"===b?e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:["completed"===y.status&&e.jsxs(jt,{to:`/signatures/${y.id}/view-signed`,className:"col-span-2 flex items-center justify-center gap-2 p-3 bg-emerald-600 hover:bg-emerald-700 text-white rounded-xl font-semibold transition-colors shadow-lg shadow-emerald-600/10",children:[e.jsx(xe,{size:18})," View Signed Document"]}),y.pdf_url&&e.jsxs("a",{href:y.pdf_url,target:"_blank",className:"flex items-center justify-center gap-2 p-3 bg-white border border-slate-200 hover:border-slate-300 text-slate-700 rounded-xl font-medium transition-all",children:[e.jsx(l,{size:18})," Original PDF"]}),e.jsxs("div",{className:"relative group w-full",children:[y.final_pdf_url?e.jsxs("a",{href:y.final_pdf_url,download:!0,className:"flex items-center justify-center gap-2 p-3 bg-white border border-slate-200 hover:border-slate-300 text-slate-700 rounded-xl font-medium transition-all shadow-sm hover:shadow",children:[e.jsx(ge,{size:18})," Signed PDF"]}):e.jsxs("div",{className:"flex items-center justify-center gap-2 p-3 bg-slate-50 border border-slate-200 text-slate-400 rounded-xl font-medium cursor-not-allowed select-none opacity-60",children:[e.jsx(ge,{size:18})," Signed PDF"]}),!y.final_pdf_url&&e.jsx("div",{className:"absolute top-full left-1/2 -translate-x-1/2 mt-2 w-max max-w-[200px] hidden group-hover:block transition-all z-50",children:e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"w-0 h-0 border-l-[6px] border-l-transparent border-r-[6px] border-r-transparent border-b-[6px] border-b-slate-800 absolute left-1/2 -translate-x-1/2 -top-[6px]"}),e.jsx("div",{className:"bg-slate-800 text-white text-xs font-medium px-3 py-2 rounded-lg shadow-xl text-center",children:"completed"===y.status?"Processing final document...":"Waiting for all parties to sign."})]})})]})]}),e.jsxs("div",{className:"bg-slate-50 rounded-2xl p-5 border border-slate-100 space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-slate-500 font-medium",children:"Status"}),e.jsx("span",{className:"px-2 py-1 rounded-md text-xs font-bold uppercase tracking-wider bg-white border border-slate-200 text-slate-700",children:y.status})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-slate-500 font-medium",children:"Created On"}),e.jsx("span",{className:"text-sm font-semibold text-slate-700",children:new Date(y.created_at).toLocaleString()})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-slate-500 font-medium",children:"Last Activity"}),e.jsx("span",{className:"text-sm font-semibold text-slate-700",children:new Date(y.updated_at).toLocaleString()})]})]}),e.jsxs("div",{children:[e.jsxs("h4",{className:"font-bold text-slate-800 mb-4 flex items-center gap-2",children:[e.jsx(j,{size:18,className:"text-slate-500"}),"Signers (",y.signers?.length||0,")"]}),e.jsx("div",{className:"space-y-3",children:y.signers?.map((t,n)=>e.jsxs("div",{className:"flex items-center gap-3 p-3 bg-white border border-slate-200 rounded-xl shadow-sm",children:[e.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center text-white font-bold "+("signed"===t.status?"bg-emerald-500":"bg-slate-400"),children:t.name.charAt(0)}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"font-semibold text-slate-800 text-sm",children:t.name}),e.jsx("p",{className:"text-xs text-slate-400",children:t.email})]}),"signed"===t.status?e.jsx(f,{size:18,className:"text-emerald-500"}):e.jsx("button",{onClick:()=>P(y.id),className:"text-xs text-slate-600 hover:text-slate-900 font-medium bg-slate-100 px-2 py-1 rounded transition-colors",children:"Resend"})]},n))})]})]}):e.jsxs("div",{className:"relative border-l-2 border-slate-200 ml-3 space-y-8 pb-10",children:[e.jsxs("div",{className:"relative pl-8",children:[e.jsx("div",{className:"absolute -left-[9px] top-0 w-4 h-4 rounded-full bg-slate-200 ring-4 ring-white"}),e.jsx("p",{className:"text-xs font-bold text-slate-500 uppercase",children:"Created"}),e.jsx("p",{className:"text-sm font-medium text-slate-800 mt-0.5",children:"Document Created"}),e.jsx("p",{className:"text-xs text-slate-400 mt-1",children:new Date(y.created_at).toLocaleString()})]}),y.signers?.map((t,n)=>e.jsxs("div",{className:"relative pl-8",children:[e.jsx("div",{className:"absolute -left-[9px] top-0 w-4 h-4 rounded-full ring-4 ring-white "+("signed"===t.status?"bg-emerald-500":"bg-slate-300")}),e.jsx("p",{className:"text-xs font-bold text-slate-500 uppercase",children:"signed"===t.status?"Signed":"Pending"}),e.jsxs("div",{className:"bg-slate-50 border border-slate-200 p-3 rounded-lg mt-2",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx(j,{size:14,className:"text-slate-400"}),e.jsx("span",{className:"text-sm font-semibold text-slate-700",children:t.name})]}),e.jsx("p",{className:"text-xs text-slate-500",children:t.email}),"signed"===t.status&&e.jsxs("div",{className:"mt-2 text-[10px] text-emerald-600 bg-emerald-50 border border-emerald-100 px-2 py-1 rounded inline-flex items-center gap-1",children:[e.jsx(f,{size:10})," Verified & Timestamped"]})]}),e.jsx("p",{className:"text-xs text-slate-400 mt-2 ml-1",children:new Date(t.updated_at).toLocaleString()})]},n))]})})]})]})})]})},Kx=vt.memo(({show:n,onClose:r,auditLogs:i})=>e.jsx(s,{children:n&&e.jsxs(e.Fragment,{children:[e.jsx(a.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-slate-900/40 backdrop-blur-sm z-40 lg:hidden",onClick:r}),e.jsxs(a.div,{initial:{y:"100%"},animate:{y:0},exit:{y:"100%"},transition:{type:"spring",damping:25,stiffness:300},className:"fixed bottom-0 left-0 right-0 h-[80vh] bg-white rounded-t-2xl shadow-[0_-8px_30px_rgba(0,0,0,0.12)] z-50 lg:hidden flex flex-col",children:[e.jsxs("div",{className:"p-4 border-b border-slate-100 flex items-center justify-between bg-slate-50/50 rounded-t-2xl",children:[e.jsxs("h3",{className:"font-bold text-slate-800 flex items-center gap-2",children:[e.jsx(Qe,{size:18,className:"text-indigo-600"}),"Audit Trail"]}),e.jsx("button",{onClick:r,className:"p-2 bg-slate-100 rounded-full text-slate-500",children:e.jsx(t,{size:20})})]}),e.jsx("div",{className:"flex-1 overflow-y-auto p-6 bg-white",children:e.jsx("div",{className:"relative border-l-2 border-slate-100 ml-3 space-y-8 pb-8",children:i.map((t,n)=>e.jsxs("div",{className:"relative pl-8",children:[e.jsx("div",{className:`absolute -left-[9px] top-0 w-5 h-5 rounded-full flex items-center justify-center ring-4 ring-white shadow-sm z-10 ${(e=>{switch(e){case"COMPLETED":return"bg-emerald-100 ring-emerald-200";case"SIGNED":return"bg-indigo-100 ring-indigo-200";case"VIEWED":return"bg-amber-100 ring-amber-200";default:return"bg-slate-100 ring-slate-200"}})(t.action)}`,children:(t=>{switch(t){case"COMPLETED":return e.jsx(f,{size:14,className:"text-emerald-600"});case"SIGNED":return e.jsx(P,{size:14,className:"text-indigo-600"});case"VIEWED":return e.jsx(j,{size:14,className:"text-amber-600"});default:return e.jsx($,{size:14,className:"text-slate-500"})}})(t.action)}),e.jsxs("div",{className:"bg-slate-50 rounded-xl p-3 border border-slate-100",children:[e.jsxs("div",{className:"flex justify-between items-start mb-1",children:[e.jsx("span",{className:"text-[10px] font-bold text-slate-700 uppercase tracking-wider",children:t.action}),e.jsx("span",{className:"text-[10px] text-slate-400",children:new Date(t.created_at).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]}),e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(j,{size:12,className:"text-slate-400"}),e.jsx("p",{className:"text-xs font-semibold text-slate-800",children:t.metadata?.signer_name||t.user||"System"})]}),e.jsxs("div",{className:"text-[10px] text-slate-400 pt-2 border-t border-slate-200/50 flex justify-between",children:[e.jsx("span",{children:new Date(t.created_at).toLocaleDateString()}),t.ip_address&&e.jsx("span",{className:"font-mono bg-white px-1 rounded border border-slate-100",children:t.ip_address})]})]})]},n))})}),e.jsx("div",{className:"p-3 bg-slate-50 text-center border-t border-slate-100",children:e.jsxs("p",{className:"text-[10px] text-slate-400 flex items-center justify-center gap-1",children:[e.jsx(d,{size:10})," End-to-End Encrypted Log"]})})]})]})})),Jx=vt.memo(({show:t,auditLogs:n})=>e.jsxs(a.aside,{initial:{width:0,opacity:0},animate:{width:t?320:0,opacity:t?1:0},transition:{duration:.3,ease:"anticipate"},className:"bg-white border-l border-slate-200 overflow-hidden hidden lg:flex flex-col shadow-xl z-20 relative",children:[e.jsx("div",{className:"p-5 border-b border-slate-100 bg-slate-50/50",children:e.jsxs("h3",{className:"font-bold text-slate-800 flex items-center gap-2 text-sm uppercase tracking-wide",children:[e.jsx(Qe,{size:16,className:"text-indigo-600"}),"Audit Log"]})}),e.jsx("div",{className:"flex-1 overflow-y-auto p-5 space-y-6",children:e.jsx("div",{className:"relative border-l-2 border-slate-100 ml-2.5",children:n.map((t,n)=>e.jsxs("div",{className:"relative pl-6 mb-6 last:mb-0",children:[e.jsx("div",{className:`absolute -left-[7px] top-0 w-4 h-4 rounded-full flex items-center justify-center ring-4 ring-white shadow-sm z-10 ${(e=>{switch(e){case"COMPLETED":return"bg-emerald-50 ring-emerald-100";case"SIGNED":return"bg-indigo-50 ring-indigo-100";case"VIEWED":return"bg-amber-50 ring-amber-100";default:return"bg-slate-50 ring-slate-100"}})(t.action)}`,children:(t=>{switch(t){case"COMPLETED":return e.jsx(f,{size:12,className:"text-emerald-600"});case"SIGNED":return e.jsx(P,{size:12,className:"text-indigo-600"});case"VIEWED":return e.jsx(j,{size:12,className:"text-amber-600"});default:return e.jsx($,{size:12,className:"text-slate-500"})}})(t.action)}),e.jsxs("div",{className:"bg-white rounded-lg border border-slate-100 p-3 shadow-sm hover:shadow-md transition-all hover:border-indigo-100 group",children:[e.jsxs("div",{className:"flex justify-between items-center mb-1",children:[e.jsx("span",{className:"text-[10px] font-bold text-slate-500 uppercase",children:t.action}),e.jsx("span",{className:"text-[10px] text-slate-400",children:new Date(t.created_at).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]}),e.jsx("div",{className:"text-xs font-semibold text-slate-700 mb-1.5 line-clamp-1",title:t.metadata?.signer_name,children:t.metadata?.signer_name||t.user||"System Action"}),e.jsxs("div",{className:"flex justify-between items-center pt-2 border-t border-slate-50",children:[e.jsx("span",{className:"text-[10px] text-slate-400",children:new Date(t.created_at).toLocaleDateString()}),t.ip_address&&e.jsx("span",{className:"text-[9px] font-mono text-slate-300",children:t.ip_address})]})]})]},n))})}),e.jsx("div",{className:"p-3 bg-slate-50 border-t border-slate-100 text-center",children:e.jsxs("p",{className:"text-[10px] text-slate-400 flex items-center justify-center gap-1",children:[e.jsx(d,{size:10})," Certified Immutable"]})})]}));Lt.workerSrc=Ix;const Zx=()=>{const{documentId:t}=Ct(),n=kt(),s=vt.useRef(null),[i,l]=vt.useState(null),[o,c]=vt.useState([]),[d,u]=vt.useState(!0),[h,m]=vt.useState(null),[p,f]=vt.useState(null),[x,g]=vt.useState(null),[v,w]=vt.useState(1),[j,N]=vt.useState(1),[k,S]=vt.useState(!1),[C,_]=vt.useState(!0),P="http://127.0.0.1:8000/api/v1"?.replace("/api/v1","")||"http://localhost:8000";vt.useEffect(()=>{const e=()=>{window.innerWidth<768?(N(.6),_(!1)):(N(1),_(!0))};return e(),window.addEventListener("resize",e),D(),()=>window.removeEventListener("resize",e)},[t]);const D=async()=>{u(!0),m(null);try{const e=await Jn.get(`/signatures/${t}/view-signed`),n=e.data.document;l(n),c(e.data.audit_logs||[]);const s=n.final_pdf_url||n.pdf_url;if(!s)return void m("PDF URL not available. Document may not have been completed yet.");f(s)}catch(e){m("Document not found or not completed yet.")}finally{u(!1)}};return d?e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-slate-50",children:e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx(y,{size:48,className:"text-indigo-600 animate-spin mb-4"}),e.jsx("p",{className:"text-slate-600 font-medium",children:"Retrieving secure document..."})]})}):h||!i?e.jsx("div",{className:"min-h-screen flex items-center justify-center p-4 bg-slate-50",children:e.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-xl max-w-md w-full text-center border border-slate-100",children:[e.jsx(b,{size:48,className:"text-red-500 mx-auto mb-4"}),e.jsx("h2",{className:"text-xl font-bold text-slate-800 mb-2",children:"Unavailable"}),e.jsx("p",{className:"text-slate-500 mb-6",children:h||"Document not found."}),e.jsx("button",{onClick:()=>n("/signatures/list"),className:"w-full py-3 bg-indigo-600 text-white rounded-xl font-semibold active:scale-95 transition-transform",children:"Go Back"})]})}):e.jsxs("div",{className:"h-[100dvh] bg-slate-100/50 flex flex-col font-sans overflow-hidden",children:[e.jsxs("header",{className:"bg-white/80 backdrop-blur-md h-14 md:h-16 border-b border-slate-200/60 px-4 md:px-6 flex items-center justify-between shadow-sm z-30 flex-shrink-0 relative",children:[e.jsxs("div",{className:"flex items-center gap-3 overflow-hidden",children:[e.jsx("button",{onClick:()=>n("/signatures/list"),className:"p-2 -ml-2 text-slate-500 hover:text-slate-800 hover:bg-slate-100 rounded-full transition-colors",children:e.jsx(F,{size:20})}),e.jsxs("div",{className:"flex flex-col min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("h1",{className:"font-bold text-slate-800 text-sm md:text-lg truncate max-w-[150px] md:max-w-xs leading-tight",children:i.name}),e.jsxs("div",{className:"hidden md:flex items-center gap-1 px-2 py-0.5 bg-emerald-50 border border-emerald-100 text-emerald-700 rounded-full text-[10px] font-bold uppercase tracking-wide",children:[e.jsx(r,{size:10,className:"fill-emerald-700"})," Verified"]})]}),e.jsxs("p",{className:"text-[10px] text-slate-400 md:hidden flex items-center gap-1",children:[e.jsx(r,{size:8,className:"text-emerald-500"}),"Signed & Verified"]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>S(!0),className:"md:hidden p-2 text-slate-500 active:bg-slate-100 rounded-xl",children:e.jsx(Qe,{size:20})}),e.jsxs("button",{onClick:()=>_(!C),className:"hidden lg:flex items-center gap-2 px-3 py-1.5 rounded-lg text-sm font-medium transition-all "+(C?"bg-indigo-50 text-indigo-700 ring-1 ring-indigo-200":"text-slate-600 hover:bg-slate-50 border border-slate-200"),children:[e.jsx(Qe,{size:16}),e.jsx("span",{className:"hidden xl:inline",children:C?"Hide Log":"Log"})]}),e.jsxs("button",{onClick:()=>{if(i?.final_pdf_url){const e=i.final_pdf_url.startsWith("http")?i.final_pdf_url:`${P}${i.final_pdf_url}`;window.location.href=e}},className:"flex items-center gap-2 px-4 py-2 bg-indigo-600 hover:bg-indigo-700 text-white text-xs md:text-sm font-semibold rounded-lg shadow-lg shadow-indigo-600/20 active:scale-95 transition-transform",children:[e.jsx(ge,{size:16}),e.jsx("span",{className:"hidden md:inline",children:"Download"})]})]})]}),e.jsxs("div",{className:"flex-1 flex overflow-hidden relative",children:[e.jsxs("div",{className:"w-64 bg-white border-r border-slate-200 overflow-y-auto hidden xl:block z-10 flex-col",children:[e.jsx("div",{className:"p-4 border-b border-slate-100 bg-slate-50/50 sticky top-0 backdrop-blur-sm z-10",children:e.jsxs("span",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider",children:[x," Pages"]})}),e.jsx("div",{className:"p-4 space-y-4",children:x&&Array.from({length:x},(t,n)=>e.jsx("button",{onClick:()=>{w(n+1),i.getElementById(`pdf-page-${n+1}`)?.scrollIntoView({behavior:"smooth"})},className:"w-full relative group transition-all "+(v===n+1?"ring-2 ring-indigo-500 rounded-lg scale-[1.02]":"hover:opacity-80"),children:e.jsxs("div",{className:"aspect-[3/4] bg-slate-100 rounded-lg overflow-hidden relative border border-slate-200",children:[p&&e.jsx(Bt,{file:p,className:"opacity-75 pointer-events-none",children:e.jsx(It,{pageNumber:n+1,width:200,renderTextLayer:!1,renderAnnotationLayer:!1})}),e.jsx("div",{className:"absolute bottom-1 right-1 bg-black/50 text-white text-[10px] px-1.5 rounded font-medium backdrop-blur-sm",children:n+1})]})},n))})]}),e.jsx("div",{ref:s,className:"flex-1 w-full overflow-y-auto overflow-x-hidden p-4 md:p-8 flex flex-col items-center bg-slate-100 scroll-smooth",onScroll:e=>{const t=e.target;t.clientHeight,t.scrollTop},children:p?e.jsx(Bt,{file:p,onLoadSuccess:({numPages:e})=>{g(e)},loading:e.jsx(y,{className:"animate-spin text-indigo-500 mt-20",size:32}),className:"flex flex-col items-center gap-4 md:gap-8 pb-32 w-full max-w-4xl mx-auto",children:x&&Array.from({length:x},(t,n)=>e.jsxs("div",{id:`pdf-page-${n+1}`,className:"relative shadow-xl shadow-slate-200/60 transition-transform duration-200 origin-top",style:{width:"fit-content"},children:[e.jsx(It,{pageNumber:n+1,scale:j,renderTextLayer:!0,renderAnnotationLayer:!1,className:"bg-white",width:window.innerWidth<768?window.innerWidth-32:800}),e.jsxs("div",{className:"absolute top-2 right-2 bg-black/30 text-white text-[10px] px-2 py-0.5 rounded-full backdrop-blur-md md:hidden",children:[n+1," / ",x]})]},`page-${n+1}`))}):e.jsx("div",{className:"text-slate-400 mt-20",children:"Document not loaded"})}),e.jsx("div",{className:"absolute bottom-6 left-1/2 -translate-x-1/2 z-30 flex items-center gap-2",children:e.jsxs(a.div,{initial:{y:50,opacity:0},animate:{y:0,opacity:1},className:"flex items-center gap-1 p-1.5 bg-slate-900/80 backdrop-blur-md text-white rounded-full shadow-2xl ring-1 ring-white/10",children:[e.jsx("button",{onClick:()=>N(e=>Math.max(.4,e-.1)),className:"p-2 hover:bg-white/10 rounded-full transition-colors",children:e.jsx(De,{size:18})}),e.jsxs("span",{className:"w-10 text-center text-xs font-mono font-bold",children:[Math.round(100*j),"%"]}),e.jsx("button",{onClick:()=>N(e=>Math.min(2,e+.1)),className:"p-2 hover:bg-white/10 rounded-full transition-colors",children:e.jsx(Te,{size:18})})]})}),e.jsx(Jx,{show:C,auditLogs:o})]}),e.jsx(Kx,{show:k,onClose:()=>S(!1),auditLogs:o})]})};function eg(e,t=2){if(!+e)return"0 Bytes";const n=t<0?0:t,s=Math.floor(Math.log(e)/Math.log(1024));return`${parseFloat((e/Math.pow(1024,s)).toFixed(n))} ${["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"][s]}`}const tg=({node:t,viewMode:n,onNavigate:s,onPreview:a,onContextMenu:r,onDownload:i,isSelected:o,onSelect:c,onDragStart:d,onDrop:u})=>{const h=()=>{if("folder"===t.type)return e.jsx(q,{className:"text-indigo-500 fill-indigo-500/20",size:"grid"===n?56:24,strokeWidth:1.5});const s=t.mime_type||"";return s.startsWith("image/")?e.jsx(je,{className:"text-purple-500",size:"grid"===n?56:24,strokeWidth:1.5}):"application/pdf"===s||s.includes("document")?e.jsx(l,{className:"text-red-500",size:"grid"===n?56:24,strokeWidth:1.5}):e.jsx(Ze,{className:"text-slate-400",size:"grid"===n?56:24,strokeWidth:1.5})},m=e=>{if(e.ctrlKey||e.metaKey||e.shiftKey)return e.preventDefault(),e.stopPropagation(),void c(t,e);"folder"===t.type?s(t):a(t)},p=e=>{e.dataTransfer.setData("application/json",JSON.stringify(t)),e.dataTransfer.effectAllowed="move",d?.(t)},f=e=>{"folder"===t.type&&(e.preventDefault(),e.currentTarget.classList.add("bg-indigo-50","border-indigo-300"))},x=e=>{"folder"===t.type&&e.currentTarget.classList.remove("bg-indigo-50","border-indigo-300")},g=e=>{if("folder"===t.type){e.preventDefault(),e.stopPropagation(),e.currentTarget.classList.remove("bg-indigo-50","border-indigo-300");try{const n=JSON.parse(e.dataTransfer.getData("application/json"));n.id!==t.id&&u(n,t)}catch(n){}}},b=e=>{e.preventDefault(),r(e,t)},v=e=>{e.stopPropagation(),r(e,t)};return"grid"===n?e.jsxs("div",{onClick:m,onContextMenu:b,draggable:!0,onDragStart:p,onDragOver:f,onDragLeave:x,onDrop:g,className:`group relative bg-white rounded-2xl p-4 transition-all cursor-pointer border\n                    ${o?"border-indigo-500 shadow-[0_0_0_2px_rgba(99,102,241,0.2)] bg-indigo-50/10":"border-slate-200 hover:border-indigo-300 hover:shadow-xl hover:-translate-y-1"}\n                `,children:[o&&e.jsx("div",{className:"absolute top-3 left-3 w-3 h-3 bg-indigo-500 rounded-full shadow-sm"}),e.jsx("div",{className:"absolute top-3 right-3 opacity-0 group-hover:opacity-100 transition-opacity flex gap-1 z-10",children:e.jsx("button",{onClick:v,className:"p-1.5 bg-white/90 backdrop-blur hover:bg-indigo-50 rounded-lg shadow-sm border border-slate-200 text-slate-600 hover:text-indigo-600 transition-colors",title:"More actions",children:e.jsx(Ve,{size:14})})}),e.jsxs("div",{className:"flex flex-col items-center text-center mt-2",children:[e.jsx("div",{className:"mb-4 drop-shadow-sm transform transition-transform group-hover:scale-110 duration-300",children:h()}),e.jsx("p",{className:"text-sm font-semibold text-slate-700 truncate w-full px-2",title:t.name,children:t.name}),"file"===t.type&&e.jsx("p",{className:"text-xs text-slate-400 mt-1 font-medium",children:eg(t.size)})]})]}):e.jsxs("div",{onClick:m,onContextMenu:b,draggable:!0,onDragStart:p,onDragOver:f,onDragLeave:x,onDrop:g,className:`group flex items-center justify-between px-6 py-4 hover:bg-slate-50 transition-colors cursor-pointer border-b border-slate-100 last:border-0\n                ${o?"bg-indigo-50/30":""}\n            `,children:[e.jsxs("div",{className:"flex items-center gap-4 flex-1 min-w-0",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 flex items-center justify-center bg-slate-50 rounded-lg border border-slate-100 group-hover:border-indigo-100 group-hover:bg-white transition-colors",children:h()}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm font-medium truncate "+(o?"text-indigo-700":"text-slate-700"),children:t.name}),e.jsxs("div",{className:"flex items-center gap-2 mt-0.5",children:[e.jsx("p",{className:"text-xs text-slate-400 capitalize bg-slate-100 px-1.5 py-0.5 rounded-md",children:t.type}),o&&e.jsx("span",{className:"text-xs text-indigo-500 font-medium",children:"Selected"})]})]})]}),e.jsxs("div",{className:"flex items-center gap-8",children:[e.jsx("div",{className:"text-sm text-slate-500 hidden md:block w-24 text-right",children:"file"===t.type?eg(t.size):"--"}),e.jsx("div",{className:"text-sm text-slate-500 hidden lg:block w-32 text-right",children:new Date(t.updated_at).toLocaleDateString()}),e.jsxs("div",{className:"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity w-20 justify-end",children:["file"===t.type&&e.jsx("button",{onClick:e=>{e.stopPropagation(),i(t)},className:"p-2 hover:bg-slate-200 rounded-lg text-slate-500 hover:text-indigo-600 transition-colors",title:"Download",children:e.jsx(ge,{size:16})}),e.jsx("button",{onClick:v,className:"p-2 hover:bg-slate-200 rounded-lg text-slate-500 hover:text-indigo-600 transition-colors",title:"More actions",children:e.jsx(Ve,{size:16})})]})]})]})},ng=({node:n,onClose:s})=>{if(!n)return null;const a=n.mime_type?.startsWith("image/"),r="application/pdf"===n.mime_type,i=`/api/v1/drive/nodes/${n.id}/preview`;return e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm p-4",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-5xl max-h-[90vh] flex flex-col overflow-hidden",children:[e.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-slate-200",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h3",{className:"text-lg font-semibold text-slate-800 truncate",children:n.name}),e.jsx("p",{className:"text-sm text-slate-500",children:n.mime_type||"Unknown type"})]}),e.jsxs("div",{className:"flex items-center gap-2 ml-4",children:[e.jsx("a",{href:i,download:!0,className:"p-2 hover:bg-slate-100 rounded-lg text-slate-600 transition-colors",title:"Download",children:e.jsx(ge,{size:20})}),e.jsx("button",{onClick:s,className:"p-2 hover:bg-slate-100 rounded-lg text-slate-600 transition-colors",children:e.jsx(t,{size:20})})]})]}),e.jsx("div",{className:"flex-1 overflow-auto bg-slate-50 flex items-center justify-center p-6",children:a?e.jsx("img",{src:i,alt:n.name,className:"max-w-full max-h-full object-contain rounded-lg shadow-lg"}):r?e.jsx("iframe",{src:i,className:"w-full h-full min-h-[600px] rounded-lg shadow-lg bg-white",title:n.name}):e.jsxs("div",{className:"text-center",children:[e.jsx(et,{className:"mx-auto text-slate-300 mb-4",size:48}),e.jsx("p",{className:"text-slate-600 font-medium mb-2",children:"Preview not available"}),e.jsx("p",{className:"text-sm text-slate-500 mb-4",children:"This file type cannot be previewed in the browser"}),e.jsxs("a",{href:i,download:!0,className:"inline-flex items-center gap-2 px-4 py-2 bg-indigo-600 hover:bg-indigo-700 text-white rounded-lg font-medium transition-colors",children:[e.jsx(ge,{size:18}),"Download File"]})]})})]})})},sg=({x:t,y:n,node:s,isBackground:a,onClose:r,onRename:i,onDownload:l,onDelete:o,onMove:c,onCut:d,onCopy:u,onPaste:h,onCreateFolder:m,onUpload:f,onRefresh:x,clipboardState:g,onAddToFavorites:b,isFavorite:v})=>{const y=vt.useRef(null);if(vt.useEffect(()=>{const e=e=>{y.current&&!y.current.contains(e.target)&&r()},t=e=>{"Escape"===e.key&&r()},n=e=>{y.current&&y.current.contains(e.target)&&e.preventDefault()};return document.addEventListener("mousedown",e),document.addEventListener("keydown",t),document.addEventListener("contextmenu",n),()=>{document.removeEventListener("mousedown",e),document.removeEventListener("keydown",t),document.removeEventListener("contextmenu",n)}},[r]),a)return e.jsxs("div",{ref:y,className:"fixed bg-white/95 backdrop-blur-sm rounded-xl shadow-2xl border border-slate-100 py-2 z-50 min-w-[220px] animate-in fade-in zoom-in-95 duration-100",style:{top:`${n}px`,left:`${t}px`},children:[e.jsxs("div",{className:"px-2",children:[e.jsxs("button",{onClick:()=>{m(),r()},className:"w-full flex items-center gap-3 px-3 py-2 text-sm text-slate-700 hover:bg-slate-100 rounded-lg transition-colors group",children:[e.jsx(tt,{size:16,className:"text-slate-400 group-hover:text-indigo-600"}),e.jsx("span",{className:"font-medium",children:"New Folder"})]}),e.jsxs("button",{onClick:()=>{f(),r()},className:"w-full flex items-center gap-3 px-3 py-2 text-sm text-slate-700 hover:bg-slate-100 rounded-lg transition-colors group",children:[e.jsx(E,{size:16,className:"text-slate-400 group-hover:text-indigo-600"}),e.jsx("span",{className:"font-medium",children:"Upload File"})]})]}),e.jsx("div",{className:"h-px bg-slate-100 my-1 mx-2"}),e.jsxs("div",{className:"px-2",children:[g&&e.jsxs("button",{onClick:()=>{h(null),r()},className:"w-full flex items-center justify-between gap-3 px-3 py-2 text-sm transition-colors text-indigo-600 hover:bg-indigo-50 font-medium rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(nt,{size:16}),e.jsxs("span",{children:["Paste ","cut"===g.operation?"(Move)":"(Copy)"]})]}),e.jsx("span",{className:"text-xs opacity-60",children:"Ctrl+V"})]}),e.jsxs("button",{onClick:()=>{x?.(),r()},className:"w-full flex items-center gap-3 px-3 py-2 text-sm text-slate-700 hover:bg-slate-100 rounded-lg transition-colors group",children:[e.jsx(Ke,{size:16,className:"text-slate-400 group-hover:text-indigo-600"}),e.jsx("span",{className:"font-medium",children:"Refresh"})]})]})]});const w=[{icon:p,label:v?"Remove from Favorites":"Add to Favorites",action:()=>{b?.(s),r()},highlight:v},{icon:ve,label:"Share",action:()=>{r()},disabled:!0},{type:"separator"},..."file"===s.type?[{icon:ge,label:"Download",action:()=>{l(s),r()}}]:[],{icon:pe,label:"Rename",action:()=>{i(s),r()}},{type:"separator"},{icon:st,label:"Cut",action:()=>{d(s),r()},shortcut:"Ctrl+X"},{icon:at,label:"Copy",action:()=>{u(s),r()},shortcut:"Ctrl+C"},...g?[{icon:nt,label:"Paste "+("cut"===g.operation?"(Move)":"(Copy)"),action:()=>{h(s),r()},shortcut:"Ctrl+V",highlight:!0}]:[],{type:"separator"},{icon:rt,label:"Move to...",action:()=>{c(s),r()}},{icon:te,label:"Delete",action:()=>{o(s),r()},danger:!0}];return e.jsx("div",{ref:y,className:"fixed bg-white/95 backdrop-blur-sm rounded-xl shadow-2xl border border-slate-100 py-2 z-50 min-w-[220px] animate-in fade-in zoom-in-95 duration-100",style:{top:`${n}px`,left:`${t}px`},children:w.map((t,n)=>"separator"===t.type?e.jsx("div",{className:"h-px bg-slate-100 my-1 mx-2"},n):e.jsx("div",{className:"px-2",children:e.jsxs("button",{onClick:t.action,disabled:t.disabled,className:`w-full flex items-center justify-between gap-3 px-3 py-2 text-sm transition-colors rounded-lg group\n                                ${t.disabled?"opacity-50 cursor-not-allowed":""}\n                                ${!t.disabled&&t.danger?"text-red-600 hover:bg-red-50":!t.disabled&&t.highlight?"text-indigo-600 hover:bg-indigo-50 font-medium":t.disabled?"":"text-slate-700 hover:bg-slate-100"}`,children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(t.icon,{size:16,className:t.danger?"text-red-500":"text-slate-400 group-hover:text-indigo-500"}),e.jsx("span",{className:"font-medium",children:t.label})]}),t.shortcut&&e.jsx("span",{className:"text-xs text-slate-400",children:t.shortcut})]})},n))})},ag=({node:n,onClose:s,onConfirm:a})=>{const[r,i]=vt.useState(n.name);return e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-md p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("h3",{className:"text-lg font-semibold text-slate-800",children:["Rename ",n.type]}),e.jsx("button",{onClick:s,className:"p-1 hover:bg-slate-100 rounded-lg transition-colors",children:e.jsx(t,{size:20,className:"text-slate-500"})})]}),e.jsxs("form",{onSubmit:e=>{e.preventDefault(),r.trim()&&r!==n.name&&a(n.id,r.trim()),s()},children:[e.jsx("input",{type:"text",value:r,onChange:e=>i(e.target.value),className:"w-full px-4 py-3 bg-slate-50 border border-slate-200 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-all",placeholder:"Enter new name",autoFocus:!0,onFocus:e=>{const t=e.target.value.lastIndexOf(".");t>0&&"file"===n.type?e.target.setSelectionRange(0,t):e.target.select()}}),e.jsxs("div",{className:"flex items-center gap-3 mt-6",children:[e.jsx("button",{type:"button",onClick:s,className:"flex-1 px-4 py-2.5 bg-slate-100 hover:bg-slate-200 text-slate-700 rounded-lg font-medium transition-colors",children:"Cancel"}),e.jsx("button",{type:"submit",disabled:!r.trim()||r===n.name,className:"flex-1 px-4 py-2.5 bg-indigo-600 hover:bg-indigo-700 text-white rounded-lg font-medium transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Rename"})]})]})]})})},rg=({onClose:n,onConfirm:s,parentFolder:a=null})=>{const[r,i]=vt.useState(""),[l,o]=vt.useState("");return e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-md p-6 animate-in fade-in zoom-in duration-200",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-indigo-100 rounded-lg",children:e.jsx(tt,{className:"text-indigo-600",size:24})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-slate-800",children:"Create New Folder"}),a&&e.jsxs("p",{className:"text-sm text-slate-500",children:["in ",a]})]})]}),e.jsx("button",{onClick:n,className:"p-1 hover:bg-slate-100 rounded-lg transition-colors",children:e.jsx(t,{size:20,className:"text-slate-500"})})]}),e.jsxs("form",{onSubmit:e=>{e.preventDefault(),r.trim()?r.includes("/")||r.includes("\\")?o("Folder name cannot contain / or \\"):(s(r.trim()),n()):o("Folder name cannot be empty")},children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Folder Name"}),e.jsx("input",{type:"text",value:r,onChange:e=>{i(e.target.value),o("")},className:`w-full px-4 py-3 bg-slate-50 border ${l?"border-red-300 focus:ring-red-500":"border-slate-200 focus:ring-indigo-500"} rounded-lg focus:ring-2 focus:border-transparent transition-all`,placeholder:"Enter folder name",autoFocus:!0}),l&&e.jsx("p",{className:"mt-2 text-sm text-red-600",children:l})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("button",{type:"button",onClick:n,className:"flex-1 px-4 py-2.5 bg-slate-100 hover:bg-slate-200 text-slate-700 rounded-lg font-medium transition-colors",children:"Cancel"}),e.jsx("button",{type:"submit",disabled:!r.trim(),className:"flex-1 px-4 py-2.5 bg-indigo-600 hover:bg-indigo-700 text-white rounded-lg font-medium transition-colors disabled:opacity-50 disabled:cursor-not-allowed shadow-lg shadow-indigo-500/20",children:"Create Folder"})]})]})]})})},ig=({currentView:t,onViewChange:n,onUploadClick:s,onCreateFolderClick:r,storageUsed:i=75})=>{const l=[{id:"root",icon:it,label:"My Files"},{id:"recent",icon:$,label:"Recent"},{id:"favorites",icon:p,label:"Favorites"},{id:"trash",icon:te,label:"Trash"}];return e.jsxs("div",{className:"w-64 bg-slate-50 border-r border-slate-200 flex flex-col h-full flex-shrink-0",children:[e.jsx("div",{className:"p-4",children:e.jsxs("button",{onClick:s,className:"w-full bg-indigo-600 hover:bg-indigo-700 text-white rounded-xl py-3 px-4 flex items-center justify-center gap-2 font-medium shadow-lg shadow-indigo-500/20 transition-all hover:scale-[1.02] active:scale-[0.98]",children:[e.jsx(ne,{size:20}),e.jsx("span",{children:"New Upload"})]})}),e.jsx("nav",{className:"flex-1 px-3 space-y-1 overflow-y-auto",children:l.map(s=>e.jsxs("button",{onClick:()=>n(s.id),className:"w-full flex items-center gap-3 px-4 py-3 rounded-xl text-sm font-medium transition-all\n                            "+(t===s.id?"bg-indigo-50 text-indigo-700 shadow-sm":"text-slate-600 hover:bg-slate-100 hover:text-slate-900"),children:[e.jsx(s.icon,{size:20,className:t===s.id?"text-indigo-600":"text-slate-400"}),s.label]},s.id))}),e.jsxs("div",{className:"p-4 mt-auto border-t border-slate-200 bg-white",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2 text-slate-700 font-medium text-sm",children:[e.jsx(lt,{size:16,className:"text-indigo-500"}),e.jsx("span",{children:"Storage"})]}),e.jsx("div",{className:"w-full bg-slate-100 rounded-full h-2 overflow-hidden mb-2",children:e.jsx(a.div,{initial:{width:0},animate:{width:`${i}%`},className:"h-full bg-gradient-to-r from-indigo-500 to-purple-500 rounded-full"})}),e.jsxs("p",{className:"text-xs text-slate-500 flex justify-between",children:[e.jsxs("span",{children:[i,"% used"]}),e.jsx("span",{children:"100 GB total"})]})]})]})},lg=({items:t,onNavigate:n})=>e.jsxs("nav",{className:"flex items-center space-x-1 text-sm text-slate-500 overflow-x-auto scrollbar-none pb-2",children:[e.jsxs("button",{onClick:()=>n(null),className:"flex items-center hover:text-indigo-600 transition-colors "+(0===t.length?"font-semibold text-slate-800":""),children:[e.jsx(ot,{size:16}),e.jsx("span",{className:"ml-1",children:"Home"})]}),t.map((s,a)=>{const r=a===t.length-1;return e.jsxs(yt.Fragment,{children:[e.jsx(M,{size:14,className:"text-slate-400 shrink-0"}),e.jsx("button",{onClick:()=>!r&&n(s),disabled:r,className:"whitespace-nowrap hover:text-indigo-600 transition-colors "+(r?"font-semibold text-slate-800 cursor-default hover:text-slate-800":""),children:s.name})]},s.id)})]}),og=({title:t,breadcrumbs:n,onNavigate:s,viewMode:a,setViewMode:r,searchQuery:i,setSearchQuery:l,sortBy:o,setSortBy:c,sortOrder:d,setSortOrder:u,filterType:h,setFilterType:m})=>e.jsx("div",{className:"sticky top-0 z-10 bg-white/80 backdrop-blur-md border-b border-slate-200 px-6 py-4",children:e.jsxs("div",{className:"flex flex-col gap-4",children:[e.jsxs("div",{className:"flex items-center justify-between gap-4",children:[e.jsxs("div",{className:"flex items-center gap-4 min-w-0",children:[e.jsx("h1",{className:"text-xl font-bold text-slate-800 shrink-0 hidden md:block",children:t||"My Drive"}),e.jsx("div",{className:"hidden md:block w-px h-6 bg-slate-300 mx-2"}),e.jsx(lg,{items:n,onNavigate:s})]}),e.jsx("div",{className:"flex items-center gap-3 flex-1 justify-end max-w-xl",children:e.jsxs("div",{className:"relative flex-1 group",children:[e.jsx(K,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400 group-focus-within:text-indigo-500 transition-colors",size:18}),e.jsx("input",{type:"text",placeholder:"Search in Drive...",value:i,onChange:e=>l(e.target.value),className:"w-full pl-10 pr-4 py-2.5 bg-slate-100 hover:bg-slate-50 focus:bg-white border text-sm border-transparent focus:border-indigo-500 rounded-xl transition-all outline-none shadow-sm focus:shadow-md focus:ring-4 focus:ring-indigo-500/10 placeholder:text-slate-400"})]})})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("div",{className:"relative group",children:[e.jsxs("button",{className:"flex items-center gap-2 px-3 py-1.5 text-sm font-medium text-slate-600 hover:text-slate-900 hover:bg-slate-100 rounded-lg transition-colors border border-transparent hover:border-slate-200",children:[e.jsx(ct,{size:16}),e.jsxs("span",{children:["Sort by: ","name"===o?"Name":"date"===o?"Date":"Size"]}),e.jsx(g,{size:14,className:"text-slate-400"})]}),e.jsx("div",{className:"absolute top-full left-0 mt-1 w-48 bg-white rounded-xl shadow-xl border border-slate-100 overflow-hidden hidden group-hover:block transition-all z-20",children:e.jsxs("div",{className:"p-1",children:[[{label:"Name",value:"name"},{label:"Date Modified",value:"date"},{label:"File Size",value:"size"}].map(t=>e.jsxs("button",{onClick:()=>c(t.value),className:"w-full text-left px-3 py-2 text-sm rounded-lg flex items-center justify-between "+(o===t.value?"bg-indigo-50 text-indigo-600":"hover:bg-slate-50 text-slate-700"),children:[t.label,o===t.value&&e.jsx("span",{className:"text-xs font-semibold",children:"asc"===d?"":""})]},t.value)),e.jsx("div",{className:"h-px bg-slate-100 my-1"}),e.jsxs("button",{onClick:()=>u("asc"===d?"desc":"asc"),className:"w-full text-left px-3 py-2 text-sm rounded-lg hover:bg-slate-50 text-slate-700 flex items-center gap-2",children:[e.jsx(ct,{size:14}),"asc"===d?"Ascending":"Descending"]})]})})]}),e.jsxs("div",{className:"relative group",children:[e.jsxs("button",{className:"flex items-center gap-2 px-3 py-1.5 text-sm font-medium rounded-lg transition-colors border border-transparent \n                                "+("all"!==h?"bg-indigo-50 text-indigo-600 border-indigo-100":"text-slate-600 hover:text-slate-900 hover:bg-slate-100 hover:border-slate-200"),children:[e.jsx(qe,{size:16}),e.jsx("span",{children:"all"===h?"Type":h.charAt(0).toUpperCase()+h.slice(1)}),e.jsx(g,{size:14,className:"all"!==h?"text-indigo-400":"text-slate-400"})]}),e.jsx("div",{className:"absolute top-full left-0 mt-1 w-48 bg-white rounded-xl shadow-xl border border-slate-100 overflow-hidden hidden group-hover:block transition-all z-20",children:e.jsx("div",{className:"p-1",children:[{label:"All Files",value:"all"},{label:"Folders",value:"folder"},{label:"Documents",value:"document"},{label:"Images",value:"image"}].map(t=>e.jsxs("button",{onClick:()=>m(t.value),className:"w-full text-left px-3 py-2 text-sm rounded-lg flex items-center justify-between "+(h===t.value?"bg-indigo-50 text-indigo-600":"hover:bg-slate-50 text-slate-700"),children:[t.label,h===t.value&&e.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-indigo-500"})]},t.value))})})]})]}),e.jsxs("div",{className:"flex bg-slate-100 p-1 rounded-lg border border-slate-200",children:[e.jsx("button",{onClick:()=>r("grid"),className:"p-1.5 rounded-md transition-all "+("grid"===a?"bg-white shadow-sm text-indigo-600":"text-slate-500 hover:text-indigo-600"),title:"Grid View",children:e.jsx(Be,{size:18})}),e.jsx("button",{onClick:()=>r("list"),className:"p-1.5 rounded-md transition-all "+("list"===a?"bg-white shadow-sm text-indigo-600":"text-slate-500 hover:text-indigo-600"),title:"List View",children:e.jsx(Re,{size:18})})]})]})]})}),cg=()=>{const{nodes:t,breadcrumbs:n,loading:s,viewMode:a,currentView:r,searchQuery:i,sortBy:l,sortOrder:o,filterType:c,selectedNodes:d,clipboard:u,setViewMode:h,setCurrentView:m,setSearchQuery:p,setSortBy:f,setSortOrder:x,setFilterType:g,onNavigate:b,onFileUpload:v,onCreateFolder:w,onRename:j,onDelete:N,onPaste:k,onMove:S,onSelect:C,onAddToRecent:_,onToggleFavorite:P,fetchNodes:D,favorites:T,onCut:E,onCopy:z}=(()=>{const e=kt(),[t,n]=vt.useState([]),[s,a]=vt.useState([]),[r,i]=vt.useState(!0),[l,o]=vt.useState("grid"),[c,d]=vt.useState(null),[u,h]=vt.useState(""),[m,p]=vt.useState(!1),[f,x]=vt.useState("root"),[g,b]=vt.useState("name"),[v,y]=vt.useState("asc"),[w,j]=vt.useState("all"),[N,k]=vt.useState(new Set),[S,C]=vt.useState(null),[_,P]=vt.useState(()=>{try{const e=localStorage.getItem("drive_favorites");return e?new Set(JSON.parse(e)):new Set}catch{return new Set}}),[D,T]=vt.useState(()=>{try{const e=localStorage.getItem("drive_recent");return e?JSON.parse(e):[]}catch{return[]}});vt.useEffect(()=>{localStorage.setItem("drive_favorites",JSON.stringify([..._]))},[_]),vt.useEffect(()=>{localStorage.setItem("drive_recent",JSON.stringify(D))},[D]);const E=vt.useCallback(async(e=null)=>{i(!0);try{const t=e?`/drive/nodes?parent_id=${e}`:"/drive/nodes",s=await Jn.get(t);n(s.data.nodes||[]),a(s.data.breadcrumbs||[])}catch(t){Ot.error("Failed to load files")}finally{i(!1)}},[]);vt.useEffect(()=>{"root"===f?E(c):"trash"===f?e("/drive/trash"):E(null)},[c,f,E,e]);const z=vt.useMemo(()=>{let e=[...t];if(u&&(e=e.filter(e=>e.name.toLowerCase().includes(u.toLowerCase()))),"recent"===f)e=[...D];else if("favorites"===f){const n=[...t,...D];e=Array.from(new Map(n.map(e=>[e.id,e])).values()).filter(e=>_.has(e.id))}return"all"!==w&&(e=e.filter(e=>"folder"===w?"folder"===e.type:"image"===w?e.mime_type?.startsWith("image/"):"document"!==w||"application/pdf"===e.mime_type||e.mime_type?.includes("document")||e.mime_type?.includes("text"))),e.sort((e,t)=>{let n=0;return"name"===g?n=e.name.localeCompare(t.name):"size"===g?n=(e.size||0)-(t.size||0):"date"===g&&(n=new Date(e.updated_at)-new Date(t.updated_at)),"asc"===v?n:-n}),e},[t,u,f,g,v,w,D,_]);return{nodes:z,originalNodes:t,breadcrumbs:s,loading:r,uploading:m,viewMode:l,currentView:f,parentId:c,searchQuery:u,sortBy:g,sortOrder:v,filterType:w,selectedNodes:N,clipboard:S,favorites:_,setViewMode:o,setCurrentView:x,setSearchQuery:h,setSortBy:b,setSortOrder:y,setFilterType:j,setSelectedNodes:k,setClipboard:C,setParentId:d,fetchNodes:E,onNavigate:e=>{d(e?e.id:null),k(new Set)},onFileUpload:async e=>{if(!e||0===e.length)return;p(!0);const t=Array.from(e).map(async e=>{const t=new FormData;t.append("file",e),t.append("type","file"),c&&t.append("parent_id",c);try{return await Jn.post("/drive/nodes",t,{headers:{"Content-Type":"multipart/form-data"}}),{success:!0,name:e.name}}catch(n){return{success:!1,name:e.name}}}),n=await Promise.all(t),s=n.filter(e=>e.success).length,a=n.filter(e=>!e.success).length;s>0&&(Ot.success(`${s} file(s) uploaded`),E(c)),a>0&&Ot.error(`${a} file(s) failed`),p(!1)},onCreateFolder:async e=>{try{await Jn.post("/drive/nodes",{type:"folder",name:e,parent_id:c}),Ot.success("Folder created"),E(c)}catch(t){Ot.error("Failed to create folder")}},onRename:async(e,t)=>{try{await Jn.patch(`/drive/nodes/${e}/rename`,{name:t}),Ot.success("Item renamed"),E(c)}catch(n){Ot.error("Failed to rename item")}},onDelete:async e=>{try{if(await Jn.delete(`/drive/nodes/${e.id}`),Ot.success("Item moved to trash"),E(c),N.has(e.id)){const t=new Set(N);t.delete(e.id),k(t)}}catch(t){Ot.error("Failed to delete item")}},onPaste:async e=>{if(!S)return;const t="folder"===e?.type?e.id:c;try{"cut"===S.operation?(await Jn.patch(`/drive/nodes/${S.node.id}/move`,{parent_id:t}),Ot.success("Moved successfully"),C(null)):(await Jn.post(`/drive/nodes/${S.node.id}/copy`,{parent_id:t}),Ot.success("Copied successfully")),E(c)}catch(n){Ot.error("Failed to paste item")}},onMove:(e,t)=>Jn.patch(`/drive/nodes/${e.id}/move`,{parent_id:t.id}).then(()=>{Ot.success(`Moved "${e.name}" to "${t.name}"`),E(c)}).catch(e=>{Ot.error("Failed to move item")}),onSelect:(e,t)=>{const n=new Set(N);t.ctrlKey||t.metaKey||t.shiftKey&&z.length>0?n.has(e.id)?n.delete(e.id):n.add(e.id):(n.clear(),n.add(e.id)),k(n)},onAddToRecent:e=>{T(t=>{const n=t.filter(t=>t.id!==e.id);return[e,...n].slice(0,50)})},onToggleFavorite:e=>{const t=new Set(_);t.has(e.id)?(t.delete(e.id),Ot.success("Removed from favorites")):(t.add(e.id),Ot.success("Added to favorites")),P(t)},onCut:e=>{C({node:e,operation:"cut"}),Ot.success(`"${e.name}" ready to move`)},onCopy:e=>{C({node:e,operation:"copy"}),Ot.success(`"${e.name}" copied to clipboard`)}}})(),[M,R]=vt.useState(null),[A,O]=vt.useState(null),[F,I]=vt.useState(null),[L,B]=vt.useState(!1),[$,W]=vt.useState(!1),H=vt.useRef(null),U=vt.useRef(null),V=vt.useRef(0);vt.useEffect(()=>{const e=e=>{"INPUT"!==e.target.tagName&&"TEXTAREA"!==e.target.tagName&&(e.ctrlKey&&"x"===e.key&&A?.node&&(e.preventDefault(),E(A.node)),e.ctrlKey&&"c"===e.key&&A?.node&&(e.preventDefault(),z(A.node)),e.ctrlKey&&"v"===e.key&&u&&(e.preventDefault(),k(null)),"Delete"===e.key&&A?.node&&(e.preventDefault(),N(A.node)))};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)},[A,u,E,z,k,N]);const q=e=>{"file"===e.type&&(R(e),_(e))},Y=(e,t)=>{e.preventDefault(),O({x:e.clientX,y:e.clientY,node:t})},G=e=>{e.preventDefault(),e.stopPropagation(),e.dataTransfer.types&&Array.from(e.dataTransfer.types).includes("Files")&&("dragenter"===e.type||"dragover"===e.type?("dragenter"===e.type&&(V.current+=1),W(!0)):"dragleave"===e.type&&(V.current-=1,0===V.current&&W(!1)))},X=e=>{const t=document.createElement("a");t.href=`/ api / v1 / drive / nodes / ${e.id}/preview`,t.download=e.name,document.body.appendChild(t),t.click(),document.body.removeChild(t),Ot.success("Download started")};return e.jsxs("div",{className:"flex h-full bg-slate-50 overflow-hidden relative",onDragEnter:G,onDragLeave:G,onDragOver:G,onDrop:e=>{e.preventDefault(),e.stopPropagation(),W(!1),V.current=0,e.dataTransfer.files&&e.dataTransfer.files.length>0&&v(e.dataTransfer.files)},children:[$&&e.jsx("div",{className:"absolute inset-0 z-50 bg-indigo-500/10 backdrop-blur-sm flex items-center justify-center pointer-events-none animate-in fade-in duration-200",children:e.jsxs("div",{className:"bg-white rounded-3xl shadow-2xl p-10 border-4 border-dashed border-indigo-500 transform scale-100 transition-transform",children:[e.jsx(Ge,{size:64,className:"mx-auto text-indigo-500 mb-4"}),e.jsx("p",{className:"text-2xl font-bold text-slate-800 text-center",children:"Drop files to upload"})]})}),e.jsx(ig,{currentView:r,onViewChange:e=>{m(e)},onUploadClick:()=>H.current?.click(),onCreateFolderClick:()=>B(!0)}),e.jsxs("div",{className:"flex-1 flex flex-col h-full min-w-0 bg-white/50 relative",children:[e.jsx(og,{title:(()=>{switch(r){case"recent":return"Recent Files";case"favorites":return"Favorites";case"trash":return"Trash";default:return"My Drive"}})(),breadcrumbs:"root"===r?n.slice(1):[],onNavigate:b,viewMode:a,setViewMode:h,searchQuery:i,setSearchQuery:p,sortBy:l,setSortBy:f,sortOrder:o,setSortOrder:x,filterType:c,setFilterType:g}),e.jsx("div",{className:"flex-1 overflow-y-auto p-6 scroll-smooth",ref:U,onContextMenu:e=>{e.target.closest(".node-item")||(e.preventDefault(),O({x:e.clientX,y:e.clientY,node:null,isBackground:!0}))},onClick:e=>{e.ctrlKey||e.metaKey||e.shiftKey||C({id:"clear"},{...e,ctrlKey:!1,metaKey:!1,shiftKey:!1})},children:s?e.jsxs("div",{className:"flex flex-col items-center justify-center h-[60vh]",children:[e.jsx(y,{className:"animate-spin text-indigo-500 mb-4",size:48}),e.jsx("p",{className:"text-slate-400 font-medium",children:"Loading your files..."})]}):0===t.length?e.jsxs("div",{className:"flex flex-col items-center justify-center h-[60vh] text-slate-400",children:[e.jsx("div",{className:"w-24 h-24 bg-slate-100 rounded-3xl flex items-center justify-center mb-6 shadow-inner",children:e.jsx(tt,{size:48,className:"text-slate-300"})}),e.jsx("p",{className:"text-xl font-bold text-slate-600",children:i?"No results found":"This folder is empty"}),e.jsx("p",{className:"text-slate-500 mt-2 max-w-xs text-center",children:i?`No files match "${i}"`:"Upload files or create a new folder to get started"}),!i&&e.jsx("button",{onClick:()=>H.current?.click(),className:"mt-6 text-indigo-600 font-medium hover:underline",children:"Upload a file"})]}):e.jsx("div",{className:"grid"===a?"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6 2xl:grid-cols-8 gap-6 pb-20":"flex flex-col bg-white rounded-xl border border-slate-200 shadow-sm overflow-hidden pb-20",children:t.map(t=>e.jsx("div",{className:"node-item",children:e.jsx(tg,{node:t,viewMode:a,onNavigate:b,onPreview:q,onContextMenu:Y,onDownload:X,isSelected:d.has(t.id),onSelect:C,onDragStart:()=>{},onDrop:S})},t.id))})})]}),e.jsx("input",{type:"file",ref:H,onChange:e=>v(e.target.files),className:"hidden",multiple:!0}),M&&e.jsx(ng,{node:M,onClose:()=>R(null)}),A&&e.jsx(sg,{x:A.x,y:A.y,node:A.node,isBackground:A.isBackground,clipboardState:u,onClose:()=>O(null),onRename:e=>I(e),onDownload:X,onDelete:N,onMove:e=>{Ot("Use Drag & Drop to move",{icon:""})},onCut:E,onCopy:z,onPaste:k,onCreateFolder:()=>B(!0),onUpload:()=>H.current?.click(),onRefresh:()=>D(),onAddToFavorites:()=>A?.node&&P(A.node),isFavorite:A?.node&&T.has(A.node.id)}),F&&e.jsx(ag,{node:F,onClose:()=>I(null),onConfirm:j}),L&&e.jsx(rg,{parentFolder:n[n.length-1]?.name,onClose:()=>B(!1),onConfirm:w})]})},dg=()=>{const[t,n]=vt.useState([]),[s,a]=vt.useState(!0),r=async()=>{a(!0);try{const e=await Jn.get("/drive/trash");n(e.data.nodes)}catch(e){Ot.error("Failed to load trash")}finally{a(!1)}};vt.useEffect(()=>{r()},[]);return e.jsxs("div",{className:"h-full flex flex-col bg-slate-50",children:[e.jsxs("div",{className:"bg-white border-b border-slate-200 px-6 py-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(te,{className:"text-slate-600",size:24}),e.jsx("h1",{className:"text-xl font-bold text-slate-800",children:"Trash"})]}),e.jsx("p",{className:"text-sm text-slate-500 mt-1",children:"Items will be permanently deleted after 30 days"})]}),e.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:s?e.jsx("div",{className:"flex items-center justify-center h-full",children:e.jsx(y,{className:"animate-spin text-indigo-500",size:32})}):0===t.length?e.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-slate-400",children:[e.jsx("div",{className:"w-16 h-16 bg-slate-100 rounded-2xl flex items-center justify-center mb-4",children:e.jsx(te,{size:32,className:"text-slate-300"})}),e.jsx("p",{className:"text-lg font-medium text-slate-600",children:"Trash is empty"}),e.jsx("p",{className:"text-sm",children:"Deleted items will appear here"})]}):e.jsx("div",{className:"bg-white rounded-xl border border-slate-200 shadow-sm overflow-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-slate-50 border-b border-slate-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"text-left px-6 py-3 text-xs font-semibold text-slate-600 uppercase",children:"Name"}),e.jsx("th",{className:"text-left px-6 py-3 text-xs font-semibold text-slate-600 uppercase hidden md:table-cell",children:"Size"}),e.jsx("th",{className:"text-left px-6 py-3 text-xs font-semibold text-slate-600 uppercase hidden lg:table-cell",children:"Deleted"}),e.jsx("th",{className:"text-right px-6 py-3 text-xs font-semibold text-slate-600 uppercase",children:"Actions"})]})}),e.jsx("tbody",{children:t.map(t=>e.jsxs("tr",{className:"border-b border-slate-100 last:border-0 hover:bg-slate-50 transition-colors",children:[e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"text-sm font-medium text-slate-700",children:t.name}),e.jsx("span",{className:"text-xs text-slate-400 uppercase",children:t.type})]})}),e.jsx("td",{className:"px-6 py-4 text-sm text-slate-500 hidden md:table-cell",children:"folder"===t.type?"-":eg(t.size)}),e.jsx("td",{className:"px-6 py-4 text-sm text-slate-500 hidden lg:table-cell",children:new Date(t.deleted_at).toLocaleDateString()}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center justify-end gap-2",children:[e.jsxs("button",{onClick:()=>(async e=>{try{await Jn.post(`/drive/nodes/${e}/restore`),Ot.success("Item restored"),r()}catch(t){Ot.error("Failed to restore item")}})(t.id),className:"flex items-center gap-1.5 px-3 py-1.5 bg-indigo-50 hover:bg-indigo-100 text-indigo-600 rounded-lg text-sm font-medium transition-colors",title:"Restore",children:[e.jsx(oe,{size:14}),e.jsx("span",{className:"hidden sm:inline",children:"Restore"})]}),e.jsxs("button",{onClick:()=>(async e=>{if(confirm("Are you sure? This action cannot be undone."))try{await Jn.delete(`/drive/nodes/${e}/force`),Ot.success("Item permanently deleted"),r()}catch(t){Ot.error("Failed to delete item")}})(t.id),className:"flex items-center gap-1.5 px-3 py-1.5 bg-red-50 hover:bg-red-100 text-red-600 rounded-lg text-sm font-medium transition-colors",title:"Delete Forever",children:[e.jsx(O,{size:14}),e.jsx("span",{className:"hidden sm:inline",children:"Delete"})]})]})})]},t.id))})]})})})]})},ug=({permission:t,redirectPath:n="/dashboard",children:s})=>{const{user:a,loading:r}=ts(),{can:i,loading:l}=cd(),o=wt();return r||t&&l?e.jsx("div",{className:"flex items-center justify-center min-h-screen bg-slate-50",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-indigo-600"})}):a?a.email_verified_at?a.business||a.parent_id||"/onboarding"===o.pathname?t&&!i(t)?e.jsx(Tt,{to:n,replace:!0}):s||e.jsx(Nt,{}):e.jsx(Tt,{to:"/onboarding",state:{message:"Please complete onboarding to access your dashboard."},replace:!0}):e.jsx(Tt,{to:"/verify-email-message",replace:!0}):e.jsx(Tt,{to:"/login",state:{message:"Please log in to continue."},replace:!0})},hg=()=>{const t={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.6}}},n=[{icon:r,title:"Secure NDAs",description:"Generate rock-solid Non-Disclosure Agreements in seconds. Protect your intellectual property with legally sound templates."},{icon:l,title:"Winning Proposals",description:"Create stunning business proposals that convert. Customize every detail to match your brand and impress clients."},{icon:i,title:"Instant Invoicing",description:"Get paid faster with professional invoices. Automated calculations, tax handling, and sleek designs."},{icon:m,title:"Team Collaboration",description:"Invite your team, assign roles, and collaborate on documents in real-time. Streamline your workflow."},{icon:h,title:"Custom Branding",description:"Your docs, your brand. Upload logos, set colors, and ensure every document reflects your company identity."},{icon:k,title:"Client Management",description:"Keep track of client details and associate documents with specific projects easily."}];return e.jsxs("div",{className:"bg-white",children:[e.jsx(ls,{title:"Features - Document Management & Collaboration Tools",description:"Explore DocForge features: Secure NDA generation, winning business proposals, instant invoicing, team collaboration, custom branding, and client management tools for modern agencies.",keywords:"Document management features, NDA generator, proposal creator, invoice software, team collaboration, custom branding, client management",url:"/features"}),e.jsxs("section",{className:"relative pt-32 pb-20 overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-slate-50 -skew-y-3 origin-top-left z-0 transform -translate-y-20"}),e.jsxs("div",{className:"max-w-7xl mx-auto px-6 relative z-10 text-center",children:[e.jsxs(a.h1,{initial:"hidden",whileInView:"visible",viewport:{once:!0},variants:t,className:"text-4xl md:text-6xl font-bold text-slate-900 mb-6 tracking-tight",children:["Tools designed for ",e.jsx("span",{className:"text-indigo-600",children:"running your agency."})]}),e.jsx(a.p,{initial:"hidden",whileInView:"visible",viewport:{once:!0},variants:t,className:"text-lg md:text-xl text-slate-600 max-w-2xl mx-auto mb-10 leading-relaxed",children:"DocForge isn't just a document editor. It's a complete operating system for your paperwork. From proposal to payment, we've got you covered."})]})]}),e.jsx("section",{className:"py-20 bg-white",children:e.jsx("div",{className:"max-w-7xl mx-auto px-6",children:e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:n.map((t,n)=>e.jsxs(a.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:.1*n,duration:.5},className:"p-8 rounded-2xl border border-slate-100 bg-white hover:border-indigo-100 hover:shadow-xl transition-all group",children:[e.jsx("div",{className:"w-12 h-12 bg-slate-50 rounded-xl flex items-center justify-center text-indigo-600 mb-6 group-hover:bg-indigo-600 group-hover:text-white transition-colors",children:e.jsx(t.icon,{size:24})}),e.jsx("h3",{className:"text-xl font-bold text-slate-900 mb-3",children:t.title}),e.jsx("p",{className:"text-slate-500 leading-relaxed",children:t.description})]},n))})})}),e.jsx("section",{className:"py-24 bg-slate-50 overflow-hidden",children:e.jsx("div",{className:"max-w-7xl mx-auto px-6",children:e.jsxs("div",{className:"flex flex-col lg:flex-row items-center gap-16",children:[e.jsxs("div",{className:"flex-1 w-full relative",children:[e.jsx("div",{className:"absolute -top-10 -left-10 w-72 h-72 bg-purple-500 rounded-full mix-blend-multiply filter blur-3xl opacity-20 animate-blob"}),e.jsx("div",{className:"absolute -bottom-10 -right-10 w-72 h-72 bg-indigo-500 rounded-full mix-blend-multiply filter blur-3xl opacity-20 animate-blob animation-delay-2000"}),e.jsxs(a.div,{initial:{opacity:0,scale:.95},whileInView:{opacity:1,scale:1},viewport:{once:!0},transition:{duration:.7},className:"relative z-10 rounded-2xl shadow-2xl bg-white p-2 border border-slate-100",children:[e.jsx("img",{src:"/images/dashboard-preview.png",alt:"DocForge document editor interface with real-time preview, version history, and one-click PDF export",className:"w-full h-auto rounded-xl border border-slate-200/50"}),e.jsx("div",{className:"absolute inset-0 rounded-2xl ring-1 ring-inset ring-black/5 pointer-events-none"})]})]}),e.jsx("div",{className:"flex-1",children:e.jsxs(a.div,{initial:{opacity:0,x:20},whileInView:{opacity:1,x:0},viewport:{once:!0},transition:{duration:.6},children:[e.jsxs("div",{className:"inline-flex items-center gap-2 px-3 py-1 rounded-full bg-indigo-50 text-indigo-600 text-sm font-medium mb-6",children:[e.jsx(i,{size:16})," Power & Simplicity"]}),e.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-slate-900 mb-6 leading-tight",children:"Unrivaled Editing Experience"}),e.jsx("p",{className:"text-slate-600 mb-8 text-lg leading-relaxed",children:"Our purpose-built editors make customization intuitive. Forget complex formatting battlesjust fill, click, and generate documents that look professionally designed every time."}),e.jsx("ul",{className:"space-y-4",children:["Real-time preview updates","Version History & Restoration","Share Tracking & Analytics","One-click PDF export"].map((t,n)=>e.jsxs(a.li,{initial:{opacity:0,x:10},whileInView:{opacity:1,x:0},viewport:{once:!0},transition:{delay:.2+.1*n},className:"flex items-center gap-3 text-slate-700 font-medium",children:[e.jsx("div",{className:"flex-shrink-0 w-6 h-6 rounded-full bg-green-100 flex items-center justify-center text-green-600",children:e.jsx(f,{size:14,strokeWidth:3})}),t]},n))}),e.jsx("div",{className:"mt-10",children:e.jsxs(jt,{to:"/register",className:"text-indigo-600 font-semibold hover:text-indigo-700 flex items-center gap-2 group",children:["Experience the editor ",e.jsx("span",{className:"group-hover:translate-x-1 transition-transform",children:""})]})})]})})]})})}),e.jsx("section",{className:"py-20 bg-slate-900 text-white text-center",children:e.jsxs("div",{className:"max-w-4xl mx-auto px-6",children:[e.jsx("h2",{className:"text-3xl md:text-5xl font-bold mb-8",children:"Ready to streamline your workflow?"}),e.jsx("p",{className:"text-slate-400 text-lg mb-10 max-w-2xl mx-auto",children:"Join thousands of freelancers and agencies who rely on DocForge for their critical documentation."}),e.jsx(jt,{to:"/register",className:"inline-block px-8 py-4 bg-indigo-600 rounded-xl text-lg font-bold hover:bg-indigo-500 transition-colors shadow-lg hover:shadow-indigo-500/25",children:"Get Started for Free"})]})})]})},mg=()=>{const[t,n]=vt.useState(!0),s=[{name:"Starter",price:0,description:"Perfect for freelancers just getting started.",features:["Up to 3 Documents/mo","Basic NDA Templates","Standard PDF Export","1 User Seat"],cta:"Start Free",popular:!1},{name:"Professional",price:t?19:25,description:"For growing agencies and serious professionals.",features:["Unlimited Documents","All Template Types (NDA, Proposal, Invoice)","Custom Branding & Logos","Team Management (Up to 5 seats)","Priority Support"],cta:"Start Trial",popular:!0},{name:"Enterprise",price:"Custom",description:"Tailored solutions for large organizations.",features:["Everything in Professional","Unlimited Team Seats","SSO & Advanced Security","Custom Contract Development","Dedicated Account Manager"],cta:"Contact Sales",popular:!1}];return e.jsxs("div",{className:"bg-white",children:[e.jsx(ls,{title:"Pricing - Affordable Plans for Freelancers & Agencies",description:"Simple, transparent pricing for DocForge. Start free with basic features or upgrade to Professional for unlimited documents, custom branding, and team collaboration. Enterprise plans available.",keywords:"DocForge pricing, document management pricing, NDA generator cost, proposal software pricing, affordable business tools",url:"/pricing",jsonLd:{"@context":"https://schema.org","@type":"FAQPage",mainEntity:[{"@type":"Question",name:"Can I cancel anytime?",acceptedAnswer:{"@type":"Answer",text:"Yes, you can cancel your subscription at any time. Your access will continue until the end of your billing period."}},{"@type":"Question",name:"Is there a free trial?",acceptedAnswer:{"@type":"Answer",text:"We offer a 14-day free trial for the Professional plan. No credit card required to start."}}]}}),e.jsxs("section",{className:"pt-32 pb-16 px-6 text-center",children:[e.jsx(a.h1,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-4xl md:text-5xl font-bold text-slate-900 mb-6",children:"Simple, transparent pricing"}),e.jsxs("div",{className:"flex items-center justify-center gap-4 mt-8",children:[e.jsx("span",{className:"text-sm font-medium "+(t?"text-slate-500":"text-slate-900"),children:"Monthly"}),e.jsx("button",{onClick:()=>n(!t),className:"w-14 h-8 bg-slate-200 rounded-full p-1 transition-colors relative",children:e.jsx("div",{className:"w-6 h-6 bg-white rounded-full shadow-sm transition-transform "+(t?"translate-x-6":"translate-x-0")})}),e.jsxs("span",{className:"text-sm font-medium "+(t?"text-slate-900":"text-slate-500"),children:["Yearly ",e.jsx("span",{className:"text-emerald-500 text-xs font-bold ml-1",children:"(Save 20%)"})]})]})]}),e.jsx("section",{className:"pb-24 px-6 max-w-7xl mx-auto",children:e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 items-start",children:s.map((t,n)=>e.jsxs(a.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:.1*n},className:`relative p-8 rounded-2xl border ${t.popular?"border-indigo-600 shadow-2xl shadow-indigo-200":"border-slate-200 shadow-sm"} bg-white`,children:[t.popular&&e.jsx("div",{className:"absolute top-0 left-1/2 transform -translate-x-1/2 -translate-y-1/2 bg-indigo-600 text-white px-4 py-1 rounded-full text-sm font-bold tracking-wide",children:"MOST POPULAR"}),e.jsx("h3",{className:"text-xl font-bold text-slate-900",children:t.name}),e.jsx("p",{className:"text-slate-500 text-sm mt-2 h-10",children:t.description}),e.jsxs("div",{className:"my-8",children:[e.jsx("span",{className:"text-4xl font-bold text-slate-900",children:"number"==typeof t.price?`$${t.price}`:t.price}),"number"==typeof t.price&&e.jsx("span",{className:"text-slate-500",children:"/mo"})]}),e.jsx(jt,{to:"Enterprise"===t.name?"/contact":"/register",className:"block w-full py-3 rounded-xl font-bold text-center transition-all "+(t.popular?"bg-indigo-600 text-white hover:bg-indigo-700 hover:shadow-lg":"bg-slate-100 text-slate-900 hover:bg-slate-200"),children:t.cta}),e.jsx("ul",{className:"mt-8 space-y-4",children:t.features.map((t,n)=>e.jsxs("li",{className:"flex items-start gap-3 text-sm text-slate-600",children:[e.jsx(we,{size:18,className:"text-emerald-500 flex-shrink-0 mt-0.5"}),t]},n))})]},n))})}),e.jsx("section",{className:"py-20 bg-slate-50 border-t border-slate-200",children:e.jsxs("div",{className:"max-w-3xl mx-auto px-6 text-center",children:[e.jsx("h2",{className:"text-3xl font-bold text-slate-900 mb-12",children:"Frequently Asked Questions"}),e.jsxs("div",{className:"space-y-8 text-left",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold text-slate-900 mb-2",children:"Can I cancel anytime?"}),e.jsx("p",{className:"text-slate-600",children:"Yes, you can cancel your subscription at any time. Your access will continue until the end of your billing period."})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold text-slate-900 mb-2",children:"Is there a free trial?"}),e.jsx("p",{className:"text-slate-600",children:"We offer a 14-day free trial for the Professional plan. No credit card required to start."})]})]})]})})]})},pg=()=>e.jsxs("div",{className:"bg-white",children:[e.jsx(ls,{title:"About Us - Our Mission to Empower Modern Businesses",description:"Learn about DocForge's mission to empower businesses with intuitive document management tools. Discover our story, values, and commitment to customer excellence.",keywords:"about DocForge, company mission, document management company, business tools, customer first",url:"/about"}),e.jsxs("section",{className:"pt-32 pb-20 px-6 max-w-4xl mx-auto text-center",children:[e.jsxs(a.h1,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-4xl md:text-6xl font-bold text-slate-900 mb-8",children:["Empowering businesses to ",e.jsx("span",{className:"text-indigo-600",children:"forge ahead."})]}),e.jsx("p",{className:"text-xl text-slate-600 leading-relaxed",children:"At DocForge, we believe that administrative friction shouldn't slow down innovation. Our mission is to provide intuitive, powerful tools that let you focus on what you do bestbuilding your business."})]}),e.jsx("section",{className:"py-12 bg-slate-900 text-white",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-6 grid grid-cols-1 md:grid-cols-3 gap-8 text-center",children:[e.jsxs("div",{className:"p-6",children:[e.jsx("div",{className:"text-4xl font-bold text-indigo-400 mb-2",children:"10k+"}),e.jsx("div",{className:"text-slate-400",children:"Documents Generated"})]}),e.jsxs("div",{className:"p-6",children:[e.jsx("div",{className:"text-4xl font-bold text-indigo-400 mb-2",children:"99.9%"}),e.jsx("div",{className:"text-slate-400",children:"Uptime Reliability"})]}),e.jsxs("div",{className:"p-6",children:[e.jsx("div",{className:"text-4xl font-bold text-indigo-400 mb-2",children:"24/7"}),e.jsx("div",{className:"text-slate-400",children:"Global Support"})]})]})}),e.jsx("section",{className:"py-20 px-6 max-w-5xl mx-auto",children:e.jsxs("div",{className:"bg-slate-50 p-8 md:p-12 rounded-3xl",children:[e.jsx("h2",{className:"text-3xl font-bold text-slate-900 mb-6",children:"Our Story"}),e.jsx("p",{className:"text-slate-600 mb-6 leading-relaxed",children:"Founded in 2024, DocForge started with a simple observation: small businesses and freelancers were wasting hours on paperwork that should take minutes. Clunky legacy software and expensive legal fees were barriers to entry."}),e.jsx("p",{className:"text-slate-600 leading-relaxed",children:"We built DocForge to be the solution we wanted for ourselvesfast, beautiful, and secure. Today, we're proud to support a growing community of entrepreneurs and teams worldwide."})]})}),e.jsxs("section",{className:"py-20 px-6 max-w-7xl mx-auto",children:[e.jsx("h2",{className:"text-3xl font-bold text-slate-900 mb-12 text-center",children:"Our Core Values"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[e.jsxs("div",{className:"p-8 text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-blue-50 text-blue-600 rounded-full flex items-center justify-center mx-auto mb-6",children:e.jsx(m,{size:32})}),e.jsx("h3",{className:"text-xl font-bold text-slate-900 mb-3",children:"Customer First"}),e.jsx("p",{className:"text-slate-500",children:"We build for you. Your feedback drives our roadmap and our innovations."})]}),e.jsxs("div",{className:"p-8 text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-indigo-50 text-indigo-600 rounded-full flex items-center justify-center mx-auto mb-6",children:e.jsx(T,{size:32})}),e.jsx("h3",{className:"text-xl font-bold text-slate-900 mb-3",children:"Global Mindset"}),e.jsx("p",{className:"text-slate-500",children:"Business knows no borders. Our tools are designed for international collaboration."})]}),e.jsxs("div",{className:"p-8 text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-purple-50 text-purple-600 rounded-full flex items-center justify-center mx-auto mb-6",children:e.jsx(dt,{size:32})}),e.jsx("h3",{className:"text-xl font-bold text-slate-900 mb-3",children:"Excellence"}),e.jsx("p",{className:"text-slate-500",children:'We don\'t settle for "good enough". We strive for perfection in every pixel.'})]})]})]})]}),fg=()=>e.jsxs("div",{className:"max-w-4xl mx-auto px-6 py-32",children:[e.jsx(ls,{title:"Privacy Policy - How We Protect Your Data",description:"Read DocForge's privacy policy to understand how we collect, use, and protect your personal data. Learn about your privacy rights and data security.",keywords:"privacy policy, data protection, GDPR, user privacy, data security",url:"/privacy",robots:"noindex, follow"}),e.jsx("h1",{className:"text-4xl font-bold text-slate-900 mb-8",children:"Privacy Policy"}),e.jsxs("div",{className:"prose prose-slate max-w-none",children:[e.jsx("p",{className:"text-slate-600 mb-6",children:"Last updated: January 1, 2026"}),e.jsx("h2",{className:"text-2xl font-bold text-slate-900 mt-8 mb-4",children:"1. Introduction"}),e.jsx("p",{className:"text-slate-600 mb-4",children:"Welcome to DocForge. We respect your privacy and are committed to protecting your personal data. This privacy policy will inform you as to how we look after your personal data when you visit our website and tell you about your privacy rights and how the law protects you."}),e.jsx("h2",{className:"text-2xl font-bold text-slate-900 mt-8 mb-4",children:"2. Data We Collect"}),e.jsx("p",{className:"text-slate-600 mb-4",children:"We may collect, use, store and transfer different kinds of personal data about you which we have grouped together follows:"}),e.jsxs("ul",{className:"list-disc pl-6 text-slate-600 mb-4 space-y-2",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Identity Data:"})," includes first name, last name, username or similar identifier."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Contact Data:"})," includes email address and telephone numbers."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Technical Data:"})," includes internet protocol (IP) address, your login data, browser type and version."]})]}),e.jsx("h2",{className:"text-2xl font-bold text-slate-900 mt-8 mb-4",children:"3. How We Use Your Data"}),e.jsx("p",{className:"text-slate-600 mb-4",children:"We will only use your personal data when the law allows us to. Most commonly, we will use your personal data in the following circumstances:"}),e.jsxs("ul",{className:"list-disc pl-6 text-slate-600 mb-4 space-y-2",children:[e.jsx("li",{children:"Where we need to perform the contract we are about to enter into or have entered into with you."}),e.jsx("li",{children:"Where it is necessary for our legitimate interests (or those of a third party) and your interests and fundamental rights do not override those interests."})]})]})]}),xg=()=>e.jsxs("div",{className:"max-w-4xl mx-auto px-6 py-32",children:[e.jsx(ls,{title:"Terms of Service - DocForge User Agreement",description:"Read DocForge's terms of service to understand the agreement, use license, and disclaimers for using our document management platform.",keywords:"terms of service, user agreement, terms and conditions, legal terms",url:"/terms",robots:"noindex, follow"}),e.jsx("h1",{className:"text-4xl font-bold text-slate-900 mb-8",children:"Terms of Service"}),e.jsxs("div",{className:"prose prose-slate max-w-none",children:[e.jsx("p",{className:"text-slate-600 mb-6",children:"Last updated: January 1, 2026"}),e.jsx("h2",{className:"text-2xl font-bold text-slate-900 mt-8 mb-4",children:"1. Agreement to Terms"}),e.jsx("p",{className:"text-slate-600 mb-4",children:"By accessing or using our website and services, you agree to be bound by these Terms of Service and our Privacy Policy. If you do not agree to these terms, please do not use our services."}),e.jsx("h2",{className:"text-2xl font-bold text-slate-900 mt-8 mb-4",children:"2. Use License"}),e.jsx("p",{className:"text-slate-600 mb-4",children:"Permission is granted to temporarily download one copy of the materials (information or software) on DocForge's website for personal, non-commercial transitory viewing only. This is the grant of a license, not a transfer of title."}),e.jsx("h2",{className:"text-2xl font-bold text-slate-900 mt-8 mb-4",children:"3. Disclaimer"}),e.jsx("p",{className:"text-slate-600 mb-4",children:"The materials on DocForge's website are provided on an 'as is' basis. DocForge makes no warranties, expressed or implied, and hereby disclaims and negates all other warranties including, without limitation, implied warranties or conditions of merchantability, fitness for a particular purpose, or non-infringement of intellectual property or other violation of rights."})]})]}),gg=()=>{const[t,n]=vt.useState(!1),[s,a]=vt.useState(!1),[r,i]=vt.useState({name:"",email:"",subject:"",message:""}),l=e=>{i({...r,[e.target.name]:e.target.value})};return e.jsxs("div",{className:"bg-white pt-32 pb-24",children:[e.jsx(ls,{title:"Contact Us - Get in Touch with Our Team",description:"Have questions about DocForge? Contact our support team for help with document management, pricing, or technical support. We're here to help.",keywords:"contact DocForge, customer support, help, technical support, sales inquiry",url:"/contact"}),e.jsxs("div",{className:"max-w-3xl mx-auto px-6 text-center",children:[e.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-slate-900 mb-6",children:"Get in touch"}),e.jsx("p",{className:"text-slate-600 text-lg mb-12",children:"Have questions about our plans or need technical support? We're here to help."}),t?e.jsxs("div",{className:"bg-emerald-50 border border-emerald-200 rounded-2xl p-8 text-emerald-800",children:[e.jsx("h3",{className:"text-2xl font-bold mb-2",children:"Message Sent!"}),e.jsx("p",{children:"Thanks for reaching out. We'll get back to you within 24 hours."}),e.jsx("button",{onClick:()=>n(!1),className:"mt-6 text-emerald-600 font-medium hover:underline",children:"Send another message"})]}):e.jsxs("form",{onSubmit:async e=>{e.preventDefault(),a(!0);try{await Jn.post("/public/contact",r),n(!0),Ot.success("Message sent successfully!"),i({name:"",email:"",subject:"",message:""})}catch(t){Ot.error("Failed to send message. Please try again.")}finally{a(!1)}},className:"bg-white border border-slate-200 rounded-2xl p-8 md:p-10 shadow-xl text-left",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Name"}),e.jsx("input",{type:"text",name:"name",value:r.name,onChange:l,className:"w-full px-4 py-3 rounded-lg border border-slate-300 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition-all outline-none",required:!0,placeholder:"John Doe"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Email"}),e.jsx("input",{type:"email",name:"email",value:r.email,onChange:l,className:"w-full px-4 py-3 rounded-lg border border-slate-300 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition-all outline-none",required:!0,placeholder:"john@example.com"})]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Subject"}),e.jsx("input",{type:"text",name:"subject",value:r.subject,onChange:l,className:"w-full px-4 py-3 rounded-lg border border-slate-300 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition-all outline-none",required:!0,placeholder:"How can we help?"})]}),e.jsxs("div",{className:"mb-8",children:[e.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Message"}),e.jsx("textarea",{rows:"5",name:"message",value:r.message,onChange:l,className:"w-full px-4 py-3 rounded-lg border border-slate-300 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition-all outline-none",required:!0,placeholder:"Tell us more..."})]}),e.jsx("button",{type:"submit",disabled:s,className:"w-full py-4 bg-indigo-600 text-white font-bold rounded-xl hover:bg-indigo-700 transition-all shadow-lg hover:shadow-indigo-500/25 flex items-center justify-center gap-2 disabled:opacity-70 disabled:cursor-not-allowed",children:s?e.jsx("span",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"}):e.jsxs(e.Fragment,{children:[e.jsx(ye,{size:20}),"Send Message"]})})]})]})]})},bg=()=>e.jsxs("div",{className:"max-w-4xl mx-auto px-6 py-32 text-center",children:[e.jsx("div",{className:"w-20 h-20 bg-indigo-50 text-indigo-600 rounded-full flex items-center justify-center mx-auto mb-8",children:e.jsx(k,{size:40})}),e.jsx("h1",{className:"text-4xl font-bold text-slate-900 mb-6",children:"Join the Team"}),e.jsx("p",{className:"text-xl text-slate-600 mb-12",children:"We're always looking for talented individuals to help us build the future of document management."}),e.jsxs("div",{className:"p-12 border border-slate-200 rounded-2xl bg-slate-50",children:[e.jsx("p",{className:"text-slate-500 font-medium",children:"There are currently no open positions."}),e.jsx("p",{className:"text-slate-400 text-sm mt-2",children:"Check back later or follow us on social media for updates."})]})]}),vg=()=>e.jsxs("div",{className:"max-w-3xl mx-auto px-6 py-32",children:[e.jsx("h1",{className:"text-4xl font-bold text-slate-900 mb-12",children:"Product Updates"}),e.jsx("div",{className:"space-y-12 border-l border-slate-200 ml-4 pl-8 relative",children:[{version:"v1.0.0",date:"January 19, 2026",title:"Global Launch",description:"DocForge is officially live! Create NDAs, Proposals, and Invoices with ease.",type:"Major"},{version:"v0.9.5",date:"December 15, 2025",title:"Beta Release",description:"Initial beta release to select partners.",type:"Beta"}].map((t,n)=>e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute -left-[41px] top-1.5 w-5 h-5 rounded-full bg-white border-4 border-indigo-600"}),e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("span",{className:"font-mono text-sm font-bold text-indigo-600 bg-indigo-50 px-2 py-1 rounded",children:t.version}),e.jsx("span",{className:"text-slate-400 text-sm",children:t.date})]}),e.jsx("h3",{className:"text-xl font-bold text-slate-900 mb-2",children:t.title}),e.jsx("p",{className:"text-slate-600",children:t.description})]},n))})]}),yg=()=>{const[t,n]=vt.useState([]),[s,r]=vt.useState(!0),[i,l]=vt.useState({}),[c,d]=vt.useState(1);vt.useEffect(()=>{u()},[c]);const u=async()=>{r(!0);try{const e=await(async(e={})=>(await Jn.get("/public/posts",{params:e})).data)({page:c});n(e.data),l({current_page:e.current_page,last_page:e.last_page,total:e.total})}catch(e){}finally{r(!1)}},h=t.length>0?t[0]:null,m=t.length>0?t.slice(1):[],f={"@context":"https://schema.org","@type":"Blog",name:"DocForge Blog",description:"Insights on document workflows, agency growth, and product updates.",url:"https://docforgedocs.com/blog",blogPost:t.map(e=>({"@type":"BlogPosting",headline:e.title,image:e.featured_image,datePublished:e.published_at,author:{"@type":"Person",name:e.author?.name||"DocForge Team"}}))};return e.jsxs("div",{className:"min-h-screen bg-slate-50",children:[e.jsx(ls,{title:"Blog",description:"Latest updates, guides, and insights from the DocForge team.",url:"/blog",jsonLd:f}),e.jsx("div",{className:"bg-white pt-32 pb-20 border-b border-slate-200",children:e.jsx("div",{className:"max-w-7xl mx-auto px-6 text-center",children:e.jsxs(a.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},children:[e.jsx("span",{className:"inline-block py-1 px-3 rounded-full bg-indigo-50 text-indigo-600 text-xs font-bold uppercase tracking-wider mb-4 border border-indigo-100",children:"The DocForge Log"}),e.jsxs("h1",{className:"text-4xl md:text-6xl font-extrabold text-slate-900 mb-6 tracking-tight",children:["Insights for ",e.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-indigo-600 to-indigo-500",children:"Modern Agencies"})]}),e.jsx("p",{className:"text-xl text-slate-500 max-w-2xl mx-auto leading-relaxed",children:"Discover strategies for efficient document workflows, business growth, and product updates straight from our team."})]})})}),e.jsx("div",{className:"max-w-7xl mx-auto px-6 py-12",children:s?e.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-8",children:[1,2,3,4,5,6].map(t=>e.jsxs("div",{className:"animate-pulse",children:[e.jsx("div",{className:"bg-slate-200 h-64 rounded-2xl mb-4"}),e.jsx("div",{className:"h-4 bg-slate-200 rounded w-3/4 mb-2"}),e.jsx("div",{className:"h-4 bg-slate-200 rounded w-1/2"})]},t))}):e.jsxs(e.Fragment,{children:[h&&1===c&&e.jsxs(a.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"mb-16 group relative rounded-3xl overflow-hidden shadow-2xl bg-white grid lg:grid-cols-2",children:[e.jsx("div",{className:"absolute top-4 left-4 z-10",children:e.jsxs("span",{className:"bg-white/90 backdrop-blur text-indigo-600 px-3 py-1 rounded-full text-xs font-bold shadow-sm flex items-center gap-1",children:[e.jsx(p,{size:12,className:"fill-indigo-600"})," Featured"]})}),e.jsx("div",{className:"relative h-64 lg:h-full overflow-hidden",children:h.featured_image?e.jsx("img",{src:h.featured_image,alt:h.title,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-700"}):e.jsx("div",{className:"w-full h-full bg-indigo-50 flex items-center justify-center",children:e.jsx("span",{className:"text-indigo-200 font-bold text-6xl",children:"DocForge"})})}),e.jsxs("div",{className:"p-8 lg:p-12 flex flex-col justify-center",children:[e.jsxs("div",{className:"flex items-center gap-4 text-sm text-slate-500 mb-4",children:[e.jsx("span",{className:"text-indigo-600 font-bold",children:h.category?.name||"Update"}),e.jsx("span",{className:"w-1 h-1 bg-slate-300 rounded-full"}),e.jsx("span",{children:new Date(h.published_at).toLocaleDateString()})]}),e.jsx("h2",{className:"text-3xl lg:text-4xl font-bold text-slate-900 mb-4 group-hover:text-indigo-600 transition-colors",children:e.jsx(jt,{to:`/blog/${h.slug}`,children:h.title})}),e.jsx("p",{className:"text-slate-600 text-lg mb-8 line-clamp-3",children:h.summary||"Read the full article to learn more regarding this topic..."}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-indigo-100 flex items-center justify-center text-indigo-600 font-bold",children:h.author?.name?.[0]||"D"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-bold text-slate-900",children:h.author?.name||"DocForge Team"}),e.jsx("p",{className:"text-xs text-slate-500",children:"Author"})]})]}),e.jsxs(jt,{to:`/blog/${h.slug}`,className:"inline-flex items-center gap-2 bg-slate-900 text-white px-6 py-3 rounded-xl font-bold hover:bg-indigo-600 transition-colors",children:["Read Article ",e.jsx(o,{size:18})]})]})]})]}),e.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-8 mb-16",children:(1===c?m:t).map((t,n)=>e.jsx(a.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1*n},children:e.jsxs(jt,{to:`/blog/${t.slug}`,className:"group flex flex-col h-full bg-white border border-slate-100 rounded-2xl overflow-hidden hover:shadow-xl hover:-translate-y-1 transition-all duration-300",children:[e.jsxs("div",{className:"aspect-[16/10] overflow-hidden bg-slate-100 relative",children:[t.featured_image?e.jsx("img",{src:t.featured_image,alt:t.title,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-500"}):e.jsx("div",{className:"w-full h-full flex items-center justify-center bg-indigo-50 text-indigo-300",children:e.jsx("span",{className:"text-4xl font-bold opacity-20",children:"DocForge"})}),t.category&&e.jsx("span",{className:"absolute top-4 left-4 bg-white/90 backdrop-blur-sm px-3 py-1 rounded-full text-xs font-bold text-indigo-600 shadow-sm border border-indigo-50",children:t.category.name})]}),e.jsxs("div",{className:"p-6 flex flex-col flex-1",children:[e.jsxs("div",{className:"flex items-center gap-4 text-xs text-slate-500 mb-4",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(I,{size:14}),new Date(t.published_at).toLocaleDateString()]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx($,{size:14}),"5 min read"]})]}),e.jsx("h2",{className:"text-xl font-bold text-slate-900 mb-3 group-hover:text-indigo-600 transition-colors line-clamp-2",children:t.title}),e.jsx("p",{className:"text-slate-600 text-sm leading-relaxed mb-6 flex-1 line-clamp-3 break-words",children:t.summary?.replace(/&nbsp;/g," ")||"Read the full article to learn more..."}),e.jsxs("div",{className:"flex items-center justify-between pt-6 border-t border-slate-50 mt-auto",children:[e.jsxs("span",{className:"text-slate-700 text-xs font-medium flex items-center gap-2",children:["By ",t.author?.name||"DocForge"]}),e.jsxs("span",{className:"text-indigo-600 font-bold text-sm flex items-center gap-1 group-hover:gap-2 transition-all",children:["Read ",e.jsx(o,{size:16})]})]})]})]})},t.id))}),e.jsxs("div",{className:"mb-20 bg-slate-900 rounded-3xl p-8 md:p-12 relative overflow-hidden text-center md:text-left grid md:grid-cols-2 gap-8 items-center",children:[e.jsxs("div",{className:"relative z-10",children:[e.jsx("h3",{className:"text-3xl font-bold text-white mb-4",children:"Stay ahead of the curve"}),e.jsx("p",{className:"text-slate-400 mb-8 text-lg",children:"Join 5,000+ agency owners receiving our weekly insights on workflow optimization and growth."}),e.jsxs("form",{className:"flex flex-col sm:flex-row gap-3",children:[e.jsx("input",{type:"email",placeholder:"Enter your work email",className:"bg-white/10 border border-white/20 text-white placeholder:text-slate-500 px-4 py-3 rounded-xl focus:outline-none focus:ring-2 focus:ring-indigo-500 flex-1"}),e.jsxs("button",{className:"bg-indigo-600 hover:bg-indigo-500 text-white px-6 py-3 rounded-xl font-bold transition-colors flex items-center justify-center gap-2",children:[e.jsx(v,{size:18})," Subscribe"]})]})]}),e.jsx("div",{className:"relative z-10 hidden md:block",children:e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-indigo-500/20 to-purple-500/20 rounded-full blur-3xl transform translate-x-1/2 -translate-y-1/2"})})]}),i.last_page>1&&e.jsxs("div",{className:"flex justify-center gap-2",children:[e.jsx("button",{onClick:()=>d(e=>Math.max(1,e-1)),disabled:1===c,className:"px-6 py-3 rounded-xl bg-white border border-slate-200 text-slate-600 font-medium hover:bg-indigo-50 hover:text-indigo-600 hover:border-indigo-200 disabled:opacity-50 disabled:cursor-not-allowed transition-all",children:"Previous"}),e.jsx("span",{className:"px-6 py-3 bg-white border border-slate-200 rounded-xl text-slate-900 font-bold min-w-[3rem] text-center",children:i.current_page}),e.jsx("button",{onClick:()=>d(e=>Math.min(i.last_page,e+1)),disabled:c===i.last_page,className:"px-6 py-3 rounded-xl bg-white border border-slate-200 text-slate-600 font-medium hover:bg-indigo-50 hover:text-indigo-600 hover:border-indigo-200 disabled:opacity-50 disabled:cursor-not-allowed transition-all",children:"Next"})]})]})})]})},wg=()=>{const{slug:t}=Ct(),[n,s]=vt.useState(null),[r,i]=vt.useState(!0),[l,o]=vt.useState(null),{scrollYProgress:c}=ut(),d=ht(c,{stiffness:100,damping:30,restDelta:.001});vt.useEffect(()=>{u(),window.scrollTo(0,0)},[t]);const u=async()=>{i(!0);try{const e=await(async e=>(await Jn.get(`/public/posts/${e}`)).data)(t);s(e)}catch(e){o("Post not found")}finally{i(!1)}};if(r)return e.jsx("div",{className:"min-h-screen bg-white pt-32 pb-24 flex justify-center",children:e.jsx("div",{className:"w-8 h-8 border-4 border-indigo-200 border-t-indigo-600 rounded-full animate-spin"})});if(l||!n)return e.jsxs("div",{className:"min-h-screen bg-white pt-32 pb-24 text-center",children:[e.jsx("h1",{className:"text-3xl font-bold text-slate-900 mb-4",children:"Post Not Found"}),e.jsx(jt,{to:"/blog",className:"text-indigo-600 font-bold hover:underline",children:"Return to Blog"})]});const h={"@context":"https://schema.org","@type":"BlogPosting",headline:n.title,image:n.featured_image?[n.featured_image]:[],datePublished:n.published_at,dateModified:n.updated_at||n.published_at,author:{"@type":"Person",name:n.author?.name||"DocForge Team"}};return e.jsxs("article",{className:"min-h-screen bg-white",children:[e.jsx(ls,{title:n.seo_title||n.title,description:n.seo_description||n.summary,url:`/blog/${n.slug}`,image:n.featured_image,type:"article",keywords:n.meta_keywords,jsonLd:h}),e.jsx(a.div,{className:"fixed top-0 left-0 right-0 h-1 bg-indigo-600 origin-left z-50",style:{scaleX:d}}),e.jsx("div",{className:"bg-slate-50 pt-32 pb-12 border-b border-slate-200",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-6",children:[e.jsxs(jt,{to:"/blog",className:"inline-flex items-center gap-2 text-slate-500 font-bold text-sm hover:text-indigo-600 mb-8 transition-colors",children:[e.jsx(F,{size:16})," Back to Blog"]}),e.jsxs("div",{className:"max-w-4xl",children:[n.category&&e.jsx("span",{className:"inline-block bg-indigo-100 text-indigo-700 px-3 py-1 rounded-full text-xs font-bold uppercase tracking-wider mb-6",children:n.category.name}),e.jsx("h1",{className:"text-4xl md:text-6xl font-extrabold text-slate-900 mb-6 leading-tight",children:n.title}),e.jsxs("div",{className:"flex flex-wrap items-center gap-6 text-slate-500",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-white border border-slate-200 flex items-center justify-center overflow-hidden",children:n.author?.avatar_url?e.jsx("img",{src:n.author.avatar_url,alt:n.author.name,className:"w-full h-full object-cover"}):e.jsx("span",{className:"font-bold text-xs text-slate-500",children:n.author?.name?.[0]||"D"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-bold text-slate-900 text-sm",children:n.author?.name||"DocForge Team"}),e.jsx("p",{className:"text-xs",children:"Author"})]})]}),e.jsx("span",{className:"w-px h-8 bg-slate-300 hidden sm:block"}),e.jsxs("div",{className:"flex items-center gap-4 text-sm font-medium",children:[e.jsxs("span",{className:"flex items-center gap-2",children:[e.jsx(I,{size:18,className:"text-slate-400"}),new Date(n.published_at).toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric"})]}),e.jsxs("span",{className:"flex items-center gap-2",children:[e.jsx($,{size:18,className:"text-slate-400"}),"5 min read"]})]})]})]})]})}),e.jsx("div",{className:"max-w-7xl mx-auto px-6 py-12",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-12",children:[e.jsxs("div",{className:"lg:col-span-8",children:[n.featured_image&&e.jsx("div",{className:"rounded-2xl overflow-hidden mb-12 shadow-lg border border-slate-100",children:e.jsx("img",{src:n.featured_image,alt:n.title,className:"w-full h-auto"})}),e.jsx("div",{className:"prose prose-lg prose-indigo prose-headings:font-bold prose-headings:text-slate-900 prose-p:text-slate-600 prose-p:leading-8 prose-li:text-slate-600 max-w-none break-words",dangerouslySetInnerHTML:{__html:n.content.replace(/&nbsp;/g," ")}}),e.jsxs("div",{className:"mt-16 pt-8 border-t border-slate-200",children:[e.jsxs("h3",{className:"font-bold text-slate-900 mb-4 flex items-center gap-2",children:[e.jsx(ve,{size:20})," Share this article"]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{className:"p-3 rounded-full bg-slate-100 text-slate-600 hover:bg-[#1877F2] hover:text-white transition-colors",children:e.jsx(mt,{size:20})}),e.jsx("button",{className:"p-3 rounded-full bg-slate-100 text-slate-600 hover:bg-[#1DA1F2] hover:text-white transition-colors",children:e.jsx(pt,{size:20})}),e.jsx("button",{className:"p-3 rounded-full bg-slate-100 text-slate-600 hover:bg-[#0A66C2] hover:text-white transition-colors",children:e.jsx(ft,{size:20})})]})]})]}),e.jsx("div",{className:"lg:col-span-4 space-y-8",children:e.jsxs("div",{className:"bg-slate-50 rounded-2xl p-6 border border-slate-100 sticky top-32",children:[e.jsx("h3",{className:"font-bold text-slate-900 mb-4",children:"In this article"}),e.jsxs("ul",{className:"space-y-3 text-sm",children:[e.jsx("li",{children:e.jsxs("a",{href:"#",className:"flex items-center gap-2 text-indigo-600 font-medium",children:[e.jsx(M,{size:14})," Introduction"]})}),e.jsx("li",{children:e.jsxs("a",{href:"#",className:"flex items-center gap-2 text-slate-600 hover:text-indigo-600 transition-colors",children:[e.jsx(M,{size:14,className:"opacity-0"})," Key Takeaways"]})}),e.jsx("li",{children:e.jsxs("a",{href:"#",className:"flex items-center gap-2 text-slate-600 hover:text-indigo-600 transition-colors",children:[e.jsx(M,{size:14,className:"opacity-0"})," Implementation Guide"]})}),e.jsx("li",{children:e.jsxs("a",{href:"#",className:"flex items-center gap-2 text-slate-600 hover:text-indigo-600 transition-colors",children:[e.jsx(M,{size:14,className:"opacity-0"})," Conclusion"]})})]}),e.jsxs("div",{className:"mt-8 pt-8 border-t border-slate-200",children:[e.jsx("p",{className:"font-bold text-slate-900 mb-2",children:"Need help with documents?"}),e.jsx("p",{className:"text-slate-500 text-sm mb-4",children:"DocForge streamlines your proposals and contracts."}),e.jsx(jt,{to:"/register",className:"block text-center bg-indigo-600 text-white font-bold py-3 rounded-xl hover:bg-indigo-700 transition-colors shadow-lg shadow-indigo-200",children:"Get Started Free"})]})]})})]})})]})};Lt.workerSrc=Ix;const jg=()=>{const{token:t}=Ct(),[n,s]=vt.useState(null),[a,r]=vt.useState(!0),[i,o]=vt.useState(null),[c,d]=vt.useState(null),[u,h]=vt.useState(1),[m,p]=vt.useState(1),f="http://localhost:8000/api/v1";vt.useEffect(()=>{t&&(async()=>{try{const e=await Jn.get(`/public/documents/${t}`);s(e.data.data)}catch(e){o("Document not found or access denied.")}finally{r(!1)}})()},[t]);const x=()=>{window.location.href=`${f}/public/documents/${t}/download`};return a?e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-slate-50",children:e.jsx(y,{size:40,className:"text-indigo-600 animate-spin"})}):i||!n?e.jsx("div",{className:"min-h-screen flex flex-col items-center justify-center bg-slate-50 p-4",children:e.jsxs("div",{className:"bg-white p-8 rounded-xl shadow-lg max-w-md w-full text-center border border-slate-100",children:[e.jsx(b,{size:48,className:"text-red-500 mx-auto mb-4"}),e.jsx("h2",{className:"text-xl font-bold text-slate-800 mb-2",children:"Unavailable"}),e.jsx("p",{className:"text-slate-500",children:i||"This document could not be found."})]})}):e.jsxs("div",{className:"min-h-screen bg-slate-100 flex flex-col font-sans text-slate-900",children:[e.jsxs("header",{className:"bg-white h-16 border-b border-slate-200 px-4 md:px-8 flex items-center justify-between shadow-sm sticky top-0 z-50",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-9 h-9 bg-indigo-600 rounded-lg flex items-center justify-center text-white font-bold text-lg shadow-md shadow-indigo-200",children:"DF"}),e.jsxs("div",{children:[e.jsx("h1",{className:"font-bold text-slate-800 text-lg leading-tight truncate max-w-[200px] md:max-w-md",children:n.name}),e.jsx("p",{className:"text-xs text-slate-500",children:"Shared via DocForge"})]})]}),e.jsx("div",{className:"flex items-center gap-3",children:e.jsxs("button",{onClick:x,className:"flex items-center gap-2 px-5 py-2.5 bg-indigo-600 hover:bg-indigo-700 text-white text-sm font-semibold rounded-lg transition-all shadow-md shadow-indigo-100 active:scale-95",children:[e.jsx(ge,{size:18}),e.jsx("span",{className:"hidden sm:inline",children:"Download PDF"})]})})]}),e.jsx("div",{className:"flex-1 overflow-auto bg-slate-100 p-4 md:p-8 flex flex-col items-center",children:n.pdf_url?e.jsxs("div",{className:"w-full max-w-4xl flex flex-col items-center",children:[e.jsxs("div",{className:"bg-white rounded-full shadow-lg border border-slate-200 px-6 py-2 mb-6 flex items-center gap-6 sticky top-20 z-40 transition-all opacity-90 hover:opacity-100",children:[e.jsxs("div",{className:"flex items-center gap-2 border-r border-slate-200 pr-4",children:[e.jsx("button",{onClick:()=>h(e=>Math.max(e-1,1)),disabled:u<=1,className:"p-1.5 hover:bg-slate-100 rounded-full disabled:opacity-30 transition-colors text-slate-700",children:e.jsx(z,{size:20})}),e.jsxs("span",{className:"text-sm font-medium text-slate-600 min-w-[3rem] text-center",children:[u," / ",c||"--"]}),e.jsx("button",{onClick:()=>h(e=>Math.min(e+1,c||1)),disabled:u>=c,className:"p-1.5 hover:bg-slate-100 rounded-full disabled:opacity-30 transition-colors text-slate-700",children:e.jsx(M,{size:20})})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>p(e=>Math.max(e-.1,.5)),className:"p-1.5 hover:bg-slate-100 rounded-full text-slate-600 transition-colors",title:"Zoom Out",children:e.jsx(De,{size:18})}),e.jsxs("span",{className:"text-xs font-medium text-slate-500 w-12 text-center",children:[Math.round(100*m),"%"]}),e.jsx("button",{onClick:()=>p(e=>Math.min(e+.1,2)),className:"p-1.5 hover:bg-slate-100 rounded-full text-slate-600 transition-colors",title:"Zoom In",children:e.jsx(Te,{size:18})})]})]}),e.jsx("div",{className:"bg-white shadow-2xl rounded-sm overflow-hidden print:shadow-none transition-transform duration-200",children:e.jsx(Bt,{file:`${f}/public/documents/${t}/preview`,onLoadSuccess:({numPages:e})=>{d(e)},loading:e.jsx("div",{className:"h-96 w-full flex items-center justify-center bg-white",children:e.jsx(y,{className:"animate-spin text-indigo-600",size:32})}),error:e.jsxs("div",{className:"h-64 w-full flex flex-col items-center justify-center p-8 text-slate-400 bg-white",children:[e.jsx(l,{size:48,className:"mb-2"}),e.jsx("p",{children:"Failed to load PDF preview."}),e.jsx("p",{className:"text-xs text-slate-300 mt-2",children:"Could not access the PDF file."})]}),className:"pdf-document",children:e.jsx(It,{pageNumber:u,scale:m,renderTextLayer:!0,renderAnnotationLayer:!0,className:"pdf-page"})})})]}):e.jsxs("div",{className:"w-full max-w-4xl bg-white shadow-2xl rounded-xl p-12 min-h-[400px] flex flex-col items-center justify-center text-center",children:[e.jsx(b,{size:64,className:"text-slate-300 mb-6"}),e.jsx("h3",{className:"text-2xl font-bold text-slate-800 mb-3",children:"Preview Unavailable"}),e.jsx("p",{className:"text-slate-500 mb-8 max-w-md text-lg",children:"A PDF preview is not available for this document. You can download the file to view it."}),e.jsx("button",{onClick:x,className:"px-8 py-4 bg-indigo-600 text-white font-bold rounded-xl hover:bg-indigo-700 transition-all shadow-lg shadow-indigo-200 hover:shadow-indigo-300 transform hover:-translate-y-1",children:"Download Document"})]})})]})},Ng=({field:t,onClick:n,pageWidth:s,pageHeight:a})=>{const{metadata:r,position:i,size:l}=t,{value:o,signeeName:c,isMine:d}=r||{},u=`${i.x}%`,h=`${i.y}%`,m=l?.width||200,p=l?.height||50;return e.jsx("div",{onClick:e=>{e.stopPropagation(),n&&n(t)},className:`absolute border rounded-lg flex items-center justify-center text-center overflow-hidden transition-all shadow-sm ${d&&!o?"cursor-pointer animate-pulse-subtle bg-indigo-50/90 border-indigo-400 active:scale-95":"cursor-default"} ${o?"border-emerald-500 bg-emerald-50/90":d?"hover:bg-indigo-100 hover:border-indigo-500 hover:shadow-md":"border-slate-300 bg-slate-50/50"}`,style:{left:u,top:h,width:`${m}px`,height:`${p}px`,zIndex:10},children:o?e.jsxs("div",{className:"w-full h-full flex items-center justify-center p-2",children:["checkbox"===r.fieldType?e.jsx("div",{className:"w-6 h-6 border-2 rounded flex items-center justify-center transition-colors "+("true"===o?"bg-indigo-600 border-indigo-600":"border-slate-400 bg-white"),children:"true"===o&&e.jsx(f,{size:16,className:"text-white"})}):o.startsWith("data:image")?e.jsx("img",{src:o,alt:"Signature",className:"max-w-full max-h-full object-contain"}):e.jsx("span",{className:("text"===r.fieldType||"date"===r.fieldType?"font-sans text-sm font-medium":"font-handwriting text-xl")+" text-slate-700",children:o}),d&&e.jsx(f,{size:16,className:"absolute top-1 right-1 text-emerald-600"})]}):e.jsx("div",{className:"flex flex-col items-center justify-center h-full w-full",children:d?e.jsx("div",{className:"flex items-center gap-1.5 px-2",children:"checkbox"===r.fieldType?e.jsx("span",{className:"text-indigo-600 font-bold text-xs uppercase",children:"Tap to Toggle"}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-2 h-2 rounded-full bg-indigo-500 animate-pulse"}),e.jsx("span",{className:"text-xs md:text-sm font-bold text-indigo-700 truncate",children:r.label||("date"===r.fieldType?"Insert Date":"Tap to Sign")})]})}):e.jsx("span",{className:"text-xs text-slate-400 font-medium italic px-1 truncate",children:c||"Pending"})})})};Lt.workerSrc=Ix;const kg=()=>{const{token:s}=Ct(),a=kt(),[r,i]=vt.useState(!0),[l,c]=vt.useState(null),[u,h]=vt.useState(null),[m,p]=vt.useState(null),[x,g]=vt.useState(null),[v,y]=vt.useState(null),[w,j]=vt.useState([]),[N,k]=vt.useState({}),[S,C]=vt.useState(1),[_,D]=vt.useState(1),[T,z]=vt.useState(null),[M,A]=vt.useState(null),[O,F]=vt.useState("text"),[I,L]=vt.useState(""),[B,$]=vt.useState(null),[W,H]=vt.useState(null),V=vt.useRef(null),q=vt.useRef(null),[Y,G]=vt.useState(!1),[X,Q]=vt.useState(-1),[K,J]=vt.useState(!1),Z=w.filter(e=>e.metadata?.isMine&&e.metadata?.required&&!e.metadata?.value).sort((e,t)=>e.pageNumber-t.pageNumber||e.position.y-t.position.y),[ee,ne]=vt.useState(!1);vt.useEffect(()=>{s&&(async()=>{try{const e=await Rt.get(`http://127.0.0.1:8000/api/v1/signatures/${s}`),{document:t,current_signer:n,pdf_url:a,compliance:r}=e.data;h(t),p(n),g(a),z(r);const l=(t.fields||[]).map(e=>({id:e.id,type:e.type,pageNumber:e.page_number,position:{x:e.x_position,y:e.y_position},size:{width:e.width,height:e.height},metadata:{...e.metadata,isMine:e.signer_id===n.id,value:e.value,signeeName:e.signer_id===n.id?"You":t.signers.find(t=>t.id===e.signer_id)?.name||"Other"},signerId:e.signer_id}));j(l),i(!1)}catch(e){c(e.response?.data?.message||"Failed to load document."),i(!1)}})()},[s]);const[se,ae]=vt.useState(800);vt.useEffect(()=>{const e=()=>{const e=document.getElementById("pdf-wrapper");if(e){const t=e.clientWidth-32;ae(Math.min(t,800))}};e(),window.addEventListener("resize",e);const t=setTimeout(e,500);return()=>{window.removeEventListener("resize",e),clearTimeout(t)}},[]),vt.useEffect(()=>{if(M&&"draw"===O&&V.current){const e=V.current,t=window.devicePixelRatio||1;e.width=e.offsetWidth*t,e.height=e.offsetHeight*t;const n=e.getContext("2d");n.scale(t,t),n.lineCap="round",n.strokeStyle="#1e293b",n.lineWidth=2.5,q.current=n}},[M,O]);const re=e=>{G(!0);const{offsetX:t,offsetY:n}=ce(e),s=V.current;if(!s)return;const a=s.getContext("2d");a.beginPath(),a.moveTo(t,n),q.current=a},le=e=>{if(!Y)return;e.preventDefault();const{offsetX:t,offsetY:n}=ce(e);q.current&&(q.current.lineTo(t,n),q.current.stroke())},ce=e=>{if(e.touches&&e.touches[0]){const t=V.current.getBoundingClientRect();return{offsetX:e.touches[0].clientX-t.left,offsetY:e.touches[0].clientY-t.top}}return{offsetX:e.nativeEvent.offsetX,offsetY:e.nativeEvent.offsetY}},de=()=>{q.current.closePath(),G(!1),V.current&&$(V.current.toDataURL())},ue=()=>{const e=V.current,t=q.current;t.clearRect(0,0,e.width,e.height),e.width=e.width;const n=window.devicePixelRatio||1;t.scale(n,n),t.lineCap="round",t.strokeStyle="#1e293b",t.lineWidth=2.5,$(null)},he=()=>{const e=Z[0];if(e){me(e);const t=document.getElementById(`pdf-page-${e.pageNumber}`);t&&t.scrollIntoView({behavior:"smooth",block:"center"})}else At.success("All required fields completed!")},me=e=>{if(e.metadata.isMine){const{fieldType:t}=e.metadata,n=!!e.metadata.value;if("checkbox"===t){const t="true"===e.metadata.value?"":"true";return void pe(e.id,t,"checkbox")}if("date"===t){if(!e.metadata.value){const t=(new Date).toLocaleDateString();pe(e.id,t,"date"),At.success("Date filled")}return}if(n)return void At("You have already signed this field.");if(A(e),("text"===t||"initials"===t)&&"text"===t)return F("text_input"),void L(e.metadata.value||"");const s=e.metadata.type||"all";let a="text";"draw"===s&&(a="draw"),"upload"===s&&(a="upload"),F(a),L(""),$(null),H(null)}},pe=(e,t,n)=>{j(s=>s.map(s=>s.id===e?{...s,metadata:{...s.metadata,value:t,signatureType:n}}:s))},fe=()=>"text"===O||"text_input"===O?I.trim():"draw"===O?B:"upload"===O?W:null,[xe,ge]=vt.useState(""),[be,ve]=vt.useState(!1),ye=async()=>{try{await Rt.post(`http://127.0.0.1:8000/api/v1/signatures/${s}/send-otp`),ve(!0),At.success("OTP sent to your email.")}catch(e){At.error("Failed to send OTP.")}},we=async()=>{const e=w.filter(e=>e.metadata.isMine),t=e.filter(e=>!e.metadata.value);if(t.length>0)At.error(`Please sign all ${t.length} remaining fields marked as "You".`);else{ne(!0);try{const t={fields:e.map(e=>({id:e.id,value:e.metadata.value}))};t.fields.forEach((e,t)=>{}),await Rt.post(`http://127.0.0.1:8000/api/v1/signatures/${s}/sign`,t),At.success("Document signed successfully!"),setTimeout(()=>{h(e=>({...e,status:"completed"})),window.location.reload()},1e3)}catch(n){At.error("Failed to submit signatures.")}finally{ne(!1)}}};if(r)return e.jsx("div",{className:"flex items-center justify-center min-h-screen bg-slate-50",children:e.jsx(R,{className:"animate-spin text-indigo-600",size:32})});if(l)return e.jsx("div",{className:"flex flex-col items-center justify-center min-h-screen bg-slate-50 p-4",children:e.jsxs("div",{className:"bg-white p-8 rounded-xl shadow-lg max-w-md w-full text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(b,{className:"text-red-600",size:32})}),e.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-2",children:"Access Denied"}),e.jsx("p",{className:"text-gray-600 mb-6",children:l}),e.jsx("button",{onClick:()=>a("/"),className:"px-6 py-2 bg-slate-900 text-white rounded-lg hover:bg-slate-800 transition-colors",children:"Go Home"})]})});if("signed"===m?.status||"completed"===u?.status)return e.jsx("div",{className:"flex flex-col items-center justify-center min-h-screen bg-slate-50 p-4",children:e.jsxs("div",{className:"bg-white p-8 rounded-xl shadow-lg max-w-md w-full text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(f,{className:"text-green-600",size:32})}),e.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-2",children:"Document Signed!"}),e.jsxs("p",{className:"text-gray-600 mb-6",children:["Thank you for signing ",e.jsx("strong",{children:u?.name}),". A copy has been sent to all parties."]}),e.jsx("button",{onClick:()=>a("/"),className:"px-6 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors",children:"Return Home"})]})});const je=M?.metadata?.type||"all",Ne="all"===je||"text"===je,ke="all"===je||"draw"===je,Se="all"===je||"upload"===je;return e.jsxs("div",{className:"min-h-screen bg-slate-100 flex flex-col",children:[e.jsxs("header",{className:"bg-white shadow-sm border-b border-slate-100 flex items-center justify-between px-4 h-14 sticky top-0 z-50 md:hidden",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("button",{onClick:()=>J(!0),className:"p-2 -ml-2 text-slate-800 active:bg-slate-100 rounded-full transition-colors",children:e.jsx(n,{size:24})}),e.jsx("h1",{className:"text-base font-semibold text-slate-900 truncate max-w-[200px]",children:u?.name})]}),e.jsxs("div",{className:"w-8 h-8 bg-indigo-50 rounded-full flex items-center justify-center text-indigo-700 font-bold text-xs ring-2 ring-indigo-100",children:[w.filter(e=>e.metadata?.value).length,"/",w.filter(e=>e.metadata?.isMine).length]})]}),e.jsxs("header",{className:"bg-white shadow px-6 py-4 hidden md:flex items-center justify-between sticky top-0 z-50",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"bg-indigo-600 text-white p-2 rounded-lg",children:e.jsx(f,{size:20})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-lg font-bold text-slate-800 leading-tight",children:u?.name}),e.jsxs("p",{className:"text-xs text-slate-500",children:["Request from ",u?.creator?.name||"Sender"]})]})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("p",{className:"text-sm text-slate-600",children:["Signing as: ",e.jsx("span",{className:"font-semibold text-slate-900",children:m?.name})]}),e.jsx("button",{onClick:we,disabled:ee,className:"flex items-center gap-2 px-6 py-2.5 rounded-lg font-medium text-white transition-all shadow-sm "+(ee?"bg-indigo-400 cursor-not-allowed":"bg-indigo-600 hover:bg-indigo-700 hover:shadow-md active:transform active:scale-95"),children:ee?e.jsxs(e.Fragment,{children:[e.jsx(R,{size:18,className:"animate-spin"})," Submitting..."]}):e.jsxs(e.Fragment,{children:[e.jsx(_e,{size:18})," Finish Signing"]})})]})]}),T?.access_code_required&&!T?.is_verified&&!r&&e.jsx("div",{className:"fixed inset-0 z-[100] bg-slate-900/80 backdrop-blur-sm flex items-center justify-center p-4",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-md w-full p-6 animate-in zoom-in-95 duration-200",children:[e.jsx("div",{className:"w-12 h-12 bg-indigo-100 rounded-full flex items-center justify-center mb-4 mx-auto",children:e.jsx(d,{className:"text-indigo-600",size:28})}),e.jsx("h2",{className:"text-xl font-bold text-slate-900 mb-2 text-center",children:"Identity Verification Required"}),e.jsx("p",{className:"text-slate-600 text-sm mb-6 text-center",children:"This document requires additional identity verification. Please enter the code sent to your email."}),be?e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Enter Code"}),e.jsx("input",{type:"text",value:xe,onChange:e=>ge(e.target.value),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 text-center text-2xl tracking-widest font-mono",placeholder:"123456",maxLength:6})]}),e.jsx("button",{onClick:async()=>{try{await Rt.post(`http://127.0.0.1:8000/api/v1/signatures/${s}/verify-otp`,{otp:xe}),z(e=>({...e,is_verified:!0})),At.success("Identity verified.")}catch(e){At.error("Invalid OTP.")}},className:"w-full py-3 bg-indigo-600 hover:bg-indigo-700 text-white font-bold rounded-lg transition-colors",children:"Verify Code"}),e.jsx("button",{onClick:ye,className:"w-full py-2 text-indigo-600 text-sm font-medium hover:underline",children:"Resend Code"})]}):e.jsx("button",{onClick:ye,className:"w-full py-3 bg-indigo-600 hover:bg-indigo-700 text-white font-bold rounded-lg transition-colors",children:"Send Verification Code"})]})}),T?.consent_required&&!r&&e.jsx("div",{className:"fixed inset-0 z-[100] bg-slate-900/60 backdrop-blur-sm flex items-center justify-center p-4",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-lg w-full p-6 animate-in zoom-in-95 duration-200",children:[e.jsx("div",{className:"w-12 h-12 bg-indigo-100 rounded-full flex items-center justify-center mb-4",children:e.jsx(U,{className:"text-indigo-600",size:28})}),e.jsx("h2",{className:"text-xl font-bold text-slate-900 mb-2",children:"Electronic Records & Signature Disclosure"}),e.jsxs("div",{className:"text-slate-600 text-sm mb-6 space-y-3 max-h-[60vh] overflow-y-auto pr-2",children:[e.jsx("p",{children:"By continuing, you agree to receive documents electronically and sign them using an electronic signature."}),e.jsx("p",{children:"You acknowledge that your electronic signature is legally binding and equivalent to a handwritten signature."}),e.jsxs("p",{className:"text-xs text-slate-500 mt-4",children:["IP Address: ",T.ip_address||"Logged","  Timestamp: ",(new Date).toLocaleString()]})]}),e.jsxs("div",{className:"flex flex-col gap-3",children:[e.jsxs("button",{onClick:async()=>{try{await Rt.post(`http://127.0.0.1:8000/api/v1/signatures/${s}/agree`),z(e=>({...e,consent_required:!1})),At.success("Terms accepted.")}catch(e){At.error("Failed to accept terms.")}},className:"w-full py-3 bg-indigo-600 hover:bg-indigo-700 text-white font-bold rounded-lg transition-colors flex items-center justify-center gap-2",children:[e.jsx(f,{size:18}),"I Agree & Continue"]}),e.jsx("button",{onClick:()=>a("/"),className:"w-full py-3 bg-slate-100 hover:bg-slate-200 text-slate-700 font-medium rounded-lg transition-colors",children:"Decline"})]})]})}),e.jsx("main",{className:"flex-1 overflow-hidden flex justify-center p-4 md:p-8",children:e.jsxs("div",{className:"w-full max-w-7xl h-[calc(100vh-140px)] md:h-[calc(100vh-180px)] bg-white border border-slate-200 relative rounded-xl overflow-hidden shadow-2xl flex",children:[K&&e.jsxs("div",{className:"absolute inset-0 z-50 flex md:hidden",children:[e.jsxs("div",{className:"bg-white w-64 h-full shadow-2xl overflow-y-auto p-4 animate-in slide-in-from-left duration-200",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h3",{className:"font-bold text-slate-800 text-lg",children:"Menu"}),e.jsx("button",{onClick:()=>J(!1),className:"p-1 hover:bg-slate-100 rounded-lg",children:e.jsx(t,{size:24,className:"text-slate-500"})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"bg-indigo-50 rounded-xl p-4 border border-indigo-100",children:[e.jsx("p",{className:"text-xs text-indigo-800 font-semibold uppercase tracking-wider mb-1",children:"Your Progress"}),e.jsxs("div",{className:"text-2xl font-bold text-indigo-600 mb-2",children:[w.filter(e=>e.metadata?.value).length,"/",w.filter(e=>e.metadata?.isMine).length]}),e.jsx("div",{className:"w-full bg-white rounded-full h-2 overflow-hidden border border-indigo-100",children:e.jsx("div",{className:"bg-indigo-500 h-2 rounded-full transition-all",style:{width:(0===w.filter(e=>e.metadata?.isMine).length?0:w.filter(e=>e.metadata?.value).length/w.filter(e=>e.metadata?.isMine).length*100)+"%"}})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider",children:"Pages"}),v&&Array.from({length:v},(t,n)=>{const s=n+1,a=_===s;return e.jsxs("button",{onClick:()=>{const e=document.getElementById(`pdf-page-${s}`);e&&e.scrollIntoView({behavior:"smooth"}),D(s),J(!1)},className:"w-full text-left px-4 py-3 rounded-lg text-sm font-medium transition-colors "+(a?"bg-indigo-50 text-indigo-700":"text-slate-600 hover:bg-slate-50"),children:["Page ",s]},`mob-nav-${s}`)})]})]})]}),e.jsx("div",{className:"flex-1 bg-black/20 backdrop-blur-sm",onClick:()=>J(!1)})]}),e.jsxs("div",{className:"w-64 bg-gradient-to-b from-slate-50 to-slate-100/50 border-r border-slate-200 overflow-y-auto p-4 hidden md:block scrollbar-thin scrollbar-thumb-slate-400 scrollbar-track-slate-200",children:[e.jsxs("div",{className:"mb-4",children:[e.jsxs("h3",{className:"text-sm font-bold text-slate-700 uppercase tracking-wider mb-3 flex items-center gap-2",children:[e.jsx("div",{className:"w-1 h-4 bg-indigo-500 rounded-full"}),"Pages"]}),e.jsxs("div",{className:"bg-white rounded-xl p-3 mb-4 border border-slate-200 shadow-sm",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-xs font-semibold text-slate-600",children:"Signing Progress"}),e.jsxs("span",{className:"text-sm font-bold text-indigo-600",children:[w.filter(e=>e.metadata?.value).length,"/",w.filter(e=>e.metadata?.isMine).length]})]}),e.jsx("div",{className:"w-full bg-slate-200 rounded-full h-2 overflow-hidden",children:e.jsx("div",{className:"bg-gradient-to-r from-indigo-500 to-indigo-600 h-2 rounded-full transition-all duration-500 ease-out",style:{width:(0===w.filter(e=>e.metadata?.isMine).length?0:w.filter(e=>e.metadata?.value).length/w.filter(e=>e.metadata?.isMine).length*100)+"%"}})}),w.filter(e=>e.metadata?.isMine).length>0&&e.jsx("p",{className:"text-xs text-slate-500 mt-2",children:w.filter(e=>e.metadata?.value).length===w.filter(e=>e.metadata?.isMine).length?" All fields signed!":w.filter(e=>e.metadata?.isMine).length-w.filter(e=>e.metadata?.value).length+" remaining"})]})]}),e.jsx("div",{className:"space-y-3",children:v&&Array.from({length:v},(t,n)=>{const s=n+1,a=w.filter(e=>e.pageNumber===s&&e.metadata?.isMine),r=a.filter(e=>e.metadata?.value),i=a.length>0&&r.length===a.length,l=_===s;return e.jsxs("button",{onClick:()=>{const e=document.getElementById(`pdf-page-${s}`);e&&(e.scrollIntoView({behavior:"smooth",block:"start"}),D(s))},className:"w-full rounded-xl border-2 transition-all duration-200 overflow-hidden group "+(l?"border-indigo-500 bg-indigo-50 shadow-md ring-2 ring-indigo-200":"border-slate-200 bg-white hover:border-indigo-300 hover:shadow-md hover:bg-indigo-50/30"),children:[e.jsxs("div",{className:"relative bg-slate-100 border-b transition-all "+(l?"border-indigo-200":"border-slate-200"),children:[e.jsx("div",{className:"aspect-[8.5/11] overflow-hidden",children:x&&e.jsx(Bt,{file:x,children:e.jsx(It,{pageNumber:s,width:220,renderTextLayer:!1,renderAnnotationLayer:!1,className:"pointer-events-none"})})}),i&&e.jsx("div",{className:"absolute top-2 right-2 bg-emerald-500 text-white rounded-full p-1.5 shadow-lg",children:e.jsx(f,{size:12})})]}),e.jsxs("div",{className:"p-2.5",children:[e.jsxs("div",{className:"flex items-center justify-between mb-1.5",children:[e.jsxs("span",{className:"text-sm font-semibold "+(l?"text-indigo-700":"text-slate-700"),children:["Page ",s]}),a.length>0&&e.jsxs("span",{className:"text-xs font-medium px-2 py-0.5 rounded-full "+(i?"bg-emerald-100 text-emerald-700":"bg-amber-100 text-amber-700"),children:[r.length,"/",a.length]})]}),a.length>0&&e.jsx("div",{className:"w-full bg-slate-200 rounded-full h-1.5 overflow-hidden",children:e.jsx("div",{className:"h-1.5 rounded-full transition-all duration-300 "+(i?"bg-emerald-500":"bg-amber-500"),style:{width:r.length/a.length*100+"%"}})})]})]},`nav-page-${s}`)})})]}),e.jsxs("div",{className:"flex-1 relative flex flex-col items-center bg-slate-50 md:bg-gradient-to-br md:from-slate-50 md:to-slate-100/30 overflow-hidden",children:[e.jsxs("div",{className:"hidden md:flex w-full bg-white/90 backdrop-blur-xl border-b border-slate-200 p-3 items-center justify-between px-6 flex-shrink-0 shadow-sm",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-2 h-2 bg-indigo-500 rounded-full animate-pulse"}),e.jsx("span",{className:"text-sm font-bold text-slate-700",children:v?`${v} ${1===v?"Page":"Pages"}`:"Loading..."})]}),_&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-px h-4 bg-slate-300"}),e.jsxs("span",{className:"text-sm text-slate-500 font-medium",children:["Viewing Page ",_]})]})]}),e.jsx("div",{className:"flex items-center gap-3",children:e.jsxs("div",{className:"flex items-center gap-2 bg-slate-100 rounded-lg p-1",children:[e.jsx("button",{onClick:()=>C(e=>Math.max(e-.1,.5)),disabled:S<=.5,className:"p-2 text-slate-600 hover:bg-white hover:text-indigo-600 rounded-md transition-all disabled:opacity-40 disabled:cursor-not-allowed",title:"Zoom Out",children:e.jsx(De,{size:18})}),e.jsxs("span",{className:"text-sm font-mono font-bold text-slate-700 w-14 text-center bg-white px-2 py-1 rounded",children:[Math.round(100*S),"%"]}),e.jsx("button",{onClick:()=>C(e=>Math.min(e+.1,2)),disabled:S>=2,className:"p-2 text-slate-600 hover:bg-white hover:text-indigo-600 rounded-md transition-all disabled:opacity-40 disabled:cursor-not-allowed",title:"Zoom In",children:e.jsx(Te,{size:18})})]})})]}),e.jsxs("div",{id:"pdf-wrapper",className:"flex-1 w-full overflow-y-auto overflow-x-hidden p-0 md:p-8 flex flex-col items-center scrollbar-thin scrollbar-thumb-slate-400 scrollbar-track-slate-200",onScroll:e=>{const t=e.target;t.querySelectorAll("[data-page-container]").forEach(e=>{const n=e.getBoundingClientRect(),s=t.getBoundingClientRect();if(n.top>=s.top&&n.top<s.top+200){const t=parseInt(e.getAttribute("data-page-number"));D(t)}})},children:[x&&e.jsx(Bt,{file:x,onLoadSuccess:({numPages:e})=>{y(e)},loading:e.jsxs("div",{className:"flex flex-col items-center justify-center py-20",children:[e.jsx("div",{className:"w-12 h-12 border-4 border-indigo-200 border-t-indigo-600 rounded-full animate-spin mb-4"}),e.jsx("p",{className:"text-slate-600 font-semibold text-lg",children:"Loading PDF..."}),e.jsx("p",{className:"text-slate-400 text-sm mt-1",children:"Please wait while we prepare your document"})]}),error:e.jsx("div",{className:"text-center py-20 px-6",children:e.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-xl p-6 inline-block",children:[e.jsx(b,{className:"w-14 h-14 text-red-400 mx-auto mb-4"}),e.jsx("p",{className:"text-red-600 font-bold text-lg mb-2",children:"Failed to load PDF document"}),e.jsx("p",{className:"text-sm text-slate-500",children:"Please ensure it is a valid PDF file."})]})}),className:"flex flex-col items-center gap-8 w-full",children:v&&Array.from({length:v},(t,n)=>e.jsxs("div",{id:`pdf-page-${n+1}`,"data-page-container":!0,"data-page-number":n+1,className:"relative mb-2 md:mb-8 transition-all group",style:{width:"fit-content",margin:window.innerWidth<768?"0 auto 8px auto":"0 auto 2rem auto"},children:[e.jsx("div",{className:"absolute -top-4 left-1/2 -translate-x-1/2 z-10 hidden md:block",children:e.jsxs("div",{className:"bg-indigo-600 text-white text-xs font-bold px-3 py-1 rounded-full shadow-md",children:["Page ",n+1]})}),e.jsx("div",{className:"bg-white md:rounded-lg shadow-sm md:shadow-xl border-b md:border-2 border-slate-200 overflow-hidden",children:e.jsx(It,{pageNumber:n+1,renderTextLayer:!0,renderAnnotationLayer:!1,className:"md:rounded-lg",width:se,scale:S,onLoadSuccess:e=>{const t=e.getViewport({scale:1});k(e=>({...e,[n+1]:{width:t.width,height:t.height}}))}})}),N[n+1]&&w.filter(e=>e.pageNumber===n+1).map(t=>{const s=N[n+1],a=s.height/s.width,r=se*S,i=r*a;return e.jsx(Ng,{field:t,onClick:me,pageWidth:r,pageHeight:i},t.id)})]},`page_${n+1}`))}),e.jsx("div",{className:"h-40 w-full flex-shrink-0"})]})]})]})}),e.jsxs("div",{className:"fixed bottom-0 left-0 right-0 bg-white border-t border-slate-200 p-4 pb-safe z-[60] md:hidden flex items-center justify-between gap-4 shadow-[0_-4px_12px_-4px_rgba(0,0,0,0.1)]",children:[e.jsxs("div",{className:"flex flex-col",children:[e.jsxs("span",{className:"text-xs text-slate-500 font-medium",children:[w.filter(e=>e.metadata?.value).length,"/",w.filter(e=>e.metadata?.isMine).length," Signed"]}),e.jsxs("span",{className:"text-xs text-indigo-600 font-bold",children:[v," Pages"]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("button",{onClick:we,disabled:ee,className:"px-4 py-2.5 rounded-lg font-bold text-sm transition-colors border-2 "+(ee?"border-slate-200 text-slate-400":"border-indigo-100 text-indigo-600 hover:bg-indigo-50"),children:ee?"Saving...":"Finish"}),Z.length>0?e.jsxs("button",{onClick:he,className:"bg-indigo-600 text-white px-6 py-2.5 rounded-lg font-bold shadow-lg shadow-indigo-600/20 active:scale-95 transition-all flex items-center gap-2 text-sm",children:[0===w.filter(e=>e.metadata.isMine&&e.metadata.value).length?"Start":"Next",e.jsx(o,{size:16})]}):e.jsxs("div",{className:"flex items-center gap-2 text-emerald-600 font-bold text-sm px-4",children:[e.jsx(f,{size:16})," All Set!"]})]})]}),e.jsx("div",{className:"hidden md:flex fixed bottom-10 right-10 z-[60] flex-col items-end gap-3 pointer-events-none",children:Z.length>0&&e.jsxs("button",{onClick:he,className:"pointer-events-auto bg-indigo-600 text-white px-6 py-3 rounded-full font-bold shadow-lg shadow-indigo-600/30 hover:bg-indigo-700 hover:scale-105 active:scale-95 transition-all flex items-center gap-2 animate-bounce-subtle",children:[0===w.filter(e=>e.metadata.isMine&&e.metadata.value).length?"Start Signing":"Next Field",e.jsx(o,{size:18})]})}),M&&e.jsx("div",{className:"fixed inset-0 z-[100] flex items-end md:items-center justify-center bg-black/50 backdrop-blur-sm p-0 md:p-4",children:e.jsxs("div",{className:"bg-white w-full md:w-full md:max-w-md rounded-t-2xl md:rounded-2xl shadow-2xl overflow-hidden animate-in slide-in-from-bottom md:zoom-in duration-200 flex flex-col max-h-[85vh] md:max-h-[90vh]",children:[e.jsxs("div",{className:"px-6 py-4 border-b border-slate-100 flex justify-between items-center bg-slate-50/50",children:[e.jsx("h3",{className:"font-bold text-slate-800",children:"Sign Document"}),e.jsx("button",{onClick:()=>A(null),className:"text-slate-400 hover:text-slate-600",children:""})]}),e.jsxs("div",{className:"p-6 overflow-y-auto",children:["text_input"!==O&&e.jsxs("div",{className:"flex gap-2 p-1 bg-slate-100 rounded-xl mb-6",children:[Ne&&e.jsxs("button",{onClick:()=>F("text"),className:"flex-1 flex items-center justify-center gap-2 py-2 px-3 rounded-lg font-medium text-xs transition-all "+("text"===O?"bg-white text-indigo-600 shadow-sm":"text-slate-600 hover:text-slate-800"),children:[e.jsx(ie,{size:16})," Type"]}),ke&&e.jsxs("button",{onClick:()=>F("draw"),className:"flex-1 flex items-center justify-center gap-2 py-2 px-3 rounded-lg font-medium text-xs transition-all "+("draw"===O?"bg-white text-indigo-600 shadow-sm":"text-slate-600 hover:text-slate-800"),children:[e.jsx(P,{size:16})," Draw"]}),Se&&e.jsxs("button",{onClick:()=>F("upload"),className:"flex-1 flex items-center justify-center gap-2 py-2 px-3 rounded-lg font-medium text-xs transition-all "+("upload"===O?"bg-white text-indigo-600 shadow-sm":"text-slate-600 hover:text-slate-800"),children:[e.jsx(E,{size:16})," Upload"]})]}),"text"===O&&e.jsxs("div",{className:"space-y-4",children:[e.jsx("p",{className:"text-sm text-slate-500",children:"Type your name below. We'll convert it to a signature."}),e.jsx("input",{type:"text",autoFocus:!0,value:I,onChange:e=>L(e.target.value),placeholder:`Signed by ${m.name}`,className:"w-full text-xl font-handwriting px-4 py-3 bg-slate-50 border border-slate-200 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 outline-none transition-all placeholder:text-slate-300",style:{fontFamily:"Dancing Script, cursive"}})]}),"text_input"===O&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(ie,{size:18,className:"text-indigo-600"}),e.jsx("h3",{className:"font-semibold text-slate-700",children:M.metadata.label||"Enter Text"})]}),e.jsx("input",{type:"text",autoFocus:!0,value:I,onChange:e=>L(e.target.value),placeholder:M.metadata.placeholder||"Type here...",className:"w-full text-base px-4 py-3 bg-white border border-slate-300 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 outline-none transition-all placeholder:text-slate-400"})]}),"draw"===O&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"relative border-2 border-dashed border-slate-300 rounded-xl bg-slate-50 touch-none",children:[e.jsx("canvas",{ref:V,onMouseDown:re,onMouseMove:le,onMouseUp:de,onMouseLeave:de,onTouchStart:re,onTouchMove:le,onTouchEnd:de,className:"w-full h-48 cursor-crosshair block rounded-xl",style:{width:"100%",height:"192px"}}),e.jsx("button",{onClick:ue,className:"absolute top-2 right-2 p-1.5 bg-white rounded-lg shadow border border-slate-200 hover:bg-red-50 hover:text-red-500",title:"Clear",children:e.jsx(te,{size:16})}),!Y&&!B&&e.jsx("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none opacity-50",children:e.jsx("span",{className:"text-slate-400 text-sm",children:"Draw here"})})]}),e.jsxs("button",{onClick:ue,className:"flex items-center gap-2 text-xs text-slate-500 hover:text-slate-700",children:[e.jsx(oe,{size:14})," Clear Signature"]})]}),"upload"===O&&e.jsx("div",{className:"space-y-4",children:e.jsx("div",{className:"border-2 border-dashed border-slate-300 rounded-xl p-8 text-center bg-slate-50",children:W?e.jsxs("div",{className:"space-y-4",children:[e.jsx("img",{src:W,alt:"Uploaded",className:"max-h-24 mx-auto"}),e.jsx("button",{onClick:()=>H(null),className:"text-xs font-medium text-red-600 hover:text-red-700",children:"Remove & Retry"})]}):e.jsxs(e.Fragment,{children:[e.jsx(E,{size:32,className:"text-slate-400 mx-auto mb-2"}),e.jsx("p",{className:"text-xs text-slate-500 mb-4",children:"PNG, JPG (max 5MB)"}),e.jsxs("label",{className:"inline-block cursor-pointer",children:[e.jsx("span",{className:"px-4 py-2 bg-white border border-slate-300 rounded-lg text-xs font-medium text-slate-700 hover:bg-slate-50",children:"Choose Image"}),e.jsx("input",{type:"file",accept:"image/*",onChange:e=>{const t=e.target.files[0];if(t&&t.type.startsWith("image/")){const e=new FileReader;e.onload=e=>H(e.target.result),e.readAsDataURL(t)}},className:"hidden"})]})]})})})]}),e.jsxs("div",{className:"px-6 py-4 bg-slate-50 border-t border-slate-100 flex justify-end gap-3 filter-none z-10 sticky bottom-0",children:[e.jsx("button",{onClick:()=>A(null),className:"px-4 py-2 text-sm font-medium text-slate-600 hover:bg-slate-200 rounded-lg transition-colors",children:"Cancel"}),e.jsx("button",{onClick:async()=>{const e=fe();if(M&&e)try{j(t=>t.map(t=>t.id===M.id?{...t,metadata:{...t.metadata,value:e,signatureType:O}}:t)),A(null),At.success("Signature saved locally. Click 'Finish Signing' when done.")}catch(t){At.error("Error updating signature.")}else At.error("Please provide a signature.")},disabled:!fe(),className:"px-6 py-2 text-sm font-medium bg-indigo-600 text-white hover:bg-indigo-700 rounded-lg shadow-sm transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:"Apply Signature"})]})]})}),e.jsx("style",{children:"\n                @import url('https://fonts.googleapis.com/css2?family=Dancing+Script:wght@400;700&display=swap');\n                .font-handwriting { font-family: 'Dancing Script', cursive; }\n            "})]})},Sg=({isOpen:n,onClose:r,onSignupSuccess:i,documentTitle:l,suggestedBusinessName:c})=>{const{setToken:d,setUser:u}=ts(),[h,m]=vt.useState(!1),[p,f]=vt.useState({name:"",email:"",password:"",business_name:""});vt.useEffect(()=>{c&&f(e=>({...e,business_name:c}))},[c]);const x=e=>{f(t=>({...t,[e.target.name]:e.target.value}))};return e.jsx(s,{children:n&&e.jsxs(e.Fragment,{children:[e.jsx(a.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-slate-900/40 backdrop-blur-sm z-50",onClick:r}),e.jsxs(a.div,{initial:{scale:.95,opacity:0,y:20},animate:{scale:1,opacity:1,y:0},exit:{scale:.95,opacity:0,y:20},className:"fixed left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 w-full max-w-md bg-white rounded-2xl shadow-2xl z-50 overflow-hidden",children:[e.jsxs("div",{className:"p-6 bg-slate-50 border-b border-slate-100 flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-bold text-slate-800",children:"Save Your Document"}),e.jsx("p",{className:"text-sm text-slate-500",children:"Create a free account to save & export."})]}),e.jsx("button",{onClick:r,className:"p-2 hover:bg-white rounded-full text-slate-400 transition-colors",children:e.jsx(t,{size:20})})]}),e.jsxs("form",{onSubmit:async e=>{e.preventDefault(),m(!0);try{const e=await Jn.post("/register",{name:p.name,email:p.email,password:p.password,password_confirmation:p.password,device_name:"web"}),{token:n,data:s}=e.data;d(n),u(s);try{const e=p.business_name||`${p.name}'s Business`;await Jn.post("/businesses",{name:e,email:p.email,industry:"Other",size:"Freelancer",city:"Remote",country:"Global"})}catch(t){}At.success("Account created successfully!"),i(n)}catch(n){if(n.response?.data?.errors){Object.values(n.response.data.errors).flat().forEach(e=>At.error(e))}else At.error("Signup failed. Please try again.")}finally{m(!1)}},className:"p-6 space-y-4",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"text-sm font-semibold text-slate-700",children:"Full Name"}),e.jsx("input",{type:"text",name:"name",required:!0,className:"w-full px-4 py-2 bg-white border border-slate-200 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent outline-none transition-all",placeholder:"John Doe",value:p.name,onChange:x})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"text-sm font-semibold text-slate-700",children:"Email Address"}),e.jsx("input",{type:"email",name:"email",required:!0,className:"w-full px-4 py-2 bg-white border border-slate-200 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent outline-none transition-all",placeholder:"john@company.com",value:p.email,onChange:x})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsxs("label",{className:"text-sm font-semibold text-slate-700",children:["Business Name ",e.jsx("span",{className:"text-slate-400 font-normal",children:"(Optional)"})]}),e.jsx("input",{type:"text",name:"business_name",className:"w-full px-4 py-2 bg-white border border-slate-200 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent outline-none transition-all",placeholder:"Acme Inc.",value:p.business_name,onChange:x})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"text-sm font-semibold text-slate-700",children:"Password"}),e.jsx("input",{type:"password",name:"password",required:!0,minLength:8,className:"w-full px-4 py-2 bg-white border border-slate-200 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent outline-none transition-all",placeholder:"",value:p.password,onChange:x})]}),e.jsxs("div",{className:"pt-4",children:[e.jsx("button",{type:"submit",disabled:h,className:"w-full py-3 bg-indigo-600 hover:bg-indigo-700 text-white font-bold rounded-xl shadow-lg shadow-indigo-200 transition-all flex items-center justify-center gap-2 disabled:opacity-70 disabled:cursor-not-allowed",children:h?e.jsx(y,{size:20,className:"animate-spin"}):e.jsxs(e.Fragment,{children:["Create Account & Save ",e.jsx(o,{size:20})]})}),e.jsx("p",{className:"text-xs text-center text-slate-400 mt-4",children:"By signing up, you agree to our Terms of Service and Privacy Policy."})]})]})]})]})})},Cg=({onSaveRequest:t})=>{const n=kt(),{formData:s,docContent:a,signatures:r,documentName:i,setDocumentName:l,isLoading:o,handleFormChange:c,handleContentChange:d,addSection:u,removeSection:h,updateSection:m,reorderSections:p,addSignature:f,updateSignature:x,removeSignature:g,styles:b,updateStyle:v,resetStyles:w}=Am(null),j=dd("(min-width: 1024px)"),[N,k]=vt.useState("edit"),[S,C]=vt.useState(1),[_,P]=vt.useState(null),[D,T]=vt.useState(null),[E,z]=vt.useState(null),M=yt.useRef(null),[R,A]=vt.useState({isOpen:!1,data:null}),O=Kd(Qd(qu,{activationConstraint:{distance:8}}),Qd(Ju,{activationConstraint:{delay:250,tolerance:5}})),I=yt.useDeferredValue(s),L=yt.useDeferredValue(a),B=()=>{const e={name:i,type_slug:"nda",content:JSON.stringify({formData:s,docContent:a,signatures:r,styles:b}),status:"draft",suggestedBusinessName:s.disclosingPartyName};t(e)};return o?e.jsx("div",{className:"flex h-screen items-center justify-center bg-slate-50",children:e.jsx(y,{size:40,className:"animate-spin text-indigo-600 mb-4"})}):e.jsx(Mh,{sensors:O,onDragStart:e=>P(e.active),onDragEnd:e=>{const{active:t,over:n}=e;if(P(null),n&&"document-canvas"===n.id){const e=document.getElementById("printable-document");if(e&&t.rect.current.translated){const n=e.getBoundingClientRect(),s=(t.rect.current.translated.left-n.left)/S,a=(t.rect.current.translated.top-n.top)/S;if("toolbar-item"===t.data.current?.type)A({isOpen:!0,data:{id:null,position:{x:s,y:a},type:"all",required:!0,order:r.length+1}});else if("signature-field"===t.data.current?.type){const e=t.id;x(e,{position:{x:s,y:a}})}}}},children:e.jsxs("div",{className:"flex flex-col h-screen bg-slate-100 overflow-hidden",children:[e.jsx(gm,{isOpen:R.isOpen,onClose:()=>A({isOpen:!1,data:null}),onSave:e=>{if(e.id)x(e.id,{metadata:{signeeName:e.signeeName,signeeEmail:e.signeeEmail,type:e.type,required:e.required,order:e.order}});else{const t={id:zm(),position:R.data.position,metadata:{signeeName:e.signeeName,signeeEmail:e.signeeEmail,type:e.type,required:e.required,order:e.order}};f(t)}},initialData:R.data,parties:{disclosingPartyName:s.disclosingPartyName,receivingPartyName:s.receivingPartyName,disclosingSignatoryName:s.disclosingSignatoryName,receivingSignatoryName:s.receivingSignatoryName}}),e.jsx(Xh,{dropAnimation:{sideEffects:({active:e})=>(document.body.style.cursor="grabbing",()=>{document.body.style.cursor=""})},children:_?"toolbar-item"===_.data.current?.type?e.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-lg border border-indigo-500 bg-white shadow-xl opacity-90 cursor-grabbing ring-2 ring-indigo-500/20 w-48",children:[e.jsx("div",{className:"p-2 rounded-md bg-indigo-100 text-indigo-600",children:e.jsx("div",{className:"w-5 h-5 flex items-center justify-center font-bold",children:"+"})}),e.jsx("span",{className:"text-sm font-medium text-slate-900",children:"Placing Field..."})]}):"signature-field"===_.data.current?.type?e.jsxs("div",{className:"w-64 bg-white/95 backdrop-blur-sm border-2 border-indigo-500 rounded-lg shadow-2xl p-3 flex flex-col cursor-grabbing",children:[e.jsx("div",{className:"flex items-center gap-2 text-indigo-700 font-semibold border-b pb-2 mb-2",children:e.jsx("span",{children:_.data.current.signeeName||"Signature"})}),e.jsx("div",{className:"h-10 flex items-center justify-center text-indigo-200",children:"Sign Here"})]}):null:null}),e.jsxs("header",{className:"no-print h-14 md:h-16 bg-white/80 backdrop-blur-md border-b border-slate-200/60 px-4 md:px-6 flex items-center justify-between flex-shrink-0 z-30 shadow-sm relative transition-all duration-300",children:[e.jsxs("div",{className:"flex items-center gap-2 md:gap-4",children:[e.jsx("button",{onClick:()=>n("/create-document"),className:"p-2 hover:bg-slate-100 rounded-full text-slate-500 transition-colors flex-shrink-0",title:"Back",children:e.jsx(F,{size:20})}),e.jsxs("div",{className:"min-w-0 relative",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{ref:M,type:"text",value:i,onChange:e=>{l(e.target.value),D&&T(null)},className:"font-bold text-sm md:text-lg bg-transparent border-b-2 focus:ring-0 p-0 m-0 w-auto min-w-[150px] max-w-[300px] placeholder-slate-400 truncate transition-colors "+(D?"border-red-500 text-slate-800 ring-4 ring-red-500/10":"border-transparent hover:border-slate-200 text-slate-800"),placeholder:"Enter Document Name"}),e.jsx("button",{onClick:()=>{const e=s.receivingPartyName?.trim();e?(l(`NDA - ${e}`),T(null),z(null),At.success("Generated smart name!")):At.error("Enter 'Receiving Party Name' in the form first.")},className:"p-1.5 text-slate-400 hover:text-indigo-600 hover:bg-indigo-50 rounded-md transition-colors",children:e.jsx(Pe,{size:16})}),e.jsx("span",{className:"px-2 py-0.5 bg-indigo-100 text-indigo-700 text-xs rounded-full uppercase tracking-wide",children:"Guest Mode"})]}),e.jsx("p",{className:"text-[10px] md:text-xs text-slate-400 font-medium whitespace-nowrap hidden sm:block mt-0.5",children:"Create your document and sign up to save."})]})]}),e.jsxs("div",{className:"flex items-center gap-2 md:gap-3",children:[e.jsxs("div",{className:"hidden lg:flex items-center bg-slate-100 rounded-lg p-1 mr-4",children:[e.jsx("button",{onClick:()=>C(e=>Math.max(e-.1,.5)),className:"p-1.5 hover:bg-white hover:shadow-sm rounded-md text-slate-500 transition-all",children:e.jsx(De,{size:16})}),e.jsxs("span",{className:"text-xs font-semibold text-slate-600 w-12 text-center",children:[Math.round(100*S),"%"]}),e.jsx("button",{onClick:()=>C(e=>Math.min(e+.1,1.5)),className:"p-1.5 hover:bg-white hover:shadow-sm rounded-md text-slate-500 transition-all",children:e.jsx(Te,{size:16})})]}),e.jsxs("button",{onClick:B,className:"flex items-center gap-2 px-5 py-2 rounded-lg text-white font-medium shadow-md transition-all bg-indigo-600 hover:bg-indigo-700",children:[e.jsx(_e,{size:18}),e.jsx("span",{children:"Save & Create Account"})]})]})]}),e.jsxs("div",{className:"flex flex-col lg:flex-row flex-1 overflow-hidden relative pb-[70px] lg:pb-0",children:[e.jsx("div",{className:"no-print w-full lg:w-[400px] h-full bg-white border-b lg:border-b-0 lg:border-r border-slate-200 overflow-y-auto z-20 shadow-sm flex-shrink-0 lg:order-1 "+(j||"edit"===N?"block":"hidden"),children:e.jsx(sm,{formData:s,onChange:c,docContent:a,onContentChange:d,addSection:u,removeSection:h,updateSection:m,reorderSections:p,styles:b,onStyleUpdate:v,onStyleReset:w})}),e.jsxs("div",{className:"flex-1 h-full overflow-y-auto bg-slate-50/50 p-4 md:p-8 sm:p-12 flex justify-center items-start scrollbar-thin scrollbar-thumb-slate-300 lg:order-2 "+(j||"preview"===N?"flex":"hidden"),style:{backgroundImage:"radial-gradient(#cbd5e1 1px, transparent 1px)",backgroundSize:"20px 20px"},children:[e.jsx(lm,{data:I,content:L,zoom:S,signatures:r,onUpdateSignature:x,onRemoveSignature:g,onEditSignature:e=>{A({isOpen:!0,data:{id:e.id,...e.metadata}})},styles:b}),!j&&"preview"===N&&e.jsx("button",{onClick:()=>{A({isOpen:!0,data:{id:null,position:{x:50,y:100},type:"all",required:!0,order:r.length+1}})},className:"fixed bottom-24 right-6 w-14 h-14 bg-indigo-600 text-white rounded-full shadow-lg shadow-indigo-600/30 flex items-center justify-center hover:bg-indigo-700 transition-transform active:scale-95 z-30",children:e.jsx("span",{className:"text-2xl font-bold",children:"+"})})]})]}),!j&&e.jsxs("div",{className:"fixed bottom-0 left-0 right-0 bg-white border-t border-slate-200 flex justify-between items-center px-6 py-3 pb-safe z-40 safe-area-bottom",children:[e.jsx("button",{onClick:()=>k("edit"),className:"flex flex-col items-center gap-1 "+("edit"===N?"text-indigo-600":"text-slate-400"),children:e.jsx("span",{className:"text-[10px] font-medium",children:"Editor"})}),e.jsx("button",{onClick:()=>k("preview"),className:"flex flex-col items-center gap-1 "+("preview"===N?"text-indigo-600":"text-slate-400"),children:e.jsx("span",{className:"text-[10px] font-medium",children:"Preview"})}),e.jsxs("button",{onClick:B,className:"flex flex-col items-center gap-1 text-slate-400 active:text-indigo-600",children:[e.jsx(_e,{size:24}),e.jsx("span",{className:"text-[10px] font-medium",children:"Save"})]})]})]})})},_g={title:"Business / Project Proposal",sections:[{id:"1",title:"Introduction",content:"This proposal is submitted by {{providerCompany}} to {{clientName}} to outline the scope, deliverables, timelines, and commercial terms for {{projectDescription}}. This document is intended to present a clear understanding of the proposed engagement and to serve as a basis for mutual agreement."},{id:"2",title:"Client Objectives",content:"The objective of this proposal is to assist {{clientCompany}} in achieving the following goals:\n\n{{objectivesList}}"},{id:"3",title:"Scope of Work",content:"The scope of work under this proposal shall include, but is not limited to, the following services:\n\n**4.1 Services Included**\n{{scopeIncludedList}}\n\n**4.2 Services Excluded**\nAny services not explicitly mentioned above shall be considered outside the scope and may be provided under a separate agreement or change request."},{id:"4",title:"Deliverables",content:"The following deliverables shall be provided as part of this engagement:\n\n{{deliverablesList}}\n\nAll deliverables shall be submitted in the agreed format and within the defined timeline."},{id:"5",title:"Project Timeline",content:"The estimated timeline for completion of the project is as follows (see table below). Timelines are indicative and subject to client approvals and dependencies."},{id:"6",title:"Commercials & Pricing",content:"The total professional fees for the services described in this proposal shall be: {{totalProjectCost}}.\n\n**Payment Terms**\n- [Percentage] payable upon acceptance\n- [Percentage] payable upon milestone completion\n- [Percentage] payable upon final delivery\n\nAll payments shall be made within {{paymentDays}} days from the date of invoice."},{id:"7",title:"Client Responsibilities",content:"The Client agrees to:\n- Provide accurate and timely information\n- Share necessary access, approvals, and feedback\n- Assign a single point of contact for communication\n\nDelays caused due to client dependencies may impact project timelines."},{id:"8",title:"Confidentiality",content:"Both parties agree to maintain strict confidentiality of all proprietary, technical, commercial, and business information exchanged during the course of this engagement. Confidential information shall not be disclosed to any third party without prior written consent."},{id:"9",title:"Intellectual Property Rights",content:"Unless otherwise agreed in writing:\n- All intellectual property developed during the project shall remain the property of {{providerCompany}} until full payment is received.\n- Upon full payment, ownership or license rights shall be transferred as mutually agreed."},{id:"10",title:"Limitation of Liability",content:"In no event shall either party be liable for indirect, incidental, or consequential damages. The total liability of {{providerCompany}} shall not exceed the total fees paid under this proposal."},{id:"11",title:"Term & Termination",content:"This proposal shall remain valid for {{validityDays}} days from the proposal date. Either party may terminate the engagement by providing {{noticeDays}} days written notice. Fees for work completed up to the termination date shall be payable."},{id:"12",title:"Governing Law",content:"This proposal shall be governed by and construed in accordance with the laws of {{jurisdiction}}, and courts of {{courtCity}} shall have exclusive jurisdiction."}]},Pg=({onSaveRequest:t})=>{const n=kt(),s=dd("(min-width: 1024px)"),[a,r]=vt.useState("edit"),[i,l]=vt.useState(1),[o,c]=vt.useState("Untitled Proposal"),[d,u]=vt.useState(null),[h,m]=vt.useState({proposalTitle:"Website Redesign Project",proposalDate:(new Date).toLocaleDateString(),logoSize:80,logoAlignment:"center",brandingEnabled:!0,referenceNo:"",clientName:"",clientCompany:"",clientAddress:"",providerName:"",providerCompany:"",providerAddress:"",projectDescription:"",totalProjectCost:"",paymentDays:"15",validityDays:"30",noticeDays:"30",jurisdiction:"",courtCity:"",timeline:[{phase:"Phase 1",description:"Requirement Analysis",duration:"5 days"},{phase:"Phase 2",description:"Execution / Development",duration:"15 days"},{phase:"Phase 3",description:"Review & Final Delivery",duration:"5 days"}],objectivesList:["Increase website traffic by 30%","Improve conversion rates","Modernize brand identity"],scopeIncludedList:["UX/UI Design of 5 core pages","Frontend Development (React)","Mobile Responsiveness"],scopeExcludedList:["Content creation","Hosting setup","Ongoing maintenance"],deliverablesList:["High-fidelity mockups (Figma)","Production-ready code repository","Admin dashboard access"]}),[p,f]=vt.useState(_g),{styles:x,updateStyle:g,resetStyles:b}=Rm(),v=yt.useDeferredValue(h),y=yt.useDeferredValue(p),w=()=>{const e={name:o,type_slug:"proposal",content:JSON.stringify({formData:h,docContent:p,styles:x}),status:"draft",suggestedBusinessName:h.providerCompany};t(e)};return e.jsxs("div",{className:"flex flex-col h-screen bg-slate-100 overflow-hidden",children:[e.jsxs("header",{className:"no-print h-14 md:h-16 bg-white/80 backdrop-blur-md border-b border-slate-200/60 px-4 md:px-6 flex items-center justify-between flex-shrink-0 z-30 shadow-sm relative transition-all duration-300",children:[e.jsxs("div",{className:"flex items-center gap-2 md:gap-4",children:[e.jsx("button",{onClick:()=>n("/create-document"),className:"p-2 hover:bg-slate-100 rounded-full text-slate-500 transition-colors flex-shrink-0",title:"Back",children:e.jsx(F,{size:20})}),e.jsxs("div",{className:"min-w-0 relative",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"text",value:o,onChange:e=>{c(e.target.value),d&&u(null)},className:"font-bold text-sm md:text-lg bg-transparent border-b-2 focus:ring-0 p-0 m-0 w-auto min-w-[150px] max-w-[300px] placeholder-slate-400 truncate transition-colors "+(d?"border-red-500 text-slate-800 ring-4 ring-red-500/10":"border-transparent hover:border-slate-200 text-slate-800"),placeholder:"Enter Document Name"}),e.jsx("button",{onClick:()=>{const e=h.clientCompany||h.clientName;e&&e.trim()?(c(`Proposal - ${e.trim()}`),u(null),At.success("Generated smart name!")):At.error("Enter 'Client Company' or 'Client Name' first.")},className:"p-1.5 text-slate-400 hover:text-indigo-600 hover:bg-indigo-50 rounded-md transition-colors",children:e.jsx(Pe,{size:16})}),e.jsx("span",{className:"px-2 py-0.5 bg-indigo-100 text-indigo-700 text-xs rounded-full uppercase tracking-wide",children:"Guest Mode"})]}),e.jsx("p",{className:"text-[10px] md:text-xs text-slate-400 font-medium whitespace-nowrap hidden sm:block mt-0.5",children:"Create your document and sign up to save."})]})]}),e.jsxs("div",{className:"flex items-center gap-2 md:gap-3",children:[e.jsxs("div",{className:"hidden lg:flex items-center bg-slate-100 rounded-lg p-1 mr-4",children:[e.jsx("button",{onClick:()=>l(e=>Math.max(e-.1,.5)),className:"p-1.5 hover:bg-white hover:shadow-sm rounded-md text-slate-500 transition-all",children:e.jsx(De,{size:16})}),e.jsxs("span",{className:"text-xs font-semibold text-slate-600 w-12 text-center",children:[Math.round(100*i),"%"]}),e.jsx("button",{onClick:()=>l(e=>Math.min(e+.1,1.5)),className:"p-1.5 hover:bg-white hover:shadow-sm rounded-md text-slate-500 transition-all",children:e.jsx(Te,{size:16})})]}),e.jsxs("button",{onClick:w,className:"flex items-center gap-2 px-5 py-2 rounded-lg text-white font-medium shadow-md transition-all bg-indigo-600 hover:bg-indigo-700",children:[e.jsx(_e,{size:18}),e.jsx("span",{children:"Save & Create Account"})]})]})]}),e.jsxs("div",{className:"flex flex-col lg:flex-row flex-1 overflow-hidden relative pb-[70px] lg:pb-0",children:[e.jsx("div",{className:"no-print w-full lg:w-[400px] h-full bg-white border-b lg:border-b-0 lg:border-r border-slate-200 overflow-y-auto z-20 shadow-sm flex-shrink-0 lg:order-1 "+(s||"edit"===a?"block":"hidden"),children:e.jsx(Fp,{formData:h,onChange:e=>{const{name:t,value:n}=e.target;m(e=>({...e,[t]:n}))},docContent:p,onContentChange:e=>{const{name:t,value:n}=e.target;f(e=>({...e,[t]:n}))},addSection:()=>{const e={id:Math.random().toString(36).substr(2,9),title:"New Section",content:"Enter the details of this new clause here..."};f(t=>({...t,sections:[...t.sections,e]}))},removeSection:e=>{f(t=>({...t,sections:t.sections.filter(t=>t.id!==e)}))},updateSection:(e,t,n)=>{f(s=>({...s,sections:s.sections.map(s=>s.id===e?{...s,[t]:n}:s)}))},reorderSections:e=>{f(t=>({...t,sections:e}))},updateTimeline:(e,t,n)=>{const s=[...h.timeline];s[e][t]=n,m(e=>({...e,timeline:s}))},addTimelineRow:()=>{m(e=>({...e,timeline:[...e.timeline,{phase:"New Phase",description:"",duration:""}]}))},removeTimelineRow:e=>{h.timeline.length<=1||m(t=>({...t,timeline:t.timeline.filter((t,n)=>n!==e)}))},addListItem:e=>{m(t=>({...t,[e]:[...t[e]||[],"New Item"]}))},removeListItem:(e,t)=>{m(n=>({...n,[e]:n[e].filter((e,n)=>n!==t)}))},updateListItem:(e,t,n)=>{const s=[...h[e]];s[t]=n,m(t=>({...t,[e]:s}))},styles:x,onStyleUpdate:g,onStyleReset:b})}),e.jsx("div",{className:"flex-1 h-full overflow-y-auto bg-slate-50/50 p-4 md:p-8 sm:p-12 flex justify-center items-start scrollbar-thin scrollbar-thumb-slate-300 lg:order-2 "+(s||"preview"===a?"flex":"hidden"),style:{backgroundImage:"radial-gradient(#cbd5e1 1px, transparent 1px)",backgroundSize:"20px 20px"},children:e.jsx(Ip,{data:v,content:y,zoom:i,styles:x})})]}),!s&&e.jsxs("div",{className:"fixed bottom-0 left-0 right-0 bg-white border-t border-slate-200 flex justify-between items-center px-6 py-3 pb-safe z-40 safe-area-bottom",children:[e.jsx("button",{onClick:()=>r("edit"),className:"flex flex-col items-center gap-1 "+("edit"===a?"text-indigo-600":"text-slate-400"),children:e.jsx("span",{className:"text-[10px] font-medium",children:"Editor"})}),e.jsx("button",{onClick:()=>r("preview"),className:"flex flex-col items-center gap-1 "+("preview"===a?"text-indigo-600":"text-slate-400"),children:e.jsx("span",{className:"text-[10px] font-medium",children:"Preview"})}),e.jsxs("button",{onClick:w,className:"flex flex-col items-center gap-1 text-slate-400 active:text-indigo-600",children:[e.jsx(_e,{size:24}),e.jsx("span",{className:"text-[10px] font-medium",children:"Save"})]})]})]})},Dg=({onSaveRequest:t})=>{const n=kt(),{formData:s,docContent:a,signatures:r,documentName:i,setDocumentName:l,isLoading:o,handleFormChange:c,handleContentChange:d,addSection:u,removeSection:h,updateSection:m,reorderSections:p,addSignature:f,updateSignature:x,removeSignature:g,styles:b,updateStyle:v,resetStyles:w}=nf(null),j=dd("(min-width: 1024px)"),[N,k]=vt.useState("edit"),[S,C]=vt.useState(1),[_,P]=vt.useState(null),[D,T]=vt.useState(null),[E,z]=vt.useState(null),M=yt.useRef(null),[R,A]=vt.useState({isOpen:!1,data:null}),O=Kd(Qd(qu,{activationConstraint:{distance:8}}),Qd(Ju,{activationConstraint:{delay:250,tolerance:5}})),I=yt.useDeferredValue(s),L=yt.useDeferredValue(a),B=()=>{const e={name:i,type_slug:"consulting-agreement",content:JSON.stringify({formData:s,docContent:a,signatures:r,styles:b}),status:"draft",suggestedBusinessName:s.clientName};t(e)};return o?e.jsx("div",{className:"flex h-screen items-center justify-center bg-slate-50",children:e.jsx(y,{size:40,className:"animate-spin text-indigo-600 mb-4"})}):e.jsx(Mh,{sensors:O,onDragStart:e=>P(e.active),onDragEnd:e=>{const{active:t,over:n}=e;if(P(null),n&&"document-canvas"===n.id){const e=document.getElementById("printable-document");if(e&&t.rect.current.translated){const n=e.getBoundingClientRect(),s=(t.rect.current.translated.left-n.left)/S,a=(t.rect.current.translated.top-n.top)/S;"toolbar-item"===t.data.current?.type?A({isOpen:!0,data:{id:null,position:{x:s,y:a},type:"all",required:!0,order:r.length+1}}):"signature-field"===t.data.current?.type&&x(t.id,{position:{x:s,y:a}})}}},children:e.jsxs("div",{className:"flex flex-col h-screen bg-slate-100 overflow-hidden",children:[e.jsx(gm,{isOpen:R.isOpen,onClose:()=>A({isOpen:!1,data:null}),onSave:e=>{if(e.id)x(e.id,{metadata:{signeeName:e.signeeName,signeeEmail:e.signeeEmail,type:e.type,required:e.required,order:e.order}});else{const t={id:zm(),position:R.data.position,metadata:{signeeName:e.signeeName,signeeEmail:e.signeeEmail,type:e.type,required:e.required,order:e.order}};f(t)}},initialData:R.data,parties:{disclosingPartyName:s.clientName,receivingPartyName:s.consultantName,disclosingSignatoryName:s.clientSignatoryName,receivingSignatoryName:s.consultantSignatoryName}}),e.jsx(Xh,{dropAnimation:{sideEffects:({active:e})=>(document.body.style.cursor="grabbing",()=>{document.body.style.cursor=""})},children:_?"toolbar-item"===_.data.current?.type?e.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-lg border border-indigo-500 bg-white shadow-xl opacity-90 cursor-grabbing ring-2 ring-indigo-500/20 w-48",children:[e.jsx("div",{className:"p-2 rounded-md bg-indigo-100 text-indigo-600",children:e.jsx("div",{className:"w-5 h-5 flex items-center justify-center font-bold",children:"+"})}),e.jsx("span",{className:"text-sm font-medium text-slate-900",children:"Placing Field..."})]}):"signature-field"===_.data.current?.type?e.jsxs("div",{className:"w-64 bg-white/95 backdrop-blur-sm border-2 border-indigo-500 rounded-lg shadow-2xl p-3 flex flex-col cursor-grabbing",children:[e.jsx("div",{className:"flex items-center gap-2 text-indigo-700 font-semibold border-b pb-2 mb-2",children:e.jsx("span",{children:_.data.current.signeeName||"Signature"})}),e.jsx("div",{className:"h-10 flex items-center justify-center text-indigo-200",children:"Sign Here"})]}):null:null}),e.jsxs("header",{className:"no-print h-14 md:h-16 bg-white/80 backdrop-blur-md border-b border-slate-200/60 px-4 md:px-6 flex items-center justify-between flex-shrink-0 z-30 shadow-sm relative transition-all duration-300",children:[e.jsxs("div",{className:"flex items-center gap-2 md:gap-4",children:[e.jsx("button",{onClick:()=>n("/create-document"),className:"p-2 hover:bg-slate-100 rounded-full text-slate-500 transition-colors flex-shrink-0",children:e.jsx(F,{size:20})}),e.jsxs("div",{className:"min-w-0 relative",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{ref:M,type:"text",value:i,onChange:e=>{l(e.target.value),D&&T(null)},className:"font-bold text-sm md:text-lg bg-transparent border-b-2 focus:ring-0 p-0 m-0 w-auto min-w-[150px] max-w-[300px] placeholder-slate-400 truncate transition-colors "+(D?"border-red-500 text-slate-800 ring-4 ring-red-500/10":"border-transparent hover:border-slate-200 text-slate-800"),placeholder:"Enter Document Name"}),e.jsx("button",{onClick:()=>{const e=s.clientName?.trim(),t=s.consultantName?.trim();e&&t?(l(`Consulting Agreement - ${e} & ${t}`),T(null),z(null),At.success("Generated smart name!")):At.error("Enter Client and Consultant names first.")},className:"p-1.5 text-slate-400 hover:text-indigo-600 hover:bg-indigo-50 rounded-md transition-colors",children:e.jsx(Pe,{size:16})}),e.jsx("span",{className:"px-2 py-0.5 bg-indigo-100 text-indigo-700 text-xs rounded-full uppercase tracking-wide",children:"Guest Mode"})]}),e.jsx("p",{className:"text-[10px] md:text-xs text-slate-400 font-medium whitespace-nowrap hidden sm:block mt-0.5",children:"Create your document and sign up to save."})]})]}),e.jsxs("div",{className:"flex items-center gap-2 md:gap-3",children:[e.jsxs("div",{className:"hidden lg:flex items-center bg-slate-100 rounded-lg p-1 mr-4",children:[e.jsx("button",{onClick:()=>C(e=>Math.max(e-.1,.5)),className:"p-1.5 hover:bg-white hover:shadow-sm rounded-md text-slate-500 transition-all",children:e.jsx(De,{size:16})}),e.jsxs("span",{className:"text-xs font-semibold text-slate-600 w-12 text-center",children:[Math.round(100*S),"%"]}),e.jsx("button",{onClick:()=>C(e=>Math.min(e+.1,1.5)),className:"p-1.5 hover:bg-white hover:shadow-sm rounded-md text-slate-500 transition-all",children:e.jsx(Te,{size:16})})]}),e.jsxs("button",{onClick:B,className:"flex items-center gap-2 px-5 py-2 rounded-lg text-white font-medium shadow-md transition-all bg-indigo-600 hover:bg-indigo-700",children:[e.jsx(_e,{size:18}),e.jsx("span",{children:"Save & Create Account"})]})]})]}),e.jsxs("div",{className:"flex flex-col lg:flex-row flex-1 overflow-hidden relative pb-[70px] lg:pb-0",children:[e.jsx("div",{className:"no-print w-full lg:w-[400px] h-full bg-white border-b lg:border-b-0 lg:border-r border-slate-200 overflow-y-auto z-20 shadow-sm flex-shrink-0 lg:order-1 "+(j||"edit"===N?"block":"hidden"),children:e.jsx(Jp,{formData:s,onChange:c,docContent:a,onContentChange:d,addSection:u,removeSection:h,updateSection:m,reorderSections:p,styles:b,onStyleUpdate:v,onStyleReset:w})}),e.jsxs("div",{className:"flex-1 h-full overflow-y-auto bg-slate-50/50 p-4 md:p-8 sm:p-12 flex justify-center items-start scrollbar-thin scrollbar-thumb-slate-300 lg:order-2 "+(j||"preview"===N?"flex":"hidden"),style:{backgroundImage:"radial-gradient(#cbd5e1 1px, transparent 1px)",backgroundSize:"20px 20px"},children:[e.jsx(Zp,{data:I,content:L,zoom:S,signatures:r,onRemoveSignature:g,onEditSignature:e=>{A({isOpen:!0,data:{id:e.id,...e.metadata}})},styles:b,businessLogo:null}),!j&&"preview"===N&&e.jsx("button",{onClick:()=>{A({isOpen:!0,data:{id:null,position:{x:50,y:100},type:"all",required:!0,order:r.length+1}})},className:"fixed bottom-24 right-6 w-14 h-14 bg-indigo-600 text-white rounded-full shadow-lg shadow-indigo-600/30 flex items-center justify-center hover:bg-indigo-700 transition-transform active:scale-95 z-30",children:e.jsx("span",{className:"text-2xl font-bold",children:"+"})})]})]}),!j&&e.jsxs("div",{className:"fixed bottom-0 left-0 right-0 bg-white border-t border-slate-200 flex justify-between items-center px-6 py-3 pb-safe z-40 safe-area-bottom",children:[e.jsx("button",{onClick:()=>k("edit"),className:"flex flex-col items-center gap-1 "+("edit"===N?"text-indigo-600":"text-slate-400"),children:e.jsx("span",{className:"text-[10px] font-medium",children:"Editor"})}),e.jsx("button",{onClick:()=>k("preview"),className:"flex flex-col items-center gap-1 "+("preview"===N?"text-indigo-600":"text-slate-400"),children:e.jsx("span",{className:"text-[10px] font-medium",children:"Preview"})}),e.jsxs("button",{onClick:B,className:"flex flex-col items-center gap-1 text-slate-400 active:text-indigo-600",children:[e.jsx(_e,{size:24}),e.jsx("span",{className:"text-[10px] font-medium",children:"Save"})]})]})]})})},Tg={nda:{title:"Create Non-Disclosure Agreement (NDA) - Free",description:"Generate a professional Non-Disclosure Agreement instantly. Protect your confidential information without signup."},proposal:{title:"Create Business Proposal - Free Template",description:"Build a winning business proposal with our free generator. Add objectives, timeline, and pricing."},"consulting-agreement":{title:"Create Consulting Services Agreement - Free",description:"Draft a watertight consulting agreement. Define scope, payment terms, and deliverabes."},default:{title:"Create Document - DocForge",description:"Free online document generator for freelancers and agencies."}},Eg={nda:{metadata:{title:"Non-Disclosure Agreement",version:"1.0",theme:"default"},blocks:[{id:"h1_nda",type:"HEADING",data:{level:1,text:"Non-Disclosure Agreement",align:"center"}},{id:"p1_nda",type:"TEXT",data:{text:'This Non-Disclosure Agreement (the "Agreement") is entered into as of {{date}} by and between {{discloser_name}} ("Discloser") and {{recipient_name}} ("Recipient").'}},{id:"h2_conf",type:"HEADING",data:{level:2,text:"1. Confidential Information"}},{id:"p2_conf",type:"TEXT",data:{text:'For purposes of this Agreement, "Confidential Information" shall mean any and all non-public information, including but not limited to technical data, trade secrets, know-how, software, and business plans.'}},{id:"h2_obl",type:"HEADING",data:{level:2,text:"2. Obligations"}},{id:"p3_obl",type:"TEXT",data:{text:"Recipient agrees to hold and maintain Confidential Information in strictest confidence and not to disclose it to any third party without Discloser's prior written consent."}},{id:"sig_area",type:"TEXT",data:{text:"\n\nSigned by: __________________________\nDate: {{date}}"}}],variables:{date:{value:(new Date).toLocaleDateString(),type:"date",label:"Agreement Date"},discloser_name:{value:"",type:"text",label:"Discloser Name"},recipient_name:{value:"",type:"text",label:"Recipient Name"}}},proposal:{metadata:{title:"Business Proposal",version:"1.0",theme:"modern"},blocks:[{id:"h1_prop",type:"HEADING",data:{level:1,text:"Project Proposal",align:"left"}},{id:"p_intro",type:"TEXT",data:{text:"Prepared for: {{client_name}}\nPrepared by: {{my_company}}"}},{id:"h2_exec",type:"HEADING",data:{level:2,text:"Executive Summary"}},{id:"p_exec",type:"TEXT",data:{text:"We are pleased to present this proposal to {{client_name}}. Our goal is to provide a comprehensive solution that meets your needs for {{project_scope}}."}},{id:"h2_sol",type:"HEADING",data:{level:2,text:"Proposed Solution"}},{id:"p_sol",type:"TEXT",data:{text:"Our team will deliver the following key components:\n1. Analysis and Design\n2. Implementation Phase\n3. Testing and Deployment"}},{id:"h2_cost",type:"HEADING",data:{level:2,text:"Investment"}},{id:"p_cost",type:"TEXT",data:{text:"The total estimated investment for this project is {{total_cost}}. This covers all phases outlined above."}}],variables:{client_name:{value:"",type:"text",label:"Client Name"},my_company:{value:"",type:"text",label:"My Company"},project_scope:{value:"Web Development",type:"text",label:"Project Scope"},total_cost:{value:"$5,000",type:"text",label:"Total Cost"}}},"consulting-agreement":{metadata:{title:"Consulting Agreement",version:"1.0",theme:"formal"},blocks:[{id:"h1_srv",type:"HEADING",data:{level:1,text:"Consulting Agreement",align:"center"}},{id:"p_parties",type:"TEXT",data:{text:'This Consulting Agreement is made effectively as of {{start_date}} by and between {{provider_name}} ("Provider") and {{client_name}} ("Client").'}},{id:"h2_scope",type:"HEADING",data:{level:2,text:"Scope of Services"}},{id:"p_scope",type:"TEXT",data:{text:"Provider agrees to provide the following services: {{service_description}}. Provider shall perform these services in a professional manner."}},{id:"h2_pay",type:"HEADING",data:{level:2,text:"Payment Terms"}},{id:"p_pay",type:"TEXT",data:{text:"Client agrees to pay Provider at the rate of {{rate}} per hour. Payment shall be due within 30 days of invoice receipt."}},{id:"h2_term",type:"HEADING",data:{level:2,text:"Term and Termination"}},{id:"p_term",type:"TEXT",data:{text:"This Agreement shall commence on {{start_date}} and continue until terminated by either party with 14 days written notice."}}],variables:{start_date:{value:(new Date).toLocaleDateString(),type:"date",label:"Start Date"},provider_name:{value:"",type:"text",label:"Provider Name"},client_name:{value:"",type:"text",label:"Client Name"},service_description:{value:"",type:"text",label:"Description of Services"},rate:{value:"$100",type:"text",label:"Hourly Rate"}}}},zg=()=>{const{template:t}=Ct(),n=kt(),{documentState:s,actions:a}=gp(),r=Tg[t]||Tg.default,[i,l]=vt.useState(!1),[o,c]=vt.useState(!1),[d,u]=vt.useState(null),[h,m]=vt.useState("");vt.useEffect(()=>{if("nda"===t)return;const e=Eg[t&&Eg[t]?t:"nda"];e&&a.loadDocument({metadata:{...e.metadata,title:e.metadata.title},blocks:e.blocks.map(e=>({...e,id:rp()})),variables:e.variables,history:{past:[],future:[]}})},[t]);const p=Kd(Qd(qu,{activationConstraint:{distance:8}})),f=e=>{e.suggestedBusinessName&&(m(e.suggestedBusinessName),delete e.suggestedBusinessName),u(e),l(!0)},x=async e=>{l(!1),c(!0);const t=At.loading("Saving document and creating account...");try{if(!d)throw new Error("No document data to save.");const e=(await Jn.post("/documents",d)).data.data;At.dismiss(t),At.success("Document saved! Redirecting to your dashboard..."),n(`/documents/${e.type?.slug||"general"}/${e.id}`)}catch(s){At.dismiss(t);const e=s.response?.data?.message||"Failed to save document.";At.error(e)}finally{c(!1),u(null)}};return"nda"===t?e.jsxs(e.Fragment,{children:[e.jsx(ls,{title:r.title,description:r.description}),e.jsx(Cg,{onSaveRequest:f}),e.jsx(Sg,{isOpen:i,onClose:()=>l(!1),onSignupSuccess:x,suggestedBusinessName:h})]}):"proposal"===t?e.jsxs(e.Fragment,{children:[e.jsx(ls,{title:r.title,description:r.description}),e.jsx(Pg,{onSaveRequest:f}),e.jsx(Sg,{isOpen:i,onClose:()=>l(!1),onSignupSuccess:x,suggestedBusinessName:h})]}):"consulting-agreement"===t?e.jsxs(e.Fragment,{children:[e.jsx(ls,{title:r.title,description:r.description}),e.jsx(Dg,{onSaveRequest:f}),e.jsx(Sg,{isOpen:i,onClose:()=>l(!1),onSignupSuccess:x,suggestedBusinessName:h})]}):e.jsxs(Mh,{sensors:p,collisionDetection:au,children:[e.jsx(ls,{title:r.title,description:r.description}),e.jsxs("div",{className:"flex flex-col h-screen bg-slate-50 overflow-hidden",children:[e.jsxs("header",{className:"h-16 bg-white border-b border-slate-200 px-6 flex items-center justify-between z-30 shrink-0",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("button",{onClick:()=>n("/create-document"),className:"p-2 hover:bg-slate-100 rounded-full text-slate-500",children:e.jsx(F,{size:20})}),e.jsxs("h1",{className:"text-lg font-bold text-slate-800 flex items-center gap-2",children:[s.metadata.title,e.jsx("span",{className:"px-2 py-0.5 bg-indigo-100 text-indigo-700 text-xs rounded-full uppercase tracking-wide",children:"Guest Mode"})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"text-xs text-slate-400 font-medium hidden sm:block",children:"Changes saved locally until you export."}),e.jsxs("button",{onClick:()=>{const e={blocks:s.blocks,variables:s.variables,metadata:s.metadata},n={name:s.metadata.title,type_slug:t||"nda",content:JSON.stringify(e),status:"draft"};u(n),l(!0)},disabled:o,className:"flex items-center gap-2 px-6 py-2 bg-indigo-600 text-white font-bold rounded-full hover:bg-indigo-700 shadow-lg shadow-indigo-200 hover:-translate-y-0.5 transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:[o?e.jsx(y,{className:"animate-spin",size:18}):e.jsx(_e,{size:18}),o?"Saving...":"Save & Create Account"]})]})]}),e.jsxs("div",{className:"flex flex-1 overflow-hidden",children:[e.jsxs("div",{className:"w-[300px] bg-white border-r border-slate-200 flex flex-col z-20",children:[e.jsx(_p,{}),e.jsx("div",{className:"h-px bg-slate-200 my-2"}),e.jsx(Ep,{variables:s.variables,onAdd:a.addVariable})]}),e.jsx("div",{className:"flex-1 bg-slate-100 overflow-y-auto p-8 flex justify-center",children:e.jsx(Sp,{blocks:s.blocks,actions:a,readOnly:!1,businessData:{},selectedBlockId:s.selectedBlockId,onSelectBlock:a.selectBlock})}),e.jsx("div",{className:"w-[280px] bg-white border-l border-slate-200 z-20",children:e.jsx(Dp,{selectedBlock:s.blocks.find(e=>e.id===s.selectedBlockId),updateBlock:a.updateBlock,removeBlock:a.removeBlock})})]}),e.jsx(Sg,{isOpen:i,onClose:()=>l(!1),onSignupSuccess:x,suggestedBusinessName:h})]})]})},Mg=({children:t})=>{const{user:n,loading:s}=ts();return s?e.jsx("div",{className:"flex items-center justify-center min-h-screen bg-slate-50",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-indigo-600"})}):n?e.jsx(Tt,{to:"/dashboard",replace:!0}):t||e.jsx(Nt,{})},Rg=()=>{const{pathname:e}=wt();return vt.useEffect(()=>{window.scrollTo(0,0)},[e]),null};function Ag(){return e.jsx(es,{children:e.jsx(Un,{children:e.jsxs(Et,{children:[e.jsx(Rg,{}),e.jsx(Ft,{position:"top-right",toastOptions:{duration:4e3,className:"text-sm font-medium text-slate-800",style:{background:"#ffffff",color:"#1e293b",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.08)",border:"1px solid #e2e8f0",padding:"12px 16px",borderRadius:"8px"},success:{iconTheme:{primary:"#10b981",secondary:"#fff"}},error:{iconTheme:{primary:"#ef4444",secondary:"#fff"}}}}),e.jsxs(zt,{children:[e.jsxs(Mt,{element:e.jsx(is,{}),children:[e.jsx(Mt,{path:"/",element:e.jsx(ms,{})}),e.jsx(Mt,{path:"/features",element:e.jsx(hg,{})}),e.jsx(Mt,{path:"/pricing",element:e.jsx(mg,{})}),e.jsx(Mt,{path:"/about",element:e.jsx(pg,{})}),e.jsx(Mt,{path:"/privacy",element:e.jsx(fg,{})}),e.jsx(Mt,{path:"/terms",element:e.jsx(xg,{})}),e.jsx(Mt,{path:"/contact",element:e.jsx(gg,{})}),e.jsx(Mt,{path:"/careers",element:e.jsx(bg,{})}),e.jsx(Mt,{path:"/changelog",element:e.jsx(vg,{})}),e.jsx(Mt,{path:"/blog",element:e.jsx(yg,{})}),e.jsx(Mt,{path:"/blog/:slug",element:e.jsx(wg,{})}),e.jsx(Mt,{path:"/accept-invite",element:e.jsx(Ss,{})}),e.jsx(Mt,{path:"/verify-email",element:e.jsx(_s,{})}),e.jsx(Mt,{path:"/verify-email-message",element:e.jsx(Cs,{})})]}),e.jsx(Mt,{element:e.jsx(ug,{redirectPath:"/login"}),children:e.jsx(Mt,{path:"/onboarding",element:e.jsx(ks,{})})}),e.jsx(Mt,{path:"/view/:token",element:e.jsx(jg,{})}),e.jsx(Mt,{path:"/sign/:token",element:e.jsx(kg,{})}),e.jsx(Mt,{path:"/create-document/:template",element:e.jsx(zg,{})}),e.jsxs(Mt,{element:e.jsx(Mg,{}),children:[e.jsx(Mt,{path:"/login",element:e.jsx(bs,{})}),e.jsx(Mt,{path:"/register",element:e.jsx(ys,{})}),e.jsx(Mt,{path:"/forgot-password",element:e.jsx(Ps,{})}),e.jsx(Mt,{path:"/password-reset/:token",element:e.jsx(Ds,{})}),e.jsx(Mt,{path:"/auth/callback",element:e.jsx(Ts,{})})]}),e.jsx(Mt,{element:e.jsx(ug,{}),children:e.jsxs(Mt,{element:e.jsx(fd,{}),children:[e.jsx(Mt,{path:"/dashboard",element:e.jsx(od,{})}),e.jsxs(Mt,{element:e.jsx(ug,{permission:"document.view"}),children:[e.jsx(Mt,{path:"/drive",element:e.jsx(cg,{})}),e.jsx(Mt,{path:"/drive/trash",element:e.jsx(dg,{})}),e.jsx(Mt,{path:"/documents",element:e.jsx(vx,{})}),e.jsx(Mt,{path:"/documents/nda",element:e.jsx(Rp,{})}),e.jsx(Mt,{path:"/documents/nda/:id",element:e.jsx(Rp,{})}),e.jsx(Mt,{path:"/documents/proposal",element:e.jsx(Wp,{})}),e.jsx(Mt,{path:"/documents/proposal/:id",element:e.jsx(Wp,{})}),e.jsx(Mt,{path:"/documents/invoice",element:e.jsx(Vp,{})}),e.jsx(Mt,{path:"/documents/invoice/:id",element:e.jsx(Vp,{})}),e.jsx(Mt,{path:"/documents/offer-letter",element:e.jsx(Kp,{})}),e.jsx(Mt,{path:"/documents/offer-letter/:id",element:e.jsx(Kp,{})}),e.jsx(Mt,{path:"/documents/consulting-agreement",element:e.jsx(rf,{})}),e.jsx(Mt,{path:"/documents/consulting-agreement/:id",element:e.jsx(rf,{})}),e.jsx(Mt,{path:"/documents/general/:id",element:e.jsx(zp,{})})]}),e.jsx(Mt,{element:e.jsx(ug,{permission:"team.view"}),children:e.jsx(Mt,{path:"/team",element:e.jsx(Ax,{})})}),e.jsxs(Mt,{element:e.jsx(ug,{permission:"settings.signature"}),children:[e.jsx(Mt,{path:"/signatures",element:e.jsx(Yx,{})}),e.jsx(Mt,{path:"/signatures/list",element:e.jsx(Qx,{})}),e.jsx(Mt,{path:"/signatures/:documentId/view-signed",element:e.jsx(Zx,{})})]}),e.jsx(Mt,{path:"/document-engine/test",element:e.jsx(zp,{})}),e.jsx(Mt,{element:e.jsx(ug,{permission:"settings.manage"}),children:e.jsx(Mt,{path:"/settings",element:e.jsx(zx,{})})})]})})]})]})})})}Zt.createRoot(document.getElementById("root")).render(e.jsx(vt.StrictMode,{children:e.jsx(Ag,{})}));
