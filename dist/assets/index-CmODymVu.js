import{j as e,X as t,M as n,A as r,m as a,S as s,Z as i,F as o,a as l,b as c,L as d,c as u,P as h,U as m,d as p,C as f,e as g,f as x,g as b,h as v,i as y,Q as w,k as j,B as N,l as k,n as S,o as C,p as _,q as P,r as E,G as D,s as O,t as T,u as M,v as A,w as z,x as R,y as I,z as F,T as L,D as B,E as $,H as W,I as U,J as H,K as V,N as q,O as Y,R as G,V as K,W as X,Y as Q,_ as J,$ as Z,a0 as ee,a1 as te,a2 as ne,a3 as re,a4 as ae,a5 as se,a6 as ie,a7 as oe,a8 as le,a9 as ce,aa as de,ab as ue,ac as he,ad as me,ae as pe,af as fe,ag as ge,ah as xe,ai as be,aj as ve,ak as ye,al as we,am as je,an as Ne,ao as ke,ap as Se,aq as Ce,ar as _e,as as Pe,at as Ee,au as De,av as Oe,aw as Te,ax as Me,ay as Ae,az as ze,aA as Re,aB as Ie,aC as Fe,aD as Le,aE as Be,aF as $e,aG as We,aH as Ue,aI as He,aJ as Ve,aK as qe,aL as Ye,aM as Ge,aN as Ke,aO as Xe,aP as Qe,aQ as Je,aR as Ze,aS as et,aT as tt,aU as nt,aV as rt,aW as at,aX as st,aY as it,aZ as ot,a_ as lt,a$ as ct,b0 as dt,b1 as ut,b2 as ht,b3 as mt,b4 as pt,b5 as ft,b6 as gt,b7 as xt,b8 as bt,b9 as vt,ba as yt}from"./ui-vendor-RUOh59Z6.js";import{a as wt,b as jt,g as Nt,r as kt,R as St,u as Ct,L as _t,O as Pt,c as Et,d as Dt,e as Ot,N as Tt,f as Mt,h as At,i as zt,j as Rt,B as It,k as Ft,l as Lt}from"./react-vendor-DWHxgY1g.js";import{a as Bt,z as $t,n as Wt,F as Ut}from"./form-vendor-YFOUmxaT.js";import{P as Ht,G as Vt,D as qt,c as Yt}from"./pdf-vendor-CQOyP9dA.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver(e=>{for(const n of e)if("childList"===n.type)for(const e of n.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)}).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();var Gt,Kt,Xt,Qt,Jt={exports:{}},Zt={},en={exports:{}},tn={};function nn(){return Kt||(Kt=1,en.exports=(Gt||(Gt=1,function(e){function t(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,s=e[r];if(!(0<a(s,t)))break e;e[r]=t,e[n]=s,n=r}}function n(e){return 0===e.length?null:e[0]}function r(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,s=e.length,i=s>>>1;r<i;){var o=2*(r+1)-1,l=e[o],c=o+1,d=e[c];if(0>a(l,n))c<s&&0>a(d,l)?(e[r]=d,e[c]=n,r=c):(e[r]=l,e[o]=n,r=o);else{if(!(c<s&&0>a(d,n)))break e;e[r]=d,e[c]=n,r=c}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if(e.unstable_now=void 0,"object"==typeof performance&&"function"==typeof performance.now){var s=performance;e.unstable_now=function(){return s.now()}}else{var i=Date,o=i.now();e.unstable_now=function(){return i.now()-o}}var l=[],c=[],d=1,u=null,h=3,m=!1,p=!1,f=!1,g=!1,x="function"==typeof setTimeout?setTimeout:null,b="function"==typeof clearTimeout?clearTimeout:null,v="undefined"!=typeof setImmediate?setImmediate:null;function y(e){for(var a=n(c);null!==a;){if(null===a.callback)r(c);else{if(!(a.startTime<=e))break;r(c),a.sortIndex=a.expirationTime,t(l,a)}a=n(c)}}function w(e){if(f=!1,y(e),!p)if(null!==n(l))p=!0,N||(N=!0,j());else{var t=n(c);null!==t&&O(w,t.startTime-e)}}var j,N=!1,k=-1,S=5,C=-1;function _(){return!(!g&&e.unstable_now()-C<S)}function P(){if(g=!1,N){var t=e.unstable_now();C=t;var a=!0;try{e:{p=!1,f&&(f=!1,b(k),k=-1),m=!0;var s=h;try{t:{for(y(t),u=n(l);null!==u&&!(u.expirationTime>t&&_());){var i=u.callback;if("function"==typeof i){u.callback=null,h=u.priorityLevel;var o=i(u.expirationTime<=t);if(t=e.unstable_now(),"function"==typeof o){u.callback=o,y(t),a=!0;break t}u===n(l)&&r(l),y(t)}else r(l);u=n(l)}if(null!==u)a=!0;else{var d=n(c);null!==d&&O(w,d.startTime-t),a=!1}}break e}finally{u=null,h=s,m=!1}a=void 0}}finally{a?j():N=!1}}}if("function"==typeof v)j=function(){v(P)};else if("undefined"!=typeof MessageChannel){var E=new MessageChannel,D=E.port2;E.port1.onmessage=P,j=function(){D.postMessage(null)}}else j=function(){x(P,0)};function O(t,n){k=x(function(){t(e.unstable_now())},n)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(e){e.callback=null},e.unstable_forceFrameRate=function(e){0>e||125<e||(S=0<e?Math.floor(1e3/e):5)},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_next=function(e){switch(h){case 1:case 2:case 3:var t=3;break;default:t=h}var n=h;h=t;try{return e()}finally{h=n}},e.unstable_requestPaint=function(){g=!0},e.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=h;h=e;try{return t()}finally{h=n}},e.unstable_scheduleCallback=function(r,a,s){var i=e.unstable_now();switch(s="object"==typeof s&&null!==s&&"number"==typeof(s=s.delay)&&0<s?i+s:i,r){case 1:var o=-1;break;case 2:o=250;break;case 5:o=1073741823;break;case 4:o=1e4;break;default:o=5e3}return r={id:d++,callback:a,priorityLevel:r,startTime:s,expirationTime:o=s+o,sortIndex:-1},s>i?(r.sortIndex=s,t(c,r),null===n(l)&&r===n(c)&&(f?(b(k),k=-1):f=!0,O(w,s-i))):(r.sortIndex=o,t(l,r),p||m||(p=!0,N||(N=!0,j()))),r},e.unstable_shouldYield=_,e.unstable_wrapCallback=function(e){var t=h;return function(){var n=h;h=t;try{return e.apply(this,arguments)}finally{h=n}}}}(tn)),tn)),en.exports}function rn(){if(Xt)return Zt;Xt=1;var e=nn(),t=wt(),n=jt();function r(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function s(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{!!(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function i(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function o(e){if(31===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function l(e){if(s(e)!==e)throw Error(r(188))}function c(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e;for(e=e.child;null!==e;){if(null!==(t=c(e)))return t;e=e.sibling}return null}var d=Object.assign,u=Symbol.for("react.element"),h=Symbol.for("react.transitional.element"),m=Symbol.for("react.portal"),p=Symbol.for("react.fragment"),f=Symbol.for("react.strict_mode"),g=Symbol.for("react.profiler"),x=Symbol.for("react.consumer"),b=Symbol.for("react.context"),v=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),w=Symbol.for("react.suspense_list"),j=Symbol.for("react.memo"),N=Symbol.for("react.lazy"),k=Symbol.for("react.activity"),S=Symbol.for("react.memo_cache_sentinel"),C=Symbol.iterator;function _(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=C&&e[C]||e["@@iterator"])?e:null}var P=Symbol.for("react.client.reference");function E(e){if(null==e)return null;if("function"==typeof e)return e.$$typeof===P?null:e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case p:return"Fragment";case g:return"Profiler";case f:return"StrictMode";case y:return"Suspense";case w:return"SuspenseList";case k:return"Activity"}if("object"==typeof e)switch(e.$$typeof){case m:return"Portal";case b:return e.displayName||"Context";case x:return(e._context.displayName||"Context")+".Consumer";case v:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case j:return null!==(t=e.displayName||null)?t:E(e.type)||"Memo";case N:t=e._payload,e=e._init;try{return E(e(t))}catch(n){}}return null}var D=Array.isArray,O=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,T=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,M={pending:!1,data:null,method:null,action:null},A=[],z=-1;function R(e){return{current:e}}function I(e){0>z||(e.current=A[z],A[z]=null,z--)}function F(e,t){z++,A[z]=e.current,e.current=t}var L,B,$=R(null),W=R(null),U=R(null),H=R(null);function V(e,t){switch(F(U,t),F(W,e),F($,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?vu(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)e=yu(t=vu(t),e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}I($),F($,e)}function q(){I($),I(W),I(U)}function Y(e){null!==e.memoizedState&&F(H,e);var t=$.current,n=yu(t,e.type);t!==n&&(F(W,e),F($,n))}function G(e){W.current===e&&(I($),I(W)),H.current===e&&(I(H),hh._currentValue=M)}function K(e){if(void 0===L)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);L=t&&t[1]||"",B=-1<n.stack.indexOf("\n    at")?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return"\n"+L+e+B}var X=!1;function Q(e,t){if(!e||X)return"";X=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(t){var n=function(){throw Error()};if(Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(n,[])}catch(a){var r=a}Reflect.construct(e,[],n)}else{try{n.call()}catch(s){r=s}e.call(n.prototype)}}else{try{throw Error()}catch(i){r=i}(n=e())&&"function"==typeof n.catch&&n.catch(function(){})}}catch(o){if(o&&r&&"string"==typeof o.stack)return[o.stack,r.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var a=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");a&&a.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var s=r.DetermineComponentFrameRoot(),i=s[0],o=s[1];if(i&&o){var l=i.split("\n"),c=o.split("\n");for(a=r=0;r<l.length&&!l[r].includes("DetermineComponentFrameRoot");)r++;for(;a<c.length&&!c[a].includes("DetermineComponentFrameRoot");)a++;if(r===l.length||a===c.length)for(r=l.length-1,a=c.length-1;1<=r&&0<=a&&l[r]!==c[a];)a--;for(;1<=r&&0<=a;r--,a--)if(l[r]!==c[a]){if(1!==r||1!==a)do{if(r--,0>--a||l[r]!==c[a]){var d="\n"+l[r].replace(" at new "," at ");return e.displayName&&d.includes("<anonymous>")&&(d=d.replace("<anonymous>",e.displayName)),d}}while(1<=r&&0<=a);break}}}finally{X=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?K(n):""}function J(e,t){switch(e.tag){case 26:case 27:case 5:return K(e.type);case 16:return K("Lazy");case 13:return e.child!==t&&null!==t?K("Suspense Fallback"):K("Suspense");case 19:return K("SuspenseList");case 0:case 15:return Q(e.type,!1);case 11:return Q(e.type.render,!1);case 1:return Q(e.type,!0);case 31:return K("Activity");default:return""}}function Z(e){try{var t="",n=null;do{t+=J(e,n),n=e,e=e.return}while(e);return t}catch(r){return"\nError generating stack: "+r.message+"\n"+r.stack}}var ee=Object.prototype.hasOwnProperty,te=e.unstable_scheduleCallback,ne=e.unstable_cancelCallback,re=e.unstable_shouldYield,ae=e.unstable_requestPaint,se=e.unstable_now,ie=e.unstable_getCurrentPriorityLevel,oe=e.unstable_ImmediatePriority,le=e.unstable_UserBlockingPriority,ce=e.unstable_NormalPriority,de=e.unstable_LowPriority,ue=e.unstable_IdlePriority,he=e.log,me=e.unstable_setDisableYieldValue,pe=null,fe=null;function ge(e){if("function"==typeof he&&me(e),fe&&"function"==typeof fe.setStrictMode)try{fe.setStrictMode(pe,e)}catch(t){}}var xe=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(be(e)/ve|0)|0},be=Math.log,ve=Math.LN2;var ye=256,we=262144,je=4194304;function Ne(e){var t=42&e;if(0!==t)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return 261888&e;case 262144:case 524288:case 1048576:case 2097152:return 3932160&e;case 4194304:case 8388608:case 16777216:case 33554432:return 62914560&e;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function ke(e,t,n){var r=e.pendingLanes;if(0===r)return 0;var a=0,s=e.suspendedLanes,i=e.pingedLanes;e=e.warmLanes;var o=134217727&r;return 0!==o?0!==(r=o&~s)?a=Ne(r):0!==(i&=o)?a=Ne(i):n||0!==(n=o&~e)&&(a=Ne(n)):0!==(o=r&~s)?a=Ne(o):0!==i?a=Ne(i):n||0!==(n=r&~e)&&(a=Ne(n)),0===a?0:0!==t&&t!==a&&0===(t&s)&&((s=a&-a)>=(n=t&-t)||32===s&&4194048&n)?t:a}function Se(e,t){return 0===(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)}function Ce(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function _e(){var e=je;return!(62914560&(je<<=1))&&(je=4194304),e}function Pe(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Ee(e,t){e.pendingLanes|=t,268435456!==t&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function De(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var r=31-xe(t);e.entangledLanes|=t,e.entanglements[r]=1073741824|e.entanglements[r]|261930&n}function Oe(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-xe(n),a=1<<r;a&t|e[r]&t&&(e[r]|=t),n&=~a}}function Te(e,t){var n=t&-t;return 0!==((n=42&n?1:Me(n))&(e.suspendedLanes|t))?0:n}function Me(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Ae(e){return 2<(e&=-e)?8<e?134217727&e?32:268435456:8:2}function ze(){var e=T.p;return 0!==e?e:void 0===(e=window.event)?32:Ph(e.type)}function Re(e,t){var n=T.p;try{return T.p=e,t()}finally{T.p=n}}var Ie=Math.random().toString(36).slice(2),Fe="__reactFiber$"+Ie,Le="__reactProps$"+Ie,Be="__reactContainer$"+Ie,$e="__reactEvents$"+Ie,We="__reactListeners$"+Ie,Ue="__reactHandles$"+Ie,He="__reactResources$"+Ie,Ve="__reactMarker$"+Ie;function qe(e){delete e[Fe],delete e[Le],delete e[$e],delete e[We],delete e[Ue]}function Ye(e){var t=e[Fe];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Be]||n[Fe]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=Fu(e);null!==e;){if(n=e[Fe])return n;e=Fu(e)}return t}n=(e=n).parentNode}return null}function Ge(e){if(e=e[Fe]||e[Be]){var t=e.tag;if(5===t||6===t||13===t||31===t||26===t||27===t||3===t)return e}return null}function Ke(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e.stateNode;throw Error(r(33))}function Xe(e){var t=e[He];return t||(t=e[He]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function Qe(e){e[Ve]=!0}var Je=new Set,Ze={};function et(e,t){tt(e,t),tt(e+"Capture",t)}function tt(e,t){for(Ze[e]=t,e=0;e<t.length;e++)Je.add(t[e])}var nt=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),rt={},at={};function st(e,t,n){if(a=t,ee.call(at,a)||!ee.call(rt,a)&&(nt.test(a)?at[a]=!0:(rt[a]=!0,0)))if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":return void e.removeAttribute(t);case"boolean":var r=t.toLowerCase().slice(0,5);if("data-"!==r&&"aria-"!==r)return void e.removeAttribute(t)}e.setAttribute(t,""+n)}var a}function it(e,t,n){if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(t)}e.setAttribute(t,""+n)}}function ot(e,t,n,r){if(null===r)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(n)}e.setAttributeNS(t,n,""+r)}}function lt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function ct(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function dt(e){if(!e._valueTracker){var t=ct(e)?"checked":"value";e._valueTracker=function(e,t,n){var r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&void 0!==r&&"function"==typeof r.get&&"function"==typeof r.set){var a=r.get,s=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(e){n=""+e,s.call(this,e)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(e){n=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e,t,""+e[t])}}function ut(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=ct(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function ht(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(sB){return e.body}}var mt=/[\n"\\]/g;function pt(e){return e.replace(mt,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function ft(e,t,n,r,a,s,i,o){e.name="",null!=i&&"function"!=typeof i&&"symbol"!=typeof i&&"boolean"!=typeof i?e.type=i:e.removeAttribute("type"),null!=t?"number"===i?(0===t&&""===e.value||e.value!=t)&&(e.value=""+lt(t)):e.value!==""+lt(t)&&(e.value=""+lt(t)):"submit"!==i&&"reset"!==i||e.removeAttribute("value"),null!=t?xt(e,i,lt(t)):null!=n?xt(e,i,lt(n)):null!=r&&e.removeAttribute("value"),null==a&&null!=s&&(e.defaultChecked=!!s),null!=a&&(e.checked=a&&"function"!=typeof a&&"symbol"!=typeof a),null!=o&&"function"!=typeof o&&"symbol"!=typeof o&&"boolean"!=typeof o?e.name=""+lt(o):e.removeAttribute("name")}function gt(e,t,n,r,a,s,i,o){if(null!=s&&"function"!=typeof s&&"symbol"!=typeof s&&"boolean"!=typeof s&&(e.type=s),null!=t||null!=n){if(("submit"===s||"reset"===s)&&null==t)return void dt(e);n=null!=n?""+lt(n):"",t=null!=t?""+lt(t):n,o||t===e.value||(e.value=t),e.defaultValue=t}r="function"!=typeof(r=null!=r?r:a)&&"symbol"!=typeof r&&!!r,e.checked=o?e.checked:!!r,e.defaultChecked=!!r,null!=i&&"function"!=typeof i&&"symbol"!=typeof i&&"boolean"!=typeof i&&(e.name=i),dt(e)}function xt(e,t,n){"number"===t&&ht(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function bt(e,t,n,r){if(e=e.options,t){t={};for(var a=0;a<n.length;a++)t["$"+n[a]]=!0;for(n=0;n<e.length;n++)a=t.hasOwnProperty("$"+e[n].value),e[n].selected!==a&&(e[n].selected=a),a&&r&&(e[n].defaultSelected=!0)}else{for(n=""+lt(n),t=null,a=0;a<e.length;a++){if(e[a].value===n)return e[a].selected=!0,void(r&&(e[a].defaultSelected=!0));null!==t||e[a].disabled||(t=e[a])}null!==t&&(t.selected=!0)}}function vt(e,t,n){null==t||((t=""+lt(t))!==e.value&&(e.value=t),null!=n)?e.defaultValue=null!=n?""+lt(n):"":e.defaultValue!==t&&(e.defaultValue=t)}function yt(e,t,n,a){if(null==t){if(null!=a){if(null!=n)throw Error(r(92));if(D(a)){if(1<a.length)throw Error(r(93));a=a[0]}n=a}null==n&&(n=""),t=n}n=lt(t),e.defaultValue=n,(a=e.textContent)===n&&""!==a&&null!==a&&(e.value=a),dt(e)}function Nt(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var kt=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function St(e,t,n){var r=0===t.indexOf("--");null==n||"boolean"==typeof n||""===n?r?e.setProperty(t,""):"float"===t?e.cssFloat="":e[t]="":r?e.setProperty(t,n):"number"!=typeof n||0===n||kt.has(t)?"float"===t?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function Ct(e,t,n){if(null!=t&&"object"!=typeof t)throw Error(r(62));if(e=e.style,null!=n){for(var a in n)!n.hasOwnProperty(a)||null!=t&&t.hasOwnProperty(a)||(0===a.indexOf("--")?e.setProperty(a,""):"float"===a?e.cssFloat="":e[a]="");for(var s in t)a=t[s],t.hasOwnProperty(s)&&n[s]!==a&&St(e,s,a)}else for(var i in t)t.hasOwnProperty(i)&&St(e,i,t[i])}function _t(e){if(-1===e.indexOf("-"))return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Pt=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Et=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Dt(e){return Et.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Ot(){}var Tt=null;function Mt(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var At=null,zt=null;function Rt(e){var t=Ge(e);if(t&&(e=t.stateNode)){var n=e[Le]||null;e:switch(e=t.stateNode,t.type){case"input":if(ft(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+pt(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var a=n[t];if(a!==e&&a.form===e.form){var s=a[Le]||null;if(!s)throw Error(r(90));ft(a,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name)}}for(t=0;t<n.length;t++)(a=n[t]).form===e.form&&ut(a)}break e;case"textarea":vt(e,n.value,n.defaultValue);break e;case"select":null!=(t=n.value)&&bt(e,!!n.multiple,t,!1)}}}var It=!1;function Ft(e,t,n){if(It)return e(t,n);It=!0;try{return e(t)}finally{if(It=!1,(null!==At||null!==zt)&&(td(),At&&(t=At,e=zt,zt=At=null,Rt(t),e)))for(t=0;t<e.length;t++)Rt(e[t])}}function Lt(e,t){var n=e.stateNode;if(null===n)return null;var a=n[Le]||null;if(null===a)return null;n=a[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(a=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!a;break e;default:e=!1}if(e)return null;if(n&&"function"!=typeof n)throw Error(r(231,t,typeof n));return n}var Bt=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),$t=!1;if(Bt)try{var Wt={};Object.defineProperty(Wt,"passive",{get:function(){$t=!0}}),window.addEventListener("test",Wt,Wt),window.removeEventListener("test",Wt,Wt)}catch(sB){$t=!1}var Ut=null,Ht=null,Vt=null;function qt(){if(Vt)return Vt;var e,t,n=Ht,r=n.length,a="value"in Ut?Ut.value:Ut.textContent,s=a.length;for(e=0;e<r&&n[e]===a[e];e++);var i=r-e;for(t=1;t<=i&&n[r-t]===a[s-t];t++);return Vt=a.slice(e,1<t?1-t:void 0)}function Yt(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function Gt(){return!0}function Kt(){return!1}function Qt(e){function t(t,n,r,a,s){for(var i in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=a,this.target=s,this.currentTarget=null,e)e.hasOwnProperty(i)&&(t=e[i],this[i]=t?t(a):a[i]);return this.isDefaultPrevented=(null!=a.defaultPrevented?a.defaultPrevented:!1===a.returnValue)?Gt:Kt,this.isPropagationStopped=Kt,this}return d(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=Gt)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=Gt)},persist:function(){},isPersistent:Gt}),t}var Jt,en,tn,rn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},an=Qt(rn),sn=d({},rn,{view:0,detail:0}),on=Qt(sn),ln=d({},sn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:vn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==tn&&(tn&&"mousemove"===e.type?(Jt=e.screenX-tn.screenX,en=e.screenY-tn.screenY):en=Jt=0,tn=e),Jt)},movementY:function(e){return"movementY"in e?e.movementY:en}}),cn=Qt(ln),dn=Qt(d({},ln,{dataTransfer:0})),un=Qt(d({},sn,{relatedTarget:0})),hn=Qt(d({},rn,{animationName:0,elapsedTime:0,pseudoElement:0})),mn=Qt(d({},rn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),pn=Qt(d({},rn,{data:0})),fn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},gn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},xn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function bn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=xn[e])&&!!t[e]}function vn(){return bn}var yn=Qt(d({},sn,{key:function(e){if(e.key){var t=fn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=Yt(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?gn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:vn,charCode:function(e){return"keypress"===e.type?Yt(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Yt(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),wn=Qt(d({},ln,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),jn=Qt(d({},sn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:vn})),Nn=Qt(d({},rn,{propertyName:0,elapsedTime:0,pseudoElement:0})),kn=Qt(d({},ln,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),Sn=Qt(d({},rn,{newState:0,oldState:0})),Cn=[9,13,27,32],_n=Bt&&"CompositionEvent"in window,Pn=null;Bt&&"documentMode"in document&&(Pn=document.documentMode);var En=Bt&&"TextEvent"in window&&!Pn,Dn=Bt&&(!_n||Pn&&8<Pn&&11>=Pn),On=String.fromCharCode(32),Tn=!1;function Mn(e,t){switch(e){case"keyup":return-1!==Cn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function An(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var zn=!1;var Rn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function In(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Rn[e.type]:"textarea"===t}function Fn(e,t,n,r){At?zt?zt.push(r):zt=[r]:At=r,0<(t=su(t,"onChange")).length&&(n=new an("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Ln=null,Bn=null;function $n(e){Qd(e,0)}function Wn(e){if(ut(Ke(e)))return e}function Un(e,t){if("change"===e)return t}var Hn=!1;if(Bt){var Vn;if(Bt){var qn="oninput"in document;if(!qn){var Yn=document.createElement("div");Yn.setAttribute("oninput","return;"),qn="function"==typeof Yn.oninput}Vn=qn}else Vn=!1;Hn=Vn&&(!document.documentMode||9<document.documentMode)}function Gn(){Ln&&(Ln.detachEvent("onpropertychange",Kn),Bn=Ln=null)}function Kn(e){if("value"===e.propertyName&&Wn(Bn)){var t=[];Fn(t,Bn,e,Mt(e)),Ft($n,t)}}function Xn(e,t,n){"focusin"===e?(Gn(),Bn=n,(Ln=t).attachEvent("onpropertychange",Kn)):"focusout"===e&&Gn()}function Qn(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Wn(Bn)}function Jn(e,t){if("click"===e)return Wn(t)}function Zn(e,t){if("input"===e||"change"===e)return Wn(t)}var er="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t};function tr(e,t){if(er(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var a=n[r];if(!ee.call(t,a)||!er(e[a],t[a]))return!1}return!0}function nr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function rr(e,t){var n,r=nr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=nr(r)}}function ar(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?ar(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function sr(e){for(var t=ht((e=null!=e&&null!=e.ownerDocument&&null!=e.ownerDocument.defaultView?e.ownerDocument.defaultView:window).document);t instanceof e.HTMLIFrameElement;){try{var n="string"==typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=ht((e=t.contentWindow).document)}return t}function ir(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var or=Bt&&"documentMode"in document&&11>=document.documentMode,lr=null,cr=null,dr=null,ur=!1;function hr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;ur||null==lr||lr!==ht(r)||("selectionStart"in(r=lr)&&ir(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},dr&&tr(dr,r)||(dr=r,0<(r=su(cr,"onSelect")).length&&(t=new an("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=lr)))}function mr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var pr={animationend:mr("Animation","AnimationEnd"),animationiteration:mr("Animation","AnimationIteration"),animationstart:mr("Animation","AnimationStart"),transitionrun:mr("Transition","TransitionRun"),transitionstart:mr("Transition","TransitionStart"),transitioncancel:mr("Transition","TransitionCancel"),transitionend:mr("Transition","TransitionEnd")},fr={},gr={};function xr(e){if(fr[e])return fr[e];if(!pr[e])return e;var t,n=pr[e];for(t in n)if(n.hasOwnProperty(t)&&t in gr)return fr[e]=n[t];return e}Bt&&(gr=document.createElement("div").style,"AnimationEvent"in window||(delete pr.animationend.animation,delete pr.animationiteration.animation,delete pr.animationstart.animation),"TransitionEvent"in window||delete pr.transitionend.transition);var br=xr("animationend"),vr=xr("animationiteration"),yr=xr("animationstart"),wr=xr("transitionrun"),jr=xr("transitionstart"),Nr=xr("transitioncancel"),kr=xr("transitionend"),Sr=new Map,Cr="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function _r(e,t){Sr.set(e,t),et(t,[e])}Cr.push("scrollEnd");var Pr="function"==typeof reportError?reportError:function(e){if("object"==typeof window&&"function"==typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"==typeof e&&null!==e&&"string"==typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"==typeof process&&"function"==typeof process.emit)return void process.emit("uncaughtException",e)},Er=[],Dr=0,Or=0;function Tr(){for(var e=Dr,t=Or=Dr=0;t<e;){var n=Er[t];Er[t++]=null;var r=Er[t];Er[t++]=null;var a=Er[t];Er[t++]=null;var s=Er[t];if(Er[t++]=null,null!==r&&null!==a){var i=r.pending;null===i?a.next=a:(a.next=i.next,i.next=a),r.pending=a}0!==s&&Rr(n,a,s)}}function Mr(e,t,n,r){Er[Dr++]=e,Er[Dr++]=t,Er[Dr++]=n,Er[Dr++]=r,Or|=r,e.lanes|=r,null!==(e=e.alternate)&&(e.lanes|=r)}function Ar(e,t,n,r){return Mr(e,t,n,r),Ir(e)}function zr(e,t){return Mr(e,null,null,t),Ir(e)}function Rr(e,t,n){e.lanes|=n;var r=e.alternate;null!==r&&(r.lanes|=n);for(var a=!1,s=e.return;null!==s;)s.childLanes|=n,null!==(r=s.alternate)&&(r.childLanes|=n),22===s.tag&&(null===(e=s.stateNode)||1&e._visibility||(a=!0)),e=s,s=s.return;return 3===e.tag?(s=e.stateNode,a&&null!==t&&(a=31-xe(n),null===(r=(e=s.hiddenUpdates)[a])?e[a]=[t]:r.push(t),t.lane=536870912|n),s):null}function Ir(e){if(50<qc)throw qc=0,Yc=null,Error(r(185));for(var t=e.return;null!==t;)t=(e=t).return;return 3===e.tag?e.stateNode:null}var Fr={};function Lr(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Br(e,t,n,r){return new Lr(e,t,n,r)}function $r(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Wr(e,t){var n=e.alternate;return null===n?((n=Br(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=65011712&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function Ur(e,t){e.flags&=65011714;var n=e.alternate;return null===n?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Hr(e,t,n,a,s,i){var o=0;if(a=e,"function"==typeof e)$r(e)&&(o=1);else if("string"==typeof e)o=function(e,t,n){if(1===n||null!=t.itemProp)return!1;switch(e){case"meta":case"title":return!0;case"style":if("string"!=typeof t.precedence||"string"!=typeof t.href||""===t.href)break;return!0;case"link":if("string"!=typeof t.rel||"string"!=typeof t.href||""===t.href||t.onLoad||t.onError)break;return"stylesheet"!==t.rel||(e=t.disabled,"string"==typeof t.precedence&&null==e);case"script":if(t.async&&"function"!=typeof t.async&&"symbol"!=typeof t.async&&!t.onLoad&&!t.onError&&t.src&&"string"==typeof t.src)return!0}return!1}(e,n,$.current)?26:"html"===e||"head"===e||"body"===e?27:5;else e:switch(e){case k:return(e=Br(31,n,t,s)).elementType=k,e.lanes=i,e;case p:return Vr(n.children,s,i,t);case f:o=8,s|=24;break;case g:return(e=Br(12,n,t,2|s)).elementType=g,e.lanes=i,e;case y:return(e=Br(13,n,t,s)).elementType=y,e.lanes=i,e;case w:return(e=Br(19,n,t,s)).elementType=w,e.lanes=i,e;default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case b:o=10;break e;case x:o=9;break e;case v:o=11;break e;case j:o=14;break e;case N:o=16,a=null;break e}o=29,n=Error(r(130,null===e?"null":typeof e,"")),a=null}return(t=Br(o,n,t,s)).elementType=e,t.type=a,t.lanes=i,t}function Vr(e,t,n,r){return(e=Br(7,e,r,t)).lanes=n,e}function qr(e,t,n){return(e=Br(6,e,null,t)).lanes=n,e}function Yr(e){var t=Br(18,null,null,0);return t.stateNode=e,t}function Gr(e,t,n){return(t=Br(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Kr=new WeakMap;function Xr(e,t){if("object"==typeof e&&null!==e){var n=Kr.get(e);return void 0!==n?n:(t={value:e,source:t,stack:Z(t)},Kr.set(e,t),t)}return{value:e,source:t,stack:Z(t)}}var Qr=[],Jr=0,Zr=null,ea=0,ta=[],na=0,ra=null,aa=1,sa="";function ia(e,t){Qr[Jr++]=ea,Qr[Jr++]=Zr,Zr=e,ea=t}function oa(e,t,n){ta[na++]=aa,ta[na++]=sa,ta[na++]=ra,ra=e;var r=aa;e=sa;var a=32-xe(r)-1;r&=~(1<<a),n+=1;var s=32-xe(t)+a;if(30<s){var i=a-a%5;s=(r&(1<<i)-1).toString(32),r>>=i,a-=i,aa=1<<32-xe(t)+a|n<<a|r,sa=s+e}else aa=1<<s|n<<a|r,sa=e}function la(e){null!==e.return&&(ia(e,1),oa(e,1,0))}function ca(e){for(;e===Zr;)Zr=Qr[--Jr],Qr[Jr]=null,ea=Qr[--Jr],Qr[Jr]=null;for(;e===ra;)ra=ta[--na],ta[na]=null,sa=ta[--na],ta[na]=null,aa=ta[--na],ta[na]=null}function da(e,t){ta[na++]=aa,ta[na++]=sa,ta[na++]=ra,aa=t.id,sa=t.overflow,ra=e}var ua=null,ha=null,ma=!1,pa=null,fa=!1,ga=Error(r(519));function xa(e){throw Na(Xr(Error(r(418,1<arguments.length&&void 0!==arguments[1]&&arguments[1]?"text":"HTML","")),e)),ga}function ba(e){var t=e.stateNode,n=e.type,r=e.memoizedProps;switch(t[Fe]=e,t[Le]=r,n){case"dialog":Jd("cancel",t),Jd("close",t);break;case"iframe":case"object":case"embed":Jd("load",t);break;case"video":case"audio":for(n=0;n<Kd.length;n++)Jd(Kd[n],t);break;case"source":Jd("error",t);break;case"img":case"image":case"link":Jd("error",t),Jd("load",t);break;case"details":Jd("toggle",t);break;case"input":Jd("invalid",t),gt(t,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0);break;case"select":Jd("invalid",t);break;case"textarea":Jd("invalid",t),yt(t,r.value,r.defaultValue,r.children)}"string"!=typeof(n=r.children)&&"number"!=typeof n&&"bigint"!=typeof n||t.textContent===""+n||!0===r.suppressHydrationWarning||uu(t.textContent,n)?(null!=r.popover&&(Jd("beforetoggle",t),Jd("toggle",t)),null!=r.onScroll&&Jd("scroll",t),null!=r.onScrollEnd&&Jd("scrollend",t),null!=r.onClick&&(t.onclick=Ot),t=!0):t=!1,t||xa(e,!0)}function va(e){for(ua=e.return;ua;)switch(ua.tag){case 5:case 31:case 13:return void(fa=!1);case 27:case 3:return void(fa=!0);default:ua=ua.return}}function ya(e){if(e!==ua)return!1;if(!ma)return va(e),ma=!0,!1;var t,n=e.tag;if((t=3!==n&&27!==n)&&((t=5===n)&&(t=!("form"!==(t=e.type)&&"button"!==t)||wu(e.type,e.memoizedProps)),t=!t),t&&ha&&xa(e),va(e),13===n){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(r(317));ha=Iu(e)}else if(31===n){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(r(317));ha=Iu(e)}else 27===n?(n=ha,Pu(e.type)?(e=Ru,Ru=null,ha=e):ha=n):ha=ua?zu(e.stateNode.nextSibling):null;return!0}function wa(){ha=ua=null,ma=!1}function ja(){var e=pa;return null!==e&&(null===Tc?Tc=e:Tc.push.apply(Tc,e),pa=null),e}function Na(e){null===pa?pa=[e]:pa.push(e)}var ka=R(null),Sa=null,Ca=null;function _a(e,t,n){F(ka,t._currentValue),t._currentValue=n}function Pa(e){e._currentValue=ka.current,I(ka)}function Ea(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Da(e,t,n,a){var s=e.child;for(null!==s&&(s.return=e);null!==s;){var i=s.dependencies;if(null!==i){var o=s.child;i=i.firstContext;e:for(;null!==i;){var l=i;i=s;for(var c=0;c<t.length;c++)if(l.context===t[c]){i.lanes|=n,null!==(l=i.alternate)&&(l.lanes|=n),Ea(i.return,n,e),a||(o=null);break e}i=l.next}}else if(18===s.tag){if(null===(o=s.return))throw Error(r(341));o.lanes|=n,null!==(i=o.alternate)&&(i.lanes|=n),Ea(o,n,e),o=null}else o=s.child;if(null!==o)o.return=s;else for(o=s;null!==o;){if(o===e){o=null;break}if(null!==(s=o.sibling)){s.return=o.return,o=s;break}o=o.return}s=o}}function Oa(e,t,n,a){e=null;for(var s=t,i=!1;null!==s;){if(!i)if(524288&s.flags)i=!0;else if(262144&s.flags)break;if(10===s.tag){var o=s.alternate;if(null===o)throw Error(r(387));if(null!==(o=o.memoizedProps)){var l=s.type;er(s.pendingProps.value,o.value)||(null!==e?e.push(l):e=[l])}}else if(s===H.current){if(null===(o=s.alternate))throw Error(r(387));o.memoizedState.memoizedState!==s.memoizedState.memoizedState&&(null!==e?e.push(hh):e=[hh])}s=s.return}null!==e&&Da(t,e,n,a),t.flags|=262144}function Ta(e){for(e=e.firstContext;null!==e;){if(!er(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Ma(e){Sa=e,Ca=null,null!==(e=e.dependencies)&&(e.firstContext=null)}function Aa(e){return Ra(Sa,e)}function za(e,t){return null===Sa&&Ma(e),Ra(e,t)}function Ra(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},null===Ca){if(null===e)throw Error(r(308));Ca=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else Ca=Ca.next=t;return n}var Ia="undefined"!=typeof AbortController?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(t,n){e.push(n)}};this.abort=function(){t.aborted=!0,e.forEach(function(e){return e()})}},Fa=e.unstable_scheduleCallback,La=e.unstable_NormalPriority,Ba={$$typeof:b,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function $a(){return{controller:new Ia,data:new Map,refCount:0}}function Wa(e){e.refCount--,0===e.refCount&&Fa(La,function(){e.controller.abort()})}var Ua=null,Ha=0,Va=0,qa=null;function Ya(){if(0===--Ha&&null!==Ua){null!==qa&&(qa.status="fulfilled");var e=Ua;Ua=null,Va=0,qa=null;for(var t=0;t<e.length;t++)(0,e[t])()}}var Ga=O.S;O.S=function(e,t){zc=se(),"object"==typeof t&&null!==t&&"function"==typeof t.then&&function(e,t){if(null===Ua){var n=Ua=[];Ha=0,Va=Hd(),qa={status:"pending",value:void 0,then:function(e){n.push(e)}}}Ha++,t.then(Ya,Ya)}(0,t),null!==Ga&&Ga(e,t)};var Ka=R(null);function Xa(){var e=Ka.current;return null!==e?e:gc.pooledCache}function Qa(e,t){F(Ka,null===t?Ka.current:t.pool)}function Ja(){var e=Xa();return null===e?null:{parent:Ba._currentValue,pool:e}}var Za=Error(r(460)),es=Error(r(474)),ts=Error(r(542)),ns={then:function(){}};function rs(e){return"fulfilled"===(e=e.status)||"rejected"===e}function as(e,t,n){switch(void 0===(n=e[n])?e.push(t):n!==t&&(t.then(Ot,Ot),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw ls(e=t.reason),e;default:if("string"==typeof t.status)t.then(Ot,Ot);else{if(null!==(e=gc)&&100<e.shellSuspendCounter)throw Error(r(482));(e=t).status="pending",e.then(function(e){if("pending"===t.status){var n=t;n.status="fulfilled",n.value=e}},function(e){if("pending"===t.status){var n=t;n.status="rejected",n.reason=e}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw ls(e=t.reason),e}throw is=t,Za}}function ss(e){try{return(0,e._init)(e._payload)}catch(t){if(null!==t&&"object"==typeof t&&"function"==typeof t.then)throw is=t,Za;throw t}}var is=null;function os(){if(null===is)throw Error(r(459));var e=is;return is=null,e}function ls(e){if(e===Za||e===ts)throw Error(r(483))}var cs=null,ds=0;function us(e){var t=ds;return ds+=1,null===cs&&(cs=[]),as(cs,e,t)}function hs(e,t){t=t.props.ref,e.ref=void 0!==t?t:null}function ms(e,t){if(t.$$typeof===u)throw Error(r(525));throw e=Object.prototype.toString.call(t),Error(r(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function ps(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function a(e){for(var t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function s(e,t){return(e=Wr(e,t)).index=0,e.sibling=null,e}function i(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=67108866,n):r:(t.flags|=67108866,n):(t.flags|=1048576,n)}function o(t){return e&&null===t.alternate&&(t.flags|=67108866),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=qr(n,e.mode,r)).return=e,t):((t=s(t,n)).return=e,t)}function c(e,t,n,r){var a=n.type;return a===p?u(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"==typeof a&&null!==a&&a.$$typeof===N&&ss(a)===t.type)?(hs(t=s(t,n.props),n),t.return=e,t):(hs(t=Hr(n.type,n.key,n.props,null,e.mode,r),n),t.return=e,t)}function d(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Gr(n,e.mode,r)).return=e,t):((t=s(t,n.children||[])).return=e,t)}function u(e,t,n,r,a){return null===t||7!==t.tag?((t=Vr(n,e.mode,r,a)).return=e,t):((t=s(t,n)).return=e,t)}function f(e,t,n){if("string"==typeof t&&""!==t||"number"==typeof t||"bigint"==typeof t)return(t=qr(""+t,e.mode,n)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case h:return hs(n=Hr(t.type,t.key,t.props,null,e.mode,n),t),n.return=e,n;case m:return(t=Gr(t,e.mode,n)).return=e,t;case N:return f(e,t=ss(t),n)}if(D(t)||_(t))return(t=Vr(t,e.mode,n,null)).return=e,t;if("function"==typeof t.then)return f(e,us(t),n);if(t.$$typeof===b)return f(e,za(e,t),n);ms(e,t)}return null}function g(e,t,n,r){var a=null!==t?t.key:null;if("string"==typeof n&&""!==n||"number"==typeof n||"bigint"==typeof n)return null!==a?null:l(e,t,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case h:return n.key===a?c(e,t,n,r):null;case m:return n.key===a?d(e,t,n,r):null;case N:return g(e,t,n=ss(n),r)}if(D(n)||_(n))return null!==a?null:u(e,t,n,r,null);if("function"==typeof n.then)return g(e,t,us(n),r);if(n.$$typeof===b)return g(e,t,za(e,n),r);ms(e,n)}return null}function x(e,t,n,r,a){if("string"==typeof r&&""!==r||"number"==typeof r||"bigint"==typeof r)return l(t,e=e.get(n)||null,""+r,a);if("object"==typeof r&&null!==r){switch(r.$$typeof){case h:return c(t,e=e.get(null===r.key?n:r.key)||null,r,a);case m:return d(t,e=e.get(null===r.key?n:r.key)||null,r,a);case N:return x(e,t,n,r=ss(r),a)}if(D(r)||_(r))return u(t,e=e.get(n)||null,r,a,null);if("function"==typeof r.then)return x(e,t,n,us(r),a);if(r.$$typeof===b)return x(e,t,n,za(t,r),a);ms(t,r)}return null}function v(l,c,d,u){if("object"==typeof d&&null!==d&&d.type===p&&null===d.key&&(d=d.props.children),"object"==typeof d&&null!==d){switch(d.$$typeof){case h:e:{for(var y=d.key;null!==c;){if(c.key===y){if((y=d.type)===p){if(7===c.tag){n(l,c.sibling),(u=s(c,d.props.children)).return=l,l=u;break e}}else if(c.elementType===y||"object"==typeof y&&null!==y&&y.$$typeof===N&&ss(y)===c.type){n(l,c.sibling),hs(u=s(c,d.props),d),u.return=l,l=u;break e}n(l,c);break}t(l,c),c=c.sibling}d.type===p?((u=Vr(d.props.children,l.mode,u,d.key)).return=l,l=u):(hs(u=Hr(d.type,d.key,d.props,null,l.mode,u),d),u.return=l,l=u)}return o(l);case m:e:{for(y=d.key;null!==c;){if(c.key===y){if(4===c.tag&&c.stateNode.containerInfo===d.containerInfo&&c.stateNode.implementation===d.implementation){n(l,c.sibling),(u=s(c,d.children||[])).return=l,l=u;break e}n(l,c);break}t(l,c),c=c.sibling}(u=Gr(d,l.mode,u)).return=l,l=u}return o(l);case N:return v(l,c,d=ss(d),u)}if(D(d))return function(r,s,o,l){for(var c=null,d=null,u=s,h=s=0,m=null;null!==u&&h<o.length;h++){u.index>h?(m=u,u=null):m=u.sibling;var p=g(r,u,o[h],l);if(null===p){null===u&&(u=m);break}e&&u&&null===p.alternate&&t(r,u),s=i(p,s,h),null===d?c=p:d.sibling=p,d=p,u=m}if(h===o.length)return n(r,u),ma&&ia(r,h),c;if(null===u){for(;h<o.length;h++)null!==(u=f(r,o[h],l))&&(s=i(u,s,h),null===d?c=u:d.sibling=u,d=u);return ma&&ia(r,h),c}for(u=a(u);h<o.length;h++)null!==(m=x(u,r,h,o[h],l))&&(e&&null!==m.alternate&&u.delete(null===m.key?h:m.key),s=i(m,s,h),null===d?c=m:d.sibling=m,d=m);return e&&u.forEach(function(e){return t(r,e)}),ma&&ia(r,h),c}(l,c,d,u);if(_(d)){if("function"!=typeof(y=_(d)))throw Error(r(150));return function(s,o,l,c){if(null==l)throw Error(r(151));for(var d=null,u=null,h=o,m=o=0,p=null,b=l.next();null!==h&&!b.done;m++,b=l.next()){h.index>m?(p=h,h=null):p=h.sibling;var v=g(s,h,b.value,c);if(null===v){null===h&&(h=p);break}e&&h&&null===v.alternate&&t(s,h),o=i(v,o,m),null===u?d=v:u.sibling=v,u=v,h=p}if(b.done)return n(s,h),ma&&ia(s,m),d;if(null===h){for(;!b.done;m++,b=l.next())null!==(b=f(s,b.value,c))&&(o=i(b,o,m),null===u?d=b:u.sibling=b,u=b);return ma&&ia(s,m),d}for(h=a(h);!b.done;m++,b=l.next())null!==(b=x(h,s,m,b.value,c))&&(e&&null!==b.alternate&&h.delete(null===b.key?m:b.key),o=i(b,o,m),null===u?d=b:u.sibling=b,u=b);return e&&h.forEach(function(e){return t(s,e)}),ma&&ia(s,m),d}(l,c,d=y.call(d),u)}if("function"==typeof d.then)return v(l,c,us(d),u);if(d.$$typeof===b)return v(l,c,za(l,d),u);ms(l,d)}return"string"==typeof d&&""!==d||"number"==typeof d||"bigint"==typeof d?(d=""+d,null!==c&&6===c.tag?(n(l,c.sibling),(u=s(c,d)).return=l,l=u):(n(l,c),(u=qr(d,l.mode,u)).return=l,l=u),o(l)):n(l,c)}return function(e,t,n,r){try{ds=0;var a=v(e,t,n,r);return cs=null,a}catch(i){if(i===Za||i===ts)throw i;var s=Br(29,i,null,e.mode);return s.lanes=r,s.return=e,s}}}var fs=ps(!0),gs=ps(!1),xs=!1;function bs(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function vs(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function ys(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function ws(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,2&fc){var a=r.pending;return null===a?t.next=t:(t.next=a.next,a.next=t),r.pending=t,t=Ir(e),Rr(e,null,n),t}return Mr(e,r,t,n),Ir(e)}function js(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,4194048&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Oe(e,n)}}function Ns(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var a=null,s=null;if(null!==(n=n.firstBaseUpdate)){do{var i={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};null===s?a=s=i:s=s.next=i,n=n.next}while(null!==n);null===s?a=s=t:s=s.next=t}else a=s=t;return n={baseState:r.baseState,firstBaseUpdate:a,lastBaseUpdate:s,shared:r.shared,callbacks:r.callbacks},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var ks=!1;function Ss(){if(ks){if(null!==qa)throw qa}}function Cs(e,t,n,r){ks=!1;var a=e.updateQueue;xs=!1;var s=a.firstBaseUpdate,i=a.lastBaseUpdate,o=a.shared.pending;if(null!==o){a.shared.pending=null;var l=o,c=l.next;l.next=null,null===i?s=c:i.next=c,i=l;var u=e.alternate;null!==u&&((o=(u=u.updateQueue).lastBaseUpdate)!==i&&(null===o?u.firstBaseUpdate=c:o.next=c,u.lastBaseUpdate=l))}if(null!==s){var h=a.baseState;for(i=0,u=c=l=null,o=s;;){var m=-536870913&o.lane,p=m!==o.lane;if(p?(bc&m)===m:(r&m)===m){0!==m&&m===Va&&(ks=!0),null!==u&&(u=u.next={lane:0,tag:o.tag,payload:o.payload,callback:null,next:null});e:{var f=e,g=o;m=t;var x=n;switch(g.tag){case 1:if("function"==typeof(f=g.payload)){h=f.call(x,h,m);break e}h=f;break e;case 3:f.flags=-65537&f.flags|128;case 0:if(null==(m="function"==typeof(f=g.payload)?f.call(x,h,m):f))break e;h=d({},h,m);break e;case 2:xs=!0}}null!==(m=o.callback)&&(e.flags|=64,p&&(e.flags|=8192),null===(p=a.callbacks)?a.callbacks=[m]:p.push(m))}else p={lane:m,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===u?(c=u=p,l=h):u=u.next=p,i|=m;if(null===(o=o.next)){if(null===(o=a.shared.pending))break;o=(p=o).next,p.next=null,a.lastBaseUpdate=p,a.shared.pending=null}}null===u&&(l=h),a.baseState=l,a.firstBaseUpdate=c,a.lastBaseUpdate=u,null===s&&(a.shared.lanes=0),Cc|=i,e.lanes=i,e.memoizedState=h}}function _s(e,t){if("function"!=typeof e)throw Error(r(191,e));e.call(t)}function Ps(e,t){var n=e.callbacks;if(null!==n)for(e.callbacks=null,e=0;e<n.length;e++)_s(n[e],t)}var Es=R(null),Ds=R(0);function Os(e,t){F(Ds,e=kc),F(Es,t),kc=e|t.baseLanes}function Ts(){F(Ds,kc),F(Es,Es.current)}function Ms(){kc=Ds.current,I(Es),I(Ds)}var As=R(null),zs=null;function Rs(e){var t=e.alternate;F($s,1&$s.current),F(As,e),null===zs&&(null===t||null!==Es.current||null!==t.memoizedState)&&(zs=e)}function Is(e){F($s,$s.current),F(As,e),null===zs&&(zs=e)}function Fs(e){22===e.tag?(F($s,$s.current),F(As,e),null===zs&&(zs=e)):Ls()}function Ls(){F($s,$s.current),F(As,As.current)}function Bs(e){I(As),zs===e&&(zs=null),I($s)}var $s=R(0);function Ws(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||Mu(n)||Au(n)))return t}else if(19!==t.tag||"forwards"!==t.memoizedProps.revealOrder&&"backwards"!==t.memoizedProps.revealOrder&&"unstable_legacy-backwards"!==t.memoizedProps.revealOrder&&"together"!==t.memoizedProps.revealOrder){if(null!==t.child){t.child.return=t,t=t.child;continue}}else if(128&t.flags)return t;if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Us=0,Hs=null,Vs=null,qs=null,Ys=!1,Gs=!1,Ks=!1,Xs=0,Qs=0,Js=null,Zs=0;function ei(){throw Error(r(321))}function ti(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!er(e[n],t[n]))return!1;return!0}function ni(e,t,n,r,a,s){return Us=s,Hs=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,O.H=null===e||null===e.memoizedState?bo:vo,Ks=!1,s=n(r,a),Ks=!1,Gs&&(s=ai(t,n,r,a)),ri(e),s}function ri(e){O.H=xo;var t=null!==Vs&&null!==Vs.next;if(Us=0,qs=Vs=Hs=null,Ys=!1,Qs=0,Js=null,t)throw Error(r(300));null===e||zo||null!==(e=e.dependencies)&&Ta(e)&&(zo=!0)}function ai(e,t,n,a){Hs=e;var s=0;do{if(Gs&&(Js=null),Qs=0,Gs=!1,25<=s)throw Error(r(301));if(s+=1,qs=Vs=null,null!=e.updateQueue){var i=e.updateQueue;i.lastEffect=null,i.events=null,i.stores=null,null!=i.memoCache&&(i.memoCache.index=0)}O.H=yo,i=t(n,a)}while(Gs);return i}function si(){var e=O.H,t=e.useState()[0];return t="function"==typeof t.then?ui(t):t,e=e.useState()[0],(null!==Vs?Vs.memoizedState:null)!==e&&(Hs.flags|=1024),t}function ii(){var e=0!==Xs;return Xs=0,e}function oi(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function li(e){if(Ys){for(e=e.memoizedState;null!==e;){var t=e.queue;null!==t&&(t.pending=null),e=e.next}Ys=!1}Us=0,qs=Vs=Hs=null,Gs=!1,Qs=Xs=0,Js=null}function ci(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===qs?Hs.memoizedState=qs=e:qs=qs.next=e,qs}function di(){if(null===Vs){var e=Hs.alternate;e=null!==e?e.memoizedState:null}else e=Vs.next;var t=null===qs?Hs.memoizedState:qs.next;if(null!==t)qs=t,Vs=e;else{if(null===e){if(null===Hs.alternate)throw Error(r(467));throw Error(r(310))}e={memoizedState:(Vs=e).memoizedState,baseState:Vs.baseState,baseQueue:Vs.baseQueue,queue:Vs.queue,next:null},null===qs?Hs.memoizedState=qs=e:qs=qs.next=e}return qs}function ui(e){var t=Qs;return Qs+=1,null===Js&&(Js=[]),e=as(Js,e,t),t=Hs,null===(null===qs?t.memoizedState:qs.next)&&(t=t.alternate,O.H=null===t||null===t.memoizedState?bo:vo),e}function hi(e){if(null!==e&&"object"==typeof e){if("function"==typeof e.then)return ui(e);if(e.$$typeof===b)return Aa(e)}throw Error(r(438,String(e)))}function mi(e){var t=null,n=Hs.updateQueue;if(null!==n&&(t=n.memoCache),null==t){var r=Hs.alternate;null!==r&&(null!==(r=r.updateQueue)&&(null!=(r=r.memoCache)&&(t={data:r.data.map(function(e){return e.slice()}),index:0})))}if(null==t&&(t={data:[],index:0}),null===n&&(n={lastEffect:null,events:null,stores:null,memoCache:null},Hs.updateQueue=n),n.memoCache=t,void 0===(n=t.data[t.index]))for(n=t.data[t.index]=Array(e),r=0;r<e;r++)n[r]=S;return t.index++,n}function pi(e,t){return"function"==typeof t?t(e):t}function fi(e){return gi(di(),Vs,e)}function gi(e,t,n){var a=e.queue;if(null===a)throw Error(r(311));a.lastRenderedReducer=n;var s=e.baseQueue,i=a.pending;if(null!==i){if(null!==s){var o=s.next;s.next=i.next,i.next=o}t.baseQueue=s=i,a.pending=null}if(i=e.baseState,null===s)e.memoizedState=i;else{var l=o=null,c=null,d=t=s.next,u=!1;do{var h=-536870913&d.lane;if(h!==d.lane?(bc&h)===h:(Us&h)===h){var m=d.revertLane;if(0===m)null!==c&&(c=c.next={lane:0,revertLane:0,gesture:null,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),h===Va&&(u=!0);else{if((Us&m)===m){d=d.next,m===Va&&(u=!0);continue}h={lane:0,revertLane:d.revertLane,gesture:null,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null},null===c?(l=c=h,o=i):c=c.next=h,Hs.lanes|=m,Cc|=m}h=d.action,Ks&&n(i,h),i=d.hasEagerState?d.eagerState:n(i,h)}else m={lane:h,revertLane:d.revertLane,gesture:d.gesture,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null},null===c?(l=c=m,o=i):c=c.next=m,Hs.lanes|=h,Cc|=h;d=d.next}while(null!==d&&d!==t);if(null===c?o=i:c.next=l,!er(i,e.memoizedState)&&(zo=!0,u&&null!==(n=qa)))throw n;e.memoizedState=i,e.baseState=o,e.baseQueue=c,a.lastRenderedState=i}return null===s&&(a.lanes=0),[e.memoizedState,a.dispatch]}function xi(e){var t=di(),n=t.queue;if(null===n)throw Error(r(311));n.lastRenderedReducer=e;var a=n.dispatch,s=n.pending,i=t.memoizedState;if(null!==s){n.pending=null;var o=s=s.next;do{i=e(i,o.action),o=o.next}while(o!==s);er(i,t.memoizedState)||(zo=!0),t.memoizedState=i,null===t.baseQueue&&(t.baseState=i),n.lastRenderedState=i}return[i,a]}function bi(e,t,n){var a=Hs,s=di(),i=ma;if(i){if(void 0===n)throw Error(r(407));n=n()}else n=t();var o=!er((Vs||s).memoizedState,n);if(o&&(s.memoizedState=n,zo=!0),s=s.queue,Ui(wi.bind(null,a,s,e),[e]),s.getSnapshot!==t||o||null!==qs&&1&qs.memoizedState.tag){if(a.flags|=2048,Fi(9,{destroy:void 0},yi.bind(null,a,s,n,t),null),null===gc)throw Error(r(349));i||127&Us||vi(a,t,n)}return n}function vi(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=Hs.updateQueue)?(t={lastEffect:null,events:null,stores:null,memoCache:null},Hs.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function yi(e,t,n,r){t.value=n,t.getSnapshot=r,ji(t)&&Ni(e)}function wi(e,t,n){return n(function(){ji(t)&&Ni(e)})}function ji(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!er(e,n)}catch(r){return!0}}function Ni(e){var t=zr(e,2);null!==t&&Xc(t,e,2)}function ki(e){var t=ci();if("function"==typeof e){var n=e;if(e=n(),Ks){ge(!0);try{n()}finally{ge(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:pi,lastRenderedState:e},t}function Si(e,t,n,r){return e.baseState=n,gi(e,Vs,"function"==typeof r?r:pi)}function Ci(e,t,n,a,s){if(po(e))throw Error(r(485));if(null!==(e=t.action)){var i={payload:s,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(e){i.listeners.push(e)}};null!==O.T?n(!0):i.isTransition=!1,a(i),null===(n=t.pending)?(i.next=t.pending=i,_i(t,i)):(i.next=n.next,t.pending=n.next=i)}}function _i(e,t){var n=t.action,r=t.payload,a=e.state;if(t.isTransition){var s=O.T,i={};O.T=i;try{var o=n(a,r),l=O.S;null!==l&&l(i,o),Pi(e,t,o)}catch(c){Di(e,t,c)}finally{null!==s&&null!==i.types&&(s.types=i.types),O.T=s}}else try{Pi(e,t,s=n(a,r))}catch(d){Di(e,t,d)}}function Pi(e,t,n){null!==n&&"object"==typeof n&&"function"==typeof n.then?n.then(function(n){Ei(e,t,n)},function(n){return Di(e,t,n)}):Ei(e,t,n)}function Ei(e,t,n){t.status="fulfilled",t.value=n,Oi(t),e.state=n,null!==(t=e.pending)&&((n=t.next)===t?e.pending=null:(n=n.next,t.next=n,_i(e,n)))}function Di(e,t,n){var r=e.pending;if(e.pending=null,null!==r){r=r.next;do{t.status="rejected",t.reason=n,Oi(t),t=t.next}while(t!==r)}e.action=null}function Oi(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Ti(e,t){return t}function Mi(e,t){if(ma){var n=gc.formState;if(null!==n){e:{var r=Hs;if(ma){if(ha){t:{for(var a=ha,s=fa;8!==a.nodeType;){if(!s){a=null;break t}if(null===(a=zu(a.nextSibling))){a=null;break t}}a="F!"===(s=a.data)||"F"===s?a:null}if(a){ha=zu(a.nextSibling),r="F!"===a.data;break e}}xa(r)}r=!1}r&&(t=n[0])}}return(n=ci()).memoizedState=n.baseState=t,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ti,lastRenderedState:t},n.queue=r,n=uo.bind(null,Hs,r),r.dispatch=n,r=ki(!1),s=mo.bind(null,Hs,!1,r.queue),a={state:t,dispatch:null,action:e,pending:null},(r=ci()).queue=a,n=Ci.bind(null,Hs,a,s,n),a.dispatch=n,r.memoizedState=e,[t,n,!1]}function Ai(e){return zi(di(),Vs,e)}function zi(e,t,n){if(t=gi(e,t,Ti)[0],e=fi(pi)[0],"object"==typeof t&&null!==t&&"function"==typeof t.then)try{var r=ui(t)}catch(i){if(i===Za)throw ts;throw i}else r=t;var a=(t=di()).queue,s=a.dispatch;return n!==t.memoizedState&&(Hs.flags|=2048,Fi(9,{destroy:void 0},Ri.bind(null,a,n),null)),[r,s,e]}function Ri(e,t){e.action=t}function Ii(e){var t=di(),n=Vs;if(null!==n)return zi(t,n,e);di(),t=t.memoizedState;var r=(n=di()).queue.dispatch;return n.memoizedState=e,[t,r,!1]}function Fi(e,t,n,r){return e={tag:e,create:n,deps:r,inst:t,next:null},null===(t=Hs.updateQueue)&&(t={lastEffect:null,events:null,stores:null,memoCache:null},Hs.updateQueue=t),null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Li(){return di().memoizedState}function Bi(e,t,n,r){var a=ci();Hs.flags|=e,a.memoizedState=Fi(1|t,{destroy:void 0},n,void 0===r?null:r)}function $i(e,t,n,r){var a=di();r=void 0===r?null:r;var s=a.memoizedState.inst;null!==Vs&&null!==r&&ti(r,Vs.memoizedState.deps)?a.memoizedState=Fi(t,s,n,r):(Hs.flags|=e,a.memoizedState=Fi(1|t,s,n,r))}function Wi(e,t){Bi(8390656,8,e,t)}function Ui(e,t){$i(2048,8,e,t)}function Hi(e){var t=di().memoizedState;return function(e){Hs.flags|=4;var t=Hs.updateQueue;if(null===t)t={lastEffect:null,events:null,stores:null,memoCache:null},Hs.updateQueue=t,t.events=[e];else{var n=t.events;null===n?t.events=[e]:n.push(e)}}({ref:t,nextImpl:e}),function(){if(2&fc)throw Error(r(440));return t.impl.apply(void 0,arguments)}}function Vi(e,t){return $i(4,2,e,t)}function qi(e,t){return $i(4,4,e,t)}function Yi(e,t){if("function"==typeof t){e=e();var n=t(e);return function(){"function"==typeof n?n():t(null)}}if(null!=t)return e=e(),t.current=e,function(){t.current=null}}function Gi(e,t,n){n=null!=n?n.concat([e]):null,$i(4,4,Yi.bind(null,t,e),n)}function Ki(){}function Xi(e,t){var n=di();t=void 0===t?null:t;var r=n.memoizedState;return null!==t&&ti(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Qi(e,t){var n=di();t=void 0===t?null:t;var r=n.memoizedState;if(null!==t&&ti(t,r[1]))return r[0];if(r=e(),Ks){ge(!0);try{e()}finally{ge(!1)}}return n.memoizedState=[r,t],r}function Ji(e,t,n){return void 0===n||1073741824&Us&&!(261930&bc)?e.memoizedState=t:(e.memoizedState=n,e=Kc(),Hs.lanes|=e,Cc|=e,n)}function Zi(e,t,n,r){return er(n,t)?n:null!==Es.current?(e=Ji(e,n,r),er(e,t)||(zo=!0),e):42&Us&&(!(1073741824&Us)||261930&bc)?(e=Kc(),Hs.lanes|=e,Cc|=e,t):(zo=!0,e.memoizedState=n)}function eo(e,t,n,r,a){var s=T.p;T.p=0!==s&&8>s?s:8;var i,o,l,c=O.T,d={};O.T=d,mo(e,!1,t,n);try{var u=a(),h=O.S;if(null!==h&&h(d,u),null!==u&&"object"==typeof u&&"function"==typeof u.then)ho(e,t,(i=r,o=[],l={status:"pending",value:null,reason:null,then:function(e){o.push(e)}},u.then(function(){l.status="fulfilled",l.value=i;for(var e=0;e<o.length;e++)(0,o[e])(i)},function(e){for(l.status="rejected",l.reason=e,e=0;e<o.length;e++)(0,o[e])(void 0)}),l),Gc());else ho(e,t,r,Gc())}catch(m){ho(e,t,{then:function(){},status:"rejected",reason:m},Gc())}finally{T.p=s,null!==c&&null!==d.types&&(c.types=d.types),O.T=c}}function to(){}function no(e,t,n,a){if(5!==e.tag)throw Error(r(476));var s=ro(e).queue;eo(e,s,t,M,null===n?to:function(){return ao(e),n(a)})}function ro(e){var t=e.memoizedState;if(null!==t)return t;var n={};return(t={memoizedState:M,baseState:M,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:pi,lastRenderedState:M},next:null}).next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:pi,lastRenderedState:n},next:null},e.memoizedState=t,null!==(e=e.alternate)&&(e.memoizedState=t),t}function ao(e){var t=ro(e);null===t.next&&(t=e.alternate.memoizedState),ho(e,t.next.queue,{},Gc())}function so(){return Aa(hh)}function io(){return di().memoizedState}function oo(){return di().memoizedState}function lo(e){for(var t=e.return;null!==t;){switch(t.tag){case 24:case 3:var n=Gc(),r=ws(t,e=ys(n),n);return null!==r&&(Xc(r,t,n),js(r,t,n)),t={cache:$a()},void(e.payload=t)}t=t.return}}function co(e,t,n){var r=Gc();n={lane:r,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},po(e)?fo(t,n):null!==(n=Ar(e,t,n,r))&&(Xc(n,e,r),go(n,t,r))}function uo(e,t,n){ho(e,t,n,Gc())}function ho(e,t,n,r){var a={lane:r,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(po(e))fo(t,a);else{var s=e.alternate;if(0===e.lanes&&(null===s||0===s.lanes)&&null!==(s=t.lastRenderedReducer))try{var i=t.lastRenderedState,o=s(i,n);if(a.hasEagerState=!0,a.eagerState=o,er(o,i))return Mr(e,t,a,0),null===gc&&Tr(),!1}catch(l){}if(null!==(n=Ar(e,t,a,r)))return Xc(n,e,r),go(n,t,r),!0}return!1}function mo(e,t,n,a){if(a={lane:2,revertLane:Hd(),gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},po(e)){if(t)throw Error(r(479))}else null!==(t=Ar(e,n,a,2))&&Xc(t,e,2)}function po(e){var t=e.alternate;return e===Hs||null!==t&&t===Hs}function fo(e,t){Gs=Ys=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function go(e,t,n){if(4194048&n){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Oe(e,n)}}var xo={readContext:Aa,use:hi,useCallback:ei,useContext:ei,useEffect:ei,useImperativeHandle:ei,useLayoutEffect:ei,useInsertionEffect:ei,useMemo:ei,useReducer:ei,useRef:ei,useState:ei,useDebugValue:ei,useDeferredValue:ei,useTransition:ei,useSyncExternalStore:ei,useId:ei,useHostTransitionStatus:ei,useFormState:ei,useActionState:ei,useOptimistic:ei,useMemoCache:ei,useCacheRefresh:ei};xo.useEffectEvent=ei;var bo={readContext:Aa,use:hi,useCallback:function(e,t){return ci().memoizedState=[e,void 0===t?null:t],e},useContext:Aa,useEffect:Wi,useImperativeHandle:function(e,t,n){n=null!=n?n.concat([e]):null,Bi(4194308,4,Yi.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Bi(4194308,4,e,t)},useInsertionEffect:function(e,t){Bi(4,2,e,t)},useMemo:function(e,t){var n=ci();t=void 0===t?null:t;var r=e();if(Ks){ge(!0);try{e()}finally{ge(!1)}}return n.memoizedState=[r,t],r},useReducer:function(e,t,n){var r=ci();if(void 0!==n){var a=n(t);if(Ks){ge(!0);try{n(t)}finally{ge(!1)}}}else a=t;return r.memoizedState=r.baseState=a,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:a},r.queue=e,e=e.dispatch=co.bind(null,Hs,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},ci().memoizedState=e},useState:function(e){var t=(e=ki(e)).queue,n=uo.bind(null,Hs,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:Ki,useDeferredValue:function(e,t){return Ji(ci(),e,t)},useTransition:function(){var e=ki(!1);return e=eo.bind(null,Hs,e.queue,!0,!1),ci().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var a=Hs,s=ci();if(ma){if(void 0===n)throw Error(r(407));n=n()}else{if(n=t(),null===gc)throw Error(r(349));127&bc||vi(a,t,n)}s.memoizedState=n;var i={value:n,getSnapshot:t};return s.queue=i,Wi(wi.bind(null,a,i,e),[e]),a.flags|=2048,Fi(9,{destroy:void 0},yi.bind(null,a,i,n,t),null),n},useId:function(){var e=ci(),t=gc.identifierPrefix;if(ma){var n=sa;t="_"+t+"R_"+(n=(aa&~(1<<32-xe(aa)-1)).toString(32)+n),0<(n=Xs++)&&(t+="H"+n.toString(32)),t+="_"}else t="_"+t+"r_"+(n=Zs++).toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:so,useFormState:Mi,useActionState:Mi,useOptimistic:function(e){var t=ci();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=mo.bind(null,Hs,!0,n),n.dispatch=t,[e,t]},useMemoCache:mi,useCacheRefresh:function(){return ci().memoizedState=lo.bind(null,Hs)},useEffectEvent:function(e){var t=ci(),n={impl:e};return t.memoizedState=n,function(){if(2&fc)throw Error(r(440));return n.impl.apply(void 0,arguments)}}},vo={readContext:Aa,use:hi,useCallback:Xi,useContext:Aa,useEffect:Ui,useImperativeHandle:Gi,useInsertionEffect:Vi,useLayoutEffect:qi,useMemo:Qi,useReducer:fi,useRef:Li,useState:function(){return fi(pi)},useDebugValue:Ki,useDeferredValue:function(e,t){return Zi(di(),Vs.memoizedState,e,t)},useTransition:function(){var e=fi(pi)[0],t=di().memoizedState;return["boolean"==typeof e?e:ui(e),t]},useSyncExternalStore:bi,useId:io,useHostTransitionStatus:so,useFormState:Ai,useActionState:Ai,useOptimistic:function(e,t){return Si(di(),0,e,t)},useMemoCache:mi,useCacheRefresh:oo};vo.useEffectEvent=Hi;var yo={readContext:Aa,use:hi,useCallback:Xi,useContext:Aa,useEffect:Ui,useImperativeHandle:Gi,useInsertionEffect:Vi,useLayoutEffect:qi,useMemo:Qi,useReducer:xi,useRef:Li,useState:function(){return xi(pi)},useDebugValue:Ki,useDeferredValue:function(e,t){var n=di();return null===Vs?Ji(n,e,t):Zi(n,Vs.memoizedState,e,t)},useTransition:function(){var e=xi(pi)[0],t=di().memoizedState;return["boolean"==typeof e?e:ui(e),t]},useSyncExternalStore:bi,useId:io,useHostTransitionStatus:so,useFormState:Ii,useActionState:Ii,useOptimistic:function(e,t){var n=di();return null!==Vs?Si(n,0,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:mi,useCacheRefresh:oo};function wo(e,t,n,r){n=null==(n=n(r,t=e.memoizedState))?t:d({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}yo.useEffectEvent=Hi;var jo={enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Gc(),a=ys(r);a.payload=t,null!=n&&(a.callback=n),null!==(t=ws(e,a,r))&&(Xc(t,e,r),js(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Gc(),a=ys(r);a.tag=1,a.payload=t,null!=n&&(a.callback=n),null!==(t=ws(e,a,r))&&(Xc(t,e,r),js(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Gc(),r=ys(n);r.tag=2,null!=t&&(r.callback=t),null!==(t=ws(e,r,n))&&(Xc(t,e,n),js(t,e,n))}};function No(e,t,n,r,a,s,i){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,s,i):!t.prototype||!t.prototype.isPureReactComponent||(!tr(n,r)||!tr(a,s))}function ko(e,t,n,r){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&jo.enqueueReplaceState(t,t.state,null)}function So(e,t){var n=t;if("ref"in t)for(var r in n={},t)"ref"!==r&&(n[r]=t[r]);if(e=e.defaultProps)for(var a in n===t&&(n=d({},n)),e)void 0===n[a]&&(n[a]=e[a]);return n}function Co(e){Pr(e)}function _o(e){}function Po(e){Pr(e)}function Eo(e,t){try{(0,e.onUncaughtError)(t.value,{componentStack:t.stack})}catch(n){setTimeout(function(){throw n})}}function Do(e,t,n){try{(0,e.onCaughtError)(n.value,{componentStack:n.stack,errorBoundary:1===t.tag?t.stateNode:null})}catch(r){setTimeout(function(){throw r})}}function Oo(e,t,n){return(n=ys(n)).tag=3,n.payload={element:null},n.callback=function(){Eo(e,t)},n}function To(e){return(e=ys(e)).tag=3,e}function Mo(e,t,n,r){var a=n.type.getDerivedStateFromError;if("function"==typeof a){var s=r.value;e.payload=function(){return a(s)},e.callback=function(){Do(t,n,r)}}var i=n.stateNode;null!==i&&"function"==typeof i.componentDidCatch&&(e.callback=function(){Do(t,n,r),"function"!=typeof a&&(null===Fc?Fc=new Set([this]):Fc.add(this));var e=r.stack;this.componentDidCatch(r.value,{componentStack:null!==e?e:""})})}var Ao=Error(r(461)),zo=!1;function Ro(e,t,n,r){t.child=null===e?gs(t,null,n,r):fs(t,e.child,n,r)}function Io(e,t,n,r,a){n=n.render;var s=t.ref;if("ref"in r){var i={};for(var o in r)"ref"!==o&&(i[o]=r[o])}else i=r;return Ma(t),r=ni(e,t,n,i,s,a),o=ii(),null===e||zo?(ma&&o&&la(t),t.flags|=1,Ro(e,t,r,a),t.child):(oi(e,t,a),il(e,t,a))}function Fo(e,t,n,r,a){if(null===e){var s=n.type;return"function"!=typeof s||$r(s)||void 0!==s.defaultProps||null!==n.compare?((e=Hr(n.type,null,r,t,t.mode,a)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=s,Lo(e,t,s,r,a))}if(s=e.child,!ol(e,a)){var i=s.memoizedProps;if((n=null!==(n=n.compare)?n:tr)(i,r)&&e.ref===t.ref)return il(e,t,a)}return t.flags|=1,(e=Wr(s,r)).ref=t.ref,e.return=t,t.child=e}function Lo(e,t,n,r,a){if(null!==e){var s=e.memoizedProps;if(tr(s,r)&&e.ref===t.ref){if(zo=!1,t.pendingProps=r=s,!ol(e,a))return t.lanes=e.lanes,il(e,t,a);131072&e.flags&&(zo=!0)}}return qo(e,t,n,r,a)}function Bo(e,t,n,r){var a=r.children,s=null!==e?e.memoizedState:null;if(null===e&&null===t.stateNode&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),"hidden"===r.mode){if(128&t.flags){if(s=null!==s?s.baseLanes|n:n,null!==e){for(r=t.child=e.child,a=0;null!==r;)a=a|r.lanes|r.childLanes,r=r.sibling;r=a&~s}else r=0,t.child=null;return Wo(e,t,s,n,r)}if(!(536870912&n))return r=t.lanes=536870912,Wo(e,t,null!==s?s.baseLanes|n:n,n,r);t.memoizedState={baseLanes:0,cachePool:null},null!==e&&Qa(0,null!==s?s.cachePool:null),null!==s?Os(t,s):Ts(),Fs(t)}else null!==s?(Qa(0,s.cachePool),Os(t,s),Ls(),t.memoizedState=null):(null!==e&&Qa(0,null),Ts(),Ls());return Ro(e,t,a,n),t.child}function $o(e,t){return null!==e&&22===e.tag||null!==t.stateNode||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function Wo(e,t,n,r,a){var s=Xa();return s=null===s?null:{parent:Ba._currentValue,pool:s},t.memoizedState={baseLanes:n,cachePool:s},null!==e&&Qa(0,null),Ts(),Fs(t),null!==e&&Oa(e,t,r,!0),t.childLanes=a,null}function Uo(e,t){return(t=tl({mode:t.mode,children:t.children},e.mode)).ref=e.ref,e.child=t,t.return=e,t}function Ho(e,t,n){return fs(t,e.child,null,n),(e=Uo(t,t.pendingProps)).flags|=2,Bs(t),t.memoizedState=null,e}function Vo(e,t){var n=t.ref;if(null===n)null!==e&&null!==e.ref&&(t.flags|=4194816);else{if("function"!=typeof n&&"object"!=typeof n)throw Error(r(284));null!==e&&e.ref===n||(t.flags|=4194816)}}function qo(e,t,n,r,a){return Ma(t),n=ni(e,t,n,r,void 0,a),r=ii(),null===e||zo?(ma&&r&&la(t),t.flags|=1,Ro(e,t,n,a),t.child):(oi(e,t,a),il(e,t,a))}function Yo(e,t,n,r,a,s){return Ma(t),t.updateQueue=null,n=ai(t,r,n,a),ri(e),r=ii(),null===e||zo?(ma&&r&&la(t),t.flags|=1,Ro(e,t,n,s),t.child):(oi(e,t,s),il(e,t,s))}function Go(e,t,n,r,a){if(Ma(t),null===t.stateNode){var s=Fr,i=n.contextType;"object"==typeof i&&null!==i&&(s=Aa(i)),s=new n(r,s),t.memoizedState=null!==s.state&&void 0!==s.state?s.state:null,s.updater=jo,t.stateNode=s,s._reactInternals=t,(s=t.stateNode).props=r,s.state=t.memoizedState,s.refs={},bs(t),i=n.contextType,s.context="object"==typeof i&&null!==i?Aa(i):Fr,s.state=t.memoizedState,"function"==typeof(i=n.getDerivedStateFromProps)&&(wo(t,n,i,r),s.state=t.memoizedState),"function"==typeof n.getDerivedStateFromProps||"function"==typeof s.getSnapshotBeforeUpdate||"function"!=typeof s.UNSAFE_componentWillMount&&"function"!=typeof s.componentWillMount||(i=s.state,"function"==typeof s.componentWillMount&&s.componentWillMount(),"function"==typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount(),i!==s.state&&jo.enqueueReplaceState(s,s.state,null),Cs(t,r,s,a),Ss(),s.state=t.memoizedState),"function"==typeof s.componentDidMount&&(t.flags|=4194308),r=!0}else if(null===e){s=t.stateNode;var o=t.memoizedProps,l=So(n,o);s.props=l;var c=s.context,d=n.contextType;i=Fr,"object"==typeof d&&null!==d&&(i=Aa(d));var u=n.getDerivedStateFromProps;d="function"==typeof u||"function"==typeof s.getSnapshotBeforeUpdate,o=t.pendingProps!==o,d||"function"!=typeof s.UNSAFE_componentWillReceiveProps&&"function"!=typeof s.componentWillReceiveProps||(o||c!==i)&&ko(t,s,r,i),xs=!1;var h=t.memoizedState;s.state=h,Cs(t,r,s,a),Ss(),c=t.memoizedState,o||h!==c||xs?("function"==typeof u&&(wo(t,n,u,r),c=t.memoizedState),(l=xs||No(t,n,l,r,h,c,i))?(d||"function"!=typeof s.UNSAFE_componentWillMount&&"function"!=typeof s.componentWillMount||("function"==typeof s.componentWillMount&&s.componentWillMount(),"function"==typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount()),"function"==typeof s.componentDidMount&&(t.flags|=4194308)):("function"==typeof s.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),s.props=r,s.state=c,s.context=i,r=l):("function"==typeof s.componentDidMount&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,vs(e,t),d=So(n,i=t.memoizedProps),s.props=d,u=t.pendingProps,h=s.context,c=n.contextType,l=Fr,"object"==typeof c&&null!==c&&(l=Aa(c)),(c="function"==typeof(o=n.getDerivedStateFromProps)||"function"==typeof s.getSnapshotBeforeUpdate)||"function"!=typeof s.UNSAFE_componentWillReceiveProps&&"function"!=typeof s.componentWillReceiveProps||(i!==u||h!==l)&&ko(t,s,r,l),xs=!1,h=t.memoizedState,s.state=h,Cs(t,r,s,a),Ss();var m=t.memoizedState;i!==u||h!==m||xs||null!==e&&null!==e.dependencies&&Ta(e.dependencies)?("function"==typeof o&&(wo(t,n,o,r),m=t.memoizedState),(d=xs||No(t,n,d,r,h,m,l)||null!==e&&null!==e.dependencies&&Ta(e.dependencies))?(c||"function"!=typeof s.UNSAFE_componentWillUpdate&&"function"!=typeof s.componentWillUpdate||("function"==typeof s.componentWillUpdate&&s.componentWillUpdate(r,m,l),"function"==typeof s.UNSAFE_componentWillUpdate&&s.UNSAFE_componentWillUpdate(r,m,l)),"function"==typeof s.componentDidUpdate&&(t.flags|=4),"function"==typeof s.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!=typeof s.componentDidUpdate||i===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!=typeof s.getSnapshotBeforeUpdate||i===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=m),s.props=r,s.state=m,s.context=l,r=d):("function"!=typeof s.componentDidUpdate||i===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!=typeof s.getSnapshotBeforeUpdate||i===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return s=r,Vo(e,t),r=!!(128&t.flags),s||r?(s=t.stateNode,n=r&&"function"!=typeof n.getDerivedStateFromError?null:s.render(),t.flags|=1,null!==e&&r?(t.child=fs(t,e.child,null,a),t.child=fs(t,null,n,a)):Ro(e,t,n,a),t.memoizedState=s.state,e=t.child):e=il(e,t,a),e}function Ko(e,t,n,r){return wa(),t.flags|=256,Ro(e,t,n,r),t.child}var Xo={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Qo(e){return{baseLanes:e,cachePool:Ja()}}function Jo(e,t,n){return e=null!==e?e.childLanes&~n:0,t&&(e|=Ec),e}function Zo(e,t,n){var a,s=t.pendingProps,i=!1,o=!!(128&t.flags);if((a=o)||(a=(null===e||null!==e.memoizedState)&&!!(2&$s.current)),a&&(i=!0,t.flags&=-129),a=!!(32&t.flags),t.flags&=-33,null===e){if(ma){if(i?Rs(t):Ls(),(e=ha)?null!==(e=null!==(e=Tu(e,fa))&&"&"!==e.data?e:null)&&(t.memoizedState={dehydrated:e,treeContext:null!==ra?{id:aa,overflow:sa}:null,retryLane:536870912,hydrationErrors:null},(n=Yr(e)).return=t,t.child=n,ua=t,ha=null):e=null,null===e)throw xa(t);return Au(e)?t.lanes=32:t.lanes=536870912,null}var l=s.children;return s=s.fallback,i?(Ls(),l=tl({mode:"hidden",children:l},i=t.mode),s=Vr(s,i,n,null),l.return=t,s.return=t,l.sibling=s,t.child=l,(s=t.child).memoizedState=Qo(n),s.childLanes=Jo(e,a,n),t.memoizedState=Xo,$o(null,s)):(Rs(t),el(t,l))}var c=e.memoizedState;if(null!==c&&null!==(l=c.dehydrated)){if(o)256&t.flags?(Rs(t),t.flags&=-257,t=nl(e,t,n)):null!==t.memoizedState?(Ls(),t.child=e.child,t.flags|=128,t=null):(Ls(),l=s.fallback,i=t.mode,s=tl({mode:"visible",children:s.children},i),(l=Vr(l,i,n,null)).flags|=2,s.return=t,l.return=t,s.sibling=l,t.child=s,fs(t,e.child,null,n),(s=t.child).memoizedState=Qo(n),s.childLanes=Jo(e,a,n),t.memoizedState=Xo,t=$o(null,s));else if(Rs(t),Au(l)){if(a=l.nextSibling&&l.nextSibling.dataset)var d=a.dgst;a=d,(s=Error(r(419))).stack="",s.digest=a,Na({value:s,source:null,stack:null}),t=nl(e,t,n)}else if(zo||Oa(e,t,n,!1),a=0!==(n&e.childLanes),zo||a){if(null!==(a=gc)&&(0!==(s=Te(a,n))&&s!==c.retryLane))throw c.retryLane=s,zr(e,s),Xc(a,e,s),Ao;Mu(l)||ld(),t=nl(e,t,n)}else Mu(l)?(t.flags|=192,t.child=e.child,t=null):(e=c.treeContext,ha=zu(l.nextSibling),ua=t,ma=!0,pa=null,fa=!1,null!==e&&da(t,e),(t=el(t,s.children)).flags|=4096);return t}return i?(Ls(),l=s.fallback,i=t.mode,d=(c=e.child).sibling,(s=Wr(c,{mode:"hidden",children:s.children})).subtreeFlags=65011712&c.subtreeFlags,null!==d?l=Wr(d,l):(l=Vr(l,i,n,null)).flags|=2,l.return=t,s.return=t,s.sibling=l,t.child=s,$o(null,s),s=t.child,null===(l=e.child.memoizedState)?l=Qo(n):(null!==(i=l.cachePool)?(c=Ba._currentValue,i=i.parent!==c?{parent:c,pool:c}:i):i=Ja(),l={baseLanes:l.baseLanes|n,cachePool:i}),s.memoizedState=l,s.childLanes=Jo(e,a,n),t.memoizedState=Xo,$o(e.child,s)):(Rs(t),e=(n=e.child).sibling,(n=Wr(n,{mode:"visible",children:s.children})).return=t,n.sibling=null,null!==e&&(null===(a=t.deletions)?(t.deletions=[e],t.flags|=16):a.push(e)),t.child=n,t.memoizedState=null,n)}function el(e,t){return(t=tl({mode:"visible",children:t},e.mode)).return=e,e.child=t}function tl(e,t){return(e=Br(22,e,null,t)).lanes=0,e}function nl(e,t,n){return fs(t,e.child,null,n),(e=el(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function rl(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Ea(e.return,t,n)}function al(e,t,n,r,a,s){var i=e.memoizedState;null===i?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:a,treeForkCount:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=a,i.treeForkCount=s)}function sl(e,t,n){var r=t.pendingProps,a=r.revealOrder,s=r.tail;r=r.children;var i=$s.current,o=!!(2&i);if(o?(i=1&i|2,t.flags|=128):i&=1,F($s,i),Ro(e,t,r,n),r=ma?ea:0,!o&&null!==e&&128&e.flags)e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&rl(e,n,t);else if(19===e.tag)rl(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(a){case"forwards":for(n=t.child,a=null;null!==n;)null!==(e=n.alternate)&&null===Ws(e)&&(a=n),n=n.sibling;null===(n=a)?(a=t.child,t.child=null):(a=n.sibling,n.sibling=null),al(t,!1,a,n,s,r);break;case"backwards":case"unstable_legacy-backwards":for(n=null,a=t.child,t.child=null;null!==a;){if(null!==(e=a.alternate)&&null===Ws(e)){t.child=a;break}e=a.sibling,a.sibling=n,n=a,a=e}al(t,!0,n,null,s,r);break;case"together":al(t,!1,null,null,void 0,r);break;default:t.memoizedState=null}return t.child}function il(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Cc|=t.lanes,0===(n&t.childLanes)){if(null===e)return null;if(Oa(e,t,n,!1),0===(n&t.childLanes))return null}if(null!==e&&t.child!==e.child)throw Error(r(153));if(null!==t.child){for(n=Wr(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Wr(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function ol(e,t){return 0!==(e.lanes&t)||!(null===(e=e.dependencies)||!Ta(e))}function ll(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps)zo=!0;else{if(!(ol(e,n)||128&t.flags))return zo=!1,function(e,t,n){switch(t.tag){case 3:V(t,t.stateNode.containerInfo),_a(0,Ba,e.memoizedState.cache),wa();break;case 27:case 5:Y(t);break;case 4:V(t,t.stateNode.containerInfo);break;case 10:_a(0,t.type,t.memoizedProps.value);break;case 31:if(null!==t.memoizedState)return t.flags|=128,Is(t),null;break;case 13:var r=t.memoizedState;if(null!==r)return null!==r.dehydrated?(Rs(t),t.flags|=128,null):0!==(n&t.child.childLanes)?Zo(e,t,n):(Rs(t),null!==(e=il(e,t,n))?e.sibling:null);Rs(t);break;case 19:var a=!!(128&e.flags);if((r=0!==(n&t.childLanes))||(Oa(e,t,n,!1),r=0!==(n&t.childLanes)),a){if(r)return sl(e,t,n);t.flags|=128}if(null!==(a=t.memoizedState)&&(a.rendering=null,a.tail=null,a.lastEffect=null),F($s,$s.current),r)break;return null;case 22:return t.lanes=0,Bo(e,t,n,t.pendingProps);case 24:_a(0,Ba,e.memoizedState.cache)}return il(e,t,n)}(e,t,n);zo=!!(131072&e.flags)}else zo=!1,ma&&1048576&t.flags&&oa(t,ea,t.index);switch(t.lanes=0,t.tag){case 16:e:{var a=t.pendingProps;if(e=ss(t.elementType),t.type=e,"function"!=typeof e){if(null!=e){var s=e.$$typeof;if(s===v){t.tag=11,t=Io(null,t,e,a,n);break e}if(s===j){t.tag=14,t=Fo(null,t,e,a,n);break e}}throw t=E(e)||e,Error(r(306,t,""))}$r(e)?(a=So(e,a),t.tag=1,t=Go(null,t,e,a,n)):(t.tag=0,t=qo(null,t,e,a,n))}return t;case 0:return qo(e,t,t.type,t.pendingProps,n);case 1:return Go(e,t,a=t.type,s=So(a,t.pendingProps),n);case 3:e:{if(V(t,t.stateNode.containerInfo),null===e)throw Error(r(387));a=t.pendingProps;var i=t.memoizedState;s=i.element,vs(e,t),Cs(t,a,null,n);var o=t.memoizedState;if(a=o.cache,_a(0,Ba,a),a!==i.cache&&Da(t,[Ba],n,!0),Ss(),a=o.element,i.isDehydrated){if(i={element:a,isDehydrated:!1,cache:o.cache},t.updateQueue.baseState=i,t.memoizedState=i,256&t.flags){t=Ko(e,t,a,n);break e}if(a!==s){Na(s=Xr(Error(r(424)),t)),t=Ko(e,t,a,n);break e}if(9===(e=t.stateNode.containerInfo).nodeType)e=e.body;else e="HTML"===e.nodeName?e.ownerDocument.body:e;for(ha=zu(e.firstChild),ua=t,ma=!0,pa=null,fa=!0,n=gs(t,null,a,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(wa(),a===s){t=il(e,t,n);break e}Ro(e,t,a,n)}t=t.child}return t;case 26:return Vo(e,t),null===e?(n=Yu(t.type,null,t.pendingProps,null))?t.memoizedState=n:ma||(n=t.type,e=t.pendingProps,(a=bu(U.current).createElement(n))[Fe]=t,a[Le]=e,pu(a,n,e),Qe(a),t.stateNode=a):t.memoizedState=Yu(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Y(t),null===e&&ma&&(a=t.stateNode=Lu(t.type,t.pendingProps,U.current),ua=t,fa=!0,s=ha,Pu(t.type)?(Ru=s,ha=zu(a.firstChild)):ha=s),Ro(e,t,t.pendingProps.children,n),Vo(e,t),null===e&&(t.flags|=4194304),t.child;case 5:return null===e&&ma&&((s=a=ha)&&(null!==(a=function(e,t,n,r){for(;1===e.nodeType;){var a=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!r&&("INPUT"!==e.nodeName||"hidden"!==e.type))break}else if(r){if(!e[Ve])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if("stylesheet"===(s=e.getAttribute("rel"))&&e.hasAttribute("data-precedence"))break;if(s!==a.rel||e.getAttribute("href")!==(null==a.href||""===a.href?null:a.href)||e.getAttribute("crossorigin")!==(null==a.crossOrigin?null:a.crossOrigin)||e.getAttribute("title")!==(null==a.title?null:a.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(((s=e.getAttribute("src"))!==(null==a.src?null:a.src)||e.getAttribute("type")!==(null==a.type?null:a.type)||e.getAttribute("crossorigin")!==(null==a.crossOrigin?null:a.crossOrigin))&&s&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else{if("input"!==t||"hidden"!==e.type)return e;var s=null==a.name?null:""+a.name;if("hidden"===a.type&&e.getAttribute("name")===s)return e}if(null===(e=zu(e.nextSibling)))break}return null}(a,t.type,t.pendingProps,fa))?(t.stateNode=a,ua=t,ha=zu(a.firstChild),fa=!1,s=!0):s=!1),s||xa(t)),Y(t),s=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,a=i.children,wu(s,i)?a=null:null!==o&&wu(s,o)&&(t.flags|=32),null!==t.memoizedState&&(s=ni(e,t,si,null,null,n),hh._currentValue=s),Vo(e,t),Ro(e,t,a,n),t.child;case 6:return null===e&&ma&&((e=n=ha)&&(null!==(n=function(e,t,n){if(""===t)return null;for(;3!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!n)return null;if(null===(e=zu(e.nextSibling)))return null}return e}(n,t.pendingProps,fa))?(t.stateNode=n,ua=t,ha=null,e=!0):e=!1),e||xa(t)),null;case 13:return Zo(e,t,n);case 4:return V(t,t.stateNode.containerInfo),a=t.pendingProps,null===e?t.child=fs(t,null,a,n):Ro(e,t,a,n),t.child;case 11:return Io(e,t,t.type,t.pendingProps,n);case 7:return Ro(e,t,t.pendingProps,n),t.child;case 8:case 12:return Ro(e,t,t.pendingProps.children,n),t.child;case 10:return a=t.pendingProps,_a(0,t.type,a.value),Ro(e,t,a.children,n),t.child;case 9:return s=t.type._context,a=t.pendingProps.children,Ma(t),a=a(s=Aa(s)),t.flags|=1,Ro(e,t,a,n),t.child;case 14:return Fo(e,t,t.type,t.pendingProps,n);case 15:return Lo(e,t,t.type,t.pendingProps,n);case 19:return sl(e,t,n);case 31:return function(e,t,n){var a=t.pendingProps,s=!!(128&t.flags);if(t.flags&=-129,null===e){if(ma){if("hidden"===a.mode)return e=Uo(t,a),t.lanes=536870912,$o(null,e);if(Is(t),(e=ha)?null!==(e=null!==(e=Tu(e,fa))&&"&"===e.data?e:null)&&(t.memoizedState={dehydrated:e,treeContext:null!==ra?{id:aa,overflow:sa}:null,retryLane:536870912,hydrationErrors:null},(n=Yr(e)).return=t,t.child=n,ua=t,ha=null):e=null,null===e)throw xa(t);return t.lanes=536870912,null}return Uo(t,a)}var i=e.memoizedState;if(null!==i){var o=i.dehydrated;if(Is(t),s)if(256&t.flags)t.flags&=-257,t=Ho(e,t,n);else{if(null===t.memoizedState)throw Error(r(558));t.child=e.child,t.flags|=128,t=null}else if(zo||Oa(e,t,n,!1),s=0!==(n&e.childLanes),zo||s){if(null!==(a=gc)&&0!==(o=Te(a,n))&&o!==i.retryLane)throw i.retryLane=o,zr(e,o),Xc(a,e,o),Ao;ld(),t=Ho(e,t,n)}else e=i.treeContext,ha=zu(o.nextSibling),ua=t,ma=!0,pa=null,fa=!1,null!==e&&da(t,e),(t=Uo(t,a)).flags|=4096;return t}return(e=Wr(e.child,{mode:a.mode,children:a.children})).ref=t.ref,t.child=e,e.return=t,e}(e,t,n);case 22:return Bo(e,t,n,t.pendingProps);case 24:return Ma(t),a=Aa(Ba),null===e?(null===(s=Xa())&&(s=gc,i=$a(),s.pooledCache=i,i.refCount++,null!==i&&(s.pooledCacheLanes|=n),s=i),t.memoizedState={parent:a,cache:s},bs(t),_a(0,Ba,s)):(0!==(e.lanes&n)&&(vs(e,t),Cs(t,null,null,n),Ss()),s=e.memoizedState,i=t.memoizedState,s.parent!==a?(s={parent:a,cache:a},t.memoizedState=s,0===t.lanes&&(t.memoizedState=t.updateQueue.baseState=s),_a(0,Ba,a)):(a=i.cache,_a(0,Ba,a),a!==s.cache&&Da(t,[Ba],n,!0))),Ro(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(r(156,t.tag))}function cl(e){e.flags|=4}function dl(e,t,n,r,a){if((t=!!(32&e.mode))&&(t=!1),t){if(e.flags|=16777216,(335544128&a)===a)if(e.stateNode.complete)e.flags|=8192;else{if(!sd())throw is=ns,es;e.flags|=8192}}else e.flags&=-16777217}function ul(e,t){if("stylesheet"!==t.type||4&t.state.loading)e.flags&=-16777217;else if(e.flags|=16777216,!ih(t)){if(!sd())throw is=ns,es;e.flags|=8192}}function hl(e,t){null!==t&&(e.flags|=4),16384&e.flags&&(t=22!==e.tag?_e():536870912,e.lanes|=t,Dc|=t)}function ml(e,t){if(!ma)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function pl(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var a=e.child;null!==a;)n|=a.lanes|a.childLanes,r|=65011712&a.subtreeFlags,r|=65011712&a.flags,a.return=e,a=a.sibling;else for(a=e.child;null!==a;)n|=a.lanes|a.childLanes,r|=a.subtreeFlags,r|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function fl(e,t,n){var a=t.pendingProps;switch(ca(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:case 1:return pl(t),null;case 3:return n=t.stateNode,a=null,null!==e&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),Pa(Ba),q(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||(ya(t)?cl(t):null===e||e.memoizedState.isDehydrated&&!(256&t.flags)||(t.flags|=1024,ja())),pl(t),null;case 26:var s=t.type,i=t.memoizedState;return null===e?(cl(t),null!==i?(pl(t),ul(t,i)):(pl(t),dl(t,s,0,0,n))):i?i!==e.memoizedState?(cl(t),pl(t),ul(t,i)):(pl(t),t.flags&=-16777217):((e=e.memoizedProps)!==a&&cl(t),pl(t),dl(t,s,0,0,n)),null;case 27:if(G(t),n=U.current,s=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==a&&cl(t);else{if(!a){if(null===t.stateNode)throw Error(r(166));return pl(t),null}e=$.current,ya(t)?ba(t):(e=Lu(s,a,n),t.stateNode=e,cl(t))}return pl(t),null;case 5:if(G(t),s=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==a&&cl(t);else{if(!a){if(null===t.stateNode)throw Error(r(166));return pl(t),null}if(i=$.current,ya(t))ba(t);else{var o=bu(U.current);switch(i){case 1:i=o.createElementNS("http://www.w3.org/2000/svg",s);break;case 2:i=o.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;default:switch(s){case"svg":i=o.createElementNS("http://www.w3.org/2000/svg",s);break;case"math":i=o.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;case"script":(i=o.createElement("div")).innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i="string"==typeof a.is?o.createElement("select",{is:a.is}):o.createElement("select"),a.multiple?i.multiple=!0:a.size&&(i.size=a.size);break;default:i="string"==typeof a.is?o.createElement(s,{is:a.is}):o.createElement(s)}}i[Fe]=t,i[Le]=a;e:for(o=t.child;null!==o;){if(5===o.tag||6===o.tag)i.appendChild(o.stateNode);else if(4!==o.tag&&27!==o.tag&&null!==o.child){o.child.return=o,o=o.child;continue}if(o===t)break e;for(;null===o.sibling;){if(null===o.return||o.return===t)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}t.stateNode=i;e:switch(pu(i,s,a),s){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}a&&cl(t)}}return pl(t),dl(t,t.type,null===e||e.memoizedProps,t.pendingProps,n),null;case 6:if(e&&null!=t.stateNode)e.memoizedProps!==a&&cl(t);else{if("string"!=typeof a&&null===t.stateNode)throw Error(r(166));if(e=U.current,ya(t)){if(e=t.stateNode,n=t.memoizedProps,a=null,null!==(s=ua))switch(s.tag){case 27:case 5:a=s.memoizedProps}e[Fe]=t,(e=!!(e.nodeValue===n||null!==a&&!0===a.suppressHydrationWarning||uu(e.nodeValue,n)))||xa(t,!0)}else(e=bu(e).createTextNode(a))[Fe]=t,t.stateNode=e}return pl(t),null;case 31:if(n=t.memoizedState,null===e||null!==e.memoizedState){if(a=ya(t),null!==n){if(null===e){if(!a)throw Error(r(318));if(!(e=null!==(e=t.memoizedState)?e.dehydrated:null))throw Error(r(557));e[Fe]=t}else wa(),!(128&t.flags)&&(t.memoizedState=null),t.flags|=4;pl(t),e=!1}else n=ja(),null!==e&&null!==e.memoizedState&&(e.memoizedState.hydrationErrors=n),e=!0;if(!e)return 256&t.flags?(Bs(t),t):(Bs(t),null);if(128&t.flags)throw Error(r(558))}return pl(t),null;case 13:if(a=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(s=ya(t),null!==a&&null!==a.dehydrated){if(null===e){if(!s)throw Error(r(318));if(!(s=null!==(s=t.memoizedState)?s.dehydrated:null))throw Error(r(317));s[Fe]=t}else wa(),!(128&t.flags)&&(t.memoizedState=null),t.flags|=4;pl(t),s=!1}else s=ja(),null!==e&&null!==e.memoizedState&&(e.memoizedState.hydrationErrors=s),s=!0;if(!s)return 256&t.flags?(Bs(t),t):(Bs(t),null)}return Bs(t),128&t.flags?(t.lanes=n,t):(n=null!==a,e=null!==e&&null!==e.memoizedState,n&&(s=null,null!==(a=t.child).alternate&&null!==a.alternate.memoizedState&&null!==a.alternate.memoizedState.cachePool&&(s=a.alternate.memoizedState.cachePool.pool),i=null,null!==a.memoizedState&&null!==a.memoizedState.cachePool&&(i=a.memoizedState.cachePool.pool),i!==s&&(a.flags|=2048)),n!==e&&n&&(t.child.flags|=8192),hl(t,t.updateQueue),pl(t),null);case 4:return q(),null===e&&tu(t.stateNode.containerInfo),pl(t),null;case 10:return Pa(t.type),pl(t),null;case 19:if(I($s),null===(a=t.memoizedState))return pl(t),null;if(s=!!(128&t.flags),null===(i=a.rendering))if(s)ml(a,!1);else{if(0!==Sc||null!==e&&128&e.flags)for(e=t.child;null!==e;){if(null!==(i=Ws(e))){for(t.flags|=128,ml(a,!1),e=i.updateQueue,t.updateQueue=e,hl(t,e),t.subtreeFlags=0,e=n,n=t.child;null!==n;)Ur(n,e),n=n.sibling;return F($s,1&$s.current|2),ma&&ia(t,a.treeForkCount),t.child}e=e.sibling}null!==a.tail&&se()>Rc&&(t.flags|=128,s=!0,ml(a,!1),t.lanes=4194304)}else{if(!s)if(null!==(e=Ws(i))){if(t.flags|=128,s=!0,e=e.updateQueue,t.updateQueue=e,hl(t,e),ml(a,!0),null===a.tail&&"hidden"===a.tailMode&&!i.alternate&&!ma)return pl(t),null}else 2*se()-a.renderingStartTime>Rc&&536870912!==n&&(t.flags|=128,s=!0,ml(a,!1),t.lanes=4194304);a.isBackwards?(i.sibling=t.child,t.child=i):(null!==(e=a.last)?e.sibling=i:t.child=i,a.last=i)}return null!==a.tail?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=se(),e.sibling=null,n=$s.current,F($s,s?1&n|2:1&n),ma&&ia(t,a.treeForkCount),e):(pl(t),null);case 22:case 23:return Bs(t),Ms(),a=null!==t.memoizedState,null!==e?null!==e.memoizedState!==a&&(t.flags|=8192):a&&(t.flags|=8192),a?!!(536870912&n)&&!(128&t.flags)&&(pl(t),6&t.subtreeFlags&&(t.flags|=8192)):pl(t),null!==(n=t.updateQueue)&&hl(t,n.retryQueue),n=null,null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),a=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(a=t.memoizedState.cachePool.pool),a!==n&&(t.flags|=2048),null!==e&&I(Ka),null;case 24:return n=null,null!==e&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),Pa(Ba),pl(t),null;case 25:case 30:return null}throw Error(r(156,t.tag))}function gl(e,t){switch(ca(t),t.tag){case 1:return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Pa(Ba),q(),65536&(e=t.flags)&&!(128&e)?(t.flags=-65537&e|128,t):null;case 26:case 27:case 5:return G(t),null;case 31:if(null!==t.memoizedState){if(Bs(t),null===t.alternate)throw Error(r(340));wa()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 13:if(Bs(t),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(r(340));wa()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return I($s),null;case 4:return q(),null;case 10:return Pa(t.type),null;case 22:case 23:return Bs(t),Ms(),null!==e&&I(Ka),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 24:return Pa(Ba),null;default:return null}}function xl(e,t){switch(ca(t),t.tag){case 3:Pa(Ba),q();break;case 26:case 27:case 5:G(t);break;case 4:q();break;case 31:null!==t.memoizedState&&Bs(t);break;case 13:Bs(t);break;case 19:I($s);break;case 10:Pa(t.type);break;case 22:case 23:Bs(t),Ms(),null!==e&&I(Ka);break;case 24:Pa(Ba)}}function bl(e,t){try{var n=t.updateQueue,r=null!==n?n.lastEffect:null;if(null!==r){var a=r.next;n=a;do{if((n.tag&e)===e){r=void 0;var s=n.create,i=n.inst;r=s(),i.destroy=r}n=n.next}while(n!==a)}}catch(o){Sd(t,t.return,o)}}function vl(e,t,n){try{var r=t.updateQueue,a=null!==r?r.lastEffect:null;if(null!==a){var s=a.next;r=s;do{if((r.tag&e)===e){var i=r.inst,o=i.destroy;if(void 0!==o){i.destroy=void 0,a=t;var l=n,c=o;try{c()}catch(d){Sd(a,l,d)}}}r=r.next}while(r!==s)}}catch(d){Sd(t,t.return,d)}}function yl(e){var t=e.updateQueue;if(null!==t){var n=e.stateNode;try{Ps(t,n)}catch(r){Sd(e,e.return,r)}}}function wl(e,t,n){n.props=So(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(r){Sd(e,t,r)}}function jl(e,t){try{var n=e.ref;if(null!==n){switch(e.tag){case 26:case 27:case 5:var r=e.stateNode;break;default:r=e.stateNode}"function"==typeof n?e.refCleanup=n(r):n.current=r}}catch(a){Sd(e,t,a)}}function Nl(e,t){var n=e.ref,r=e.refCleanup;if(null!==n)if("function"==typeof r)try{r()}catch(a){Sd(e,t,a)}finally{e.refCleanup=null,null!=(e=e.alternate)&&(e.refCleanup=null)}else if("function"==typeof n)try{n(null)}catch(s){Sd(e,t,s)}else n.current=null}function kl(e){var t=e.type,n=e.memoizedProps,r=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&r.focus();break e;case"img":n.src?r.src=n.src:n.srcSet&&(r.srcset=n.srcSet)}}catch(a){Sd(e,e.return,a)}}function Sl(e,t,n){try{var a=e.stateNode;!function(e,t,n,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var s=null,i=null,o=null,l=null,c=null,d=null,u=null;for(p in n){var h=n[p];if(n.hasOwnProperty(p)&&null!=h)switch(p){case"checked":case"value":break;case"defaultValue":c=h;default:a.hasOwnProperty(p)||hu(e,t,p,null,a,h)}}for(var m in a){var p=a[m];if(h=n[m],a.hasOwnProperty(m)&&(null!=p||null!=h))switch(m){case"type":i=p;break;case"name":s=p;break;case"checked":d=p;break;case"defaultChecked":u=p;break;case"value":o=p;break;case"defaultValue":l=p;break;case"children":case"dangerouslySetInnerHTML":if(null!=p)throw Error(r(137,t));break;default:p!==h&&hu(e,t,m,p,a,h)}}return void ft(e,o,l,c,d,u,i,s);case"select":for(i in p=o=l=m=null,n)if(c=n[i],n.hasOwnProperty(i)&&null!=c)switch(i){case"value":break;case"multiple":p=c;default:a.hasOwnProperty(i)||hu(e,t,i,null,a,c)}for(s in a)if(i=a[s],c=n[s],a.hasOwnProperty(s)&&(null!=i||null!=c))switch(s){case"value":m=i;break;case"defaultValue":l=i;break;case"multiple":o=i;default:i!==c&&hu(e,t,s,i,a,c)}return t=l,n=o,a=p,void(null!=m?bt(e,!!n,m,!1):!!a!=!!n&&(null!=t?bt(e,!!n,t,!0):bt(e,!!n,n?[]:"",!1)));case"textarea":for(l in p=m=null,n)if(s=n[l],n.hasOwnProperty(l)&&null!=s&&!a.hasOwnProperty(l))switch(l){case"value":case"children":break;default:hu(e,t,l,null,a,s)}for(o in a)if(s=a[o],i=n[o],a.hasOwnProperty(o)&&(null!=s||null!=i))switch(o){case"value":m=s;break;case"defaultValue":p=s;break;case"children":break;case"dangerouslySetInnerHTML":if(null!=s)throw Error(r(91));break;default:s!==i&&hu(e,t,o,s,a,i)}return void vt(e,m,p);case"option":for(var f in n)if(m=n[f],n.hasOwnProperty(f)&&null!=m&&!a.hasOwnProperty(f))if("selected"===f)e.selected=!1;else hu(e,t,f,null,a,m);for(c in a)if(m=a[c],p=n[c],a.hasOwnProperty(c)&&m!==p&&(null!=m||null!=p))if("selected"===c)e.selected=m&&"function"!=typeof m&&"symbol"!=typeof m;else hu(e,t,c,m,a,p);return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var g in n)m=n[g],n.hasOwnProperty(g)&&null!=m&&!a.hasOwnProperty(g)&&hu(e,t,g,null,a,m);for(d in a)if(m=a[d],p=n[d],a.hasOwnProperty(d)&&m!==p&&(null!=m||null!=p))switch(d){case"children":case"dangerouslySetInnerHTML":if(null!=m)throw Error(r(137,t));break;default:hu(e,t,d,m,a,p)}return;default:if(_t(t)){for(var x in n)m=n[x],n.hasOwnProperty(x)&&void 0!==m&&!a.hasOwnProperty(x)&&mu(e,t,x,void 0,a,m);for(u in a)m=a[u],p=n[u],!a.hasOwnProperty(u)||m===p||void 0===m&&void 0===p||mu(e,t,u,m,a,p);return}}for(var b in n)m=n[b],n.hasOwnProperty(b)&&null!=m&&!a.hasOwnProperty(b)&&hu(e,t,b,null,a,m);for(h in a)m=a[h],p=n[h],!a.hasOwnProperty(h)||m===p||null==m&&null==p||hu(e,t,h,m,a,p)}(a,e.type,n,t),a[Le]=t}catch(s){Sd(e,e.return,s)}}function Cl(e){return 5===e.tag||3===e.tag||26===e.tag||27===e.tag&&Pu(e.type)||4===e.tag}function _l(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||Cl(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(27===e.tag&&Pu(e.type))continue e;if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function Pl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?(9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).insertBefore(e,t):((t=9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).appendChild(e),null!=(n=n._reactRootContainer)||null!==t.onclick||(t.onclick=Ot));else if(4!==r&&(27===r&&Pu(e.type)&&(n=e.stateNode,t=null),null!==(e=e.child)))for(Pl(e,t,n),e=e.sibling;null!==e;)Pl(e,t,n),e=e.sibling}function El(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&(27===r&&Pu(e.type)&&(n=e.stateNode),null!==(e=e.child)))for(El(e,t,n),e=e.sibling;null!==e;)El(e,t,n),e=e.sibling}function Dl(e){var t=e.stateNode,n=e.memoizedProps;try{for(var r=e.type,a=t.attributes;a.length;)t.removeAttributeNode(a[0]);pu(t,r,n),t[Fe]=e,t[Le]=n}catch(s){Sd(e,e.return,s)}}var Ol=!1,Tl=!1,Ml=!1,Al="function"==typeof WeakSet?WeakSet:Set,zl=null;function Rl(e,t,n){var r=n.flags;switch(n.tag){case 0:case 11:case 15:Xl(e,n),4&r&&bl(5,n);break;case 1:if(Xl(e,n),4&r)if(e=n.stateNode,null===t)try{e.componentDidMount()}catch(i){Sd(n,n.return,i)}else{var a=So(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(a,t,e.__reactInternalSnapshotBeforeUpdate)}catch(o){Sd(n,n.return,o)}}64&r&&yl(n),512&r&&jl(n,n.return);break;case 3:if(Xl(e,n),64&r&&null!==(e=n.updateQueue)){if(t=null,null!==n.child)switch(n.child.tag){case 27:case 5:case 1:t=n.child.stateNode}try{Ps(e,t)}catch(i){Sd(n,n.return,i)}}break;case 27:null===t&&4&r&&Dl(n);case 26:case 5:Xl(e,n),null===t&&4&r&&kl(n),512&r&&jl(n,n.return);break;case 12:Xl(e,n);break;case 31:Xl(e,n),4&r&&Wl(e,n);break;case 13:Xl(e,n),4&r&&Ul(e,n),64&r&&(null!==(e=n.memoizedState)&&(null!==(e=e.dehydrated)&&function(e,t){var n=e.ownerDocument;if("$~"===e.data)e._reactRetry=t;else if("$?"!==e.data||"loading"!==n.readyState)t();else{var r=function(){t(),n.removeEventListener("DOMContentLoaded",r)};n.addEventListener("DOMContentLoaded",r),e._reactRetry=r}}(e,n=Ed.bind(null,n))));break;case 22:if(!(r=null!==n.memoizedState||Ol)){t=null!==t&&null!==t.memoizedState||Tl,a=Ol;var s=Tl;Ol=r,(Tl=t)&&!s?Jl(e,n,!!(8772&n.subtreeFlags)):Xl(e,n),Ol=a,Tl=s}break;case 30:break;default:Xl(e,n)}}function Il(e){var t=e.alternate;null!==t&&(e.alternate=null,Il(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&qe(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Fl=null,Ll=!1;function Bl(e,t,n){for(n=n.child;null!==n;)$l(e,t,n),n=n.sibling}function $l(e,t,n){if(fe&&"function"==typeof fe.onCommitFiberUnmount)try{fe.onCommitFiberUnmount(pe,n)}catch(s){}switch(n.tag){case 26:Tl||Nl(n,t),Bl(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode).parentNode.removeChild(n);break;case 27:Tl||Nl(n,t);var r=Fl,a=Ll;Pu(n.type)&&(Fl=n.stateNode,Ll=!1),Bl(e,t,n),Bu(n.stateNode),Fl=r,Ll=a;break;case 5:Tl||Nl(n,t);case 6:if(r=Fl,a=Ll,Fl=null,Bl(e,t,n),Ll=a,null!==(Fl=r))if(Ll)try{(9===Fl.nodeType?Fl.body:"HTML"===Fl.nodeName?Fl.ownerDocument.body:Fl).removeChild(n.stateNode)}catch(i){Sd(n,t,i)}else try{Fl.removeChild(n.stateNode)}catch(i){Sd(n,t,i)}break;case 18:null!==Fl&&(Ll?(Eu(9===(e=Fl).nodeType?e.body:"HTML"===e.nodeName?e.ownerDocument.body:e,n.stateNode),qh(e)):Eu(Fl,n.stateNode));break;case 4:r=Fl,a=Ll,Fl=n.stateNode.containerInfo,Ll=!0,Bl(e,t,n),Fl=r,Ll=a;break;case 0:case 11:case 14:case 15:vl(2,n,t),Tl||vl(4,n,t),Bl(e,t,n);break;case 1:Tl||(Nl(n,t),"function"==typeof(r=n.stateNode).componentWillUnmount&&wl(n,t,r)),Bl(e,t,n);break;case 21:Bl(e,t,n);break;case 22:Tl=(r=Tl)||null!==n.memoizedState,Bl(e,t,n),Tl=r;break;default:Bl(e,t,n)}}function Wl(e,t){if(null===t.memoizedState&&(null!==(e=t.alternate)&&null!==(e=e.memoizedState))){e=e.dehydrated;try{qh(e)}catch(n){Sd(t,t.return,n)}}}function Ul(e,t){if(null===t.memoizedState&&(null!==(e=t.alternate)&&(null!==(e=e.memoizedState)&&null!==(e=e.dehydrated))))try{qh(e)}catch(n){Sd(t,t.return,n)}}function Hl(e,t){var n=function(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return null===t&&(t=e.stateNode=new Al),t;case 22:return null===(t=(e=e.stateNode)._retryCache)&&(t=e._retryCache=new Al),t;default:throw Error(r(435,e.tag))}}(e);t.forEach(function(t){if(!n.has(t)){n.add(t);var r=Dd.bind(null,e,t);t.then(r,r)}})}function Vl(e,t){var n=t.deletions;if(null!==n)for(var a=0;a<n.length;a++){var s=n[a],i=e,o=t,l=o;e:for(;null!==l;){switch(l.tag){case 27:if(Pu(l.type)){Fl=l.stateNode,Ll=!1;break e}break;case 5:Fl=l.stateNode,Ll=!1;break e;case 3:case 4:Fl=l.stateNode.containerInfo,Ll=!0;break e}l=l.return}if(null===Fl)throw Error(r(160));$l(i,o,s),Fl=null,Ll=!1,null!==(i=s.alternate)&&(i.return=null),s.return=null}if(13886&t.subtreeFlags)for(t=t.child;null!==t;)Yl(t,e),t=t.sibling}var ql=null;function Yl(e,t){var n=e.alternate,a=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Vl(t,e),Gl(e),4&a&&(vl(3,e,e.return),bl(3,e),vl(5,e,e.return));break;case 1:Vl(t,e),Gl(e),512&a&&(Tl||null===n||Nl(n,n.return)),64&a&&Ol&&(null!==(e=e.updateQueue)&&(null!==(a=e.callbacks)&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=null===n?a:n.concat(a))));break;case 26:var s=ql;if(Vl(t,e),Gl(e),512&a&&(Tl||null===n||Nl(n,n.return)),4&a){var i=null!==n?n.memoizedState:null;if(a=e.memoizedState,null===n)if(null===a)if(null===e.stateNode){e:{a=e.type,n=e.memoizedProps,s=s.ownerDocument||s;t:switch(a){case"title":(!(i=s.getElementsByTagName("title")[0])||i[Ve]||i[Fe]||"http://www.w3.org/2000/svg"===i.namespaceURI||i.hasAttribute("itemprop"))&&(i=s.createElement(a),s.head.insertBefore(i,s.querySelector("head > title"))),pu(i,a,n),i[Fe]=e,Qe(i),a=i;break e;case"link":var o=ah("link","href",s).get(a+(n.href||""));if(o)for(var l=0;l<o.length;l++)if((i=o[l]).getAttribute("href")===(null==n.href||""===n.href?null:n.href)&&i.getAttribute("rel")===(null==n.rel?null:n.rel)&&i.getAttribute("title")===(null==n.title?null:n.title)&&i.getAttribute("crossorigin")===(null==n.crossOrigin?null:n.crossOrigin)){o.splice(l,1);break t}pu(i=s.createElement(a),a,n),s.head.appendChild(i);break;case"meta":if(o=ah("meta","content",s).get(a+(n.content||"")))for(l=0;l<o.length;l++)if((i=o[l]).getAttribute("content")===(null==n.content?null:""+n.content)&&i.getAttribute("name")===(null==n.name?null:n.name)&&i.getAttribute("property")===(null==n.property?null:n.property)&&i.getAttribute("http-equiv")===(null==n.httpEquiv?null:n.httpEquiv)&&i.getAttribute("charset")===(null==n.charSet?null:n.charSet)){o.splice(l,1);break t}pu(i=s.createElement(a),a,n),s.head.appendChild(i);break;default:throw Error(r(468,a))}i[Fe]=e,Qe(i),a=i}e.stateNode=a}else sh(s,e.type,e.stateNode);else e.stateNode=Zu(s,a,e.memoizedProps);else i!==a?(null===i?null!==n.stateNode&&(n=n.stateNode).parentNode.removeChild(n):i.count--,null===a?sh(s,e.type,e.stateNode):Zu(s,a,e.memoizedProps)):null===a&&null!==e.stateNode&&Sl(e,e.memoizedProps,n.memoizedProps)}break;case 27:Vl(t,e),Gl(e),512&a&&(Tl||null===n||Nl(n,n.return)),null!==n&&4&a&&Sl(e,e.memoizedProps,n.memoizedProps);break;case 5:if(Vl(t,e),Gl(e),512&a&&(Tl||null===n||Nl(n,n.return)),32&e.flags){s=e.stateNode;try{Nt(s,"")}catch(f){Sd(e,e.return,f)}}4&a&&null!=e.stateNode&&Sl(e,s=e.memoizedProps,null!==n?n.memoizedProps:s),1024&a&&(Ml=!0);break;case 6:if(Vl(t,e),Gl(e),4&a){if(null===e.stateNode)throw Error(r(162));a=e.memoizedProps,n=e.stateNode;try{n.nodeValue=a}catch(f){Sd(e,e.return,f)}}break;case 3:if(rh=null,s=ql,ql=Uu(t.containerInfo),Vl(t,e),ql=s,Gl(e),4&a&&null!==n&&n.memoizedState.isDehydrated)try{qh(t.containerInfo)}catch(f){Sd(e,e.return,f)}Ml&&(Ml=!1,Kl(e));break;case 4:a=ql,ql=Uu(e.stateNode.containerInfo),Vl(t,e),Gl(e),ql=a;break;case 12:default:Vl(t,e),Gl(e);break;case 31:case 19:Vl(t,e),Gl(e),4&a&&(null!==(a=e.updateQueue)&&(e.updateQueue=null,Hl(e,a)));break;case 13:Vl(t,e),Gl(e),8192&e.child.flags&&null!==e.memoizedState!=(null!==n&&null!==n.memoizedState)&&(Ac=se()),4&a&&(null!==(a=e.updateQueue)&&(e.updateQueue=null,Hl(e,a)));break;case 22:s=null!==e.memoizedState;var c=null!==n&&null!==n.memoizedState,d=Ol,u=Tl;if(Ol=d||s,Tl=u||c,Vl(t,e),Tl=u,Ol=d,Gl(e),8192&a)e:for(t=e.stateNode,t._visibility=s?-2&t._visibility:1|t._visibility,s&&(null===n||c||Ol||Tl||Ql(e)),n=null,t=e;;){if(5===t.tag||26===t.tag){if(null===n){c=n=t;try{if(i=c.stateNode,s)"function"==typeof(o=i.style).setProperty?o.setProperty("display","none","important"):o.display="none";else{l=c.stateNode;var h=c.memoizedProps.style,m=null!=h&&h.hasOwnProperty("display")?h.display:null;l.style.display=null==m||"boolean"==typeof m?"":(""+m).trim()}}catch(f){Sd(c,c.return,f)}}}else if(6===t.tag){if(null===n){c=t;try{c.stateNode.nodeValue=s?"":c.memoizedProps}catch(f){Sd(c,c.return,f)}}}else if(18===t.tag){if(null===n){c=t;try{var p=c.stateNode;s?Du(p,!0):Du(c.stateNode,!1)}catch(f){Sd(c,c.return,f)}}}else if((22!==t.tag&&23!==t.tag||null===t.memoizedState||t===e)&&null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;null===t.sibling;){if(null===t.return||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}4&a&&(null!==(a=e.updateQueue)&&(null!==(n=a.retryQueue)&&(a.retryQueue=null,Hl(e,n))));case 30:case 21:}}function Gl(e){var t=e.flags;if(2&t){try{for(var n,a=e.return;null!==a;){if(Cl(a)){n=a;break}a=a.return}if(null==n)throw Error(r(160));switch(n.tag){case 27:var s=n.stateNode;El(e,_l(e),s);break;case 5:var i=n.stateNode;32&n.flags&&(Nt(i,""),n.flags&=-33),El(e,_l(e),i);break;case 3:case 4:var o=n.stateNode.containerInfo;Pl(e,_l(e),o);break;default:throw Error(r(161))}}catch(l){Sd(e,e.return,l)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function Kl(e){if(1024&e.subtreeFlags)for(e=e.child;null!==e;){var t=e;Kl(t),5===t.tag&&1024&t.flags&&t.stateNode.reset(),e=e.sibling}}function Xl(e,t){if(8772&t.subtreeFlags)for(t=t.child;null!==t;)Rl(e,t.alternate,t),t=t.sibling}function Ql(e){for(e=e.child;null!==e;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:vl(4,t,t.return),Ql(t);break;case 1:Nl(t,t.return);var n=t.stateNode;"function"==typeof n.componentWillUnmount&&wl(t,t.return,n),Ql(t);break;case 27:Bu(t.stateNode);case 26:case 5:Nl(t,t.return),Ql(t);break;case 22:null===t.memoizedState&&Ql(t);break;default:Ql(t)}e=e.sibling}}function Jl(e,t,n){for(n=n&&!!(8772&t.subtreeFlags),t=t.child;null!==t;){var r=t.alternate,a=e,s=t,i=s.flags;switch(s.tag){case 0:case 11:case 15:Jl(a,s,n),bl(4,s);break;case 1:if(Jl(a,s,n),"function"==typeof(a=(r=s).stateNode).componentDidMount)try{a.componentDidMount()}catch(c){Sd(r,r.return,c)}if(null!==(a=(r=s).updateQueue)){var o=r.stateNode;try{var l=a.shared.hiddenCallbacks;if(null!==l)for(a.shared.hiddenCallbacks=null,a=0;a<l.length;a++)_s(l[a],o)}catch(c){Sd(r,r.return,c)}}n&&64&i&&yl(s),jl(s,s.return);break;case 27:Dl(s);case 26:case 5:Jl(a,s,n),n&&null===r&&4&i&&kl(s),jl(s,s.return);break;case 12:Jl(a,s,n);break;case 31:Jl(a,s,n),n&&4&i&&Wl(a,s);break;case 13:Jl(a,s,n),n&&4&i&&Ul(a,s);break;case 22:null===s.memoizedState&&Jl(a,s,n),jl(s,s.return);break;case 30:break;default:Jl(a,s,n)}t=t.sibling}}function Zl(e,t){var n=null;null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),e=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(e=t.memoizedState.cachePool.pool),e!==n&&(null!=e&&e.refCount++,null!=n&&Wa(n))}function ec(e,t){e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Wa(e))}function tc(e,t,n,r){if(10256&t.subtreeFlags)for(t=t.child;null!==t;)nc(e,t,n,r),t=t.sibling}function nc(e,t,n,r){var a=t.flags;switch(t.tag){case 0:case 11:case 15:tc(e,t,n,r),2048&a&&bl(9,t);break;case 1:case 31:case 13:default:tc(e,t,n,r);break;case 3:tc(e,t,n,r),2048&a&&(e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Wa(e)));break;case 12:if(2048&a){tc(e,t,n,r),e=t.stateNode;try{var s=t.memoizedProps,i=s.id,o=s.onPostCommit;"function"==typeof o&&o(i,null===t.alternate?"mount":"update",e.passiveEffectDuration,-0)}catch(l){Sd(t,t.return,l)}}else tc(e,t,n,r);break;case 23:break;case 22:s=t.stateNode,i=t.alternate,null!==t.memoizedState?2&s._visibility?tc(e,t,n,r):ac(e,t):2&s._visibility?tc(e,t,n,r):(s._visibility|=2,rc(e,t,n,r,!!(10256&t.subtreeFlags)||!1)),2048&a&&Zl(i,t);break;case 24:tc(e,t,n,r),2048&a&&ec(t.alternate,t)}}function rc(e,t,n,r,a){for(a=a&&(!!(10256&t.subtreeFlags)||!1),t=t.child;null!==t;){var s=e,i=t,o=n,l=r,c=i.flags;switch(i.tag){case 0:case 11:case 15:rc(s,i,o,l,a),bl(8,i);break;case 23:break;case 22:var d=i.stateNode;null!==i.memoizedState?2&d._visibility?rc(s,i,o,l,a):ac(s,i):(d._visibility|=2,rc(s,i,o,l,a)),a&&2048&c&&Zl(i.alternate,i);break;case 24:rc(s,i,o,l,a),a&&2048&c&&ec(i.alternate,i);break;default:rc(s,i,o,l,a)}t=t.sibling}}function ac(e,t){if(10256&t.subtreeFlags)for(t=t.child;null!==t;){var n=e,r=t,a=r.flags;switch(r.tag){case 22:ac(n,r),2048&a&&Zl(r.alternate,r);break;case 24:ac(n,r),2048&a&&ec(r.alternate,r);break;default:ac(n,r)}t=t.sibling}}var sc=8192;function ic(e,t,n){if(e.subtreeFlags&sc)for(e=e.child;null!==e;)oc(e,t,n),e=e.sibling}function oc(e,t,n){switch(e.tag){case 26:ic(e,t,n),e.flags&sc&&null!==e.memoizedState&&function(e,t,n,r){if(!("stylesheet"!==n.type||"string"==typeof r.media&&!1===matchMedia(r.media).matches||4&n.state.loading)){if(null===n.instance){var a=Gu(r.href),s=t.querySelector(Ku(a));if(s)return null!==(t=s._p)&&"object"==typeof t&&"function"==typeof t.then&&(e.count++,e=lh.bind(e),t.then(e,e)),n.state.loading|=4,n.instance=s,void Qe(s);s=t.ownerDocument||t,r=Xu(r),(a=$u.get(a))&&th(r,a),Qe(s=s.createElement("link"));var i=s;i._p=new Promise(function(e,t){i.onload=e,i.onerror=t}),pu(s,"link",r),n.instance=s}null===e.stylesheets&&(e.stylesheets=new Map),e.stylesheets.set(n,t),(t=n.state.preload)&&!(3&n.state.loading)&&(e.count++,n=lh.bind(e),t.addEventListener("load",n),t.addEventListener("error",n))}}(n,ql,e.memoizedState,e.memoizedProps);break;case 5:default:ic(e,t,n);break;case 3:case 4:var r=ql;ql=Uu(e.stateNode.containerInfo),ic(e,t,n),ql=r;break;case 22:null===e.memoizedState&&(null!==(r=e.alternate)&&null!==r.memoizedState?(r=sc,sc=16777216,ic(e,t,n),sc=r):ic(e,t,n))}}function lc(e){var t=e.alternate;if(null!==t&&null!==(e=t.child)){t.child=null;do{t=e.sibling,e.sibling=null,e=t}while(null!==e)}}function cc(e){var t=e.deletions;if(16&e.flags){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];zl=r,hc(r,e)}lc(e)}if(10256&e.subtreeFlags)for(e=e.child;null!==e;)dc(e),e=e.sibling}function dc(e){switch(e.tag){case 0:case 11:case 15:cc(e),2048&e.flags&&vl(9,e,e.return);break;case 3:case 12:default:cc(e);break;case 22:var t=e.stateNode;null!==e.memoizedState&&2&t._visibility&&(null===e.return||13!==e.return.tag)?(t._visibility&=-3,uc(e)):cc(e)}}function uc(e){var t=e.deletions;if(16&e.flags){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];zl=r,hc(r,e)}lc(e)}for(e=e.child;null!==e;){switch((t=e).tag){case 0:case 11:case 15:vl(8,t,t.return),uc(t);break;case 22:2&(n=t.stateNode)._visibility&&(n._visibility&=-3,uc(t));break;default:uc(t)}e=e.sibling}}function hc(e,t){for(;null!==zl;){var n=zl;switch(n.tag){case 0:case 11:case 15:vl(8,n,t);break;case 23:case 22:if(null!==n.memoizedState&&null!==n.memoizedState.cachePool){var r=n.memoizedState.cachePool.pool;null!=r&&r.refCount++}break;case 24:Wa(n.memoizedState.cache)}if(null!==(r=n.child))r.return=n,zl=r;else e:for(n=e;null!==zl;){var a=(r=zl).sibling,s=r.return;if(Il(r),r===n){zl=null;break e}if(null!==a){a.return=s,zl=a;break e}zl=s}}}var mc={getCacheForType:function(e){var t=Aa(Ba),n=t.data.get(e);return void 0===n&&(n=e(),t.data.set(e,n)),n},cacheSignal:function(){return Aa(Ba).controller.signal}},pc="function"==typeof WeakMap?WeakMap:Map,fc=0,gc=null,xc=null,bc=0,vc=0,yc=null,wc=!1,jc=!1,Nc=!1,kc=0,Sc=0,Cc=0,_c=0,Pc=0,Ec=0,Dc=0,Oc=null,Tc=null,Mc=!1,Ac=0,zc=0,Rc=1/0,Ic=null,Fc=null,Lc=0,Bc=null,$c=null,Wc=0,Uc=0,Hc=null,Vc=null,qc=0,Yc=null;function Gc(){return 2&fc&&0!==bc?bc&-bc:null!==O.T?Hd():ze()}function Kc(){if(0===Ec)if(536870912&bc&&!ma)Ec=536870912;else{var e=we;!(3932160&(we<<=1))&&(we=262144),Ec=e}return null!==(e=As.current)&&(e.flags|=32),Ec}function Xc(e,t,n){(e!==gc||2!==vc&&9!==vc)&&null===e.cancelPendingCommit||(rd(e,0),ed(e,bc,Ec,!1)),Ee(e,n),2&fc&&e===gc||(e===gc&&(!(2&fc)&&(_c|=n),4===Sc&&ed(e,bc,Ec,!1)),Id(e))}function Qc(e,t,n){if(6&fc)throw Error(r(327));for(var a=!n&&!(127&t)&&0===(t&e.expiredLanes)||Se(e,t),s=a?function(e,t){var n=fc;fc|=2;var a=id(),s=od();gc!==e||bc!==t?(Ic=null,Rc=se()+500,rd(e,t)):jc=Se(e,t);e:for(;;)try{if(0!==vc&&null!==xc){t=xc;var i=yc;t:switch(vc){case 1:vc=0,yc=null,pd(e,t,i,1);break;case 2:case 9:if(rs(i)){vc=0,yc=null,md(t);break}t=function(){2!==vc&&9!==vc||gc!==e||(vc=7),Id(e)},i.then(t,t);break e;case 3:vc=7;break e;case 4:vc=5;break e;case 7:rs(i)?(vc=0,yc=null,md(t)):(vc=0,yc=null,pd(e,t,i,7));break;case 5:var o=null;switch(xc.tag){case 26:o=xc.memoizedState;case 5:case 27:var l=xc;if(o?ih(o):l.stateNode.complete){vc=0,yc=null;var c=l.sibling;if(null!==c)xc=c;else{var d=l.return;null!==d?(xc=d,fd(d)):xc=null}break t}}vc=0,yc=null,pd(e,t,i,5);break;case 6:vc=0,yc=null,pd(e,t,i,6);break;case 8:nd(),Sc=6;break e;default:throw Error(r(462))}}ud();break}catch(u){ad(e,u)}return Ca=Sa=null,O.H=a,O.A=s,fc=n,null!==xc?0:(gc=null,bc=0,Tr(),Sc)}(e,t):cd(e,t,!0),i=a;;){if(0===s){jc&&!a&&ed(e,t,0,!1);break}if(n=e.current.alternate,!i||Zc(n)){if(2===s){if(i=t,e.errorRecoveryDisabledLanes&i)var o=0;else o=0!==(o=-536870913&e.pendingLanes)?o:536870912&o?536870912:0;if(0!==o){t=o;e:{var l=e;s=Oc;var c=l.current.memoizedState.isDehydrated;if(c&&(rd(l,o).flags|=256),2!==(o=cd(l,o,!1))){if(Nc&&!c){l.errorRecoveryDisabledLanes|=i,_c|=i,s=4;break e}i=Tc,Tc=s,null!==i&&(null===Tc?Tc=i:Tc.push.apply(Tc,i))}s=o}if(i=!1,2!==s)continue}}if(1===s){rd(e,0),ed(e,t,0,!0);break}e:{switch(a=e,i=s){case 0:case 1:throw Error(r(345));case 4:if((4194048&t)!==t)break;case 6:ed(a,t,Ec,!wc);break e;case 2:Tc=null;break;case 3:case 5:break;default:throw Error(r(329))}if((62914560&t)===t&&10<(s=Ac+300-se())){if(ed(a,t,Ec,!wc),0!==ke(a,0,!0))break e;Wc=t,a.timeoutHandle=Nu(Jc.bind(null,a,n,Tc,Ic,Mc,t,Ec,_c,Dc,wc,i,"Throttled",-0,0),s)}else Jc(a,n,Tc,Ic,Mc,t,Ec,_c,Dc,wc,i,null,-0,0)}break}s=cd(e,t,!1),i=!1}Id(e)}function Jc(e,t,n,r,a,s,i,o,l,c,d,u,h,m){if(e.timeoutHandle=-1,8192&(u=t.subtreeFlags)||!(16785408&~u)){oc(t,s,u={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Ot});var p=(62914560&s)===s?Ac-se():(4194048&s)===s?zc-se():0;if(null!==(p=function(e,t){return e.stylesheets&&0===e.count&&dh(e,e.stylesheets),0<e.count||0<e.imgCount?function(n){var r=setTimeout(function(){if(e.stylesheets&&dh(e,e.stylesheets),e.unsuspend){var t=e.unsuspend;e.unsuspend=null,t()}},6e4+t);0<e.imgBytes&&0===oh&&(oh=62500*function(){if("function"==typeof performance.getEntriesByType){for(var e=0,t=0,n=performance.getEntriesByType("resource"),r=0;r<n.length;r++){var a=n[r],s=a.transferSize,i=a.initiatorType,o=a.duration;if(s&&o&&fu(i)){for(i=0,o=a.responseEnd,r+=1;r<n.length;r++){var l=n[r],c=l.startTime;if(c>o)break;var d=l.transferSize,u=l.initiatorType;d&&fu(u)&&(i+=d*((l=l.responseEnd)<o?1:(o-c)/(l-c)))}if(--r,t+=8*(s+i)/(a.duration/1e3),10<++e)break}}if(0<e)return t/e/1e6}return navigator.connection&&"number"==typeof(e=navigator.connection.downlink)?e:5}());var a=setTimeout(function(){if(e.waitingForImages=!1,0===e.count&&(e.stylesheets&&dh(e,e.stylesheets),e.unsuspend)){var t=e.unsuspend;e.unsuspend=null,t()}},(e.imgBytes>oh?50:800)+t);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(r),clearTimeout(a)}}:null}(u,p)))return Wc=s,e.cancelPendingCommit=p(xd.bind(null,e,t,s,n,r,a,i,o,l,d,u,null,h,m)),void ed(e,s,i,!c)}xd(e,t,s,n,r,a,i,o,l)}function Zc(e){for(var t=e;;){var n=t.tag;if((0===n||11===n||15===n)&&16384&t.flags&&(null!==(n=t.updateQueue)&&null!==(n=n.stores)))for(var r=0;r<n.length;r++){var a=n[r],s=a.getSnapshot;a=a.value;try{if(!er(s(),a))return!1}catch(i){return!1}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function ed(e,t,n,r){t&=~Pc,t&=~_c,e.suspendedLanes|=t,e.pingedLanes&=~t,r&&(e.warmLanes|=t),r=e.expirationTimes;for(var a=t;0<a;){var s=31-xe(a),i=1<<s;r[s]=-1,a&=~i}0!==n&&De(e,n,t)}function td(){return!!(6&fc)||(Fd(0),!1)}function nd(){if(null!==xc){if(0===vc)var e=xc.return;else Ca=Sa=null,li(e=xc),cs=null,ds=0,e=xc;for(;null!==e;)xl(e.alternate,e),e=e.return;xc=null}}function rd(e,t){var n=e.timeoutHandle;-1!==n&&(e.timeoutHandle=-1,ku(n)),null!==(n=e.cancelPendingCommit)&&(e.cancelPendingCommit=null,n()),Wc=0,nd(),gc=e,xc=n=Wr(e.current,null),bc=t,vc=0,yc=null,wc=!1,jc=Se(e,t),Nc=!1,Dc=Ec=Pc=_c=Cc=Sc=0,Tc=Oc=null,Mc=!1,8&t&&(t|=32&t);var r=e.entangledLanes;if(0!==r)for(e=e.entanglements,r&=t;0<r;){var a=31-xe(r),s=1<<a;t|=e[a],r&=~s}return kc=t,Tr(),n}function ad(e,t){Hs=null,O.H=xo,t===Za||t===ts?(t=os(),vc=3):t===es?(t=os(),vc=4):vc=t===Ao?8:null!==t&&"object"==typeof t&&"function"==typeof t.then?6:1,yc=t,null===xc&&(Sc=1,Eo(e,Xr(t,e.current)))}function sd(){var e=As.current;return null===e||((4194048&bc)===bc?null===zs:!!((62914560&bc)===bc||536870912&bc)&&e===zs)}function id(){var e=O.H;return O.H=xo,null===e?xo:e}function od(){var e=O.A;return O.A=mc,e}function ld(){Sc=4,wc||(4194048&bc)!==bc&&null!==As.current||(jc=!0),!(134217727&Cc)&&!(134217727&_c)||null===gc||ed(gc,bc,Ec,!1)}function cd(e,t,n){var r=fc;fc|=2;var a=id(),s=od();gc===e&&bc===t||(Ic=null,rd(e,t)),t=!1;var i=Sc;e:for(;;)try{if(0!==vc&&null!==xc){var o=xc,l=yc;switch(vc){case 8:nd(),i=6;break e;case 3:case 2:case 9:case 6:null===As.current&&(t=!0);var c=vc;if(vc=0,yc=null,pd(e,o,l,c),n&&jc){i=0;break e}break;default:c=vc,vc=0,yc=null,pd(e,o,l,c)}}dd(),i=Sc;break}catch(d){ad(e,d)}return t&&e.shellSuspendCounter++,Ca=Sa=null,fc=r,O.H=a,O.A=s,null===xc&&(gc=null,bc=0,Tr()),i}function dd(){for(;null!==xc;)hd(xc)}function ud(){for(;null!==xc&&!re();)hd(xc)}function hd(e){var t=ll(e.alternate,e,kc);e.memoizedProps=e.pendingProps,null===t?fd(e):xc=t}function md(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=Yo(n,t,t.pendingProps,t.type,void 0,bc);break;case 11:t=Yo(n,t,t.pendingProps,t.type.render,t.ref,bc);break;case 5:li(t);default:xl(n,t),t=ll(n,t=xc=Ur(t,kc),kc)}e.memoizedProps=e.pendingProps,null===t?fd(e):xc=t}function pd(e,t,n,a){Ca=Sa=null,li(t),cs=null,ds=0;var s=t.return;try{if(function(e,t,n,a,s){if(n.flags|=32768,null!==a&&"object"==typeof a&&"function"==typeof a.then){if(null!==(t=n.alternate)&&Oa(t,n,s,!0),null!==(n=As.current)){switch(n.tag){case 31:case 13:return null===zs?ld():null===n.alternate&&0===Sc&&(Sc=3),n.flags&=-257,n.flags|=65536,n.lanes=s,a===ns?n.flags|=16384:(null===(t=n.updateQueue)?n.updateQueue=new Set([a]):t.add(a),Cd(e,a,s)),!1;case 22:return n.flags|=65536,a===ns?n.flags|=16384:(null===(t=n.updateQueue)?(t={transitions:null,markerInstances:null,retryQueue:new Set([a])},n.updateQueue=t):null===(n=t.retryQueue)?t.retryQueue=new Set([a]):n.add(a),Cd(e,a,s)),!1}throw Error(r(435,n.tag))}return Cd(e,a,s),ld(),!1}if(ma)return null!==(t=As.current)?(!(65536&t.flags)&&(t.flags|=256),t.flags|=65536,t.lanes=s,a!==ga&&Na(Xr(e=Error(r(422),{cause:a}),n))):(a!==ga&&Na(Xr(t=Error(r(423),{cause:a}),n)),(e=e.current.alternate).flags|=65536,s&=-s,e.lanes|=s,a=Xr(a,n),Ns(e,s=Oo(e.stateNode,a,s)),4!==Sc&&(Sc=2)),!1;var i=Error(r(520),{cause:a});if(i=Xr(i,n),null===Oc?Oc=[i]:Oc.push(i),4!==Sc&&(Sc=2),null===t)return!0;a=Xr(a,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=s&-s,n.lanes|=e,Ns(n,e=Oo(n.stateNode,a,e)),!1;case 1:if(t=n.type,i=n.stateNode,!(128&n.flags||"function"!=typeof t.getDerivedStateFromError&&(null===i||"function"!=typeof i.componentDidCatch||null!==Fc&&Fc.has(i))))return n.flags|=65536,s&=-s,n.lanes|=s,Mo(s=To(s),e,n,a),Ns(n,s),!1}n=n.return}while(null!==n);return!1}(e,s,t,n,bc))return Sc=1,Eo(e,Xr(n,e.current)),void(xc=null)}catch(i){if(null!==s)throw xc=s,i;return Sc=1,Eo(e,Xr(n,e.current)),void(xc=null)}32768&t.flags?(ma||1===a?e=!0:jc||536870912&bc?e=!1:(wc=e=!0,(2===a||9===a||3===a||6===a)&&(null!==(a=As.current)&&13===a.tag&&(a.flags|=16384))),gd(t,e)):fd(t)}function fd(e){var t=e;do{if(32768&t.flags)return void gd(t,wc);e=t.return;var n=fl(t.alternate,t,kc);if(null!==n)return void(xc=n);if(null!==(t=t.sibling))return void(xc=t);xc=t=e}while(null!==t);0===Sc&&(Sc=5)}function gd(e,t){do{var n=gl(e.alternate,e);if(null!==n)return n.flags&=32767,void(xc=n);if(null!==(n=e.return)&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&null!==(e=e.sibling))return void(xc=e);xc=e=n}while(null!==e);Sc=6,xc=null}function xd(e,t,n,a,s,i,o,l,c){e.cancelPendingCommit=null;do{jd()}while(0!==Lc);if(6&fc)throw Error(r(327));if(null!==t){if(t===e.current)throw Error(r(177));if(i=t.lanes|t.childLanes,function(e,t,n,r,a,s){var i=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var o=e.entanglements,l=e.expirationTimes,c=e.hiddenUpdates;for(n=i&~n;0<n;){var d=31-xe(n),u=1<<d;o[d]=0,l[d]=-1;var h=c[d];if(null!==h)for(c[d]=null,d=0;d<h.length;d++){var m=h[d];null!==m&&(m.lane&=-536870913)}n&=~u}0!==r&&De(e,r,0),0!==s&&0===a&&0!==e.tag&&(e.suspendedLanes|=s&~(i&~t))}(e,n,i|=Or,o,l,c),e===gc&&(xc=gc=null,bc=0),$c=t,Bc=e,Wc=n,Uc=i,Hc=s,Vc=a,10256&t.subtreeFlags||10256&t.flags?(e.callbackNode=null,e.callbackPriority=0,te(ce,function(){return Nd(),null})):(e.callbackNode=null,e.callbackPriority=0),a=!!(13878&t.flags),13878&t.subtreeFlags||a){a=O.T,O.T=null,s=T.p,T.p=2,o=fc,fc|=4;try{!function(e,t){if(e=e.containerInfo,gu=wh,ir(e=sr(e))){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var a=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(a&&0!==a.rangeCount){n=a.anchorNode;var s=a.anchorOffset,i=a.focusNode;a=a.focusOffset;try{n.nodeType,i.nodeType}catch(g){n=null;break e}var o=0,l=-1,c=-1,d=0,u=0,h=e,m=null;t:for(;;){for(var p;h!==n||0!==s&&3!==h.nodeType||(l=o+s),h!==i||0!==a&&3!==h.nodeType||(c=o+a),3===h.nodeType&&(o+=h.nodeValue.length),null!==(p=h.firstChild);)m=h,h=p;for(;;){if(h===e)break t;if(m===n&&++d===s&&(l=o),m===i&&++u===a&&(c=o),null!==(p=h.nextSibling))break;m=(h=m).parentNode}h=p}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(xu={focusedElem:e,selectionRange:n},wh=!1,zl=t;null!==zl;)if(e=(t=zl).child,1028&t.subtreeFlags&&null!==e)e.return=t,zl=e;else for(;null!==zl;){switch(i=(t=zl).alternate,e=t.flags,t.tag){case 0:if(4&e&&null!==(e=null!==(e=t.updateQueue)?e.events:null))for(n=0;n<e.length;n++)(s=e[n]).ref.impl=s.nextImpl;break;case 11:case 15:case 5:case 26:case 27:case 6:case 4:case 17:break;case 1:if(1024&e&&null!==i){e=void 0,n=t,s=i.memoizedProps,i=i.memoizedState,a=n.stateNode;try{var f=So(n.type,s);e=a.getSnapshotBeforeUpdate(f,i),a.__reactInternalSnapshotBeforeUpdate=e}catch(x){Sd(n,n.return,x)}}break;case 3:if(1024&e)if(9===(n=(e=t.stateNode.containerInfo).nodeType))Ou(e);else if(1===n)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Ou(e);break;default:e.textContent=""}break;default:if(1024&e)throw Error(r(163))}if(null!==(e=t.sibling)){e.return=t.return,zl=e;break}zl=t.return}}(e,t)}finally{fc=o,T.p=s,O.T=a}}Lc=1,bd(),vd(),yd()}}function bd(){if(1===Lc){Lc=0;var e=Bc,t=$c,n=!!(13878&t.flags);if(13878&t.subtreeFlags||n){n=O.T,O.T=null;var r=T.p;T.p=2;var a=fc;fc|=4;try{Yl(t,e);var s=xu,i=sr(e.containerInfo),o=s.focusedElem,l=s.selectionRange;if(i!==o&&o&&o.ownerDocument&&ar(o.ownerDocument.documentElement,o)){if(null!==l&&ir(o)){var c=l.start,d=l.end;if(void 0===d&&(d=c),"selectionStart"in o)o.selectionStart=c,o.selectionEnd=Math.min(d,o.value.length);else{var u=o.ownerDocument||document,h=u&&u.defaultView||window;if(h.getSelection){var m=h.getSelection(),p=o.textContent.length,f=Math.min(l.start,p),g=void 0===l.end?f:Math.min(l.end,p);!m.extend&&f>g&&(i=g,g=f,f=i);var x=rr(o,f),b=rr(o,g);if(x&&b&&(1!==m.rangeCount||m.anchorNode!==x.node||m.anchorOffset!==x.offset||m.focusNode!==b.node||m.focusOffset!==b.offset)){var v=u.createRange();v.setStart(x.node,x.offset),m.removeAllRanges(),f>g?(m.addRange(v),m.extend(b.node,b.offset)):(v.setEnd(b.node,b.offset),m.addRange(v))}}}}for(u=[],m=o;m=m.parentNode;)1===m.nodeType&&u.push({element:m,left:m.scrollLeft,top:m.scrollTop});for("function"==typeof o.focus&&o.focus(),o=0;o<u.length;o++){var y=u[o];y.element.scrollLeft=y.left,y.element.scrollTop=y.top}}wh=!!gu,xu=gu=null}finally{fc=a,T.p=r,O.T=n}}e.current=t,Lc=2}}function vd(){if(2===Lc){Lc=0;var e=Bc,t=$c,n=!!(8772&t.flags);if(8772&t.subtreeFlags||n){n=O.T,O.T=null;var r=T.p;T.p=2;var a=fc;fc|=4;try{Rl(e,t.alternate,t)}finally{fc=a,T.p=r,O.T=n}}Lc=3}}function yd(){if(4===Lc||3===Lc){Lc=0,ae();var e=Bc,t=$c,n=Wc,r=Vc;10256&t.subtreeFlags||10256&t.flags?Lc=5:(Lc=0,$c=Bc=null,wd(e,e.pendingLanes));var a=e.pendingLanes;if(0===a&&(Fc=null),Ae(n),t=t.stateNode,fe&&"function"==typeof fe.onCommitFiberRoot)try{fe.onCommitFiberRoot(pe,t,void 0,!(128&~t.current.flags))}catch(l){}if(null!==r){t=O.T,a=T.p,T.p=2,O.T=null;try{for(var s=e.onRecoverableError,i=0;i<r.length;i++){var o=r[i];s(o.value,{componentStack:o.stack})}}finally{O.T=t,T.p=a}}3&Wc&&jd(),Id(e),a=e.pendingLanes,261930&n&&42&a?e===Yc?qc++:(qc=0,Yc=e):qc=0,Fd(0)}}function wd(e,t){0===(e.pooledCacheLanes&=t)&&(null!=(t=e.pooledCache)&&(e.pooledCache=null,Wa(t)))}function jd(){return bd(),vd(),yd(),Nd()}function Nd(){if(5!==Lc)return!1;var e=Bc,t=Uc;Uc=0;var n=Ae(Wc),a=O.T,s=T.p;try{T.p=32>n?32:n,O.T=null,n=Hc,Hc=null;var i=Bc,o=Wc;if(Lc=0,$c=Bc=null,Wc=0,6&fc)throw Error(r(331));var l=fc;if(fc|=4,dc(i.current),nc(i,i.current,o,n),fc=l,Fd(0,!1),fe&&"function"==typeof fe.onPostCommitFiberRoot)try{fe.onPostCommitFiberRoot(pe,i)}catch(c){}return!0}finally{T.p=s,O.T=a,wd(e,t)}}function kd(e,t,n){t=Xr(n,t),null!==(e=ws(e,t=Oo(e.stateNode,t,2),2))&&(Ee(e,2),Id(e))}function Sd(e,t,n){if(3===e.tag)kd(e,e,n);else for(;null!==t;){if(3===t.tag){kd(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"==typeof t.type.getDerivedStateFromError||"function"==typeof r.componentDidCatch&&(null===Fc||!Fc.has(r))){e=Xr(n,e),null!==(r=ws(t,n=To(2),2))&&(Mo(n,r,t,e),Ee(r,2),Id(r));break}}t=t.return}}function Cd(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new pc;var a=new Set;r.set(t,a)}else void 0===(a=r.get(t))&&(a=new Set,r.set(t,a));a.has(n)||(Nc=!0,a.add(n),e=_d.bind(null,e,t,n),t.then(e,e))}function _d(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,gc===e&&(bc&n)===n&&(4===Sc||3===Sc&&(62914560&bc)===bc&&300>se()-Ac?!(2&fc)&&rd(e,0):Pc|=n,Dc===bc&&(Dc=0)),Id(e)}function Pd(e,t){0===t&&(t=_e()),null!==(e=zr(e,t))&&(Ee(e,t),Id(e))}function Ed(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Pd(e,n)}function Dd(e,t){var n=0;switch(e.tag){case 31:case 13:var a=e.stateNode,s=e.memoizedState;null!==s&&(n=s.retryLane);break;case 19:a=e.stateNode;break;case 22:a=e.stateNode._retryCache;break;default:throw Error(r(314))}null!==a&&a.delete(t),Pd(e,n)}var Od=null,Td=null,Md=!1,Ad=!1,zd=!1,Rd=0;function Id(e){e!==Td&&null===e.next&&(null===Td?Od=Td=e:Td=Td.next=e),Ad=!0,Md||(Md=!0,Cu(function(){6&fc?te(oe,Ld):Bd()}))}function Fd(e,t){if(!zd&&Ad){zd=!0;do{for(var n=!1,r=Od;null!==r;){if(0!==e){var a=r.pendingLanes;if(0===a)var s=0;else{var i=r.suspendedLanes,o=r.pingedLanes;s=(1<<31-xe(42|e)+1)-1,s=201326741&(s&=a&~(i&~o))?201326741&s|1:s?2|s:0}0!==s&&(n=!0,Ud(r,s))}else s=bc,!(3&(s=ke(r,r===gc?s:0,null!==r.cancelPendingCommit||-1!==r.timeoutHandle)))||Se(r,s)||(n=!0,Ud(r,s));r=r.next}}while(n);zd=!1}}function Ld(){Bd()}function Bd(){Ad=Md=!1;var e=0;0!==Rd&&function(){var e=window.event;if(e&&"popstate"===e.type)return e!==ju&&(ju=e,!0);return ju=null,!1}()&&(e=Rd);for(var t=se(),n=null,r=Od;null!==r;){var a=r.next,s=$d(r,t);0===s?(r.next=null,null===n?Od=a:n.next=a,null===a&&(Td=n)):(n=r,(0!==e||3&s)&&(Ad=!0)),r=a}0!==Lc&&5!==Lc||Fd(e),0!==Rd&&(Rd=0)}function $d(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,a=e.expirationTimes,s=-62914561&e.pendingLanes;0<s;){var i=31-xe(s),o=1<<i,l=a[i];-1===l?0!==(o&n)&&0===(o&r)||(a[i]=Ce(o,t)):l<=t&&(e.expiredLanes|=o),s&=~o}if(n=bc,n=ke(e,e===(t=gc)?n:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle),r=e.callbackNode,0===n||e===t&&(2===vc||9===vc)||null!==e.cancelPendingCommit)return null!==r&&null!==r&&ne(r),e.callbackNode=null,e.callbackPriority=0;if(!(3&n)||Se(e,n)){if((t=n&-n)===e.callbackPriority)return t;switch(null!==r&&ne(r),Ae(n)){case 2:case 8:n=le;break;case 32:default:n=ce;break;case 268435456:n=ue}return r=Wd.bind(null,e),n=te(n,r),e.callbackPriority=t,e.callbackNode=n,t}return null!==r&&null!==r&&ne(r),e.callbackPriority=2,e.callbackNode=null,2}function Wd(e,t){if(0!==Lc&&5!==Lc)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(jd()&&e.callbackNode!==n)return null;var r=bc;return 0===(r=ke(e,e===gc?r:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle))?null:(Qc(e,r,t),$d(e,se()),null!=e.callbackNode&&e.callbackNode===n?Wd.bind(null,e):null)}function Ud(e,t){if(jd())return null;Qc(e,t,!0)}function Hd(){if(0===Rd){var e=Va;0===e&&(e=ye,!(261888&(ye<<=1))&&(ye=256)),Rd=e}return Rd}function Vd(e){return null==e||"symbol"==typeof e||"boolean"==typeof e?null:"function"==typeof e?e:Dt(""+e)}function qd(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}for(var Yd=0;Yd<Cr.length;Yd++){var Gd=Cr[Yd];_r(Gd.toLowerCase(),"on"+(Gd[0].toUpperCase()+Gd.slice(1)))}_r(br,"onAnimationEnd"),_r(vr,"onAnimationIteration"),_r(yr,"onAnimationStart"),_r("dblclick","onDoubleClick"),_r("focusin","onFocus"),_r("focusout","onBlur"),_r(wr,"onTransitionRun"),_r(jr,"onTransitionStart"),_r(Nr,"onTransitionCancel"),_r(kr,"onTransitionEnd"),tt("onMouseEnter",["mouseout","mouseover"]),tt("onMouseLeave",["mouseout","mouseover"]),tt("onPointerEnter",["pointerout","pointerover"]),tt("onPointerLeave",["pointerout","pointerover"]),et("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),et("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),et("onBeforeInput",["compositionend","keypress","textInput","paste"]),et("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),et("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),et("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Kd="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Xd=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Kd));function Qd(e,t){t=!!(4&t);for(var n=0;n<e.length;n++){var r=e[n],a=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var i=r.length-1;0<=i;i--){var o=r[i],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==s&&a.isPropagationStopped())break e;s=o,a.currentTarget=c;try{s(a)}catch(d){Pr(d)}a.currentTarget=null,s=l}else for(i=0;i<r.length;i++){if(l=(o=r[i]).instance,c=o.currentTarget,o=o.listener,l!==s&&a.isPropagationStopped())break e;s=o,a.currentTarget=c;try{s(a)}catch(d){Pr(d)}a.currentTarget=null,s=l}}}}function Jd(e,t){var n=t[$e];void 0===n&&(n=t[$e]=new Set);var r=e+"__bubble";n.has(r)||(nu(t,e,2,!1),n.add(r))}function Zd(e,t,n){var r=0;t&&(r|=4),nu(n,e,r,t)}var eu="_reactListening"+Math.random().toString(36).slice(2);function tu(e){if(!e[eu]){e[eu]=!0,Je.forEach(function(t){"selectionchange"!==t&&(Xd.has(t)||Zd(t,!1,e),Zd(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[eu]||(t[eu]=!0,Zd("selectionchange",!1,t))}}function nu(e,t,n,r){switch(Ph(t)){case 2:var a=jh;break;case 8:a=Nh;break;default:a=kh}n=a.bind(null,t,n,e),a=void 0,!$t||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(a=!0),r?void 0!==a?e.addEventListener(t,n,{capture:!0,passive:a}):e.addEventListener(t,n,!0):void 0!==a?e.addEventListener(t,n,{passive:a}):e.addEventListener(t,n,!1)}function ru(e,t,n,r,a){var i=r;if(!(1&t||2&t||null===r))e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var l=r.stateNode.containerInfo;if(l===a)break;if(4===o)for(o=r.return;null!==o;){var c=o.tag;if((3===c||4===c)&&o.stateNode.containerInfo===a)return;o=o.return}for(;null!==l;){if(null===(o=Ye(l)))return;if(5===(c=o.tag)||6===c||26===c||27===c){r=i=o;continue e}l=l.parentNode}}r=r.return}Ft(function(){var r=i,a=Mt(n),o=[];e:{var l=Sr.get(e);if(void 0!==l){var c=an,d=e;switch(e){case"keypress":if(0===Yt(n))break e;case"keydown":case"keyup":c=yn;break;case"focusin":d="focus",c=un;break;case"focusout":d="blur",c=un;break;case"beforeblur":case"afterblur":c=un;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":c=cn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":c=dn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":c=jn;break;case br:case vr:case yr:c=hn;break;case kr:c=Nn;break;case"scroll":case"scrollend":c=on;break;case"wheel":c=kn;break;case"copy":case"cut":case"paste":c=mn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":c=wn;break;case"toggle":case"beforetoggle":c=Sn}var u=!!(4&t),h=!u&&("scroll"===e||"scrollend"===e),m=u?null!==l?l+"Capture":null:l;u=[];for(var p,f=r;null!==f;){var g=f;if(p=g.stateNode,5!==(g=g.tag)&&26!==g&&27!==g||null===p||null===m||null!=(g=Lt(f,m))&&u.push(au(f,g,p)),h)break;f=f.return}0<u.length&&(l=new c(l,d,null,n,a),o.push({event:l,listeners:u}))}}if(!(7&t)){if(c="mouseout"===e||"pointerout"===e,(!(l="mouseover"===e||"pointerover"===e)||n===Tt||!(d=n.relatedTarget||n.fromElement)||!Ye(d)&&!d[Be])&&(c||l)&&(l=a.window===a?a:(l=a.ownerDocument)?l.defaultView||l.parentWindow:window,c?(c=r,null!==(d=(d=n.relatedTarget||n.toElement)?Ye(d):null)&&(h=s(d),u=d.tag,d!==h||5!==u&&27!==u&&6!==u)&&(d=null)):(c=null,d=r),c!==d)){if(u=cn,g="onMouseLeave",m="onMouseEnter",f="mouse","pointerout"!==e&&"pointerover"!==e||(u=wn,g="onPointerLeave",m="onPointerEnter",f="pointer"),h=null==c?l:Ke(c),p=null==d?l:Ke(d),(l=new u(g,f+"leave",c,n,a)).target=h,l.relatedTarget=p,g=null,Ye(a)===r&&((u=new u(m,f+"enter",d,n,a)).target=p,u.relatedTarget=h,g=u),h=g,c&&d)e:{for(u=iu,f=d,p=0,g=m=c;g;g=u(g))p++;g=0;for(var x=f;x;x=u(x))g++;for(;0<p-g;)m=u(m),p--;for(;0<g-p;)f=u(f),g--;for(;p--;){if(m===f||null!==f&&m===f.alternate){u=m;break e}m=u(m),f=u(f)}u=null}else u=null;null!==c&&ou(o,l,c,u,!1),null!==d&&null!==h&&ou(o,h,d,u,!0)}if("select"===(c=(l=r?Ke(r):window).nodeName&&l.nodeName.toLowerCase())||"input"===c&&"file"===l.type)var b=Un;else if(In(l))if(Hn)b=Zn;else{b=Qn;var v=Xn}else!(c=l.nodeName)||"input"!==c.toLowerCase()||"checkbox"!==l.type&&"radio"!==l.type?r&&_t(r.elementType)&&(b=Un):b=Jn;switch(b&&(b=b(e,r))?Fn(o,b,n,a):(v&&v(e,l,r),"focusout"===e&&r&&"number"===l.type&&null!=r.memoizedProps.value&&xt(l,"number",l.value)),v=r?Ke(r):window,e){case"focusin":(In(v)||"true"===v.contentEditable)&&(lr=v,cr=r,dr=null);break;case"focusout":dr=cr=lr=null;break;case"mousedown":ur=!0;break;case"contextmenu":case"mouseup":case"dragend":ur=!1,hr(o,n,a);break;case"selectionchange":if(or)break;case"keydown":case"keyup":hr(o,n,a)}var y;if(_n)e:{switch(e){case"compositionstart":var w="onCompositionStart";break e;case"compositionend":w="onCompositionEnd";break e;case"compositionupdate":w="onCompositionUpdate";break e}w=void 0}else zn?Mn(e,n)&&(w="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(w="onCompositionStart");w&&(Dn&&"ko"!==n.locale&&(zn||"onCompositionStart"!==w?"onCompositionEnd"===w&&zn&&(y=qt()):(Ht="value"in(Ut=a)?Ut.value:Ut.textContent,zn=!0)),0<(v=su(r,w)).length&&(w=new pn(w,e,null,n,a),o.push({event:w,listeners:v}),y?w.data=y:null!==(y=An(n))&&(w.data=y))),(y=En?function(e,t){switch(e){case"compositionend":return An(t);case"keypress":return 32!==t.which?null:(Tn=!0,On);case"textInput":return(e=t.data)===On&&Tn?null:e;default:return null}}(e,n):function(e,t){if(zn)return"compositionend"===e||!_n&&Mn(e,t)?(e=qt(),Vt=Ht=Ut=null,zn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Dn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(w=su(r,"onBeforeInput")).length&&(v=new pn("onBeforeInput","beforeinput",null,n,a),o.push({event:v,listeners:w}),v.data=y)),function(e,t,n,r,a){if("submit"===t&&n&&n.stateNode===a){var s=Vd((a[Le]||null).action),i=r.submitter;i&&null!==(t=(t=i[Le]||null)?Vd(t.formAction):i.getAttribute("formAction"))&&(s=t,i=null);var o=new an("action","action",null,r,a);e.push({event:o,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(0!==Rd){var e=i?qd(a,i):new FormData(a);no(n,{pending:!0,data:e,method:a.method,action:s},null,e)}}else"function"==typeof s&&(o.preventDefault(),e=i?qd(a,i):new FormData(a),no(n,{pending:!0,data:e,method:a.method,action:s},s,e))},currentTarget:a}]})}}(o,e,r,n,a)}Qd(o,t)})}function au(e,t,n){return{instance:e,listener:t,currentTarget:n}}function su(e,t){for(var n=t+"Capture",r=[];null!==e;){var a=e,s=a.stateNode;if(5!==(a=a.tag)&&26!==a&&27!==a||null===s||(null!=(a=Lt(e,n))&&r.unshift(au(e,a,s)),null!=(a=Lt(e,t))&&r.push(au(e,a,s))),3===e.tag)return r;e=e.return}return[]}function iu(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag&&27!==e.tag);return e||null}function ou(e,t,n,r,a){for(var s=t._reactName,i=[];null!==n&&n!==r;){var o=n,l=o.alternate,c=o.stateNode;if(o=o.tag,null!==l&&l===r)break;5!==o&&26!==o&&27!==o||null===c||(l=c,a?null!=(c=Lt(n,s))&&i.unshift(au(n,c,l)):a||null!=(c=Lt(n,s))&&i.push(au(n,c,l))),n=n.return}0!==i.length&&e.push({event:t,listeners:i})}var lu=/\r\n?/g,cu=/\u0000|\uFFFD/g;function du(e){return("string"==typeof e?e:""+e).replace(lu,"\n").replace(cu,"")}function uu(e,t){return t=du(t),du(e)===t}function hu(e,t,n,a,s,i){switch(n){case"children":"string"==typeof a?"body"===t||"textarea"===t&&""===a||Nt(e,a):("number"==typeof a||"bigint"==typeof a)&&"body"!==t&&Nt(e,""+a);break;case"className":it(e,"class",a);break;case"tabIndex":it(e,"tabindex",a);break;case"dir":case"role":case"viewBox":case"width":case"height":it(e,n,a);break;case"style":Ct(e,a,i);break;case"data":if("object"!==t){it(e,"data",a);break}case"src":case"href":if(""===a&&("a"!==t||"href"!==n)){e.removeAttribute(n);break}if(null==a||"function"==typeof a||"symbol"==typeof a||"boolean"==typeof a){e.removeAttribute(n);break}a=Dt(""+a),e.setAttribute(n,a);break;case"action":case"formAction":if("function"==typeof a){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}if("function"==typeof i&&("formAction"===n?("input"!==t&&hu(e,t,"name",s.name,s,null),hu(e,t,"formEncType",s.formEncType,s,null),hu(e,t,"formMethod",s.formMethod,s,null),hu(e,t,"formTarget",s.formTarget,s,null)):(hu(e,t,"encType",s.encType,s,null),hu(e,t,"method",s.method,s,null),hu(e,t,"target",s.target,s,null))),null==a||"symbol"==typeof a||"boolean"==typeof a){e.removeAttribute(n);break}a=Dt(""+a),e.setAttribute(n,a);break;case"onClick":null!=a&&(e.onclick=Ot);break;case"onScroll":null!=a&&Jd("scroll",e);break;case"onScrollEnd":null!=a&&Jd("scrollend",e);break;case"dangerouslySetInnerHTML":if(null!=a){if("object"!=typeof a||!("__html"in a))throw Error(r(61));if(null!=(n=a.__html)){if(null!=s.children)throw Error(r(60));e.innerHTML=n}}break;case"multiple":e.multiple=a&&"function"!=typeof a&&"symbol"!=typeof a;break;case"muted":e.muted=a&&"function"!=typeof a&&"symbol"!=typeof a;break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":case"autoFocus":break;case"xlinkHref":if(null==a||"function"==typeof a||"boolean"==typeof a||"symbol"==typeof a){e.removeAttribute("xlink:href");break}n=Dt(""+a),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":null!=a&&"function"!=typeof a&&"symbol"!=typeof a?e.setAttribute(n,""+a):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":a&&"function"!=typeof a&&"symbol"!=typeof a?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":!0===a?e.setAttribute(n,""):!1!==a&&null!=a&&"function"!=typeof a&&"symbol"!=typeof a?e.setAttribute(n,a):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":null!=a&&"function"!=typeof a&&"symbol"!=typeof a&&!isNaN(a)&&1<=a?e.setAttribute(n,a):e.removeAttribute(n);break;case"rowSpan":case"start":null==a||"function"==typeof a||"symbol"==typeof a||isNaN(a)?e.removeAttribute(n):e.setAttribute(n,a);break;case"popover":Jd("beforetoggle",e),Jd("toggle",e),st(e,"popover",a);break;case"xlinkActuate":ot(e,"http://www.w3.org/1999/xlink","xlink:actuate",a);break;case"xlinkArcrole":ot(e,"http://www.w3.org/1999/xlink","xlink:arcrole",a);break;case"xlinkRole":ot(e,"http://www.w3.org/1999/xlink","xlink:role",a);break;case"xlinkShow":ot(e,"http://www.w3.org/1999/xlink","xlink:show",a);break;case"xlinkTitle":ot(e,"http://www.w3.org/1999/xlink","xlink:title",a);break;case"xlinkType":ot(e,"http://www.w3.org/1999/xlink","xlink:type",a);break;case"xmlBase":ot(e,"http://www.w3.org/XML/1998/namespace","xml:base",a);break;case"xmlLang":ot(e,"http://www.w3.org/XML/1998/namespace","xml:lang",a);break;case"xmlSpace":ot(e,"http://www.w3.org/XML/1998/namespace","xml:space",a);break;case"is":st(e,"is",a);break;case"innerText":case"textContent":break;default:(!(2<n.length)||"o"!==n[0]&&"O"!==n[0]||"n"!==n[1]&&"N"!==n[1])&&st(e,n=Pt.get(n)||n,a)}}function mu(e,t,n,a,s,i){switch(n){case"style":Ct(e,a,i);break;case"dangerouslySetInnerHTML":if(null!=a){if("object"!=typeof a||!("__html"in a))throw Error(r(61));if(null!=(n=a.__html)){if(null!=s.children)throw Error(r(60));e.innerHTML=n}}break;case"children":"string"==typeof a?Nt(e,a):("number"==typeof a||"bigint"==typeof a)&&Nt(e,""+a);break;case"onScroll":null!=a&&Jd("scroll",e);break;case"onScrollEnd":null!=a&&Jd("scrollend",e);break;case"onClick":null!=a&&(e.onclick=Ot);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":case"innerText":case"textContent":break;default:Ze.hasOwnProperty(n)||("o"!==n[0]||"n"!==n[1]||(s=n.endsWith("Capture"),t=n.slice(2,s?n.length-7:void 0),"function"==typeof(i=null!=(i=e[Le]||null)?i[n]:null)&&e.removeEventListener(t,i,s),"function"!=typeof a)?n in e?e[n]=a:!0===a?e.setAttribute(n,""):st(e,n,a):("function"!=typeof i&&null!==i&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,a,s)))}}function pu(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Jd("error",e),Jd("load",e);var a,s=!1,i=!1;for(a in n)if(n.hasOwnProperty(a)){var o=n[a];if(null!=o)switch(a){case"src":s=!0;break;case"srcSet":i=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,t));default:hu(e,t,a,o,n,null)}}return i&&hu(e,t,"srcSet",n.srcSet,n,null),void(s&&hu(e,t,"src",n.src,n,null));case"input":Jd("invalid",e);var l=a=o=i=null,c=null,d=null;for(s in n)if(n.hasOwnProperty(s)){var u=n[s];if(null!=u)switch(s){case"name":i=u;break;case"type":o=u;break;case"checked":c=u;break;case"defaultChecked":d=u;break;case"value":a=u;break;case"defaultValue":l=u;break;case"children":case"dangerouslySetInnerHTML":if(null!=u)throw Error(r(137,t));break;default:hu(e,t,s,u,n,null)}}return void gt(e,a,l,c,d,o,i,!1);case"select":for(i in Jd("invalid",e),s=o=a=null,n)if(n.hasOwnProperty(i)&&null!=(l=n[i]))switch(i){case"value":a=l;break;case"defaultValue":o=l;break;case"multiple":s=l;default:hu(e,t,i,l,n,null)}return t=a,n=o,e.multiple=!!s,void(null!=t?bt(e,!!s,t,!1):null!=n&&bt(e,!!s,n,!0));case"textarea":for(o in Jd("invalid",e),a=i=s=null,n)if(n.hasOwnProperty(o)&&null!=(l=n[o]))switch(o){case"value":s=l;break;case"defaultValue":i=l;break;case"children":a=l;break;case"dangerouslySetInnerHTML":if(null!=l)throw Error(r(91));break;default:hu(e,t,o,l,n,null)}return void yt(e,s,i,a);case"option":for(c in n)if(n.hasOwnProperty(c)&&null!=(s=n[c]))if("selected"===c)e.selected=s&&"function"!=typeof s&&"symbol"!=typeof s;else hu(e,t,c,s,n,null);return;case"dialog":Jd("beforetoggle",e),Jd("toggle",e),Jd("cancel",e),Jd("close",e);break;case"iframe":case"object":Jd("load",e);break;case"video":case"audio":for(s=0;s<Kd.length;s++)Jd(Kd[s],e);break;case"image":Jd("error",e),Jd("load",e);break;case"details":Jd("toggle",e);break;case"embed":case"source":case"link":Jd("error",e),Jd("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(d in n)if(n.hasOwnProperty(d)&&null!=(s=n[d]))switch(d){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,t));default:hu(e,t,d,s,n,null)}return;default:if(_t(t)){for(u in n)n.hasOwnProperty(u)&&(void 0!==(s=n[u])&&mu(e,t,u,s,n,void 0));return}}for(l in n)n.hasOwnProperty(l)&&(null!=(s=n[l])&&hu(e,t,l,s,n,null))}function fu(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}var gu=null,xu=null;function bu(e){return 9===e.nodeType?e:e.ownerDocument}function vu(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function yu(e,t){if(0===e)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return 1===e&&"foreignObject"===t?0:e}function wu(e,t){return"textarea"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"bigint"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ju=null;var Nu="function"==typeof setTimeout?setTimeout:void 0,ku="function"==typeof clearTimeout?clearTimeout:void 0,Su="function"==typeof Promise?Promise:void 0,Cu="function"==typeof queueMicrotask?queueMicrotask:void 0!==Su?function(e){return Su.resolve(null).then(e).catch(_u)}:Nu;function _u(e){setTimeout(function(){throw e})}function Pu(e){return"head"===e}function Eu(e,t){var n=t,r=0;do{var a=n.nextSibling;if(e.removeChild(n),a&&8===a.nodeType)if("/$"===(n=a.data)||"/&"===n){if(0===r)return e.removeChild(a),void qh(t);r--}else if("$"===n||"$?"===n||"$~"===n||"$!"===n||"&"===n)r++;else if("html"===n)Bu(e.ownerDocument.documentElement);else if("head"===n){Bu(n=e.ownerDocument.head);for(var s=n.firstChild;s;){var i=s.nextSibling,o=s.nodeName;s[Ve]||"SCRIPT"===o||"STYLE"===o||"LINK"===o&&"stylesheet"===s.rel.toLowerCase()||n.removeChild(s),s=i}}else"body"===n&&Bu(e.ownerDocument.body);n=a}while(n);qh(t)}function Du(e,t){var n=e;e=0;do{var r=n.nextSibling;if(1===n.nodeType?t?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",""===n.getAttribute("style")&&n.removeAttribute("style")):3===n.nodeType&&(t?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),r&&8===r.nodeType)if("/$"===(n=r.data)){if(0===e)break;e--}else"$"!==n&&"$?"!==n&&"$~"!==n&&"$!"!==n||e++;n=r}while(n)}function Ou(e){var t=e.firstChild;for(t&&10===t.nodeType&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":Ou(n),qe(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if("stylesheet"===n.rel.toLowerCase())continue}e.removeChild(n)}}function Tu(e,t){for(;8!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!t)return null;if(null===(e=zu(e.nextSibling)))return null}return e}function Mu(e){return"$?"===e.data||"$~"===e.data}function Au(e){return"$!"===e.data||"$?"===e.data&&"loading"!==e.ownerDocument.readyState}function zu(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t||"$~"===t||"&"===t||"F!"===t||"F"===t)break;if("/$"===t||"/&"===t)return null}}return e}var Ru=null;function Iu(e){e=e.nextSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n||"/&"===n){if(0===t)return zu(e.nextSibling);t--}else"$"!==n&&"$!"!==n&&"$?"!==n&&"$~"!==n&&"&"!==n||t++}e=e.nextSibling}return null}function Fu(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n||"$~"===n||"&"===n){if(0===t)return e;t--}else"/$"!==n&&"/&"!==n||t++}e=e.previousSibling}return null}function Lu(e,t,n){switch(t=bu(n),e){case"html":if(!(e=t.documentElement))throw Error(r(452));return e;case"head":if(!(e=t.head))throw Error(r(453));return e;case"body":if(!(e=t.body))throw Error(r(454));return e;default:throw Error(r(451))}}function Bu(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);qe(e)}var $u=new Map,Wu=new Set;function Uu(e){return"function"==typeof e.getRootNode?e.getRootNode():9===e.nodeType?e:e.ownerDocument}var Hu=T.d;T.d={f:function(){var e=Hu.f(),t=td();return e||t},r:function(e){var t=Ge(e);null!==t&&5===t.tag&&"form"===t.type?ao(t):Hu.r(e)},D:function(e){Hu.D(e),qu("dns-prefetch",e,null)},C:function(e,t){Hu.C(e,t),qu("preconnect",e,t)},L:function(e,t,n){Hu.L(e,t,n);var r=Vu;if(r&&e&&t){var a='link[rel="preload"][as="'+pt(t)+'"]';"image"===t&&n&&n.imageSrcSet?(a+='[imagesrcset="'+pt(n.imageSrcSet)+'"]',"string"==typeof n.imageSizes&&(a+='[imagesizes="'+pt(n.imageSizes)+'"]')):a+='[href="'+pt(e)+'"]';var s=a;switch(t){case"style":s=Gu(e);break;case"script":s=Qu(e)}$u.has(s)||(e=d({rel:"preload",href:"image"===t&&n&&n.imageSrcSet?void 0:e,as:t},n),$u.set(s,e),null!==r.querySelector(a)||"style"===t&&r.querySelector(Ku(s))||"script"===t&&r.querySelector(Ju(s))||(pu(t=r.createElement("link"),"link",e),Qe(t),r.head.appendChild(t)))}},m:function(e,t){Hu.m(e,t);var n=Vu;if(n&&e){var r=t&&"string"==typeof t.as?t.as:"script",a='link[rel="modulepreload"][as="'+pt(r)+'"][href="'+pt(e)+'"]',s=a;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":s=Qu(e)}if(!$u.has(s)&&(e=d({rel:"modulepreload",href:e},t),$u.set(s,e),null===n.querySelector(a))){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Ju(s)))return}pu(r=n.createElement("link"),"link",e),Qe(r),n.head.appendChild(r)}}},X:function(e,t){Hu.X(e,t);var n=Vu;if(n&&e){var r=Xe(n).hoistableScripts,a=Qu(e),s=r.get(a);s||((s=n.querySelector(Ju(a)))||(e=d({src:e,async:!0},t),(t=$u.get(a))&&nh(e,t),Qe(s=n.createElement("script")),pu(s,"link",e),n.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},r.set(a,s))}},S:function(e,t,n){Hu.S(e,t,n);var r=Vu;if(r&&e){var a=Xe(r).hoistableStyles,s=Gu(e);t=t||"default";var i=a.get(s);if(!i){var o={loading:0,preload:null};if(i=r.querySelector(Ku(s)))o.loading=5;else{e=d({rel:"stylesheet",href:e,"data-precedence":t},n),(n=$u.get(s))&&th(e,n);var l=i=r.createElement("link");Qe(l),pu(l,"link",e),l._p=new Promise(function(e,t){l.onload=e,l.onerror=t}),l.addEventListener("load",function(){o.loading|=1}),l.addEventListener("error",function(){o.loading|=2}),o.loading|=4,eh(i,t,r)}i={type:"stylesheet",instance:i,count:1,state:o},a.set(s,i)}}},M:function(e,t){Hu.M(e,t);var n=Vu;if(n&&e){var r=Xe(n).hoistableScripts,a=Qu(e),s=r.get(a);s||((s=n.querySelector(Ju(a)))||(e=d({src:e,async:!0,type:"module"},t),(t=$u.get(a))&&nh(e,t),Qe(s=n.createElement("script")),pu(s,"link",e),n.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},r.set(a,s))}}};var Vu="undefined"==typeof document?null:document;function qu(e,t,n){var r=Vu;if(r&&"string"==typeof t&&t){var a=pt(t);a='link[rel="'+e+'"][href="'+a+'"]',"string"==typeof n&&(a+='[crossorigin="'+n+'"]'),Wu.has(a)||(Wu.add(a),e={rel:e,crossOrigin:n,href:t},null===r.querySelector(a)&&(pu(t=r.createElement("link"),"link",e),Qe(t),r.head.appendChild(t)))}}function Yu(e,t,n,a){var s,i,o,l,c=(c=U.current)?Uu(c):null;if(!c)throw Error(r(446));switch(e){case"meta":case"title":return null;case"style":return"string"==typeof n.precedence&&"string"==typeof n.href?(t=Gu(n.href),(a=(n=Xe(c).hoistableStyles).get(t))||(a={type:"style",instance:null,count:0,state:null},n.set(t,a)),a):{type:"void",instance:null,count:0,state:null};case"link":if("stylesheet"===n.rel&&"string"==typeof n.href&&"string"==typeof n.precedence){e=Gu(n.href);var d=Xe(c).hoistableStyles,u=d.get(e);if(u||(c=c.ownerDocument||c,u={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(e,u),(d=c.querySelector(Ku(e)))&&!d._p&&(u.instance=d,u.state.loading=5),$u.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},$u.set(e,n),d||(s=c,i=e,o=n,l=u.state,s.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=s.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),pu(i,"link",o),Qe(i),s.head.appendChild(i))))),t&&null===a)throw Error(r(528,""));return u}if(t&&null!==a)throw Error(r(529,""));return null;case"script":return t=n.async,"string"==typeof(n=n.src)&&t&&"function"!=typeof t&&"symbol"!=typeof t?(t=Qu(n),(a=(n=Xe(c).hoistableScripts).get(t))||(a={type:"script",instance:null,count:0,state:null},n.set(t,a)),a):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,e))}}function Gu(e){return'href="'+pt(e)+'"'}function Ku(e){return'link[rel="stylesheet"]['+e+"]"}function Xu(e){return d({},e,{"data-precedence":e.precedence,precedence:null})}function Qu(e){return'[src="'+pt(e)+'"]'}function Ju(e){return"script[async]"+e}function Zu(e,t,n){if(t.count++,null===t.instance)switch(t.type){case"style":var a=e.querySelector('style[data-href~="'+pt(n.href)+'"]');if(a)return t.instance=a,Qe(a),a;var s=d({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return Qe(a=(e.ownerDocument||e).createElement("style")),pu(a,"style",s),eh(a,n.precedence,e),t.instance=a;case"stylesheet":s=Gu(n.href);var i=e.querySelector(Ku(s));if(i)return t.state.loading|=4,t.instance=i,Qe(i),i;a=Xu(n),(s=$u.get(s))&&th(a,s),Qe(i=(e.ownerDocument||e).createElement("link"));var o=i;return o._p=new Promise(function(e,t){o.onload=e,o.onerror=t}),pu(i,"link",a),t.state.loading|=4,eh(i,n.precedence,e),t.instance=i;case"script":return i=Qu(n.src),(s=e.querySelector(Ju(i)))?(t.instance=s,Qe(s),s):(a=n,(s=$u.get(i))&&nh(a=d({},n),s),Qe(s=(e=e.ownerDocument||e).createElement("script")),pu(s,"link",a),e.head.appendChild(s),t.instance=s);case"void":return null;default:throw Error(r(443,t.type))}else"stylesheet"===t.type&&!(4&t.state.loading)&&(a=t.instance,t.state.loading|=4,eh(a,n.precedence,e));return t.instance}function eh(e,t,n){for(var r=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),a=r.length?r[r.length-1]:null,s=a,i=0;i<r.length;i++){var o=r[i];if(o.dataset.precedence===t)s=o;else if(s!==a)break}s?s.parentNode.insertBefore(e,s.nextSibling):(t=9===n.nodeType?n.head:n).insertBefore(e,t.firstChild)}function th(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.title&&(e.title=t.title)}function nh(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.integrity&&(e.integrity=t.integrity)}var rh=null;function ah(e,t,n){if(null===rh){var r=new Map,a=rh=new Map;a.set(n,r)}else(r=(a=rh).get(n))||(r=new Map,a.set(n,r));if(r.has(e))return r;for(r.set(e,null),n=n.getElementsByTagName(e),a=0;a<n.length;a++){var s=n[a];if(!(s[Ve]||s[Fe]||"link"===e&&"stylesheet"===s.getAttribute("rel"))&&"http://www.w3.org/2000/svg"!==s.namespaceURI){var i=s.getAttribute(t)||"";i=e+i;var o=r.get(i);o?o.push(s):r.set(i,[s])}}return r}function sh(e,t,n){(e=e.ownerDocument||e).head.insertBefore(n,"title"===t?e.querySelector("head > title"):null)}function ih(e){return!!("stylesheet"!==e.type||3&e.state.loading)}var oh=0;function lh(){if(this.count--,0===this.count&&(0===this.imgCount||!this.waitingForImages))if(this.stylesheets)dh(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}var ch=null;function dh(e,t){e.stylesheets=null,null!==e.unsuspend&&(e.count++,ch=new Map,t.forEach(uh,e),ch=null,lh.call(e))}function uh(e,t){if(!(4&t.state.loading)){var n=ch.get(e);if(n)var r=n.get(null);else{n=new Map,ch.set(e,n);for(var a=e.querySelectorAll("link[data-precedence],style[data-precedence]"),s=0;s<a.length;s++){var i=a[s];"LINK"!==i.nodeName&&"not all"===i.getAttribute("media")||(n.set(i.dataset.precedence,i),r=i)}r&&n.set(null,r)}i=(a=t.instance).getAttribute("data-precedence"),(s=n.get(i)||r)===r&&n.set(null,a),n.set(i,a),this.count++,r=lh.bind(this),a.addEventListener("load",r),a.addEventListener("error",r),s?s.parentNode.insertBefore(a,s.nextSibling):(e=9===e.nodeType?e.head:e).insertBefore(a,e.firstChild),t.state.loading|=4}}var hh={$$typeof:b,Provider:null,Consumer:null,_currentValue:M,_currentValue2:M,_threadCount:0};function mh(e,t,n,r,a,s,i,o,l){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Pe(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Pe(0),this.hiddenUpdates=Pe(null),this.identifierPrefix=r,this.onUncaughtError=a,this.onCaughtError=s,this.onRecoverableError=i,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=l,this.incompleteTransitions=new Map}function ph(e,t,n,r,a,s,i,o,l,c,d,u){return e=new mh(e,t,n,i,l,c,d,u,o),t=1,!0===s&&(t|=24),s=Br(3,null,null,t),e.current=s,s.stateNode=e,(t=$a()).refCount++,e.pooledCache=t,t.refCount++,s.memoizedState={element:r,isDehydrated:n,cache:t},bs(s),e}function fh(e){return e?e=Fr:Fr}function gh(e,t,n,r,a,s){a=fh(a),null===r.context?r.context=a:r.pendingContext=a,(r=ys(t)).payload={element:n},null!==(s=void 0===s?null:s)&&(r.callback=s),null!==(n=ws(e,r,t))&&(Xc(n,0,t),js(n,e,t))}function xh(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function bh(e,t){xh(e,t),(e=e.alternate)&&xh(e,t)}function vh(e){if(13===e.tag||31===e.tag){var t=zr(e,67108864);null!==t&&Xc(t,0,67108864),bh(e,67108864)}}function yh(e){if(13===e.tag||31===e.tag){var t=Gc(),n=zr(e,t=Me(t));null!==n&&Xc(n,0,t),bh(e,t)}}var wh=!0;function jh(e,t,n,r){var a=O.T;O.T=null;var s=T.p;try{T.p=2,kh(e,t,n,r)}finally{T.p=s,O.T=a}}function Nh(e,t,n,r){var a=O.T;O.T=null;var s=T.p;try{T.p=8,kh(e,t,n,r)}finally{T.p=s,O.T=a}}function kh(e,t,n,r){if(wh){var a=Sh(r);if(null===a)ru(e,t,r,Ch,n),Ih(e,r);else if(function(e,t,n,r,a){switch(t){case"focusin":return Dh=Fh(Dh,e,t,n,r,a),!0;case"dragenter":return Oh=Fh(Oh,e,t,n,r,a),!0;case"mouseover":return Th=Fh(Th,e,t,n,r,a),!0;case"pointerover":var s=a.pointerId;return Mh.set(s,Fh(Mh.get(s)||null,e,t,n,r,a)),!0;case"gotpointercapture":return s=a.pointerId,Ah.set(s,Fh(Ah.get(s)||null,e,t,n,r,a)),!0}return!1}(a,e,t,n,r))r.stopPropagation();else if(Ih(e,r),4&t&&-1<Rh.indexOf(e)){for(;null!==a;){var s=Ge(a);if(null!==s)switch(s.tag){case 3:if((s=s.stateNode).current.memoizedState.isDehydrated){var i=Ne(s.pendingLanes);if(0!==i){var o=s;for(o.pendingLanes|=2,o.entangledLanes|=2;i;){var l=1<<31-xe(i);o.entanglements[1]|=l,i&=~l}Id(s),!(6&fc)&&(Rc=se()+500,Fd(0))}}break;case 31:case 13:null!==(o=zr(s,2))&&Xc(o,0,2),td(),bh(s,2)}if(null===(s=Sh(r))&&ru(e,t,r,Ch,n),s===a)break;a=s}null!==a&&r.stopPropagation()}else ru(e,t,r,null,n)}}function Sh(e){return _h(e=Mt(e))}var Ch=null;function _h(e){if(Ch=null,null!==(e=Ye(e))){var t=s(e);if(null===t)e=null;else{var n=t.tag;if(13===n){if(null!==(e=i(t)))return e;e=null}else if(31===n){if(null!==(e=o(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Ch=e,null}function Ph(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ie()){case oe:return 2;case le:return 8;case ce:case de:return 32;case ue:return 268435456;default:return 32}default:return 32}}var Eh=!1,Dh=null,Oh=null,Th=null,Mh=new Map,Ah=new Map,zh=[],Rh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Ih(e,t){switch(e){case"focusin":case"focusout":Dh=null;break;case"dragenter":case"dragleave":Oh=null;break;case"mouseover":case"mouseout":Th=null;break;case"pointerover":case"pointerout":Mh.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ah.delete(t.pointerId)}}function Fh(e,t,n,r,a,s){return null===e||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[a]},null!==t&&(null!==(t=Ge(t))&&vh(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==a&&-1===t.indexOf(a)&&t.push(a),e)}function Lh(e){var t=Ye(e.target);if(null!==t){var n=s(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=i(n)))return e.blockedOn=t,void Re(e.priority,function(){yh(n)})}else if(31===t){if(null!==(t=o(n)))return e.blockedOn=t,void Re(e.priority,function(){yh(n)})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Bh(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Sh(e.nativeEvent);if(null!==n)return null!==(t=Ge(n))&&vh(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);Tt=r,n.target.dispatchEvent(r),Tt=null,t.shift()}return!0}function $h(e,t,n){Bh(e)&&n.delete(t)}function Wh(){Eh=!1,null!==Dh&&Bh(Dh)&&(Dh=null),null!==Oh&&Bh(Oh)&&(Oh=null),null!==Th&&Bh(Th)&&(Th=null),Mh.forEach($h),Ah.forEach($h)}function Uh(t,n){t.blockedOn===n&&(t.blockedOn=null,Eh||(Eh=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Wh)))}var Hh=null;function Vh(t){Hh!==t&&(Hh=t,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){Hh===t&&(Hh=null);for(var e=0;e<t.length;e+=3){var n=t[e],r=t[e+1],a=t[e+2];if("function"!=typeof r){if(null===_h(r||n))continue;break}var s=Ge(n);null!==s&&(t.splice(e,3),e-=3,no(s,{pending:!0,data:a,method:n.method,action:r},r,a))}}))}function qh(e){function t(t){return Uh(t,e)}null!==Dh&&Uh(Dh,e),null!==Oh&&Uh(Oh,e),null!==Th&&Uh(Th,e),Mh.forEach(t),Ah.forEach(t);for(var n=0;n<zh.length;n++){var r=zh[n];r.blockedOn===e&&(r.blockedOn=null)}for(;0<zh.length&&null===(n=zh[0]).blockedOn;)Lh(n),null===n.blockedOn&&zh.shift();if(null!=(n=(e.ownerDocument||e).$$reactFormReplay))for(r=0;r<n.length;r+=3){var a=n[r],s=n[r+1],i=a[Le]||null;if("function"==typeof s)i||Vh(n);else if(i){var o=null;if(s&&s.hasAttribute("formAction")){if(a=s,i=s[Le]||null)o=i.formAction;else if(null!==_h(a))continue}else o=i.action;"function"==typeof o?n[r+1]=o:(n.splice(r,3),r-=3),Vh(n)}}}function Yh(){function e(e){e.canIntercept&&"react-transition"===e.info&&e.intercept({handler:function(){return new Promise(function(e){return a=e})},focusReset:"manual",scroll:"manual"})}function t(){null!==a&&(a(),a=null),r||setTimeout(n,20)}function n(){if(!r&&!navigation.transition){var e=navigation.currentEntry;e&&null!=e.url&&navigation.navigate(e.url,{state:e.getState(),info:"react-transition",history:"replace"})}}if("object"==typeof navigation){var r=!1,a=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(n,100),function(){r=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),null!==a&&(a(),a=null)}}}function Gh(e){this._internalRoot=e}function Kh(e){this._internalRoot=e}Kh.prototype.render=Gh.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(r(409));gh(t.current,Gc(),e,t,null,null)},Kh.prototype.unmount=Gh.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;gh(e.current,2,null,e,null,null),td(),t[Be]=null}},Kh.prototype.unstable_scheduleHydration=function(e){if(e){var t=ze();e={blockedOn:null,target:e,priority:t};for(var n=0;n<zh.length&&0!==t&&t<zh[n].priority;n++);zh.splice(n,0,e),0===n&&Lh(e)}};var Xh=t.version;if("19.2.3"!==Xh)throw Error(r(527,Xh,"19.2.3"));T.findDOMNode=function(e){var t=e._reactInternals;if(void 0===t){if("function"==typeof e.render)throw Error(r(188));throw e=Object.keys(e).join(","),Error(r(268,e))}return e=function(e){var t=e.alternate;if(!t){if(null===(t=s(e)))throw Error(r(188));return t!==e?null:e}for(var n=e,a=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(a=i.return)){n=a;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return l(i),e;if(o===a)return l(i),t;o=o.sibling}throw Error(r(188))}if(n.return!==a.return)n=i,a=o;else{for(var c=!1,d=i.child;d;){if(d===n){c=!0,n=i,a=o;break}if(d===a){c=!0,a=i,n=o;break}d=d.sibling}if(!c){for(d=o.child;d;){if(d===n){c=!0,n=o,a=i;break}if(d===a){c=!0,a=o,n=i;break}d=d.sibling}if(!c)throw Error(r(189))}}if(n.alternate!==a)throw Error(r(190))}if(3!==n.tag)throw Error(r(188));return n.stateNode.current===n?e:t}(t),e=null===(e=null!==e?c(e):null)?null:e.stateNode};var Qh={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:O,reconcilerVersion:"19.2.3"};if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var Jh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Jh.isDisabled&&Jh.supportsFiber)try{pe=Jh.inject(Qh),fe=Jh}catch(Zh){}}return Zt.createRoot=function(e,t){if(!a(e))throw Error(r(299));var n=!1,s="",i=Co,o=_o,l=Po;return null!=t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(s=t.identifierPrefix),void 0!==t.onUncaughtError&&(i=t.onUncaughtError),void 0!==t.onCaughtError&&(o=t.onCaughtError),void 0!==t.onRecoverableError&&(l=t.onRecoverableError)),t=ph(e,1,!1,null,0,n,s,null,i,o,l,Yh),e[Be]=t.current,tu(e),new Gh(t)},Zt.hydrateRoot=function(e,t,n){if(!a(e))throw Error(r(299));var s=!1,i="",o=Co,l=_o,c=Po,d=null;return null!=n&&(!0===n.unstable_strictMode&&(s=!0),void 0!==n.identifierPrefix&&(i=n.identifierPrefix),void 0!==n.onUncaughtError&&(o=n.onUncaughtError),void 0!==n.onCaughtError&&(l=n.onCaughtError),void 0!==n.onRecoverableError&&(c=n.onRecoverableError),void 0!==n.formState&&(d=n.formState)),(t=ph(e,1,!0,t,0,s,i,d,o,l,c,Yh)).context=fh(null),n=t.current,(i=ys(s=Me(s=Gc()))).callback=null,ws(n,i,s),n=s,t.current.lanes=n,Ee(t,n),Id(t),e[Be]=t.current,tu(e),new Kh(t)},Zt.version="19.2.3",Zt}var an,sn,on=(Qt||(Qt=1,function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){}}(),Jt.exports=rn()),Jt.exports);const ln=Nt(function(){if(sn)return an;sn=1;var e="undefined"!=typeof Element,t="function"==typeof Map,n="function"==typeof Set,r="function"==typeof ArrayBuffer&&!!ArrayBuffer.isView;function a(s,i){if(s===i)return!0;if(s&&i&&"object"==typeof s&&"object"==typeof i){if(s.constructor!==i.constructor)return!1;var o,l,c,d;if(Array.isArray(s)){if((o=s.length)!=i.length)return!1;for(l=o;0!==l--;)if(!a(s[l],i[l]))return!1;return!0}if(t&&s instanceof Map&&i instanceof Map){if(s.size!==i.size)return!1;for(d=s.entries();!(l=d.next()).done;)if(!i.has(l.value[0]))return!1;for(d=s.entries();!(l=d.next()).done;)if(!a(l.value[1],i.get(l.value[0])))return!1;return!0}if(n&&s instanceof Set&&i instanceof Set){if(s.size!==i.size)return!1;for(d=s.entries();!(l=d.next()).done;)if(!i.has(l.value[0]))return!1;return!0}if(r&&ArrayBuffer.isView(s)&&ArrayBuffer.isView(i)){if((o=s.length)!=i.length)return!1;for(l=o;0!==l--;)if(s[l]!==i[l])return!1;return!0}if(s.constructor===RegExp)return s.source===i.source&&s.flags===i.flags;if(s.valueOf!==Object.prototype.valueOf&&"function"==typeof s.valueOf&&"function"==typeof i.valueOf)return s.valueOf()===i.valueOf();if(s.toString!==Object.prototype.toString&&"function"==typeof s.toString&&"function"==typeof i.toString)return s.toString()===i.toString();if((o=(c=Object.keys(s)).length)!==Object.keys(i).length)return!1;for(l=o;0!==l--;)if(!Object.prototype.hasOwnProperty.call(i,c[l]))return!1;if(e&&s instanceof Element)return!1;for(l=o;0!==l--;)if(("_owner"!==c[l]&&"__v"!==c[l]&&"__o"!==c[l]||!s.$$typeof)&&!a(s[c[l]],i[c[l]]))return!1;return!0}return s!=s&&i!=i}return an=function(e,t){try{return a(e,t)}catch(n){if((n.message||"").match(/stack|recursion/i))return!1;throw n}}}());var cn,dn;var un=dn?cn:(dn=1,cn=function(e,t,n,r,a,s,i,o){if(!e){var l;if(void 0===t)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,r,a,s,i,o],d=0;(l=new Error(t.replace(/%s/g,function(){return c[d++]}))).name="Invariant Violation"}throw l.framesToPop=1,l}});const hn=Nt(un);var mn,pn;const fn=Nt(pn?mn:(pn=1,mn=function(e,t,n,r){var a=n?n.call(r,e,t):void 0;if(void 0!==a)return!!a;if(e===t)return!0;if("object"!=typeof e||!e||"object"!=typeof t||!t)return!1;var s=Object.keys(e),i=Object.keys(t);if(s.length!==i.length)return!1;for(var o=Object.prototype.hasOwnProperty.bind(t),l=0;l<s.length;l++){var c=s[l];if(!o(c))return!1;var d=e[c],u=t[c];if(!1===(a=n?n.call(r,d,u,c):void 0)||void 0===a&&d!==u)return!1}return!0}));var gn=(e=>(e.BASE="base",e.BODY="body",e.HEAD="head",e.HTML="html",e.LINK="link",e.META="meta",e.NOSCRIPT="noscript",e.SCRIPT="script",e.STYLE="style",e.TITLE="title",e.FRAGMENT="Symbol(react.fragment)",e))(gn||{}),xn={rel:["amphtml","canonical","alternate"]},bn={type:["application/ld+json"]},vn={charset:"",name:["generator","robots","description"],property:["og:type","og:title","og:url","og:image","og:image:alt","og:description","twitter:url","twitter:title","twitter:description","twitter:image","twitter:image:alt","twitter:card","twitter:site"]},yn=Object.values(gn),wn={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},jn=Object.entries(wn).reduce((e,[t,n])=>(e[n]=t,e),{}),Nn="data-rh",kn="defaultTitle",Sn="defer",Cn="encodeSpecialCharacters",_n="onChangeClientState",Pn="titleTemplate",En="prioritizeSeoTags",Dn=(e,t)=>{for(let n=e.length-1;n>=0;n-=1){const r=e[n];if(Object.prototype.hasOwnProperty.call(r,t))return r[t]}return null},On=e=>{let t=Dn(e,"title");const n=Dn(e,Pn);if(Array.isArray(t)&&(t=t.join("")),n&&t)return n.replace(/%s/g,()=>t);const r=Dn(e,kn);return t||r||void 0},Tn=e=>Dn(e,_n)||(()=>{}),Mn=(e,t)=>t.filter(t=>void 0!==t[e]).map(t=>t[e]).reduce((e,t)=>({...e,...t}),{}),An=(e,t)=>t.filter(e=>void 0!==e.base).map(e=>e.base).reverse().reduce((t,n)=>{if(!t.length){const r=Object.keys(n);for(let a=0;a<r.length;a+=1){const s=r[a].toLowerCase();if(-1!==e.indexOf(s)&&n[s])return t.concat(n)}}return t},[]),zn=(e,t,n)=>{const r={};return n.filter(t=>!!Array.isArray(t[e])||(void 0!==t[e]&&(t[e],console&&console.warn),!1)).map(t=>t[e]).reverse().reduce((e,n)=>{const a={};n.filter(e=>{let n;const s=Object.keys(e);for(let r=0;r<s.length;r+=1){const a=s[r],i=a.toLowerCase();-1===t.indexOf(i)||"rel"===n&&"canonical"===e[n].toLowerCase()||"rel"===i&&"stylesheet"===e[i].toLowerCase()||(n=i),-1===t.indexOf(a)||"innerHTML"!==a&&"cssText"!==a&&"itemprop"!==a||(n=a)}if(!n||!e[n])return!1;const i=e[n].toLowerCase();return r[n]||(r[n]={}),a[n]||(a[n]={}),!r[n][i]&&(a[n][i]=!0,!0)}).reverse().forEach(t=>e.push(t));const s=Object.keys(a);for(let t=0;t<s.length;t+=1){const e=s[t],n={...r[e],...a[e]};r[e]=n}return e},[]).reverse()},Rn=(e,t)=>{if(Array.isArray(e)&&e.length)for(let n=0;n<e.length;n+=1){if(e[n][t])return!0}return!1},In=e=>Array.isArray(e)?e.join(""):e,Fn=(e,t)=>Array.isArray(e)?e.reduce((e,n)=>(((e,t)=>{const n=Object.keys(e);for(let r=0;r<n.length;r+=1)if(t[n[r]]&&t[n[r]].includes(e[n[r]]))return!0;return!1})(n,t)?e.priority.push(n):e.default.push(n),e),{priority:[],default:[]}):{default:e,priority:[]},Ln=(e,t)=>({...e,[t]:void 0}),Bn=["noscript","script","style"],$n=(e,t=!0)=>!1===t?String(e):String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;"),Wn=e=>Object.keys(e).reduce((t,n)=>{const r=void 0!==e[n]?`${n}="${e[n]}"`:`${n}`;return t?`${t} ${r}`:r},""),Un=(e,t={})=>Object.keys(e).reduce((t,n)=>(t[wn[n]||n]=e[n],t),t),Hn=(e,t)=>t.map((t,n)=>{const r={key:n,[Nn]:!0};return Object.keys(t).forEach(e=>{const n=wn[e]||e;if("innerHTML"===n||"cssText"===n){const e=t.innerHTML||t.cssText;r.dangerouslySetInnerHTML={__html:e}}else r[n]=t[e]}),St.createElement(e,r)}),Vn=(e,t,n=!0)=>{switch(e){case"title":return{toComponent:()=>((e,t,n)=>{const r=Un(n,{key:t,[Nn]:!0});return[St.createElement("title",r,t)]})(0,t.title,t.titleAttributes),toString:()=>((e,t,n,r)=>{const a=Wn(n),s=In(t);return a?`<${e} ${Nn}="true" ${a}>${$n(s,r)}</${e}>`:`<${e} ${Nn}="true">${$n(s,r)}</${e}>`})(e,t.title,t.titleAttributes,n)};case"bodyAttributes":case"htmlAttributes":return{toComponent:()=>Un(t),toString:()=>Wn(t)};default:return{toComponent:()=>Hn(e,t),toString:()=>((e,t,n=!0)=>t.reduce((t,r)=>{const a=r,s=Object.keys(a).filter(e=>!("innerHTML"===e||"cssText"===e)).reduce((e,t)=>{const r=void 0===a[t]?t:`${t}="${$n(a[t],n)}"`;return e?`${e} ${r}`:r},""),i=a.innerHTML||a.cssText||"",o=-1===Bn.indexOf(e);return`${t}<${e} ${Nn}="true" ${s}${o?"/>":`>${i}</${e}>`}`},""))(e,t,n)}}},qn=e=>{const{baseTag:t,bodyAttributes:n,encode:r=!0,htmlAttributes:a,noscriptTags:s,styleTags:i,title:o="",titleAttributes:l,prioritizeSeoTags:c}=e;let{linkTags:d,metaTags:u,scriptTags:h}=e,m={toComponent:()=>{},toString:()=>""};return c&&({priorityMethods:m,linkTags:d,metaTags:u,scriptTags:h}=(({metaTags:e,linkTags:t,scriptTags:n,encode:r})=>{const a=Fn(e,vn),s=Fn(t,xn),i=Fn(n,bn);return{priorityMethods:{toComponent:()=>[...Hn("meta",a.priority),...Hn("link",s.priority),...Hn("script",i.priority)],toString:()=>`${Vn("meta",a.priority,r)} ${Vn("link",s.priority,r)} ${Vn("script",i.priority,r)}`},metaTags:a.default,linkTags:s.default,scriptTags:i.default}})(e)),{priority:m,base:Vn("base",t,r),bodyAttributes:Vn("bodyAttributes",n,r),htmlAttributes:Vn("htmlAttributes",a,r),link:Vn("link",d,r),meta:Vn("meta",u,r),noscript:Vn("noscript",s,r),script:Vn("script",h,r),style:Vn("style",i,r),title:Vn("title",{title:o,titleAttributes:l},r)}},Yn=[],Gn=!("undefined"==typeof window||!window.document||!window.document.createElement),Kn=class{instances=[];canUseDOM=Gn;context;value={setHelmet:e=>{this.context.helmet=e},helmetInstances:{get:()=>this.canUseDOM?Yn:this.instances,add:e=>{(this.canUseDOM?Yn:this.instances).push(e)},remove:e=>{const t=(this.canUseDOM?Yn:this.instances).indexOf(e);(this.canUseDOM?Yn:this.instances).splice(t,1)}}};constructor(e,t){this.context=e,this.canUseDOM=t||!1,t||(e.helmet=qn({baseTag:[],bodyAttributes:{},htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}}))}},Xn=St.createContext({}),Qn=class e extends kt.Component{static canUseDOM=Gn;helmetData;constructor(t){super(t),this.helmetData=new Kn(this.props.context||{},e.canUseDOM)}render(){return St.createElement(Xn.Provider,{value:this.helmetData.value},this.props.children)}},Jn=(e,t)=>{const n=document.head||document.querySelector("head"),r=n.querySelectorAll(`${e}[${Nn}]`),a=[].slice.call(r),s=[];let i;return t&&t.length&&t.forEach(t=>{const n=document.createElement(e);for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))if("innerHTML"===e)n.innerHTML=t.innerHTML;else if("cssText"===e)n.styleSheet?n.styleSheet.cssText=t.cssText:n.appendChild(document.createTextNode(t.cssText));else{const r=e,a=void 0===t[r]?"":t[r];n.setAttribute(e,a)}n.setAttribute(Nn,"true"),a.some((e,t)=>(i=t,n.isEqualNode(e)))?a.splice(i,1):s.push(n)}),a.forEach(e=>e.parentNode?.removeChild(e)),s.forEach(e=>n.appendChild(e)),{oldTags:a,newTags:s}},Zn=(e,t)=>{const n=document.getElementsByTagName(e)[0];if(!n)return;const r=n.getAttribute(Nn),a=r?r.split(","):[],s=[...a],i=Object.keys(t);for(const o of i){const e=t[o]||"";n.getAttribute(o)!==e&&n.setAttribute(o,e),-1===a.indexOf(o)&&a.push(o);const r=s.indexOf(o);-1!==r&&s.splice(r,1)}for(let o=s.length-1;o>=0;o-=1)n.removeAttribute(s[o]);a.length===s.length?n.removeAttribute(Nn):n.getAttribute(Nn)!==i.join(",")&&n.setAttribute(Nn,i.join(","))},er=(e,t)=>{const{baseTag:n,bodyAttributes:r,htmlAttributes:a,linkTags:s,metaTags:i,noscriptTags:o,onChangeClientState:l,scriptTags:c,styleTags:d,title:u,titleAttributes:h}=e;Zn("body",r),Zn("html",a),((e,t)=>{void 0!==e&&document.title!==e&&(document.title=In(e)),Zn("title",t)})(u,h);const m={baseTag:Jn("base",n),linkTags:Jn("link",s),metaTags:Jn("meta",i),noscriptTags:Jn("noscript",o),scriptTags:Jn("script",c),styleTags:Jn("style",d)},p={},f={};Object.keys(m).forEach(e=>{const{newTags:t,oldTags:n}=m[e];t.length&&(p[e]=t),n.length&&(f[e]=m[e].oldTags)}),t&&t(),l(e,p,f)},tr=null,nr=e=>{tr&&cancelAnimationFrame(tr),e.defer?tr=requestAnimationFrame(()=>{er(e,()=>{tr=null})}):(er(e),tr=null)},rr=class extends kt.Component{rendered=!1;shouldComponentUpdate(e){return!fn(e,this.props)}componentDidUpdate(){this.emitChange()}componentWillUnmount(){const{helmetInstances:e}=this.props.context;e.remove(this),this.emitChange()}emitChange(){const{helmetInstances:e,setHelmet:t}=this.props.context;let n=null;const r=(a=e.get().map(e=>{const t={...e.props};return delete t.context,t}),{baseTag:An(["href"],a),bodyAttributes:Mn("bodyAttributes",a),defer:Dn(a,Sn),encode:Dn(a,Cn),htmlAttributes:Mn("htmlAttributes",a),linkTags:zn("link",["rel","href"],a),metaTags:zn("meta",["name","charset","http-equiv","property","itemprop"],a),noscriptTags:zn("noscript",["innerHTML"],a),onChangeClientState:Tn(a),scriptTags:zn("script",["src","innerHTML"],a),styleTags:zn("style",["cssText"],a),title:On(a),titleAttributes:Mn("titleAttributes",a),prioritizeSeoTags:Rn(a,En)});var a;Qn.canUseDOM?nr(r):qn&&(n=qn(r)),t(n)}init(){if(this.rendered)return;this.rendered=!0;const{helmetInstances:e}=this.props.context;e.add(this),this.emitChange()}render(){return this.init(),null}},ar=class extends kt.Component{static defaultProps={defer:!0,encodeSpecialCharacters:!0,prioritizeSeoTags:!1};shouldComponentUpdate(e){return!ln(Ln(this.props,"helmetData"),Ln(e,"helmetData"))}mapNestedChildrenToProps(e,t){if(!t)return null;switch(e.type){case"script":case"noscript":return{innerHTML:t};case"style":return{cssText:t};default:throw new Error(`<${e.type} /> elements are self-closing and can not contain children. Refer to our API for more information.`)}}flattenArrayTypeChildren(e,t,n,r){return{...t,[e.type]:[...t[e.type]||[],{...n,...this.mapNestedChildrenToProps(e,r)}]}}mapObjectTypeChildren(e,t,n,r){switch(e.type){case"title":return{...t,[e.type]:r,titleAttributes:{...n}};case"body":return{...t,bodyAttributes:{...n}};case"html":return{...t,htmlAttributes:{...n}};default:return{...t,[e.type]:{...n}}}}mapArrayTypeChildrenToProps(e,t){let n={...t};return Object.keys(e).forEach(t=>{n={...n,[t]:e[t]}}),n}warnOnInvalidChildren(e,t){return hn(yn.some(t=>e.type===t),"function"==typeof e.type?"You may be attempting to nest <Helmet> components within each other, which is not allowed. Refer to our API for more information.":`Only elements types ${yn.join(", ")} are allowed. Helmet does not support rendering <${e.type}> elements. Refer to our API for more information.`),hn(!t||"string"==typeof t||Array.isArray(t)&&!t.some(e=>"string"!=typeof e),`Helmet expects a string as a child of <${e.type}>. Did you forget to wrap your children in braces? ( <${e.type}>{\`\`}</${e.type}> ) Refer to our API for more information.`),!0}mapChildrenToProps(e,t){let n={};return St.Children.forEach(e,e=>{if(!e||!e.props)return;const{children:r,...a}=e.props,s=Object.keys(a).reduce((e,t)=>(e[jn[t]||t]=a[t],e),{});let{type:i}=e;switch("symbol"==typeof i?i=i.toString():this.warnOnInvalidChildren(e,r),i){case"Symbol(react.fragment)":t=this.mapChildrenToProps(r,t);break;case"link":case"meta":case"noscript":case"script":case"style":n=this.flattenArrayTypeChildren(e,n,s,r);break;default:t=this.mapObjectTypeChildren(e,t,s,r)}}),this.mapArrayTypeChildrenToProps(n,t)}render(){const{children:e,...t}=this.props;let n={...t},{helmetData:r}=t;if(e&&(n=this.mapChildrenToProps(e,n)),r&&!(r instanceof Kn)){r=new Kn(r.context,!0),delete n.helmetData}return r?St.createElement(rr,{...n,context:r.value}):St.createElement(Xn.Consumer,null,e=>St.createElement(rr,{...n,context:e}))}};const sr=Bt.create({baseURL:"http://127.0.0.1:8000/api/v1",headers:{Accept:"application/json"}});sr.interceptors.request.use(e=>{const t=localStorage.getItem("token");return t&&(e.headers.Authorization=`Bearer ${t}`),e}),sr.interceptors.response.use(e=>e,e=>(e.response&&401===e.response.status&&localStorage.removeItem("token"),Promise.reject(e)));const ir=kt.createContext(),or=({children:t})=>{const[n,r]=kt.useState(null),[a,s]=kt.useState(localStorage.getItem("token")),[i,o]=kt.useState(!0),l=e=>{e?localStorage.setItem("token",e):localStorage.removeItem("token"),s(e)},c=async()=>{if(a)try{const e=await sr.get("/user");r(e.data.data)}catch(e){l(null),r(null)}finally{o(!1)}else o(!1)};return kt.useEffect(()=>{c()},[a]),e.jsx(ir.Provider,{value:{user:n,setUser:r,token:a,setToken:l,loading:i,fetchUser:c,logout:async()=>{try{await(async()=>{await sr.post("/logout"),localStorage.removeItem("token")})()}catch(e){}finally{l(null),r(null),localStorage.removeItem("token")}}},children:t})},lr=()=>kt.useContext(ir);function cr(){const[s,i]=kt.useState(!1),[o,l]=kt.useState(!1),c=Ct();kt.useEffect(()=>{const e=()=>{i(window.scrollY>20)};return window.addEventListener("scroll",e),()=>window.removeEventListener("scroll",e)},[]);return["/login","/register","/onboarding"].includes(c.pathname)?null:e.jsxs("nav",{className:"fixed top-0 left-0 right-0 z-50 transition-all duration-300 "+(s||o?"bg-white/80 backdrop-blur-md border-b border-slate-200 shadow-sm py-4":"bg-transparent py-6"),children:[e.jsxs("div",{className:"max-w-7xl mx-auto px-6 flex items-center justify-between",children:[e.jsxs(_t,{to:"/",className:"flex items-center gap-2 group",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-slate-900 text-white flex items-center justify-center font-bold text-xl shadow-lg group-hover:scale-105 transition-transform",children:"D"}),e.jsx("span",{className:"text-xl font-bold tracking-tight transition-colors text-slate-900",children:"DocForge"})]}),e.jsxs("div",{className:"hidden md:flex items-center gap-8",children:[e.jsx("a",{href:"/#templates",className:"text-slate-600 font-medium hover:text-slate-900 transition-colors",children:"Create Document"}),e.jsx(dr,{to:"/features",children:"Features"}),e.jsx(dr,{to:"/pricing",children:"Pricing"}),e.jsx(dr,{to:"/about",children:"About"})]}),e.jsxs("div",{className:"hidden md:flex items-center gap-4",children:[e.jsx(_t,{to:"/login",className:"text-slate-600 font-medium hover:text-slate-900 transition-colors",children:"Sign In"}),e.jsx(_t,{to:"/register",className:"px-5 py-2.5 bg-slate-900 text-white rounded-lg font-bold hover:bg-slate-800 transition-all hover:shadow-lg hover:-translate-y-0.5",children:"Get Started"})]}),e.jsx("button",{className:"md:hidden text-slate-900",onClick:()=>l(!o),"aria-label":"Toggle mobile menu",children:o?e.jsx(t,{}):e.jsx(n,{})})]}),e.jsx(r,{children:o&&e.jsx(a.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"md:hidden bg-white border-b border-slate-200 overflow-hidden",children:e.jsxs("div",{className:"flex flex-col p-6 gap-4",children:[e.jsx("a",{href:"/#templates",onClick:()=>l(!1),className:"text-slate-600 font-medium text-lg py-2 block",children:"Create Document"}),e.jsx(ur,{to:"/features",onClick:()=>l(!1),children:"Features"}),e.jsx(ur,{to:"/pricing",onClick:()=>l(!1),children:"Pricing"}),e.jsx(ur,{to:"/about",onClick:()=>l(!1),children:"About"}),e.jsx("hr",{className:"border-slate-100 my-2"}),e.jsx(ur,{to:"/login",onClick:()=>l(!1),children:"Sign In"}),e.jsx(_t,{to:"/register",onClick:()=>l(!1),className:"w-full py-3 bg-slate-900 text-white rounded-xl font-bold text-center",children:"Get Started"})]})})})]})}const dr=({to:t,children:n})=>e.jsx(_t,{to:t,className:"text-slate-600 font-medium hover:text-slate-900 transition-colors",children:n}),ur=({to:t,children:n,onClick:r})=>e.jsx(_t,{to:t,onClick:r,className:"text-slate-600 font-medium text-lg py-2 block",children:n});function hr(){return e.jsx("footer",{className:"bg-white py-12 px-6 border-t border-slate-200",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-8 mb-12",children:[e.jsxs("div",{className:"col-span-2 md:col-span-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx("div",{className:"w-8 h-8 rounded-lg bg-slate-900 flex items-center justify-center",children:e.jsx("span",{className:"text-white font-bold text-xl",children:"D"})}),e.jsx("span",{className:"font-bold text-xl text-slate-900",children:"DocForge"})]}),e.jsx("p",{className:"text-slate-500 text-sm leading-relaxed",children:"Forging the future of document management for modern teams."})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-slate-900 mb-4",children:"Product"}),e.jsxs("ul",{className:"space-y-2 text-sm text-slate-500",children:[e.jsx("li",{children:e.jsx(_t,{to:"/features",className:"hover:text-slate-900 transition-colors",children:"Features"})}),e.jsx("li",{children:e.jsx(_t,{to:"/pricing",className:"hover:text-slate-900 transition-colors",children:"Pricing"})}),e.jsx("li",{children:e.jsx(_t,{to:"/changelog",className:"hover:text-slate-900 transition-colors",children:"Changelog"})}),e.jsx("li",{children:e.jsx(_t,{to:"/blog",className:"hover:text-slate-900 transition-colors",children:"Blogs"})})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-slate-900 mb-4",children:"Company"}),e.jsxs("ul",{className:"space-y-2 text-sm text-slate-500",children:[e.jsx("li",{children:e.jsx(_t,{to:"/about",className:"hover:text-slate-900 transition-colors",children:"About Us"})}),e.jsx("li",{children:e.jsx(_t,{to:"/careers",className:"hover:text-slate-900 transition-colors",children:"Careers"})}),e.jsx("li",{children:e.jsx(_t,{to:"/contact",className:"hover:text-slate-900 transition-colors",children:"Contact"})})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-slate-900 mb-4",children:"Legal"}),e.jsxs("ul",{className:"space-y-2 text-sm text-slate-500",children:[e.jsx("li",{children:e.jsx(_t,{to:"/privacy",className:"hover:text-slate-900 transition-colors",children:"Privacy Policy"})}),e.jsx("li",{children:e.jsx(_t,{to:"/terms",className:"hover:text-slate-900 transition-colors",children:"Terms of Service"})})]})]})]}),e.jsxs("div",{className:"pt-8 border-t border-slate-100 flex flex-col md:flex-row justify-between items-center gap-4",children:[e.jsxs("div",{className:"text-slate-500 text-sm",children:[" ",(new Date).getFullYear()," TechSynchronic. All rights reserved."]}),e.jsxs("div",{className:"flex gap-6 text-slate-500",children:[e.jsx("a",{href:"#",className:"hover:text-slate-900 transition-colors",children:"Twitter"}),e.jsx("a",{href:"#",className:"hover:text-slate-900 transition-colors",children:"LinkedIn"}),e.jsx("a",{href:"#",className:"hover:text-slate-900 transition-colors",children:"GitHub"})]})]})]})})}function mr(){return e.jsxs("div",{className:"min-h-screen flex flex-col bg-white",children:[e.jsx(cr,{}),e.jsx("main",{className:"flex-grow pt-0",children:e.jsx(Pt,{})}),e.jsx(hr,{})]})}const pr=({title:t,description:n,keywords:r,image:a,url:s,type:i="website",jsonLd:o,robots:l="index, follow",twitterCard:c="summary_large_image"})=>{const d="DocForge",u="https://docforgedocs.com",h=`${u}/images/logo.png`,m=t?`${t} | ${d}`:d,p=n||"Create professional NDAs, Proposals, and Invoices for modern businesses. Streamline your document workflow with DocForge.",f=a?a.startsWith("http")?a:`${u}${a}`:h,g=s?`${u}${s}`:u;return e.jsxs(ar,{children:[e.jsx("title",{children:m}),e.jsx("meta",{name:"description",content:p}),r&&e.jsx("meta",{name:"keywords",content:r}),e.jsx("meta",{name:"robots",content:l}),e.jsx("link",{rel:"canonical",href:g}),e.jsx("meta",{property:"og:type",content:i}),e.jsx("meta",{property:"og:url",content:g}),e.jsx("meta",{property:"og:title",content:m}),e.jsx("meta",{property:"og:description",content:p}),e.jsx("meta",{property:"og:image",content:f}),e.jsx("meta",{property:"og:site_name",content:d}),e.jsx("meta",{property:"og:locale",content:"en_US"}),e.jsx("meta",{name:"twitter:card",content:c}),e.jsx("meta",{name:"twitter:url",content:g}),e.jsx("meta",{name:"twitter:title",content:m}),e.jsx("meta",{name:"twitter:description",content:p}),e.jsx("meta",{name:"twitter:image",content:f}),e.jsx("meta",{name:"twitter:creator",content:"@DocForgeApp"}),e.jsx("meta",{name:"twitter:site",content:"@DocForgeApp"}),o&&e.jsx("script",{type:"application/ld+json",children:JSON.stringify(o)})]})},fr=[{id:"nda",title:"Non-Disclosure Agreement",subtitle:"Protect your ideas instantly.",description:"Generate a legally binding NDA in minutes. Perfect for freelancers, agencies, and startup discussions.",icon:s,color:"bg-emerald-500",gradient:"from-emerald-500 to-teal-400",bg:"bg-emerald-50",border:"border-emerald-100"},{id:"proposal",title:"Business Proposal",subtitle:"Win more clients, faster.",description:"Create stunning, structured proposals with pricing tables and timelines. Export as PDF or send online.",icon:i,color:"bg-indigo-500",gradient:"from-indigo-500 to-purple-500",bg:"bg-indigo-50",border:"border-indigo-100"},{id:"consulting-agreement",title:"Consulting Agreement",subtitle:"Secure your services.",description:"Formalize your client relationships with a comprehensive consulting services agreement.",icon:o,color:"bg-blue-500",gradient:"from-blue-500 to-cyan-400",bg:"bg-blue-50",border:"border-blue-100"}],gr=[{q:"Is it really free? What's the catch?",a:"Yes, it is 100% free to generate and export documents. We provide this tool to help freelancers and small businesses. If you want advanced features like eSignatures and analytics, you can upgrade to a full account later."},{q:"Do I need to create an account first?",a:"No! You can draft your entire document as a guest. We only ask you to create a password when you save/export, so you can access your document later. It's a seamless process."},{q:"Are these documents legally binding?",a:"Our templates are drafted by legal professionals to be standard and enforceable. However, we are not a law firm, and for high-stakes deals, we always recommend consulting a lawyer."},{q:"Can I edit the document after saving?",a:"Absolutely. Once you save, the document is stored in your secure dashboard. You can edit, duplicate, or send it for signature at any time."}],xr=({q:t,a:n})=>{const[s,i]=kt.useState(!1);return e.jsxs("div",{className:"border-b border-slate-200 last:border-0",children:[e.jsxs("button",{onClick:()=>i(!s),className:"w-full py-6 flex items-center justify-between text-left focus:outline-none group",children:[e.jsx("span",{className:"text-lg font-bold text-slate-900 group-hover:text-indigo-600 transition-colors",children:t}),s?e.jsx(g,{className:"text-slate-400"}):e.jsx(x,{className:"text-slate-400"})]}),e.jsx(r,{children:s&&e.jsx(a.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},className:"overflow-hidden",children:e.jsx("p",{className:"pb-6 text-slate-600 leading-relaxed pr-8",children:n})})})]})},br=({number:t,title:n,desc:r,icon:a})=>e.jsxs("div",{className:"relative p-6 rounded-2xl bg-white border border-slate-100 shadow-xl shadow-slate-200/50 flex flex-col items-center text-center group hover:-translate-y-1 transition-transform duration-300",children:[e.jsx("div",{className:"absolute -top-6 w-12 h-12 rounded-full bg-slate-900 text-white flex items-center justify-center font-bold text-lg shadow-lg border-4 border-white",children:t}),e.jsx("div",{className:"mt-8 mb-4 w-12 h-12 rounded-full bg-indigo-50 flex items-center justify-center text-indigo-600 group-hover:scale-110 transition-transform",children:e.jsx(a,{size:24})}),e.jsx("h3",{className:"font-bold text-lg text-slate-900 mb-2",children:n}),e.jsx("p",{className:"text-slate-500 text-sm leading-relaxed",children:r})]}),vr=({icon:t,title:n,desc:r})=>e.jsxs("div",{className:"flex gap-4",children:[e.jsx("div",{className:"w-10 h-10 rounded-lg bg-indigo-100 flex items-center justify-center text-indigo-600 shrink-0",children:e.jsx(t,{size:20})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold text-slate-900 mb-1",children:n}),e.jsx("p",{className:"text-slate-500 text-sm leading-relaxed",children:r})]})]}),yr=()=>{const t=Et(),n={"@context":"https://schema.org","@graph":[{"@context":"https://schema.org","@type":"SoftwareApplication",name:"DocForge",applicationCategory:"BusinessApplication",offers:{"@type":"Offer",price:"0",priceCurrency:"USD"},operatingSystem:"Web",description:"Create professional NDAs, Proposals, and Invoices for modern businesses. Free document generator with eSignature support.",featureList:["NDA Generator","Business Proposal Creator","Invoice Generator","eSignature Support","Team Collaboration","Custom Branding"],screenshot:"https://docforgedocs.com/images/dashboard-preview.png",aggregateRating:{"@type":"AggregateRating",ratingValue:"4.8",ratingCount:"1250"}},{"@context":"https://schema.org","@type":"FAQPage",mainEntity:gr.map(e=>({"@type":"Question",name:e.q,acceptedAnswer:{"@type":"Answer",text:e.a}}))},{"@context":"https://schema.org","@type":"Organization",name:"DocForge",url:"https://docforgedocs.com",logo:"https://docforgedocs.com/images/logo.png",sameAs:["https://twitter.com/DocForgeApp"],contactPoint:{"@type":"ContactPoint",contactType:"Customer Support",email:"support@docforgedocs.com"}}]};return e.jsxs("div",{className:"min-h-screen bg-white font-sans text-slate-900 selection:bg-indigo-100 selection:text-indigo-900",children:[e.jsx(pr,{title:"Free NDA & Proposal Generator for Modern Businesses",description:"Create professional NDAs, Business Proposals, and Consulting Agreements in minutes. Free document generator with eSignature support. No signup required to start.",keywords:"Free NDA Generator, Business Proposal Creator, Consulting Agreement Template, Online Legal Documents, Agency Software, eSignature, Document Management, Invoice Generator",url:"/",jsonLd:n}),e.jsxs("div",{className:"fixed inset-0 pointer-events-none z-0",children:[e.jsx("div",{className:"absolute top-0 right-0 w-[800px] h-[800px] bg-indigo-50/50 rounded-full blur-[100px] opacity-60 -translate-y-1/2 translate-x-1/4"}),e.jsx("div",{className:"absolute top-0 left-0 w-[600px] h-[600px] bg-blue-50/50 rounded-full blur-[100px] opacity-40 -translate-y-1/2 -translate-x-1/4"}),e.jsx("div",{className:"absolute inset-0 bg-[url('https://grainy-gradients.vercel.app/noise.svg')] opacity-20 brightness-100 contrast-150"})]}),e.jsxs("main",{className:"relative z-10 pt-32 pb-20 px-6 max-w-7xl mx-auto",children:[e.jsxs("div",{className:"text-center max-w-4xl mx-auto mb-24",children:[e.jsxs(a.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"inline-flex items-center gap-2 px-4 py-1.5 bg-white border border-slate-200 rounded-full shadow-sm mb-8",children:[e.jsxs("span",{className:"relative flex h-2 w-2",children:[e.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-emerald-400 opacity-75"}),e.jsx("span",{className:"relative inline-flex rounded-full h-2 w-2 bg-emerald-500"})]}),e.jsx("span",{className:"text-xs font-bold text-slate-600 uppercase tracking-wider",children:"Free to use, forever"})]}),e.jsxs(a.h1,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"text-5xl md:text-7xl font-black tracking-tighter text-slate-900 mb-8 leading-[1.1]",children:["Review Less. ",e.jsx("br",{className:"hidden md:block"}),e.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-indigo-600 to-purple-600",children:"Close Deals Faster."})]}),e.jsxs(a.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"text-xl md:text-2xl text-slate-500 leading-relaxed font-medium mb-12 max-w-2xl mx-auto",children:["Skip the formatting headaches. Generate professional, legally rigorous documents in seconds.",e.jsx("span",{className:"text-indigo-600 font-bold",children:" No signup required to start."})]}),e.jsxs(a.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"flex flex-col sm:flex-row items-center justify-center gap-4",children:[e.jsx("button",{onClick:()=>document.getElementById("templates").scrollIntoView({behavior:"smooth"}),className:"px-8 py-4 bg-slate-900 text-white rounded-full font-bold text-lg hover:bg-slate-800 transition-all hover:scale-105 shadow-xl shadow-slate-900/20",children:"Start Drafting Free"}),e.jsx("button",{onClick:()=>t("/features"),className:"px-8 py-4 bg-white text-slate-900 border border-slate-200 rounded-full font-bold text-lg hover:border-slate-300 transition-all flex items-center gap-2",children:"View All Features"})]})]}),e.jsxs("div",{className:"mb-32 text-center",children:[e.jsx("p",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest mb-8",children:"Trusted by modern teams"}),e.jsx("div",{className:"flex flex-wrap justify-center gap-8 md:gap-16 opacity-50 grayscale hover:grayscale-0 transition-all duration-500",children:["Acme Corp","Nebula","GlobalBank","TechFlow","SaaS.io"].map(t=>e.jsx("span",{className:"text-xl font-black text-slate-800",children:t},t))})]}),e.jsxs("div",{id:"templates",className:"scroll-mt-24 mb-32",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsx("h2",{className:"text-3xl font-bold text-slate-900 mb-4",children:"Start Drafting"}),e.jsx("p",{className:"text-slate-500",children:"Select a document type to launch the live editor."})]}),e.jsx("div",{className:"grid md:grid-cols-3 gap-8",children:fr.map((n,r)=>e.jsxs(a.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:.1*r},whileHover:{y:-8},onClick:()=>t(`/create-document/${n.id}`),className:"group relative p-8 rounded-3xl bg-white border border-slate-100 shadow-xl shadow-slate-200/40 hover:shadow-2xl hover:shadow-indigo-500/10 transition-all cursor-pointer overflow-hidden flex flex-col h-full",children:[e.jsx("div",{className:`absolute top-0 inset-x-0 h-1 bg-gradient-to-r ${n.gradient}`}),e.jsx("div",{className:`w-14 h-14 rounded-2xl ${n.bg} flex items-center justify-center mb-6 group-hover:scale-110 transition-transform duration-300`,children:e.jsx(n.icon,{size:28,className:n.color.replace("bg-","text-")})}),e.jsx("h3",{className:"text-2xl font-bold text-slate-900 mb-2",children:n.title}),e.jsx("p",{className:"text-indigo-600 font-medium text-sm mb-4",children:n.subtitle}),e.jsx("p",{className:"text-slate-500 leading-relaxed mb-8 flex-1",children:n.description}),e.jsxs("div",{className:"flex items-center text-slate-900 font-bold text-sm group-hover:gap-2 transition-all mt-auto pt-6 border-t border-slate-50",children:["Launch Editor ",e.jsx(l,{size:16,className:"ml-2"})]})]},n.id))})]}),e.jsxs("div",{className:"mb-32 bg-slate-50 rounded-3xl p-8 md:p-16 border border-slate-100 relative overflow-hidden",children:[e.jsx("div",{className:"absolute top-0 right-0 w-[400px] h-[400px] bg-white rounded-full blur-[80px] opacity-50 -translate-y-1/2 translate-x-1/2"}),e.jsxs("div",{className:"relative z-10",children:[e.jsxs("div",{className:"text-center mb-16",children:[e.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-slate-900 mb-4",children:"How it works"}),e.jsx("p",{className:"text-slate-500 max-w-xl mx-auto",children:"We've removed the friction. Go from zero to signed document in less than 5 minutes."})]}),e.jsxs("div",{className:"grid md:grid-cols-3 gap-8 md:gap-12 px-4 pt-4",children:[e.jsx(br,{number:"1",title:"Select & Draft",desc:"Choose a template and use our guest editor to fill in the details. No account needed.",icon:c}),e.jsx(br,{number:"2",title:"Save & Secure",desc:"Click save when you're done. We'll automatically create a secure account for you.",icon:d}),e.jsx(br,{number:"3",title:"Export or Send",desc:"Download as PDF or share seamlessly with your clients for eSignature.",icon:u})]})]})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-16 items-center mb-32",children:[e.jsxs("div",{children:[e.jsx("div",{className:"inline-flex items-center gap-2 px-3 py-1 bg-indigo-50 text-indigo-700 rounded-full text-xs font-bold uppercase tracking-wider mb-6",children:"Powered by DocForge"}),e.jsxs("h2",{className:"text-4xl font-bold text-slate-900 mb-6 leading-tight",children:["More than just a generator. ",e.jsx("br",{}),e.jsx("span",{className:"text-indigo-600",children:"Your entire workflow."})]}),e.jsx("p",{className:"text-lg text-slate-500 mb-8 leading-relaxed",children:"This free tool is just the beginning. DocForge is the complete operating system for modern agencies and freelancers."}),e.jsxs("div",{className:"space-y-6",children:[e.jsx(vr,{icon:i,title:"Integrated eSignatures",desc:"Stop paying for Docusign. Request enforceable signatures directly on your documents."}),e.jsx(vr,{icon:h,title:"Smart Dashboard",desc:"Track every proposal sent. See when clients open them and get notified instantly."}),e.jsx(vr,{icon:m,title:"Team Collaboration",desc:"Invite your team to draft, review, and approve documents together."})]})]}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-0 bg-indigo-600 rounded-3xl rotate-3 opacity-10"}),e.jsxs("div",{className:"relative bg-slate-900 rounded-3xl p-2 shadow-2xl border border-slate-800",children:[e.jsx("img",{src:"/images/dashboard-preview.png",alt:"DocForge Dashboard - Document management interface showing NDAs, proposals, and team collaboration features",className:"rounded-2xl w-full h-auto opacity-90"}),e.jsxs("div",{className:"absolute -bottom-6 -left-6 bg-white p-4 rounded-xl shadow-xl border border-slate-100 flex items-center gap-3 animate-bounce-slow",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-emerald-100 flex items-center justify-center text-emerald-600",children:e.jsx(p,{size:20,fill:"currentColor"})}),e.jsxs("div",{children:[e.jsx("div",{className:"text-xs font-bold text-slate-400 uppercase",children:"Conversion Rate"}),e.jsx("div",{className:"font-bold text-slate-900 text-lg",children:"+34%"})]})]})]})]})]}),e.jsxs("div",{id:"signatures",className:"scroll-mt-24 mb-32 grid md:grid-cols-2 gap-16 items-center",children:[e.jsxs("div",{className:"order-2 md:order-1 relative",children:[e.jsx("div",{className:"absolute inset-0 bg-emerald-500 rounded-3xl -rotate-2 opacity-10"}),e.jsxs("div",{className:"relative bg-white rounded-3xl p-6 shadow-2xl border border-slate-100",children:[e.jsxs("div",{className:"space-y-4 font-serif text-slate-800 opacity-80 mb-8",children:[e.jsx("div",{className:"h-4 bg-slate-100 rounded w-full"}),e.jsx("div",{className:"h-4 bg-slate-100 rounded w-5/6"}),e.jsx("div",{className:"h-4 bg-slate-100 rounded w-4/6"})]}),e.jsxs("div",{className:"flex justify-between items-end border-t border-slate-200 pt-6",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-xs text-slate-400 uppercase font-bold mb-2",children:"Signed by"}),e.jsx("div",{className:"font-handwriting text-3xl text-indigo-900",children:"John Doe"}),e.jsx("div",{className:"text-xs text-slate-400 mt-1",children:"Sep 28, 2026  10:42 AM"})]}),e.jsx("div",{className:"ml-auto",children:e.jsx("div",{className:"w-16 h-16 border-4 border-emerald-500 rounded-full flex items-center justify-center text-emerald-600 rotate-12 bg-emerald-50",children:e.jsx(f,{size:32})})})]})]})]}),e.jsxs("div",{className:"order-1 md:order-2",children:[e.jsx("div",{className:"inline-flex items-center gap-2 px-3 py-1 bg-emerald-50 text-emerald-700 rounded-full text-xs font-bold uppercase tracking-wider mb-6",children:"New Feature"}),e.jsxs("h2",{className:"text-4xl font-bold text-slate-900 mb-6 leading-tight",children:["Secure, Legally Binding ",e.jsx("br",{}),e.jsx("span",{className:"text-emerald-600",children:"Digital Signatures."})]}),e.jsx("p",{className:"text-lg text-slate-500 mb-8 leading-relaxed",children:"Stop chasing clients for printers and scanners. Upload any PDF, place signature fields, and send for e-signature in seconds."}),e.jsx("ul",{className:"space-y-4 mb-10",children:["Bank-grade security & audit trails","Unlimited signature requests","Real-time status tracking"].map(t=>e.jsxs("li",{className:"flex items-center gap-3 text-slate-700 font-medium",children:[e.jsx(f,{size:20,className:"text-emerald-500 shrink-0"}),t]},t))}),e.jsxs("button",{onClick:()=>t("/register?redirect=/signatures"),className:"px-8 py-4 bg-emerald-600 text-white rounded-full font-bold text-lg hover:bg-emerald-700 transition-all hover:scale-105 shadow-xl shadow-emerald-500/20 flex items-center gap-2",children:["Try eSignatures Free ",e.jsx(l,{size:20})]})]})]}),e.jsxs("div",{className:"max-w-3xl mx-auto mb-32",children:[e.jsx("h2",{className:"text-3xl font-bold text-slate-900 mb-8 text-center",children:"Frequently Asked Questions"}),e.jsx("div",{className:"space-y-2",children:gr.map((t,n)=>e.jsx(xr,{q:t.q,a:t.a},n))})]}),e.jsxs("div",{className:"text-center py-20 bg-indigo-600 rounded-3xl relative overflow-hidden shadow-2xl shadow-indigo-500/30",children:[e.jsx("div",{className:"absolute top-0 right-0 w-[400px] h-[400px] bg-white rounded-full blur-[100px] opacity-20 -translate-y-1/2 translate-x-1/2"}),e.jsxs("div",{className:"relative z-10 px-6",children:[e.jsx("h2",{className:"text-3xl md:text-5xl font-bold text-white mb-6",children:"Ready to look professional?"}),e.jsx("p",{className:"text-indigo-100 text-lg mb-10 max-w-xl mx-auto",children:"Create your first document now. It takes less than 2 minutes."}),e.jsx("button",{onClick:()=>document.getElementById("templates").scrollIntoView({behavior:"smooth"}),className:"px-10 py-4 bg-white text-indigo-600 rounded-full font-bold text-lg hover:bg-indigo-50 transition-all hover:scale-105 shadow-xl",children:"Start Drafting"})]})]})]})]})},wr=kt.forwardRef(({icon:t,name:n,type:s,value:i,onChange:o,placeholder:l,error:c,disabled:d},u)=>e.jsxs("div",{className:"relative group",children:[e.jsx(t,{className:"absolute left-4 top-3.5 transition-colors duration-200 "+(c?"text-red-400":"text-slate-400 group-focus-within:text-indigo-600"),size:20}),e.jsx("input",{ref:u,type:s,name:n,value:i,onChange:o,disabled:d,placeholder:l,className:"w-full bg-slate-50 border text-slate-900 text-sm rounded-xl block w-full pl-12 p-3.5 transition-all outline-none disabled:opacity-50 disabled:cursor-not-allowed "+(c?"border-red-300 focus:ring-2 focus:ring-red-200 focus:border-red-500 bg-red-50/10":"border-slate-200 focus:ring-2 focus:ring-indigo-600/20 focus:border-indigo-600 hover:border-slate-300")}),e.jsx(r,{children:c&&e.jsx(a.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"absolute right-4 top-3.5 text-red-500 pointer-events-none",children:e.jsx(b,{size:20})})}),e.jsx(r,{children:c&&e.jsx(a.p,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"text-red-500 text-xs mt-1.5 ml-1 font-medium pl-1",children:c})})]}));wr.displayName="AuthInput";const jr=({text:t="Continue with Google"})=>e.jsxs(a.button,{whileHover:{scale:1.01,backgroundColor:"#f8fafc"},whileTap:{scale:.98},type:"button",onClick:()=>{const e="http://127.0.0.1:8000/api/v1".replace(/\/api\/v1\/?$/,"");window.location.href=`${e}/auth/google`},className:"w-full bg-white border border-slate-200 text-slate-700 font-bold py-3.5 px-4 rounded-xl hover:border-slate-300 hover:shadow-sm transition-all flex items-center justify-center gap-3 relative overflow-hidden group",children:[e.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[e.jsx("path",{d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z",fill:"#4285F4"}),e.jsx("path",{d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z",fill:"#34A853"}),e.jsx("path",{d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.84z",fill:"#FBBC05"}),e.jsx("path",{d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z",fill:"#EA4335"})]}),e.jsx("span",{className:"relative z-10",children:t})]});function Nr(){const t=Ct(),n=Et(),{setToken:s}=lr(),[i,o]=kt.useState({email:"",password:""}),[l,c]=kt.useState({}),[u,h]=kt.useState(null),[m,p]=kt.useState(!1);kt.useEffect(()=>{t.state?.message&&($t.error(t.state.message,{id:"auth-error",icon:""}),window.history.replaceState({},document.title))},[t]);const f=kt.useRef(null),g=kt.useRef(null),x=e=>{o({...i,[e.target.name]:e.target.value}),l[e.target.name]&&c(t=>({...t,[e.target.name]:null}))};return e.jsxs("form",{onSubmit:async e=>{if(e.preventDefault(),h(null),(()=>{const e={};return i.email?/\S+@\S+\.\S+/.test(i.email)||(e.email="Please enter a valid email address"):e.email="Email address is required",i.password||(e.password="Password is required"),c(e),0===Object.keys(e).length})()){p(!0);try{const e=await(async e=>(await sr.post("/login",e)).data)(i);s(e.token),e.data.business?($t.dismiss(),n("/dashboard")):($t.dismiss(),n("/onboarding"))}catch(t){const e=t.response?.data?.message;h(e||"Login failed. Please check your credentials.")}finally{p(!1)}}else i.email&&/\S+@\S+\.\S+/.test(i.email)?i.password||g.current?.focus():f.current?.focus()},className:"flex flex-col gap-5",children:[e.jsx(r,{children:u&&e.jsxs(a.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"bg-red-50 text-red-600 px-4 py-3 rounded-lg text-sm border border-red-100 flex items-center gap-2 overflow-hidden",children:[e.jsx(b,{size:16,className:"shrink-0"}),u]})}),e.jsx("div",{className:"mb-2",children:e.jsx(jr,{text:"Sign in with Google"})}),e.jsxs("div",{className:"relative flex items-center justify-center mb-2",children:[e.jsx("div",{className:"absolute inset-0 flex items-center",children:e.jsx("div",{className:"w-full border-t border-slate-200"})}),e.jsx("span",{className:"relative z-10 bg-white px-2 text-xs text-slate-400 font-medium uppercase tracking-wider",children:"Or sign in with email"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx(wr,{icon:v,name:"email",type:"email",value:i.email,onChange:x,placeholder:"Email Address",ref:f,error:l.email}),e.jsx(wr,{icon:d,name:"password",type:"password",value:i.password,onChange:x,placeholder:"Password",ref:g,error:l.password})]}),e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",className:"w-4 h-4 rounded border-slate-300 text-indigo-600 focus:ring-indigo-600"}),e.jsx("span",{className:"text-slate-600",children:"Remember me"})]}),e.jsx(_t,{to:"/forgot-password",className:"text-indigo-600 hover:text-indigo-700 font-medium hover:underline",children:"Forgot Password?"})]}),e.jsx("button",{type:"submit",disabled:m,className:"w-full bg-slate-900 text-white font-bold py-3.5 px-4 rounded-xl hover:bg-slate-800 transition-all focus:ring-4 focus:ring-slate-900/20 disabled:opacity-70 disabled:cursor-not-allowed flex items-center justify-center gap-2 mt-2 relative overflow-hidden active:scale-[0.98]",children:m?e.jsxs(e.Fragment,{children:[e.jsx(y,{className:"animate-spin",size:20}),"Signing in..."]}):"Sign In"}),e.jsx("div",{className:"text-center mt-6",children:e.jsxs("p",{className:"text-slate-500 text-sm",children:["Don't have an account?"," ",e.jsx(_t,{to:"/register",className:"text-indigo-600 font-bold hover:underline",children:"Create one free"})]})})]})}const kr=({children:t,title:n,subtitle:r})=>{const s=t||e.jsx(Pt,{});return e.jsxs("div",{className:"min-h-screen flex bg-white font-sans selection:bg-indigo-100 selection:text-indigo-900",children:[e.jsxs("div",{className:"hidden lg:flex w-1/2 bg-slate-900 relative overflow-hidden items-center justify-center p-12",children:[e.jsxs("div",{className:"absolute inset-0 z-0",children:[e.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-[radial-gradient(circle_at_center,_var(--tw-gradient-stops))] from-indigo-900/60 via-slate-900 to-slate-900"}),e.jsx("div",{className:"absolute -top-32 -left-32 w-96 h-96 bg-indigo-500/20 rounded-full blur-3xl mix-blend-multiply filter animate-blob"}),e.jsx("div",{className:"absolute -bottom-32 -right-32 w-96 h-96 bg-purple-500/20 rounded-full blur-3xl mix-blend-multiply filter animate-blob animation-delay-2000"}),e.jsx("div",{className:"absolute inset-0 bg-[url('https://grainy-gradients.vercel.app/noise.svg')] opacity-20 brightness-100 contrast-150"})]}),e.jsxs("div",{className:"relative z-10 max-w-lg text-center lg:text-left",children:[e.jsxs(_t,{to:"/",className:"flex items-center gap-3 mb-12 group w-fit",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-white/10 backdrop-blur-sm border border-white/20 flex items-center justify-center group-hover:bg-white/20 transition-colors",children:e.jsx("span",{className:"text-white font-bold text-xl",children:"D"})}),e.jsx("span",{className:"font-bold text-2xl text-white",children:"DocForge"})]}),e.jsxs(a.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},children:[e.jsx(w,{className:"text-indigo-400 mb-6 w-10 h-10 opacity-50"}),e.jsxs("h2",{className:"text-3xl md:text-5xl font-bold text-white mb-6 leading-tight",children:["Build details. ",e.jsx("br",{}),e.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-indigo-400 to-purple-400",children:"Scale vision."})]}),e.jsx("p",{className:"text-lg text-slate-400 leading-relaxed mb-8",children:'"DocForge has completely transformed how we handle proposals. What used to take hours now takes minutes, and clients are impressed by the professional look."'}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 rounded-full bg-indigo-500/20 border border-indigo-500/30"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold text-white",children:"Sarah Jenkins"}),e.jsx("p",{className:"text-slate-500 text-sm",children:"CEO, Creative Studio"})]})]})]})]})]}),e.jsx("div",{className:"w-full lg:w-1/2 flex items-center justify-center p-8 lg:p-12 relative",children:e.jsxs("div",{className:"w-full max-w-md",children:[e.jsxs("div",{className:"mb-10 text-center lg:text-left",children:[n&&e.jsx(a.h2,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},className:"text-3xl font-bold text-slate-900 mb-2",children:n}),r&&e.jsx(a.p,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{delay:.1},className:"text-slate-500",children:r})]}),e.jsx(a.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.2},children:s})]})})]})};function Sr(){return e.jsx(kr,{title:"Welcome back",subtitle:"Enter your details to access your workspace.",children:e.jsx(Nr,{})})}function Cr(){const[t,n]=kt.useState({name:"",email:"",password:"",password_confirmation:""}),[s,i]=kt.useState({}),[o,l]=kt.useState(null),[c,u]=kt.useState(!1),h=Et(),{setToken:m}=lr(),p=kt.useRef(null),f=kt.useRef(null),g=kt.useRef(null),x=kt.useRef(null),w=e=>{n({...t,[e.target.name]:e.target.value}),s[e.target.name]&&i(t=>({...t,[e.target.name]:null}))},[N]=Dt(),k=N.get("redirect");return e.jsxs("form",{onSubmit:async e=>{if(e.preventDefault(),l(null),(()=>{const e={};t.name.trim()||(e.name="Full name is required"),t.email?/\S+@\S+\.\S+/.test(t.email)||(e.email="Please enter a valid email address"):e.email="Email address is required";const n=t.password;return n?n.length<12?e.password="Password must be at least 12 characters":/(?=.*[a-zA-Z])(?=.*[0-9])(?=.*[!@#$%^&*])/.test(n)||(e.password="Must contain letters, numbers, and special characters (!@#$%^&*)"):e.password="Password is required",t.password!==t.password_confirmation&&(e.password_confirmation="Passwords do not match"),i(e),0===Object.keys(e).length})()){u(!0);try{const e=await(async e=>(await sr.post("/register",e)).data)(t);m(e.token),h(k||"/verify-email-message")}catch(n){const e=n.response?.data?.message,t=n.response?.data?.errors;if(t){const n={};t.email&&(n.email=t.email[0]),t.password&&(n.password=t.password[0]),t.name&&(n.name=t.name[0]),i(n),0===Object.keys(n).length&&l(e||"Registration failed. Please fix the errors.")}else l(e||"Registration failed. Please try again.")}finally{u(!1)}}else t.name.trim()?s.email?f.current?.focus():s.password?g.current?.focus():s.password_confirmation&&x.current?.focus():p.current?.focus()},className:"flex flex-col gap-5",children:[e.jsx(r,{children:o&&e.jsxs(a.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"bg-red-50 text-red-600 px-4 py-3 rounded-lg text-sm border border-red-100 flex items-center gap-2 overflow-hidden",children:[e.jsx(b,{size:16,className:"shrink-0"}),o]})}),e.jsx("div",{className:"mb-2",children:e.jsx(jr,{text:"Sign up with Google"})}),e.jsxs("div",{className:"relative flex items-center justify-center mb-2",children:[e.jsx("div",{className:"absolute inset-0 flex items-center",children:e.jsx("div",{className:"w-full border-t border-slate-200"})}),e.jsx("span",{className:"relative z-10 bg-white px-2 text-xs text-slate-400 font-medium uppercase tracking-wider",children:"Or continue with email"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx(wr,{icon:j,name:"name",type:"text",value:t.name,onChange:w,placeholder:"Full Name",ref:p,error:s.name}),e.jsx(wr,{icon:v,name:"email",type:"email",value:t.email,onChange:w,placeholder:"Email Address",ref:f,error:s.email}),e.jsx(wr,{icon:d,name:"password",type:"password",value:t.password,onChange:w,placeholder:"Password (12+ chars, special char & number)",ref:g,error:s.password}),e.jsx(wr,{icon:d,name:"password_confirmation",type:"password",value:t.password_confirmation,onChange:w,placeholder:"Confirm Password",ref:x,error:s.password_confirmation})]}),e.jsx("button",{type:"submit",disabled:c,className:"w-full bg-slate-900 text-white font-bold py-3.5 px-4 rounded-xl hover:bg-slate-800 transition-all focus:ring-4 focus:ring-slate-900/20 disabled:opacity-70 disabled:cursor-not-allowed flex items-center justify-center gap-2 mt-4 relative overflow-hidden active:scale-[0.98]",children:c?e.jsxs(e.Fragment,{children:[e.jsx(y,{className:"animate-spin",size:20}),"Creating Account..."]}):"Register"}),e.jsx("div",{className:"text-center mt-6",children:e.jsxs("p",{className:"text-slate-500 text-sm",children:["Already have an account?"," ",e.jsx(_t,{to:"/login",className:"text-indigo-600 font-bold hover:underline",children:"Sign In"})]})})]})}function _r(){return e.jsx(kr,{title:"Start your journey",subtitle:"Join thousands of businesses managing documents with ease.",children:e.jsx(Cr,{})})}const Pr=[{id:1,title:"Company Basics",description:"Tell us about your business entity."},{id:2,title:"Demographics",description:"Where are you located?"},{id:3,title:"Branding",description:"Make it yours with a logo."},{id:4,title:"Review",description:"Almost there!"}],Er=[{label:"Agency",icon:k},{label:"Technology",icon:S},{label:"Legal",icon:C},{label:"Consulting",icon:_},{label:"Freelance",icon:P},{label:"Other",icon:N}],Dr=[{label:"Solo",value:"1",desc:"Just me"},{label:"Small",value:"2-10",desc:"Startups"},{label:"Medium",value:"11-50",desc:"Growing"},{label:"Large",value:"50+",desc:"Enterprise"}];function Or(){Et();const{setUser:t}=lr(),[n,s]=kt.useState(1),[i,o]=kt.useState(!1),[l,c]=kt.useState(""),[d,u]=kt.useState({name:"",industry:"",size:"",city:"",country:"",website:"",logo:null}),h=e=>{c(""),u({...d,[e.target.name]:e.target.value})},m=d.name&&d.industry&&d.size,p=d.city&&d.country;return e.jsx("div",{className:"min-h-screen bg-slate-50 flex items-center justify-center p-4 selection:bg-indigo-100 selection:text-indigo-900",children:e.jsxs(a.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"w-full max-w-5xl bg-white rounded-3xl shadow-2xl overflow-hidden flex flex-col md:flex-row min-h-[600px]",children:[e.jsxs("div",{className:"md:w-1/3 bg-slate-900 relative p-8 flex flex-col justify-between overflow-hidden",children:[e.jsxs("div",{className:"absolute inset-0 z-0",children:[e.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-[radial-gradient(circle_at_top_right,_var(--tw-gradient-stops))] from-indigo-900/40 via-slate-900 to-slate-900"}),e.jsx("div",{className:"absolute -bottom-20 -left-20 w-64 h-64 bg-indigo-500/20 rounded-full blur-3xl"}),e.jsx("div",{className:"absolute top-1/2 right-0 w-48 h-48 bg-purple-500/10 rounded-full blur-3xl"}),e.jsx("div",{className:"absolute inset-0 bg-[url('https://grainy-gradients.vercel.app/noise.svg')] opacity-20 contrast-150"})]}),e.jsxs("div",{className:"relative z-10",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-10 text-white font-bold text-2xl",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-white/10 border border-white/10 flex items-center justify-center backdrop-blur-md",children:"D"}),"DocForge"]}),e.jsx("nav",{className:"space-y-8",children:Pr.map(t=>{const r=t.id===n,a=t.id<n;return e.jsxs("div",{className:"flex gap-4 relative group",children:[t.id!==Pr.length&&e.jsx("div",{className:"absolute left-[15px] top-10 w-0.5 h-12 "+(a?"bg-indigo-500":"bg-slate-800")}),e.jsx("div",{className:"w-8 h-8 rounded-full flex items-center justify-center text-sm font-bold z-10 transition-all duration-300 "+(r?"bg-indigo-500 text-white shadow-lg shadow-indigo-500/40 scale-110":a?"bg-green-500 text-white":"bg-slate-800 text-slate-500 group-hover:bg-slate-700"),children:a?e.jsx(f,{size:16}):t.id}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-bold transition-colors "+(r?"text-white":a?"text-slate-300":"text-slate-500"),children:t.title}),e.jsx("p",{className:"text-xs transition-colors "+(r?"text-indigo-200":"text-slate-600"),children:t.description})]})]},t.id)})})]}),e.jsx("div",{className:"relative z-10 text-slate-500 text-xs",children:" DocForge Inc."})]}),e.jsx("div",{className:"md:w-2/3 p-8 md:p-12 flex flex-col bg-white overflow-y-auto",children:e.jsxs("div",{className:"max-w-xl mx-auto w-full flex-grow flex flex-col",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h2",{className:"text-3xl font-bold text-slate-900 mb-2",children:Pr[n-1].title}),e.jsx("p",{className:"text-slate-500",children:Pr[n-1].description})]}),l&&e.jsxs("div",{className:"mb-6 p-4 bg-red-50 text-red-600 rounded-xl border border-red-100 flex items-center gap-2",children:[e.jsx("span",{className:"w-2 h-2 rounded-full bg-red-500"}),l]}),e.jsxs("form",{onSubmit:async e=>{e.preventDefault(),o(!0),c("");const t=new FormData;Object.keys(d).forEach(e=>{null!==d[e]&&t.append(e,d[e])});try{await sr.post("/businesses",t,{headers:{"Content-Type":"multipart/form-data"}}),window.location.href="/dashboard"}catch(n){if(n.response&&n.response.data&&n.response.data.errors){const e=n.response.data.errors;if(e.logo)c(e.logo[0]);else{const t=Object.values(e)[0][0];c(t)}}else c(n.response?.data?.message||"Failed to create business. Please try again.");o(!1)}},className:"flex-grow flex flex-col",children:[e.jsxs(r,{mode:"wait",custom:n,children:[1===n&&e.jsxs(a.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.3},className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"Business Name"}),e.jsxs("div",{className:"relative group",children:[e.jsx(N,{className:"absolute left-4 top-3.5 text-slate-400 group-focus-within:text-indigo-600 transition-colors",size:20}),e.jsx("input",{name:"name",value:d.name,onChange:h,className:"w-full pl-12 p-3.5 bg-slate-50 border border-slate-200 rounded-xl focus:ring-2 focus:ring-indigo-100 focus:border-indigo-600 outline-none transition-all font-medium text-slate-800",placeholder:"e.g. Acme Corp",required:!0,autoFocus:!0})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-3",children:"Industry"}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:Er.map(t=>e.jsxs("button",{type:"button",onClick:()=>u({...d,industry:t.label}),className:"p-3 rounded-xl border-2 flex flex-col items-center gap-2 transition-all "+(d.industry===t.label?"border-indigo-600 bg-indigo-50/50 text-indigo-700":"border-slate-100 hover:border-slate-200 text-slate-600"),children:[e.jsx(t.icon,{size:24,className:d.industry===t.label?"text-indigo-600":"text-slate-400"}),e.jsx("span",{className:"text-xs font-bold",children:t.label})]},t.label))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-3",children:"Team Size"}),e.jsx("div",{className:"grid grid-cols-2 gap-3",children:Dr.map(t=>e.jsxs("button",{type:"button",onClick:()=>u({...d,size:t.value}),className:"p-3 rounded-xl border-2 text-left transition-all "+(d.size===t.value?"border-indigo-600 bg-indigo-50/50 text-indigo-700":"border-slate-100 hover:border-slate-200"),children:[e.jsx("div",{className:"font-bold text-sm",children:t.label}),e.jsx("div",{className:"text-xs opacity-70",children:t.desc})]},t.value))})]})]},"step1"),2===n&&e.jsxs(a.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.3},className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"City"}),e.jsxs("div",{className:"relative group",children:[e.jsx(E,{className:"absolute left-4 top-3.5 text-slate-400 group-focus-within:text-indigo-600 transition-colors",size:20}),e.jsx("input",{name:"city",value:d.city,onChange:h,className:"w-full pl-12 p-3.5 bg-slate-50 border border-slate-200 rounded-xl focus:ring-2 focus:ring-indigo-100 focus:border-indigo-600 outline-none transition-all font-medium text-slate-800",placeholder:"New York",required:!0,autoFocus:!0})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"Country"}),e.jsxs("div",{className:"relative group",children:[e.jsx(D,{className:"absolute left-4 top-3.5 text-slate-400 group-focus-within:text-indigo-600 transition-colors",size:20}),e.jsx("input",{name:"country",value:d.country,onChange:h,className:"w-full pl-12 p-3.5 bg-slate-50 border border-slate-200 rounded-xl focus:ring-2 focus:ring-indigo-100 focus:border-indigo-600 outline-none transition-all font-medium text-slate-800",placeholder:"USA",required:!0})]})]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:["Website ",e.jsx("span",{className:"text-slate-400 font-normal",children:"(Optional)"})]}),e.jsx("input",{name:"website",value:d.website,onChange:h,className:"w-full p-3.5 bg-slate-50 border border-slate-200 rounded-xl focus:ring-2 focus:ring-indigo-100 focus:border-indigo-600 outline-none transition-all font-medium text-slate-800",placeholder:"https://example.com"})]})]},"step2"),3===n&&e.jsx(a.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.3},className:"space-y-6 flex flex-col items-center justify-center py-8",children:e.jsxs("div",{className:"w-full max-w-sm",children:[e.jsxs("label",{className:"relative flex flex-col items-center justify-center w-full h-64 border-2 border-slate-300 border-dashed rounded-3xl cursor-pointer bg-slate-50 hover:bg-slate-100 hover:border-indigo-400 transition-all group overflow-hidden",children:[e.jsx("input",{type:"file",onChange:e=>{const t=e.target.files[0];if(t){if(!["image/png","image/jpeg","image/jpg","image/webp"].includes(t.type))return c("Invalid file type. Please upload a PNG, JPG, or WEBP file."),void(e.target.value=null);if(t.size>1048576)return c("File size exceeds 1MB. Please upload a smaller image."),void(e.target.value=null);c(""),u({...d,logo:t})}},accept:"image/*",className:"hidden"}),d.logo?e.jsxs("div",{className:"relative z-10 text-center",children:[e.jsx("div",{className:"w-20 h-20 mx-auto mb-3 rounded-xl bg-white shadow-sm flex items-center justify-center border border-slate-200",children:e.jsx("img",{src:URL.createObjectURL(d.logo),alt:"Logo preview",className:"max-w-full max-h-full rounded-lg object-contain"})}),e.jsx("p",{className:"font-bold text-slate-700",children:d.logo.name}),e.jsx("p",{className:"text-xs text-indigo-600 mt-1",children:"Click to change"})]}):e.jsxs("div",{className:"flex flex-col items-center justify-center pt-5 pb-6 text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-indigo-50 text-indigo-500 rounded-full flex items-center justify-center mb-4 group-hover:scale-110 transition-transform",children:e.jsx(O,{size:28})}),e.jsxs("p",{className:"mb-2 text-sm text-slate-600 font-medium",children:[e.jsx("span",{className:"font-bold text-indigo-600",children:"Click to upload"})," or drag and drop"]}),e.jsx("p",{className:"text-xs text-slate-500",children:"SVG, PNG, JPG or GIF (MAX. 2MB)"})]})]}),e.jsx("div",{className:"mt-6 text-center",children:e.jsx("button",{type:"button",onClick:()=>{c(""),u(e=>({...e,logo:null})),n<4&&s(e=>e+1)},className:"text-slate-400 hover:text-slate-600 text-sm font-medium",children:"Skip for now"})})]})},"step3"),4===n&&e.jsxs(a.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"flex flex-col items-center justify-center text-center py-8",children:[e.jsx("div",{className:"w-24 h-24 bg-green-100 text-green-600 rounded-full flex items-center justify-center mb-6 animate-bounce",children:e.jsx(f,{size:48})}),e.jsx("h3",{className:"text-2xl font-bold text-slate-900 mb-2",children:"You're all set!"}),e.jsxs("p",{className:"text-slate-500 max-w-sm mb-8",children:["We have everything we need to set up your workspace for ",e.jsx("span",{className:"font-bold text-slate-900",children:d.name}),"."]}),e.jsxs("div",{className:"w-full bg-slate-50 p-6 rounded-2xl text-left border border-slate-100 mb-8",children:[e.jsx("h4",{className:"font-bold text-slate-900 mb-4 text-sm uppercase tracking-wider",children:"Summary"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between border-b border-slate-200 pb-2",children:[e.jsx("span",{className:"text-slate-500",children:"Business Name"}),e.jsx("span",{className:"font-medium text-slate-900",children:d.name})]}),e.jsxs("div",{className:"flex justify-between border-b border-slate-200 pb-2",children:[e.jsx("span",{className:"text-slate-500",children:"Industry"}),e.jsx("span",{className:"font-medium text-slate-900",children:d.industry})]}),e.jsxs("div",{className:"flex justify-between border-b border-slate-200 pb-2",children:[e.jsx("span",{className:"text-slate-500",children:"Location"}),e.jsxs("span",{className:"font-medium text-slate-900",children:[d.city,", ",d.country]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-slate-500",children:"Logo"}),e.jsx("span",{className:"font-medium text-slate-900",children:d.logo?"Uploaded":"Skipped"})]})]})]})]},"step4")]}),e.jsxs("div",{className:"flex items-center justify-between mt-auto pt-8",children:[n>1?e.jsxs("button",{type:"button",onClick:()=>{n>1&&s(n-1)},disabled:i,className:"flex items-center gap-2 text-slate-500 hover:text-slate-800 font-bold px-4 py-2 hover:bg-slate-50 rounded-lg transition-colors",children:[e.jsx(T,{size:18})," Back"]}):e.jsx("div",{}),n<4?e.jsxs("button",{type:"button",onClick:()=>{l||n<4&&s(n+1)},disabled:1===n&&!m||2===n&&!p||!!l,className:"flex items-center gap-2 bg-slate-900 text-white px-8 py-3 rounded-xl font-bold hover:bg-slate-800 shadow-lg hover:shadow-xl hover:-translate-y-0.5 disabled:opacity-50 disabled:shadow-none disabled:transform-none transition-all",children:["Next ",e.jsx(M,{size:18})]}):e.jsx("button",{type:"submit",disabled:i,className:"flex items-center gap-2 bg-indigo-600 text-white px-10 py-3 rounded-xl font-bold hover:bg-indigo-700 shadow-lg shadow-indigo-500/30 hover:shadow-indigo-500/50 hover:-translate-y-0.5 disabled:opacity-70 transition-all w-full md:w-auto justify-center",children:i?e.jsx(y,{className:"animate-spin"}):"Launch Workspace"})]})]})]})})]})})}const Tr=()=>{const[t]=Dt(),n=Et(),{setToken:r,setUser:s}=lr(),i=t.get("token"),o=t.get("email"),[l,c]=kt.useState({name:"",password:"",password_confirmation:""}),[d,u]=kt.useState(!1),[h,m]=kt.useState(null),[p,g]=kt.useState(!1);kt.useEffect(()=>{i&&o||m("Invalid invitation link. Please check your email.")},[i,o]);return p?e.jsx("div",{className:"min-h-screen bg-slate-50 flex items-center justify-center p-4",children:e.jsxs(a.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"bg-white p-8 rounded-2xl shadow-xl max-w-md w-full text-center border border-slate-100",children:[e.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(f,{className:"text-green-600",size:32})}),e.jsx("h2",{className:"text-2xl font-bold text-slate-900 mb-2",children:"Welcome Aboard!"}),e.jsx("p",{className:"text-slate-600 mb-6",children:"Your account has been set up successfully. Redirecting you to the dashboard..."}),e.jsx(A,{className:"animate-spin mx-auto text-indigo-600"})]})}):e.jsx("div",{className:"min-h-screen bg-slate-50 flex items-center justify-center p-4",children:e.jsxs(a.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-2xl shadow-xl max-w-md w-full overflow-hidden border border-slate-100",children:[e.jsxs("div",{className:"bg-indigo-600 px-8 py-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-white mb-1",children:"Join the Team"}),e.jsx("p",{className:"text-indigo-100 text-sm",children:"Set up your account to get started."})]}),e.jsxs("div",{className:"p-8",children:[h&&e.jsxs("div",{className:"mb-6 p-4 bg-red-50 text-red-600 text-sm rounded-lg flex gap-3 items-start border border-red-100",children:[e.jsx(b,{size:18,className:"mt-0.5 flex-shrink-0"}),h]}),i&&o?e.jsxs("form",{onSubmit:async e=>{if(e.preventDefault(),l.password===l.password_confirmation){u(!0),m(null);try{const e=await(t={token:i,email:o,name:l.name,password:l.password,password_confirmation:l.password_confirmation},sr.post("/accept-invite",t));g(!0),e.data.token&&(localStorage.setItem("token",e.data.token),setTimeout(()=>{n("/dashboard"),window.location.reload()},1500))}catch(r){m(r.response?.data?.message||"Failed to accept invitation.")}finally{u(!1)}var t}else m("Passwords do not match")},className:"space-y-5",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1.5",children:"Full Name"}),e.jsx("input",{type:"text",required:!0,value:l.name,onChange:e=>c({...l,name:e.target.value}),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-indigo-500/20 focus:border-indigo-500 transition-colors",placeholder:"John Doe"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1.5",children:"Create Password"}),e.jsx("input",{type:"password",required:!0,minLength:8,value:l.password,onChange:e=>c({...l,password:e.target.value}),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-indigo-500/20 focus:border-indigo-500 transition-colors",placeholder:""})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1.5",children:"Confirm Password"}),e.jsx("input",{type:"password",required:!0,minLength:8,value:l.password_confirmation,onChange:e=>c({...l,password_confirmation:e.target.value}),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-indigo-500/20 focus:border-indigo-500 transition-colors",placeholder:""})]}),e.jsxs("button",{type:"submit",disabled:d,className:"w-full py-2.5 bg-indigo-600 text-white font-semibold rounded-lg hover:bg-indigo-700 focus:ring-4 focus:ring-indigo-500/20 transition-all shadow-sm flex items-center justify-center gap-2",children:[d&&e.jsx(A,{size:18,className:"animate-spin"}),"Complete Setup"]})]}):e.jsx("div",{className:"text-center",children:e.jsx("button",{onClick:()=>n("/login"),className:"text-indigo-600 font-medium hover:underline",children:"Go to Login"})})]})]})})},Mr=()=>{const[t,n]=kt.useState("idle"),[r,s]=kt.useState("");return e.jsxs("div",{className:"min-h-screen bg-[#0A0A0A] flex flex-col justify-center items-center px-4 sm:px-6 lg:px-8 relative overflow-hidden",children:[e.jsxs("div",{className:"absolute top-0 left-0 w-full h-full overflow-hidden pointer-events-none",children:[e.jsx("div",{className:"absolute top-[-10%] left-[-10%] w-[40%] h-[40%] bg-purple-500/10 rounded-full blur-[100px]"}),e.jsx("div",{className:"absolute bottom-[-10%] right-[-10%] w-[40%] h-[40%] bg-blue-500/10 rounded-full blur-[100px]"})]}),e.jsxs(a.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"max-w-md w-full space-y-8 bg-white/5 backdrop-blur-xl p-8 rounded-2xl border border-white/10 relative z-10 text-center",children:[e.jsx("div",{className:"mx-auto w-16 h-16 bg-purple-500/20 rounded-full flex items-center justify-center mb-6",children:e.jsx(v,{className:"h-8 w-8 text-purple-400"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-3xl font-bold text-white mb-2",children:"Check your inbox"}),e.jsx("p",{className:"text-gray-400 text-lg",children:"We've sent a verification link to your email."})]}),e.jsxs("div",{className:"bg-white/5 rounded-lg p-4 text-left border border-white/5",children:[e.jsx("p",{className:"text-sm text-gray-300 mb-2",children:"Click the link in the email to verify your account and unlock:"}),e.jsxs("ul",{className:"space-y-2 text-sm text-gray-400",children:[e.jsxs("li",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"w-1.5 h-1.5 bg-green-500 rounded-full"}),"Full access to all tools"]}),e.jsxs("li",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"w-1.5 h-1.5 bg-green-500 rounded-full"}),"Secure document sharing"]}),e.jsxs("li",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"w-1.5 h-1.5 bg-green-500 rounded-full"}),"Team collaboration features"]})]})]}),e.jsxs("div",{className:"pt-4 border-t border-white/10",children:[e.jsxs("p",{className:"text-sm text-gray-500",children:["Didn't receive the email? ",e.jsx("span",{className:"text-gray-400",children:"Check your spam folder or"}),e.jsx("button",{onClick:async()=>{n("loading");try{await(async()=>(await sr.post("/email/resend")).data)(),n("success"),s("Verification link resent!"),setTimeout(()=>{n("idle"),s("")},5e3)}catch(e){n("error"),s(e.response?.data?.message||"Failed to resend.")}},disabled:"loading"===t||"success"===t,className:"ml-1 text-purple-400 hover:text-purple-300 font-medium transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"loading"===t?"Sending...":"click to resend"})]}),("success"===t||"error"===t)&&e.jsx(a.p,{initial:{opacity:0,y:-5},animate:{opacity:1,y:0},className:"text-xs mt-2 font-medium "+("success"===t?"text-green-400":"text-red-400"),children:r})]}),e.jsx("div",{className:"text-sm",children:e.jsxs(_t,{to:"/login",className:"text-gray-500 hover:text-white transition-colors flex items-center justify-center gap-2 group",children:["Back to login ",e.jsx(l,{className:"w-4 h-4 group-hover:translate-x-1 transition-transform"})]})})]})]})},Ar=()=>{const[t]=Dt(),n=Et(),{fetchUser:r}=lr(),[s,i]=kt.useState("verifying"),[o,l]=kt.useState("Verifying your email...");return kt.useEffect(()=>{(async()=>{const e=t.get("verify_url");if(!e)return i("error"),void l("Invalid verification link.");try{await sr.get(e),i("success"),l("Email verified successfully!"),await r(),setTimeout(()=>{localStorage.getItem("token")?n("/onboarding"):n("/login",{state:{message:"Email verified successfully! Please log in to continue."}})},2e3)}catch(a){i("error");const e=a.response?.data?.message||"Verification failed. The link may be expired.";l(e),$t.error(e)}})()},[t,n,r]),e.jsxs("div",{className:"min-h-screen bg-[#0A0A0A] flex justify-center items-center px-4 relative overflow-hidden",children:[e.jsxs("div",{className:"absolute top-0 left-0 w-full h-full overflow-hidden pointer-events-none",children:[e.jsx("div",{className:"absolute top-[-10%] right-[-10%] w-[40%] h-[40%] bg-purple-500/10 rounded-full blur-[100px]"}),e.jsx("div",{className:"absolute bottom-[-10%] left-[-10%] w-[40%] h-[40%] bg-blue-500/10 rounded-full blur-[100px]"})]}),e.jsxs(a.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"max-w-md w-full bg-white/5 backdrop-blur-xl p-8 rounded-2xl border border-white/10 flex flex-col items-center text-center relative z-10",children:["verifying"===s&&e.jsxs(e.Fragment,{children:[e.jsx(y,{className:"w-12 h-12 text-blue-500 animate-spin mb-4"}),e.jsx("h2",{className:"text-xl font-semibold text-white",children:"Verifying..."}),e.jsx("p",{className:"text-gray-400 mt-2",children:"Please wait while we secure your account."})]}),"success"===s&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-16 h-16 bg-green-500/20 rounded-full flex items-center justify-center mb-4",children:e.jsx(z,{className:"w-8 h-8 text-green-500"})}),e.jsx("h2",{className:"text-2xl font-bold text-white",children:"Verified!"}),e.jsx("p",{className:"text-gray-400 mt-2",children:o}),e.jsx("p",{className:"text-sm text-gray-500 mt-4",children:"Redirecting to onboarding..."})]}),"error"===s&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-16 h-16 bg-red-500/20 rounded-full flex items-center justify-center mb-4",children:e.jsx(R,{className:"w-8 h-8 text-red-500"})}),e.jsx("h2",{className:"text-xl font-bold text-white",children:"Verification Failed"}),e.jsx("p",{className:"text-gray-400 mt-2",children:o}),e.jsx("button",{onClick:()=>n("/login"),className:"mt-6 px-6 py-2 bg-white/10 hover:bg-white/20 text-white rounded-lg transition-colors border border-white/10",children:"Back to Login"})]})]})]})},zr=()=>{const[t,n]=kt.useState(""),[r,a]=kt.useState(!1),[s,i]=kt.useState(null),[o,l]=kt.useState(!1);return o?e.jsx(kr,{title:"Check your inbox",subtitle:"We've sent you a password reset link.",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"mx-auto w-12 h-12 bg-green-100 rounded-full flex items-center justify-center mb-6",children:e.jsx(v,{className:"text-green-600",size:24})}),e.jsxs("p",{className:"text-slate-600 mb-6",children:["We sent a password reset link to ",e.jsx("strong",{children:t}),". Please check your email and follow the instructions to reset your password."]}),e.jsxs(_t,{to:"/login",className:"inline-flex items-center text-sm font-medium text-indigo-600 hover:text-indigo-500",children:[e.jsx(I,{className:"mr-2",size:16}),"Back to sign in"]})]})}):e.jsx(kr,{title:"Reset password",subtitle:"Enter your email and we'll send you a reset link.",children:e.jsxs("form",{onSubmit:async e=>{e.preventDefault(),i(null),a(!0);try{await(async e=>await sr.post("/forgot-password",{email:e}))(t),l(!0)}catch(n){i(n.response?.data?.message||n.response?.data?.errors?.email?.[0]||"Failed to send reset link.")}finally{a(!1)}},className:"space-y-6",children:[s&&e.jsx("div",{className:"bg-red-50 text-red-600 px-4 py-3 rounded-lg text-sm border border-red-100",children:s}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-slate-700",children:"Email address"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(v,{className:"h-5 w-5 text-slate-400"})}),e.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:t,onChange:e=>n(e.target.value),className:"block w-full pl-10 pr-3 py-2 border border-slate-300 rounded-lg focus:ring-indigo-500 focus:border-indigo-500 text-sm",placeholder:"you@example.com"})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("button",{type:"submit",disabled:r,className:"w-full flex justify-center py-2.5 px-4 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-slate-900 hover:bg-slate-800 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-slate-900 disabled:opacity-50 disabled:cursor-not-allowed",children:r?e.jsxs(e.Fragment,{children:[e.jsx(y,{className:"animate-spin -ml-1 mr-2 h-4 w-4"}),"Sending link..."]}):"Send reset link"}),e.jsx("div",{className:"text-center",children:e.jsxs(_t,{to:"/login",className:"inline-flex items-center text-sm font-medium text-slate-600 hover:text-slate-900",children:[e.jsx(I,{className:"mr-2",size:16}),"Back to sign in"]})})]})]})})},Rr=()=>{const{token:t}=Ot(),[n]=Dt(),r=Et(),a=n.get("email"),[s,i]=kt.useState(""),[o,l]=kt.useState(""),[c,u]=kt.useState(!1),[h,m]=kt.useState(null),[p,g]=kt.useState(!1);return p?e.jsx(kr,{title:"Password Reset",subtitle:"Your password has been successfully reset.",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"mx-auto w-12 h-12 bg-green-100 rounded-full flex items-center justify-center mb-6",children:e.jsx(f,{className:"text-green-600",size:24})}),e.jsx("p",{className:"text-slate-600 mb-6",children:"You will be redirected to the login page momentarily."}),e.jsxs(_t,{to:"/login",className:"inline-flex items-center text-sm font-medium text-indigo-600 hover:text-indigo-500",children:[e.jsx(I,{className:"mr-2",size:16}),"Go to Sign In"]})]})}):e.jsx(kr,{title:"Set new password",subtitle:"Your new password must be different to previously used passwords.",children:e.jsxs("form",{onSubmit:async e=>{if(e.preventDefault(),m(null),s===o)if(s.length<8)m("Password must be at least 8 characters");else{u(!0);try{await(async e=>await sr.post("/reset-password",e))({token:t,email:a,password:s,password_confirmation:o}),g(!0),setTimeout(()=>{r("/login",{state:{message:"Password reset successfully. Please login with your new password."}})},3e3)}catch(n){m(n.response?.data?.message||n.response?.data?.errors?.password?.[0]||"Failed to reset password.")}finally{u(!1)}}else m("Passwords do not match")},className:"space-y-6",children:[h&&e.jsx("div",{className:"bg-red-50 text-red-600 px-4 py-3 rounded-lg text-sm border border-red-100",children:h}),e.jsx("input",{type:"hidden",name:"email",value:a||""}),e.jsx("input",{type:"hidden",name:"token",value:t||""}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-slate-700",children:"New Password"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(d,{className:"h-5 w-5 text-slate-400"})}),e.jsx("input",{id:"password",name:"password",type:"password",required:!0,value:s,onChange:e=>i(e.target.value),className:"block w-full pl-10 pr-3 py-2 border border-slate-300 rounded-lg focus:ring-indigo-500 focus:border-indigo-500 text-sm",placeholder:""})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{htmlFor:"password_confirmation",className:"block text-sm font-medium text-slate-700",children:"Confirm Password"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(d,{className:"h-5 w-5 text-slate-400"})}),e.jsx("input",{id:"password_confirmation",name:"password_confirmation",type:"password",required:!0,value:o,onChange:e=>l(e.target.value),className:"block w-full pl-10 pr-3 py-2 border border-slate-300 rounded-lg focus:ring-indigo-500 focus:border-indigo-500 text-sm",placeholder:""})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("button",{type:"submit",disabled:c,className:"w-full flex justify-center py-2.5 px-4 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-slate-900 hover:bg-slate-800 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-slate-900 disabled:opacity-50 disabled:cursor-not-allowed",children:c?e.jsxs(e.Fragment,{children:[e.jsx(y,{className:"animate-spin -ml-1 mr-2 h-4 w-4"}),"Resetting password..."]}):"Reset password"}),e.jsx("div",{className:"text-center",children:e.jsxs(_t,{to:"/login",className:"inline-flex items-center text-sm font-medium text-slate-600 hover:text-slate-900",children:[e.jsx(I,{className:"mr-2",size:16}),"Back to sign in"]})})]})]})})},Ir=()=>{const t=Et(),n=Ct(),{setToken:r}=lr();return kt.useEffect(()=>{const e=new URLSearchParams(n.search),a=e.get("token"),s=e.get("error");a?(r(a),t("/dashboard")):t("/login",{state:{message:s||"Login failed. Please try again."}})},[n,t,r]),e.jsx("div",{className:"min-h-screen bg-slate-50 flex items-center justify-center",children:e.jsxs("div",{className:"flex flex-col items-center gap-4",children:[e.jsx(y,{className:"animate-spin text-indigo-600",size:40}),e.jsx("p",{className:"text-slate-600 font-medium",children:"Authenticating..."})]})})};function Fr(e){return e+.5|0}const Lr=(e,t,n)=>Math.max(Math.min(e,n),t);function Br(e){return Lr(Fr(2.55*e),0,255)}function $r(e){return Lr(Fr(255*e),0,255)}function Wr(e){return Lr(Fr(e/2.55)/100,0,1)}function Ur(e){return Lr(Fr(100*e),0,100)}const Hr={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},Vr=[..."0123456789ABCDEF"],qr=e=>Vr[15&e],Yr=e=>Vr[(240&e)>>4]+Vr[15&e],Gr=e=>(240&e)>>4==(15&e);function Kr(e){var t=(e=>Gr(e.r)&&Gr(e.g)&&Gr(e.b)&&Gr(e.a))(e)?qr:Yr;return e?"#"+t(e.r)+t(e.g)+t(e.b)+((e,t)=>e<255?t(e):"")(e.a,t):void 0}const Xr=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function Qr(e,t,n){const r=t*Math.min(n,1-n),a=(t,a=(t+e/30)%12)=>n-r*Math.max(Math.min(a-3,9-a,1),-1);return[a(0),a(8),a(4)]}function Jr(e,t,n){const r=(r,a=(r+e/60)%6)=>n-n*t*Math.max(Math.min(a,4-a,1),0);return[r(5),r(3),r(1)]}function Zr(e,t,n){const r=Qr(e,1,.5);let a;for(t+n>1&&(a=1/(t+n),t*=a,n*=a),a=0;a<3;a++)r[a]*=1-t-n,r[a]+=t;return r}function ea(e){const t=e.r/255,n=e.g/255,r=e.b/255,a=Math.max(t,n,r),s=Math.min(t,n,r),i=(a+s)/2;let o,l,c;return a!==s&&(c=a-s,l=i>.5?c/(2-a-s):c/(a+s),o=function(e,t,n,r,a){return e===a?(t-n)/r+(t<n?6:0):t===a?(n-e)/r+2:(e-t)/r+4}(t,n,r,c,a),o=60*o+.5),[0|o,l||0,i]}function ta(e,t,n,r){return(Array.isArray(t)?e(t[0],t[1],t[2]):e(t,n,r)).map($r)}function na(e,t,n){return ta(Qr,e,t,n)}function ra(e){return(e%360+360)%360}function aa(e){const t=Xr.exec(e);let n,r=255;if(!t)return;t[5]!==n&&(r=t[6]?Br(+t[5]):$r(+t[5]));const a=ra(+t[2]),s=+t[3]/100,i=+t[4]/100;return n="hwb"===t[1]?function(e,t,n){return ta(Zr,e,t,n)}(a,s,i):"hsv"===t[1]?function(e,t,n){return ta(Jr,e,t,n)}(a,s,i):na(a,s,i),{r:n[0],g:n[1],b:n[2],a:r}}const sa={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},ia={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};let oa;function la(e){oa||(oa=function(){const e={},t=Object.keys(ia),n=Object.keys(sa);let r,a,s,i,o;for(r=0;r<t.length;r++){for(i=o=t[r],a=0;a<n.length;a++)s=n[a],o=o.replace(s,sa[s]);s=parseInt(ia[i],16),e[o]=[s>>16&255,s>>8&255,255&s]}return e}(),oa.transparent=[0,0,0,0]);const t=oa[e.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:4===t.length?t[3]:255}}const ca=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;const da=e=>e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055,ua=e=>e<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4);function ha(e,t,n){if(e){let r=ea(e);r[t]=Math.max(0,Math.min(r[t]+r[t]*n,0===t?360:1)),r=na(r),e.r=r[0],e.g=r[1],e.b=r[2]}}function ma(e,t){return e?Object.assign(t||{},e):e}function pa(e){var t={r:0,g:0,b:0,a:255};return Array.isArray(e)?e.length>=3&&(t={r:e[0],g:e[1],b:e[2],a:255},e.length>3&&(t.a=$r(e[3]))):(t=ma(e,{r:0,g:0,b:0,a:1})).a=$r(t.a),t}function fa(e){return"r"===e.charAt(0)?function(e){const t=ca.exec(e);let n,r,a,s=255;if(t){if(t[7]!==n){const e=+t[7];s=t[8]?Br(e):Lr(255*e,0,255)}return n=+t[1],r=+t[3],a=+t[5],n=255&(t[2]?Br(n):Lr(n,0,255)),r=255&(t[4]?Br(r):Lr(r,0,255)),a=255&(t[6]?Br(a):Lr(a,0,255)),{r:n,g:r,b:a,a:s}}}(e):aa(e)}let ga=class e{constructor(t){if(t instanceof e)return t;const n=typeof t;let r;var a,s,i;"object"===n?r=pa(t):"string"===n&&(i=(a=t).length,"#"===a[0]&&(4===i||5===i?s={r:255&17*Hr[a[1]],g:255&17*Hr[a[2]],b:255&17*Hr[a[3]],a:5===i?17*Hr[a[4]]:255}:7!==i&&9!==i||(s={r:Hr[a[1]]<<4|Hr[a[2]],g:Hr[a[3]]<<4|Hr[a[4]],b:Hr[a[5]]<<4|Hr[a[6]],a:9===i?Hr[a[7]]<<4|Hr[a[8]]:255})),r=s||la(t)||fa(t)),this._rgb=r,this._valid=!!r}get valid(){return this._valid}get rgb(){var e=ma(this._rgb);return e&&(e.a=Wr(e.a)),e}set rgb(e){this._rgb=pa(e)}rgbString(){return this._valid?(e=this._rgb)&&(e.a<255?`rgba(${e.r}, ${e.g}, ${e.b}, ${Wr(e.a)})`:`rgb(${e.r}, ${e.g}, ${e.b})`):void 0;var e}hexString(){return this._valid?Kr(this._rgb):void 0}hslString(){return this._valid?function(e){if(!e)return;const t=ea(e),n=t[0],r=Ur(t[1]),a=Ur(t[2]);return e.a<255?`hsla(${n}, ${r}%, ${a}%, ${Wr(e.a)})`:`hsl(${n}, ${r}%, ${a}%)`}(this._rgb):void 0}mix(e,t){if(e){const n=this.rgb,r=e.rgb;let a;const s=t===a?.5:t,i=2*s-1,o=n.a-r.a,l=((i*o===-1?i:(i+o)/(1+i*o))+1)/2;a=1-l,n.r=255&l*n.r+a*r.r+.5,n.g=255&l*n.g+a*r.g+.5,n.b=255&l*n.b+a*r.b+.5,n.a=s*n.a+(1-s)*r.a,this.rgb=n}return this}interpolate(e,t){return e&&(this._rgb=function(e,t,n){const r=ua(Wr(e.r)),a=ua(Wr(e.g)),s=ua(Wr(e.b));return{r:$r(da(r+n*(ua(Wr(t.r))-r))),g:$r(da(a+n*(ua(Wr(t.g))-a))),b:$r(da(s+n*(ua(Wr(t.b))-s))),a:e.a+n*(t.a-e.a)}}(this._rgb,e._rgb,t)),this}clone(){return new e(this.rgb)}alpha(e){return this._rgb.a=$r(e),this}clearer(e){return this._rgb.a*=1-e,this}greyscale(){const e=this._rgb,t=Fr(.3*e.r+.59*e.g+.11*e.b);return e.r=e.g=e.b=t,this}opaquer(e){return this._rgb.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return ha(this._rgb,2,e),this}darken(e){return ha(this._rgb,2,-e),this}saturate(e){return ha(this._rgb,1,e),this}desaturate(e){return ha(this._rgb,1,-e),this}rotate(e){return function(e,t){var n=ea(e);n[0]=ra(n[0]+t),n=na(n),e.r=n[0],e.g=n[1],e.b=n[2]}(this._rgb,e),this}};function xa(){}const ba=(()=>{let e=0;return()=>e++})();function va(e){return null==e}function ya(e){if(Array.isArray&&Array.isArray(e))return!0;const t=Object.prototype.toString.call(e);return"[object"===t.slice(0,7)&&"Array]"===t.slice(-6)}function wa(e){return null!==e&&"[object Object]"===Object.prototype.toString.call(e)}function ja(e){return("number"==typeof e||e instanceof Number)&&isFinite(+e)}function Na(e,t){return ja(e)?e:t}function ka(e,t){return void 0===e?t:e}const Sa=(e,t)=>"string"==typeof e&&e.endsWith("%")?parseFloat(e)/100*t:+e;function Ca(e,t,n){if(e&&"function"==typeof e.call)return e.apply(n,t)}function _a(e,t,n,r){let a,s,i;if(ya(e))for(s=e.length,a=0;a<s;a++)t.call(n,e[a],a);else if(wa(e))for(i=Object.keys(e),s=i.length,a=0;a<s;a++)t.call(n,e[i[a]],i[a])}function Pa(e,t){let n,r,a,s;if(!e||!t||e.length!==t.length)return!1;for(n=0,r=e.length;n<r;++n)if(a=e[n],s=t[n],a.datasetIndex!==s.datasetIndex||a.index!==s.index)return!1;return!0}function Ea(e){if(ya(e))return e.map(Ea);if(wa(e)){const t=Object.create(null),n=Object.keys(e),r=n.length;let a=0;for(;a<r;++a)t[n[a]]=Ea(e[n[a]]);return t}return e}function Da(e){return-1===["__proto__","prototype","constructor"].indexOf(e)}function Oa(e,t,n,r){if(!Da(e))return;const a=t[e],s=n[e];wa(a)&&wa(s)?Ta(a,s,r):t[e]=Ea(s)}function Ta(e,t,n){const r=ya(t)?t:[t],a=r.length;if(!wa(e))return e;const s=(n=n||{}).merger||Oa;let i;for(let o=0;o<a;++o){if(i=r[o],!wa(i))continue;const t=Object.keys(i);for(let r=0,a=t.length;r<a;++r)s(t[r],e,i,n)}return e}function Ma(e,t){return Ta(e,t,{merger:Aa})}function Aa(e,t,n){if(!Da(e))return;const r=t[e],a=n[e];wa(r)&&wa(a)?Ma(r,a):Object.prototype.hasOwnProperty.call(t,e)||(t[e]=Ea(a))}const za={"":e=>e,x:e=>e.x,y:e=>e.y};function Ra(e,t){const n=za[t]||(za[t]=function(e){const t=function(e){const t=e.split("."),n=[];let r="";for(const a of t)r+=a,r.endsWith("\\")?r=r.slice(0,-1)+".":(n.push(r),r="");return n}(e);return e=>{for(const n of t){if(""===n)break;e=e&&e[n]}return e}}(t));return n(e)}function Ia(e){return e.charAt(0).toUpperCase()+e.slice(1)}const Fa=e=>void 0!==e,La=e=>"function"==typeof e,Ba=(e,t)=>{if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0};const $a=Math.PI,Wa=2*$a,Ua=Wa+$a,Ha=Number.POSITIVE_INFINITY,Va=$a/180,qa=$a/2,Ya=$a/4,Ga=2*$a/3,Ka=Math.log10,Xa=Math.sign;function Qa(e,t,n){return Math.abs(e-t)<n}function Ja(e){const t=Math.round(e);e=Qa(e,t,e/1e3)?t:e;const n=Math.pow(10,Math.floor(Ka(e))),r=e/n;return(r<=1?1:r<=2?2:r<=5?5:10)*n}function Za(e){return!function(e){return"symbol"==typeof e||"object"==typeof e&&null!==e&&!(Symbol.toPrimitive in e||"toString"in e||"valueOf"in e)}(e)&&!isNaN(parseFloat(e))&&isFinite(e)}function es(e){return e*($a/180)}function ts(e){if(!ja(e))return;let t=1,n=0;for(;Math.round(e*t)/t!==e;)t*=10,n++;return n}function ns(e,t){const n=t.x-e.x,r=t.y-e.y,a=Math.sqrt(n*n+r*r);let s=Math.atan2(r,n);return s<-.5*$a&&(s+=Wa),{angle:s,distance:a}}function rs(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function as(e,t){return(e-t+Ua)%Wa-$a}function ss(e){return(e%Wa+Wa)%Wa}function is(e,t,n,r){const a=ss(e),s=ss(t),i=ss(n),o=ss(s-a),l=ss(i-a),c=ss(a-s),d=ss(a-i);return a===s||a===i||r&&s===i||o>l&&c<d}function os(e,t,n){return Math.max(t,Math.min(n,e))}function ls(e,t,n,r=1e-6){return e>=Math.min(t,n)-r&&e<=Math.max(t,n)+r}function cs(e,t,n){n=n||(n=>e[n]<t);let r,a=e.length-1,s=0;for(;a-s>1;)r=s+a>>1,n(r)?s=r:a=r;return{lo:s,hi:a}}const ds=(e,t,n,r)=>cs(e,n,r?r=>{const a=e[r][t];return a<n||a===n&&e[r+1][t]===n}:r=>e[r][t]<n),us=(e,t,n)=>cs(e,n,r=>e[r][t]>=n);const hs=["push","pop","shift","splice","unshift"];function ms(e,t){const n=e._chartjs;if(!n)return;const r=n.listeners,a=r.indexOf(t);-1!==a&&r.splice(a,1),r.length>0||(hs.forEach(t=>{delete e[t]}),delete e._chartjs)}const ps="undefined"==typeof window?function(e){return e()}:window.requestAnimationFrame;function fs(e,t){let n=[],r=!1;return function(...a){n=a,r||(r=!0,ps.call(window,()=>{r=!1,e.apply(t,n)}))}}const gs=e=>"start"===e?"left":"end"===e?"right":"center",xs=(e,t,n)=>"start"===e?t:"end"===e?n:(t+n)/2;const bs=e=>0===e||1===e,vs=(e,t,n)=>-Math.pow(2,10*(e-=1))*Math.sin((e-t)*Wa/n),ys=(e,t,n)=>Math.pow(2,-10*e)*Math.sin((e-t)*Wa/n)+1,ws={linear:e=>e,easeInQuad:e=>e*e,easeOutQuad:e=>-e*(e-2),easeInOutQuad:e=>(e/=.5)<1?.5*e*e:-.5*(--e*(e-2)-1),easeInCubic:e=>e*e*e,easeOutCubic:e=>(e-=1)*e*e+1,easeInOutCubic:e=>(e/=.5)<1?.5*e*e*e:.5*((e-=2)*e*e+2),easeInQuart:e=>e*e*e*e,easeOutQuart:e=>-((e-=1)*e*e*e-1),easeInOutQuart:e=>(e/=.5)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2),easeInQuint:e=>e*e*e*e*e,easeOutQuint:e=>(e-=1)*e*e*e*e+1,easeInOutQuint:e=>(e/=.5)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2),easeInSine:e=>1-Math.cos(e*qa),easeOutSine:e=>Math.sin(e*qa),easeInOutSine:e=>-.5*(Math.cos($a*e)-1),easeInExpo:e=>0===e?0:Math.pow(2,10*(e-1)),easeOutExpo:e=>1===e?1:1-Math.pow(2,-10*e),easeInOutExpo:e=>bs(e)?e:e<.5?.5*Math.pow(2,10*(2*e-1)):.5*(2-Math.pow(2,-10*(2*e-1))),easeInCirc:e=>e>=1?e:-(Math.sqrt(1-e*e)-1),easeOutCirc:e=>Math.sqrt(1-(e-=1)*e),easeInOutCirc:e=>(e/=.5)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1),easeInElastic:e=>bs(e)?e:vs(e,.075,.3),easeOutElastic:e=>bs(e)?e:ys(e,.075,.3),easeInOutElastic(e){const t=.1125;return bs(e)?e:e<.5?.5*vs(2*e,t,.45):.5+.5*ys(2*e-1,t,.45)},easeInBack(e){const t=1.70158;return e*e*((t+1)*e-t)},easeOutBack(e){const t=1.70158;return(e-=1)*e*((t+1)*e+t)+1},easeInOutBack(e){let t=1.70158;return(e/=.5)<1?e*e*((1+(t*=1.525))*e-t)*.5:.5*((e-=2)*e*((1+(t*=1.525))*e+t)+2)},easeInBounce:e=>1-ws.easeOutBounce(1-e),easeOutBounce(e){const t=7.5625,n=2.75;return e<1/n?t*e*e:e<2/n?t*(e-=1.5/n)*e+.75:e<2.5/n?t*(e-=2.25/n)*e+.9375:t*(e-=2.625/n)*e+.984375},easeInOutBounce:e=>e<.5?.5*ws.easeInBounce(2*e):.5*ws.easeOutBounce(2*e-1)+.5};function js(e){if(e&&"object"==typeof e){const t=e.toString();return"[object CanvasPattern]"===t||"[object CanvasGradient]"===t}return!1}function Ns(e){return js(e)?e:new ga(e)}function ks(e){return js(e)?e:new ga(e).saturate(.5).darken(.1).hexString()}const Ss=["x","y","borderWidth","radius","tension"],Cs=["color","borderColor","backgroundColor"];const _s=new Map;function Ps(e,t,n){return function(e,t){t=t||{};const n=e+JSON.stringify(t);let r=_s.get(n);return r||(r=new Intl.NumberFormat(e,t),_s.set(n,r)),r}(t,n).format(e)}var Es={formatters:{values:e=>ya(e)?e:""+e,numeric(e,t,n){if(0===e)return"0";const r=this.chart.options.locale;let a,s=e;if(n.length>1){const t=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(t<1e-4||t>1e15)&&(a="scientific"),s=function(e,t){let n=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;Math.abs(n)>=1&&e!==Math.floor(e)&&(n=e-Math.floor(e));return n}(e,n)}const i=Ka(Math.abs(s)),o=isNaN(i)?1:Math.max(Math.min(-1*Math.floor(i),20),0),l={notation:a,minimumFractionDigits:o,maximumFractionDigits:o};return Object.assign(l,this.options.ticks.format),Ps(e,r,l)}}};const Ds=Object.create(null),Os=Object.create(null);function Ts(e,t){if(!t)return e;const n=t.split(".");for(let r=0,a=n.length;r<a;++r){const t=n[r];e=e[t]||(e[t]=Object.create(null))}return e}function Ms(e,t,n){return"string"==typeof t?Ta(Ts(e,t),n):Ta(Ts(e,""),t)}class As{constructor(e,t){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=e=>e.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(e,t)=>ks(t.backgroundColor),this.hoverBorderColor=(e,t)=>ks(t.borderColor),this.hoverColor=(e,t)=>ks(t.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(t)}set(e,t){return Ms(this,e,t)}get(e){return Ts(this,e)}describe(e,t){return Ms(Os,e,t)}override(e,t){return Ms(Ds,e,t)}route(e,t,n,r){const a=Ts(this,e),s=Ts(this,n),i="_"+t;Object.defineProperties(a,{[i]:{value:a[t],writable:!0},[t]:{enumerable:!0,get(){const e=this[i],t=s[r];return wa(e)?Object.assign({},t,e):ka(e,t)},set(e){this[i]=e}}})}apply(e){e.forEach(e=>e(this))}}var zs=new As({_scriptable:e=>!e.startsWith("on"),_indexable:e=>"events"!==e,hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[function(e){e.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),e.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>"onProgress"!==e&&"onComplete"!==e&&"fn"!==e}),e.set("animations",{colors:{type:"color",properties:Cs},numbers:{type:"number",properties:Ss}}),e.describe("animations",{_fallback:"animation"}),e.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>0|e}}}})},function(e){e.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})},function(e){e.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,t)=>t.lineWidth,tickColor:(e,t)=>t.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:Es.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),e.route("scale.ticks","color","","color"),e.route("scale.grid","color","","borderColor"),e.route("scale.border","color","","borderColor"),e.route("scale.title","color","","color"),e.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&"callback"!==e&&"parser"!==e,_indexable:e=>"borderDash"!==e&&"tickBorderDash"!==e&&"dash"!==e}),e.describe("scales",{_fallback:"scale"}),e.describe("scale.ticks",{_scriptable:e=>"backdropPadding"!==e&&"callback"!==e,_indexable:e=>"backdropPadding"!==e})}]);function Rs(e,t,n,r,a){let s=t[a];return s||(s=t[a]=e.measureText(a).width,n.push(a)),s>r&&(r=s),r}function Is(e,t,n){const r=e.currentDevicePixelRatio,a=0!==n?Math.max(n/2,.5):0;return Math.round((t-a)*r)/r+a}function Fs(e,t){(t||e)&&((t=t||e.getContext("2d")).save(),t.resetTransform(),t.clearRect(0,0,e.width,e.height),t.restore())}function Ls(e,t,n,r){Bs(e,t,n,r,null)}function Bs(e,t,n,r,a){let s,i,o,l,c,d,u,h;const m=t.pointStyle,p=t.rotation,f=t.radius;let g=(p||0)*Va;if(m&&"object"==typeof m&&(s=m.toString(),"[object HTMLImageElement]"===s||"[object HTMLCanvasElement]"===s))return e.save(),e.translate(n,r),e.rotate(g),e.drawImage(m,-m.width/2,-m.height/2,m.width,m.height),void e.restore();if(!(isNaN(f)||f<=0)){switch(e.beginPath(),m){default:a?e.ellipse(n,r,a/2,f,0,0,Wa):e.arc(n,r,f,0,Wa),e.closePath();break;case"triangle":d=a?a/2:f,e.moveTo(n+Math.sin(g)*d,r-Math.cos(g)*f),g+=Ga,e.lineTo(n+Math.sin(g)*d,r-Math.cos(g)*f),g+=Ga,e.lineTo(n+Math.sin(g)*d,r-Math.cos(g)*f),e.closePath();break;case"rectRounded":c=.516*f,l=f-c,i=Math.cos(g+Ya)*l,u=Math.cos(g+Ya)*(a?a/2-c:l),o=Math.sin(g+Ya)*l,h=Math.sin(g+Ya)*(a?a/2-c:l),e.arc(n-u,r-o,c,g-$a,g-qa),e.arc(n+h,r-i,c,g-qa,g),e.arc(n+u,r+o,c,g,g+qa),e.arc(n-h,r+i,c,g+qa,g+$a),e.closePath();break;case"rect":if(!p){l=Math.SQRT1_2*f,d=a?a/2:l,e.rect(n-d,r-l,2*d,2*l);break}g+=Ya;case"rectRot":u=Math.cos(g)*(a?a/2:f),i=Math.cos(g)*f,o=Math.sin(g)*f,h=Math.sin(g)*(a?a/2:f),e.moveTo(n-u,r-o),e.lineTo(n+h,r-i),e.lineTo(n+u,r+o),e.lineTo(n-h,r+i),e.closePath();break;case"crossRot":g+=Ya;case"cross":u=Math.cos(g)*(a?a/2:f),i=Math.cos(g)*f,o=Math.sin(g)*f,h=Math.sin(g)*(a?a/2:f),e.moveTo(n-u,r-o),e.lineTo(n+u,r+o),e.moveTo(n+h,r-i),e.lineTo(n-h,r+i);break;case"star":u=Math.cos(g)*(a?a/2:f),i=Math.cos(g)*f,o=Math.sin(g)*f,h=Math.sin(g)*(a?a/2:f),e.moveTo(n-u,r-o),e.lineTo(n+u,r+o),e.moveTo(n+h,r-i),e.lineTo(n-h,r+i),g+=Ya,u=Math.cos(g)*(a?a/2:f),i=Math.cos(g)*f,o=Math.sin(g)*f,h=Math.sin(g)*(a?a/2:f),e.moveTo(n-u,r-o),e.lineTo(n+u,r+o),e.moveTo(n+h,r-i),e.lineTo(n-h,r+i);break;case"line":i=a?a/2:Math.cos(g)*f,o=Math.sin(g)*f,e.moveTo(n-i,r-o),e.lineTo(n+i,r+o);break;case"dash":e.moveTo(n,r),e.lineTo(n+Math.cos(g)*(a?a/2:f),r+Math.sin(g)*f);break;case!1:e.closePath()}e.fill(),t.borderWidth>0&&e.stroke()}}function $s(e,t,n){return n=n||.5,!t||e&&e.x>t.left-n&&e.x<t.right+n&&e.y>t.top-n&&e.y<t.bottom+n}function Ws(e,t){e.save(),e.beginPath(),e.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),e.clip()}function Us(e){e.restore()}function Hs(e,t,n,r,a){if(!t)return e.lineTo(n.x,n.y);if("middle"===a){const r=(t.x+n.x)/2;e.lineTo(r,t.y),e.lineTo(r,n.y)}else"after"===a!=!!r?e.lineTo(t.x,n.y):e.lineTo(n.x,t.y);e.lineTo(n.x,n.y)}function Vs(e,t,n,r){if(!t)return e.lineTo(n.x,n.y);e.bezierCurveTo(r?t.cp1x:t.cp2x,r?t.cp1y:t.cp2y,r?n.cp2x:n.cp1x,r?n.cp2y:n.cp1y,n.x,n.y)}function qs(e,t,n,r,a){if(a.strikethrough||a.underline){const s=e.measureText(r),i=t-s.actualBoundingBoxLeft,o=t+s.actualBoundingBoxRight,l=n-s.actualBoundingBoxAscent,c=n+s.actualBoundingBoxDescent,d=a.strikethrough?(l+c)/2:c;e.strokeStyle=e.fillStyle,e.beginPath(),e.lineWidth=a.decorationWidth||2,e.moveTo(i,d),e.lineTo(o,d),e.stroke()}}function Ys(e,t){const n=e.fillStyle;e.fillStyle=t.color,e.fillRect(t.left,t.top,t.width,t.height),e.fillStyle=n}function Gs(e,t,n,r,a,s={}){const i=ya(t)?t:[t],o=s.strokeWidth>0&&""!==s.strokeColor;let l,c;for(e.save(),e.font=a.string,function(e,t){t.translation&&e.translate(t.translation[0],t.translation[1]),va(t.rotation)||e.rotate(t.rotation),t.color&&(e.fillStyle=t.color),t.textAlign&&(e.textAlign=t.textAlign),t.textBaseline&&(e.textBaseline=t.textBaseline)}(e,s),l=0;l<i.length;++l)c=i[l],s.backdrop&&Ys(e,s.backdrop),o&&(s.strokeColor&&(e.strokeStyle=s.strokeColor),va(s.strokeWidth)||(e.lineWidth=s.strokeWidth),e.strokeText(c,n,r,s.maxWidth)),e.fillText(c,n,r,s.maxWidth),qs(e,n,r,c,s),r+=Number(a.lineHeight);e.restore()}function Ks(e,t){const{x:n,y:r,w:a,h:s,radius:i}=t;e.arc(n+i.topLeft,r+i.topLeft,i.topLeft,1.5*$a,$a,!0),e.lineTo(n,r+s-i.bottomLeft),e.arc(n+i.bottomLeft,r+s-i.bottomLeft,i.bottomLeft,$a,qa,!0),e.lineTo(n+a-i.bottomRight,r+s),e.arc(n+a-i.bottomRight,r+s-i.bottomRight,i.bottomRight,qa,0,!0),e.lineTo(n+a,r+i.topRight),e.arc(n+a-i.topRight,r+i.topRight,i.topRight,0,-qa,!0),e.lineTo(n+i.topLeft,r)}const Xs=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,Qs=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function Js(e,t){const n=(""+e).match(Xs);if(!n||"normal"===n[1])return 1.2*t;switch(e=+n[2],n[3]){case"px":return e;case"%":e/=100}return t*e}const Zs=e=>+e||0;function ei(e,t){const n={},r=wa(t),a=r?Object.keys(t):t,s=wa(e)?r?n=>ka(e[n],e[t[n]]):t=>e[t]:()=>e;for(const i of a)n[i]=Zs(s(i));return n}function ti(e){return ei(e,{top:"y",right:"x",bottom:"y",left:"x"})}function ni(e){return ei(e,["topLeft","topRight","bottomLeft","bottomRight"])}function ri(e){const t=ti(e);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function ai(e,t){e=e||{},t=t||zs.font;let n=ka(e.size,t.size);"string"==typeof n&&(n=parseInt(n,10));let r=ka(e.style,t.style);r&&!(""+r).match(Qs)&&(r=void 0);const a={family:ka(e.family,t.family),lineHeight:Js(ka(e.lineHeight,t.lineHeight),n),size:n,style:r,weight:ka(e.weight,t.weight),string:""};return a.string=function(e){return!e||va(e.size)||va(e.family)?null:(e.style?e.style+" ":"")+(e.weight?e.weight+" ":"")+e.size+"px "+e.family}(a),a}function si(e,t,n,r){let a,s,i;for(a=0,s=e.length;a<s;++a)if(i=e[a],void 0!==i&&void 0!==i)return i}function ii(e,t){return Object.assign(Object.create(e),t)}function oi(e,t=[""],n,r,a=()=>e[0]){const s=n||e;void 0===r&&(r=bi("_fallback",e));const i={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:e,_rootScopes:s,_fallback:r,_getTarget:a,override:n=>oi([n,...e],t,s,r)};return new Proxy(i,{deleteProperty:(t,n)=>(delete t[n],delete t._keys,delete e[0][n],!0),get:(n,r)=>hi(n,r,()=>function(e,t,n,r){let a;for(const s of t)if(a=bi(di(s,e),n),void 0!==a)return ui(e,a)?gi(n,r,e,a):a}(r,t,e,n)),getOwnPropertyDescriptor:(e,t)=>Reflect.getOwnPropertyDescriptor(e._scopes[0],t),getPrototypeOf:()=>Reflect.getPrototypeOf(e[0]),has:(e,t)=>vi(e).includes(t),ownKeys:e=>vi(e),set(e,t,n){const r=e._storage||(e._storage=a());return e[t]=r[t]=n,delete e._keys,!0}})}function li(e,t,n,r){const a={_cacheable:!1,_proxy:e,_context:t,_subProxy:n,_stack:new Set,_descriptors:ci(e,r),setContext:t=>li(e,t,n,r),override:a=>li(e.override(a),t,n,r)};return new Proxy(a,{deleteProperty:(t,n)=>(delete t[n],delete e[n],!0),get:(e,t,n)=>hi(e,t,()=>function(e,t,n){const{_proxy:r,_context:a,_subProxy:s,_descriptors:i}=e;let o=r[t];La(o)&&i.isScriptable(t)&&(o=function(e,t,n,r){const{_proxy:a,_context:s,_subProxy:i,_stack:o}=n;if(o.has(e))throw new Error("Recursion detected: "+Array.from(o).join("->")+"->"+e);o.add(e);let l=t(s,i||r);o.delete(e),ui(e,l)&&(l=gi(a._scopes,a,e,l));return l}(t,o,e,n));ya(o)&&o.length&&(o=function(e,t,n,r){const{_proxy:a,_context:s,_subProxy:i,_descriptors:o}=n;if(void 0!==s.index&&r(e))return t[s.index%t.length];if(wa(t[0])){const n=t,r=a._scopes.filter(e=>e!==n);t=[];for(const l of n){const n=gi(r,a,e,l);t.push(li(n,s,i&&i[e],o))}}return t}(t,o,e,i.isIndexable));ui(t,o)&&(o=li(o,a,s&&s[t],i));return o}(e,t,n)),getOwnPropertyDescriptor:(t,n)=>t._descriptors.allKeys?Reflect.has(e,n)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(e,n),getPrototypeOf:()=>Reflect.getPrototypeOf(e),has:(t,n)=>Reflect.has(e,n),ownKeys:()=>Reflect.ownKeys(e),set:(t,n,r)=>(e[n]=r,delete t[n],!0)})}function ci(e,t={scriptable:!0,indexable:!0}){const{_scriptable:n=t.scriptable,_indexable:r=t.indexable,_allKeys:a=t.allKeys}=e;return{allKeys:a,scriptable:n,indexable:r,isScriptable:La(n)?n:()=>n,isIndexable:La(r)?r:()=>r}}const di=(e,t)=>e?e+Ia(t):t,ui=(e,t)=>wa(t)&&"adapters"!==e&&(null===Object.getPrototypeOf(t)||t.constructor===Object);function hi(e,t,n){if(Object.prototype.hasOwnProperty.call(e,t)||"constructor"===t)return e[t];const r=n();return e[t]=r,r}function mi(e,t,n){return La(e)?e(t,n):e}const pi=(e,t)=>!0===e?t:"string"==typeof e?Ra(t,e):void 0;function fi(e,t,n,r,a){for(const s of t){const t=pi(n,s);if(t){e.add(t);const s=mi(t._fallback,n,a);if(void 0!==s&&s!==n&&s!==r)return s}else if(!1===t&&void 0!==r&&n!==r)return null}return!1}function gi(e,t,n,r){const a=t._rootScopes,s=mi(t._fallback,n,r),i=[...e,...a],o=new Set;o.add(r);let l=xi(o,i,n,s||n,r);return null!==l&&((void 0===s||s===n||(l=xi(o,i,s,l,r),null!==l))&&oi(Array.from(o),[""],a,s,()=>function(e,t,n){const r=e._getTarget();t in r||(r[t]={});const a=r[t];if(ya(a)&&wa(n))return n;return a||{}}(t,n,r)))}function xi(e,t,n,r,a){for(;n;)n=fi(e,t,n,r,a);return n}function bi(e,t){for(const n of t){if(!n)continue;const t=n[e];if(void 0!==t)return t}}function vi(e){let t=e._keys;return t||(t=e._keys=function(e){const t=new Set;for(const n of e)for(const e of Object.keys(n).filter(e=>!e.startsWith("_")))t.add(e);return Array.from(t)}(e._scopes)),t}const yi=Number.EPSILON||1e-14,wi=(e,t)=>t<e.length&&!e[t].skip&&e[t],ji=e=>"x"===e?"y":"x";function Ni(e,t,n,r){const a=e.skip?t:e,s=t,i=n.skip?t:n,o=rs(s,a),l=rs(i,s);let c=o/(o+l),d=l/(o+l);c=isNaN(c)?0:c,d=isNaN(d)?0:d;const u=r*c,h=r*d;return{previous:{x:s.x-u*(i.x-a.x),y:s.y-u*(i.y-a.y)},next:{x:s.x+h*(i.x-a.x),y:s.y+h*(i.y-a.y)}}}function ki(e,t="x"){const n=ji(t),r=e.length,a=Array(r).fill(0),s=Array(r);let i,o,l,c=wi(e,0);for(i=0;i<r;++i)if(o=l,l=c,c=wi(e,i+1),l){if(c){const e=c[t]-l[t];a[i]=0!==e?(c[n]-l[n])/e:0}s[i]=o?c?Xa(a[i-1])!==Xa(a[i])?0:(a[i-1]+a[i])/2:a[i-1]:a[i]}!function(e,t,n){const r=e.length;let a,s,i,o,l,c=wi(e,0);for(let d=0;d<r-1;++d)l=c,c=wi(e,d+1),l&&c&&(Qa(t[d],0,yi)?n[d]=n[d+1]=0:(a=n[d]/t[d],s=n[d+1]/t[d],o=Math.pow(a,2)+Math.pow(s,2),o<=9||(i=3/Math.sqrt(o),n[d]=a*i*t[d],n[d+1]=s*i*t[d])))}(e,a,s),function(e,t,n="x"){const r=ji(n),a=e.length;let s,i,o,l=wi(e,0);for(let c=0;c<a;++c){if(i=o,o=l,l=wi(e,c+1),!o)continue;const a=o[n],d=o[r];i&&(s=(a-i[n])/3,o[`cp1${n}`]=a-s,o[`cp1${r}`]=d-s*t[c]),l&&(s=(l[n]-a)/3,o[`cp2${n}`]=a+s,o[`cp2${r}`]=d+s*t[c])}}(e,s,t)}function Si(e,t,n){return Math.max(Math.min(e,n),t)}function Ci(e,t,n,r,a){let s,i,o,l;if(t.spanGaps&&(e=e.filter(e=>!e.skip)),"monotone"===t.cubicInterpolationMode)ki(e,a);else{let n=r?e[e.length-1]:e[0];for(s=0,i=e.length;s<i;++s)o=e[s],l=Ni(n,o,e[Math.min(s+1,i-(r?0:1))%i],t.tension),o.cp1x=l.previous.x,o.cp1y=l.previous.y,o.cp2x=l.next.x,o.cp2y=l.next.y,n=o}t.capBezierPoints&&function(e,t){let n,r,a,s,i,o=$s(e[0],t);for(n=0,r=e.length;n<r;++n)i=s,s=o,o=n<r-1&&$s(e[n+1],t),s&&(a=e[n],i&&(a.cp1x=Si(a.cp1x,t.left,t.right),a.cp1y=Si(a.cp1y,t.top,t.bottom)),o&&(a.cp2x=Si(a.cp2x,t.left,t.right),a.cp2y=Si(a.cp2y,t.top,t.bottom)))}(e,n)}function _i(){return"undefined"!=typeof window&&"undefined"!=typeof document}function Pi(e){let t=e.parentNode;return t&&"[object ShadowRoot]"===t.toString()&&(t=t.host),t}function Ei(e,t,n){let r;return"string"==typeof e?(r=parseInt(e,10),-1!==e.indexOf("%")&&(r=r/100*t.parentNode[n])):r=e,r}const Di=e=>e.ownerDocument.defaultView.getComputedStyle(e,null);const Oi=["top","right","bottom","left"];function Ti(e,t,n){const r={};n=n?"-"+n:"";for(let a=0;a<4;a++){const s=Oi[a];r[s]=parseFloat(e[t+"-"+s+n])||0}return r.width=r.left+r.right,r.height=r.top+r.bottom,r}function Mi(e,t){if("native"in e)return e;const{canvas:n,currentDevicePixelRatio:r}=t,a=Di(n),s="border-box"===a.boxSizing,i=Ti(a,"padding"),o=Ti(a,"border","width"),{x:l,y:c,box:d}=function(e,t){const n=e.touches,r=n&&n.length?n[0]:e,{offsetX:a,offsetY:s}=r;let i,o,l=!1;if(((e,t,n)=>(e>0||t>0)&&(!n||!n.shadowRoot))(a,s,e.target))i=a,o=s;else{const e=t.getBoundingClientRect();i=r.clientX-e.left,o=r.clientY-e.top,l=!0}return{x:i,y:o,box:l}}(e,n),u=i.left+(d&&o.left),h=i.top+(d&&o.top);let{width:m,height:p}=t;return s&&(m-=i.width+o.width,p-=i.height+o.height),{x:Math.round((l-u)/m*n.width/r),y:Math.round((c-h)/p*n.height/r)}}const Ai=e=>Math.round(10*e)/10;function zi(e,t,n,r){const a=Di(e),s=Ti(a,"margin"),i=Ei(a.maxWidth,e,"clientWidth")||Ha,o=Ei(a.maxHeight,e,"clientHeight")||Ha,l=function(e,t,n){let r,a;if(void 0===t||void 0===n){const s=e&&Pi(e);if(s){const e=s.getBoundingClientRect(),i=Di(s),o=Ti(i,"border","width"),l=Ti(i,"padding");t=e.width-l.width-o.width,n=e.height-l.height-o.height,r=Ei(i.maxWidth,s,"clientWidth"),a=Ei(i.maxHeight,s,"clientHeight")}else t=e.clientWidth,n=e.clientHeight}return{width:t,height:n,maxWidth:r||Ha,maxHeight:a||Ha}}(e,t,n);let{width:c,height:d}=l;if("content-box"===a.boxSizing){const e=Ti(a,"border","width"),t=Ti(a,"padding");c-=t.width+e.width,d-=t.height+e.height}c=Math.max(0,c-s.width),d=Math.max(0,r?c/r:d-s.height),c=Ai(Math.min(c,i,l.maxWidth)),d=Ai(Math.min(d,o,l.maxHeight)),c&&!d&&(d=Ai(c/2));return(void 0!==t||void 0!==n)&&r&&l.height&&d>l.height&&(d=l.height,c=Ai(Math.floor(d*r))),{width:c,height:d}}function Ri(e,t,n){const r=t||1,a=Ai(e.height*r),s=Ai(e.width*r);e.height=Ai(e.height),e.width=Ai(e.width);const i=e.canvas;return i.style&&(n||!i.style.height&&!i.style.width)&&(i.style.height=`${e.height}px`,i.style.width=`${e.width}px`),(e.currentDevicePixelRatio!==r||i.height!==a||i.width!==s)&&(e.currentDevicePixelRatio=r,i.height=a,i.width=s,e.ctx.setTransform(r,0,0,r,0,0),!0)}const Ii=function(){let e=!1;try{const t={get passive(){return e=!0,!1}};_i()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch(sB){}return e}();function Fi(e,t){const n=function(e,t){return Di(e).getPropertyValue(t)}(e,t),r=n&&n.match(/^(\d+)(\.\d+)?px$/);return r?+r[1]:void 0}function Li(e,t,n,r){return{x:e.x+n*(t.x-e.x),y:e.y+n*(t.y-e.y)}}function Bi(e,t,n,r){return{x:e.x+n*(t.x-e.x),y:"middle"===r?n<.5?e.y:t.y:"after"===r?n<1?e.y:t.y:n>0?t.y:e.y}}function $i(e,t,n,r){const a={x:e.cp2x,y:e.cp2y},s={x:t.cp1x,y:t.cp1y},i=Li(e,a,n),o=Li(a,s,n),l=Li(s,t,n),c=Li(i,o,n),d=Li(o,l,n);return Li(c,d,n)}function Wi(e,t,n){return e?function(e,t){return{x:n=>e+e+t-n,setWidth(e){t=e},textAlign:e=>"center"===e?e:"right"===e?"left":"right",xPlus:(e,t)=>e-t,leftForLtr:(e,t)=>e-t}}(t,n):{x:e=>e,setWidth(e){},textAlign:e=>e,xPlus:(e,t)=>e+t,leftForLtr:(e,t)=>e}}function Ui(e,t){let n,r;"ltr"!==t&&"rtl"!==t||(n=e.canvas.style,r=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",t,"important"),e.prevTextDirection=r)}function Hi(e,t){void 0!==t&&(delete e.prevTextDirection,e.canvas.style.setProperty("direction",t[0],t[1]))}function Vi(e){return"angle"===e?{between:is,compare:as,normalize:ss}:{between:ls,compare:(e,t)=>e-t,normalize:e=>e}}function qi({start:e,end:t,count:n,loop:r,style:a}){return{start:e%n,end:t%n,loop:r&&(t-e+1)%n==0,style:a}}function Yi(e,t,n){if(!n)return[e];const{property:r,start:a,end:s}=n,i=t.length,{compare:o,between:l,normalize:c}=Vi(r),{start:d,end:u,loop:h,style:m}=function(e,t,n){const{property:r,start:a,end:s}=n,{between:i,normalize:o}=Vi(r),l=t.length;let c,d,{start:u,end:h,loop:m}=e;if(m){for(u+=l,h+=l,c=0,d=l;c<d&&i(o(t[u%l][r]),a,s);++c)u--,h--;u%=l,h%=l}return h<u&&(h+=l),{start:u,end:h,loop:m,style:e.style}}(e,t,n),p=[];let f,g,x,b=!1,v=null;const y=()=>b||l(a,x,f)&&0!==o(a,x),w=()=>!b||0===o(s,f)||l(s,x,f);for(let j=d,N=d;j<=u;++j)g=t[j%i],g.skip||(f=c(g[r]),f!==x&&(b=l(f,a,s),null===v&&y()&&(v=0===o(f,a)?j:N),null!==v&&w()&&(p.push(qi({start:v,end:j,loop:h,count:i,style:m})),v=null),N=j,x=f));return null!==v&&p.push(qi({start:v,end:u,loop:h,count:i,style:m})),p}function Gi(e,t){const n=[],r=e.segments;for(let a=0;a<r.length;a++){const s=Yi(r[a],e.points,t);s.length&&n.push(...s)}return n}function Ki(e,t,n,r){return r&&r.setContext&&n?function(e,t,n,r){const a=e._chart.getContext(),s=Xi(e.options),{_datasetIndex:i,options:{spanGaps:o}}=e,l=n.length,c=[];let d=s,u=t[0].start,h=u;function m(e,t,r,a){const s=o?-1:1;if(e!==t){for(e+=l;n[e%l].skip;)e-=s;for(;n[t%l].skip;)t+=s;e%l!==t%l&&(c.push({start:e%l,end:t%l,loop:r,style:a}),d=a,u=t%l)}}for(const p of t){u=o?u:p.start;let e,t=n[u%l];for(h=u+1;h<=p.end;h++){const s=n[h%l];e=Xi(r.setContext(ii(a,{type:"segment",p0:t,p1:s,p0DataIndex:(h-1)%l,p1DataIndex:h%l,datasetIndex:i}))),Qi(e,d)&&m(u,h-1,p.loop,d),t=s,d=e}u<h-1&&m(u,h-1,p.loop,d)}return c}(e,t,n,r):t}function Xi(e){return{backgroundColor:e.backgroundColor,borderCapStyle:e.borderCapStyle,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderJoinStyle:e.borderJoinStyle,borderWidth:e.borderWidth,borderColor:e.borderColor}}function Qi(e,t){if(!t)return!1;const n=[],r=function(e,t){return js(t)?(n.includes(t)||n.push(t),n.indexOf(t)):t};return JSON.stringify(e,r)!==JSON.stringify(t,r)}function Ji(e,t,n){return e.options.clip?e[n]:t[n]}function Zi(e,t){const n=t._clip;if(n.disabled)return!1;const r=function(e,t){const{xScale:n,yScale:r}=e;return n&&r?{left:Ji(n,t,"left"),right:Ji(n,t,"right"),top:Ji(r,t,"top"),bottom:Ji(r,t,"bottom")}:t}(t,e.chartArea);return{left:!1===n.left?0:r.left-(!0===n.left?0:n.left),right:!1===n.right?e.width:r.right+(!0===n.right?0:n.right),top:!1===n.top?0:r.top-(!0===n.top?0:n.top),bottom:!1===n.bottom?e.height:r.bottom+(!0===n.bottom?0:n.bottom)}}class eo{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,t,n,r){const a=t.listeners[r],s=t.duration;a.forEach(r=>r({chart:e,initial:t.initial,numSteps:s,currentStep:Math.min(n-t.start,s)}))}_refresh(){this._request||(this._running=!0,this._request=ps.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let t=0;this._charts.forEach((n,r)=>{if(!n.running||!n.items.length)return;const a=n.items;let s,i=a.length-1,o=!1;for(;i>=0;--i)s=a[i],s._active?(s._total>n.duration&&(n.duration=s._total),s.tick(e),o=!0):(a[i]=a[a.length-1],a.pop());o&&(r.draw(),this._notify(r,n,e,"progress")),a.length||(n.running=!1,this._notify(r,n,e,"complete"),n.initial=!1),t+=a.length}),this._lastDate=e,0===t&&(this._running=!1)}_getAnims(e){const t=this._charts;let n=t.get(e);return n||(n={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},t.set(e,n)),n}listen(e,t,n){this._getAnims(e).listeners[t].push(n)}add(e,t){t&&t.length&&this._getAnims(e).items.push(...t)}has(e){return this._getAnims(e).items.length>0}start(e){const t=this._charts.get(e);t&&(t.running=!0,t.start=Date.now(),t.duration=t.items.reduce((e,t)=>Math.max(e,t._duration),0),this._refresh())}running(e){if(!this._running)return!1;const t=this._charts.get(e);return!!(t&&t.running&&t.items.length)}stop(e){const t=this._charts.get(e);if(!t||!t.items.length)return;const n=t.items;let r=n.length-1;for(;r>=0;--r)n[r].cancel();t.items=[],this._notify(e,t,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var to=new eo;const no="transparent",ro={boolean:(e,t,n)=>n>.5?t:e,color(e,t,n){const r=Ns(e||no),a=r.valid&&Ns(t||no);return a&&a.valid?a.mix(r,n).hexString():t},number:(e,t,n)=>e+(t-e)*n};class ao{constructor(e,t,n,r){const a=t[n];r=si([e.to,r,a,e.from]);const s=si([e.from,a,r]);this._active=!0,this._fn=e.fn||ro[e.type||typeof s],this._easing=ws[e.easing]||ws.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=t,this._prop=n,this._from=s,this._to=r,this._promises=void 0}active(){return this._active}update(e,t,n){if(this._active){this._notify(!1);const r=this._target[this._prop],a=n-this._start,s=this._duration-a;this._start=n,this._duration=Math.floor(Math.max(s,e.duration)),this._total+=a,this._loop=!!e.loop,this._to=si([e.to,t,r,e.from]),this._from=si([e.from,r,t])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const t=e-this._start,n=this._duration,r=this._prop,a=this._from,s=this._loop,i=this._to;let o;if(this._active=a!==i&&(s||t<n),!this._active)return this._target[r]=i,void this._notify(!0);t<0?this._target[r]=a:(o=t/n%2,o=s&&o>1?2-o:o,o=this._easing(Math.min(1,Math.max(0,o))),this._target[r]=this._fn(a,i,o))}wait(){const e=this._promises||(this._promises=[]);return new Promise((t,n)=>{e.push({res:t,rej:n})})}_notify(e){const t=e?"res":"rej",n=this._promises||[];for(let r=0;r<n.length;r++)n[r][t]()}}class so{constructor(e,t){this._chart=e,this._properties=new Map,this.configure(t)}configure(e){if(!wa(e))return;const t=Object.keys(zs.animation),n=this._properties;Object.getOwnPropertyNames(e).forEach(r=>{const a=e[r];if(!wa(a))return;const s={};for(const e of t)s[e]=a[e];(ya(a.properties)&&a.properties||[r]).forEach(e=>{e!==r&&n.has(e)||n.set(e,s)})})}_animateOptions(e,t){const n=t.options,r=function(e,t){if(!t)return;let n=e.options;if(!n)return void(e.options=t);n.$shared&&(e.options=n=Object.assign({},n,{$shared:!1,$animations:{}}));return n}(e,n);if(!r)return[];const a=this._createAnimations(r,n);return n.$shared&&function(e,t){const n=[],r=Object.keys(t);for(let a=0;a<r.length;a++){const t=e[r[a]];t&&t.active()&&n.push(t.wait())}return Promise.all(n)}(e.options.$animations,n).then(()=>{e.options=n},()=>{}),a}_createAnimations(e,t){const n=this._properties,r=[],a=e.$animations||(e.$animations={}),s=Object.keys(t),i=Date.now();let o;for(o=s.length-1;o>=0;--o){const l=s[o];if("$"===l.charAt(0))continue;if("options"===l){r.push(...this._animateOptions(e,t));continue}const c=t[l];let d=a[l];const u=n.get(l);if(d){if(u&&d.active()){d.update(u,c,i);continue}d.cancel()}u&&u.duration?(a[l]=d=new ao(u,e,l,c),r.push(d)):e[l]=c}return r}update(e,t){if(0===this._properties.size)return void Object.assign(e,t);const n=this._createAnimations(e,t);return n.length?(to.add(this._chart,n),!0):void 0}}function io(e,t){const n=e&&e.options||{},r=n.reverse,a=void 0===n.min?t:0,s=void 0===n.max?t:0;return{start:r?s:a,end:r?a:s}}function oo(e,t){const n=[],r=e._getSortedDatasetMetas(t);let a,s;for(a=0,s=r.length;a<s;++a)n.push(r[a].index);return n}function lo(e,t,n,r={}){const a=e.keys,s="single"===r.mode;let i,o,l,c;if(null===t)return;let d=!1;for(i=0,o=a.length;i<o;++i){if(l=+a[i],l===n){if(d=!0,r.all)continue;break}c=e.values[l],ja(c)&&(s||0===t||Xa(t)===Xa(c))&&(t+=c)}return d||r.all?t:0}function co(e,t){const n=e&&e.options.stacked;return n||void 0===n&&void 0!==t.stack}function uo(e,t,n){const r=e[t]||(e[t]={});return r[n]||(r[n]={})}function ho(e,t,n,r){for(const a of t.getMatchingVisibleMetas(r).reverse()){const t=e[a.index];if(n&&t>0||!n&&t<0)return a.index}return null}function mo(e,t){const{chart:n,_cachedMeta:r}=e,a=n._stacks||(n._stacks={}),{iScale:s,vScale:i,index:o}=r,l=s.axis,c=i.axis,d=function(e,t,n){return`${e.id}.${t.id}.${n.stack||n.type}`}(s,i,r),u=t.length;let h;for(let m=0;m<u;++m){const e=t[m],{[l]:n,[c]:s}=e;h=(e._stacks||(e._stacks={}))[c]=uo(a,d,n),h[o]=s,h._top=ho(h,i,!0,r.type),h._bottom=ho(h,i,!1,r.type);(h._visualValues||(h._visualValues={}))[o]=s}}function po(e,t){const n=e.scales;return Object.keys(n).filter(e=>n[e].axis===t).shift()}function fo(e,t){const n=e.controller.index,r=e.vScale&&e.vScale.axis;if(r){t=t||e._parsed;for(const e of t){const t=e._stacks;if(!t||void 0===t[r]||void 0===t[r][n])return;delete t[r][n],void 0!==t[r]._visualValues&&void 0!==t[r]._visualValues[n]&&delete t[r]._visualValues[n]}}}const go=e=>"reset"===e||"none"===e,xo=(e,t)=>t?e:Object.assign({},e);class bo{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(e,t){this.chart=e,this._ctx=e.ctx,this.index=t,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=co(e.vScale,e),this.addElements(),this.options.fill&&this.chart.isPluginEnabled("filler")}updateIndex(e){this.index!==e&&fo(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,t=this._cachedMeta,n=this.getDataset(),r=(e,t,n,r)=>"x"===e?t:"r"===e?r:n,a=t.xAxisID=ka(n.xAxisID,po(e,"x")),s=t.yAxisID=ka(n.yAxisID,po(e,"y")),i=t.rAxisID=ka(n.rAxisID,po(e,"r")),o=t.indexAxis,l=t.iAxisID=r(o,a,s,i),c=t.vAxisID=r(o,s,a,i);t.xScale=this.getScaleForId(a),t.yScale=this.getScaleForId(s),t.rScale=this.getScaleForId(i),t.iScale=this.getScaleForId(l),t.vScale=this.getScaleForId(c)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const t=this._cachedMeta;return e===t.iScale?t.vScale:t.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&ms(this._data,this),e._stacked&&fo(e)}_dataCheck(){const e=this.getDataset(),t=e.data||(e.data=[]),n=this._data;if(wa(t)){const e=this._cachedMeta;this._data=function(e,t){const{iScale:n,vScale:r}=t,a="x"===n.axis?"x":"y",s="x"===r.axis?"x":"y",i=Object.keys(e),o=new Array(i.length);let l,c,d;for(l=0,c=i.length;l<c;++l)d=i[l],o[l]={[a]:d,[s]:e[d]};return o}(t,e)}else if(n!==t){if(n){ms(n,this);const e=this._cachedMeta;fo(e),e._parsed=[]}t&&Object.isExtensible(t)&&(a=this,(r=t)._chartjs?r._chartjs.listeners.push(a):(Object.defineProperty(r,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[a]}}),hs.forEach(e=>{const t="_onData"+Ia(e),n=r[e];Object.defineProperty(r,e,{configurable:!0,enumerable:!1,value(...e){const a=n.apply(this,e);return r._chartjs.listeners.forEach(n=>{"function"==typeof n[t]&&n[t](...e)}),a}})}))),this._syncList=[],this._data=t}var r,a}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const t=this._cachedMeta,n=this.getDataset();let r=!1;this._dataCheck();const a=t._stacked;t._stacked=co(t.vScale,t),t.stack!==n.stack&&(r=!0,fo(t),t.stack=n.stack),this._resyncElements(e),(r||a!==t._stacked)&&(mo(this,t._parsed),t._stacked=co(t.vScale,t))}configure(){const e=this.chart.config,t=e.datasetScopeKeys(this._type),n=e.getOptionScopes(this.getDataset(),t,!0);this.options=e.createResolver(n,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,t){const{_cachedMeta:n,_data:r}=this,{iScale:a,_stacked:s}=n,i=a.axis;let o,l,c,d=0===e&&t===r.length||n._sorted,u=e>0&&n._parsed[e-1];if(!1===this._parsing)n._parsed=r,n._sorted=!0,c=r;else{c=ya(r[e])?this.parseArrayData(n,r,e,t):wa(r[e])?this.parseObjectData(n,r,e,t):this.parsePrimitiveData(n,r,e,t);const a=()=>null===l[i]||u&&l[i]<u[i];for(o=0;o<t;++o)n._parsed[o+e]=l=c[o],d&&(a()&&(d=!1),u=l);n._sorted=d}s&&mo(this,c)}parsePrimitiveData(e,t,n,r){const{iScale:a,vScale:s}=e,i=a.axis,o=s.axis,l=a.getLabels(),c=a===s,d=new Array(r);let u,h,m;for(u=0,h=r;u<h;++u)m=u+n,d[u]={[i]:c||a.parse(l[m],m),[o]:s.parse(t[m],m)};return d}parseArrayData(e,t,n,r){const{xScale:a,yScale:s}=e,i=new Array(r);let o,l,c,d;for(o=0,l=r;o<l;++o)c=o+n,d=t[c],i[o]={x:a.parse(d[0],c),y:s.parse(d[1],c)};return i}parseObjectData(e,t,n,r){const{xScale:a,yScale:s}=e,{xAxisKey:i="x",yAxisKey:o="y"}=this._parsing,l=new Array(r);let c,d,u,h;for(c=0,d=r;c<d;++c)u=c+n,h=t[u],l[c]={x:a.parse(Ra(h,i),u),y:s.parse(Ra(h,o),u)};return l}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,t,n){const r=this.chart,a=this._cachedMeta,s=t[e.axis];return lo({keys:oo(r,!0),values:t._stacks[e.axis]._visualValues},s,a.index,{mode:n})}updateRangeFromParsed(e,t,n,r){const a=n[t.axis];let s=null===a?NaN:a;const i=r&&n._stacks[t.axis];r&&i&&(r.values=i,s=lo(r,a,this._cachedMeta.index)),e.min=Math.min(e.min,s),e.max=Math.max(e.max,s)}getMinMax(e,t){const n=this._cachedMeta,r=n._parsed,a=n._sorted&&e===n.iScale,s=r.length,i=this._getOtherScale(e),o=((e,t,n)=>e&&!t.hidden&&t._stacked&&{keys:oo(n,!0),values:null})(t,n,this.chart),l={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:c,max:d}=function(e){const{min:t,max:n,minDefined:r,maxDefined:a}=e.getUserBounds();return{min:r?t:Number.NEGATIVE_INFINITY,max:a?n:Number.POSITIVE_INFINITY}}(i);let u,h;function m(){h=r[u];const t=h[i.axis];return!ja(h[e.axis])||c>t||d<t}for(u=0;u<s&&(m()||(this.updateRangeFromParsed(l,e,h,o),!a));++u);if(a)for(u=s-1;u>=0;--u)if(!m()){this.updateRangeFromParsed(l,e,h,o);break}return l}getAllParsedValues(e){const t=this._cachedMeta._parsed,n=[];let r,a,s;for(r=0,a=t.length;r<a;++r)s=t[r][e.axis],ja(s)&&n.push(s);return n}getMaxOverflow(){return!1}getLabelAndValue(e){const t=this._cachedMeta,n=t.iScale,r=t.vScale,a=this.getParsed(e);return{label:n?""+n.getLabelForValue(a[n.axis]):"",value:r?""+r.getLabelForValue(a[r.axis]):""}}_update(e){const t=this._cachedMeta;this.update(e||"default"),t._clip=function(e){let t,n,r,a;return wa(e)?(t=e.top,n=e.right,r=e.bottom,a=e.left):t=n=r=a=e,{top:t,right:n,bottom:r,left:a,disabled:!1===e}}(ka(this.options.clip,function(e,t,n){if(!1===n)return!1;const r=io(e,n),a=io(t,n);return{top:a.end,right:r.end,bottom:a.start,left:r.start}}(t.xScale,t.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,t=this.chart,n=this._cachedMeta,r=n.data||[],a=t.chartArea,s=[],i=this._drawStart||0,o=this._drawCount||r.length-i,l=this.options.drawActiveElementsOnTop;let c;for(n.dataset&&n.dataset.draw(e,a,i,o),c=i;c<i+o;++c){const t=r[c];t.hidden||(t.active&&l?s.push(t):t.draw(e,a))}for(c=0;c<s.length;++c)s[c].draw(e,a)}getStyle(e,t){const n=t?"active":"default";return void 0===e&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(n):this.resolveDataElementOptions(e||0,n)}getContext(e,t,n){const r=this.getDataset();let a;if(e>=0&&e<this._cachedMeta.data.length){const t=this._cachedMeta.data[e];a=t.$context||(t.$context=function(e,t,n){return ii(e,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:n,index:t,mode:"default",type:"data"})}(this.getContext(),e,t)),a.parsed=this.getParsed(e),a.raw=r.data[e],a.index=a.dataIndex=e}else a=this.$context||(this.$context=function(e,t){return ii(e,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}(this.chart.getContext(),this.index)),a.dataset=r,a.index=a.datasetIndex=this.index;return a.active=!!t,a.mode=n,a}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,t){return this._resolveElementOptions(this.dataElementType.id,t,e)}_resolveElementOptions(e,t="default",n){const r="active"===t,a=this._cachedDataOpts,s=e+"-"+t,i=a[s],o=this.enableOptionSharing&&Fa(n);if(i)return xo(i,o);const l=this.chart.config,c=l.datasetElementScopeKeys(this._type,e),d=r?[`${e}Hover`,"hover",e,""]:[e,""],u=l.getOptionScopes(this.getDataset(),c),h=Object.keys(zs.elements[e]),m=l.resolveNamedOptions(u,h,()=>this.getContext(n,r,t),d);return m.$shared&&(m.$shared=o,a[s]=Object.freeze(xo(m,o))),m}_resolveAnimations(e,t,n){const r=this.chart,a=this._cachedDataOpts,s=`animation-${t}`,i=a[s];if(i)return i;let o;if(!1!==r.options.animation){const r=this.chart.config,a=r.datasetAnimationScopeKeys(this._type,t),s=r.getOptionScopes(this.getDataset(),a);o=r.createResolver(s,this.getContext(e,n,t))}const l=new so(r,o&&o.animations);return o&&o._cacheable&&(a[s]=Object.freeze(l)),l}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,t){return!t||go(e)||this.chart._animationsDisabled}_getSharedOptions(e,t){const n=this.resolveDataElementOptions(e,t),r=this._sharedOptions,a=this.getSharedOptions(n),s=this.includeOptions(t,a)||a!==r;return this.updateSharedOptions(a,t,n),{sharedOptions:a,includeOptions:s}}updateElement(e,t,n,r){go(r)?Object.assign(e,n):this._resolveAnimations(t,r).update(e,n)}updateSharedOptions(e,t,n){e&&!go(t)&&this._resolveAnimations(void 0,t).update(e,n)}_setStyle(e,t,n,r){e.active=r;const a=this.getStyle(t,r);this._resolveAnimations(t,n,r).update(e,{options:!r&&this.getSharedOptions(a)||a})}removeHoverStyle(e,t,n){this._setStyle(e,n,"active",!1)}setHoverStyle(e,t,n){this._setStyle(e,n,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const t=this._data,n=this._cachedMeta.data;for(const[i,o,l]of this._syncList)this[i](o,l);this._syncList=[];const r=n.length,a=t.length,s=Math.min(a,r);s&&this.parse(0,s),a>r?this._insertElements(r,a-r,e):a<r&&this._removeElements(a,r-a)}_insertElements(e,t,n=!0){const r=this._cachedMeta,a=r.data,s=e+t;let i;const o=e=>{for(e.length+=t,i=e.length-1;i>=s;i--)e[i]=e[i-t]};for(o(a),i=e;i<s;++i)a[i]=new this.dataElementType;this._parsing&&o(r._parsed),this.parse(e,t),n&&this.updateElements(a,e,t,"reset")}updateElements(e,t,n,r){}_removeElements(e,t){const n=this._cachedMeta;if(this._parsing){const r=n._parsed.splice(e,t);n._stacked&&fo(n,r)}n.data.splice(e,t)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[t,n,r]=e;this[t](n,r)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,t){t&&this._sync(["_removeElements",e,t]);const n=arguments.length-2;n&&this._sync(["_insertElements",e,n])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}class vo extends bo{static id="doughnut";static defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"};static descriptors={_scriptable:e=>"spacing"!==e,_indexable:e=>"spacing"!==e&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const t=e.data,{labels:{pointStyle:n,textAlign:r,color:a,useBorderRadius:s,borderRadius:i}}=e.legend.options;return t.labels.length&&t.datasets.length?t.labels.map((t,o)=>{const l=e.getDatasetMeta(0).controller.getStyle(o);return{text:t,fillStyle:l.backgroundColor,fontColor:a,hidden:!e.getDataVisibility(o),lineDash:l.borderDash,lineDashOffset:l.borderDashOffset,lineJoin:l.borderJoinStyle,lineWidth:l.borderWidth,strokeStyle:l.borderColor,textAlign:r,pointStyle:n,borderRadius:s&&(i||l.borderRadius),index:o}}):[]}},onClick(e,t,n){n.chart.toggleDataVisibility(t.index),n.chart.update()}}}};constructor(e,t){super(e,t),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,t){const n=this.getDataset().data,r=this._cachedMeta;if(!1===this._parsing)r._parsed=n;else{let a,s,i=e=>+n[e];if(wa(n[e])){const{key:e="value"}=this._parsing;i=t=>+Ra(n[t],e)}for(a=e,s=e+t;a<s;++a)r._parsed[a]=i(a)}}_getRotation(){return es(this.options.rotation-90)}_getCircumference(){return es(this.options.circumference)}_getRotationExtents(){let e=Wa,t=-Wa;for(let n=0;n<this.chart.data.datasets.length;++n)if(this.chart.isDatasetVisible(n)&&this.chart.getDatasetMeta(n).type===this._type){const r=this.chart.getDatasetMeta(n).controller,a=r._getRotation(),s=r._getCircumference();e=Math.min(e,a),t=Math.max(t,a+s)}return{rotation:e,circumference:t-e}}update(e){const t=this.chart,{chartArea:n}=t,r=this._cachedMeta,a=r.data,s=this.getMaxBorderWidth()+this.getMaxOffset(a)+this.options.spacing,i=Math.max((Math.min(n.width,n.height)-s)/2,0),o=Math.min((l=this.options.cutout,c=i,"string"==typeof l&&l.endsWith("%")?parseFloat(l)/100:+l/c),1);var l,c;const d=this._getRingWeight(this.index),{circumference:u,rotation:h}=this._getRotationExtents(),{ratioX:m,ratioY:p,offsetX:f,offsetY:g}=function(e,t,n){let r=1,a=1,s=0,i=0;if(t<Wa){const o=e,l=o+t,c=Math.cos(o),d=Math.sin(o),u=Math.cos(l),h=Math.sin(l),m=(e,t,r)=>is(e,o,l,!0)?1:Math.max(t,t*n,r,r*n),p=(e,t,r)=>is(e,o,l,!0)?-1:Math.min(t,t*n,r,r*n),f=m(0,c,u),g=m(qa,d,h),x=p($a,c,u),b=p($a+qa,d,h);r=(f-x)/2,a=(g-b)/2,s=-(f+x)/2,i=-(g+b)/2}return{ratioX:r,ratioY:a,offsetX:s,offsetY:i}}(h,u,o),x=(n.width-s)/m,b=(n.height-s)/p,v=Math.max(Math.min(x,b)/2,0),y=Sa(this.options.radius,v),w=(y-Math.max(y*o,0))/this._getVisibleDatasetWeightTotal();this.offsetX=f*y,this.offsetY=g*y,r.total=this.calculateTotal(),this.outerRadius=y-w*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-w*d,0),this.updateElements(a,0,a.length,e)}_circumference(e,t){const n=this.options,r=this._cachedMeta,a=this._getCircumference();return t&&n.animation.animateRotate||!this.chart.getDataVisibility(e)||null===r._parsed[e]||r.data[e].hidden?0:this.calculateCircumference(r._parsed[e]*a/Wa)}updateElements(e,t,n,r){const a="reset"===r,s=this.chart,i=s.chartArea,o=s.options.animation,l=(i.left+i.right)/2,c=(i.top+i.bottom)/2,d=a&&o.animateScale,u=d?0:this.innerRadius,h=d?0:this.outerRadius,{sharedOptions:m,includeOptions:p}=this._getSharedOptions(t,r);let f,g=this._getRotation();for(f=0;f<t;++f)g+=this._circumference(f,a);for(f=t;f<t+n;++f){const t=this._circumference(f,a),n=e[f],s={x:l+this.offsetX,y:c+this.offsetY,startAngle:g,endAngle:g+t,circumference:t,outerRadius:h,innerRadius:u};p&&(s.options=m||this.resolveDataElementOptions(f,n.active?"active":r)),g+=t,this.updateElement(n,f,s,r)}}calculateTotal(){const e=this._cachedMeta,t=e.data;let n,r=0;for(n=0;n<t.length;n++){const a=e._parsed[n];null===a||isNaN(a)||!this.chart.getDataVisibility(n)||t[n].hidden||(r+=Math.abs(a))}return r}calculateCircumference(e){const t=this._cachedMeta.total;return t>0&&!isNaN(e)?Wa*(Math.abs(e)/t):0}getLabelAndValue(e){const t=this._cachedMeta,n=this.chart,r=n.data.labels||[],a=Ps(t._parsed[e],n.options.locale);return{label:r[e]||"",value:a}}getMaxBorderWidth(e){let t=0;const n=this.chart;let r,a,s,i,o;if(!e)for(r=0,a=n.data.datasets.length;r<a;++r)if(n.isDatasetVisible(r)){s=n.getDatasetMeta(r),e=s.data,i=s.controller;break}if(!e)return 0;for(r=0,a=e.length;r<a;++r)o=i.resolveDataElementOptions(r),"inner"!==o.borderAlign&&(t=Math.max(t,o.borderWidth||0,o.hoverBorderWidth||0));return t}getMaxOffset(e){let t=0;for(let n=0,r=e.length;n<r;++n){const e=this.resolveDataElementOptions(n);t=Math.max(t,e.offset||0,e.hoverOffset||0)}return t}_getRingWeightOffset(e){let t=0;for(let n=0;n<e;++n)this.chart.isDatasetVisible(n)&&(t+=this._getRingWeight(n));return t}_getRingWeight(e){return Math.max(ka(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}class yo extends bo{static id="line";static defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};static overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const t=this._cachedMeta,{dataset:n,data:r=[],_dataset:a}=t,s=this.chart._animationsDisabled;let{start:i,count:o}=function(e,t,n){const r=t.length;let a=0,s=r;if(e._sorted){const{iScale:i,vScale:o,_parsed:l}=e,c=e.dataset&&e.dataset.options?e.dataset.options.spanGaps:null,d=i.axis,{min:u,max:h,minDefined:m,maxDefined:p}=i.getUserBounds();if(m){if(a=Math.min(ds(l,d,u).lo,n?r:ds(t,d,i.getPixelForValue(u)).lo),c){const e=l.slice(0,a+1).reverse().findIndex(e=>!va(e[o.axis]));a-=Math.max(0,e)}a=os(a,0,r-1)}if(p){let e=Math.max(ds(l,i.axis,h,!0).hi+1,n?0:ds(t,d,i.getPixelForValue(h),!0).hi+1);if(c){const t=l.slice(e-1).findIndex(e=>!va(e[o.axis]));e+=Math.max(0,t)}s=os(e,a,r)-a}else s=r-a}return{start:a,count:s}}(t,r,s);this._drawStart=i,this._drawCount=o,function(e){const{xScale:t,yScale:n,_scaleRanges:r}=e,a={xmin:t.min,xmax:t.max,ymin:n.min,ymax:n.max};if(!r)return e._scaleRanges=a,!0;const s=r.xmin!==t.min||r.xmax!==t.max||r.ymin!==n.min||r.ymax!==n.max;return Object.assign(r,a),s}(t)&&(i=0,o=r.length),n._chart=this.chart,n._datasetIndex=this.index,n._decimated=!!a._decimated,n.points=r;const l=this.resolveDatasetElementOptions(e);this.options.showLine||(l.borderWidth=0),l.segment=this.options.segment,this.updateElement(n,void 0,{animated:!s,options:l},e),this.updateElements(r,i,o,e)}updateElements(e,t,n,r){const a="reset"===r,{iScale:s,vScale:i,_stacked:o,_dataset:l}=this._cachedMeta,{sharedOptions:c,includeOptions:d}=this._getSharedOptions(t,r),u=s.axis,h=i.axis,{spanGaps:m,segment:p}=this.options,f=Za(m)?m:Number.POSITIVE_INFINITY,g=this.chart._animationsDisabled||a||"none"===r,x=t+n,b=e.length;let v=t>0&&this.getParsed(t-1);for(let y=0;y<b;++y){const n=e[y],m=g?n:{};if(y<t||y>=x){m.skip=!0;continue}const b=this.getParsed(y),w=va(b[h]),j=m[u]=s.getPixelForValue(b[u],y),N=m[h]=a||w?i.getBasePixel():i.getPixelForValue(o?this.applyStack(i,b,o):b[h],y);m.skip=isNaN(j)||isNaN(N)||w,m.stop=y>0&&Math.abs(b[u]-v[u])>f,p&&(m.parsed=b,m.raw=l.data[y]),d&&(m.options=c||this.resolveDataElementOptions(y,n.active?"active":r)),g||this.updateElement(n,y,m,r),v=b}}getMaxOverflow(){const e=this._cachedMeta,t=e.dataset,n=t.options&&t.options.borderWidth||0,r=e.data||[];if(!r.length)return n;const a=r[0].size(this.resolveDataElementOptions(0)),s=r[r.length-1].size(this.resolveDataElementOptions(r.length-1));return Math.max(n,a,s)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}function wo(e,t,n,r){const{controller:a,data:s,_sorted:i}=e,o=a._cachedMeta.iScale,l=e.dataset&&e.dataset.options?e.dataset.options.spanGaps:null;if(o&&t===o.axis&&"r"!==t&&i&&s.length){const i=o._reversePixels?us:ds;if(!r){const r=i(s,t,n);if(l){const{vScale:t}=a._cachedMeta,{_parsed:n}=e,s=n.slice(0,r.lo+1).reverse().findIndex(e=>!va(e[t.axis]));r.lo-=Math.max(0,s);const i=n.slice(r.hi).findIndex(e=>!va(e[t.axis]));r.hi+=Math.max(0,i)}return r}if(a._sharedOptions){const e=s[0],r="function"==typeof e.getRange&&e.getRange(t);if(r){const e=i(s,t,n-r),a=i(s,t,n+r);return{lo:e.lo,hi:a.hi}}}}return{lo:0,hi:s.length-1}}function jo(e,t,n,r,a){const s=e.getSortedVisibleDatasetMetas(),i=n[t];for(let o=0,l=s.length;o<l;++o){const{index:e,data:n}=s[o],{lo:l,hi:c}=wo(s[o],t,i,a);for(let t=l;t<=c;++t){const a=n[t];a.skip||r(a,e,t)}}}function No(e,t,n,r,a){const s=[];if(!a&&!e.isPointInArea(t))return s;return jo(e,n,t,function(n,i,o){(a||$s(n,e.chartArea,0))&&n.inRange(t.x,t.y,r)&&s.push({element:n,datasetIndex:i,index:o})},!0),s}function ko(e,t,n,r,a,s){let i=[];const o=function(e){const t=-1!==e.indexOf("x"),n=-1!==e.indexOf("y");return function(e,r){const a=t?Math.abs(e.x-r.x):0,s=n?Math.abs(e.y-r.y):0;return Math.sqrt(Math.pow(a,2)+Math.pow(s,2))}}(n);let l=Number.POSITIVE_INFINITY;return jo(e,n,t,function(n,c,d){const u=n.inRange(t.x,t.y,a);if(r&&!u)return;const h=n.getCenterPoint(a);if(!(!!s||e.isPointInArea(h))&&!u)return;const m=o(t,h);m<l?(i=[{element:n,datasetIndex:c,index:d}],l=m):m===l&&i.push({element:n,datasetIndex:c,index:d})}),i}function So(e,t,n,r,a,s){return s||e.isPointInArea(t)?"r"!==n||r?ko(e,t,n,r,a,s):function(e,t,n,r){let a=[];return jo(e,n,t,function(e,n,s){const{startAngle:i,endAngle:o}=e.getProps(["startAngle","endAngle"],r),{angle:l}=ns(e,{x:t.x,y:t.y});is(l,i,o)&&a.push({element:e,datasetIndex:n,index:s})}),a}(e,t,n,a):[]}function Co(e,t,n,r,a){const s=[],i="x"===n?"inXRange":"inYRange";let o=!1;return jo(e,n,t,(e,r,l)=>{e[i]&&e[i](t[n],a)&&(s.push({element:e,datasetIndex:r,index:l}),o=o||e.inRange(t.x,t.y,a))}),r&&!o?[]:s}var _o={modes:{index(e,t,n,r){const a=Mi(t,e),s=n.axis||"x",i=n.includeInvisible||!1,o=n.intersect?No(e,a,s,r,i):So(e,a,s,!1,r,i),l=[];return o.length?(e.getSortedVisibleDatasetMetas().forEach(e=>{const t=o[0].index,n=e.data[t];n&&!n.skip&&l.push({element:n,datasetIndex:e.index,index:t})}),l):[]},dataset(e,t,n,r){const a=Mi(t,e),s=n.axis||"xy",i=n.includeInvisible||!1;let o=n.intersect?No(e,a,s,r,i):So(e,a,s,!1,r,i);if(o.length>0){const t=o[0].datasetIndex,n=e.getDatasetMeta(t).data;o=[];for(let e=0;e<n.length;++e)o.push({element:n[e],datasetIndex:t,index:e})}return o},point:(e,t,n,r)=>No(e,Mi(t,e),n.axis||"xy",r,n.includeInvisible||!1),nearest(e,t,n,r){const a=Mi(t,e),s=n.axis||"xy",i=n.includeInvisible||!1;return So(e,a,s,n.intersect,r,i)},x:(e,t,n,r)=>Co(e,Mi(t,e),"x",n.intersect,r),y:(e,t,n,r)=>Co(e,Mi(t,e),"y",n.intersect,r)}};const Po=["left","top","right","bottom"];function Eo(e,t){return e.filter(e=>e.pos===t)}function Do(e,t){return e.filter(e=>-1===Po.indexOf(e.pos)&&e.box.axis===t)}function Oo(e,t){return e.sort((e,n)=>{const r=t?n:e,a=t?e:n;return r.weight===a.weight?r.index-a.index:r.weight-a.weight})}function To(e,t){const n=function(e){const t={};for(const n of e){const{stack:e,pos:r,stackWeight:a}=n;if(!e||!Po.includes(r))continue;const s=t[e]||(t[e]={count:0,placed:0,weight:0,size:0});s.count++,s.weight+=a}return t}(e),{vBoxMaxWidth:r,hBoxMaxHeight:a}=t;let s,i,o;for(s=0,i=e.length;s<i;++s){o=e[s];const{fullSize:i}=o.box,l=n[o.stack],c=l&&o.stackWeight/l.weight;o.horizontal?(o.width=c?c*r:i&&t.availableWidth,o.height=a):(o.width=r,o.height=c?c*a:i&&t.availableHeight)}return n}function Mo(e,t,n,r){return Math.max(e[n],t[n])+Math.max(e[r],t[r])}function Ao(e,t){e.top=Math.max(e.top,t.top),e.left=Math.max(e.left,t.left),e.bottom=Math.max(e.bottom,t.bottom),e.right=Math.max(e.right,t.right)}function zo(e,t,n,r){const{pos:a,box:s}=n,i=e.maxPadding;if(!wa(a)){n.size&&(e[a]-=n.size);const t=r[n.stack]||{size:0,count:1};t.size=Math.max(t.size,n.horizontal?s.height:s.width),n.size=t.size/t.count,e[a]+=n.size}s.getPadding&&Ao(i,s.getPadding());const o=Math.max(0,t.outerWidth-Mo(i,e,"left","right")),l=Math.max(0,t.outerHeight-Mo(i,e,"top","bottom")),c=o!==e.w,d=l!==e.h;return e.w=o,e.h=l,n.horizontal?{same:c,other:d}:{same:d,other:c}}function Ro(e,t){const n=t.maxPadding;function r(e){const r={left:0,top:0,right:0,bottom:0};return e.forEach(e=>{r[e]=Math.max(t[e],n[e])}),r}return r(e?["left","right"]:["top","bottom"])}function Io(e,t,n,r){const a=[];let s,i,o,l,c,d;for(s=0,i=e.length,c=0;s<i;++s){o=e[s],l=o.box,l.update(o.width||t.w,o.height||t.h,Ro(o.horizontal,t));const{same:i,other:u}=zo(t,n,o,r);c|=i&&a.length,d=d||u,l.fullSize||a.push(o)}return c&&Io(a,t,n,r)||d}function Fo(e,t,n,r,a){e.top=n,e.left=t,e.right=t+r,e.bottom=n+a,e.width=r,e.height=a}function Lo(e,t,n,r){const a=n.padding;let{x:s,y:i}=t;for(const o of e){const e=o.box,l=r[o.stack]||{placed:0,weight:1},c=o.stackWeight/l.weight||1;if(o.horizontal){const r=t.w*c,s=l.size||e.height;Fa(l.start)&&(i=l.start),e.fullSize?Fo(e,a.left,i,n.outerWidth-a.right-a.left,s):Fo(e,t.left+l.placed,i,r,s),l.start=i,l.placed+=r,i=e.bottom}else{const r=t.h*c,i=l.size||e.width;Fa(l.start)&&(s=l.start),e.fullSize?Fo(e,s,a.top,i,n.outerHeight-a.bottom-a.top):Fo(e,s,t.top+l.placed,i,r),l.start=s,l.placed+=r,s=e.right}}t.x=s,t.y=i}var Bo={addBox(e,t){e.boxes||(e.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(e){t.draw(e)}}]},e.boxes.push(t)},removeBox(e,t){const n=e.boxes?e.boxes.indexOf(t):-1;-1!==n&&e.boxes.splice(n,1)},configure(e,t,n){t.fullSize=n.fullSize,t.position=n.position,t.weight=n.weight},update(e,t,n,r){if(!e)return;const a=ri(e.options.layout.padding),s=Math.max(t-a.width,0),i=Math.max(n-a.height,0),o=function(e){const t=function(e){const t=[];let n,r,a,s,i,o;for(n=0,r=(e||[]).length;n<r;++n)a=e[n],({position:s,options:{stack:i,stackWeight:o=1}}=a),t.push({index:n,box:a,pos:s,horizontal:a.isHorizontal(),weight:a.weight,stack:i&&s+i,stackWeight:o});return t}(e),n=Oo(t.filter(e=>e.box.fullSize),!0),r=Oo(Eo(t,"left"),!0),a=Oo(Eo(t,"right")),s=Oo(Eo(t,"top"),!0),i=Oo(Eo(t,"bottom")),o=Do(t,"x"),l=Do(t,"y");return{fullSize:n,leftAndTop:r.concat(s),rightAndBottom:a.concat(l).concat(i).concat(o),chartArea:Eo(t,"chartArea"),vertical:r.concat(a).concat(l),horizontal:s.concat(i).concat(o)}}(e.boxes),l=o.vertical,c=o.horizontal;_a(e.boxes,e=>{"function"==typeof e.beforeLayout&&e.beforeLayout()});const d=l.reduce((e,t)=>t.box.options&&!1===t.box.options.display?e:e+1,0)||1,u=Object.freeze({outerWidth:t,outerHeight:n,padding:a,availableWidth:s,availableHeight:i,vBoxMaxWidth:s/2/d,hBoxMaxHeight:i/2}),h=Object.assign({},a);Ao(h,ri(r));const m=Object.assign({maxPadding:h,w:s,h:i,x:a.left,y:a.top},a),p=To(l.concat(c),u);Io(o.fullSize,m,u,p),Io(l,m,u,p),Io(c,m,u,p)&&Io(l,m,u,p),function(e){const t=e.maxPadding;function n(n){const r=Math.max(t[n]-e[n],0);return e[n]+=r,r}e.y+=n("top"),e.x+=n("left"),n("right"),n("bottom")}(m),Lo(o.leftAndTop,m,u,p),m.x+=m.w,m.y+=m.h,Lo(o.rightAndBottom,m,u,p),e.chartArea={left:m.left,top:m.top,right:m.left+m.w,bottom:m.top+m.h,height:m.h,width:m.w},_a(o.chartArea,t=>{const n=t.box;Object.assign(n,e.chartArea),n.update(m.w,m.h,{left:0,top:0,right:0,bottom:0})})}};class $o{acquireContext(e,t){}releaseContext(e){return!1}addEventListener(e,t,n){}removeEventListener(e,t,n){}getDevicePixelRatio(){return 1}getMaximumSize(e,t,n,r){return t=Math.max(0,t||e.width),n=n||e.height,{width:t,height:Math.max(0,r?Math.floor(t/r):n)}}isAttached(e){return!0}updateConfig(e){}}class Wo extends $o{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const Uo="$chartjs",Ho={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},Vo=e=>null===e||""===e;const qo=!!Ii&&{passive:!0};function Yo(e,t,n){e&&e.canvas&&e.canvas.removeEventListener(t,n,qo)}function Go(e,t){for(const n of e)if(n===t||n.contains(t))return!0}function Ko(e,t,n){const r=e.canvas,a=new MutationObserver(e=>{let t=!1;for(const n of e)t=t||Go(n.addedNodes,r),t=t&&!Go(n.removedNodes,r);t&&n()});return a.observe(document,{childList:!0,subtree:!0}),a}function Xo(e,t,n){const r=e.canvas,a=new MutationObserver(e=>{let t=!1;for(const n of e)t=t||Go(n.removedNodes,r),t=t&&!Go(n.addedNodes,r);t&&n()});return a.observe(document,{childList:!0,subtree:!0}),a}const Qo=new Map;let Jo=0;function Zo(){const e=window.devicePixelRatio;e!==Jo&&(Jo=e,Qo.forEach((t,n)=>{n.currentDevicePixelRatio!==e&&t()}))}function el(e,t,n){const r=e.canvas,a=r&&Pi(r);if(!a)return;const s=fs((e,t)=>{const r=a.clientWidth;n(e,t),r<a.clientWidth&&n()},window),i=new ResizeObserver(e=>{const t=e[0],n=t.contentRect.width,r=t.contentRect.height;0===n&&0===r||s(n,r)});return i.observe(a),function(e,t){Qo.size||window.addEventListener("resize",Zo),Qo.set(e,t)}(e,s),i}function tl(e,t,n){n&&n.disconnect(),"resize"===t&&function(e){Qo.delete(e),Qo.size||window.removeEventListener("resize",Zo)}(e)}function nl(e,t,n){const r=e.canvas,a=fs(t=>{null!==e.ctx&&n(function(e,t){const n=Ho[e.type]||e.type,{x:r,y:a}=Mi(e,t);return{type:n,chart:t,native:e,x:void 0!==r?r:null,y:void 0!==a?a:null}}(t,e))},e);return function(e,t,n){e&&e.addEventListener(t,n,qo)}(r,t,a),a}class rl extends $o{acquireContext(e,t){const n=e&&e.getContext&&e.getContext("2d");return n&&n.canvas===e?(function(e,t){const n=e.style,r=e.getAttribute("height"),a=e.getAttribute("width");if(e[Uo]={initial:{height:r,width:a,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",Vo(a)){const t=Fi(e,"width");void 0!==t&&(e.width=t)}if(Vo(r))if(""===e.style.height)e.height=e.width/(t||2);else{const t=Fi(e,"height");void 0!==t&&(e.height=t)}}(e,t),n):null}releaseContext(e){const t=e.canvas;if(!t[Uo])return!1;const n=t[Uo].initial;["height","width"].forEach(e=>{const r=n[e];va(r)?t.removeAttribute(e):t.setAttribute(e,r)});const r=n.style||{};return Object.keys(r).forEach(e=>{t.style[e]=r[e]}),t.width=t.width,delete t[Uo],!0}addEventListener(e,t,n){this.removeEventListener(e,t);const r=e.$proxies||(e.$proxies={}),a={attach:Ko,detach:Xo,resize:el}[t]||nl;r[t]=a(e,t,n)}removeEventListener(e,t){const n=e.$proxies||(e.$proxies={}),r=n[t];if(!r)return;({attach:tl,detach:tl,resize:tl}[t]||Yo)(e,t,r),n[t]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,t,n,r){return zi(e,t,n,r)}isAttached(e){const t=e&&Pi(e);return!(!t||!t.isConnected)}}let al=class{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(e){const{x:t,y:n}=this.getProps(["x","y"],e);return{x:t,y:n}}hasValue(){return Za(this.x)&&Za(this.y)}getProps(e,t){const n=this.$animations;if(!t||!n)return this;const r={};return e.forEach(e=>{r[e]=n[e]&&n[e].active()?n[e]._to:this[e]}),r}};function sl(e,t){const n=e.options.ticks,r=function(e){const t=e.options.offset,n=e._tickSize(),r=e._length/n+(t?0:1),a=e._maxLength/n;return Math.floor(Math.min(r,a))}(e),a=Math.min(n.maxTicksLimit||r,r),s=n.major.enabled?function(e){const t=[];let n,r;for(n=0,r=e.length;n<r;n++)e[n].major&&t.push(n);return t}(t):[],i=s.length,o=s[0],l=s[i-1],c=[];if(i>a)return function(e,t,n,r){let a,s=0,i=n[0];for(r=Math.ceil(r),a=0;a<e.length;a++)a===i&&(t.push(e[a]),s++,i=n[s*r])}(t,c,s,i/a),c;const d=function(e,t,n){const r=function(e){const t=e.length;let n,r;if(t<2)return!1;for(r=e[0],n=1;n<t;++n)if(e[n]-e[n-1]!==r)return!1;return r}(e),a=t.length/n;if(!r)return Math.max(a,1);const s=function(e){const t=[],n=Math.sqrt(e);let r;for(r=1;r<n;r++)e%r===0&&(t.push(r),t.push(e/r));return n===(0|n)&&t.push(n),t.sort((e,t)=>e-t).pop(),t}(r);for(let i=0,o=s.length-1;i<o;i++){const e=s[i];if(e>a)return e}return Math.max(a,1)}(s,t,a);if(i>0){let e,n;const r=i>1?Math.round((l-o)/(i-1)):null;for(il(t,c,d,va(r)?0:o-r,o),e=0,n=i-1;e<n;e++)il(t,c,d,s[e],s[e+1]);return il(t,c,d,l,va(r)?t.length:l+r),c}return il(t,c,d),c}function il(e,t,n,r,a){const s=ka(r,0),i=Math.min(ka(a,e.length),e.length);let o,l,c,d=0;for(n=Math.ceil(n),a&&(o=a-r,n=o/Math.floor(o/n)),c=s;c<0;)d++,c=Math.round(s+d*n);for(l=Math.max(s,0);l<i;l++)l===c&&(t.push(e[l]),d++,c=Math.round(s+d*n))}const ol=(e,t,n)=>"top"===t||"left"===t?e[t]+n:e[t]-n,ll=(e,t)=>Math.min(t||e,e);function cl(e,t){const n=[],r=e.length/t,a=e.length;let s=0;for(;s<a;s+=r)n.push(e[Math.floor(s)]);return n}function dl(e,t,n){const r=e.ticks.length,a=Math.min(t,r-1),s=e._startPixel,i=e._endPixel,o=1e-6;let l,c=e.getPixelForTick(a);if(!(n&&(l=1===r?Math.max(c-s,i-c):0===t?(e.getPixelForTick(1)-c)/2:(c-e.getPixelForTick(a-1))/2,c+=a<t?l:-l,c<s-o||c>i+o)))return c}function ul(e){return e.drawTicks?e.tickLength:0}function hl(e,t){if(!e.display)return 0;const n=ai(e.font,t),r=ri(e.padding);return(ya(e.text)?e.text.length:1)*n.lineHeight+r.height}function ml(e,t,n){let r=gs(e);return(n&&"right"!==t||!n&&"right"===t)&&(r=(e=>"left"===e?"right":"right"===e?"left":e)(r)),r}class pl extends al{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,t){return e}getUserBounds(){let{_userMin:e,_userMax:t,_suggestedMin:n,_suggestedMax:r}=this;return e=Na(e,Number.POSITIVE_INFINITY),t=Na(t,Number.NEGATIVE_INFINITY),n=Na(n,Number.POSITIVE_INFINITY),r=Na(r,Number.NEGATIVE_INFINITY),{min:Na(e,n),max:Na(t,r),minDefined:ja(e),maxDefined:ja(t)}}getMinMax(e){let t,{min:n,max:r,minDefined:a,maxDefined:s}=this.getUserBounds();if(a&&s)return{min:n,max:r};const i=this.getMatchingVisibleMetas();for(let o=0,l=i.length;o<l;++o)t=i[o].controller.getMinMax(this,e),a||(n=Math.min(n,t.min)),s||(r=Math.max(r,t.max));return n=s&&n>r?r:n,r=a&&n>r?n:r,{min:Na(n,Na(r,n)),max:Na(r,Na(n,r))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Ca(this.options.beforeUpdate,[this])}update(e,t,n){const{beginAtZero:r,grace:a,ticks:s}=this.options,i=s.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=t,this._margins=n=Object.assign({left:0,right:0,top:0,bottom:0},n),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+n.left+n.right:this.height+n.top+n.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=function(e,t,n){const{min:r,max:a}=e,s=Sa(t,(a-r)/2),i=(e,t)=>n&&0===e?0:e+t;return{min:i(r,-Math.abs(s)),max:i(a,s)}}(this,a,r),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const o=i<this.ticks.length;this._convertTicksToLabels(o?cl(this.ticks,i):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),s.display&&(s.autoSkip||"auto"===s.source)&&(this.ticks=sl(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),o&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e,t,n=this.options.reverse;this.isHorizontal()?(e=this.left,t=this.right):(e=this.top,t=this.bottom,n=!n),this._startPixel=e,this._endPixel=t,this._reversePixels=n,this._length=t-e,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Ca(this.options.afterUpdate,[this])}beforeSetDimensions(){Ca(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Ca(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),Ca(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Ca(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const t=this.options.ticks;let n,r,a;for(n=0,r=e.length;n<r;n++)a=e[n],a.label=Ca(t.callback,[a.value,n,e],this)}afterTickToLabelConversion(){Ca(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Ca(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,t=e.ticks,n=ll(this.ticks.length,e.ticks.maxTicksLimit),r=t.minRotation||0,a=t.maxRotation;let s,i,o,l=r;if(!this._isVisible()||!t.display||r>=a||n<=1||!this.isHorizontal())return void(this.labelRotation=r);const c=this._getLabelSizes(),d=c.widest.width,u=c.highest.height,h=os(this.chart.width-d,0,this.maxWidth);s=e.offset?this.maxWidth/n:h/(n-1),d+6>s&&(s=h/(n-(e.offset?.5:1)),i=this.maxHeight-ul(e.grid)-t.padding-hl(e.title,this.chart.options.font),o=Math.sqrt(d*d+u*u),l=Math.min(Math.asin(os((c.highest.height+6)/s,-1,1)),Math.asin(os(i/o,-1,1))-Math.asin(os(u/o,-1,1)))*(180/$a),l=Math.max(r,Math.min(a,l))),this.labelRotation=l}afterCalculateLabelRotation(){Ca(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Ca(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:t,options:{ticks:n,title:r,grid:a}}=this,s=this._isVisible(),i=this.isHorizontal();if(s){const s=hl(r,t.options.font);if(i?(e.width=this.maxWidth,e.height=ul(a)+s):(e.height=this.maxHeight,e.width=ul(a)+s),n.display&&this.ticks.length){const{first:t,last:r,widest:a,highest:s}=this._getLabelSizes(),o=2*n.padding,l=es(this.labelRotation),c=Math.cos(l),d=Math.sin(l);if(i){const t=n.mirror?0:d*a.width+c*s.height;e.height=Math.min(this.maxHeight,e.height+t+o)}else{const t=n.mirror?0:c*a.width+d*s.height;e.width=Math.min(this.maxWidth,e.width+t+o)}this._calculatePadding(t,r,d,c)}}this._handleMargins(),i?(this.width=this._length=t.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=t.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,t,n,r){const{ticks:{align:a,padding:s},position:i}=this.options,o=0!==this.labelRotation,l="top"!==i&&"x"===this.axis;if(this.isHorizontal()){const i=this.getPixelForTick(0)-this.left,c=this.right-this.getPixelForTick(this.ticks.length-1);let d=0,u=0;o?l?(d=r*e.width,u=n*t.height):(d=n*e.height,u=r*t.width):"start"===a?u=t.width:"end"===a?d=e.width:"inner"!==a&&(d=e.width/2,u=t.width/2),this.paddingLeft=Math.max((d-i+s)*this.width/(this.width-i),0),this.paddingRight=Math.max((u-c+s)*this.width/(this.width-c),0)}else{let n=t.height/2,r=e.height/2;"start"===a?(n=0,r=e.height):"end"===a&&(n=t.height,r=0),this.paddingTop=n+s,this.paddingBottom=r+s}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Ca(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:t}=this.options;return"top"===t||"bottom"===t||"x"===e}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){let t,n;for(this.beforeTickToLabelConversion(),this.generateTickLabels(e),t=0,n=e.length;t<n;t++)va(e[t].label)&&(e.splice(t,1),n--,t--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const t=this.options.ticks.sampleSize;let n=this.ticks;t<n.length&&(n=cl(n,t)),this._labelSizes=e=this._computeLabelSizes(n,n.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,t,n){const{ctx:r,_longestTextCache:a}=this,s=[],i=[],o=Math.floor(t/ll(t,n));let l,c,d,u,h,m,p,f,g,x,b,v=0,y=0;for(l=0;l<t;l+=o){if(u=e[l].label,h=this._resolveTickFontOptions(l),r.font=m=h.string,p=a[m]=a[m]||{data:{},gc:[]},f=h.lineHeight,g=x=0,va(u)||ya(u)){if(ya(u))for(c=0,d=u.length;c<d;++c)b=u[c],va(b)||ya(b)||(g=Rs(r,p.data,p.gc,g,b),x+=f)}else g=Rs(r,p.data,p.gc,g,u),x=f;s.push(g),i.push(x),v=Math.max(g,v),y=Math.max(x,y)}!function(e,t){_a(e,e=>{const n=e.gc,r=n.length/2;let a;if(r>t){for(a=0;a<r;++a)delete e.data[n[a]];n.splice(0,r)}})}(a,t);const w=s.indexOf(v),j=i.indexOf(y),N=e=>({width:s[e]||0,height:i[e]||0});return{first:N(0),last:N(t-1),widest:N(w),highest:N(j),widths:s,heights:i}}getLabelForValue(e){return e}getPixelForValue(e,t){return NaN}getValueForPixel(e){}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const t=this._startPixel+e*this._length;return os(this._alignToPixels?Is(this.chart,t,0):t,-32768,32767)}getDecimalForPixel(e){const t=(e-this._startPixel)/this._length;return this._reversePixels?1-t:t}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:t}=this;return e<0&&t<0?t:e>0&&t>0?e:0}getContext(e){const t=this.ticks||[];if(e>=0&&e<t.length){const n=t[e];return n.$context||(n.$context=function(e,t,n){return ii(e,{tick:n,index:t,type:"tick"})}(this.getContext(),e,n))}return this.$context||(this.$context=ii(this.chart.getContext(),{scale:this,type:"scale"}))}_tickSize(){const e=this.options.ticks,t=es(this.labelRotation),n=Math.abs(Math.cos(t)),r=Math.abs(Math.sin(t)),a=this._getLabelSizes(),s=e.autoSkipPadding||0,i=a?a.widest.width+s:0,o=a?a.highest.height+s:0;return this.isHorizontal()?o*n>i*r?i/n:o/r:o*r<i*n?o/n:i/r}_isVisible(){const e=this.options.display;return"auto"!==e?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const t=this.axis,n=this.chart,r=this.options,{grid:a,position:s,border:i}=r,o=a.offset,l=this.isHorizontal(),c=this.ticks.length+(o?1:0),d=ul(a),u=[],h=i.setContext(this.getContext()),m=h.display?h.width:0,p=m/2,f=function(e){return Is(n,e,m)};let g,x,b,v,y,w,j,N,k,S,C,_;if("top"===s)g=f(this.bottom),w=this.bottom-d,N=g-p,S=f(e.top)+p,_=e.bottom;else if("bottom"===s)g=f(this.top),S=e.top,_=f(e.bottom)-p,w=g+p,N=this.top+d;else if("left"===s)g=f(this.right),y=this.right-d,j=g-p,k=f(e.left)+p,C=e.right;else if("right"===s)g=f(this.left),k=e.left,C=f(e.right)-p,y=g+p,j=this.left+d;else if("x"===t){if("center"===s)g=f((e.top+e.bottom)/2+.5);else if(wa(s)){const e=Object.keys(s)[0],t=s[e];g=f(this.chart.scales[e].getPixelForValue(t))}S=e.top,_=e.bottom,w=g+p,N=w+d}else if("y"===t){if("center"===s)g=f((e.left+e.right)/2);else if(wa(s)){const e=Object.keys(s)[0],t=s[e];g=f(this.chart.scales[e].getPixelForValue(t))}y=g-p,j=y-d,k=e.left,C=e.right}const P=ka(r.ticks.maxTicksLimit,c),E=Math.max(1,Math.ceil(c/P));for(x=0;x<c;x+=E){const e=this.getContext(x),t=a.setContext(e),r=i.setContext(e),s=t.lineWidth,c=t.color,d=r.dash||[],h=r.dashOffset,m=t.tickWidth,p=t.tickColor,f=t.tickBorderDash||[],g=t.tickBorderDashOffset;b=dl(this,x,o),void 0!==b&&(v=Is(n,b,s),l?y=j=k=C=v:w=N=S=_=v,u.push({tx1:y,ty1:w,tx2:j,ty2:N,x1:k,y1:S,x2:C,y2:_,width:s,color:c,borderDash:d,borderDashOffset:h,tickWidth:m,tickColor:p,tickBorderDash:f,tickBorderDashOffset:g}))}return this._ticksLength=c,this._borderValue=g,u}_computeLabelItems(e){const t=this.axis,n=this.options,{position:r,ticks:a}=n,s=this.isHorizontal(),i=this.ticks,{align:o,crossAlign:l,padding:c,mirror:d}=a,u=ul(n.grid),h=u+c,m=d?-c:h,p=-es(this.labelRotation),f=[];let g,x,b,v,y,w,j,N,k,S,C,_,P="middle";if("top"===r)w=this.bottom-m,j=this._getXAxisLabelAlignment();else if("bottom"===r)w=this.top+m,j=this._getXAxisLabelAlignment();else if("left"===r){const e=this._getYAxisLabelAlignment(u);j=e.textAlign,y=e.x}else if("right"===r){const e=this._getYAxisLabelAlignment(u);j=e.textAlign,y=e.x}else if("x"===t){if("center"===r)w=(e.top+e.bottom)/2+h;else if(wa(r)){const e=Object.keys(r)[0],t=r[e];w=this.chart.scales[e].getPixelForValue(t)+h}j=this._getXAxisLabelAlignment()}else if("y"===t){if("center"===r)y=(e.left+e.right)/2-h;else if(wa(r)){const e=Object.keys(r)[0],t=r[e];y=this.chart.scales[e].getPixelForValue(t)}j=this._getYAxisLabelAlignment(u).textAlign}"y"===t&&("start"===o?P="top":"end"===o&&(P="bottom"));const E=this._getLabelSizes();for(g=0,x=i.length;g<x;++g){b=i[g],v=b.label;const e=a.setContext(this.getContext(g));N=this.getPixelForTick(g)+a.labelOffset,k=this._resolveTickFontOptions(g),S=k.lineHeight,C=ya(v)?v.length:1;const t=C/2,n=e.color,o=e.textStrokeColor,c=e.textStrokeWidth;let u,h=j;if(s?(y=N,"inner"===j&&(h=g===x-1?this.options.reverse?"left":"right":0===g?this.options.reverse?"right":"left":"center"),_="top"===r?"near"===l||0!==p?-C*S+S/2:"center"===l?-E.highest.height/2-t*S+S:-E.highest.height+S/2:"near"===l||0!==p?S/2:"center"===l?E.highest.height/2-t*S:E.highest.height-C*S,d&&(_*=-1),0===p||e.showLabelBackdrop||(y+=S/2*Math.sin(p))):(w=N,_=(1-C)*S/2),e.showLabelBackdrop){const t=ri(e.backdropPadding),n=E.heights[g],r=E.widths[g];let a=_-t.top,s=0-t.left;switch(P){case"middle":a-=n/2;break;case"bottom":a-=n}switch(j){case"center":s-=r/2;break;case"right":s-=r;break;case"inner":g===x-1?s-=r:g>0&&(s-=r/2)}u={left:s,top:a,width:r+t.width,height:n+t.height,color:e.backdropColor}}f.push({label:v,font:k,textOffset:_,options:{rotation:p,color:n,strokeColor:o,strokeWidth:c,textAlign:h,textBaseline:P,translation:[y,w],backdrop:u}})}return f}_getXAxisLabelAlignment(){const{position:e,ticks:t}=this.options;if(-es(this.labelRotation))return"top"===e?"left":"right";let n="center";return"start"===t.align?n="left":"end"===t.align?n="right":"inner"===t.align&&(n="inner"),n}_getYAxisLabelAlignment(e){const{position:t,ticks:{crossAlign:n,mirror:r,padding:a}}=this.options,s=e+a,i=this._getLabelSizes().widest.width;let o,l;return"left"===t?r?(l=this.right+a,"near"===n?o="left":"center"===n?(o="center",l+=i/2):(o="right",l+=i)):(l=this.right-s,"near"===n?o="right":"center"===n?(o="center",l-=i/2):(o="left",l=this.left)):"right"===t?r?(l=this.left+a,"near"===n?o="right":"center"===n?(o="center",l-=i/2):(o="left",l-=i)):(l=this.left+s,"near"===n?o="left":"center"===n?(o="center",l+=i/2):(o="right",l=this.right)):o="right",{textAlign:o,x:l}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,t=this.options.position;return"left"===t||"right"===t?{top:0,left:this.left,bottom:e.height,right:this.right}:"top"===t||"bottom"===t?{top:this.top,left:0,bottom:this.bottom,right:e.width}:void 0}drawBackground(){const{ctx:e,options:{backgroundColor:t},left:n,top:r,width:a,height:s}=this;t&&(e.save(),e.fillStyle=t,e.fillRect(n,r,a,s),e.restore())}getLineWidthForValue(e){const t=this.options.grid;if(!this._isVisible()||!t.display)return 0;const n=this.ticks.findIndex(t=>t.value===e);if(n>=0){return t.setContext(this.getContext(n)).lineWidth}return 0}drawGrid(e){const t=this.options.grid,n=this.ctx,r=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let a,s;const i=(e,t,r)=>{r.width&&r.color&&(n.save(),n.lineWidth=r.width,n.strokeStyle=r.color,n.setLineDash(r.borderDash||[]),n.lineDashOffset=r.borderDashOffset,n.beginPath(),n.moveTo(e.x,e.y),n.lineTo(t.x,t.y),n.stroke(),n.restore())};if(t.display)for(a=0,s=r.length;a<s;++a){const e=r[a];t.drawOnChartArea&&i({x:e.x1,y:e.y1},{x:e.x2,y:e.y2},e),t.drawTicks&&i({x:e.tx1,y:e.ty1},{x:e.tx2,y:e.ty2},{color:e.tickColor,width:e.tickWidth,borderDash:e.tickBorderDash,borderDashOffset:e.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:t,options:{border:n,grid:r}}=this,a=n.setContext(this.getContext()),s=n.display?a.width:0;if(!s)return;const i=r.setContext(this.getContext(0)).lineWidth,o=this._borderValue;let l,c,d,u;this.isHorizontal()?(l=Is(e,this.left,s)-s/2,c=Is(e,this.right,i)+i/2,d=u=o):(d=Is(e,this.top,s)-s/2,u=Is(e,this.bottom,i)+i/2,l=c=o),t.save(),t.lineWidth=a.width,t.strokeStyle=a.color,t.beginPath(),t.moveTo(l,d),t.lineTo(c,u),t.stroke(),t.restore()}drawLabels(e){if(!this.options.ticks.display)return;const t=this.ctx,n=this._computeLabelArea();n&&Ws(t,n);const r=this.getLabelItems(e);for(const a of r){const e=a.options,n=a.font;Gs(t,a.label,0,a.textOffset,n,e)}n&&Us(t)}drawTitle(){const{ctx:e,options:{position:t,title:n,reverse:r}}=this;if(!n.display)return;const a=ai(n.font),s=ri(n.padding),i=n.align;let o=a.lineHeight/2;"bottom"===t||"center"===t||wa(t)?(o+=s.bottom,ya(n.text)&&(o+=a.lineHeight*(n.text.length-1))):o+=s.top;const{titleX:l,titleY:c,maxWidth:d,rotation:u}=function(e,t,n,r){const{top:a,left:s,bottom:i,right:o,chart:l}=e,{chartArea:c,scales:d}=l;let u,h,m,p=0;const f=i-a,g=o-s;if(e.isHorizontal()){if(h=xs(r,s,o),wa(n)){const e=Object.keys(n)[0],r=n[e];m=d[e].getPixelForValue(r)+f-t}else m="center"===n?(c.bottom+c.top)/2+f-t:ol(e,n,t);u=o-s}else{if(wa(n)){const e=Object.keys(n)[0],r=n[e];h=d[e].getPixelForValue(r)-g+t}else h="center"===n?(c.left+c.right)/2-g+t:ol(e,n,t);m=xs(r,i,a),p="left"===n?-qa:qa}return{titleX:h,titleY:m,maxWidth:u,rotation:p}}(this,o,t,i);Gs(e,n.text,0,0,a,{color:n.color,maxWidth:d,rotation:u,textAlign:ml(i,t,r),textBaseline:"middle",translation:[l,c]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,t=e.ticks&&e.ticks.z||0,n=ka(e.grid&&e.grid.z,-1),r=ka(e.border&&e.border.z,0);return this._isVisible()&&this.draw===pl.prototype.draw?[{z:n,draw:e=>{this.drawBackground(),this.drawGrid(e),this.drawTitle()}},{z:r,draw:()=>{this.drawBorder()}},{z:t,draw:e=>{this.drawLabels(e)}}]:[{z:t,draw:e=>{this.draw(e)}}]}getMatchingVisibleMetas(e){const t=this.chart.getSortedVisibleDatasetMetas(),n=this.axis+"AxisID",r=[];let a,s;for(a=0,s=t.length;a<s;++a){const s=t[a];s[n]!==this.id||e&&s.type!==e||r.push(s)}return r}_resolveTickFontOptions(e){return ai(this.options.ticks.setContext(this.getContext(e)).font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class fl{constructor(e,t,n){this.type=e,this.scope=t,this.override=n,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const t=Object.getPrototypeOf(e);let n;(function(e){return"id"in e&&"defaults"in e})(t)&&(n=this.register(t));const r=this.items,a=e.id,s=this.scope+"."+a;if(!a)throw new Error("class does not have id: "+e);return a in r||(r[a]=e,function(e,t,n){const r=Ta(Object.create(null),[n?zs.get(n):{},zs.get(t),e.defaults]);zs.set(t,r),e.defaultRoutes&&function(e,t){Object.keys(t).forEach(n=>{const r=n.split("."),a=r.pop(),s=[e].concat(r).join("."),i=t[n].split("."),o=i.pop(),l=i.join(".");zs.route(s,a,l,o)})}(t,e.defaultRoutes);e.descriptors&&zs.describe(t,e.descriptors)}(e,s,n),this.override&&zs.override(e.id,e.overrides)),s}get(e){return this.items[e]}unregister(e){const t=this.items,n=e.id,r=this.scope;n in t&&delete t[n],r&&n in zs[r]&&(delete zs[r][n],this.override&&delete Ds[n])}}class gl{constructor(){this.controllers=new fl(bo,"datasets",!0),this.elements=new fl(al,"elements"),this.plugins=new fl(Object,"plugins"),this.scales=new fl(pl,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,t,n){[...t].forEach(t=>{const r=n||this._getRegistryForType(t);n||r.isForType(t)||r===this.plugins&&t.id?this._exec(e,r,t):_a(t,t=>{const r=n||this._getRegistryForType(t);this._exec(e,r,t)})})}_exec(e,t,n){const r=Ia(e);Ca(n["before"+r],[],n),t[e](n),Ca(n["after"+r],[],n)}_getRegistryForType(e){for(let t=0;t<this._typedRegistries.length;t++){const n=this._typedRegistries[t];if(n.isForType(e))return n}return this.plugins}_get(e,t,n){const r=t.get(e);if(void 0===r)throw new Error('"'+e+'" is not a registered '+n+".");return r}}var xl=new gl;class bl{constructor(){this._init=void 0}notify(e,t,n,r){if("beforeInit"===t&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install")),void 0===this._init)return;const a=r?this._descriptors(e).filter(r):this._descriptors(e),s=this._notify(a,e,t,n);return"afterDestroy"===t&&(this._notify(a,e,"stop"),this._notify(this._init,e,"uninstall"),this._init=void 0),s}_notify(e,t,n,r){r=r||{};for(const a of e){const e=a.plugin;if(!1===Ca(e[n],[t,r,a.options],e)&&r.cancelable)return!1}return!0}invalidate(){va(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const t=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),t}_createDescriptors(e,t){const n=e&&e.config,r=ka(n.options&&n.options.plugins,{}),a=function(e){const t={},n=[],r=Object.keys(xl.plugins.items);for(let s=0;s<r.length;s++)n.push(xl.getPlugin(r[s]));const a=e.plugins||[];for(let s=0;s<a.length;s++){const e=a[s];-1===n.indexOf(e)&&(n.push(e),t[e.id]=!0)}return{plugins:n,localIds:t}}(n);return!1!==r||t?function(e,{plugins:t,localIds:n},r,a){const s=[],i=e.getContext();for(const o of t){const t=o.id,l=vl(r[t],a);null!==l&&s.push({plugin:o,options:yl(e.config,{plugin:o,local:n[t]},l,i)})}return s}(e,a,r,t):[]}_notifyStateChanges(e){const t=this._oldCache||[],n=this._cache,r=(e,t)=>e.filter(e=>!t.some(t=>e.plugin.id===t.plugin.id));this._notify(r(t,n),e,"stop"),this._notify(r(n,t),e,"start")}}function vl(e,t){return t||!1!==e?!0===e?{}:e:null}function yl(e,{plugin:t,local:n},r,a){const s=e.pluginScopeKeys(t),i=e.getOptionScopes(r,s);return n&&t.defaults&&i.push(t.defaults),e.createResolver(i,a,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function wl(e,t){const n=zs.datasets[e]||{};return((t.datasets||{})[e]||{}).indexAxis||t.indexAxis||n.indexAxis||"x"}function jl(e){if("x"===e||"y"===e||"r"===e)return e}function Nl(e){return"top"===e||"bottom"===e?"x":"left"===e||"right"===e?"y":void 0}function kl(e,...t){if(jl(e))return e;for(const n of t){const t=n.axis||Nl(n.position)||e.length>1&&jl(e[0].toLowerCase());if(t)return t}throw new Error(`Cannot determine type of '${e}' axis. Please provide 'axis' or 'position' option.`)}function Sl(e,t,n){if(n[t+"AxisID"]===e)return{axis:t}}function Cl(e,t){const n=Ds[e.type]||{scales:{}},r=t.scales||{},a=wl(e.type,t),s=Object.create(null);return Object.keys(r).forEach(t=>{const i=r[t];if(!wa(i))return;if(i._proxy)return;const o=kl(t,i,function(e,t){if(t.data&&t.data.datasets){const n=t.data.datasets.filter(t=>t.xAxisID===e||t.yAxisID===e);if(n.length)return Sl(e,"x",n[0])||Sl(e,"y",n[0])}return{}}(t,e),zs.scales[i.type]),l=function(e,t){return e===t?"_index_":"_value_"}(o,a),c=n.scales||{};s[t]=Ma(Object.create(null),[{axis:o},i,c[o],c[l]])}),e.data.datasets.forEach(n=>{const a=n.type||e.type,i=n.indexAxis||wl(a,t),o=(Ds[a]||{}).scales||{};Object.keys(o).forEach(e=>{const t=function(e,t){let n=e;return"_index_"===e?n=t:"_value_"===e&&(n="x"===t?"y":"x"),n}(e,i),a=n[t+"AxisID"]||t;s[a]=s[a]||Object.create(null),Ma(s[a],[{axis:t},r[a],o[e]])})}),Object.keys(s).forEach(e=>{const t=s[e];Ma(t,[zs.scales[t.type],zs.scale])}),s}function _l(e){const t=e.options||(e.options={});t.plugins=ka(t.plugins,{}),t.scales=Cl(e,t)}function Pl(e){return(e=e||{}).datasets=e.datasets||[],e.labels=e.labels||[],e}const El=new Map,Dl=new Set;function Ol(e,t){let n=El.get(e);return n||(n=t(),El.set(e,n),Dl.add(n)),n}const Tl=(e,t,n)=>{const r=Ra(t,n);void 0!==r&&e.add(r)};class Ml{constructor(e){this._config=function(e){return(e=e||{}).data=Pl(e.data),_l(e),e}(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=Pl(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),_l(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return Ol(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,t){return Ol(`${e}.transition.${t}`,()=>[[`datasets.${e}.transitions.${t}`,`transitions.${t}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,t){return Ol(`${e}-${t}`,()=>[[`datasets.${e}.elements.${t}`,`datasets.${e}`,`elements.${t}`,""]])}pluginScopeKeys(e){const t=e.id;return Ol(`${this.type}-plugin-${t}`,()=>[[`plugins.${t}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,t){const n=this._scopeCache;let r=n.get(e);return r&&!t||(r=new Map,n.set(e,r)),r}getOptionScopes(e,t,n){const{options:r,type:a}=this,s=this._cachedScopes(e,n),i=s.get(t);if(i)return i;const o=new Set;t.forEach(t=>{e&&(o.add(e),t.forEach(t=>Tl(o,e,t))),t.forEach(e=>Tl(o,r,e)),t.forEach(e=>Tl(o,Ds[a]||{},e)),t.forEach(e=>Tl(o,zs,e)),t.forEach(e=>Tl(o,Os,e))});const l=Array.from(o);return 0===l.length&&l.push(Object.create(null)),Dl.has(t)&&s.set(t,l),l}chartOptionScopes(){const{options:e,type:t}=this;return[e,Ds[t]||{},zs.datasets[t]||{},{type:t},zs,Os]}resolveNamedOptions(e,t,n,r=[""]){const a={$shared:!0},{resolver:s,subPrefixes:i}=Al(this._resolverCache,e,r);let o=s;if(function(e,t){const{isScriptable:n,isIndexable:r}=ci(e);for(const a of t){const t=n(a),s=r(a),i=(s||t)&&e[a];if(t&&(La(i)||zl(i))||s&&ya(i))return!0}return!1}(s,t)){a.$shared=!1;o=li(s,n=La(n)?n():n,this.createResolver(e,n,i))}for(const l of t)a[l]=o[l];return a}createResolver(e,t,n=[""],r){const{resolver:a}=Al(this._resolverCache,e,n);return wa(t)?li(a,t,void 0,r):a}}function Al(e,t,n){let r=e.get(t);r||(r=new Map,e.set(t,r));const a=n.join();let s=r.get(a);if(!s){s={resolver:oi(t,n),subPrefixes:n.filter(e=>!e.toLowerCase().includes("hover"))},r.set(a,s)}return s}const zl=e=>wa(e)&&Object.getOwnPropertyNames(e).some(t=>La(e[t]));const Rl=["top","bottom","left","right","chartArea"];function Il(e,t){return"top"===e||"bottom"===e||-1===Rl.indexOf(e)&&"x"===t}function Fl(e,t){return function(n,r){return n[e]===r[e]?n[t]-r[t]:n[e]-r[e]}}function Ll(e){const t=e.chart,n=t.options.animation;t.notifyPlugins("afterRender"),Ca(n&&n.onComplete,[e],t)}function Bl(e){const t=e.chart,n=t.options.animation;Ca(n&&n.onProgress,[e],t)}function $l(e){return _i()&&"string"==typeof e?e=document.getElementById(e):e&&e.length&&(e=e[0]),e&&e.canvas&&(e=e.canvas),e}const Wl={},Ul=e=>{const t=$l(e);return Object.values(Wl).filter(e=>e.canvas===t).pop()};function Hl(e,t,n){const r=Object.keys(e);for(const a of r){const r=+a;if(r>=t){const s=e[a];delete e[a],(n>0||r>t)&&(e[r+n]=s)}}}let Vl=class{static defaults=zs;static instances=Wl;static overrides=Ds;static registry=xl;static version="4.5.1";static getChart=Ul;static register(...e){xl.add(...e),ql()}static unregister(...e){xl.remove(...e),ql()}constructor(e,t){const n=this.config=new Ml(t),r=$l(e),a=Ul(r);if(a)throw new Error("Canvas is already in use. Chart with ID '"+a.id+"' must be destroyed before the canvas with ID '"+a.canvas.id+"' can be reused.");const s=n.createResolver(n.chartOptionScopes(),this.getContext());this.platform=new(n.platform||function(e){return!_i()||"undefined"!=typeof OffscreenCanvas&&e instanceof OffscreenCanvas?Wo:rl}(r)),this.platform.updateConfig(n);const i=this.platform.acquireContext(r,s.aspectRatio),o=i&&i.canvas,l=o&&o.height,c=o&&o.width;this.id=ba(),this.ctx=i,this.canvas=o,this.width=c,this.height=l,this._options=s,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new bl,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=function(e,t){let n;return function(...r){return t?(clearTimeout(n),n=setTimeout(e,t,r)):e.apply(this,r),t}}(e=>this.update(e),s.resizeDelay||0),this._dataChanges=[],Wl[this.id]=this,i&&o&&(to.listen(this,"complete",Ll),to.listen(this,"progress",Bl),this._initialize(),this.attached&&this.update())}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:t},width:n,height:r,_aspectRatio:a}=this;return va(e)?t&&a?a:r?n/r:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return xl}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():Ri(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return Fs(this.canvas,this.ctx),this}stop(){return to.stop(this),this}resize(e,t){to.running(this)?this._resizeBeforeDraw={width:e,height:t}:this._resize(e,t)}_resize(e,t){const n=this.options,r=this.canvas,a=n.maintainAspectRatio&&this.aspectRatio,s=this.platform.getMaximumSize(r,e,t,a),i=n.devicePixelRatio||this.platform.getDevicePixelRatio(),o=this.width?"resize":"attach";this.width=s.width,this.height=s.height,this._aspectRatio=this.aspectRatio,Ri(this,i,!0)&&(this.notifyPlugins("resize",{size:s}),Ca(n.onResize,[this,s],this),this.attached&&this._doResize(o)&&this.render())}ensureScalesHaveIDs(){_a(this.options.scales||{},(e,t)=>{e.id=t})}buildOrUpdateScales(){const e=this.options,t=e.scales,n=this.scales,r=Object.keys(n).reduce((e,t)=>(e[t]=!1,e),{});let a=[];t&&(a=a.concat(Object.keys(t).map(e=>{const n=t[e],r=kl(e,n),a="r"===r,s="x"===r;return{options:n,dposition:a?"chartArea":s?"bottom":"left",dtype:a?"radialLinear":s?"category":"linear"}}))),_a(a,t=>{const a=t.options,s=a.id,i=kl(s,a),o=ka(a.type,t.dtype);void 0!==a.position&&Il(a.position,i)===Il(t.dposition)||(a.position=t.dposition),r[s]=!0;let l=null;if(s in n&&n[s].type===o)l=n[s];else{l=new(xl.getScale(o))({id:s,type:o,ctx:this.ctx,chart:this}),n[l.id]=l}l.init(a,e)}),_a(r,(e,t)=>{e||delete n[t]}),_a(n,e=>{Bo.configure(this,e,e.options),Bo.addBox(this,e)})}_updateMetasets(){const e=this._metasets,t=this.data.datasets.length,n=e.length;if(e.sort((e,t)=>e.index-t.index),n>t){for(let e=t;e<n;++e)this._destroyDatasetMeta(e);e.splice(t,n-t)}this._sortedMetasets=e.slice(0).sort(Fl("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:t}}=this;e.length>t.length&&delete this._stacks,e.forEach((e,n)=>{0===t.filter(t=>t===e._dataset).length&&this._destroyDatasetMeta(n)})}buildOrUpdateControllers(){const e=[],t=this.data.datasets;let n,r;for(this._removeUnreferencedMetasets(),n=0,r=t.length;n<r;n++){const r=t[n];let a=this.getDatasetMeta(n);const s=r.type||this.config.type;if(a.type&&a.type!==s&&(this._destroyDatasetMeta(n),a=this.getDatasetMeta(n)),a.type=s,a.indexAxis=r.indexAxis||wl(s,this.options),a.order=r.order||0,a.index=n,a.label=""+r.label,a.visible=this.isDatasetVisible(n),a.controller)a.controller.updateIndex(n),a.controller.linkScales();else{const t=xl.getController(s),{datasetElementType:r,dataElementType:i}=zs.datasets[s];Object.assign(t,{dataElementType:xl.getElement(i),datasetElementType:r&&xl.getElement(r)}),a.controller=new t(this,n),e.push(a.controller)}}return this._updateMetasets(),e}_resetElements(){_a(this.data.datasets,(e,t)=>{this.getDatasetMeta(t).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const t=this.config;t.update();const n=this._options=t.createResolver(t.chartOptionScopes(),this.getContext()),r=this._animationsDisabled=!n.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),!1===this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0}))return;const a=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let s=0;for(let l=0,c=this.data.datasets.length;l<c;l++){const{controller:e}=this.getDatasetMeta(l),t=!r&&-1===a.indexOf(e);e.buildOrUpdateElements(t),s=Math.max(+e.getMaxOverflow(),s)}s=this._minPadding=n.layout.autoPadding?s:0,this._updateLayout(s),r||_a(a,e=>{e.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(Fl("z","_idx"));const{_active:i,_lastEvent:o}=this;o?this._eventHandler(o,!0):i.length&&this._updateHoverStyles(i,i,!0),this.render()}_updateScales(){_a(this.scales,e=>{Bo.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,t=new Set(Object.keys(this._listeners)),n=new Set(e.events);Ba(t,n)&&!!this._responsiveListeners===e.responsive||(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,t=this._getUniformDataChanges()||[];for(const{method:n,start:r,count:a}of t){Hl(e,r,"_removeElements"===n?-a:a)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const t=this.data.datasets.length,n=t=>new Set(e.filter(e=>e[0]===t).map((e,t)=>t+","+e.splice(1).join(","))),r=n(0);for(let a=1;a<t;a++)if(!Ba(r,n(a)))return;return Array.from(r).map(e=>e.split(",")).map(e=>({method:e[1],start:+e[2],count:+e[3]}))}_updateLayout(e){if(!1===this.notifyPlugins("beforeLayout",{cancelable:!0}))return;Bo.update(this,this.width,this.height,e);const t=this.chartArea,n=t.width<=0||t.height<=0;this._layers=[],_a(this.boxes,e=>{n&&"chartArea"===e.position||(e.configure&&e.configure(),this._layers.push(...e._layers()))},this),this._layers.forEach((e,t)=>{e._idx=t}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(!1!==this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})){for(let e=0,t=this.data.datasets.length;e<t;++e)this.getDatasetMeta(e).controller.configure();for(let t=0,n=this.data.datasets.length;t<n;++t)this._updateDataset(t,La(e)?e({datasetIndex:t}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,t){const n=this.getDatasetMeta(e),r={meta:n,index:e,mode:t,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetUpdate",r)&&(n.controller._update(t),r.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",r))}render(){!1!==this.notifyPlugins("beforeRender",{cancelable:!0})&&(to.has(this)?this.attached&&!to.running(this)&&to.start(this):(this.draw(),Ll({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:e,height:t}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(e,t)}if(this.clear(),this.width<=0||this.height<=0)return;if(!1===this.notifyPlugins("beforeDraw",{cancelable:!0}))return;const t=this._layers;for(e=0;e<t.length&&t[e].z<=0;++e)t[e].draw(this.chartArea);for(this._drawDatasets();e<t.length;++e)t[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const t=this._sortedMetasets,n=[];let r,a;for(r=0,a=t.length;r<a;++r){const a=t[r];e&&!a.visible||n.push(a)}return n}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(!1===this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0}))return;const e=this.getSortedVisibleDatasetMetas();for(let t=e.length-1;t>=0;--t)this._drawDataset(e[t]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const t=this.ctx,n={meta:e,index:e.index,cancelable:!0},r=Zi(this,e);!1!==this.notifyPlugins("beforeDatasetDraw",n)&&(r&&Ws(t,r),e.controller.draw(),r&&Us(t),n.cancelable=!1,this.notifyPlugins("afterDatasetDraw",n))}isPointInArea(e){return $s(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,t,n,r){const a=_o.modes[t];return"function"==typeof a?a(this,e,n,r):[]}getDatasetMeta(e){const t=this.data.datasets[e],n=this._metasets;let r=n.filter(e=>e&&e._dataset===t).pop();return r||(r={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:t&&t.order||0,index:e,_dataset:t,_parsed:[],_sorted:!1},n.push(r)),r}getContext(){return this.$context||(this.$context=ii(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const t=this.data.datasets[e];if(!t)return!1;const n=this.getDatasetMeta(e);return"boolean"==typeof n.hidden?!n.hidden:!t.hidden}setDatasetVisibility(e,t){this.getDatasetMeta(e).hidden=!t}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,t,n){const r=n?"show":"hide",a=this.getDatasetMeta(e),s=a.controller._resolveAnimations(void 0,r);Fa(t)?(a.data[t].hidden=!n,this.update()):(this.setDatasetVisibility(e,n),s.update(a,{visible:n}),this.update(t=>t.datasetIndex===e?r:void 0))}hide(e,t){this._updateVisibility(e,t,!1)}show(e,t){this._updateVisibility(e,t,!0)}_destroyDatasetMeta(e){const t=this._metasets[e];t&&t.controller&&t.controller._destroy(),delete this._metasets[e]}_stop(){let e,t;for(this.stop(),to.remove(this),e=0,t=this.data.datasets.length;e<t;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:t}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),Fs(e,t),this.platform.releaseContext(t),this.canvas=null,this.ctx=null),delete Wl[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,t=this.platform,n=(n,r)=>{t.addEventListener(this,n,r),e[n]=r},r=(e,t,n)=>{e.offsetX=t,e.offsetY=n,this._eventHandler(e)};_a(this.options.events,e=>n(e,r))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,t=this.platform,n=(n,r)=>{t.addEventListener(this,n,r),e[n]=r},r=(n,r)=>{e[n]&&(t.removeEventListener(this,n,r),delete e[n])},a=(e,t)=>{this.canvas&&this.resize(e,t)};let s;const i=()=>{r("attach",i),this.attached=!0,this.resize(),n("resize",a),n("detach",s)};s=()=>{this.attached=!1,r("resize",a),this._stop(),this._resize(0,0),n("attach",i)},t.isAttached(this.canvas)?i():s()}unbindEvents(){_a(this._listeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._listeners={},_a(this._responsiveListeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,t,n){const r=n?"set":"remove";let a,s,i,o;for("dataset"===t&&(a=this.getDatasetMeta(e[0].datasetIndex),a.controller["_"+r+"DatasetHoverStyle"]()),i=0,o=e.length;i<o;++i){s=e[i];const t=s&&this.getDatasetMeta(s.datasetIndex).controller;t&&t[r+"HoverStyle"](s.element,s.datasetIndex,s.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const t=this._active||[],n=e.map(({datasetIndex:e,index:t})=>{const n=this.getDatasetMeta(e);if(!n)throw new Error("No dataset found at index "+e);return{datasetIndex:e,element:n.data[t],index:t}});!Pa(n,t)&&(this._active=n,this._lastEvent=null,this._updateHoverStyles(n,t))}notifyPlugins(e,t,n){return this._plugins.notify(this,e,t,n)}isPluginEnabled(e){return 1===this._plugins._cache.filter(t=>t.plugin.id===e).length}_updateHoverStyles(e,t,n){const r=this.options.hover,a=(e,t)=>e.filter(e=>!t.some(t=>e.datasetIndex===t.datasetIndex&&e.index===t.index)),s=a(t,e),i=n?e:a(e,t);s.length&&this.updateHoverStyle(s,r.mode,!1),i.length&&r.mode&&this.updateHoverStyle(i,r.mode,!0)}_eventHandler(e,t){const n={event:e,replay:t,cancelable:!0,inChartArea:this.isPointInArea(e)},r=t=>(t.options.events||this.options.events).includes(e.native.type);if(!1===this.notifyPlugins("beforeEvent",n,r))return;const a=this._handleEvent(e,t,n.inChartArea);return n.cancelable=!1,this.notifyPlugins("afterEvent",n,r),(a||n.changed)&&this.render(),this}_handleEvent(e,t,n){const{_active:r=[],options:a}=this,s=t,i=this._getActiveElements(e,r,n,s),o=function(e){return"mouseup"===e.type||"click"===e.type||"contextmenu"===e.type}(e),l=function(e,t,n,r){return n&&"mouseout"!==e.type?r?t:e:null}(e,this._lastEvent,n,o);n&&(this._lastEvent=null,Ca(a.onHover,[e,i,this],this),o&&Ca(a.onClick,[e,i,this],this));const c=!Pa(i,r);return(c||t)&&(this._active=i,this._updateHoverStyles(i,r,t)),this._lastEvent=l,c}_getActiveElements(e,t,n,r){if("mouseout"===e.type)return[];if(!n)return t;const a=this.options.hover;return this.getElementsAtEventForMode(e,a.mode,a,r)}};function ql(){return _a(Vl.instances,e=>e._plugins.invalidate())}function Yl(e,t,n,r){const a=ei(e.options.borderRadius,["outerStart","outerEnd","innerStart","innerEnd"]);const s=(n-t)/2,i=Math.min(s,r*t/2),o=e=>{const t=(n-Math.min(s,e))*r/2;return os(e,0,Math.min(s,t))};return{outerStart:o(a.outerStart),outerEnd:o(a.outerEnd),innerStart:os(a.innerStart,0,i),innerEnd:os(a.innerEnd,0,i)}}function Gl(e,t,n,r){return{x:n+e*Math.cos(t),y:r+e*Math.sin(t)}}function Kl(e,t,n,r,a,s){const{x:i,y:o,startAngle:l,pixelMargin:c,innerRadius:d}=t,u=Math.max(t.outerRadius+r+n-c,0),h=d>0?d+r+n+c:0;let m=0;const p=a-l;if(r){const e=((d>0?d-r:0)+(u>0?u-r:0))/2;m=(p-(0!==e?p*e/(e+r):p))/2}const f=(p-Math.max(.001,p*u-n/$a)/u)/2,g=l+f+m,x=a-f-m,{outerStart:b,outerEnd:v,innerStart:y,innerEnd:w}=Yl(t,h,u,x-g),j=u-b,N=u-v,k=g+b/j,S=x-v/N,C=h+y,_=h+w,P=g+y/C,E=x-w/_;if(e.beginPath(),s){const t=(k+S)/2;if(e.arc(i,o,u,k,t),e.arc(i,o,u,t,S),v>0){const t=Gl(N,S,i,o);e.arc(t.x,t.y,v,S,x+qa)}const n=Gl(_,x,i,o);if(e.lineTo(n.x,n.y),w>0){const t=Gl(_,E,i,o);e.arc(t.x,t.y,w,x+qa,E+Math.PI)}const r=(x-w/h+(g+y/h))/2;if(e.arc(i,o,h,x-w/h,r,!0),e.arc(i,o,h,r,g+y/h,!0),y>0){const t=Gl(C,P,i,o);e.arc(t.x,t.y,y,P+Math.PI,g-qa)}const a=Gl(j,g,i,o);if(e.lineTo(a.x,a.y),b>0){const t=Gl(j,k,i,o);e.arc(t.x,t.y,b,g-qa,k)}}else{e.moveTo(i,o);const t=Math.cos(k)*u+i,n=Math.sin(k)*u+o;e.lineTo(t,n);const r=Math.cos(S)*u+i,a=Math.sin(S)*u+o;e.lineTo(r,a)}e.closePath()}function Xl(e,t,n,r,a){const{fullCircles:s,startAngle:i,circumference:o,options:l}=t,{borderWidth:c,borderJoinStyle:d,borderDash:u,borderDashOffset:h,borderRadius:m}=l,p="inner"===l.borderAlign;if(!c)return;e.setLineDash(u||[]),e.lineDashOffset=h,p?(e.lineWidth=2*c,e.lineJoin=d||"round"):(e.lineWidth=c,e.lineJoin=d||"bevel");let f=t.endAngle;if(s){Kl(e,t,n,r,f,a);for(let t=0;t<s;++t)e.stroke();isNaN(o)||(f=i+(o%Wa||Wa))}p&&function(e,t,n){const{startAngle:r,pixelMargin:a,x:s,y:i,outerRadius:o,innerRadius:l}=t;let c=a/o;e.beginPath(),e.arc(s,i,o,r-c,n+c),l>a?(c=a/l,e.arc(s,i,l,n+c,r-c,!0)):e.arc(s,i,a,n+qa,r-qa),e.closePath(),e.clip()}(e,t,f),l.selfJoin&&f-i>=$a&&0===m&&"miter"!==d&&function(e,t,n){const{startAngle:r,x:a,y:s,outerRadius:i,innerRadius:o,options:l}=t,{borderWidth:c,borderJoinStyle:d}=l,u=Math.min(c/i,ss(r-n));if(e.beginPath(),e.arc(a,s,i-c/2,r+u/2,n-u/2),o>0){const t=Math.min(c/o,ss(r-n));e.arc(a,s,o+c/2,n-t/2,r+t/2,!0)}else{const t=Math.min(c/2,i*ss(r-n));if("round"===d)e.arc(a,s,t,n-$a/2,r+$a/2,!0);else if("bevel"===d){const i=2*t*t,o=-i*Math.cos(n+$a/2)+a,l=-i*Math.sin(n+$a/2)+s,c=i*Math.cos(r+$a/2)+a,d=i*Math.sin(r+$a/2)+s;e.lineTo(o,l),e.lineTo(c,d)}}e.closePath(),e.moveTo(0,0),e.rect(0,0,e.canvas.width,e.canvas.height),e.clip("evenodd")}(e,t,f),s||(Kl(e,t,n,r,f,a),e.stroke())}function Ql(e,t,n=t){e.lineCap=ka(n.borderCapStyle,t.borderCapStyle),e.setLineDash(ka(n.borderDash,t.borderDash)),e.lineDashOffset=ka(n.borderDashOffset,t.borderDashOffset),e.lineJoin=ka(n.borderJoinStyle,t.borderJoinStyle),e.lineWidth=ka(n.borderWidth,t.borderWidth),e.strokeStyle=ka(n.borderColor,t.borderColor)}function Jl(e,t,n){e.lineTo(n.x,n.y)}function Zl(e,t,n={}){const r=e.length,{start:a=0,end:s=r-1}=n,{start:i,end:o}=t,l=Math.max(a,i),c=Math.min(s,o),d=a<i&&s<i||a>o&&s>o;return{count:r,start:l,loop:t.loop,ilen:c<l&&!d?r+c-l:c-l}}function ec(e,t,n,r){const{points:a,options:s}=t,{count:i,start:o,loop:l,ilen:c}=Zl(a,n,r),d=function(e){return e.stepped?Hs:e.tension||"monotone"===e.cubicInterpolationMode?Vs:Jl}(s);let u,h,m,{move:p=!0,reverse:f}=r||{};for(u=0;u<=c;++u)h=a[(o+(f?c-u:u))%i],h.skip||(p?(e.moveTo(h.x,h.y),p=!1):d(e,m,h,f,s.stepped),m=h);return l&&(h=a[(o+(f?c:0))%i],d(e,m,h,f,s.stepped)),!!l}function tc(e,t,n,r){const a=t.points,{count:s,start:i,ilen:o}=Zl(a,n,r),{move:l=!0,reverse:c}=r||{};let d,u,h,m,p,f,g=0,x=0;const b=e=>(i+(c?o-e:e))%s,v=()=>{m!==p&&(e.lineTo(g,p),e.lineTo(g,m),e.lineTo(g,f))};for(l&&(u=a[b(0)],e.moveTo(u.x,u.y)),d=0;d<=o;++d){if(u=a[b(d)],u.skip)continue;const t=u.x,n=u.y,r=0|t;r===h?(n<m?m=n:n>p&&(p=n),g=(x*g+t)/++x):(v(),e.lineTo(t,n),h=r,x=0,m=p=n),f=n}v()}function nc(e){const t=e.options,n=t.borderDash&&t.borderDash.length;return!(e._decimated||e._loop||t.tension||"monotone"===t.cubicInterpolationMode||t.stepped||n)?tc:ec}const rc="function"==typeof Path2D;function ac(e,t,n,r){rc&&!t.options.segment?function(e,t,n,r){let a=t._path;a||(a=t._path=new Path2D,t.path(a,n,r)&&a.closePath()),Ql(e,t.options),e.stroke(a)}(e,t,n,r):function(e,t,n,r){const{segments:a,options:s}=t,i=nc(t);for(const o of a)Ql(e,s,o.style),e.beginPath(),i(e,t,o,{start:n,end:n+r-1})&&e.closePath(),e.stroke()}(e,t,n,r)}class sc extends al{static id="line";static defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};static descriptors={_scriptable:!0,_indexable:e=>"borderDash"!==e&&"fill"!==e};constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,t){const n=this.options;if((n.tension||"monotone"===n.cubicInterpolationMode)&&!n.stepped&&!this._pointsUpdated){const r=n.spanGaps?this._loop:this._fullLoop;Ci(this._points,n,e,r,t),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=function(e,t){const n=e.points,r=e.options.spanGaps,a=n.length;if(!a)return[];const s=!!e._loop,{start:i,end:o}=function(e,t,n,r){let a=0,s=t-1;if(n&&!r)for(;a<t&&!e[a].skip;)a++;for(;a<t&&e[a].skip;)a++;for(a%=t,n&&(s+=a);s>a&&e[s%t].skip;)s--;return s%=t,{start:a,end:s}}(n,a,s,r);return Ki(e,!0===r?[{start:i,end:o,loop:s}]:function(e,t,n,r){const a=e.length,s=[];let i,o=t,l=e[t];for(i=t+1;i<=n;++i){const n=e[i%a];n.skip||n.stop?l.skip||(r=!1,s.push({start:t%a,end:(i-1)%a,loop:r}),t=o=n.stop?i:null):(o=i,l.skip&&(t=i)),l=n}return null!==o&&s.push({start:t%a,end:o%a,loop:r}),s}(n,i,o<i?o+a:o,!!e._fullLoop&&0===i&&o===a-1),n,t)}(this,this.options.segment))}first(){const e=this.segments,t=this.points;return e.length&&t[e[0].start]}last(){const e=this.segments,t=this.points,n=e.length;return n&&t[e[n-1].end]}interpolate(e,t){const n=this.options,r=e[t],a=this.points,s=Gi(this,{property:t,start:r,end:r});if(!s.length)return;const i=[],o=function(e){return e.stepped?Bi:e.tension||"monotone"===e.cubicInterpolationMode?$i:Li}(n);let l,c;for(l=0,c=s.length;l<c;++l){const{start:c,end:d}=s[l],u=a[c],h=a[d];if(u===h){i.push(u);continue}const m=o(u,h,Math.abs((r-u[t])/(h[t]-u[t])),n.stepped);m[t]=e[t],i.push(m)}return 1===i.length?i[0]:i}pathSegment(e,t,n){return nc(this)(e,this,t,n)}path(e,t,n){const r=this.segments,a=nc(this);let s=this._loop;t=t||0,n=n||this.points.length-t;for(const i of r)s&=a(e,this,i,{start:t,end:t+n-1});return!!s}draw(e,t,n,r){const a=this.options||{};(this.points||[]).length&&a.borderWidth&&(e.save(),ac(e,this,n,r),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}function ic(e,t,n,r){const a=e.options,{[n]:s}=e.getProps([n],r);return Math.abs(t-s)<a.radius+a.hitRadius}function oc(e,t){const{x:n,y:r,base:a,width:s,height:i}=e.getProps(["x","y","base","width","height"],t);let o,l,c,d,u;return e.horizontal?(u=i/2,o=Math.min(n,a),l=Math.max(n,a),c=r-u,d=r+u):(u=s/2,o=n-u,l=n+u,c=Math.min(r,a),d=Math.max(r,a)),{left:o,top:c,right:l,bottom:d}}function lc(e,t,n,r){return e?0:os(t,n,r)}function cc(e){const t=oc(e),n=t.right-t.left,r=t.bottom-t.top,a=function(e,t,n){const r=e.options.borderWidth,a=e.borderSkipped,s=ti(r);return{t:lc(a.top,s.top,0,n),r:lc(a.right,s.right,0,t),b:lc(a.bottom,s.bottom,0,n),l:lc(a.left,s.left,0,t)}}(e,n/2,r/2),s=function(e,t,n){const{enableBorderRadius:r}=e.getProps(["enableBorderRadius"]),a=e.options.borderRadius,s=ni(a),i=Math.min(t,n),o=e.borderSkipped,l=r||wa(a);return{topLeft:lc(!l||o.top||o.left,s.topLeft,0,i),topRight:lc(!l||o.top||o.right,s.topRight,0,i),bottomLeft:lc(!l||o.bottom||o.left,s.bottomLeft,0,i),bottomRight:lc(!l||o.bottom||o.right,s.bottomRight,0,i)}}(e,n/2,r/2);return{outer:{x:t.left,y:t.top,w:n,h:r,radius:s},inner:{x:t.left+a.l,y:t.top+a.t,w:n-a.l-a.r,h:r-a.t-a.b,radius:{topLeft:Math.max(0,s.topLeft-Math.max(a.t,a.l)),topRight:Math.max(0,s.topRight-Math.max(a.t,a.r)),bottomLeft:Math.max(0,s.bottomLeft-Math.max(a.b,a.l)),bottomRight:Math.max(0,s.bottomRight-Math.max(a.b,a.r))}}}}function dc(e,t,n,r){const a=null===t,s=null===n,i=e&&!(a&&s)&&oc(e,r);return i&&(a||ls(t,i.left,i.right))&&(s||ls(n,i.top,i.bottom))}function uc(e,t){e.rect(t.x,t.y,t.w,t.h)}function hc(e,t,n={}){const r=e.x!==n.x?-t:0,a=e.y!==n.y?-t:0,s=(e.x+e.w!==n.x+n.w?t:0)-r,i=(e.y+e.h!==n.y+n.h?t:0)-a;return{x:e.x+r,y:e.y+a,w:e.w+s,h:e.h+i,radius:e.radius}}function mc(e,t,n,r){if(r)return;let a=t[e],s=n[e];return"angle"===e&&(a=ss(a),s=ss(s)),{property:e,start:a,end:s}}function pc(e,t,n){for(;t>e;t--){const e=n[t];if(!isNaN(e.x)&&!isNaN(e.y))break}return t}function fc(e,t,n,r){return e&&t?r(e[n],t[n]):e?e[n]:t?t[n]:0}function gc(e,t){let n=[],r=!1;return ya(e)?(r=!0,n=e):n=function(e,t){const{x:n=null,y:r=null}=e||{},a=t.points,s=[];return t.segments.forEach(({start:e,end:t})=>{t=pc(e,t,a);const i=a[e],o=a[t];null!==r?(s.push({x:i.x,y:r}),s.push({x:o.x,y:r})):null!==n&&(s.push({x:n,y:i.y}),s.push({x:n,y:o.y}))}),s}(e,t),n.length?new sc({points:n,options:{tension:0},_loop:r,_fullLoop:r}):null}function xc(e){return e&&!1!==e.fill}function bc(e,t,n){let r=e[t].fill;const a=[t];let s;if(!n)return r;for(;!1!==r&&-1===a.indexOf(r);){if(!ja(r))return r;if(s=e[r],!s)return!1;if(s.visible)return r;a.push(r),r=s.fill}return!1}function vc(e,t,n){const r=function(e){const t=e.options,n=t.fill;let r=ka(n&&n.target,n);void 0===r&&(r=!!t.backgroundColor);if(!1===r||null===r)return!1;if(!0===r)return"origin";return r}(e);if(wa(r))return!isNaN(r.value)&&r;let a=parseFloat(r);return ja(a)&&Math.floor(a)===a?function(e,t,n,r){"-"!==e&&"+"!==e||(n=t+n);if(n===t||n<0||n>=r)return!1;return n}(r[0],t,a,n):["origin","start","end","stack","shape"].indexOf(r)>=0&&r}function yc(e,t,n){const r=[];for(let a=0;a<n.length;a++){const s=n[a],{first:i,last:o,point:l}=wc(s,t,"x");if(!(!l||i&&o))if(i)r.unshift(l);else if(e.push(l),!o)break}e.push(...r)}function wc(e,t,n){const r=e.interpolate(t,n);if(!r)return{};const a=r[n],s=e.segments,i=e.points;let o=!1,l=!1;for(let c=0;c<s.length;c++){const e=s[c],t=i[e.start][n],r=i[e.end][n];if(ls(a,t,r)){o=a===t,l=a===r;break}}return{first:o,last:l,point:r}}class jc{constructor(e){this.x=e.x,this.y=e.y,this.radius=e.radius}pathSegment(e,t,n){const{x:r,y:a,radius:s}=this;return t=t||{start:0,end:Wa},e.arc(r,a,s,t.end,t.start,!0),!n.bounds}interpolate(e){const{x:t,y:n,radius:r}=this,a=e.angle;return{x:t+Math.cos(a)*r,y:n+Math.sin(a)*r,angle:a}}}function Nc(e){const{chart:t,fill:n,line:r}=e;if(ja(n))return function(e,t){const n=e.getDatasetMeta(t),r=n&&e.isDatasetVisible(t);return r?n.dataset:null}(t,n);if("stack"===n)return function(e){const{scale:t,index:n,line:r}=e,a=[],s=r.segments,i=r.points,o=function(e,t){const n=[],r=e.getMatchingVisibleMetas("line");for(let a=0;a<r.length;a++){const e=r[a];if(e.index===t)break;e.hidden||n.unshift(e.dataset)}return n}(t,n);o.push(gc({x:null,y:t.bottom},r));for(let l=0;l<s.length;l++){const e=s[l];for(let t=e.start;t<=e.end;t++)yc(a,i[t],o)}return new sc({points:a,options:{}})}(e);if("shape"===n)return!0;const a=function(e){const t=e.scale||{};if(t.getPointPositionForValue)return function(e){const{scale:t,fill:n}=e,r=t.options,a=t.getLabels().length,s=r.reverse?t.max:t.min,i=function(e,t,n){let r;return r="start"===e?n:"end"===e?t.options.reverse?t.min:t.max:wa(e)?e.value:t.getBaseValue(),r}(n,t,s),o=[];if(r.grid.circular){const e=t.getPointPositionForValue(0,s);return new jc({x:e.x,y:e.y,radius:t.getDistanceFromCenterForValue(i)})}for(let l=0;l<a;++l)o.push(t.getPointPositionForValue(l,i));return o}(e);return function(e){const{scale:t={},fill:n}=e,r=function(e,t){let n=null;return"start"===e?n=t.bottom:"end"===e?n=t.top:wa(e)?n=t.getPixelForValue(e.value):t.getBasePixel&&(n=t.getBasePixel()),n}(n,t);if(ja(r)){const e=t.isHorizontal();return{x:e?r:null,y:e?null:r}}return null}(e)}(e);return a instanceof jc?a:gc(a,r)}function kc(e,t,n){const r=Nc(t),{chart:a,index:s,line:i,scale:o,axis:l}=t,c=i.options,d=c.fill,u=c.backgroundColor,{above:h=u,below:m=u}=d||{},p=a.getDatasetMeta(s),f=Zi(a,p);r&&i.points.length&&(Ws(e,n),function(e,t){const{line:n,target:r,above:a,below:s,area:i,scale:o,clip:l}=t,c=n._loop?"angle":t.axis;e.save();let d=s;s!==a&&("x"===c?(Sc(e,r,i.top),_c(e,{line:n,target:r,color:a,scale:o,property:c,clip:l}),e.restore(),e.save(),Sc(e,r,i.bottom)):"y"===c&&(Cc(e,r,i.left),_c(e,{line:n,target:r,color:s,scale:o,property:c,clip:l}),e.restore(),e.save(),Cc(e,r,i.right),d=a));_c(e,{line:n,target:r,color:d,scale:o,property:c,clip:l}),e.restore()}(e,{line:i,target:r,above:h,below:m,area:n,scale:o,axis:l,clip:f}),Us(e))}function Sc(e,t,n){const{segments:r,points:a}=t;let s=!0,i=!1;e.beginPath();for(const o of r){const{start:r,end:l}=o,c=a[r],d=a[pc(r,l,a)];s?(e.moveTo(c.x,c.y),s=!1):(e.lineTo(c.x,n),e.lineTo(c.x,c.y)),i=!!t.pathSegment(e,o,{move:i}),i?e.closePath():e.lineTo(d.x,n)}e.lineTo(t.first().x,n),e.closePath(),e.clip()}function Cc(e,t,n){const{segments:r,points:a}=t;let s=!0,i=!1;e.beginPath();for(const o of r){const{start:r,end:l}=o,c=a[r],d=a[pc(r,l,a)];s?(e.moveTo(c.x,c.y),s=!1):(e.lineTo(n,c.y),e.lineTo(c.x,c.y)),i=!!t.pathSegment(e,o,{move:i}),i?e.closePath():e.lineTo(n,d.y)}e.lineTo(n,t.first().y),e.closePath(),e.clip()}function _c(e,t){const{line:n,target:r,property:a,color:s,scale:i,clip:o}=t,l=function(e,t,n){const r=e.segments,a=e.points,s=t.points,i=[];for(const o of r){let{start:e,end:r}=o;r=pc(e,r,a);const l=mc(n,a[e],a[r],o.loop);if(!t.segments){i.push({source:o,target:l,start:a[e],end:a[r]});continue}const c=Gi(t,l);for(const t of c){const e=mc(n,s[t.start],s[t.end],t.loop),r=Yi(o,a,e);for(const a of r)i.push({source:a,target:t,start:{[n]:fc(l,e,"start",Math.max)},end:{[n]:fc(l,e,"end",Math.min)}})}}return i}(n,r,a);for(const{source:c,target:d,start:u,end:h}of l){const{style:{backgroundColor:t=s}={}}=c,l=!0!==r;e.save(),e.fillStyle=t,Pc(e,i,o,l&&mc(a,u,h)),e.beginPath();const m=!!n.pathSegment(e,c);let p;if(l){m?e.closePath():Ec(e,r,h,a);const t=!!r.pathSegment(e,d,{move:m,reverse:!0});p=m&&t,p||Ec(e,r,u,a)}e.closePath(),e.fill(p?"evenodd":"nonzero"),e.restore()}}function Pc(e,t,n,r){const a=t.chart.chartArea,{property:s,start:i,end:o}=r||{};if("x"===s||"y"===s){let t,r,l,c;"x"===s?(t=i,r=a.top,l=o,c=a.bottom):(t=a.left,r=i,l=a.right,c=o),e.beginPath(),n&&(t=Math.max(t,n.left),l=Math.min(l,n.right),r=Math.max(r,n.top),c=Math.min(c,n.bottom)),e.rect(t,r,l-t,c-r),e.clip()}}function Ec(e,t,n,r){const a=t.interpolate(n,r);a&&e.lineTo(a.x,a.y)}var Dc={id:"filler",afterDatasetsUpdate(e,t,n){const r=(e.data.datasets||[]).length,a=[];let s,i,o,l;for(i=0;i<r;++i)s=e.getDatasetMeta(i),o=s.dataset,l=null,o&&o.options&&o instanceof sc&&(l={visible:e.isDatasetVisible(i),index:i,fill:vc(o,i,r),chart:e,axis:s.controller.options.indexAxis,scale:s.vScale,line:o}),s.$filler=l,a.push(l);for(i=0;i<r;++i)l=a[i],l&&!1!==l.fill&&(l.fill=bc(a,i,n.propagate))},beforeDraw(e,t,n){const r="beforeDraw"===n.drawTime,a=e.getSortedVisibleDatasetMetas(),s=e.chartArea;for(let i=a.length-1;i>=0;--i){const t=a[i].$filler;t&&(t.line.updateControlPoints(s,t.axis),r&&t.fill&&kc(e.ctx,t,s))}},beforeDatasetsDraw(e,t,n){if("beforeDatasetsDraw"!==n.drawTime)return;const r=e.getSortedVisibleDatasetMetas();for(let a=r.length-1;a>=0;--a){const t=r[a].$filler;xc(t)&&kc(e.ctx,t,e.chartArea)}},beforeDatasetDraw(e,t,n){const r=t.meta.$filler;xc(r)&&"beforeDatasetDraw"===n.drawTime&&kc(e.ctx,r,e.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const Oc=(e,t)=>{let{boxHeight:n=t,boxWidth:r=t}=e;return e.usePointStyle&&(n=Math.min(n,t),r=e.pointStyleWidth||Math.min(r,t)),{boxWidth:r,boxHeight:n,itemHeight:Math.max(t,n)}};class Tc extends al{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t,n){this.maxWidth=e,this.maxHeight=t,this._margins=n,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let t=Ca(e.generateLabels,[this.chart],this)||[];e.filter&&(t=t.filter(t=>e.filter(t,this.chart.data))),e.sort&&(t=t.sort((t,n)=>e.sort(t,n,this.chart.data))),this.options.reverse&&t.reverse(),this.legendItems=t}fit(){const{options:e,ctx:t}=this;if(!e.display)return void(this.width=this.height=0);const n=e.labels,r=ai(n.font),a=r.size,s=this._computeTitleHeight(),{boxWidth:i,itemHeight:o}=Oc(n,a);let l,c;t.font=r.string,this.isHorizontal()?(l=this.maxWidth,c=this._fitRows(s,a,i,o)+10):(c=this.maxHeight,l=this._fitCols(s,r,i,o)+10),this.width=Math.min(l,e.maxWidth||this.maxWidth),this.height=Math.min(c,e.maxHeight||this.maxHeight)}_fitRows(e,t,n,r){const{ctx:a,maxWidth:s,options:{labels:{padding:i}}}=this,o=this.legendHitBoxes=[],l=this.lineWidths=[0],c=r+i;let d=e;a.textAlign="left",a.textBaseline="middle";let u=-1,h=-c;return this.legendItems.forEach((e,m)=>{const p=n+t/2+a.measureText(e.text).width;(0===m||l[l.length-1]+p+2*i>s)&&(d+=c,l[l.length-(m>0?0:1)]=0,h+=c,u++),o[m]={left:0,top:h,row:u,width:p,height:r},l[l.length-1]+=p+i}),d}_fitCols(e,t,n,r){const{ctx:a,maxHeight:s,options:{labels:{padding:i}}}=this,o=this.legendHitBoxes=[],l=this.columnSizes=[],c=s-e;let d=i,u=0,h=0,m=0,p=0;return this.legendItems.forEach((e,s)=>{const{itemWidth:f,itemHeight:g}=function(e,t,n,r,a){const s=function(e,t,n,r){let a=e.text;a&&"string"!=typeof a&&(a=a.reduce((e,t)=>e.length>t.length?e:t));return t+n.size/2+r.measureText(a).width}(r,e,t,n),i=function(e,t,n){let r=e;"string"!=typeof t.text&&(r=Mc(t,n));return r}(a,r,t.lineHeight);return{itemWidth:s,itemHeight:i}}(n,t,a,e,r);s>0&&h+g+2*i>c&&(d+=u+i,l.push({width:u,height:h}),m+=u+i,p++,u=h=0),o[s]={left:m,top:h,col:p,width:f,height:g},u=Math.max(u,f),h+=g+i}),d+=u,l.push({width:u,height:h}),d}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:t,options:{align:n,labels:{padding:r},rtl:a}}=this,s=Wi(a,this.left,this.width);if(this.isHorizontal()){let a=0,i=xs(n,this.left+r,this.right-this.lineWidths[a]);for(const o of t)a!==o.row&&(a=o.row,i=xs(n,this.left+r,this.right-this.lineWidths[a])),o.top+=this.top+e+r,o.left=s.leftForLtr(s.x(i),o.width),i+=o.width+r}else{let a=0,i=xs(n,this.top+e+r,this.bottom-this.columnSizes[a].height);for(const o of t)o.col!==a&&(a=o.col,i=xs(n,this.top+e+r,this.bottom-this.columnSizes[a].height)),o.top=i,o.left+=this.left+r,o.left=s.leftForLtr(s.x(o.left),o.width),i+=o.height+r}}isHorizontal(){return"top"===this.options.position||"bottom"===this.options.position}draw(){if(this.options.display){const e=this.ctx;Ws(e,this),this._draw(),Us(e)}}_draw(){const{options:e,columnSizes:t,lineWidths:n,ctx:r}=this,{align:a,labels:s}=e,i=zs.color,o=Wi(e.rtl,this.left,this.width),l=ai(s.font),{padding:c}=s,d=l.size,u=d/2;let h;this.drawTitle(),r.textAlign=o.textAlign("left"),r.textBaseline="middle",r.lineWidth=.5,r.font=l.string;const{boxWidth:m,boxHeight:p,itemHeight:f}=Oc(s,d),g=this.isHorizontal(),x=this._computeTitleHeight();h=g?{x:xs(a,this.left+c,this.right-n[0]),y:this.top+c+x,line:0}:{x:this.left+c,y:xs(a,this.top+x+c,this.bottom-t[0].height),line:0},Ui(this.ctx,e.textDirection);const b=f+c;this.legendItems.forEach((v,y)=>{r.strokeStyle=v.fontColor,r.fillStyle=v.fontColor;const w=r.measureText(v.text).width,j=o.textAlign(v.textAlign||(v.textAlign=s.textAlign)),N=m+u+w;let k=h.x,S=h.y;o.setWidth(this.width),g?y>0&&k+N+c>this.right&&(S=h.y+=b,h.line++,k=h.x=xs(a,this.left+c,this.right-n[h.line])):y>0&&S+b>this.bottom&&(k=h.x=k+t[h.line].width+c,h.line++,S=h.y=xs(a,this.top+x+c,this.bottom-t[h.line].height));if(function(e,t,n){if(isNaN(m)||m<=0||isNaN(p)||p<0)return;r.save();const a=ka(n.lineWidth,1);if(r.fillStyle=ka(n.fillStyle,i),r.lineCap=ka(n.lineCap,"butt"),r.lineDashOffset=ka(n.lineDashOffset,0),r.lineJoin=ka(n.lineJoin,"miter"),r.lineWidth=a,r.strokeStyle=ka(n.strokeStyle,i),r.setLineDash(ka(n.lineDash,[])),s.usePointStyle){const i={radius:p*Math.SQRT2/2,pointStyle:n.pointStyle,rotation:n.rotation,borderWidth:a},l=o.xPlus(e,m/2);Bs(r,i,l,t+u,s.pointStyleWidth&&m)}else{const s=t+Math.max((d-p)/2,0),i=o.leftForLtr(e,m),l=ni(n.borderRadius);r.beginPath(),Object.values(l).some(e=>0!==e)?Ks(r,{x:i,y:s,w:m,h:p,radius:l}):r.rect(i,s,m,p),r.fill(),0!==a&&r.stroke()}r.restore()}(o.x(k),S,v),k=((e,t,n,r)=>e===(r?"left":"right")?n:"center"===e?(t+n)/2:t)(j,k+m+u,g?k+N:this.right,e.rtl),function(e,t,n){Gs(r,n.text,e,t+f/2,l,{strikethrough:n.hidden,textAlign:o.textAlign(n.textAlign)})}(o.x(k),S,v),g)h.x+=N+c;else if("string"!=typeof v.text){const e=l.lineHeight;h.y+=Mc(v,e)+c}else h.y+=b}),Hi(this.ctx,e.textDirection)}drawTitle(){const e=this.options,t=e.title,n=ai(t.font),r=ri(t.padding);if(!t.display)return;const a=Wi(e.rtl,this.left,this.width),s=this.ctx,i=t.position,o=n.size/2,l=r.top+o;let c,d=this.left,u=this.width;if(this.isHorizontal())u=Math.max(...this.lineWidths),c=this.top+l,d=xs(e.align,d,this.right-u);else{const t=this.columnSizes.reduce((e,t)=>Math.max(e,t.height),0);c=l+xs(e.align,this.top,this.bottom-t-e.labels.padding-this._computeTitleHeight())}const h=xs(i,d,d+u);s.textAlign=a.textAlign(gs(i)),s.textBaseline="middle",s.strokeStyle=t.color,s.fillStyle=t.color,s.font=n.string,Gs(s,t.text,h,c,n)}_computeTitleHeight(){const e=this.options.title,t=ai(e.font),n=ri(e.padding);return e.display?t.lineHeight+n.height:0}_getLegendItemAt(e,t){let n,r,a;if(ls(e,this.left,this.right)&&ls(t,this.top,this.bottom))for(a=this.legendHitBoxes,n=0;n<a.length;++n)if(r=a[n],ls(e,r.left,r.left+r.width)&&ls(t,r.top,r.top+r.height))return this.legendItems[n];return null}handleEvent(e){const t=this.options;if(!function(e,t){if(("mousemove"===e||"mouseout"===e)&&(t.onHover||t.onLeave))return!0;if(t.onClick&&("click"===e||"mouseup"===e))return!0;return!1}(e.type,t))return;const n=this._getLegendItemAt(e.x,e.y);if("mousemove"===e.type||"mouseout"===e.type){const s=this._hoveredItem,i=(a=n,null!==(r=s)&&null!==a&&r.datasetIndex===a.datasetIndex&&r.index===a.index);s&&!i&&Ca(t.onLeave,[e,s,this],this),this._hoveredItem=n,n&&!i&&Ca(t.onHover,[e,n,this],this)}else n&&Ca(t.onClick,[e,n,this],this);var r,a}}function Mc(e,t){return t*(e.text?e.text.length:0)}var Ac={id:"legend",_element:Tc,start(e,t,n){const r=e.legend=new Tc({ctx:e.ctx,options:n,chart:e});Bo.configure(e,r,n),Bo.addBox(e,r)},stop(e){Bo.removeBox(e,e.legend),delete e.legend},beforeUpdate(e,t,n){const r=e.legend;Bo.configure(e,r,n),r.options=n},afterUpdate(e){const t=e.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(e,t){t.replay||e.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(e,t,n){const r=t.datasetIndex,a=n.chart;a.isDatasetVisible(r)?(a.hide(r),t.hidden=!0):(a.show(r),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:e=>e.chart.options.color,boxWidth:40,padding:10,generateLabels(e){const t=e.data.datasets,{labels:{usePointStyle:n,pointStyle:r,textAlign:a,color:s,useBorderRadius:i,borderRadius:o}}=e.legend.options;return e._getSortedDatasetMetas().map(e=>{const l=e.controller.getStyle(n?0:void 0),c=ri(l.borderWidth);return{text:t[e.index].label,fillStyle:l.backgroundColor,fontColor:s,hidden:!e.visible,lineCap:l.borderCapStyle,lineDash:l.borderDash,lineDashOffset:l.borderDashOffset,lineJoin:l.borderJoinStyle,lineWidth:(c.width+c.height)/4,strokeStyle:l.borderColor,pointStyle:r||l.pointStyle,rotation:l.rotation,textAlign:a||l.textAlign,borderRadius:i&&(o||l.borderRadius),datasetIndex:e.index}},this)}},title:{color:e=>e.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:e=>!e.startsWith("on"),labels:{_scriptable:e=>!["generateLabels","filter","sort"].includes(e)}}};class zc extends al{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t){const n=this.options;if(this.left=0,this.top=0,!n.display)return void(this.width=this.height=this.right=this.bottom=0);this.width=this.right=e,this.height=this.bottom=t;const r=ya(n.text)?n.text.length:1;this._padding=ri(n.padding);const a=r*ai(n.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=a:this.width=a}isHorizontal(){const e=this.options.position;return"top"===e||"bottom"===e}_drawArgs(e){const{top:t,left:n,bottom:r,right:a,options:s}=this,i=s.align;let o,l,c,d=0;return this.isHorizontal()?(l=xs(i,n,a),c=t+e,o=a-n):("left"===s.position?(l=n+e,c=xs(i,r,t),d=-.5*$a):(l=a-e,c=xs(i,t,r),d=.5*$a),o=r-t),{titleX:l,titleY:c,maxWidth:o,rotation:d}}draw(){const e=this.ctx,t=this.options;if(!t.display)return;const n=ai(t.font),r=n.lineHeight/2+this._padding.top,{titleX:a,titleY:s,maxWidth:i,rotation:o}=this._drawArgs(r);Gs(e,t.text,0,0,n,{color:t.color,maxWidth:i,rotation:o,textAlign:gs(t.align),textBaseline:"middle",translation:[a,s]})}}var Rc={id:"title",_element:zc,start(e,t,n){!function(e,t){const n=new zc({ctx:e.ctx,options:t,chart:e});Bo.configure(e,n,t),Bo.addBox(e,n),e.titleBlock=n}(e,n)},stop(e){const t=e.titleBlock;Bo.removeBox(e,t),delete e.titleBlock},beforeUpdate(e,t,n){const r=e.titleBlock;Bo.configure(e,r,n),r.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Ic={average(e){if(!e.length)return!1;let t,n,r=new Set,a=0,s=0;for(t=0,n=e.length;t<n;++t){const n=e[t].element;if(n&&n.hasValue()){const e=n.tooltipPosition();r.add(e.x),a+=e.y,++s}}if(0===s||0===r.size)return!1;return{x:[...r].reduce((e,t)=>e+t)/r.size,y:a/s}},nearest(e,t){if(!e.length)return!1;let n,r,a,s=t.x,i=t.y,o=Number.POSITIVE_INFINITY;for(n=0,r=e.length;n<r;++n){const r=e[n].element;if(r&&r.hasValue()){const e=rs(t,r.getCenterPoint());e<o&&(o=e,a=r)}}if(a){const e=a.tooltipPosition();s=e.x,i=e.y}return{x:s,y:i}}};function Fc(e,t){return t&&(ya(t)?Array.prototype.push.apply(e,t):e.push(t)),e}function Lc(e){return("string"==typeof e||e instanceof String)&&e.indexOf("\n")>-1?e.split("\n"):e}function Bc(e,t){const{element:n,datasetIndex:r,index:a}=t,s=e.getDatasetMeta(r).controller,{label:i,value:o}=s.getLabelAndValue(a);return{chart:e,label:i,parsed:s.getParsed(a),raw:e.data.datasets[r].data[a],formattedValue:o,dataset:s.getDataset(),dataIndex:a,datasetIndex:r,element:n}}function $c(e,t){const n=e.chart.ctx,{body:r,footer:a,title:s}=e,{boxWidth:i,boxHeight:o}=t,l=ai(t.bodyFont),c=ai(t.titleFont),d=ai(t.footerFont),u=s.length,h=a.length,m=r.length,p=ri(t.padding);let f=p.height,g=0,x=r.reduce((e,t)=>e+t.before.length+t.lines.length+t.after.length,0);if(x+=e.beforeBody.length+e.afterBody.length,u&&(f+=u*c.lineHeight+(u-1)*t.titleSpacing+t.titleMarginBottom),x){f+=m*(t.displayColors?Math.max(o,l.lineHeight):l.lineHeight)+(x-m)*l.lineHeight+(x-1)*t.bodySpacing}h&&(f+=t.footerMarginTop+h*d.lineHeight+(h-1)*t.footerSpacing);let b=0;const v=function(e){g=Math.max(g,n.measureText(e).width+b)};return n.save(),n.font=c.string,_a(e.title,v),n.font=l.string,_a(e.beforeBody.concat(e.afterBody),v),b=t.displayColors?i+2+t.boxPadding:0,_a(r,e=>{_a(e.before,v),_a(e.lines,v),_a(e.after,v)}),b=0,n.font=d.string,_a(e.footer,v),n.restore(),g+=p.width,{width:g,height:f}}function Wc(e,t,n,r){const{x:a,width:s}=n,{width:i,chartArea:{left:o,right:l}}=e;let c="center";return"center"===r?c=a<=(o+l)/2?"left":"right":a<=s/2?c="left":a>=i-s/2&&(c="right"),function(e,t,n,r){const{x:a,width:s}=r,i=n.caretSize+n.caretPadding;return"left"===e&&a+s+i>t.width||"right"===e&&a-s-i<0||void 0}(c,e,t,n)&&(c="center"),c}function Uc(e,t,n){const r=n.yAlign||t.yAlign||function(e,t){const{y:n,height:r}=t;return n<r/2?"top":n>e.height-r/2?"bottom":"center"}(e,n);return{xAlign:n.xAlign||t.xAlign||Wc(e,t,n,r),yAlign:r}}function Hc(e,t,n,r){const{caretSize:a,caretPadding:s,cornerRadius:i}=e,{xAlign:o,yAlign:l}=n,c=a+s,{topLeft:d,topRight:u,bottomLeft:h,bottomRight:m}=ni(i);let p=function(e,t){let{x:n,width:r}=e;return"right"===t?n-=r:"center"===t&&(n-=r/2),n}(t,o);const f=function(e,t,n){let{y:r,height:a}=e;return"top"===t?r+=n:r-="bottom"===t?a+n:a/2,r}(t,l,c);return"center"===l?"left"===o?p+=c:"right"===o&&(p-=c):"left"===o?p-=Math.max(d,h)+a:"right"===o&&(p+=Math.max(u,m)+a),{x:os(p,0,r.width-t.width),y:os(f,0,r.height-t.height)}}function Vc(e,t,n){const r=ri(n.padding);return"center"===t?e.x+e.width/2:"right"===t?e.x+e.width-r.right:e.x+r.left}function qc(e){return Fc([],Lc(e))}function Yc(e,t){const n=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return n?e.override(n):e}const Gc={beforeTitle:xa,title(e){if(e.length>0){const t=e[0],n=t.chart.data.labels,r=n?n.length:0;if(this&&this.options&&"dataset"===this.options.mode)return t.dataset.label||"";if(t.label)return t.label;if(r>0&&t.dataIndex<r)return n[t.dataIndex]}return""},afterTitle:xa,beforeBody:xa,beforeLabel:xa,label(e){if(this&&this.options&&"dataset"===this.options.mode)return e.label+": "+e.formattedValue||e.formattedValue;let t=e.dataset.label||"";t&&(t+=": ");const n=e.formattedValue;return va(n)||(t+=n),t},labelColor(e){const t=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{borderColor:t.borderColor,backgroundColor:t.backgroundColor,borderWidth:t.borderWidth,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(e){const t=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{pointStyle:t.pointStyle,rotation:t.rotation}},afterLabel:xa,afterBody:xa,beforeFooter:xa,footer:xa,afterFooter:xa};function Kc(e,t,n,r){const a=e[t].call(n,r);return void 0===a?Gc[t].call(n,r):a}let Xc=class extends al{static positioners=Ic;constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const t=this.chart,n=this.options.setContext(this.getContext()),r=n.enabled&&t.options.animation&&n.animations,a=new so(this.chart,r);return r._cacheable&&(this._cachedAnimations=Object.freeze(a)),a}getContext(){return this.$context||(this.$context=(e=this.chart.getContext(),t=this,n=this._tooltipItems,ii(e,{tooltip:t,tooltipItems:n,type:"tooltip"})));var e,t,n}getTitle(e,t){const{callbacks:n}=t,r=Kc(n,"beforeTitle",this,e),a=Kc(n,"title",this,e),s=Kc(n,"afterTitle",this,e);let i=[];return i=Fc(i,Lc(r)),i=Fc(i,Lc(a)),i=Fc(i,Lc(s)),i}getBeforeBody(e,t){return qc(Kc(t.callbacks,"beforeBody",this,e))}getBody(e,t){const{callbacks:n}=t,r=[];return _a(e,e=>{const t={before:[],lines:[],after:[]},a=Yc(n,e);Fc(t.before,Lc(Kc(a,"beforeLabel",this,e))),Fc(t.lines,Kc(a,"label",this,e)),Fc(t.after,Lc(Kc(a,"afterLabel",this,e))),r.push(t)}),r}getAfterBody(e,t){return qc(Kc(t.callbacks,"afterBody",this,e))}getFooter(e,t){const{callbacks:n}=t,r=Kc(n,"beforeFooter",this,e),a=Kc(n,"footer",this,e),s=Kc(n,"afterFooter",this,e);let i=[];return i=Fc(i,Lc(r)),i=Fc(i,Lc(a)),i=Fc(i,Lc(s)),i}_createItems(e){const t=this._active,n=this.chart.data,r=[],a=[],s=[];let i,o,l=[];for(i=0,o=t.length;i<o;++i)l.push(Bc(this.chart,t[i]));return e.filter&&(l=l.filter((t,r,a)=>e.filter(t,r,a,n))),e.itemSort&&(l=l.sort((t,r)=>e.itemSort(t,r,n))),_a(l,t=>{const n=Yc(e.callbacks,t);r.push(Kc(n,"labelColor",this,t)),a.push(Kc(n,"labelPointStyle",this,t)),s.push(Kc(n,"labelTextColor",this,t))}),this.labelColors=r,this.labelPointStyles=a,this.labelTextColors=s,this.dataPoints=l,l}update(e,t){const n=this.options.setContext(this.getContext()),r=this._active;let a,s=[];if(r.length){const e=Ic[n.position].call(this,r,this._eventPosition);s=this._createItems(n),this.title=this.getTitle(s,n),this.beforeBody=this.getBeforeBody(s,n),this.body=this.getBody(s,n),this.afterBody=this.getAfterBody(s,n),this.footer=this.getFooter(s,n);const t=this._size=$c(this,n),i=Object.assign({},e,t),o=Uc(this.chart,n,i),l=Hc(n,i,o,this.chart);this.xAlign=o.xAlign,this.yAlign=o.yAlign,a={opacity:1,x:l.x,y:l.y,width:t.width,height:t.height,caretX:e.x,caretY:e.y}}else 0!==this.opacity&&(a={opacity:0});this._tooltipItems=s,this.$context=void 0,a&&this._resolveAnimations().update(this,a),e&&n.external&&n.external.call(this,{chart:this.chart,tooltip:this,replay:t})}drawCaret(e,t,n,r){const a=this.getCaretPosition(e,n,r);t.lineTo(a.x1,a.y1),t.lineTo(a.x2,a.y2),t.lineTo(a.x3,a.y3)}getCaretPosition(e,t,n){const{xAlign:r,yAlign:a}=this,{caretSize:s,cornerRadius:i}=n,{topLeft:o,topRight:l,bottomLeft:c,bottomRight:d}=ni(i),{x:u,y:h}=e,{width:m,height:p}=t;let f,g,x,b,v,y;return"center"===a?(v=h+p/2,"left"===r?(f=u,g=f-s,b=v+s,y=v-s):(f=u+m,g=f+s,b=v-s,y=v+s),x=f):(g="left"===r?u+Math.max(o,c)+s:"right"===r?u+m-Math.max(l,d)-s:this.caretX,"top"===a?(b=h,v=b-s,f=g-s,x=g+s):(b=h+p,v=b+s,f=g+s,x=g-s),y=b),{x1:f,x2:g,x3:x,y1:b,y2:v,y3:y}}drawTitle(e,t,n){const r=this.title,a=r.length;let s,i,o;if(a){const l=Wi(n.rtl,this.x,this.width);for(e.x=Vc(this,n.titleAlign,n),t.textAlign=l.textAlign(n.titleAlign),t.textBaseline="middle",s=ai(n.titleFont),i=n.titleSpacing,t.fillStyle=n.titleColor,t.font=s.string,o=0;o<a;++o)t.fillText(r[o],l.x(e.x),e.y+s.lineHeight/2),e.y+=s.lineHeight+i,o+1===a&&(e.y+=n.titleMarginBottom-i)}}_drawColorBox(e,t,n,r,a){const s=this.labelColors[n],i=this.labelPointStyles[n],{boxHeight:o,boxWidth:l}=a,c=ai(a.bodyFont),d=Vc(this,"left",a),u=r.x(d),h=o<c.lineHeight?(c.lineHeight-o)/2:0,m=t.y+h;if(a.usePointStyle){const t={radius:Math.min(l,o)/2,pointStyle:i.pointStyle,rotation:i.rotation,borderWidth:1},n=r.leftForLtr(u,l)+l/2,c=m+o/2;e.strokeStyle=a.multiKeyBackground,e.fillStyle=a.multiKeyBackground,Ls(e,t,n,c),e.strokeStyle=s.borderColor,e.fillStyle=s.backgroundColor,Ls(e,t,n,c)}else{e.lineWidth=wa(s.borderWidth)?Math.max(...Object.values(s.borderWidth)):s.borderWidth||1,e.strokeStyle=s.borderColor,e.setLineDash(s.borderDash||[]),e.lineDashOffset=s.borderDashOffset||0;const t=r.leftForLtr(u,l),n=r.leftForLtr(r.xPlus(u,1),l-2),i=ni(s.borderRadius);Object.values(i).some(e=>0!==e)?(e.beginPath(),e.fillStyle=a.multiKeyBackground,Ks(e,{x:t,y:m,w:l,h:o,radius:i}),e.fill(),e.stroke(),e.fillStyle=s.backgroundColor,e.beginPath(),Ks(e,{x:n,y:m+1,w:l-2,h:o-2,radius:i}),e.fill()):(e.fillStyle=a.multiKeyBackground,e.fillRect(t,m,l,o),e.strokeRect(t,m,l,o),e.fillStyle=s.backgroundColor,e.fillRect(n,m+1,l-2,o-2))}e.fillStyle=this.labelTextColors[n]}drawBody(e,t,n){const{body:r}=this,{bodySpacing:a,bodyAlign:s,displayColors:i,boxHeight:o,boxWidth:l,boxPadding:c}=n,d=ai(n.bodyFont);let u=d.lineHeight,h=0;const m=Wi(n.rtl,this.x,this.width),p=function(n){t.fillText(n,m.x(e.x+h),e.y+u/2),e.y+=u+a},f=m.textAlign(s);let g,x,b,v,y,w,j;for(t.textAlign=s,t.textBaseline="middle",t.font=d.string,e.x=Vc(this,f,n),t.fillStyle=n.bodyColor,_a(this.beforeBody,p),h=i&&"right"!==f?"center"===s?l/2+c:l+2+c:0,v=0,w=r.length;v<w;++v){for(g=r[v],x=this.labelTextColors[v],t.fillStyle=x,_a(g.before,p),b=g.lines,i&&b.length&&(this._drawColorBox(t,e,v,m,n),u=Math.max(d.lineHeight,o)),y=0,j=b.length;y<j;++y)p(b[y]),u=d.lineHeight;_a(g.after,p)}h=0,u=d.lineHeight,_a(this.afterBody,p),e.y-=a}drawFooter(e,t,n){const r=this.footer,a=r.length;let s,i;if(a){const o=Wi(n.rtl,this.x,this.width);for(e.x=Vc(this,n.footerAlign,n),e.y+=n.footerMarginTop,t.textAlign=o.textAlign(n.footerAlign),t.textBaseline="middle",s=ai(n.footerFont),t.fillStyle=n.footerColor,t.font=s.string,i=0;i<a;++i)t.fillText(r[i],o.x(e.x),e.y+s.lineHeight/2),e.y+=s.lineHeight+n.footerSpacing}}drawBackground(e,t,n,r){const{xAlign:a,yAlign:s}=this,{x:i,y:o}=e,{width:l,height:c}=n,{topLeft:d,topRight:u,bottomLeft:h,bottomRight:m}=ni(r.cornerRadius);t.fillStyle=r.backgroundColor,t.strokeStyle=r.borderColor,t.lineWidth=r.borderWidth,t.beginPath(),t.moveTo(i+d,o),"top"===s&&this.drawCaret(e,t,n,r),t.lineTo(i+l-u,o),t.quadraticCurveTo(i+l,o,i+l,o+u),"center"===s&&"right"===a&&this.drawCaret(e,t,n,r),t.lineTo(i+l,o+c-m),t.quadraticCurveTo(i+l,o+c,i+l-m,o+c),"bottom"===s&&this.drawCaret(e,t,n,r),t.lineTo(i+h,o+c),t.quadraticCurveTo(i,o+c,i,o+c-h),"center"===s&&"left"===a&&this.drawCaret(e,t,n,r),t.lineTo(i,o+d),t.quadraticCurveTo(i,o,i+d,o),t.closePath(),t.fill(),r.borderWidth>0&&t.stroke()}_updateAnimationTarget(e){const t=this.chart,n=this.$animations,r=n&&n.x,a=n&&n.y;if(r||a){const n=Ic[e.position].call(this,this._active,this._eventPosition);if(!n)return;const s=this._size=$c(this,e),i=Object.assign({},n,this._size),o=Uc(t,e,i),l=Hc(e,i,o,t);r._to===l.x&&a._to===l.y||(this.xAlign=o.xAlign,this.yAlign=o.yAlign,this.width=s.width,this.height=s.height,this.caretX=n.x,this.caretY=n.y,this._resolveAnimations().update(this,l))}}_willRender(){return!!this.opacity}draw(e){const t=this.options.setContext(this.getContext());let n=this.opacity;if(!n)return;this._updateAnimationTarget(t);const r={width:this.width,height:this.height},a={x:this.x,y:this.y};n=Math.abs(n)<.001?0:n;const s=ri(t.padding),i=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;t.enabled&&i&&(e.save(),e.globalAlpha=n,this.drawBackground(a,e,r,t),Ui(e,t.textDirection),a.y+=s.top,this.drawTitle(a,e,t),this.drawBody(a,e,t),this.drawFooter(a,e,t),Hi(e,t.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,t){const n=this._active,r=e.map(({datasetIndex:e,index:t})=>{const n=this.chart.getDatasetMeta(e);if(!n)throw new Error("Cannot find a dataset at index "+e);return{datasetIndex:e,element:n.data[t],index:t}}),a=!Pa(n,r),s=this._positionChanged(r,t);(a||s)&&(this._active=r,this._eventPosition=t,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,t,n=!0){if(t&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const r=this.options,a=this._active||[],s=this._getActiveElements(e,a,t,n),i=this._positionChanged(s,e),o=t||!Pa(s,a)||i;return o&&(this._active=s,(r.enabled||r.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,t))),o}_getActiveElements(e,t,n,r){const a=this.options;if("mouseout"===e.type)return[];if(!r)return t.filter(e=>this.chart.data.datasets[e.datasetIndex]&&void 0!==this.chart.getDatasetMeta(e.datasetIndex).controller.getParsed(e.index));const s=this.chart.getElementsAtEventForMode(e,a.mode,a,n);return a.reverse&&s.reverse(),s}_positionChanged(e,t){const{caretX:n,caretY:r,options:a}=this,s=Ic[a.position].call(this,e,t);return!1!==s&&(n!==s.x||r!==s.y)}};var Qc={id:"tooltip",_element:Xc,positioners:Ic,afterInit(e,t,n){n&&(e.tooltip=new Xc({chart:e,options:n}))},beforeUpdate(e,t,n){e.tooltip&&e.tooltip.initialize(n)},reset(e,t,n){e.tooltip&&e.tooltip.initialize(n)},afterDraw(e){const t=e.tooltip;if(t&&t._willRender()){const n={tooltip:t};if(!1===e.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0}))return;t.draw(e.ctx),e.notifyPlugins("afterTooltipDraw",n)}},afterEvent(e,t){if(e.tooltip){const n=t.replay;e.tooltip.handleEvent(t.event,n,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(e,t)=>t.bodyFont.size,boxWidth:(e,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:Gc},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:e=>"filter"!==e&&"itemSort"!==e&&"external"!==e,_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};function Jc(e,t,n,r){const a=e.indexOf(t);if(-1===a)return((e,t,n,r)=>("string"==typeof t?(n=e.push(t)-1,r.unshift({index:n,label:t})):isNaN(t)&&(n=null),n))(e,t,n,r);return a!==e.lastIndexOf(t)?n:a}function Zc(e){const t=this.getLabels();return e>=0&&e<t.length?t[e]:e}function ed(e,t){const n=[],{bounds:r,step:a,min:s,max:i,precision:o,count:l,maxTicks:c,maxDigits:d,includeBounds:u}=e,h=a||1,m=c-1,{min:p,max:f}=t,g=!va(s),x=!va(i),b=!va(l),v=(f-p)/(d+1);let y,w,j,N,k=Ja((f-p)/m/h)*h;if(k<1e-14&&!g&&!x)return[{value:p},{value:f}];N=Math.ceil(f/k)-Math.floor(p/k),N>m&&(k=Ja(N*k/m/h)*h),va(o)||(y=Math.pow(10,o),k=Math.ceil(k*y)/y),"ticks"===r?(w=Math.floor(p/k)*k,j=Math.ceil(f/k)*k):(w=p,j=f),g&&x&&a&&function(e,t){const n=Math.round(e);return n-t<=e&&n+t>=e}((i-s)/a,k/1e3)?(N=Math.round(Math.min((i-s)/k,c)),k=(i-s)/N,w=s,j=i):b?(w=g?s:w,j=x?i:j,N=l-1,k=(j-w)/N):(N=(j-w)/k,N=Qa(N,Math.round(N),k/1e3)?Math.round(N):Math.ceil(N));const S=Math.max(ts(k),ts(w));y=Math.pow(10,va(o)?S:o),w=Math.round(w*y)/y,j=Math.round(j*y)/y;let C=0;for(g&&(u&&w!==s?(n.push({value:s}),w<s&&C++,Qa(Math.round((w+C*k)*y)/y,s,td(s,v,e))&&C++):w<s&&C++);C<N;++C){const e=Math.round((w+C*k)*y)/y;if(x&&e>i)break;n.push({value:e})}return x&&u&&j!==i?n.length&&Qa(n[n.length-1].value,i,td(i,v,e))?n[n.length-1].value=i:n.push({value:i}):x&&j!==i||n.push({value:j}),n}function td(e,t,{horizontal:n,minRotation:r}){const a=es(r),s=(n?Math.sin(a):Math.cos(a))||.001,i=.75*t*(""+e).length;return Math.min(t/s,i)}class nd extends pl{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,t){return va(e)||("number"==typeof e||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:t,maxDefined:n}=this.getUserBounds();let{min:r,max:a}=this;const s=e=>r=t?r:e,i=e=>a=n?a:e;if(e){const e=Xa(r),t=Xa(a);e<0&&t<0?i(0):e>0&&t>0&&s(0)}if(r===a){let t=0===a?1:Math.abs(.05*a);i(a+t),e||s(r-t)}this.min=r,this.max=a}getTickLimit(){const e=this.options.ticks;let t,{maxTicksLimit:n,stepSize:r}=e;return r?(t=Math.ceil(this.max/r)-Math.floor(this.min/r)+1,t>1e3&&(t=1e3)):(t=this.computeTickLimit(),n=n||11),n&&(t=Math.min(n,t)),t}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,t=e.ticks;let n=this.getTickLimit();n=Math.max(2,n);const r=ed({maxTicks:n,bounds:e.bounds,min:e.min,max:e.max,precision:t.precision,step:t.stepSize,count:t.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:t.minRotation||0,includeBounds:!1!==t.includeBounds},this._range||this);return"ticks"===e.bounds&&function(e,t,n){let r,a,s;for(r=0,a=e.length;r<a;r++)s=e[r][n],isNaN(s)||(t.min=Math.min(t.min,s),t.max=Math.max(t.max,s))}(r,this,"value"),e.reverse?(r.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),r}configure(){const e=this.ticks;let t=this.min,n=this.max;if(super.configure(),this.options.offset&&e.length){const r=(n-t)/Math.max(e.length-1,1)/2;t-=r,n+=r}this._startValue=t,this._endValue=n,this._valueRange=n-t}getLabelForValue(e){return Ps(e,this.chart.options.locale,this.options.ticks.format)}}class rd extends nd{static id="linear";static defaults={ticks:{callback:Es.formatters.numeric}};determineDataLimits(){const{min:e,max:t}=this.getMinMax(!0);this.min=ja(e)?e:0,this.max=ja(t)?t:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),t=e?this.width:this.height,n=es(this.options.ticks.minRotation),r=(e?Math.sin(n):Math.cos(n))||.001,a=this._resolveTickFontOptions(0);return Math.ceil(t/Math.min(40,a.lineHeight/r))}getPixelForValue(e){return null===e?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}const ad="label";function sd(e,t){"function"==typeof e?e(t):e&&(e.current=t)}function id(e,t){e.labels=t}function od(e,t,n=ad){const r=[];e.datasets=t.map(t=>{const a=e.datasets.find(e=>e[n]===t[n]);return a&&t.data&&!r.includes(a)?(r.push(a),Object.assign(a,t),a):{...t}})}function ld(e,t=ad){const n={labels:[],datasets:[]};return id(n,e.labels),od(n,e.datasets,t),n}function cd(t,n){const{height:r=150,width:a=300,redraw:s=!1,datasetIdKey:i,type:o,data:l,options:c,plugins:d=[],fallbackContent:u,updateMode:h,...m}=t,p=kt.useRef(null),f=kt.useRef(null),g=()=>{p.current&&(f.current=new Vl(p.current,{type:o,data:ld(l,i),options:c&&{...c},plugins:d}),sd(n,f.current))},x=()=>{sd(n,null),f.current&&(f.current.destroy(),f.current=null)};return kt.useEffect(()=>{!s&&f.current&&c&&function(e,t){const n=e.options;n&&t&&Object.assign(n,t)}(f.current,c)},[s,c]),kt.useEffect(()=>{!s&&f.current&&id(f.current.config.data,l.labels)},[s,l.labels]),kt.useEffect(()=>{!s&&f.current&&l.datasets&&od(f.current.config.data,l.datasets,i)},[s,l.datasets]),kt.useEffect(()=>{f.current&&(s?(x(),setTimeout(g)):f.current.update(h))},[s,c,l.labels,l.datasets,h]),kt.useEffect(()=>{f.current&&(x(),setTimeout(g))},[o]),kt.useEffect(()=>(g(),()=>x()),[]),e.jsx("canvas",{ref:p,role:"img",height:r,width:a,...m,children:u})}const dd=kt.forwardRef(cd);function ud(t,n){return Vl.register(n),kt.forwardRef((n,r)=>e.jsx(dd,{...n,ref:r,type:t}))}const hd=ud("line",yo),md=ud("doughnut",vo);Vl.register(class extends pl{static id="category";static defaults={ticks:{callback:Zc}};constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const t=this._addedLabels;if(t.length){const e=this.getLabels();for(const{index:n,label:r}of t)e[n]===r&&e.splice(n,1);this._addedLabels=[]}super.init(e)}parse(e,t){if(va(e))return null;const n=this.getLabels();return((e,t)=>null===e?null:os(Math.round(e),0,t))(t=isFinite(t)&&n[t]===e?t:Jc(n,e,ka(t,e),this._addedLabels),n.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:t}=this.getUserBounds();let{min:n,max:r}=this.getMinMax(!0);"ticks"===this.options.bounds&&(e||(n=0),t||(r=this.getLabels().length-1)),this.min=n,this.max=r}buildTicks(){const e=this.min,t=this.max,n=this.options.offset,r=[];let a=this.getLabels();a=0===e&&t===a.length-1?a:a.slice(e,t+1),this._valueRange=Math.max(a.length-(n?0:1),1),this._startValue=this.min-(n?.5:0);for(let s=e;s<=t;s++)r.push({value:s});return r}getLabelForValue(e){return Zc.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return"number"!=typeof e&&(e=this.parse(e)),null===e?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}},rd,class extends al{static id="point";parsed;skip;stop;static defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(e){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,e&&Object.assign(this,e)}inRange(e,t,n){const r=this.options,{x:a,y:s}=this.getProps(["x","y"],n);return Math.pow(e-a,2)+Math.pow(t-s,2)<Math.pow(r.hitRadius+r.radius,2)}inXRange(e,t){return ic(this,e,"x",t)}inYRange(e,t){return ic(this,e,"y",t)}getCenterPoint(e){const{x:t,y:n}=this.getProps(["x","y"],e);return{x:t,y:n}}size(e){let t=(e=e||this.options||{}).radius||0;t=Math.max(t,t&&e.hoverRadius||0);return 2*(t+(t&&e.borderWidth||0))}draw(e,t){const n=this.options;this.skip||n.radius<.1||!$s(this,t,this.size(n)/2)||(e.strokeStyle=n.borderColor,e.lineWidth=n.borderWidth,e.fillStyle=n.backgroundColor,Ls(e,n,this.x,this.y))}getRange(){const e=this.options||{};return e.radius+e.hitRadius}},sc,class extends al{static id="bar";static defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:t,options:{borderColor:n,backgroundColor:r}}=this,{inner:a,outer:s}=cc(this),i=(o=s.radius).topLeft||o.topRight||o.bottomLeft||o.bottomRight?Ks:uc;var o;e.save(),s.w===a.w&&s.h===a.h||(e.beginPath(),i(e,hc(s,t,a)),e.clip(),i(e,hc(a,-t,s)),e.fillStyle=n,e.fill("evenodd")),e.beginPath(),i(e,hc(a,t)),e.fillStyle=r,e.fill(),e.restore()}inRange(e,t,n){return dc(this,e,t,n)}inXRange(e,t){return dc(this,e,null,t)}inYRange(e,t){return dc(this,null,e,t)}getCenterPoint(e){const{x:t,y:n,base:r,horizontal:a}=this.getProps(["x","y","base","horizontal"],e);return{x:a?(t+r)/2:t,y:a?n:(n+r)/2}}getRange(e){return"x"===e?this.width/2:this.height/2}},Rc,Qc,Ac,Dc,class extends al{static id="arc";static defaults={borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1};static defaultRoutes={backgroundColor:"backgroundColor"};static descriptors={_scriptable:!0,_indexable:e=>"borderDash"!==e};circumference;endAngle;fullCircles;innerRadius;outerRadius;pixelMargin;startAngle;constructor(e){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,e&&Object.assign(this,e)}inRange(e,t,n){const r=this.getProps(["x","y"],n),{angle:a,distance:s}=ns(r,{x:e,y:t}),{startAngle:i,endAngle:o,innerRadius:l,outerRadius:c,circumference:d}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],n),u=(this.options.spacing+this.options.borderWidth)/2,h=ka(d,o-i),m=is(a,i,o)&&i!==o,p=h>=Wa||m,f=ls(s,l+u,c+u);return p&&f}getCenterPoint(e){const{x:t,y:n,startAngle:r,endAngle:a,innerRadius:s,outerRadius:i}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],e),{offset:o,spacing:l}=this.options,c=(r+a)/2,d=(s+i+l+o)/2;return{x:t+Math.cos(c)*d,y:n+Math.sin(c)*d}}tooltipPosition(e){return this.getCenterPoint(e)}draw(e){const{options:t,circumference:n}=this,r=(t.offset||0)/4,a=(t.spacing||0)/2,s=t.circular;if(this.pixelMargin="inner"===t.borderAlign?.33:0,this.fullCircles=n>Wa?Math.floor(n/Wa):0,0===n||this.innerRadius<0||this.outerRadius<0)return;e.save();const i=(this.startAngle+this.endAngle)/2;e.translate(Math.cos(i)*r,Math.sin(i)*r);const o=r*(1-Math.sin(Math.min($a,n||0)));e.fillStyle=t.backgroundColor,e.strokeStyle=t.borderColor,function(e,t,n,r,a){const{fullCircles:s,startAngle:i,circumference:o}=t;let l=t.endAngle;if(s){Kl(e,t,n,r,l,a);for(let t=0;t<s;++t)e.fill();isNaN(o)||(l=i+(o%Wa||Wa))}Kl(e,t,n,r,l,a),e.fill()}(e,this,o,a,s),Xl(e,this,o,a,s),e.restore()}});const pd=()=>{const[t,n]=kt.useState(null),[r,a]=kt.useState(!0),[s,i]=kt.useState("6m");kt.useEffect(()=>{l()},[s]);const l=async()=>{try{a(!0);const t=await(e={range:s},sr.get("/dashboard/analytics",{params:e}));n(t.data)}catch(t){}finally{a(!1)}var e};if(r)return e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 animate-pulse",children:[e.jsx("div",{className:"lg:col-span-2 bg-white rounded-2xl h-[300px] shadow-sm border border-slate-200"}),e.jsx("div",{className:"bg-white rounded-2xl h-[300px] shadow-sm border border-slate-200"})]});if(!t)return null;const c={labels:t.labels||[],datasets:[{label:"Documents Created",data:t.data||[],borderColor:"#6366f1",backgroundColor:"rgba(99, 102, 241, 0.1)",fill:!0,tension:.4,pointBackgroundColor:"#fff",pointBorderColor:"#6366f1",pointBorderWidth:2,pointRadius:4,pointHoverRadius:6}]},d={labels:["Draft","Sent","Completed"],datasets:[{data:t?.breakdown?[t.breakdown.draft,t.breakdown.sent,t.breakdown.completed]:[0,0,0],backgroundColor:["#f59e0b","#3b82f6","#10b981"],borderWidth:0,hoverOffset:10}]},u=t?.breakdown?Object.values(t.breakdown).reduce((e,t)=>e+t,0):0;return e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"lg:col-span-2 bg-white p-6 rounded-2xl shadow-sm border border-slate-200 hover:shadow-md transition-shadow duration-300",children:[e.jsxs("div",{className:"flex items-center justify-between mb-8",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-bold text-slate-800 tracking-tight",children:"Document Trends"}),e.jsx("p",{className:"text-sm text-slate-500 font-medium",children:"Activity overview"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("div",{className:"relative",children:[e.jsxs("select",{value:s,onChange:e=>i(e.target.value),className:"appearance-none bg-slate-50 border border-slate-200 text-slate-700 text-xs font-medium py-2 pl-3 pr-8 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500/20 focus:border-indigo-500 cursor-pointer hover:bg-slate-100 transition-colors",children:[e.jsx("option",{value:"7d",children:"Last 7 Days"}),e.jsx("option",{value:"30d",children:"Last 30 Days"}),e.jsx("option",{value:"90d",children:"Last 90 Days"}),e.jsx("option",{value:"6m",children:"Last 6 Months"}),e.jsx("option",{value:"1y",children:"Last Year"})]}),e.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center px-2 pointer-events-none text-slate-400",children:e.jsx(F,{size:14})})]}),e.jsx("div",{className:"p-2.5 bg-indigo-50 text-indigo-600 rounded-xl",children:e.jsx(L,{size:20,strokeWidth:2.5})})]})]}),e.jsx("div",{className:"h-[300px] w-full",children:e.jsx(hd,{data:c,options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1},tooltip:{backgroundColor:"rgba(15, 23, 42, 0.9)",padding:12,titleFont:{size:13,family:"'Inter', sans-serif",weight:"600"},bodyFont:{size:12,family:"'Inter', sans-serif"},cornerRadius:8,displayColors:!1,callbacks:{label:e=>`Documents: ${e.parsed.y}`}}},scales:{y:{beginAtZero:!0,grid:{color:"#f1f5f9",borderDash:[5,5],drawBorder:!1},ticks:{font:{size:11,family:"'Inter', sans-serif"},color:"#64748b",padding:10},border:{display:!1}},x:{grid:{display:!1},ticks:{font:{size:11,family:"'Inter', sans-serif"},color:"#64748b",padding:10},border:{display:!1}}},interaction:{mode:"index",intersect:!1}}})})]}),e.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-slate-200 hover:shadow-md transition-shadow duration-300 flex flex-col",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-bold text-slate-800 tracking-tight",children:"Status Overview"}),e.jsx("p",{className:"text-sm text-slate-500 font-medium",children:"Distribution by status"})]}),e.jsx("div",{className:"p-2.5 bg-emerald-50 text-emerald-600 rounded-xl",children:e.jsx(o,{size:20,strokeWidth:2.5})})]}),e.jsxs("div",{className:"flex-1 min-h-[250px] relative flex items-center justify-center py-4",children:[e.jsx(md,{data:d,options:{responsive:!0,maintainAspectRatio:!1,cutout:"70%",plugins:{legend:{position:"bottom",labels:{usePointStyle:!0,boxWidth:8,padding:20,font:{size:12,family:"'Inter', sans-serif",weight:"500"},color:"#475569"}},tooltip:{backgroundColor:"rgba(15, 23, 42, 0.9)",padding:12,cornerRadius:8,callbacks:{label:e=>` ${e.label}: ${e.parsed}`}}}}}),e.jsx("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none pb-8",children:e.jsxs("div",{className:"text-center",children:[e.jsx("span",{className:"block text-3xl font-extrabold text-slate-800 tracking-tight",children:u}),e.jsx("span",{className:"text-[11px] font-bold text-slate-400 uppercase tracking-widest mt-0.5",children:"Total"})]})})]}),e.jsxs("div",{className:"mt-auto pt-4 border-t border-slate-50 flex justify-between items-center text-xs text-slate-500 font-medium",children:[e.jsx("span",{children:"Real-time data"}),e.jsxs(_t,{to:"/documents",className:"text-indigo-600 hover:text-indigo-700 hover:underline flex items-center gap-1",children:["View Report ",e.jsx(B,{size:12})]})]})]})]})},fd=()=>{const[t,n]=kt.useState(null),[r,s]=kt.useState([]),[l,c]=kt.useState(!0);kt.useEffect(()=>{(async()=>{try{const[e,t]=await Promise.all([sr.get("/dashboard/stats"),sr.get("/dashboard/activity")]);n(e.data),s(t.data)}catch(e){}finally{c(!1)}})()},[]);const d={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{type:"spring",stiffness:300,damping:24}}},u=t?.total_documents||0,h=t?.breakdown?.completed||0,p=u>0?Math.round(h/u*100):0,f=[{label:"Draft Documents",value:t?.breakdown?.draft||0,change:"+2.5%",isPositive:!0,icon:$,color:"text-amber-600",bg:"bg-amber-50",border:"border-amber-100"},{label:"Team Members",value:t?.team_size||0,change:"+0%",isPositive:!0,icon:m,color:"text-indigo-600",bg:"bg-indigo-50",border:"border-indigo-100"},{label:"Total Documents",value:u,change:"+12%",isPositive:!0,icon:o,color:"text-blue-600",bg:"bg-blue-50",border:"border-blue-100"},{label:"Completion Rate",value:`${p}%`,change:"+1.2%",isPositive:!0,icon:W,color:"text-emerald-600",bg:"bg-emerald-50",border:"border-emerald-100"}];return l?e.jsx("div",{className:"flex h-[50vh] items-center justify-center",children:e.jsxs("div",{className:"flex flex-col items-center gap-4",children:[e.jsx("div",{className:"animate-spin rounded-full h-10 w-10 border-b-2 border-indigo-600"}),e.jsx("p",{className:"text-slate-400 text-sm animate-pulse font-medium",children:"Loading dashboard..."})]})}):e.jsxs(a.div,{variants:{hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1}}},initial:"hidden",animate:"visible",className:"space-y-8 max-w-7xl mx-auto pb-10",children:[e.jsxs("div",{className:"flex flex-col md:flex-row md:items-end justify-between gap-6 pb-2 border-b border-slate-200/60",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-3xl font-bold text-slate-900 tracking-tight",children:"Overview"}),e.jsx("p",{className:"text-slate-500 mt-2 text-sm font-medium",children:"Here's what's happening with your workspace today."})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsxs(_t,{to:"/documents",className:"px-5 py-2.5 bg-white text-slate-700 font-semibold rounded-xl border border-slate-200 hover:bg-slate-50 hover:border-slate-300 transition-all text-sm shadow-sm flex items-center gap-2",children:[e.jsx(o,{size:18}),"View Documents"]}),e.jsxs("button",{className:"px-5 py-2.5 bg-indigo-600 text-white font-semibold rounded-xl hover:bg-indigo-700 transition-all text-sm shadow-lg shadow-indigo-600/20 hover:shadow-indigo-600/30 hover:-translate-y-0.5 flex items-center gap-2",children:[e.jsx(i,{size:18,fill:"currentColor"}),"Quick Action"]})]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:f.map((t,n)=>e.jsxs(a.div,{variants:d,whileHover:{y:-5,transition:{duration:.2}},className:`bg-white p-6 rounded-2xl border ${t.border} shadow-premium hover:shadow-premium-hover transition-all duration-300 relative overflow-hidden group`,children:[e.jsxs("div",{className:"flex justify-between items-start mb-4 relative z-10",children:[e.jsx("div",{className:`p-3.5 rounded-xl ${t.bg} ${t.color} transition-transform group-hover:scale-110 duration-300 shadow-sm`,children:e.jsx(t.icon,{size:24,strokeWidth:2})}),e.jsxs("div",{className:"flex items-center gap-1 text-xs font-bold px-2.5 py-1 rounded-lg "+(t.isPositive?"text-emerald-700 bg-emerald-50 border border-emerald-100":"text-slate-700 bg-slate-50 border border-slate-100"),children:[t.isPositive?e.jsx(B,{size:14}):e.jsx(U,{size:14}),t.change]})]}),e.jsxs("div",{className:"relative z-10",children:[e.jsx("h3",{className:"text-3xl font-bold text-slate-900 tracking-tight leading-tight",children:t.value}),e.jsx("p",{className:"text-sm font-medium text-slate-500 mt-1 uppercase tracking-wide text-[11px]",children:t.label})]})]},n))}),e.jsx(a.div,{variants:d,children:e.jsx(pd,{})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[e.jsxs(a.div,{variants:d,className:"lg:col-span-2 bg-white rounded-2xl border border-slate-200 shadow-sm flex flex-col overflow-hidden",children:[e.jsxs("div",{className:"p-6 border-b border-slate-100 flex justify-between items-center bg-white sticky top-0 z-10",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-lg text-slate-800",children:"Recent Activity"}),e.jsx("p",{className:"text-sm text-slate-500 mt-0.5 font-medium",children:"Latest updates from your team"})]}),e.jsxs("button",{className:"text-indigo-600 text-sm font-semibold hover:text-indigo-700 hover:bg-indigo-50 px-3 py-1.5 rounded-lg transition-colors flex items-center gap-1",children:["View All ",e.jsx(M,{size:16})]})]}),e.jsx("div",{className:"p-2",children:e.jsx("div",{className:"overflow-y-auto max-h-[500px] scrollbar-thin scrollbar-thumb-slate-200 pr-2",children:0===r.length?e.jsxs("div",{className:"p-12 text-center flex flex-col items-center text-slate-400",children:[e.jsx(W,{size:48,className:"mb-4 opacity-50 text-slate-300"}),e.jsx("p",{className:"text-sm font-medium",children:"No recent activity found."})]}):e.jsx("div",{className:"space-y-1",children:r.map(t=>e.jsxs("div",{className:"p-4 flex items-start gap-4 hover:bg-slate-50 rounded-xl transition-all cursor-pointer group border border-transparent hover:border-slate-100",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-indigo-50 border border-slate-200 flex items-center justify-center text-xs font-bold text-indigo-600 uppercase shrink-0 shadow-sm group-hover:shadow-md transition-all",children:t.initials}),e.jsxs("div",{className:"flex-1 min-w-0 pt-0.5",children:[e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsx("p",{className:"text-sm font-bold text-slate-800 truncate group-hover:text-indigo-600 transition-colors",children:t.user}),e.jsx("span",{className:"flex items-center text-[10px] font-bold text-slate-400 gap-1 whitespace-nowrap bg-slate-50 px-2 py-0.5 rounded border border-slate-100 uppercase tracking-wide",children:t.time})]}),e.jsxs("p",{className:"text-sm text-slate-600 mt-1 leading-relaxed",children:[t.action," ",e.jsx("span",{className:"text-slate-300 mx-1",children:""})," ",e.jsx("span",{className:"font-medium text-slate-900 bg-slate-100 px-1.5 py-0.5 rounded text-xs",children:t.project})]})]})]},t.id))})})})]}),e.jsx(a.div,{variants:d,className:"flex flex-col gap-6",children:e.jsxs("div",{className:"bg-slate-900 rounded-2xl shadow-2xl p-8 text-white border border-slate-800 relative overflow-hidden group",children:[e.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-slate-800/50 rounded-full blur-[80px] -translate-y-1/2 translate-x-1/2"}),e.jsx("div",{className:"absolute bottom-0 left-0 w-48 h-48 bg-slate-800/30 rounded-full blur-[60px] translate-y-1/2 -translate-x-1/2"}),e.jsxs("div",{className:"relative z-10",children:[e.jsx("div",{className:"w-12 h-12 bg-white/10 rounded-xl flex items-center justify-center mb-6 backdrop-blur-md border border-white/10 group-hover:scale-110 transition-transform duration-300 shadow-lg shadow-black/20",children:e.jsx(H,{className:"text-indigo-400",size:24})}),e.jsx("h3",{className:"text-xl font-bold mb-2 text-white tracking-tight",children:"Upgrade to Enterprise"}),e.jsx("p",{className:"text-slate-400 text-sm mb-8 leading-relaxed font-medium",children:"Get access to advanced analytics, unlimited team members, and dedicated support."}),e.jsx("button",{className:"w-full py-3.5 bg-indigo-600 text-white font-bold text-sm rounded-xl hover:bg-indigo-700 transition-all shadow-lg shadow-indigo-900/20 hover:-translate-y-0.5",children:"Upgrade Plan"}),e.jsxs("div",{className:"mt-8 pt-6 border-t border-slate-800",children:[e.jsxs("div",{className:"flex justify-between items-center text-xs mb-2",children:[e.jsx("span",{className:"text-slate-400 font-medium",children:"Storage Usage"}),e.jsx("span",{className:"font-bold text-indigo-300",children:"7.8 GB / 10 GB"})]}),e.jsx("div",{className:"w-full bg-slate-800 rounded-full h-2 overflow-hidden border border-slate-700",children:e.jsx("div",{className:"bg-indigo-500 rounded-full h-full w-[78%]"})})]})]})]})})]})]})},gd=()=>{const{user:e}=lr(),[t,n]=kt.useState({roles:{},permissions:[]}),[r,a]=kt.useState(!0);kt.useEffect(()=>{(async()=>{try{const e=await sr.get("/permissions");n(e.data)}catch(e){}finally{a(!1)}})()},[]);return{can:n=>{if(!e)return!1;if(e.permissions&&e.permissions.includes("*"))return!0;if(e.permissions&&Array.isArray(e.permissions)&&e.permissions.includes(n))return!0;const r=e.role||"viewer",a=t.permissions?.find(e=>e.key===n);return!(!a||!a.roles)&&a.roles.includes(r)},matrix:t,loading:r}};function xd(e){const[t,n]=kt.useState(!1);return kt.useEffect(()=>{const r=window.matchMedia(e);r.matches!==t&&n(r.matches);const a=()=>{n(r.matches)};return window.addEventListener("resize",a),r.addEventListener("change",a),()=>{window.removeEventListener("resize",a),r.removeEventListener("change",a)}},[t,e]),t}const bd=({business:t,mobileMenuOpen:n,setMobileMenuOpen:i})=>{const l=xd("(max-width: 1024px)"),[c,d]=kt.useState(!1),u=Et(),{can:h}=gd(),{logout:p}=lr(),f=()=>d(!c),g=t?.name||"DocForge",x=[{icon:V,label:"Dashboard",path:"/dashboard"},{icon:q,label:"Drive",path:"/drive",permission:"document.view"},{icon:o,label:"Documents",path:"/documents",permission:"document.view"},{icon:Y,label:"Signatures",path:"/signatures/list",permission:"settings.signature"},{icon:m,label:"Team",path:"/team",permission:"team.view"},{icon:G,label:"Settings",path:"/settings",permission:"settings.manage"}].filter(e=>!e.permission||h(e.permission));return e.jsxs(a.aside,{initial:l?"mobileClosed":"expanded",animate:l?n?"mobileOpen":"mobileClosed":c?"collapsed":"expanded",variants:{expanded:{width:280},collapsed:{width:80},mobileOpen:{x:0},mobileClosed:{x:-300}},transition:{type:"spring",stiffness:300,damping:30},className:"\n                no-print bg-slate-900 text-slate-400 flex flex-col justify-between\n                z-50 border-r border-slate-800 shadow-2xl\n                lg:sticky lg:top-0 fixed top-0 left-0 h-screen overflow-hidden\n            ",children:[e.jsxs("div",{className:"p-6 flex items-center h-20 border-b border-slate-800/50 "+(c?"justify-center":"justify-between"),children:[e.jsxs("div",{className:"flex items-center gap-3 overflow-hidden",children:[e.jsx("div",{className:"w-10 h-10 shrink-0 bg-gradient-to-br from-indigo-500 via-purple-500 to-pink-500 rounded-xl flex items-center justify-center text-white shadow-lg shadow-indigo-500/20 ring-1 ring-white/10",children:e.jsx(N,{size:20,strokeWidth:2.5})}),e.jsx(r,{children:(!c||l&&n)&&e.jsxs(a.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},exit:{opacity:0,width:0},className:"whitespace-nowrap",children:[e.jsx("span",{className:"font-bold text-lg text-white block leading-none",children:g}),e.jsxs("span",{className:"text-[10px] uppercase font-bold text-indigo-400 tracking-wider flex items-center gap-1 mt-0.5",children:[e.jsx(K,{size:10})," Workspace"]})]})})]}),!l&&!c&&e.jsx("button",{onClick:f,className:"p-1.5 rounded-lg text-slate-500 hover:text-white hover:bg-white/10 transition-colors",children:e.jsx(T,{size:18})})]}),e.jsxs("nav",{className:"flex-1 px-3 py-6 space-y-1 overflow-y-auto scrollbar-none",children:[!l&&c&&e.jsx("button",{onClick:f,className:"w-full flex justify-center p-2 mb-4 text-slate-500 hover:text-white hover:bg-white/5 rounded-xl transition-colors",children:e.jsx(M,{size:20})}),x.map(t=>e.jsx(Tt,{to:t.path,onClick:()=>l&&i(!1),className:({isActive:e})=>"flex items-center px-3 py-3 rounded-xl transition-all group relative overflow-hidden\n                             "+(e?"bg-indigo-600 text-white shadow-lg shadow-indigo-900/20":"hover:bg-slate-800 hover:text-slate-100"),children:({isActive:s})=>e.jsxs(e.Fragment,{children:[s&&e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-white/10 to-transparent pointer-events-none"}),e.jsxs("div",{className:"relative z-10 flex items-center "+(c&&!l?"justify-center w-full":""),children:[e.jsx(t.icon,{size:22,strokeWidth:s?2.5:2,className:s?"text-white":"text-slate-400 group-hover:text-slate-200"}),e.jsx(r,{children:(!c||l&&n)&&e.jsx(a.span,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},exit:{opacity:0,width:0},className:"ml-3 text-sm font-medium whitespace-nowrap",children:t.label})})]}),c&&!l&&e.jsx("div",{className:"hidden group-hover:block absolute left-full ml-4 px-3 py-2 bg-slate-800 text-xs font-semibold text-white rounded-lg shadow-xl border border-slate-700 whitespace-nowrap z-50 animate-in fade-in slide-in-from-left-2",children:t.label})]})},t.path))]}),e.jsxs("div",{className:"p-4 border-t border-slate-800/50 bg-slate-900/50",children:[e.jsx(r,{children:(!c||l&&n)&&e.jsxs(a.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,height:0,marginBottom:0},className:"mb-4 p-4 rounded-xl bg-gradient-to-br from-slate-800 to-slate-900 border border-slate-700/50 shadow-inner group cursor-pointer hover:border-indigo-500/30 transition-colors",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("span",{className:"text-xs font-bold text-white flex items-center gap-1",children:[e.jsx(s,{size:12,className:"text-emerald-400"})," Pro Plan"]}),e.jsx("span",{className:"text-[10px] bg-emerald-500/10 text-emerald-400 px-1.5 py-0.5 rounded border border-emerald-500/20",children:"Active"})]}),e.jsx("div",{className:"w-full bg-slate-700/50 rounded-full h-1.5 overflow-hidden mb-2",children:e.jsx("div",{className:"bg-gradient-to-r from-indigo-500 to-purple-500 h-full w-[75%] rounded-full shadow-[0_0_10px_rgba(99,102,241,0.5)]"})}),e.jsx("p",{className:"text-[10px] text-slate-400",children:"75% of storage used"})]})}),e.jsxs("button",{onClick:async()=>{await p(),u("/")},className:"flex items-center w-full rounded-xl text-slate-400 hover:text-red-400 hover:bg-slate-800 transition-all border border-transparent hover:border-slate-700/50\n                        "+(c&&!l?"justify-center p-3":"px-4 py-3"),title:"Log Out",children:[e.jsx(X,{size:20,strokeWidth:2}),e.jsx(r,{children:(!c||l&&n)&&e.jsx(a.span,{initial:{opacity:0,width:0},animate:{opacity:1,width:"auto"},exit:{opacity:0,width:0},className:"ml-3 text-sm font-medium whitespace-nowrap overflow-hidden",children:"Log Out"})})]})]})]})},vd=({business:t,onMenuClick:s})=>{const{user:i,logout:l}=lr(),c=Et(),[d,u]=kt.useState(!1),h=kt.useRef(null),[m,p]=kt.useState(!1),[f,g]=kt.useState(!1),b=kt.useRef(null),v=kt.useRef(null),[y,w]=kt.useState([]),[N,k]=kt.useState(0),S=async()=>{try{const e=await sr.get("/notifications"),t=e.data.data.map(e=>({id:e.id,type:e.data.type||"info",title:e.data.title||"Notification",message:e.data.message||"",time:e.created_at?new Date(e.created_at).toLocaleDateString():"Just now",read:!!e.read_at,raw_created_at:e.created_at}));w(t),k(e.data.unread_count)}catch(e){}};kt.useEffect(()=>{if(i){S();const e=setInterval(S,3e4);return()=>clearInterval(e)}},[i]);const C=async e=>{try{await(e=>sr.post(`/notifications/${e}/read`))(e),S()}catch(t){}};kt.useEffect(()=>{const e=e=>{b.current&&!b.current.contains(e.target)&&p(!1),v.current&&!v.current.contains(e.target)&&g(!1),h.current&&!h.current.contains(e.target)&&u(!1)};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[]);return e.jsxs("header",{className:"no-print px-6 py-4 flex items-center justify-between sticky top-0 z-40 glass border-b border-indigo-50/50 shadow-sm transition-all duration-300",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("button",{onClick:s,className:"p-2 -ml-2 text-slate-500 hover:bg-slate-100 rounded-xl lg:hidden transition-colors",children:e.jsx(n,{size:20})}),e.jsx("div",{className:""+(d?"hidden md:block":"block"),children:e.jsxs("h1",{className:"text-lg font-bold text-slate-800 tracking-tight flex items-center gap-2",children:["Dashboard",e.jsx("span",{className:"hidden sm:inline-block px-2 py-0.5 rounded-md bg-slate-100 border border-slate-200 text-[10px] font-bold text-slate-500 uppercase tracking-widest",children:"Beta"})]})})]}),e.jsxs("div",{className:"flex items-center gap-3 sm:gap-5",children:[e.jsxs("div",{className:"relative group",ref:h,children:[e.jsx("button",{onClick:()=>u(!d),className:"md:hidden p-2 text-slate-500 hover:bg-slate-50 rounded-xl",children:e.jsx(Q,{size:20})}),e.jsxs("div",{className:""+(d?"absolute right-0 top-1/2 -translate-y-1/2 w-[calc(100vw-80px)] md:w-auto bg-white z-50 shadow-xl rounded-xl":"hidden md:block relative"),children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none text-slate-400 group-focus-within:text-indigo-600 transition-colors",children:e.jsx(Q,{size:16,strokeWidth:2.5})}),e.jsx("input",{type:"text",autoFocus:d,placeholder:"Type to search...",className:"pl-10 pr-12 py-2.5 bg-slate-100/50 border border-transparent rounded-xl text-sm w-full md:w-72 focus:ring-2 focus:ring-indigo-500/20 focus:bg-white focus:border-indigo-500 transition-all duration-200 placeholder-slate-400 text-slate-700 hover:bg-slate-100 outline-none"}),e.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none text-slate-400",children:e.jsxs("kbd",{className:"hidden sm:inline-flex items-center gap-1 px-1.5 py-0.5 rounded border border-slate-200 bg-white text-[10px] font-sans font-medium text-slate-500 shadow-sm",children:[e.jsx(J,{size:10})," K"]})})]})]}),e.jsxs("div",{className:"relative",ref:b,children:[e.jsxs(a.button,{autoFocus:!1,whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>p(!m),className:"relative p-2.5 rounded-xl transition-all "+(m?"bg-indigo-50 text-indigo-600 shadow-inner":"text-slate-500 hover:bg-slate-50 hover:text-indigo-600"),children:[e.jsx(Z,{size:20,strokeWidth:2}),N>0&&e.jsxs("span",{className:"absolute top-2.5 right-2.5 flex h-2.5 w-2.5",children:[e.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-red-400 opacity-75"}),e.jsx("span",{className:"relative inline-flex rounded-full h-2.5 w-2.5 bg-red-500 ring-2 ring-white"})]})]}),e.jsx(r,{children:m&&e.jsxs(a.div,{initial:{opacity:0,y:10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:10,scale:.95},transition:{type:"spring",duration:.3},className:"absolute right-0 mt-4 w-[90vw] sm:w-[400px] bg-white rounded-2xl shadow-premium border border-slate-100 overflow-hidden z-50 origin-top-right -mr-12 sm:mr-0",children:[e.jsxs("div",{className:"p-4 border-b border-slate-100 flex items-center justify-between bg-slate-50/50 backdrop-blur-sm",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-slate-800",children:"Notifications"}),e.jsxs("p",{className:"text-xs text-slate-500 mt-0.5",children:["You have ",N," unread messages"]})]}),N>0&&e.jsx("button",{onClick:async()=>{try{await sr.post("/notifications/mark-all-read"),S()}catch(e){}},className:"text-xs text-indigo-600 hover:text-indigo-700 font-bold px-3 py-1.5 bg-indigo-50 hover:bg-indigo-100 rounded-lg transition-colors",children:"Mark all read"})]}),e.jsx("div",{className:"max-h-[400px] overflow-y-auto scrollbar-thin scrollbar-thumb-slate-200",children:0===y.length?e.jsxs("div",{className:"p-12 text-center text-slate-400 flex flex-col items-center",children:[e.jsx(Z,{size:32,className:"mb-3 opacity-20"}),e.jsx("p",{className:"text-sm font-medium",children:"All caught up!"})]}):e.jsx("div",{className:"divide-y divide-slate-50",children:y.map(t=>e.jsxs("div",{onClick:()=>C(t.id),className:"p-4 hover:bg-slate-50 transition-all cursor-pointer group relative "+(t.read?"":"bg-indigo-50/20"),children:[!t.read&&e.jsx("div",{className:"absolute left-0 top-0 bottom-0 w-1 bg-indigo-500 rounded-r-full"}),e.jsxs("div",{className:"flex gap-4",children:[e.jsx("div",{className:"mt-1 h-10 w-10 rounded-full flex items-center justify-center shrink-0 "+(t.read?"bg-slate-100 text-slate-500":"bg-indigo-100 text-indigo-600"),children:e.jsx(o,{size:18,strokeWidth:2})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex justify-between items-start mb-0.5",children:[e.jsx("p",{className:"text-sm font-semibold truncate pr-2 "+(t.read?"text-slate-700":"text-slate-900"),children:t.title}),e.jsx("span",{className:"text-[10px] text-slate-400 font-medium whitespace-nowrap bg-slate-50 px-1.5 py-0.5 rounded border border-slate-100",children:t.time})]}),e.jsx("p",{className:"text-sm text-slate-500 leading-snug line-clamp-2 mix-blend-multiply",children:t.message})]})]})]},t.id))})}),e.jsx("div",{className:"p-3 bg-slate-50/50 text-center border-t border-slate-100",children:e.jsxs("button",{className:"text-xs font-bold text-slate-600 hover:text-indigo-600 transition-colors flex items-center justify-center gap-1 w-full py-1",children:["View All Activity ",e.jsx(x,{size:12})]})})]})})]}),e.jsxs("div",{className:"relative pl-2",ref:v,children:[e.jsxs(a.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>g(!f),className:"flex items-center gap-3 p-1 rounded-xl transition-all border "+(f?"bg-white border-indigo-200 shadow-md ring-2 ring-indigo-50/50":"border-transparent hover:bg-slate-50"),children:[e.jsxs("div",{className:"text-right hidden md:block pr-1",children:[e.jsx("p",{className:"text-sm font-bold text-slate-800 leading-none",children:i?.name||"User"}),e.jsx("p",{className:"text-[10px] uppercase font-bold text-slate-500 tracking-wider mt-1",children:i?.role||"Member"})]}),e.jsx("div",{className:"h-10 w-10 rounded-xl bg-gradient-to-br from-indigo-500 via-purple-500 to-pink-500 p-0.5 shadow-lg shadow-indigo-500/20",children:e.jsx("div",{className:"h-full w-full bg-white rounded-[10px] flex items-center justify-center overflow-hidden",children:i?.avatar_url?e.jsx("img",{src:i.avatar_url,alt:i.name,className:"h-full w-full object-cover"}):e.jsx("span",{className:"font-bold text-sm bg-gradient-to-br from-indigo-600 to-purple-600 bg-clip-text text-transparent",children:i?.name?.charAt(0).toUpperCase()||"U"})})})]}),e.jsx(r,{children:f&&e.jsxs(a.div,{initial:{opacity:0,y:10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:10,scale:.95},transition:{type:"spring",duration:.3},className:"absolute right-0 mt-3 w-64 bg-white rounded-2xl shadow-premium border border-slate-100 overflow-hidden z-50 origin-top-right",children:[e.jsxs("div",{className:"p-5 border-b border-slate-100 bg-gradient-to-br from-slate-50 to-white",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx("div",{className:"h-12 w-12 rounded-full bg-indigo-100 text-indigo-600 flex items-center justify-center font-bold text-xl",children:i?.name?.charAt(0).toUpperCase()}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-bold text-slate-800",children:i?.name}),e.jsx("p",{className:"text-xs text-slate-500 font-medium truncate max-w-[140px]",children:i?.email})]})]}),e.jsx("div",{className:"flex gap-2",children:e.jsx("span",{className:"px-2 py-1 rounded-md bg-emerald-50 text-emerald-700 border border-emerald-100 text-[10px] font-bold uppercase tracking-wide",children:"Pro Plan"})})]}),e.jsxs("div",{className:"p-2 space-y-1",children:[e.jsxs(_t,{to:"/settings",onClick:()=>g(!1),className:"flex items-center gap-3 px-3 py-2.5 text-sm font-medium text-slate-600 hover:text-indigo-600 hover:bg-slate-50 rounded-xl transition-colors group",children:[e.jsx(j,{size:18,className:"text-slate-400 group-hover:text-indigo-500 transition-colors"}),"My Profile"]}),e.jsxs(_t,{to:"/settings",onClick:()=>g(!1),className:"flex items-center gap-3 px-3 py-2.5 text-sm font-medium text-slate-600 hover:text-indigo-600 hover:bg-slate-50 rounded-xl transition-colors group",children:[e.jsx(G,{size:18,className:"text-slate-400 group-hover:text-indigo-500 transition-colors"}),"Settings"]})]}),e.jsx("div",{className:"p-2 border-t border-slate-50 mt-1",children:e.jsxs("button",{onClick:async()=>{await l(),c("/login")},className:"w-full flex items-center gap-3 px-3 py-2.5 text-sm font-bold text-red-600 hover:bg-red-50 rounded-xl transition-colors group",children:[e.jsx(X,{size:18,className:"text-red-500 group-hover:text-red-600 transition-colors"}),"Sign Out"]})})]})})]})]})]})},yd=async e=>{let t;return e instanceof FormData?(e.append("_method","PUT"),t=await sr.post("/business",e,{headers:{"Content-Type":"multipart/form-data"}})):t=await sr.put("/business",e),t.data},wd=async()=>(await sr.get("/user")).data.data.business;function jd(){const[t,n]=kt.useState(null),[r,a]=kt.useState(!1);return kt.useEffect(()=>{$t.dismiss();(async()=>{try{const e=await wd();n(e)}catch(e){}})()},[]),e.jsxs("div",{className:"flex bg-slate-50 min-h-screen",children:[e.jsx(bd,{business:t,mobileMenuOpen:r,setMobileMenuOpen:a}),r&&e.jsx("div",{className:"fixed inset-0 bg-slate-900/50 z-40 lg:hidden backdrop-blur-sm",onClick:()=>a(!1)}),e.jsxs("div",{className:"flex-1 flex flex-col min-w-0 transition-all duration-300 relative overflow-x-hidden",children:[e.jsx(vd,{business:t,onMenuClick:()=>a(!r)}),e.jsx("main",{className:"flex-1 overflow-y-auto p-4 md:p-8",children:e.jsx(Pt,{})})]})]})}const Nd="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement;function kd(e){const t=Object.prototype.toString.call(e);return"[object Window]"===t||"[object global]"===t}function Sd(e){return"nodeType"in e}function Cd(e){var t,n;return e?kd(e)?e:Sd(e)&&null!=(t=null==(n=e.ownerDocument)?void 0:n.defaultView)?t:window:window}function _d(e){const{Document:t}=Cd(e);return e instanceof t}function Pd(e){return!kd(e)&&e instanceof Cd(e).HTMLElement}function Ed(e){return e instanceof Cd(e).SVGElement}function Dd(e){return e?kd(e)?e.document:Sd(e)?_d(e)?e:Pd(e)||Ed(e)?e.ownerDocument:document:document:document}const Od=Nd?kt.useLayoutEffect:kt.useEffect;function Td(e){const t=kt.useRef(e);return Od(()=>{t.current=e}),kt.useCallback(function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return null==t.current?void 0:t.current(...n)},[])}function Md(e,t){void 0===t&&(t=[e]);const n=kt.useRef(e);return Od(()=>{n.current!==e&&(n.current=e)},t),n}function Ad(e,t){const n=kt.useRef();return kt.useMemo(()=>{const t=e(n.current);return n.current=t,t},[...t])}function zd(e){const t=Td(e),n=kt.useRef(null),r=kt.useCallback(e=>{e!==n.current&&(null==t||t(e,n.current)),n.current=e},[]);return[n,r]}function Rd(e){const t=kt.useRef();return kt.useEffect(()=>{t.current=e},[e]),t.current}let Id={};function Fd(e,t){return kt.useMemo(()=>{if(t)return t;const n=null==Id[e]?0:Id[e]+1;return Id[e]=n,e+"-"+n},[e,t])}function Ld(e){return function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];return r.reduce((t,n)=>{const r=Object.entries(n);for(const[a,s]of r){const n=t[a];null!=n&&(t[a]=n+e*s)}return t},{...t})}}const Bd=Ld(1),$d=Ld(-1);function Wd(e){if(!e)return!1;const{KeyboardEvent:t}=Cd(e.target);return t&&e instanceof t}function Ud(e){if(function(e){if(!e)return!1;const{TouchEvent:t}=Cd(e.target);return t&&e instanceof t}(e)){if(e.touches&&e.touches.length){const{clientX:t,clientY:n}=e.touches[0];return{x:t,y:n}}if(e.changedTouches&&e.changedTouches.length){const{clientX:t,clientY:n}=e.changedTouches[0];return{x:t,y:n}}}return function(e){return"clientX"in e&&"clientY"in e}(e)?{x:e.clientX,y:e.clientY}:null}const Hd=Object.freeze({Translate:{toString(e){if(!e)return;const{x:t,y:n}=e;return"translate3d("+(t?Math.round(t):0)+"px, "+(n?Math.round(n):0)+"px, 0)"}},Scale:{toString(e){if(!e)return;const{scaleX:t,scaleY:n}=e;return"scaleX("+t+") scaleY("+n+")"}},Transform:{toString(e){if(e)return[Hd.Translate.toString(e),Hd.Scale.toString(e)].join(" ")}},Transition:{toString(e){let{property:t,duration:n,easing:r}=e;return t+" "+n+"ms "+r}}}),Vd="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function qd(e){return e.matches(Vd)?e:e.querySelector(Vd)}const Yd={display:"none"};function Gd(e){let{id:t,value:n}=e;return St.createElement("div",{id:t,style:Yd},n)}function Kd(e){let{id:t,announcement:n,ariaLiveType:r="assertive"}=e;return St.createElement("div",{id:t,style:{position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"},role:"status","aria-live":r,"aria-atomic":!0},n)}const Xd=kt.createContext(null);const Qd={draggable:"\n    To pick up a draggable item, press the space bar.\n    While dragging, use the arrow keys to move the item.\n    Press space again to drop the item in its new position, or press escape to cancel.\n  "},Jd={onDragStart(e){let{active:t}=e;return"Picked up draggable item "+t.id+"."},onDragOver(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was moved over droppable area "+n.id+".":"Draggable item "+t.id+" is no longer over a droppable area."},onDragEnd(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was dropped over droppable area "+n.id:"Draggable item "+t.id+" was dropped."},onDragCancel(e){let{active:t}=e;return"Dragging was cancelled. Draggable item "+t.id+" was dropped."}};function Zd(e){let{announcements:t=Jd,container:n,hiddenTextDescribedById:r,screenReaderInstructions:a=Qd}=e;const{announce:s,announcement:i}=function(){const[e,t]=kt.useState("");return{announce:kt.useCallback(e=>{null!=e&&t(e)},[]),announcement:e}}(),o=Fd("DndLiveRegion"),[l,c]=kt.useState(!1);if(kt.useEffect(()=>{c(!0)},[]),function(e){const t=kt.useContext(Xd);kt.useEffect(()=>{if(!t)throw new Error("useDndMonitor must be used within a children of <DndContext>");return t(e)},[e,t])}(kt.useMemo(()=>({onDragStart(e){let{active:n}=e;s(t.onDragStart({active:n}))},onDragMove(e){let{active:n,over:r}=e;t.onDragMove&&s(t.onDragMove({active:n,over:r}))},onDragOver(e){let{active:n,over:r}=e;s(t.onDragOver({active:n,over:r}))},onDragEnd(e){let{active:n,over:r}=e;s(t.onDragEnd({active:n,over:r}))},onDragCancel(e){let{active:n,over:r}=e;s(t.onDragCancel({active:n,over:r}))}}),[s,t])),!l)return null;const d=St.createElement(St.Fragment,null,St.createElement(Gd,{id:r,value:a.draggable}),St.createElement(Kd,{id:o,announcement:i}));return n?Mt.createPortal(d,n):d}var eu,tu;function nu(){}function ru(e,t){return kt.useMemo(()=>({sensor:e,options:null!=t?t:{}}),[e,t])}function au(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return kt.useMemo(()=>[...t].filter(e=>null!=e),[...t])}(tu=eu||(eu={})).DragStart="dragStart",tu.DragMove="dragMove",tu.DragEnd="dragEnd",tu.DragCancel="dragCancel",tu.DragOver="dragOver",tu.RegisterDroppable="registerDroppable",tu.SetDroppableDisabled="setDroppableDisabled",tu.UnregisterDroppable="unregisterDroppable";const su=Object.freeze({x:0,y:0});function iu(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function ou(e,t){const n=Ud(e);if(!n)return"0 0";return(n.x-t.left)/t.width*100+"% "+(n.y-t.top)/t.height*100+"%"}function lu(e,t){let{data:{value:n}}=e,{data:{value:r}}=t;return n-r}function cu(e,t){let{data:{value:n}}=e,{data:{value:r}}=t;return r-n}function du(e,t,n){return void 0===t&&(t=e.left),void 0===n&&(n=e.top),{x:t+.5*e.width,y:n+.5*e.height}}const uu=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e;const a=du(t,t.left,t.top),s=[];for(const i of r){const{id:e}=i,t=n.get(e);if(t){const n=iu(du(t),a);s.push({id:e,data:{droppableContainer:i,value:n}})}}return s.sort(lu)};function hu(e,t){const n=Math.max(t.top,e.top),r=Math.max(t.left,e.left),a=Math.min(t.left+t.width,e.left+e.width),s=Math.min(t.top+t.height,e.top+e.height),i=a-r,o=s-n;if(r<a&&n<s){const n=t.width*t.height,r=e.width*e.height,a=i*o;return Number((a/(n+r-a)).toFixed(4))}return 0}const mu=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e;const a=[];for(const s of r){const{id:e}=s,r=n.get(e);if(r){const n=hu(r,t);n>0&&a.push({id:e,data:{droppableContainer:s,value:n}})}}return a.sort(cu)};function pu(e,t){return e&&t?{x:e.left-t.left,y:e.top-t.top}:su}function fu(e){return function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];return r.reduce((t,n)=>({...t,top:t.top+e*n.y,bottom:t.bottom+e*n.y,left:t.left+e*n.x,right:t.right+e*n.x}),{...t})}}const gu=fu(1);function xu(e){if(e.startsWith("matrix3d(")){const t=e.slice(9,-1).split(/, /);return{x:+t[12],y:+t[13],scaleX:+t[0],scaleY:+t[5]}}if(e.startsWith("matrix(")){const t=e.slice(7,-1).split(/, /);return{x:+t[4],y:+t[5],scaleX:+t[0],scaleY:+t[3]}}return null}const bu={ignoreTransform:!1};function vu(e,t){void 0===t&&(t=bu);let n=e.getBoundingClientRect();if(t.ignoreTransform){const{transform:t,transformOrigin:r}=Cd(e).getComputedStyle(e);t&&(n=function(e,t,n){const r=xu(t);if(!r)return e;const{scaleX:a,scaleY:s,x:i,y:o}=r,l=e.left-i-(1-a)*parseFloat(n),c=e.top-o-(1-s)*parseFloat(n.slice(n.indexOf(" ")+1)),d=a?e.width/a:e.width,u=s?e.height/s:e.height;return{width:d,height:u,top:c,right:l+d,bottom:c+u,left:l}}(n,t,r))}const{top:r,left:a,width:s,height:i,bottom:o,right:l}=n;return{top:r,left:a,width:s,height:i,bottom:o,right:l}}function yu(e){return vu(e,{ignoreTransform:!0})}function wu(e,t){const n=[];return e?function r(a){if(null!=t&&n.length>=t)return n;if(!a)return n;if(_d(a)&&null!=a.scrollingElement&&!n.includes(a.scrollingElement))return n.push(a.scrollingElement),n;if(!Pd(a)||Ed(a))return n;if(n.includes(a))return n;const s=Cd(e).getComputedStyle(a);return a!==e&&function(e,t){void 0===t&&(t=Cd(e).getComputedStyle(e));const n=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(e=>{const r=t[e];return"string"==typeof r&&n.test(r)})}(a,s)&&n.push(a),function(e,t){return void 0===t&&(t=Cd(e).getComputedStyle(e)),"fixed"===t.position}(a,s)?n:r(a.parentNode)}(e):n}function ju(e){const[t]=wu(e,1);return null!=t?t:null}function Nu(e){return Nd&&e?kd(e)?e:Sd(e)?_d(e)||e===Dd(e).scrollingElement?window:Pd(e)?e:null:null:null}function ku(e){return kd(e)?e.scrollX:e.scrollLeft}function Su(e){return kd(e)?e.scrollY:e.scrollTop}function Cu(e){return{x:ku(e),y:Su(e)}}var _u,Pu;function Eu(e){return!(!Nd||!e)&&e===document.scrollingElement}function Du(e){const t={x:0,y:0},n=Eu(e)?{height:window.innerHeight,width:window.innerWidth}:{height:e.clientHeight,width:e.clientWidth},r={x:e.scrollWidth-n.width,y:e.scrollHeight-n.height};return{isTop:e.scrollTop<=t.y,isLeft:e.scrollLeft<=t.x,isBottom:e.scrollTop>=r.y,isRight:e.scrollLeft>=r.x,maxScroll:r,minScroll:t}}(Pu=_u||(_u={}))[Pu.Forward=1]="Forward",Pu[Pu.Backward=-1]="Backward";const Ou={x:.2,y:.2};function Tu(e,t,n,r,a){let{top:s,left:i,right:o,bottom:l}=n;void 0===r&&(r=10),void 0===a&&(a=Ou);const{isTop:c,isBottom:d,isLeft:u,isRight:h}=Du(e),m={x:0,y:0},p={x:0,y:0},f=t.height*a.y,g=t.width*a.x;return!c&&s<=t.top+f?(m.y=_u.Backward,p.y=r*Math.abs((t.top+f-s)/f)):!d&&l>=t.bottom-f&&(m.y=_u.Forward,p.y=r*Math.abs((t.bottom-f-l)/f)),!h&&o>=t.right-g?(m.x=_u.Forward,p.x=r*Math.abs((t.right-g-o)/g)):!u&&i<=t.left+g&&(m.x=_u.Backward,p.x=r*Math.abs((t.left+g-i)/g)),{direction:m,speed:p}}function Mu(e){if(e===document.scrollingElement){const{innerWidth:e,innerHeight:t}=window;return{top:0,left:0,right:e,bottom:t,width:e,height:t}}const{top:t,left:n,right:r,bottom:a}=e.getBoundingClientRect();return{top:t,left:n,right:r,bottom:a,width:e.clientWidth,height:e.clientHeight}}function Au(e){return e.reduce((e,t)=>Bd(e,Cu(t)),su)}function zu(e,t){if(void 0===t&&(t=vu),!e)return;const{top:n,left:r,bottom:a,right:s}=t(e);ju(e)&&(a<=0||s<=0||n>=window.innerHeight||r>=window.innerWidth)&&e.scrollIntoView({block:"center",inline:"center"})}const Ru=[["x",["left","right"],function(e){return e.reduce((e,t)=>e+ku(t),0)}],["y",["top","bottom"],function(e){return e.reduce((e,t)=>e+Su(t),0)}]];class Iu{constructor(e,t){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const n=wu(t),r=Au(n);this.rect={...e},this.width=e.width,this.height=e.height;for(const[a,s,i]of Ru)for(const e of s)Object.defineProperty(this,e,{get:()=>{const t=i(n),s=r[a]-t;return this.rect[e]+s},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class Fu{constructor(e){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(e=>{var t;return null==(t=this.target)?void 0:t.removeEventListener(...e)})},this.target=e}add(e,t,n){var r;null==(r=this.target)||r.addEventListener(e,t,n),this.listeners.push([e,t,n])}}function Lu(e,t){const n=Math.abs(e.x),r=Math.abs(e.y);return"number"==typeof t?Math.sqrt(n**2+r**2)>t:"x"in t&&"y"in t?n>t.x&&r>t.y:"x"in t?n>t.x:"y"in t&&r>t.y}var Bu,$u,Wu,Uu;function Hu(e){e.preventDefault()}function Vu(e){e.stopPropagation()}($u=Bu||(Bu={})).Click="click",$u.DragStart="dragstart",$u.Keydown="keydown",$u.ContextMenu="contextmenu",$u.Resize="resize",$u.SelectionChange="selectionchange",$u.VisibilityChange="visibilitychange",(Uu=Wu||(Wu={})).Space="Space",Uu.Down="ArrowDown",Uu.Right="ArrowRight",Uu.Left="ArrowLeft",Uu.Up="ArrowUp",Uu.Esc="Escape",Uu.Enter="Enter",Uu.Tab="Tab";const qu={start:[Wu.Space,Wu.Enter],cancel:[Wu.Esc],end:[Wu.Space,Wu.Enter,Wu.Tab]},Yu=(e,t)=>{let{currentCoordinates:n}=t;switch(e.code){case Wu.Right:return{...n,x:n.x+25};case Wu.Left:return{...n,x:n.x-25};case Wu.Down:return{...n,y:n.y+25};case Wu.Up:return{...n,y:n.y-25}}};class Gu{constructor(e){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=e;const{event:{target:t}}=e;this.props=e,this.listeners=new Fu(Dd(t)),this.windowListeners=new Fu(Cd(t)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(Bu.Resize,this.handleCancel),this.windowListeners.add(Bu.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(Bu.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:e,onStart:t}=this.props,n=e.node.current;n&&zu(n),t(su)}handleKeyDown(e){if(Wd(e)){const{active:t,context:n,options:r}=this.props,{keyboardCodes:a=qu,coordinateGetter:s=Yu,scrollBehavior:i="smooth"}=r,{code:o}=e;if(a.end.includes(o))return void this.handleEnd(e);if(a.cancel.includes(o))return void this.handleCancel(e);const{collisionRect:l}=n.current,c=l?{x:l.left,y:l.top}:su;this.referenceCoordinates||(this.referenceCoordinates=c);const d=s(e,{active:t,context:n.current,currentCoordinates:c});if(d){const t=$d(d,c),r={x:0,y:0},{scrollableAncestors:a}=n.current;for(const n of a){const a=e.code,{isTop:s,isRight:o,isLeft:l,isBottom:c,maxScroll:u,minScroll:h}=Du(n),m=Mu(n),p={x:Math.min(a===Wu.Right?m.right-m.width/2:m.right,Math.max(a===Wu.Right?m.left:m.left+m.width/2,d.x)),y:Math.min(a===Wu.Down?m.bottom-m.height/2:m.bottom,Math.max(a===Wu.Down?m.top:m.top+m.height/2,d.y))},f=a===Wu.Right&&!o||a===Wu.Left&&!l,g=a===Wu.Down&&!c||a===Wu.Up&&!s;if(f&&p.x!==d.x){const e=n.scrollLeft+t.x,s=a===Wu.Right&&e<=u.x||a===Wu.Left&&e>=h.x;if(s&&!t.y)return void n.scrollTo({left:e,behavior:i});r.x=s?n.scrollLeft-e:a===Wu.Right?n.scrollLeft-u.x:n.scrollLeft-h.x,r.x&&n.scrollBy({left:-r.x,behavior:i});break}if(g&&p.y!==d.y){const e=n.scrollTop+t.y,s=a===Wu.Down&&e<=u.y||a===Wu.Up&&e>=h.y;if(s&&!t.x)return void n.scrollTo({top:e,behavior:i});r.y=s?n.scrollTop-e:a===Wu.Down?n.scrollTop-u.y:n.scrollTop-h.y,r.y&&n.scrollBy({top:-r.y,behavior:i});break}}this.handleMove(e,Bd($d(d,this.referenceCoordinates),r))}}}handleMove(e,t){const{onMove:n}=this.props;e.preventDefault(),n(t)}handleEnd(e){const{onEnd:t}=this.props;e.preventDefault(),this.detach(),t()}handleCancel(e){const{onCancel:t}=this.props;e.preventDefault(),this.detach(),t()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}function Ku(e){return Boolean(e&&"distance"in e)}function Xu(e){return Boolean(e&&"delay"in e)}Gu.activators=[{eventName:"onKeyDown",handler:(e,t,n)=>{let{keyboardCodes:r=qu,onActivation:a}=t,{active:s}=n;const{code:i}=e.nativeEvent;if(r.start.includes(i)){const t=s.activatorNode.current;return(!t||e.target===t)&&(e.preventDefault(),null==a||a({event:e.nativeEvent}),!0)}return!1}}];class Qu{constructor(e,t,n){var r;void 0===n&&(n=function(e){const{EventTarget:t}=Cd(e);return e instanceof t?e:Dd(e)}(e.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=e,this.events=t;const{event:a}=e,{target:s}=a;this.props=e,this.events=t,this.document=Dd(s),this.documentListeners=new Fu(this.document),this.listeners=new Fu(n),this.windowListeners=new Fu(Cd(s)),this.initialCoordinates=null!=(r=Ud(a))?r:su,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:e,props:{options:{activationConstraint:t,bypassActivationConstraint:n}}}=this;if(this.listeners.add(e.move.name,this.handleMove,{passive:!1}),this.listeners.add(e.end.name,this.handleEnd),e.cancel&&this.listeners.add(e.cancel.name,this.handleCancel),this.windowListeners.add(Bu.Resize,this.handleCancel),this.windowListeners.add(Bu.DragStart,Hu),this.windowListeners.add(Bu.VisibilityChange,this.handleCancel),this.windowListeners.add(Bu.ContextMenu,Hu),this.documentListeners.add(Bu.Keydown,this.handleKeydown),t){if(null!=n&&n({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(Xu(t))return this.timeoutId=setTimeout(this.handleStart,t.delay),void this.handlePending(t);if(Ku(t))return void this.handlePending(t)}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),null!==this.timeoutId&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(e,t){const{active:n,onPending:r}=this.props;r(n,e,this.initialCoordinates,t)}handleStart(){const{initialCoordinates:e}=this,{onStart:t}=this.props;e&&(this.activated=!0,this.documentListeners.add(Bu.Click,Vu,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(Bu.SelectionChange,this.removeTextSelection),t(e))}handleMove(e){var t;const{activated:n,initialCoordinates:r,props:a}=this,{onMove:s,options:{activationConstraint:i}}=a;if(!r)return;const o=null!=(t=Ud(e))?t:su,l=$d(r,o);if(!n&&i){if(Ku(i)){if(null!=i.tolerance&&Lu(l,i.tolerance))return this.handleCancel();if(Lu(l,i.distance))return this.handleStart()}return Xu(i)&&Lu(l,i.tolerance)?this.handleCancel():void this.handlePending(i,l)}e.cancelable&&e.preventDefault(),s(o)}handleEnd(){const{onAbort:e,onEnd:t}=this.props;this.detach(),this.activated||e(this.props.active),t()}handleCancel(){const{onAbort:e,onCancel:t}=this.props;this.detach(),this.activated||e(this.props.active),t()}handleKeydown(e){e.code===Wu.Esc&&this.handleCancel()}removeTextSelection(){var e;null==(e=this.document.getSelection())||e.removeAllRanges()}}const Ju={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class Zu extends Qu{constructor(e){const{event:t}=e,n=Dd(t.target);super(e,Ju,n)}}Zu.activators=[{eventName:"onPointerDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;return!(!n.isPrimary||0!==n.button)&&(null==r||r({event:n}),!0)}}];const eh={move:{name:"mousemove"},end:{name:"mouseup"}};var th,nh;(nh=th||(th={}))[nh.RightClick=2]="RightClick";class rh extends Qu{constructor(e){super(e,eh,Dd(e.event.target))}}rh.activators=[{eventName:"onMouseDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;return n.button!==th.RightClick&&(null==r||r({event:n}),!0)}}];const ah={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class sh extends Qu{constructor(e){super(e,ah)}static setup(){return window.addEventListener(ah.move.name,e,{capture:!1,passive:!1}),function(){window.removeEventListener(ah.move.name,e)};function e(){}}}var ih,oh,lh,ch;function dh(e){let{acceleration:t,activator:n=ih.Pointer,canScroll:r,draggingRect:a,enabled:s,interval:i=5,order:o=lh.TreeOrder,pointerCoordinates:l,scrollableAncestors:c,scrollableAncestorRects:d,delta:u,threshold:h}=e;const m=function(e){let{delta:t,disabled:n}=e;const r=Rd(t);return Ad(e=>{if(n||!r||!e)return uh;const a={x:Math.sign(t.x-r.x),y:Math.sign(t.y-r.y)};return{x:{[_u.Backward]:e.x[_u.Backward]||-1===a.x,[_u.Forward]:e.x[_u.Forward]||1===a.x},y:{[_u.Backward]:e.y[_u.Backward]||-1===a.y,[_u.Forward]:e.y[_u.Forward]||1===a.y}}},[n,t,r])}({delta:u,disabled:!s}),[p,f]=function(){const e=kt.useRef(null);return[kt.useCallback((t,n)=>{e.current=setInterval(t,n)},[]),kt.useCallback(()=>{null!==e.current&&(clearInterval(e.current),e.current=null)},[])]}(),g=kt.useRef({x:0,y:0}),x=kt.useRef({x:0,y:0}),b=kt.useMemo(()=>{switch(n){case ih.Pointer:return l?{top:l.y,bottom:l.y,left:l.x,right:l.x}:null;case ih.DraggableRect:return a}},[n,a,l]),v=kt.useRef(null),y=kt.useCallback(()=>{const e=v.current;if(!e)return;const t=g.current.x*x.current.x,n=g.current.y*x.current.y;e.scrollBy(t,n)},[]),w=kt.useMemo(()=>o===lh.TreeOrder?[...c].reverse():c,[o,c]);kt.useEffect(()=>{if(s&&c.length&&b){for(const e of w){if(!1===(null==r?void 0:r(e)))continue;const n=c.indexOf(e),a=d[n];if(!a)continue;const{direction:s,speed:o}=Tu(e,a,b,t,h);for(const e of["x","y"])m[e][s[e]]||(o[e]=0,s[e]=0);if(o.x>0||o.y>0)return f(),v.current=e,p(y,i),g.current=o,void(x.current=s)}g.current={x:0,y:0},x.current={x:0,y:0},f()}else f()},[t,y,r,f,s,i,JSON.stringify(b),JSON.stringify(m),p,c,w,d,JSON.stringify(h)])}sh.activators=[{eventName:"onTouchStart",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;const{touches:a}=n;return!(a.length>1)&&(null==r||r({event:n}),!0)}}],(oh=ih||(ih={}))[oh.Pointer=0]="Pointer",oh[oh.DraggableRect=1]="DraggableRect",(ch=lh||(lh={}))[ch.TreeOrder=0]="TreeOrder",ch[ch.ReversedTreeOrder=1]="ReversedTreeOrder";const uh={x:{[_u.Backward]:!1,[_u.Forward]:!1},y:{[_u.Backward]:!1,[_u.Forward]:!1}};var hh,mh,ph;(mh=hh||(hh={}))[mh.Always=0]="Always",mh[mh.BeforeDragging=1]="BeforeDragging",mh[mh.WhileDragging=2]="WhileDragging",(ph||(ph={})).Optimized="optimized";const fh=new Map;function gh(e,t){return Ad(n=>e?n||("function"==typeof t?t(e):e):null,[t,e])}function xh(e){let{callback:t,disabled:n}=e;const r=Td(t),a=kt.useMemo(()=>{if(n||"undefined"==typeof window||void 0===window.ResizeObserver)return;const{ResizeObserver:e}=window;return new e(r)},[n]);return kt.useEffect(()=>()=>null==a?void 0:a.disconnect(),[a]),a}function bh(e){return new Iu(vu(e),e)}function vh(e,t,n){void 0===t&&(t=bh);const[r,a]=kt.useState(null);function s(){a(r=>{if(!e)return null;var a;if(!1===e.isConnected)return null!=(a=null!=r?r:n)?a:null;const s=t(e);return JSON.stringify(r)===JSON.stringify(s)?r:s})}const i=function(e){let{callback:t,disabled:n}=e;const r=Td(t),a=kt.useMemo(()=>{if(n||"undefined"==typeof window||void 0===window.MutationObserver)return;const{MutationObserver:e}=window;return new e(r)},[r,n]);return kt.useEffect(()=>()=>null==a?void 0:a.disconnect(),[a]),a}({callback(t){if(e)for(const n of t){const{type:t,target:r}=n;if("childList"===t&&r instanceof HTMLElement&&r.contains(e)){s();break}}}}),o=xh({callback:s});return Od(()=>{s(),e?(null==o||o.observe(e),null==i||i.observe(document.body,{childList:!0,subtree:!0})):(null==o||o.disconnect(),null==i||i.disconnect())},[e]),r}const yh=[];function wh(e,t){void 0===t&&(t=[]);const n=kt.useRef(null);return kt.useEffect(()=>{n.current=null},t),kt.useEffect(()=>{const t=e!==su;t&&!n.current&&(n.current=e),!t&&n.current&&(n.current=null)},[e]),n.current?$d(e,n.current):su}function jh(e){return kt.useMemo(()=>e?function(e){const t=e.innerWidth,n=e.innerHeight;return{top:0,left:0,right:t,bottom:n,width:t,height:n}}(e):null,[e])}const Nh=[];function kh(e){if(!e)return null;if(e.children.length>1)return e;const t=e.children[0];return Pd(t)?t:e}const Sh=[{sensor:Zu,options:{}},{sensor:Gu,options:{}}],Ch={current:{}},_h={draggable:{measure:yu},droppable:{measure:yu,strategy:hh.WhileDragging,frequency:ph.Optimized},dragOverlay:{measure:vu}};class Ph extends Map{get(e){var t;return null!=e&&null!=(t=super.get(e))?t:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(e=>{let{disabled:t}=e;return!t})}getNodeFor(e){var t,n;return null!=(t=null==(n=this.get(e))?void 0:n.node.current)?t:void 0}}const Eh={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new Ph,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:nu},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:_h,measureDroppableContainers:nu,windowRect:null,measuringScheduled:!1},Dh={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:nu,draggableNodes:new Map,over:null,measureDroppableContainers:nu},Oh=kt.createContext(Dh),Th=kt.createContext(Eh);function Mh(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new Ph}}}function Ah(e,t){switch(t.type){case eu.DragStart:return{...e,draggable:{...e.draggable,initialCoordinates:t.initialCoordinates,active:t.active}};case eu.DragMove:return null==e.draggable.active?e:{...e,draggable:{...e.draggable,translate:{x:t.coordinates.x-e.draggable.initialCoordinates.x,y:t.coordinates.y-e.draggable.initialCoordinates.y}}};case eu.DragEnd:case eu.DragCancel:return{...e,draggable:{...e.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case eu.RegisterDroppable:{const{element:n}=t,{id:r}=n,a=new Ph(e.droppable.containers);return a.set(r,n),{...e,droppable:{...e.droppable,containers:a}}}case eu.SetDroppableDisabled:{const{id:n,key:r,disabled:a}=t,s=e.droppable.containers.get(n);if(!s||r!==s.key)return e;const i=new Ph(e.droppable.containers);return i.set(n,{...s,disabled:a}),{...e,droppable:{...e.droppable,containers:i}}}case eu.UnregisterDroppable:{const{id:n,key:r}=t,a=e.droppable.containers.get(n);if(!a||r!==a.key)return e;const s=new Ph(e.droppable.containers);return s.delete(n),{...e,droppable:{...e.droppable,containers:s}}}default:return e}}function zh(e){let{disabled:t}=e;const{active:n,activatorEvent:r,draggableNodes:a}=kt.useContext(Oh),s=Rd(r),i=Rd(null==n?void 0:n.id);return kt.useEffect(()=>{if(!t&&!r&&s&&null!=i){if(!Wd(s))return;if(document.activeElement===s.target)return;const e=a.get(i);if(!e)return;const{activatorNode:t,node:n}=e;if(!t.current&&!n.current)return;requestAnimationFrame(()=>{for(const e of[t.current,n.current]){if(!e)continue;const t=qd(e);if(t){t.focus();break}}})}},[r,t,a,i,s]),null}function Rh(e,t){let{transform:n,...r}=t;return null!=e&&e.length?e.reduce((e,t)=>t({transform:e,...r}),n):n}const Ih=kt.createContext({...su,scaleX:1,scaleY:1});var Fh,Lh;(Lh=Fh||(Fh={}))[Lh.Uninitialized=0]="Uninitialized",Lh[Lh.Initializing=1]="Initializing",Lh[Lh.Initialized=2]="Initialized";const Bh=kt.memo(function(e){var t,n,r,a;let{id:s,accessibility:i,autoScroll:o=!0,children:l,sensors:c=Sh,collisionDetection:d=mu,measuring:u,modifiers:h,...m}=e;const p=kt.useReducer(Ah,void 0,Mh),[f,g]=p,[x,b]=function(){const[e]=kt.useState(()=>new Set),t=kt.useCallback(t=>(e.add(t),()=>e.delete(t)),[e]);return[kt.useCallback(t=>{let{type:n,event:r}=t;e.forEach(e=>{var t;return null==(t=e[n])?void 0:t.call(e,r)})},[e]),t]}(),[v,y]=kt.useState(Fh.Uninitialized),w=v===Fh.Initialized,{draggable:{active:j,nodes:N,translate:k},droppable:{containers:S}}=f,C=null!=j?N.get(j):null,_=kt.useRef({initial:null,translated:null}),P=kt.useMemo(()=>{var e;return null!=j?{id:j,data:null!=(e=null==C?void 0:C.data)?e:Ch,rect:_}:null},[j,C]),E=kt.useRef(null),[D,O]=kt.useState(null),[T,M]=kt.useState(null),A=Md(m,Object.values(m)),z=Fd("DndDescribedBy",s),R=kt.useMemo(()=>S.getEnabled(),[S]),I=(F=u,kt.useMemo(()=>({draggable:{..._h.draggable,...null==F?void 0:F.draggable},droppable:{..._h.droppable,...null==F?void 0:F.droppable},dragOverlay:{..._h.dragOverlay,...null==F?void 0:F.dragOverlay}}),[null==F?void 0:F.draggable,null==F?void 0:F.droppable,null==F?void 0:F.dragOverlay]));var F;const{droppableRects:L,measureDroppableContainers:B,measuringScheduled:$}=function(e,t){let{dragging:n,dependencies:r,config:a}=t;const[s,i]=kt.useState(null),{frequency:o,measure:l,strategy:c}=a,d=kt.useRef(e),u=function(){switch(c){case hh.Always:return!1;case hh.BeforeDragging:return n;default:return!n}}(),h=Md(u),m=kt.useCallback(function(e){void 0===e&&(e=[]),h.current||i(t=>null===t?e:t.concat(e.filter(e=>!t.includes(e))))},[h]),p=kt.useRef(null),f=Ad(t=>{if(u&&!n)return fh;if(!t||t===fh||d.current!==e||null!=s){const t=new Map;for(let n of e){if(!n)continue;if(s&&s.length>0&&!s.includes(n.id)&&n.rect.current){t.set(n.id,n.rect.current);continue}const e=n.node.current,r=e?new Iu(l(e),e):null;n.rect.current=r,r&&t.set(n.id,r)}return t}return t},[e,s,n,u,l]);return kt.useEffect(()=>{d.current=e},[e]),kt.useEffect(()=>{u||m()},[n,u]),kt.useEffect(()=>{s&&s.length>0&&i(null)},[JSON.stringify(s)]),kt.useEffect(()=>{u||"number"!=typeof o||null!==p.current||(p.current=setTimeout(()=>{m(),p.current=null},o))},[o,u,m,...r]),{droppableRects:f,measureDroppableContainers:m,measuringScheduled:null!=s}}(R,{dragging:w,dependencies:[k.x,k.y],config:I.droppable}),W=function(e,t){const n=null!=t?e.get(t):void 0,r=n?n.node.current:null;return Ad(e=>{var n;return null==t?null:null!=(n=null!=r?r:e)?n:null},[r,t])}(N,j),U=kt.useMemo(()=>T?Ud(T):null,[T]),H=function(){const e=!1===(null==D?void 0:D.autoScrollEnabled),t="object"==typeof o?!1===o.enabled:!1===o,n=w&&!e&&!t;if("object"==typeof o)return{...o,enabled:n};return{enabled:n}}(),V=function(e,t){return gh(e,t)}(W,I.draggable.measure);!function(e){let{activeNode:t,measure:n,initialRect:r,config:a=!0}=e;const s=kt.useRef(!1),{x:i,y:o}="boolean"==typeof a?{x:a,y:a}:a;Od(()=>{if(!i&&!o||!t)return void(s.current=!1);if(s.current||!r)return;const e=null==t?void 0:t.node.current;if(!e||!1===e.isConnected)return;const a=pu(n(e),r);if(i||(a.x=0),o||(a.y=0),s.current=!0,Math.abs(a.x)>0||Math.abs(a.y)>0){const t=ju(e);t&&t.scrollBy({top:a.y,left:a.x})}},[t,i,o,r,n])}({activeNode:null!=j?N.get(j):null,config:H.layoutShiftCompensation,initialRect:V,measure:I.draggable.measure});const q=vh(W,I.draggable.measure,V),Y=vh(W?W.parentElement:null),G=kt.useRef({activatorEvent:null,active:null,activeNode:W,collisionRect:null,collisions:null,droppableRects:L,draggableNodes:N,draggingNode:null,draggingNodeRect:null,droppableContainers:S,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),K=S.getNodeFor(null==(t=G.current.over)?void 0:t.id),X=function(e){let{measure:t}=e;const[n,r]=kt.useState(null),a=xh({callback:kt.useCallback(e=>{for(const{target:n}of e)if(Pd(n)){r(e=>{const r=t(n);return e?{...e,width:r.width,height:r.height}:r});break}},[t])}),s=kt.useCallback(e=>{const n=kh(e);null==a||a.disconnect(),n&&(null==a||a.observe(n)),r(n?t(n):null)},[t,a]),[i,o]=zd(s);return kt.useMemo(()=>({nodeRef:i,rect:n,setRef:o}),[n,i,o])}({measure:I.dragOverlay.measure}),Q=null!=(n=X.nodeRef.current)?n:W,J=w?null!=(r=X.rect)?r:q:null,Z=Boolean(X.nodeRef.current&&X.rect),ee=pu(te=Z?null:q,gh(te));var te;const ne=jh(Q?Cd(Q):null),re=function(e){const t=kt.useRef(e),n=Ad(n=>e?n&&n!==yh&&e&&t.current&&e.parentNode===t.current.parentNode?n:wu(e):yh,[e]);return kt.useEffect(()=>{t.current=e},[e]),n}(w?null!=K?K:W:null),ae=function(e,t){void 0===t&&(t=vu);const[n]=e,r=jh(n?Cd(n):null),[a,s]=kt.useState(Nh);function i(){s(()=>e.length?e.map(e=>Eu(e)?r:new Iu(t(e),e)):Nh)}const o=xh({callback:i});return Od(()=>{null==o||o.disconnect(),i(),e.forEach(e=>null==o?void 0:o.observe(e))},[e]),a}(re),se=Rh(h,{transform:{x:k.x-ee.x,y:k.y-ee.y,scaleX:1,scaleY:1},activatorEvent:T,active:P,activeNodeRect:q,containerNodeRect:Y,draggingNodeRect:J,over:G.current.over,overlayNodeRect:X.rect,scrollableAncestors:re,scrollableAncestorRects:ae,windowRect:ne}),ie=U?Bd(U,k):null,oe=function(e){const[t,n]=kt.useState(null),r=kt.useRef(e),a=kt.useCallback(e=>{const t=Nu(e.target);t&&n(e=>e?(e.set(t,Cu(t)),new Map(e)):null)},[]);return kt.useEffect(()=>{const t=r.current;if(e!==t){s(t);const i=e.map(e=>{const t=Nu(e);return t?(t.addEventListener("scroll",a,{passive:!0}),[t,Cu(t)]):null}).filter(e=>null!=e);n(i.length?new Map(i):null),r.current=e}return()=>{s(e),s(t)};function s(e){e.forEach(e=>{const t=Nu(e);null==t||t.removeEventListener("scroll",a)})}},[a,e]),kt.useMemo(()=>e.length?t?Array.from(t.values()).reduce((e,t)=>Bd(e,t),su):Au(e):su,[e,t])}(re),le=wh(oe),ce=wh(oe,[q]),de=Bd(se,le),ue=J?gu(J,se):null,he=P&&ue?d({active:P,collisionRect:ue,droppableRects:L,droppableContainers:R,pointerCoordinates:ie}):null,me=function(e,t){if(!e||0===e.length)return null;const[n]=e;return n[t]}(he,"id"),[pe,fe]=kt.useState(null),ge=function(e,t,n){return{...e,scaleX:t&&n?t.width/n.width:1,scaleY:t&&n?t.height/n.height:1}}(Z?se:Bd(se,ce),null!=(a=null==pe?void 0:pe.rect)?a:null,q),xe=kt.useRef(null),be=kt.useCallback((e,t)=>{let{sensor:n,options:r}=t;if(null==E.current)return;const a=N.get(E.current);if(!a)return;const s=e.nativeEvent,i=new n({active:E.current,activeNode:a,event:s,options:r,context:G,onAbort(e){if(!N.get(e))return;const{onDragAbort:t}=A.current,n={id:e};null==t||t(n),x({type:"onDragAbort",event:n})},onPending(e,t,n,r){if(!N.get(e))return;const{onDragPending:a}=A.current,s={id:e,constraint:t,initialCoordinates:n,offset:r};null==a||a(s),x({type:"onDragPending",event:s})},onStart(e){const t=E.current;if(null==t)return;const n=N.get(t);if(!n)return;const{onDragStart:r}=A.current,a={activatorEvent:s,active:{id:t,data:n.data,rect:_}};Mt.unstable_batchedUpdates(()=>{null==r||r(a),y(Fh.Initializing),g({type:eu.DragStart,initialCoordinates:e,active:t}),x({type:"onDragStart",event:a}),O(xe.current),M(s)})},onMove(e){g({type:eu.DragMove,coordinates:e})},onEnd:o(eu.DragEnd),onCancel:o(eu.DragCancel)});function o(e){return async function(){const{active:t,collisions:n,over:r,scrollAdjustedTranslate:a}=G.current;let i=null;if(t&&a){const{cancelDrop:o}=A.current;if(i={activatorEvent:s,active:t,collisions:n,delta:a,over:r},e===eu.DragEnd&&"function"==typeof o){await Promise.resolve(o(i))&&(e=eu.DragCancel)}}E.current=null,Mt.unstable_batchedUpdates(()=>{g({type:e}),y(Fh.Uninitialized),fe(null),O(null),M(null),xe.current=null;const t=e===eu.DragEnd?"onDragEnd":"onDragCancel";if(i){const e=A.current[t];null==e||e(i),x({type:t,event:i})}})}}xe.current=i},[N]),ve=function(e,t){return kt.useMemo(()=>e.reduce((e,n)=>{const{sensor:r}=n;return[...e,...r.activators.map(e=>({eventName:e.eventName,handler:t(e.handler,n)}))]},[]),[e,t])}(c,kt.useCallback((e,t)=>(n,r)=>{const a=n.nativeEvent,s=N.get(r);if(null!==E.current||!s||a.dndKit||a.defaultPrevented)return;const i={active:s};!0===e(n,t.options,i)&&(a.dndKit={capturedBy:t.sensor},E.current=r,be(n,t))},[N,be]));!function(e){kt.useEffect(()=>{if(!Nd)return;const t=e.map(e=>{let{sensor:t}=e;return null==t.setup?void 0:t.setup()});return()=>{for(const e of t)null==e||e()}},e.map(e=>{let{sensor:t}=e;return t}))}(c),Od(()=>{q&&v===Fh.Initializing&&y(Fh.Initialized)},[q,v]),kt.useEffect(()=>{const{onDragMove:e}=A.current,{active:t,activatorEvent:n,collisions:r,over:a}=G.current;if(!t||!n)return;const s={active:t,activatorEvent:n,collisions:r,delta:{x:de.x,y:de.y},over:a};Mt.unstable_batchedUpdates(()=>{null==e||e(s),x({type:"onDragMove",event:s})})},[de.x,de.y]),kt.useEffect(()=>{const{active:e,activatorEvent:t,collisions:n,droppableContainers:r,scrollAdjustedTranslate:a}=G.current;if(!e||null==E.current||!t||!a)return;const{onDragOver:s}=A.current,i=r.get(me),o=i&&i.rect.current?{id:i.id,rect:i.rect.current,data:i.data,disabled:i.disabled}:null,l={active:e,activatorEvent:t,collisions:n,delta:{x:a.x,y:a.y},over:o};Mt.unstable_batchedUpdates(()=>{fe(o),null==s||s(l),x({type:"onDragOver",event:l})})},[me]),Od(()=>{G.current={activatorEvent:T,active:P,activeNode:W,collisionRect:ue,collisions:he,droppableRects:L,draggableNodes:N,draggingNode:Q,draggingNodeRect:J,droppableContainers:S,over:pe,scrollableAncestors:re,scrollAdjustedTranslate:de},_.current={initial:J,translated:ue}},[P,W,he,ue,N,Q,J,L,S,pe,re,de]),dh({...H,delta:k,draggingRect:ue,pointerCoordinates:ie,scrollableAncestors:re,scrollableAncestorRects:ae});const ye=kt.useMemo(()=>({active:P,activeNode:W,activeNodeRect:q,activatorEvent:T,collisions:he,containerNodeRect:Y,dragOverlay:X,draggableNodes:N,droppableContainers:S,droppableRects:L,over:pe,measureDroppableContainers:B,scrollableAncestors:re,scrollableAncestorRects:ae,measuringConfiguration:I,measuringScheduled:$,windowRect:ne}),[P,W,q,T,he,Y,X,N,S,L,pe,B,re,ae,I,$,ne]),we=kt.useMemo(()=>({activatorEvent:T,activators:ve,active:P,activeNodeRect:q,ariaDescribedById:{draggable:z},dispatch:g,draggableNodes:N,over:pe,measureDroppableContainers:B}),[T,ve,P,q,g,z,N,pe,B]);return St.createElement(Xd.Provider,{value:b},St.createElement(Oh.Provider,{value:we},St.createElement(Th.Provider,{value:ye},St.createElement(Ih.Provider,{value:ge},l)),St.createElement(zh,{disabled:!1===(null==i?void 0:i.restoreFocus)})),St.createElement(Zd,{...i,hiddenTextDescribedById:z}))}),$h=kt.createContext(null),Wh="button";function Uh(e){let{id:t,data:n,disabled:r=!1,attributes:a}=e;const s=Fd("Draggable"),{activators:i,activatorEvent:o,active:l,activeNodeRect:c,ariaDescribedById:d,draggableNodes:u,over:h}=kt.useContext(Oh),{role:m=Wh,roleDescription:p="draggable",tabIndex:f=0}=null!=a?a:{},g=(null==l?void 0:l.id)===t,x=kt.useContext(g?Ih:$h),[b,v]=zd(),[y,w]=zd(),j=function(e,t){return kt.useMemo(()=>e.reduce((e,n)=>{let{eventName:r,handler:a}=n;return e[r]=e=>{a(e,t)},e},{}),[e,t])}(i,t),N=Md(n);Od(()=>(u.set(t,{id:t,key:s,node:b,activatorNode:y,data:N}),()=>{const e=u.get(t);e&&e.key===s&&u.delete(t)}),[u,t]);return{active:l,activatorEvent:o,activeNodeRect:c,attributes:kt.useMemo(()=>({role:m,tabIndex:f,"aria-disabled":r,"aria-pressed":!(!g||m!==Wh)||void 0,"aria-roledescription":p,"aria-describedby":d.draggable}),[r,m,f,g,p,d.draggable]),isDragging:g,listeners:r?void 0:j,node:b,over:h,setNodeRef:v,setActivatorNodeRef:w,transform:x}}function Hh(){return kt.useContext(Th)}const Vh={timeout:25};function qh(e){let{data:t,disabled:n=!1,id:r,resizeObserverConfig:a}=e;const s=Fd("Droppable"),{active:i,dispatch:o,over:l,measureDroppableContainers:c}=kt.useContext(Oh),d=kt.useRef({disabled:n}),u=kt.useRef(!1),h=kt.useRef(null),m=kt.useRef(null),{disabled:p,updateMeasurementsFor:f,timeout:g}={...Vh,...a},x=Md(null!=f?f:r),b=xh({callback:kt.useCallback(()=>{u.current?(null!=m.current&&clearTimeout(m.current),m.current=setTimeout(()=>{c(Array.isArray(x.current)?x.current:[x.current]),m.current=null},g)):u.current=!0},[g]),disabled:p||!i}),v=kt.useCallback((e,t)=>{b&&(t&&(b.unobserve(t),u.current=!1),e&&b.observe(e))},[b]),[y,w]=zd(v),j=Md(t);return kt.useEffect(()=>{b&&y.current&&(b.disconnect(),u.current=!1,b.observe(y.current))},[y,b]),kt.useEffect(()=>(o({type:eu.RegisterDroppable,element:{id:r,key:s,disabled:n,node:y,rect:h,data:j}}),()=>o({type:eu.UnregisterDroppable,key:s,id:r})),[r]),kt.useEffect(()=>{n!==d.current.disabled&&(o({type:eu.SetDroppableDisabled,id:r,key:s,disabled:n}),d.current.disabled=n)},[r,s,n,o]),{active:i,rect:h,isOver:(null==l?void 0:l.id)===r,node:y,over:l,setNodeRef:w}}function Yh(e){let{animation:t,children:n}=e;const[r,a]=kt.useState(null),[s,i]=kt.useState(null),o=Rd(n);return n||r||!o||a(o),Od(()=>{if(!s)return;const e=null==r?void 0:r.key,n=null==r?void 0:r.props.id;null!=e&&null!=n?Promise.resolve(t(n,s)).then(()=>{a(null)}):a(null)},[t,r,s]),St.createElement(St.Fragment,null,n,r?kt.cloneElement(r,{ref:i}):null)}const Gh={x:0,y:0,scaleX:1,scaleY:1};function Kh(e){let{children:t}=e;return St.createElement(Oh.Provider,{value:Dh},St.createElement(Ih.Provider,{value:Gh},t))}const Xh={position:"fixed",touchAction:"none"},Qh=e=>Wd(e)?"transform 250ms ease":void 0,Jh=kt.forwardRef((e,t)=>{let{as:n,activatorEvent:r,adjustScale:a,children:s,className:i,rect:o,style:l,transform:c,transition:d=Qh}=e;if(!o)return null;const u=a?c:{...c,scaleX:1,scaleY:1},h={...Xh,width:o.width,height:o.height,top:o.top,left:o.left,transform:Hd.Transform.toString(u),transformOrigin:a&&r?ou(r,o):void 0,transition:"function"==typeof d?d(r):d,...l};return St.createElement(n,{className:i,style:h,ref:t},s)}),Zh={duration:250,easing:"ease",keyframes:e=>{let{transform:{initial:t,final:n}}=e;return[{transform:Hd.Transform.toString(t)},{transform:Hd.Transform.toString(n)}]},sideEffects:(e=>t=>{let{active:n,dragOverlay:r}=t;const a={},{styles:s,className:i}=e;if(null!=s&&s.active)for(const[e,o]of Object.entries(s.active))void 0!==o&&(a[e]=n.node.style.getPropertyValue(e),n.node.style.setProperty(e,o));if(null!=s&&s.dragOverlay)for(const[e,o]of Object.entries(s.dragOverlay))void 0!==o&&r.node.style.setProperty(e,o);return null!=i&&i.active&&n.node.classList.add(i.active),null!=i&&i.dragOverlay&&r.node.classList.add(i.dragOverlay),function(){for(const[e,t]of Object.entries(a))n.node.style.setProperty(e,t);null!=i&&i.active&&n.node.classList.remove(i.active)}})({styles:{active:{opacity:"0"}}})};function em(e){let{config:t,draggableNodes:n,droppableContainers:r,measuringConfiguration:a}=e;return Td((e,s)=>{if(null===t)return;const i=n.get(e);if(!i)return;const o=i.node.current;if(!o)return;const l=kh(s);if(!l)return;const{transform:c}=Cd(s).getComputedStyle(s),d=xu(c);if(!d)return;const u="function"==typeof t?t:function(e){const{duration:t,easing:n,sideEffects:r,keyframes:a}={...Zh,...e};return e=>{let{active:s,dragOverlay:i,transform:o,...l}=e;if(!t)return;const c={x:i.rect.left-s.rect.left,y:i.rect.top-s.rect.top},d={scaleX:1!==o.scaleX?s.rect.width*o.scaleX/i.rect.width:1,scaleY:1!==o.scaleY?s.rect.height*o.scaleY/i.rect.height:1},u={x:o.x-c.x,y:o.y-c.y,...d},h=a({...l,active:s,dragOverlay:i,transform:{initial:o,final:u}}),[m]=h,p=h[h.length-1];if(JSON.stringify(m)===JSON.stringify(p))return;const f=null==r?void 0:r({active:s,dragOverlay:i,...l}),g=i.node.animate(h,{duration:t,easing:n,fill:"forwards"});return new Promise(e=>{g.onfinish=()=>{null==f||f(),e()}})}}(t);return zu(o,a.draggable.measure),u({active:{id:e,data:i.data,node:o,rect:a.draggable.measure(o)},draggableNodes:n,dragOverlay:{node:s,rect:a.dragOverlay.measure(l)},droppableContainers:r,measuringConfiguration:a,transform:d})})}let tm=0;const nm=St.memo(e=>{let{adjustScale:t=!1,children:n,dropAnimation:r,style:a,transition:s,modifiers:i,wrapperElement:o="div",className:l,zIndex:c=999}=e;const{activatorEvent:d,active:u,activeNodeRect:h,containerNodeRect:m,draggableNodes:p,droppableContainers:f,dragOverlay:g,over:x,measuringConfiguration:b,scrollableAncestors:v,scrollableAncestorRects:y,windowRect:w}=Hh(),j=kt.useContext(Ih),N=(k=null==u?void 0:u.id,kt.useMemo(()=>{if(null!=k)return tm++,tm},[k]));var k;const S=Rh(i,{activatorEvent:d,active:u,activeNodeRect:h,containerNodeRect:m,draggingNodeRect:g.rect,over:x,overlayNodeRect:g.rect,scrollableAncestors:v,scrollableAncestorRects:y,transform:j,windowRect:w}),C=gh(h),_=em({config:r,draggableNodes:p,droppableContainers:f,measuringConfiguration:b}),P=C?g.setRef:void 0;return St.createElement(Kh,null,St.createElement(Yh,{animation:_},u&&N?St.createElement(Jh,{key:N,id:u.id,ref:P,as:o,activatorEvent:d,adjustScale:t,className:l,transition:s,rect:C,style:{zIndex:c,...a},transform:S},n):null))}),rm=({title:t,icon:n,isOpen:s,isComplete:i,onClick:o,children:l})=>e.jsxs("div",{className:"border-b border-slate-100 last:border-none",children:[e.jsxs("button",{onClick:o,className:"w-full flex items-center justify-between p-4 transition-all duration-200 "+(s?"bg-indigo-50/50 text-indigo-700":"text-slate-600 hover:bg-slate-50 hover:text-slate-900"),children:[e.jsxs("div",{className:"flex items-center gap-3 font-semibold text-sm",children:[n&&e.jsx(n,{size:18,className:"transition-colors duration-200 "+(s?"text-indigo-600":i?"text-emerald-500":"text-slate-400 group-hover:text-slate-500")}),e.jsx("span",{children:t})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[i&&e.jsx(z,{size:16,className:"text-emerald-500"}),e.jsx(a.div,{animate:{rotate:s?180:0},transition:{duration:.2},children:e.jsx(x,{size:16})})]})]}),e.jsx(r,{initial:!1,children:s&&e.jsx(a.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.3,ease:"easeInOut"},className:"overflow-hidden",children:e.jsx("div",{className:"p-4 pt-0 space-y-4",children:l})})})]}),am=({label:t,name:n,value:r,onChange:a,placeholder:s,type:i="text",rows:o,className:l=""})=>e.jsxs("div",{className:l,children:[e.jsx("label",{className:"block text-[11px] font-bold text-slate-500 uppercase tracking-wider mb-1.5",children:t}),o?e.jsx("textarea",{name:n,value:r||"",onChange:a,placeholder:s,rows:o,className:"w-full px-3 py-2.5 bg-white border border-slate-200 rounded-lg text-sm text-slate-700 shadow-sm focus:ring-4 focus:ring-indigo-500/10 focus:border-indigo-500 outline-none transition-all duration-200 placeholder-slate-400 resize-y hover:border-slate-300"}):e.jsx("input",{type:i,name:n,value:r||"",onChange:a,placeholder:s,className:"w-full px-3 py-2.5 bg-white border border-slate-200 rounded-lg text-sm text-slate-700 shadow-sm focus:ring-4 focus:ring-indigo-500/10 focus:border-indigo-500 outline-none transition-all duration-200 placeholder-slate-400 hover:border-slate-300"})]}),sm=({section:t,onUpdate:n,onRemove:s,isFixed:i=!1,placeholderTitle:o="Section Title",placeholderContent:l="Content...",children:c})=>{const[d,u]=kt.useState(!0);return e.jsxs("div",{className:"group relative pl-4",children:[e.jsx("div",{className:"absolute left-[7px] top-8 bottom-[-8px] w-[2px] bg-slate-100 group-last:hidden"}),e.jsx("div",{className:"absolute left-0 top-6 w-4 h-4 rounded-full border-2 border-indigo-100 bg-white z-10 flex items-center justify-center",children:e.jsx("div",{className:"w-1.5 h-1.5 rounded-full "+(i?"bg-slate-300":"bg-indigo-500")})}),e.jsxs("div",{className:"bg-white border rounded-xl shadow-sm transition-all duration-200 "+(d?"border-indigo-200 shadow-md ring-1 ring-indigo-500/10":"border-slate-200 hover:border-indigo-300"),children:[e.jsxs("div",{className:"flex items-center gap-3 p-3 select-none",children:[!i&&e.jsx("div",{className:"cursor-grab active:cursor-grabbing text-slate-300 hover:text-indigo-500 transition-colors p-1",children:e.jsx(ee,{size:18})}),e.jsx("button",{onClick:()=>u(!d),className:"p-1 text-slate-400 hover:text-indigo-600 rounded-md hover:bg-indigo-50 transition-colors",children:d?e.jsx(x,{size:18}):e.jsx(M,{size:18})}),e.jsx("div",{className:"flex-1 min-w-0",children:i?e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-xs font-bold uppercase tracking-wider text-slate-500",children:t.title}),e.jsx("span",{className:"px-1.5 py-0.5 rounded text-[10px] font-bold bg-slate-100 text-slate-400 border border-slate-200",children:"FIXED"})]}):e.jsx("input",{type:"text",value:t.title||"",onChange:e=>n("title",e.target.value),placeholder:o,className:"w-full bg-transparent text-sm font-bold text-slate-800 placeholder-slate-300 focus:outline-none focus:placeholder-slate-400",onClick:e=>e.stopPropagation()})}),!i&&e.jsx("button",{onClick:s,className:"p-2 text-slate-300 hover:text-red-500 hover:bg-red-50 rounded-lg transition-all opacity-0 group-hover:opacity-100",title:"Remove Section",children:e.jsx(te,{size:16})})]}),e.jsx(r,{children:d&&e.jsx(a.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.2},className:"overflow-hidden",children:e.jsx("div",{className:"p-3 pt-0 border-t border-slate-50",children:i?c:e.jsx("textarea",{value:t.content||"",onChange:e=>n("content",e.target.value),rows:4,className:"w-full mt-3 p-3 text-sm text-slate-600 bg-slate-50 border border-slate-100 rounded-lg focus:bg-white focus:border-indigo-300 focus:ring-4 focus:ring-indigo-500/10 outline-none transition-all resize-y placeholder-slate-300",placeholder:l})})})})]})]})},im=({onClick:t,label:n="Add New Section"})=>e.jsxs("div",{className:"pl-4 relative",children:[e.jsx("div",{className:"absolute left-[7px] top-0 h-8 w-[2px] bg-slate-100"}),e.jsx("div",{className:"absolute left-0 top-8 w-4 h-4 rounded-full border-2 border-indigo-100 bg-indigo-50 z-10 flex items-center justify-center",children:e.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-indigo-300"})}),e.jsxs("button",{onClick:t,className:"w-full mt-4 py-3 flex items-center justify-center gap-2 bg-white border-2 border-dashed border-slate-200 rounded-xl text-slate-400 font-medium hover:border-indigo-400 hover:text-indigo-600 hover:bg-indigo-50/50 transition-all duration-200 group relative overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-indigo-50/0 group-hover:bg-indigo-50/30 transition-colors"}),e.jsx("div",{className:"w-6 h-6 rounded-full bg-indigo-100 text-indigo-600 flex items-center justify-center group-hover:scale-110 transition-transform",children:e.jsx(ne,{size:14,strokeWidth:3})}),e.jsx("span",{children:n})]})]}),om=({formData:t,onChange:n})=>{const r=t.logoSize||70,a=t.logoAlignment||"left",s=!1!==t.brandingEnabled&&"false"!==t.brandingEnabled;return e.jsxs("div",{className:"space-y-4 pt-1",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wide",children:"Show Logo"}),e.jsx("button",{onClick:()=>{n({target:{name:"brandingEnabled",value:!s}})},className:"relative inline-flex h-5 w-9 items-center rounded-full transition-colors focus:outline-none "+(s?"bg-indigo-600":"bg-slate-200"),children:e.jsx("span",{className:(s?"translate-x-5":"translate-x-1")+" inline-block h-3 w-3 transform rounded-full bg-white transition-transform"})})]}),s&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wide",children:"Logo Size"}),e.jsxs("span",{className:"text-xs font-mono text-slate-400",children:[r,"px"]})]}),e.jsx("input",{type:"range",min:"30",max:"200",step:"5",value:r,onChange:e=>{n({target:{name:"logoSize",value:parseInt(e.target.value)}})},className:"w-full h-1.5 bg-slate-200 rounded-lg appearance-none cursor-pointer accent-indigo-600 focus:outline-none focus:ring-2 focus:ring-indigo-500/30"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase tracking-wide mb-2",children:"Position"}),e.jsx("div",{className:"flex bg-slate-100 p-1 rounded-lg",children:[{id:"left",icon:re,label:"Left"},{id:"center",icon:ae,label:"Center"},{id:"right",icon:se,label:"Right"}].map(t=>e.jsx("button",{onClick:()=>{return e=t.id,void n({target:{name:"logoAlignment",value:e}});var e},className:"flex-1 flex items-center justify-center py-1.5 rounded-md transition-all "+(a===t.id?"bg-white text-indigo-600 shadow-sm ring-1 ring-slate-200":"text-slate-400 hover:text-slate-600 hover:bg-slate-200/50"),title:`Align ${t.label}`,children:e.jsx(t.icon,{size:18})},t.id))})]}),e.jsx("p",{className:"text-[10px] text-slate-400 italic mt-2",children:"* Adjust position based on header layout compatibility."})]})]})},lm=({styles:t,onUpdate:n,onReset:r})=>e.jsxs("div",{className:"space-y-6 pt-2",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-2 text-xs font-bold text-slate-500 uppercase tracking-wide",children:[e.jsx(ie,{size:14})," Typography"]}),e.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-xs text-slate-400 mb-1 block",children:"Font Family"}),e.jsx("select",{value:t.fontFamily,onChange:e=>n("fontFamily",e.target.value),className:"w-full text-sm bg-slate-50 border border-slate-200 rounded-lg p-2 focus:ring-2 focus:ring-indigo-500/20 focus:outline-none",children:[{label:"Modern Sans",value:"font-sans"},{label:"Classic Serif",value:"font-serif"},{label:"Monospace",value:"font-mono"}].map(t=>e.jsx("option",{value:t.value,children:t.label},t.value))})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-xs text-slate-400 mb-1 block",children:"Size"}),e.jsx("select",{value:t.fontSize,onChange:e=>n("fontSize",e.target.value),className:"w-full text-sm bg-slate-50 border border-slate-200 rounded-lg p-2 focus:ring-2 focus:ring-indigo-500/20 focus:outline-none",children:[{label:"Small (10pt)",value:"text-[10pt]"},{label:"Standard (11pt)",value:"text-[11pt]"},{label:"Large (12pt)",value:"text-[12pt]"}].map(t=>e.jsx("option",{value:t.value,children:t.label},t.value))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs text-slate-400 mb-1 block",children:"Line Height"}),e.jsx("select",{value:t.lineHeight,onChange:e=>n("lineHeight",e.target.value),className:"w-full text-sm bg-slate-50 border border-slate-200 rounded-lg p-2 focus:ring-2 focus:ring-indigo-500/20 focus:outline-none",children:[{label:"Compact",value:"leading-normal"},{label:"Standard",value:"leading-relaxed"},{label:"Loose",value:"leading-loose"}].map(t=>e.jsx("option",{value:t.value,children:t.label},t.value))})]})]})]})]}),e.jsx("hr",{className:"border-slate-100"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-2 text-xs font-bold text-slate-500 uppercase tracking-wide",children:[e.jsx(oe,{size:14})," Colors"]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-xs text-slate-400 mb-1 block",children:"Text Color"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"color",value:t.textColor,onChange:e=>n("textColor",e.target.value),className:"h-8 w-8 rounded cursor-pointer border-0 p-0"}),e.jsx("span",{className:"text-xs font-mono text-slate-500",children:t.textColor})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs text-slate-400 mb-1 block",children:"Accent Color"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"color",value:t.accentColor,onChange:e=>n("accentColor",e.target.value),className:"h-8 w-8 rounded cursor-pointer border-0 p-0"}),e.jsx("span",{className:"text-xs font-mono text-slate-500",children:t.accentColor})]})]})]})]}),e.jsx("hr",{className:"border-slate-100"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-2 text-xs font-bold text-slate-500 uppercase tracking-wide",children:[e.jsx(h,{size:14})," Layout"]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs text-slate-400 mb-1 block",children:"Page Margins"}),e.jsx("select",{value:t.pageMargin,onChange:e=>n("pageMargin",e.target.value),className:"w-full text-sm bg-slate-50 border border-slate-200 rounded-lg p-2 focus:ring-2 focus:ring-indigo-500/20 focus:outline-none",children:[{label:"Narrow",value:"p-[15mm]"},{label:"Standard",value:"p-[25.4mm]"},{label:"Wide",value:"p-[35mm]"}].map(t=>e.jsx("option",{value:t.value,children:t.label},t.value))})]})]}),e.jsxs("button",{onClick:r,className:"w-full mt-4 flex items-center justify-center gap-2 py-2 text-xs font-medium text-slate-500 hover:text-slate-700 bg-slate-50 hover:bg-slate-100 rounded-lg transition-colors border border-slate-200",children:[e.jsx(le,{size:14})," Reset to Defaults"]})]}),cm=({isOpen:n,onClose:s,onConfirm:i,title:o,message:l,confirmText:c="Confirm",cancelText:d="Cancel",isDestructive:u=!1,isLoading:h=!1})=>e.jsx(r,{children:n&&e.jsxs(e.Fragment,{children:[e.jsx(a.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:h?void 0:s,className:"fixed inset-0 bg-black/40 z-50 backdrop-blur-sm"}),e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:e.jsxs(a.div,{initial:{scale:.95,opacity:0,y:20},animate:{scale:1,opacity:1,y:0},exit:{scale:.95,opacity:0,y:20},className:"bg-white rounded-xl shadow-xl w-full max-w-md overflow-hidden",children:[e.jsxs("div",{className:"p-4 border-b border-slate-100 flex items-center justify-between bg-slate-50/50",children:[e.jsxs("h3",{className:"font-semibold text-lg flex items-center gap-2 "+(u?"text-red-600":"text-slate-900"),children:[u&&e.jsx(ce,{size:20}),o]}),e.jsx("button",{onClick:s,disabled:h,className:"text-slate-400 hover:text-slate-600 p-1 rounded-lg hover:bg-slate-100 transition-colors disabled:opacity-50",children:e.jsx(t,{size:20})})]}),e.jsx("div",{className:"p-6",children:e.jsx("p",{className:"text-slate-600 leading-relaxed",children:l})}),e.jsxs("div",{className:"p-4 bg-slate-50 flex items-center justify-end gap-3",children:[e.jsx("button",{onClick:s,disabled:h,className:"px-4 py-2 text-sm font-medium text-slate-600 hover:text-slate-800 bg-white border border-slate-200 hover:border-slate-300 rounded-lg shadow-sm transition-all disabled:opacity-50",children:d}),e.jsxs("button",{onClick:i,disabled:h,className:`px-4 py-2 text-sm font-medium text-white rounded-lg shadow-sm transition-all flex items-center gap-2 ${u?"bg-red-600 hover:bg-red-700 focus:ring-2 focus:ring-red-500/20":"bg-indigo-600 hover:bg-indigo-700 focus:ring-2 focus:ring-indigo-500/20"} disabled:opacity-50 disabled:cursor-not-allowed`,children:[h&&e.jsx("div",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin"}),c]})]})]})})]})}),dm=({formData:t,onChange:n,docContent:r,onContentChange:a,addSection:s,removeSection:i,updateSection:l,reorderSections:c,styles:d,onStyleUpdate:u,onStyleReset:h})=>{const[m,p]=kt.useState("parties"),[f,g]=kt.useState("fill"),[x,b]=kt.useState({isOpen:!1,sectionId:null}),v=e=>{p(m===e?null:e)},y=t.effectiveDateDay&&t.effectiveDateMonth&&t.effectiveDateYear,w=t.disclosingPartyName&&t.receivingPartyName&&t.disclosingPartyAddress&&t.receivingPartyAddress,k=!!t.purpose,S=t.termYears&&t.survivalYears&&t.jurisdiction&&t.courtCity,C=t.disclosingSignatoryName&&t.disclosingSignatoryDesignation&&t.receivingSignatoryName&&t.receivingSignatoryDesignation;return e.jsxs("div",{className:"bg-white min-h-full pb-20 relative",children:[e.jsx(cm,{isOpen:x.isOpen,onClose:()=>b({isOpen:!1,sectionId:null}),onConfirm:()=>{x.sectionId&&(i(x.sectionId),b({isOpen:!1,sectionId:null}))},title:"Delete Section",message:"Are you sure you want to remove this section? This action cannot be undone and will remove the clause from the generated document.",confirmText:"Delete Section",isDestructive:!0}),e.jsxs("div",{className:"p-6 border-b border-slate-100 bg-slate-50/50 sticky top-0 z-10 backdrop-blur-sm",children:[e.jsxs("div",{className:"flex gap-1 bg-slate-200/50 p-1 rounded-lg mb-4",children:[e.jsx("button",{onClick:()=>g("fill"),className:"flex-1 flex items-center justify-center gap-2 py-2 rounded-md text-sm font-medium transition-all "+("fill"===f?"bg-white shadow-sm text-indigo-600":"text-slate-500 hover:text-slate-700"),title:"Fill Details",children:e.jsx(de,{size:16})}),e.jsx("button",{onClick:()=>g("edit"),className:"flex-1 flex items-center justify-center gap-2 py-2 rounded-md text-sm font-medium transition-all "+("edit"===f?"bg-white shadow-sm text-indigo-600":"text-slate-500 hover:text-slate-700"),title:"Structure Builder",children:e.jsx(ue,{size:16})}),e.jsx("button",{onClick:()=>g("style"),className:"flex-1 flex items-center justify-center gap-2 py-2 rounded-md text-sm font-medium transition-all "+("style"===f?"bg-white shadow-sm text-indigo-600":"text-slate-500 hover:text-slate-700"),title:"Appearance",children:e.jsx(ie,{size:16})})]}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-bold text-slate-900",children:"fill"===f?"Document Details":"edit"===f?"Structure Builder":"Styling & Appearance"}),e.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"fill"===f?"Review and specify the agreement terms":"edit"===f?"Customize layout and clauses":"Fonts, colors and spacing"})]})]}),"fill"===f&&e.jsxs(e.Fragment,{children:[e.jsx(rm,{title:"Effective Date",icon:F,isOpen:"date"===m,isComplete:y,onClick:()=>v("date"),children:e.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[e.jsx(am,{label:"Day",name:"effectiveDateDay",value:t.effectiveDateDay,onChange:n,placeholder:"DD"}),e.jsx(am,{label:"Month",name:"effectiveDateMonth",value:t.effectiveDateMonth,onChange:n,placeholder:"Month"}),e.jsx(am,{label:"Year",name:"effectiveDateYear",value:t.effectiveDateYear,onChange:n,placeholder:"YY"})]})}),e.jsx(rm,{title:"Parties Involved",icon:j,isOpen:"parties"===m,isComplete:w,onClick:()=>v("parties"),children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"p-3 bg-indigo-50 rounded-lg border border-indigo-100",children:[e.jsxs("h4",{className:"text-xs font-bold text-indigo-900 uppercase mb-3 flex items-center justify-between",children:[e.jsxs("span",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-indigo-500"})," Disclosing Party"]}),e.jsxs("button",{onClick:async()=>{try{const e=await wd();if(e){n({target:{name:"disclosingPartyName",value:e.name||""}});const t=[e.address,e.city,e.state,e.country].filter(Boolean).join(", ");n({target:{name:"disclosingPartyAddress",value:t||""}}),$t.success("Business details populated")}else $t.error("No business profile found")}catch(e){$t.error("Failed to load business info")}},className:"text-[10px] bg-white border border-indigo-200 text-indigo-600 px-2 py-1 rounded hover:bg-indigo-50 transition-colors flex items-center gap-1",title:"Auto-fill with your business profile",children:[e.jsx(N,{size:10})," Use Profile"]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(am,{label:"Name / Company",name:"disclosingPartyName",value:t.disclosingPartyName,onChange:n,placeholder:"Ex: Acme Corp"}),e.jsx(am,{label:"Full Address",name:"disclosingPartyAddress",value:t.disclosingPartyAddress,onChange:n,placeholder:"Address",rows:2})]})]}),e.jsxs("div",{className:"p-3 bg-emerald-50 rounded-lg border border-emerald-100",children:[e.jsxs("h4",{className:"text-xs font-bold text-emerald-900 uppercase mb-3 flex items-center gap-2",children:[e.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-emerald-500"})," Receiving Party"]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(am,{label:"Name / Company",name:"receivingPartyName",value:t.receivingPartyName,onChange:n,placeholder:"Ex: John Doe"}),e.jsx(am,{label:"Full Address",name:"receivingPartyAddress",value:t.receivingPartyAddress,onChange:n,placeholder:"Address",rows:2})]})]})]})}),e.jsx(rm,{title:"Document Branding",icon:oe,isOpen:"branding"===m,isComplete:!0,onClick:()=>v("branding"),children:e.jsx(om,{formData:t,onChange:n})}),e.jsx(rm,{title:"Purpose Scope",icon:o,isOpen:"purpose"===m,isComplete:k,onClick:()=>v("purpose"),children:e.jsx(am,{label:"Description of Purpose",name:"purpose",value:t.purpose,onChange:n,placeholder:"Describe why information is being shared (e.g., potential partnership, investment evaluation)...",rows:6})}),e.jsxs(rm,{title:"Terms & Jurisdiction",icon:D,isOpen:"terms"===m,isComplete:S,onClick:()=>v("terms"),children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx(am,{label:"Term (Years)",name:"termYears",value:t.termYears,onChange:n,placeholder:"2"}),e.jsx(am,{label:"Survival (Years)",name:"survivalYears",value:t.survivalYears,onChange:n,placeholder:"5"})]}),e.jsx("div",{className:"h-px bg-slate-100 my-2"}),e.jsx(am,{label:"Jurisdiction",name:"jurisdiction",value:t.jurisdiction,onChange:n,placeholder:"State/Country (e.g. California)"}),e.jsx(am,{label:"Court Location",name:"courtCity",value:t.courtCity,onChange:n,placeholder:"City (e.g. San Francisco)"})]}),e.jsx(rm,{title:"Signatories",icon:P,isOpen:"signatures"===m,isComplete:C,onClick:()=>v("signatures"),children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-bold text-slate-400 mb-2 uppercase",children:"For Disclosing Party"}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsx(am,{label:"Name",name:"disclosingSignatoryName",value:t.disclosingSignatoryName,onChange:n,placeholder:"Name"}),e.jsx(am,{label:"Title",name:"disclosingSignatoryDesignation",value:t.disclosingSignatoryDesignation,onChange:n,placeholder:"Title"})]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-bold text-slate-400 mb-2 uppercase",children:"For Receiving Party"}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsx(am,{label:"Name",name:"receivingSignatoryName",value:t.receivingSignatoryName,onChange:n,placeholder:"Name"}),e.jsx(am,{label:"Title",name:"receivingSignatoryDesignation",value:t.receivingSignatoryDesignation,onChange:n,placeholder:"Title"})]})]})]})})]}),"edit"===f&&e.jsxs("div",{className:"p-4 space-y-6 pb-20",children:[e.jsx(sm,{isFixed:!0,section:{title:"Preamble & Parties"},onUpdate:()=>{},children:e.jsxs("div",{className:"space-y-3 mt-3",children:[e.jsx("textarea",{name:"preamble",value:r.preamble||"",onChange:a,rows:3,className:"w-full text-xs p-3 rounded-lg border border-slate-200 bg-slate-50 focus:bg-white focus:border-indigo-300 focus:ring-4 focus:ring-indigo-500/10 outline-none transition-all resize-y placeholder-slate-400",placeholder:"Preamble..."}),e.jsxs("div",{className:"grid gap-3",children:[e.jsx("textarea",{name:"partiesDisclosing",value:r.partiesDisclosing||"",onChange:a,rows:2,className:"w-full text-xs p-3 rounded-lg border border-slate-200 bg-slate-50 focus:bg-white focus:border-indigo-300 focus:ring-4 focus:ring-indigo-500/10 outline-none transition-all resize-y placeholder-slate-400",placeholder:"Disclosing Party Clause..."}),e.jsx("textarea",{name:"partiesReceiving",value:r.partiesReceiving||"",onChange:a,rows:2,className:"w-full text-xs p-3 rounded-lg border border-slate-200 bg-slate-50 focus:bg-white focus:border-indigo-300 focus:ring-4 focus:ring-indigo-500/10 outline-none transition-all resize-y placeholder-slate-400",placeholder:"Receiving Party Clause..."})]})]})}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute left-[7px] top-[-24px] bottom-0 w-[2px] bg-slate-100"}),e.jsx("p",{className:"font-bold text-[10px] uppercase tracking-widest text-slate-400 pl-8 mb-4",children:"Structure"}),e.jsx(he,{axis:"y",values:r.sections,onReorder:c,className:"space-y-0",children:r.sections.map(t=>e.jsx(me,{value:t,className:"relative mb-2",children:e.jsx(sm,{section:t,onUpdate:(e,n)=>l(t.id,e,n),onRemove:()=>{return e=t.id,void b({isOpen:!0,sectionId:e});var e},placeholderTitle:"Section Title",placeholderContent:"Section clauses..."})},t.id))}),e.jsx(im,{onClick:s})]})]}),"style"===f&&e.jsx("div",{className:"p-4 pb-20",children:e.jsx(lm,{styles:d,onUpdate:u,onReset:h})})]})},um=({style:t,data:n,isSelected:r,isDragging:a,onEdit:s,onDelete:i,listeners:o,attributes:l,setNodeRef:c,readOnly:d=!1})=>{const{icon:u,label:h}=(()=>{switch(n.fieldType){case"date":return{icon:F,label:"Date"};case"text":return{icon:ie,label:"Text"};case"initials":return{icon:j,label:"Initials"};case"checkbox":return{icon:fe,label:"Check"};default:return{icon:P,label:"Signature"}}})();return e.jsxs("div",{ref:c,style:t,className:`\n                group flex items-center gap-2 bg-white/95 backdrop-blur-md \n                border shadow-sm transition-all duration-200 py-1.5 px-3 rounded-full\n                ${r&&!d?"border-indigo-500 shadow-indigo-100 ring-2 ring-indigo-500/20":"border-slate-300"}\n                ${d?"cursor-default":"hover:border-indigo-400 hover:shadow-md cursor-grab"}\n                ${a?"opacity-50 cursor-grabbing":""}\n                w-auto min-w-[120px] max-w-[240px] select-none\n            `,...o,...l,onClick:e=>{d||(e.preventDefault(),e.stopPropagation(),s&&s())},children:[!d&&e.jsx("div",{className:"text-slate-400 "+(r?"text-indigo-400":""),children:e.jsx(ee,{size:14})}),e.jsx("div",{className:"text-slate-400 "+(r?"text-indigo-500":""),children:e.jsx(u,{size:14})}),e.jsxs("div",{className:"flex flex-col leading-none",children:[e.jsx("span",{className:"text-[10px] uppercase font-bold tracking-wider "+(r&&!d?"text-indigo-600":"text-slate-500"),children:h}),e.jsx("span",{className:"text-xs font-semibold truncate select-none "+(r&&!d?"text-indigo-700":"text-slate-700"),children:n.signeeName||"Signer"})]}),!d&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-px h-3 bg-slate-200 mx-0.5"}),e.jsxs("div",{className:"flex items-center gap-0.5 relative z-20",children:[e.jsx("button",{onPointerDown:e=>e.stopPropagation(),onMouseDown:e=>e.stopPropagation(),onTouchStart:e=>e.stopPropagation(),onClick:e=>{e.stopPropagation(),e.preventDefault(),s&&s()},className:"p-1 hover:bg-slate-100 rounded-full text-slate-400 hover:text-indigo-600 transition-colors cursor-pointer",children:e.jsx(pe,{size:12})}),e.jsx("button",{onPointerDown:e=>e.stopPropagation(),onMouseDown:e=>e.stopPropagation(),onTouchStart:e=>e.stopPropagation(),onClick:e=>{e.stopPropagation(),e.preventDefault(),i&&i()},className:"p-1 hover:bg-slate-100 rounded-full text-slate-400 hover:text-red-500 transition-colors cursor-pointer",children:e.jsx(te,{size:12})})]})]}),n.order&&e.jsx("div",{className:"absolute -top-1.5 -right-1.5 w-4 h-4 bg-indigo-600 text-white text-[9px] font-bold flex items-center justify-center rounded-full shadow-sm border border-white z-10 pointer-events-none",children:n.order})]})},hm=({id:t,data:n,left:r,top:a,onEdit:s,onDelete:i,isSelected:o,readOnly:l=!1})=>{const{attributes:c,listeners:d,setNodeRef:u,transform:h,isDragging:m}=Uh({id:t,data:{...n,type:"signature-field",id:t},disabled:l}),p={transform:Hd.Translate.toString(h),left:`${r}%`,top:`${a}%`,position:"absolute",zIndex:m?999:o?50:10,touchAction:"none"};return e.jsx(um,{style:p,data:n,isSelected:o,isDragging:m,onEdit:s,onDelete:i,listeners:d,attributes:c,setNodeRef:u,readOnly:l})},mm=({signatures:t,onUpdateSignature:n,onRemoveSignature:r,onEditSignature:a})=>{const{setNodeRef:s}=qh({id:"document-canvas"});return e.jsx("div",{ref:s,className:"absolute inset-0 z-20 pointer-events-none",children:t.map(t=>e.jsx("div",{className:"pointer-events-auto",children:e.jsx(hm,{id:t.id,data:t.metadata,left:t.position.x,top:t.position.y,onEdit:()=>a(t),onDelete:()=>r(t.id)})},t.id))})};function pm({data:t,content:n,zoom:s=1,printing:i=!1,readOnly:o=!1,signatures:l=[],onUpdateSignature:c,onRemoveSignature:d,onEditSignature:u,businessLogo:h,styles:m}){const p=({value:t,placeholder:n,name:r,className:a=""})=>{const s=(e=>{if(!e)return"bg-slate-100 text-slate-600 border-slate-200";const t=["bg-indigo-50 text-indigo-700 border-indigo-200","bg-emerald-50 text-emerald-700 border-emerald-200","bg-amber-50 text-amber-700 border-amber-200","bg-rose-50 text-rose-700 border-rose-200","bg-violet-50 text-violet-700 border-violet-200","bg-sky-50 text-sky-700 border-sky-200"];let n=0;for(let r=0;r<e.length;r++)n=e.charCodeAt(r)+((n<<5)-n);return t[Math.abs(n)%t.length]})(r);return t?o||i?e.jsx("span",{className:`font-medium text-slate-900 ${a}`,children:t}):e.jsx("span",{className:`px-1.5 py-0.5 rounded border ${s} font-medium mx-0.5 transition-all hover:brightness-95 ${a}`,children:t}):o||i?e.jsx("span",{className:`text-slate-500 italic ${a}`,children:n}):e.jsx("span",{className:`px-1.5 py-0.5 rounded border border-dashed ${s} bg-opacity-50 font-medium text-xs mx-0.5 ${a}`,children:n})},f=({template:t,values:n})=>{if(!t)return null;const r=t.split(/(\{\{[^}]+\}\})/g);return e.jsx("span",{children:r.map((t,r)=>{if(t.startsWith("{{")&&t.endsWith("}}")){const a=t.slice(2,-2).trim();return e.jsx(p,{value:n[a],name:a,placeholder:`[${a}]`},r)}return e.jsx("span",{children:t},r)})})},g=m||{fontFamily:"font-serif",fontSize:"text-[11pt]",lineHeight:"leading-relaxed",textColor:"#1e293b",pageMargin:"p-[25mm]"},x=i?"div":a.div,b=i?"div":a.section;return e.jsxs(x,{id:"printable-document",...i?{}:{initial:{opacity:0,y:20},animate:{opacity:1,y:0}},style:{transform:i?"none":`scale(${s})`,transformOrigin:"top center",color:g.textColor},className:`w-[210mm] min-h-[297mm] bg-white relative mb-20 origin-top \n                ${i?"":"shadow-[0_8px_30px_rgb(0,0,0,0.12)] border border-slate-200/60"}\n                ${g.fontFamily} ${g.fontSize} ${g.lineHeight} ${g.pageMargin}\n            `,children:[!i&&e.jsx("div",{className:"no-print absolute inset-0 rounded-sm pointer-events-none bg-gradient-to-b from-white to-slate-50/20"}),!i&&!o&&e.jsx(mm,{signatures:l,onUpdateSignature:c,onRemoveSignature:d,onEditSignature:u}),(i||o)&&l.length>0&&e.jsx("div",{className:"absolute inset-0 z-50 pointer-events-none",children:l.map(t=>e.jsxs("div",{style:{position:"absolute",left:`${t.position.x}px`,top:`${t.position.y}px`,width:"200px",height:"60px",borderBottom:"1px solid #000",display:"flex",flexDirection:"column",justifyContent:"flex-end"},children:[e.jsx("div",{style:{fontFamily:"cursive",fontSize:"14pt",color:"#1e3a8a",marginBottom:"4px"},children:t.metadata.signeeName||"Sign Here"}),e.jsx("div",{style:{fontSize:"8pt",color:"#64748b",textTransform:"uppercase",letterSpacing:"0.05em"},children:"date"===t.metadata.type?"Date":"Authorized Signature"}),t.metadata.signeeEmail&&e.jsx("div",{style:{fontSize:"7pt",color:"#94a3b8",position:"absolute",bottom:"-14px",left:"0"},children:t.metadata.signeeEmail})]},t.id))}),e.jsxs("div",{className:"p-[10mm] relative z-10",children:[h&&!1!==t.brandingEnabled&&"false"!==t.brandingEnabled&&e.jsx("div",{className:"flex mb-8 "+("left"===t.logoAlignment?"justify-start":"right"===t.logoAlignment?"justify-end":"justify-center"),style:i?{textAlign:t.logoAlignment||"center"}:{},children:e.jsx("img",{src:h,alt:"Company Logo",style:{height:`${t.logoSize||70}px`,objectFit:"contain"}})}),e.jsx("h1",{className:"text-xl font-bold text-center mb-10 uppercase tracking-widest border-b-2 border-slate-900 pb-2",children:n.title}),e.jsx("p",{className:"mb-6 text-justify",children:e.jsx(f,{template:n.preamble,values:t})}),e.jsxs("div",{className:"mb-8 pl-4 border-l-4 border-slate-100",children:[e.jsx("p",{className:"font-bold text-xs uppercase text-slate-400 mb-1",children:"BY AND BETWEEN"}),e.jsx("p",{className:"mb-4 text-justify",children:e.jsx(f,{template:n.partiesDisclosing,values:t})}),e.jsx("p",{className:"font-bold text-xs uppercase text-slate-400 mb-1",children:"AND"}),e.jsx("p",{className:"mb-2 text-justify",children:e.jsx(f,{template:n.partiesReceiving,values:t})})]}),e.jsx("p",{className:"text-justify mb-8",children:e.jsx(f,{template:n.partiesFooter,values:t})}),e.jsx("div",{className:"space-y-6 min-h-[100px]",children:e.jsx(r,{mode:"popLayout",children:n.sections&&n.sections.map((n,r)=>e.jsxs(b,{...i?{}:{layout:!0,initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,scale:.95}},children:[e.jsxs("h2",{className:"font-bold text-sm uppercase mb-2",children:[r+1,". ",n.title]}),e.jsx("p",{className:"text-justify",children:e.jsx(f,{template:n.content,values:t})})]},n.id))})}),e.jsxs("div",{className:"mt-12 break-inside-avoid",children:[e.jsxs("h2",{className:"font-bold text-sm uppercase mb-6 border-b border-slate-900 pb-1",children:[n.sections.length+1,". Signatures"]}),e.jsx("p",{className:"mb-8",children:"IN WITNESS WHEREOF, the Parties have executed this Agreement as of the date first written above."}),i?e.jsx("table",{style:{width:"100%",borderCollapse:"collapse",marginTop:"20px"},children:e.jsx("tbody",{children:e.jsxs("tr",{children:[e.jsxs("td",{style:{width:"48%",verticalAlign:"top",paddingRight:"2%"},children:[e.jsx("p",{className:"font-bold uppercase text-xs tracking-wider mb-8",children:"For Disclosing Party"}),e.jsx("div",{className:"relative border-b border-slate-800 h-8 mb-2",style:{borderBottom:"1px solid #000",height:"40px",marginBottom:"10px"},children:t.disclosingSignatoryName&&e.jsx("span",{style:{fontFamily:"cursive",fontSize:"16pt",color:"#1e3a8a"},children:t.disclosingSignatoryName})}),e.jsx("p",{className:"text-xs uppercase text-slate-500",children:"Authorized Signature"}),e.jsx("table",{style:{width:"100%",marginTop:"15px"},children:e.jsxs("tbody",{children:[e.jsxs("tr",{children:[e.jsx("td",{style:{width:"60px",fontWeight:"bold",fontSize:"10pt"},children:"Name:"}),e.jsx("td",{style:{borderBottom:"1px solid #ccc"},children:t.disclosingSignatoryName})]}),e.jsxs("tr",{children:[e.jsx("td",{style:{paddingBottom:"5px"}}),e.jsx("td",{})]}),e.jsxs("tr",{children:[e.jsx("td",{style:{width:"60px",fontWeight:"bold",fontSize:"10pt"},children:"Title:"}),e.jsx("td",{style:{borderBottom:"1px solid #ccc"},children:t.disclosingSignatoryDesignation})]})]})})]}),e.jsx("td",{style:{width:"4%"}}),e.jsxs("td",{style:{width:"48%",verticalAlign:"top"},children:[e.jsx("p",{className:"font-bold uppercase text-xs tracking-wider mb-8",children:"For Receiving Party"}),e.jsx("div",{className:"relative border-b border-slate-800 h-8 mb-2",style:{borderBottom:"1px solid #000",height:"40px",marginBottom:"10px"},children:t.receivingSignatoryName&&e.jsx("span",{style:{fontFamily:"cursive",fontSize:"16pt",color:"#1e3a8a"},children:t.receivingSignatoryName})}),e.jsx("p",{className:"text-xs uppercase text-slate-500",children:"Authorized Signature"}),e.jsx("table",{style:{width:"100%",marginTop:"15px"},children:e.jsxs("tbody",{children:[e.jsxs("tr",{children:[e.jsx("td",{style:{width:"60px",fontWeight:"bold",fontSize:"10pt"},children:"Name:"}),e.jsx("td",{style:{borderBottom:"1px solid #ccc"},children:t.receivingSignatoryName})]}),e.jsxs("tr",{children:[e.jsx("td",{style:{paddingBottom:"5px"}}),e.jsx("td",{})]}),e.jsxs("tr",{children:[e.jsx("td",{style:{width:"60px",fontWeight:"bold",fontSize:"10pt"},children:"Title:"}),e.jsx("td",{style:{borderBottom:"1px solid #ccc"},children:t.receivingSignatoryDesignation})]})]})})]})]})})}):e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 md:gap-16",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"font-bold uppercase text-xs tracking-wider mb-8",children:"For Disclosing Party"}),e.jsx("div",{className:"relative border-b border-slate-800 h-8 mb-2",children:t.disclosingSignatoryName&&e.jsx("span",{className:"absolute bottom-1 left-2 font-cursive text-xl text-blue-900 opacity-80 rotate-[-2deg]",children:t.disclosingSignatoryName})}),e.jsx("p",{className:"text-xs uppercase text-slate-500",children:"Authorized Signature"}),e.jsxs("div",{className:"pt-4 grid grid-cols-[80px_1fr] gap-x-2 gap-y-1 items-baseline",children:[e.jsx("span",{className:"text-sm font-medium",children:"Name:"}),e.jsx("span",{className:"border-b border-slate-300 w-full inline-block h-5 pl-1",children:t.disclosingSignatoryName}),e.jsx("span",{className:"text-sm font-medium",children:"Title:"}),e.jsx("span",{className:"border-b border-slate-300 w-full inline-block h-5 pl-1",children:t.disclosingSignatoryDesignation})]})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"font-bold uppercase text-xs tracking-wider mb-8",children:"For Receiving Party"}),e.jsx("div",{className:"relative border-b border-slate-800 h-8 mb-2",children:t.receivingSignatoryName&&e.jsx("span",{className:"absolute bottom-1 left-2 font-cursive text-xl text-blue-900 opacity-80 rotate-[-2deg]",children:t.receivingSignatoryName})}),e.jsx("p",{className:"text-xs uppercase text-slate-500",children:"Authorized Signature"}),e.jsxs("div",{className:"pt-4 grid grid-cols-[80px_1fr] gap-x-2 gap-y-1 items-baseline",children:[e.jsx("span",{className:"text-sm font-medium",children:"Name:"}),e.jsx("span",{className:"border-b border-slate-300 w-full inline-block h-5 pl-1",children:t.receivingSignatoryName}),e.jsx("span",{className:"text-sm font-medium",children:"Title:"}),e.jsx("span",{className:"border-b border-slate-300 w-full inline-block h-5 pl-1",children:t.receivingSignatoryDesignation})]})]})]})]}),!i&&e.jsx("div",{className:"absolute bottom-4 left-0 right-0 text-center",children:e.jsx("p",{className:"text-[9px] text-slate-300 uppercase tracking-widest font-sans",children:"Powered by DocForge"})})]})]})}const fm=async e=>(await sr.get(`/documents/${e}`)).data,gm=async e=>(await sr.post("/documents",e)).data,xm=async(e,t)=>(await sr.put(`/documents/${e}`,t)).data,bm=async(e,t,n,r)=>(await sr.post(`/documents/${e}/send`,{email:t,message:n,html_content:r})).data,vm=async(e,t,n)=>(await sr.post(`/documents/${e}/remind`,{email:t,message:n})).data,ym=async e=>await sr.get(`/documents/${e}/versions`),wm=async e=>(await sr.get(`/documents/${e}/shares`)).data,jm=({documentId:n,isOpen:s,onClose:i,onRestore:o,onPreview:l,onDownload:c})=>{const[d,u]=kt.useState([]),[h,m]=kt.useState(!1),[p,f]=kt.useState({isOpen:!1,version:null}),[g,x]=kt.useState(!1);kt.useEffect(()=>{s&&n&&b()},[s,n]);const b=async()=>{try{m(!0);const[e,t]=await Promise.allSettled([ym(n),wm(n)]),r="fulfilled"===e.status?e.value.data.data:[],a="fulfilled"===t.status?t.value.data:[],s=r.map(e=>({id:e.id,type:"version",version_number:e.version_number,created_at:e.created_at,created_by:e.created_by,data:e})),i=a.map(e=>({id:e.id,type:"share",email:e.email,permission:e.permission,created_at:e.created_at,created_by:e.created_by||"You",data:e})),o=[...s,...i].sort((e,t)=>new Date(t.created_at)-new Date(e.created_at));u(o)}catch(e){$t.error("Failed to load history.")}finally{m(!1)}};return e.jsx(r,{children:s&&e.jsxs(e.Fragment,{children:[e.jsx(a.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:i,className:"fixed inset-0 bg-black/20 z-40 backdrop-blur-sm"}),e.jsxs(a.div,{initial:{x:"100%"},animate:{x:0},exit:{x:"100%"},transition:{type:"spring",damping:25,stiffness:200},className:"fixed right-0 top-0 bottom-0 w-80 bg-white shadow-2xl z-50 border-l border-slate-200 flex flex-col",children:[e.jsxs("div",{className:"p-4 border-b border-slate-100 flex items-center justify-between bg-slate-50",children:[e.jsxs("h3",{className:"font-semibold text-slate-800 flex items-center gap-2",children:[e.jsx($,{size:16})," Activity & History"]}),e.jsx("button",{onClick:i,className:"p-1 hover:bg-slate-200 rounded text-slate-500",children:e.jsx(t,{size:20})})]}),e.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:h?e.jsx("div",{className:"flex justify-center py-8",children:e.jsx(y,{className:"animate-spin text-indigo-600"})}):0===d.length?e.jsx("p",{className:"text-center text-slate-500 text-sm py-8",children:"No history available yet."}):d.map((t,n)=>{if("version"===t.type){const n=t.data;return e.jsxs("div",{className:"relative pl-6 pb-6 border-l-2 border-slate-100 last:border-0 last:pb-0",children:[e.jsx("div",{className:"absolute -left-[9px] top-0 w-4 h-4 rounded-full border-2 border-white bg-slate-200 shadow-sm flex items-center justify-center",children:e.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-slate-400"})}),e.jsxs("div",{className:"text-sm",children:[e.jsxs("div",{className:"flex justify-between items-start mb-1",children:[e.jsxs("span",{className:"font-semibold text-slate-700",children:["Version ",n.version_number]}),e.jsx("span",{className:"text-xs text-slate-400",children:new Date(n.created_at).toLocaleDateString()})]}),e.jsxs("p",{className:"text-xs text-slate-500 mb-2",children:["Saved by ",n.created_by," ",e.jsx("br",{}),new Date(n.created_at).toLocaleTimeString()]}),e.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[e.jsxs("button",{onClick:()=>l&&l(n),className:"px-2 py-1 text-xs font-medium bg-indigo-50 text-indigo-700 rounded hover:bg-indigo-100 transition-colors flex items-center gap-1",children:[e.jsx(ge,{size:12})," Preview"]}),e.jsxs("button",{onClick:()=>c&&c(n),className:"px-2 py-1 text-xs font-medium bg-slate-100 text-slate-700 rounded hover:bg-slate-200 transition-colors flex items-center gap-1",children:[e.jsx(xe,{size:12})," PDF"]}),e.jsxs("button",{onClick:()=>(e=>{f({isOpen:!0,version:e})})(n),className:"px-2 py-1 text-xs font-medium bg-amber-50 text-amber-700 rounded hover:bg-amber-100 transition-colors flex items-center gap-1 ml-auto",children:[e.jsx(be,{size:12})," Restore"]})]})]})]},`v-${n.id}`)}{const n=t.data;return e.jsxs("div",{className:"relative pl-6 pb-6 border-l-2 border-slate-100 last:border-0 last:pb-0",children:[e.jsx("div",{className:"absolute -left-[9px] top-0 w-4 h-4 rounded-full border-2 border-white bg-blue-100 shadow-sm flex items-center justify-center",children:e.jsx(ve,{size:10,className:"text-blue-600"})}),e.jsxs("div",{className:"text-sm",children:[e.jsxs("div",{className:"flex justify-between items-start mb-1",children:[e.jsx("span",{className:"font-semibold text-blue-700 flex items-center gap-1",children:"Document Shared"}),e.jsx("span",{className:"text-xs text-slate-400",children:new Date(n.created_at).toLocaleDateString()})]}),e.jsxs("div",{className:"text-xs text-slate-600 bg-slate-50 p-2 rounded border border-slate-100",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx(v,{size:12,className:"text-slate-400"}),e.jsx("span",{className:"font-medium text-slate-800",children:n.email})]}),e.jsxs("p",{className:"text-slate-400",children:["Shared by ",n.created_by||"You"]})]})]})]},`s-${n.id}`)}})})]}),e.jsx(cm,{isOpen:p.isOpen,onClose:()=>f({isOpen:!1,version:null}),onConfirm:async()=>{const{version:e}=p;if(e)try{x(!0);const t=await(async(e,t)=>await sr.post(`/documents/${e}/restore/${t}`))(n,e.id);$t.success(`Restored to Version ${e.version_number}`),o&&o(t.data.data),f({isOpen:!1,version:null}),i()}catch(t){$t.error("Failed to restore version.")}finally{x(!1)}},title:"Restore Version",message:`Are you sure you want to restore Version ${p.version?.version_number}? Current changes will be replaced by this version.`,confirmText:"Restore Version",isLoading:g})]})})},Nm=({isOpen:n,onClose:s,documentId:i,documentName:o,isReminder:l=!1,onSuccess:c,getHtmlContent:d,signatures:u=[]})=>{const[h,m]=kt.useState([]),[p,g]=kt.useState([]),[x,w]=kt.useState(""),[j,N]=kt.useState(""),[k,S]=kt.useState("idle"),[C,_]=kt.useState({current:0,total:0}),[P,E]=kt.useState([]);if(St.useEffect(()=>{if(n&&u.length>0){const e=[],t=new Set;u.forEach(n=>{const r=n.metadata?.signeeEmail||"",a=n.metadata?.signeeName||"Unknown Signer",s=`${r}-${a}`;t.has(s)||(t.add(s),e.push({id:n.id,name:a,email:r,role:"signer",isValid:!!r}))}),m(e)}else n&&0===u.length&&m([])},[n,u]),!n)return null;return e.jsx(r,{children:n&&e.jsx(a.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-slate-900/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:e.jsxs(a.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},className:"bg-white rounded-xl shadow-xl w-full max-w-lg overflow-hidden flex flex-col max-h-[90vh]",children:[e.jsxs("div",{className:"p-6 border-b border-slate-100 flex justify-between items-center bg-slate-50/50 flex-shrink-0",children:[e.jsxs("div",{children:[e.jsxs("h3",{className:"font-bold text-lg text-slate-800 flex items-center gap-2",children:[l?e.jsx(Z,{size:20,className:"text-amber-500"}):e.jsx(v,{size:20,className:"text-indigo-600"}),l?"Send Reminder":"Send Document"]}),e.jsx("p",{className:"text-xs text-slate-500",children:l?`Follow up on "${o}"`:"Review signatures and send to recipients"})]}),e.jsx("button",{onClick:s,className:"text-slate-400 hover:text-slate-600 p-1 hover:bg-slate-100 rounded-full transition-colors",children:e.jsx(t,{size:20})})]}),e.jsx("div",{className:"p-6 overflow-y-auto flex-1",children:"success"===k?e.jsxs("div",{className:"text-center py-8",children:[e.jsx(a.div,{initial:{scale:0,rotate:-180},animate:{scale:1,rotate:0},className:"w-16 h-16 bg-emerald-100 text-emerald-600 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(f,{size:32})}),e.jsx("h4",{className:"font-bold text-slate-800 text-lg mb-2",children:"Sent Successfully!"}),e.jsx("p",{className:"text-slate-500 text-sm",children:"All recipients have been notified."})]}):e.jsxs("div",{className:"space-y-6",children:[h.length>0&&e.jsxs("div",{children:[e.jsxs("h4",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider mb-3 flex items-center gap-2",children:[e.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-indigo-500"}),"Signers (Detected)"]}),e.jsx("div",{className:"space-y-3",children:h.map((t,n)=>e.jsxs("div",{className:"flex items-center gap-3 bg-indigo-50/50 p-3 rounded-lg border border-indigo-100",children:[e.jsxs("div",{className:"w-8 h-8 rounded-full bg-indigo-100 text-indigo-600 flex items-center justify-center text-xs font-bold shrink-0",children:["S",n+1]}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("div",{className:"text-sm font-semibold text-slate-700 truncate",children:t.name}),e.jsx("input",{type:"email",value:t.email,onChange:e=>((e,t)=>{const n=[...h];n[e].email=t,n[e].isValid=/^\S+@\S+\.\S+$/.test(t),m(n)})(n,e.target.value),placeholder:"Enter signer email...",className:"mt-1 w-full text-xs px-2 py-1 bg-white border rounded focus:ring-1 focus:ring-indigo-500 outline-none "+(t.isValid?"border-slate-200 text-slate-600":"border-red-300 text-red-600")})]}),e.jsx("div",{className:"text-[10px] font-bold text-indigo-500 bg-indigo-100 px-2 py-1 rounded",children:"REQ"})]},n))})]}),e.jsxs("div",{children:[e.jsxs("h4",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider mb-3 flex items-center gap-2",children:[e.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-slate-400"}),"CC / Viewers"]}),e.jsxs("div",{className:"space-y-3",children:[p.map((n,r)=>e.jsxs("div",{className:"flex items-center gap-3 bg-slate-50 p-2 rounded-lg border border-slate-200",children:[e.jsx("div",{className:"w-8 h-8 rounded-full bg-slate-200 text-slate-500 flex items-center justify-center text-xs font-bold shrink-0",children:"CC"}),e.jsx("div",{className:"flex-1 text-sm text-slate-600 truncate",children:n.email}),e.jsx("button",{onClick:()=>{return e=r,void g(p.filter((t,n)=>n!==e));var e},className:"text-slate-400 hover:text-red-500 p-1",children:e.jsx(t,{size:14})})]},r)),e.jsxs("form",{onSubmit:e=>{e.preventDefault(),x&&/^\S+@\S+\.\S+$/.test(x)&&(g([...p,{email:x,role:"viewer"}]),w(""))},className:"flex gap-2",children:[e.jsx("input",{type:"email",value:x,onChange:e=>w(e.target.value),placeholder:"Add a viewer (e.g. hr@company.com)",className:"flex-1 px-3 py-2 text-sm border border-slate-200 rounded-lg focus:ring-2 focus:ring-slate-200 outline-none"}),e.jsx("button",{type:"submit",disabled:!x,className:"px-3 py-2 bg-slate-100 text-slate-600 font-medium rounded-lg text-sm hover:bg-slate-200 disabled:opacity-50",children:"Add"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-1.5",children:"Custom Message"}),e.jsx("textarea",{value:j,onChange:e=>N(e.target.value),rows:2,className:"w-full px-3 py-2 border border-slate-200 rounded-lg text-sm focus:ring-2 focus:ring-indigo-500/20 focus:border-indigo-500 outline-none resize-none",placeholder:l?"Checking in...":"Please review and sign..."})]}),P.length>0&&e.jsx("div",{className:"p-3 bg-red-50 text-red-600 text-sm rounded-lg",children:P.map((t,n)=>e.jsxs("div",{className:"flex gap-2",children:[e.jsx(b,{size:14,className:"mt-1 shrink-0"})," ",t]},n))})]})}),"success"!==k&&e.jsx("div",{className:"p-6 border-t border-slate-100 bg-slate-50/50 flex-shrink-0",children:e.jsx("button",{onClick:async()=>{S("sending"),E([]);const e=[...h.filter(e=>e.isValid).map(e=>({email:e.email,type:"signer"})),...p.map(e=>({email:e.email,type:"viewer"}))];if(0===e.length)return S("error"),void E(["No valid recipients found. Please add an email."]);_({current:0,total:e.length});let t=0;const n=[];try{let a=null;d&&(a=await d());for(let s=0;s<e.length;s++){const o=e[s];try{l?await vm(i,o.email,j):await bm(i,o.email,j,a),t++}catch(r){n.push(`Failed to send to ${o.email}: ${r.message}`)}_(e=>({...e,current:s+1}))}t===e.length?(S("success"),c&&c({sent_at:(new Date).toISOString()}),setTimeout(()=>{s(),S("idle"),N(""),m([]),g([])},2e3)):(S("error"),E(n.length>0?n:["Some emails failed to send."]))}catch(a){S("error"),E(["A critical error occurred. Please try again."])}},disabled:"sending"===k||0===h.length&&0===p.length,className:"w-full py-3 font-semibold rounded-lg shadow-md hover:shadow-lg transition-all flex items-center justify-center gap-2 disabled:opacity-70 disabled:cursor-not-allowed "+(l?"bg-amber-500 hover:bg-amber-600 text-white":"bg-indigo-600 hover:bg-indigo-700 text-white"),children:"sending"===k?e.jsxs(e.Fragment,{children:[e.jsx(y,{size:18,className:"animate-spin"}),"Sending (",C.current,"/",C.total,")..."]}):e.jsxs(e.Fragment,{children:[l?e.jsx(Z,{size:18}):e.jsx(ye,{size:18}),l?"Send Reminders":"Send to All Recipients"]})})})]})})})},km=({isOpen:n,onClose:i,onSave:o,initialData:l,parties:c})=>{const[d,u]=kt.useState({id:null,signeeName:"",signeeEmail:"",type:"all",required:!0,order:1,placeholder:"",label:""});kt.useEffect(()=>{n&&l&&u({id:l.id,signeeName:l.signeeName||"",signeeEmail:l.signeeEmail||"",type:l.type||"all",required:l.required??!0,order:l.order||1,placeholder:l.placeholder||"",label:l.label||"",fieldType:l.fieldType||"signature"})},[n,l]);const h=e=>{c&&("disclosing"===e?u(e=>({...e,signeeName:c.disclosingSignatoryName||c.disclosingPartyName||""})):"receiving"===e&&u(e=>({...e,signeeName:c.receivingSignatoryName||c.receivingPartyName||""})))};return e.jsx(r,{children:n&&e.jsxs(e.Fragment,{children:[e.jsx(a.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:i,className:"fixed inset-0 bg-black/40 z-[60] backdrop-blur-sm"}),e.jsx("div",{className:"fixed inset-0 z-[70] flex items-center justify-center p-4 pointer-events-none",children:e.jsxs(a.div,{initial:{scale:.95,opacity:0,y:20},animate:{scale:1,opacity:1,y:0},exit:{scale:.95,opacity:0,y:20},className:"bg-white rounded-xl shadow-2xl w-full max-w-md pointer-events-auto flex flex-col max-h-[90vh]",children:[e.jsxs("div",{className:"p-4 border-b border-slate-100 flex items-center justify-between bg-slate-50/50 rounded-t-xl",children:[e.jsxs("h3",{className:"font-semibold text-slate-800 flex items-center gap-2",children:[e.jsx(G,{size:18,className:"text-indigo-600"}),"Configure Signature"]}),e.jsx("button",{onClick:i,className:"p-1 hover:bg-slate-200 rounded text-slate-500",children:e.jsx(t,{size:20})})]}),e.jsxs("div",{className:"p-6 space-y-6 overflow-y-auto",children:[c&&e.jsxs("div",{className:"flex gap-2 p-1 bg-slate-100 rounded-lg",children:[e.jsx("button",{onClick:()=>h("disclosing"),className:"flex-1 text-xs font-medium py-1.5 px-3 rounded text-slate-600 hover:bg-white hover:shadow-sm hover:text-indigo-600 transition-all text-center",children:"Disclosing Party"}),e.jsx("button",{onClick:()=>h("receiving"),className:"flex-1 text-xs font-medium py-1.5 px-3 rounded text-slate-600 hover:bg-white hover:shadow-sm hover:text-indigo-600 transition-all text-center",children:"Receiving Party"})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"Signee Name"}),e.jsxs("div",{className:"relative",children:[e.jsx(j,{className:"absolute left-3 top-2.5 text-slate-400",size:16}),e.jsx("input",{type:"text",value:d.signeeName,onChange:e=>u({...d,signeeName:e.target.value}),className:"w-full pl-9 pr-3 py-2 text-sm border border-slate-200 rounded-lg focus:ring-2 focus:ring-indigo-500/20 focus:border-indigo-500 outline-none transition-all",placeholder:"e.g. John Doe"})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"Signee Email"}),e.jsx("input",{type:"email",value:d.signeeEmail,onChange:e=>u({...d,signeeEmail:e.target.value}),className:"w-full px-3 py-2 text-sm border border-slate-200 rounded-lg focus:ring-2 focus:ring-indigo-500/20 focus:border-indigo-500 outline-none transition-all",placeholder:"john@example.com"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"Signing Order"}),e.jsx("input",{type:"number",min:"1",value:d.order,onChange:e=>u({...d,order:parseInt(e.target.value)||1}),className:"w-full px-3 py-2 text-sm border border-slate-200 rounded-lg focus:ring-2 focus:ring-indigo-500/20 focus:border-indigo-500 outline-none"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"Required?"}),e.jsxs("button",{onClick:()=>u({...d,required:!d.required}),className:"w-full py-2 px-3 rounded-lg border text-sm font-medium flex items-center justify-center gap-2 transition-all "+(d.required?"bg-emerald-50 border-emerald-200 text-emerald-700":"bg-white border-slate-200 text-slate-500 hover:border-slate-300"),children:[d.required?e.jsx(we,{size:16}):e.jsx("span",{className:"w-4 h-4 block border rounded-sm border-slate-300"}),d.required?"Required":"Optional"]})]})]}),"text"===d.fieldType&&e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"Field Label"}),e.jsx("input",{type:"text",value:d.label,onChange:e=>u({...d,label:e.target.value}),className:"w-full px-3 py-2 text-sm border border-slate-200 rounded-lg outline-none focus:ring-2 focus:ring-indigo-500/20 focus:border-indigo-500",placeholder:"e.g. Full Address"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"Placeholder Text"}),e.jsx("input",{type:"text",value:d.placeholder,onChange:e=>u({...d,placeholder:e.target.value}),className:"w-full px-3 py-2 text-sm border border-slate-200 rounded-lg outline-none focus:ring-2 focus:ring-indigo-500/20 focus:border-indigo-500",placeholder:"e.g. 123 Main St..."})]})]}),(!d.fieldType||"signature"===d.fieldType)&&e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"block text-sm font-medium text-slate-700 flex items-center gap-2",children:[e.jsx(s,{size:14,className:"text-slate-400"}),"Allowed Signature Types"]}),e.jsxs("select",{value:d.type,onChange:e=>u({...d,type:e.target.value}),className:"w-full px-3 py-2 text-sm border border-slate-200 rounded-lg focus:ring-2 focus:ring-indigo-500/20 focus:border-indigo-500 outline-none bg-white",children:[e.jsx("option",{value:"all",children:"Any (Draw, Type, Upload)"}),e.jsx("option",{value:"draw",children:"Draw Only"}),e.jsx("option",{value:"text",children:"Type Only"}),e.jsx("option",{value:"upload",children:"Upload Only"})]})]})]}),e.jsxs("div",{className:"p-4 border-t border-slate-100 bg-slate-50/50 flex justify-end gap-3 rounded-b-xl",children:[e.jsx("button",{onClick:i,className:"px-4 py-2 text-sm font-medium text-slate-600 hover:text-slate-800 bg-white border border-slate-200 rounded-lg hover:border-slate-300 transition-all",children:"Cancel"}),e.jsx("button",{onClick:()=>{o(d),i()},className:"px-6 py-2 text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 rounded-lg shadow-sm shadow-indigo-200 transition-all transform active:scale-95",children:"Save Signature"})]})]})})]})})},Sm={title:"Non-Disclosure Agreement",preamble:"This Non-Disclosure Agreement (Agreement) is made and entered into on this {{effectiveDateDay}} day of {{effectiveDateMonth}}, 20{{effectiveDateYear}} (Effective Date),",partiesDisclosing:'{{disclosingPartyName}}, a company/individual having its registered office/address at {{disclosingPartyAddress}} (hereinafter referred to as the "Disclosing Party"),',partiesReceiving:'{{receivingPartyName}}, a company/individual having its registered office/address at {{receivingPartyAddress}} (hereinafter referred to as the "Receiving Party").',partiesFooter:'The Disclosing Party and the Receiving Party may hereinafter be collectively referred to as the "Parties" and individually as a "Party".',sections:[{id:"1",title:"Purpose",content:"The Disclosing Party intends to disclose certain confidential and proprietary information to the Receiving Party for the purpose of {{purpose}} (Purpose)."},{id:"2",title:"Definition of Confidential Information",content:'For the purposes of this Agreement, "Confidential Information" shall mean any information disclosed by the Disclosing Party to the Receiving Party, whether orally, in writing, electronically, visually, or in any other form, including but not limited to business plans, strategies, financial information, and technical data.'},{id:"3",title:"Exclusions from Confidential Information",content:"Confidential Information shall not include information that is publicly available, lawfully known to the Receiving Party prior to disclosure, or independently developed by the Receiving Party."},{id:"4",title:"Obligations of the Receiving Party",content:"The Receiving Party agrees to keep all Confidential Information strictly confidential, use it solely for the Purpose, and not disclose it to any third party without prior written consent."},{id:"5",title:"Disclosure",content:"The Receiving Party may disclose Confidential Information only to its employees, agents, or representatives who have a legitimate need to know for the Purpose and are bound by confidentiality obligations."},{id:"6",title:"No License",content:"Nothing in this Agreement shall be construed as granting any rights, licenses, or ownership in the Confidential Information, except for the limited right to use it for the Purpose."},{id:"7",title:"Term and Survival",content:"This Agreement shall commence on the Effective Date and remain in effect for a period of {{termYears}} years. The confidentiality obligations shall survive the termination for a period of {{survivalYears}} years thereafter."},{id:"8",title:"Return of Information",content:"Upon termination of this Agreement or upon written request by the Disclosing Party, the Receiving Party shall promptly return or destroy all Confidential Information."},{id:"9",title:"Remedies",content:"The Receiving Party acknowledges that unauthorized disclosure or misuse of Confidential Information may cause irreparable harm. The Disclosing Party shall be entitled to seek injunctive relief."},{id:"10",title:"Governing Law",content:"This Agreement shall be governed by and construed in accordance with the laws of {{jurisdiction}}, and the courts of {{courtCity}} shall have exclusive jurisdiction."},{id:"11",title:"Miscellaneous",content:"This Agreement constitutes the entire understanding between the Parties. Any amendment must be in writing. Failure to enforce any provision shall not constitute a waiver."}]},Cm={effectiveDateDay:"",effectiveDateMonth:"",effectiveDateYear:"",logoSize:70,logoAlignment:"center",brandingEnabled:!0,disclosingPartyName:"",disclosingPartyAddress:"",receivingPartyName:"",receivingPartyAddress:"",purpose:"",termYears:"",survivalYears:"",jurisdiction:"",courtCity:"",disclosingSignatoryName:"",disclosingSignatoryDesignation:"",receivingSignatoryName:"",receivingSignatoryDesignation:""};var _m,Pm={},Em={};function Dm(){if(_m)return Em;_m=1;var e=wt(),t=jt();function n(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=Symbol.for("react.transitional.element"),a=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),h=Symbol.for("react.suspense_list"),m=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),f=Symbol.for("react.scope"),g=Symbol.for("react.activity"),x=Symbol.for("react.legacy_hidden"),b=Symbol.for("react.memo_cache_sentinel"),v=Symbol.for("react.view_transition"),y=Symbol.iterator;function w(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=y&&e[y]||e["@@iterator"])?e:null}var j=Array.isArray;function N(e,t){var n=3&e.length,r=e.length-n,a=t;for(t=0;t<r;){var s=255&e.charCodeAt(t)|(255&e.charCodeAt(++t))<<8|(255&e.charCodeAt(++t))<<16|(255&e.charCodeAt(++t))<<24;++t,a=27492+(65535&(a=5*(65535&(a=(a^=s=461845907*(65535&(s=(s=3432918353*(65535&s)+((3432918353*(s>>>16)&65535)<<16)&4294967295)<<15|s>>>17))+((461845907*(s>>>16)&65535)<<16)&4294967295)<<13|a>>>19))+((5*(a>>>16)&65535)<<16)&4294967295))+(((a>>>16)+58964&65535)<<16)}switch(s=0,n){case 3:s^=(255&e.charCodeAt(t+2))<<16;case 2:s^=(255&e.charCodeAt(t+1))<<8;case 1:a^=461845907*(65535&(s=(s=3432918353*(65535&(s^=255&e.charCodeAt(t)))+((3432918353*(s>>>16)&65535)<<16)&4294967295)<<15|s>>>17))+((461845907*(s>>>16)&65535)<<16)&4294967295}return a^=e.length,a=2246822507*(65535&(a^=a>>>16))+((2246822507*(a>>>16)&65535)<<16)&4294967295,((a=3266489909*(65535&(a^=a>>>13))+((3266489909*(a>>>16)&65535)<<16)&4294967295)^a>>>16)>>>0}var k=Object.assign,S=Object.prototype.hasOwnProperty,C=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),_={},P={};function E(e){return!!S.call(P,e)||!S.call(_,e)&&(C.test(e)?P[e]=!0:(_[e]=!0,!1))}var D=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" ")),O=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),T=/["'&<>]/;function M(e){if("boolean"==typeof e||"number"==typeof e||"bigint"==typeof e)return""+e;e=""+e;var t=T.exec(e);if(t){var n,r="",a=0;for(n=t.index;n<e.length;n++){switch(e.charCodeAt(n)){case 34:t="&quot;";break;case 38:t="&amp;";break;case 39:t="&#x27;";break;case 60:t="&lt;";break;case 62:t="&gt;";break;default:continue}a!==n&&(r+=e.slice(a,n)),a=n+1,r+=t}e=a!==n?r+e.slice(a,n):r}return e}var A=/([A-Z])/g,z=/^ms-/,R=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function I(e){return R.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var F=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,L=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,B={pending:!1,data:null,method:null,action:null},$=L.d;L.d={f:$.f,r:$.r,D:function(e){var t=pn||null;if(t){var n=t.resumableState,r=t.renderState;if("string"==typeof e&&e){var a,s;if(!n.dnsResources.hasOwnProperty(e))n.dnsResources[e]=null,(s=(n=r.headers)&&0<n.remainingCapacity)&&(a="<"+(""+e).replace(qe,Ye)+">; rel=dns-prefetch",s=0<=(n.remainingCapacity-=a.length+2)),s?(r.resets.dns[e]=null,n.preconnects&&(n.preconnects+=", "),n.preconnects+=a):(ce(a=[],{href:e,rel:"dns-prefetch"}),r.preconnects.add(a));cr(t)}}else $.D(e)},C:function(e,t){var n=pn||null;if(n){var r=n.resumableState,a=n.renderState;if("string"==typeof e&&e){var s="use-credentials"===t?"credentials":"string"==typeof t?"anonymous":"default";if(!r.connectResources[s].hasOwnProperty(e)){var i,o;if(r.connectResources[s][e]=null,o=(r=a.headers)&&0<r.remainingCapacity){if(o="<"+(""+e).replace(qe,Ye)+">; rel=preconnect","string"==typeof t)o+='; crossorigin="'+(""+t).replace(Ge,Ke)+'"';i=o,o=0<=(r.remainingCapacity-=i.length+2)}o?(a.resets.connect[s][e]=null,r.preconnects&&(r.preconnects+=", "),r.preconnects+=i):(ce(s=[],{rel:"preconnect",href:e,crossOrigin:t}),a.preconnects.add(s))}cr(n)}}else $.C(e,t)},L:function(e,t,n){var r=pn||null;if(r){var a=r.resumableState,s=r.renderState;if(t&&e){switch(t){case"image":if(n)var i=n.imageSrcSet,o=n.imageSizes,l=n.fetchPriority;var c,d=i?i+"\n"+(o||""):e;if(a.imageResources.hasOwnProperty(d))return;a.imageResources[d]=W,(a=s.headers)&&0<a.remainingCapacity&&"string"!=typeof i&&"high"===l&&(c=Ve(e,t,n),0<=(a.remainingCapacity-=c.length+2))?(s.resets.image[d]=W,a.highImagePreloads&&(a.highImagePreloads+=", "),a.highImagePreloads+=c):(ce(a=[],k({rel:"preload",href:i?void 0:e,as:t},n)),"high"===l?s.highImagePreloads.add(a):(s.bulkPreloads.add(a),s.preloads.images.set(d,a)));break;case"style":if(a.styleResources.hasOwnProperty(e))return;ce(i=[],k({rel:"preload",href:e,as:t},n)),a.styleResources[e]=!n||"string"!=typeof n.crossOrigin&&"string"!=typeof n.integrity?W:[n.crossOrigin,n.integrity],s.preloads.stylesheets.set(e,i),s.bulkPreloads.add(i);break;case"script":if(a.scriptResources.hasOwnProperty(e))return;i=[],s.preloads.scripts.set(e,i),s.bulkPreloads.add(i),ce(i,k({rel:"preload",href:e,as:t},n)),a.scriptResources[e]=!n||"string"!=typeof n.crossOrigin&&"string"!=typeof n.integrity?W:[n.crossOrigin,n.integrity];break;default:if(a.unknownResources.hasOwnProperty(t)){if((i=a.unknownResources[t]).hasOwnProperty(e))return}else i={},a.unknownResources[t]=i;if(i[e]=W,(a=s.headers)&&0<a.remainingCapacity&&"font"===t&&(d=Ve(e,t,n),0<=(a.remainingCapacity-=d.length+2)))s.resets.font[e]=W,a.fontPreloads&&(a.fontPreloads+=", "),a.fontPreloads+=d;else if("font"===(ce(a=[],e=k({rel:"preload",href:e,as:t},n)),t))s.fontPreloads.add(a);else s.bulkPreloads.add(a)}cr(r)}}else $.L(e,t,n)},m:function(e,t){var n=pn||null;if(n){var r=n.resumableState,a=n.renderState;if(e){var s=t&&"string"==typeof t.as?t.as:"script";if("script"===s){if(r.moduleScriptResources.hasOwnProperty(e))return;s=[],r.moduleScriptResources[e]=!t||"string"!=typeof t.crossOrigin&&"string"!=typeof t.integrity?W:[t.crossOrigin,t.integrity],a.preloads.moduleScripts.set(e,s)}else{if(r.moduleUnknownResources.hasOwnProperty(s)){var i=r.unknownResources[s];if(i.hasOwnProperty(e))return}else i={},r.moduleUnknownResources[s]=i;s=[],i[e]=W}ce(s,k({rel:"modulepreload",href:e},t)),a.bulkPreloads.add(s),cr(n)}}else $.m(e,t)},X:function(e,t){var n=pn||null;if(n){var r=n.resumableState,a=n.renderState;if(e){var s=r.scriptResources.hasOwnProperty(e)?r.scriptResources[e]:void 0;null!==s&&(r.scriptResources[e]=null,t=k({src:e,async:!0},t),s&&(2===s.length&&He(t,s),e=a.preloads.scripts.get(e))&&(e.length=0),e=[],a.scripts.add(e),pe(e,t),cr(n))}}else $.X(e,t)},S:function(e,t,n){var r=pn||null;if(r){var a=r.resumableState,s=r.renderState;if(e){t=t||"default";var i=s.styles.get(t),o=a.styleResources.hasOwnProperty(e)?a.styleResources[e]:void 0;null!==o&&(a.styleResources[e]=null,i||(i={precedence:M(t),rules:[],hrefs:[],sheets:new Map},s.styles.set(t,i)),t={state:0,props:k({rel:"stylesheet",href:e,"data-precedence":t},n)},o&&(2===o.length&&He(t.props,o),(s=s.preloads.stylesheets.get(e))&&0<s.length?s.length=0:t.state=1),i.sheets.set(e,t),cr(r))}}else $.S(e,t,n)},M:function(e,t){var n=pn||null;if(n){var r=n.resumableState,a=n.renderState;if(e){var s=r.moduleScriptResources.hasOwnProperty(e)?r.moduleScriptResources[e]:void 0;null!==s&&(r.moduleScriptResources[e]=null,t=k({src:e,type:"module",async:!0},t),s&&(2===s.length&&He(t,s),e=a.preloads.moduleScripts.get(e))&&(e.length=0),e=[],a.scripts.add(e),pe(e,t),cr(n))}}else $.M(e,t)}};var W=[],U=null,H=/(<\/|<)(s)(cript)/gi;function V(e,t,n,r){return t+("s"===n?"\\u0073":"\\u0053")+r}function q(e,t,n,r){return{insertionMode:e,selectedValue:t,tagScope:n,viewTransition:r}}function Y(e,t,n){var r=-25&e.tagScope;switch(t){case"noscript":return q(2,null,1|r,null);case"select":return q(2,null!=n.value?n.value:n.defaultValue,r,null);case"svg":return q(4,null,r,null);case"picture":return q(2,null,2|r,null);case"math":return q(5,null,r,null);case"foreignObject":return q(2,null,r,null);case"table":return q(6,null,r,null);case"thead":case"tbody":case"tfoot":return q(7,null,r,null);case"colgroup":return q(9,null,r,null);case"tr":return q(8,null,r,null);case"head":if(2>e.insertionMode)return q(3,null,r,null);break;case"html":if(0===e.insertionMode)return q(1,null,r,null)}return 6<=e.insertionMode||2>e.insertionMode?q(2,null,r,null):e.tagScope!==r?q(e.insertionMode,e.selectedValue,r,null):e}function G(e){return null===e?null:{update:e.update,enter:"none",exit:"none",share:e.update,name:e.autoName,autoName:e.autoName,nameIdx:0}}function K(e,t){return 32&t.tagScope&&(e.instructions|=128),q(t.insertionMode,t.selectedValue,12|t.tagScope,G(t.viewTransition))}function X(e,t){e=G(t.viewTransition);var n=16|t.tagScope;return null!==e&&"none"!==e.share&&(n|=64),q(t.insertionMode,t.selectedValue,n,e)}var Q=new Map;function J(e,t){if("object"!=typeof t)throw Error(n(62));var r,a=!0;for(r in t)if(S.call(t,r)){var s=t[r];if(null!=s&&"boolean"!=typeof s&&""!==s){if(0===r.indexOf("--")){var i=M(r);s=M((""+s).trim())}else void 0===(i=Q.get(r))&&(i=M(r.replace(A,"-$1").toLowerCase().replace(z,"-ms-")),Q.set(r,i)),s="number"==typeof s?0===s||D.has(r)?""+s:s+"px":M((""+s).trim());a?(a=!1,e.push(' style="',i,":",s)):e.push(";",i,":",s)}}a||e.push('"')}function Z(e,t,n){n&&"function"!=typeof n&&"symbol"!=typeof n&&e.push(" ",t,'=""')}function ee(e,t,n){"function"!=typeof n&&"symbol"!=typeof n&&"boolean"!=typeof n&&e.push(" ",t,'="',M(n),'"')}var te=M("javascript:throw new Error('React form unexpectedly submitted.')");function ne(e,t){this.push('<input type="hidden"'),re(e),ee(this,"name",t),ee(this,"value",e),this.push("/>")}function re(e){if("string"!=typeof e)throw Error(n(480))}function ae(e,t){if("function"==typeof t.$$FORM_ACTION){var n=e.nextFormID++;e=e.idPrefix+n;try{var r=t.$$FORM_ACTION(e);if(r){var a=r.data;null!=a&&a.forEach(re)}return r}catch(s){if("object"==typeof s&&null!==s&&"function"==typeof s.then)throw s}}return null}function se(e,t,n,r,a,s,i,o){var l=null;if("function"==typeof r){var c=ae(t,r);null!==c?(o=c.name,r=c.action||"",a=c.encType,s=c.method,i=c.target,l=c.data):(e.push(" ","formAction",'="',te,'"'),i=s=a=r=o=null,le(t,n))}return null!=o&&ie(e,"name",o),null!=r&&ie(e,"formAction",r),null!=a&&ie(e,"formEncType",a),null!=s&&ie(e,"formMethod",s),null!=i&&ie(e,"formTarget",i),l}function ie(e,t,n){switch(t){case"className":ee(e,"class",n);break;case"tabIndex":ee(e,"tabindex",n);break;case"dir":case"role":case"viewBox":case"width":case"height":ee(e,t,n);break;case"style":J(e,n);break;case"src":case"href":if(""===n)break;case"action":case"formAction":if(null==n||"function"==typeof n||"symbol"==typeof n||"boolean"==typeof n)break;n=I(""+n),e.push(" ",t,'="',M(n),'"');break;case"defaultValue":case"defaultChecked":case"innerHTML":case"suppressContentEditableWarning":case"suppressHydrationWarning":case"ref":break;case"autoFocus":case"multiple":case"muted":Z(e,t.toLowerCase(),n);break;case"xlinkHref":if("function"==typeof n||"symbol"==typeof n||"boolean"==typeof n)break;n=I(""+n),e.push(" ","xlink:href",'="',M(n),'"');break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":"function"!=typeof n&&"symbol"!=typeof n&&e.push(" ",t,'="',M(n),'"');break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":n&&"function"!=typeof n&&"symbol"!=typeof n&&e.push(" ",t,'=""');break;case"capture":case"download":!0===n?e.push(" ",t,'=""'):!1!==n&&"function"!=typeof n&&"symbol"!=typeof n&&e.push(" ",t,'="',M(n),'"');break;case"cols":case"rows":case"size":case"span":"function"!=typeof n&&"symbol"!=typeof n&&!isNaN(n)&&1<=n&&e.push(" ",t,'="',M(n),'"');break;case"rowSpan":case"start":"function"==typeof n||"symbol"==typeof n||isNaN(n)||e.push(" ",t,'="',M(n),'"');break;case"xlinkActuate":ee(e,"xlink:actuate",n);break;case"xlinkArcrole":ee(e,"xlink:arcrole",n);break;case"xlinkRole":ee(e,"xlink:role",n);break;case"xlinkShow":ee(e,"xlink:show",n);break;case"xlinkTitle":ee(e,"xlink:title",n);break;case"xlinkType":ee(e,"xlink:type",n);break;case"xmlBase":ee(e,"xml:base",n);break;case"xmlLang":ee(e,"xml:lang",n);break;case"xmlSpace":ee(e,"xml:space",n);break;default:if((!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&E(t=O.get(t)||t)){switch(typeof n){case"function":case"symbol":return;case"boolean":var r=t.toLowerCase().slice(0,5);if("data-"!==r&&"aria-"!==r)return}e.push(" ",t,'="',M(n),'"')}}}function oe(e,t,r){if(null!=t){if(null!=r)throw Error(n(60));if("object"!=typeof t||!("__html"in t))throw Error(n(61));null!=(t=t.__html)&&e.push(""+t)}}function le(e,t){if(!(16&e.instructions)){e.instructions|=16;var n=t.preamble,r=t.bootstrapChunks;(n.htmlChunks||n.headChunks)&&0===r.length?(r.push(t.startInlineScript),$e(r,e),r.push(">",'addEventListener("submit",function(a){if(!a.defaultPrevented){var c=a.target,d=a.submitter,e=c.action,b=d;if(d){var f=d.getAttribute("formAction");null!=f&&(e=f,b=null)}"javascript:throw new Error(\'React form unexpectedly submitted.\')"===e&&(a.preventDefault(),b?(a=document.createElement("input"),a.name=b.name,a.value=b.value,b.parentNode.insertBefore(a,b),b=new FormData(c),a.parentNode.removeChild(a)):b=new FormData(c),a=c.ownerDocument||c,(a.$$reactFormReplay=a.$$reactFormReplay||[]).push(c,d,b))}});',"<\/script>")):r.unshift(t.startInlineScript,">",'addEventListener("submit",function(a){if(!a.defaultPrevented){var c=a.target,d=a.submitter,e=c.action,b=d;if(d){var f=d.getAttribute("formAction");null!=f&&(e=f,b=null)}"javascript:throw new Error(\'React form unexpectedly submitted.\')"===e&&(a.preventDefault(),b?(a=document.createElement("input"),a.name=b.name,a.value=b.value,b.parentNode.insertBefore(a,b),b=new FormData(c),a.parentNode.removeChild(a)):b=new FormData(c),a=c.ownerDocument||c,(a.$$reactFormReplay=a.$$reactFormReplay||[]).push(c,d,b))}});',"<\/script>")}}function ce(e,t){for(var r in e.push(ve("link")),t)if(S.call(t,r)){var a=t[r];if(null!=a)switch(r){case"children":case"dangerouslySetInnerHTML":throw Error(n(399,"link"));default:ie(e,r,a)}}return e.push("/>"),null}var de=/(<\/|<)(s)(tyle)/gi;function ue(e,t,n,r){return t+("s"===n?"\\73 ":"\\53 ")+r}function he(e,t,r){for(var a in e.push(ve(r)),t)if(S.call(t,a)){var s=t[a];if(null!=s)switch(a){case"children":case"dangerouslySetInnerHTML":throw Error(n(399,r));default:ie(e,a,s)}}return e.push("/>"),null}function me(e,t){e.push(ve("title"));var n,r=null,a=null;for(n in t)if(S.call(t,n)){var s=t[n];if(null!=s)switch(n){case"children":r=s;break;case"dangerouslySetInnerHTML":a=s;break;default:ie(e,n,s)}}return e.push(">"),"function"!=typeof(t=Array.isArray(r)?2>r.length?r[0]:null:r)&&"symbol"!=typeof t&&null!=t&&e.push(M(""+t)),oe(e,a,r),e.push(je("title")),null}function pe(e,t){e.push(ve("script"));var n,r=null,a=null;for(n in t)if(S.call(t,n)){var s=t[n];if(null!=s)switch(n){case"children":r=s;break;case"dangerouslySetInnerHTML":a=s;break;default:ie(e,n,s)}}return e.push(">"),oe(e,a,r),"string"==typeof r&&e.push((""+r).replace(H,V)),e.push(je("script")),null}function fe(e,t,n){e.push(ve(n));var r,a=n=null;for(r in t)if(S.call(t,r)){var s=t[r];if(null!=s)switch(r){case"children":n=s;break;case"dangerouslySetInnerHTML":a=s;break;default:ie(e,r,s)}}return e.push(">"),oe(e,a,n),n}function ge(e,t,n){e.push(ve(n));var r,a=n=null;for(r in t)if(S.call(t,r)){var s=t[r];if(null!=s)switch(r){case"children":n=s;break;case"dangerouslySetInnerHTML":a=s;break;default:ie(e,r,s)}}return e.push(">"),oe(e,a,n),"string"==typeof n?(e.push(M(n)),null):n}var xe=/^[a-zA-Z][a-zA-Z:_\.\-\d]*$/,be=new Map;function ve(e){var t=be.get(e);if(void 0===t){if(!xe.test(e))throw Error(n(65,e));t="<"+e,be.set(e,t)}return t}function ye(t,r,a,s,i,o,l,c,d){switch(r){case"div":case"span":case"svg":case"path":case"g":case"p":case"li":case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":break;case"a":t.push(ve("a"));var u,h=null,m=null;for(u in a)if(S.call(a,u)){var p=a[u];if(null!=p)switch(u){case"children":h=p;break;case"dangerouslySetInnerHTML":m=p;break;case"href":""===p?ee(t,"href",""):ie(t,u,p);break;default:ie(t,u,p)}}if(t.push(">"),oe(t,m,h),"string"==typeof h){t.push(M(h));var f=null}else f=h;return f;case"select":t.push(ve("select"));var g,x=null,b=null;for(g in a)if(S.call(a,g)){var v=a[g];if(null!=v)switch(g){case"children":x=v;break;case"dangerouslySetInnerHTML":b=v;break;case"defaultValue":case"value":break;default:ie(t,g,v)}}return t.push(">"),oe(t,b,x),x;case"option":var y=c.selectedValue;t.push(ve("option"));var w,N=null,C=null,_=null,P=null;for(w in a)if(S.call(a,w)){var D=a[w];if(null!=D)switch(w){case"children":N=D;break;case"selected":_=D;break;case"dangerouslySetInnerHTML":P=D;break;case"value":C=D;default:ie(t,w,D)}}if(null!=y){var O=null!==C?""+C:function(t){var n="";return e.Children.forEach(t,function(e){null!=e&&(n+=e)}),n}(N);if(j(y)){for(var T=0;T<y.length;T++)if(""+y[T]===O){t.push(' selected=""');break}}else""+y===O&&t.push(' selected=""')}else _&&t.push(' selected=""');return t.push(">"),oe(t,P,N),N;case"textarea":t.push(ve("textarea"));var A,z=null,R=null,F=null;for(A in a)if(S.call(a,A)){var L=a[A];if(null!=L)switch(A){case"children":F=L;break;case"value":z=L;break;case"defaultValue":R=L;break;case"dangerouslySetInnerHTML":throw Error(n(91));default:ie(t,A,L)}}if(null===z&&null!==R&&(z=R),t.push(">"),null!=F){if(null!=z)throw Error(n(92));if(j(F)){if(1<F.length)throw Error(n(93));z=""+F[0]}z=""+F}return"string"==typeof z&&"\n"===z[0]&&t.push("\n"),null!==z&&t.push(M(""+z)),null;case"input":t.push(ve("input"));var B,$=null,U=null,H=null,V=null,q=null,Y=null,G=null,K=null,X=null;for(B in a)if(S.call(a,B)){var Q=a[B];if(null!=Q)switch(B){case"children":case"dangerouslySetInnerHTML":throw Error(n(399,"input"));case"name":$=Q;break;case"formAction":U=Q;break;case"formEncType":H=Q;break;case"formMethod":V=Q;break;case"formTarget":q=Q;break;case"defaultChecked":X=Q;break;case"defaultValue":G=Q;break;case"checked":K=Q;break;case"value":Y=Q;break;default:ie(t,B,Q)}}var re=se(t,s,i,U,H,V,q,$);return null!==K?Z(t,"checked",K):null!==X&&Z(t,"checked",X),null!==Y?ie(t,"value",Y):null!==G&&ie(t,"value",G),t.push("/>"),null!=re&&re.forEach(ne,t),null;case"button":t.push(ve("button"));var xe,be=null,ye=null,we=null,Ne=null,ke=null,Se=null,Ce=null;for(xe in a)if(S.call(a,xe)){var _e=a[xe];if(null!=_e)switch(xe){case"children":be=_e;break;case"dangerouslySetInnerHTML":ye=_e;break;case"name":we=_e;break;case"formAction":Ne=_e;break;case"formEncType":ke=_e;break;case"formMethod":Se=_e;break;case"formTarget":Ce=_e;break;default:ie(t,xe,_e)}}var Pe=se(t,s,i,Ne,ke,Se,Ce,we);if(t.push(">"),null!=Pe&&Pe.forEach(ne,t),oe(t,ye,be),"string"==typeof be){t.push(M(be));var Ee=null}else Ee=be;return Ee;case"form":t.push(ve("form"));var De,Oe=null,Te=null,Me=null,Ae=null,ze=null,Re=null;for(De in a)if(S.call(a,De)){var Ie=a[De];if(null!=Ie)switch(De){case"children":Oe=Ie;break;case"dangerouslySetInnerHTML":Te=Ie;break;case"action":Me=Ie;break;case"encType":Ae=Ie;break;case"method":ze=Ie;break;case"target":Re=Ie;break;default:ie(t,De,Ie)}}var Fe=null,Le=null;if("function"==typeof Me){var Be=ae(s,Me);null!==Be?(Me=Be.action||"",Ae=Be.encType,ze=Be.method,Re=Be.target,Fe=Be.data,Le=Be.name):(t.push(" ","action",'="',te,'"'),Re=ze=Ae=Me=null,le(s,i))}if(null!=Me&&ie(t,"action",Me),null!=Ae&&ie(t,"encType",Ae),null!=ze&&ie(t,"method",ze),null!=Re&&ie(t,"target",Re),t.push(">"),null!==Le&&(t.push('<input type="hidden"'),ee(t,"name",Le),t.push("/>"),null!=Fe&&Fe.forEach(ne,t)),oe(t,Te,Oe),"string"==typeof Oe){t.push(M(Oe));var $e=null}else $e=Oe;return $e;case"menuitem":for(var We in t.push(ve("menuitem")),a)if(S.call(a,We)){var Ue=a[We];if(null!=Ue)switch(We){case"children":case"dangerouslySetInnerHTML":throw Error(n(400));default:ie(t,We,Ue)}}return t.push(">"),null;case"object":t.push(ve("object"));var qe,Ye=null,Ge=null;for(qe in a)if(S.call(a,qe)){var Ke=a[qe];if(null!=Ke)switch(qe){case"children":Ye=Ke;break;case"dangerouslySetInnerHTML":Ge=Ke;break;case"data":var Xe=I(""+Ke);if(""===Xe)break;t.push(" ","data",'="',M(Xe),'"');break;default:ie(t,qe,Ke)}}if(t.push(">"),oe(t,Ge,Ye),"string"==typeof Ye){t.push(M(Ye));var Qe=null}else Qe=Ye;return Qe;case"title":var Je=1&c.tagScope,Ze=4&c.tagScope;if(4===c.insertionMode||Je||null!=a.itemProp)var et=me(t,a);else Ze?et=null:(me(i.hoistableChunks,a),et=void 0);return et;case"link":var tt=1&c.tagScope,nt=4&c.tagScope,rt=a.rel,at=a.href,st=a.precedence;if(4===c.insertionMode||tt||null!=a.itemProp||"string"!=typeof rt||"string"!=typeof at||""===at){ce(t,a);var it=null}else if("stylesheet"===a.rel)if("string"!=typeof st||null!=a.disabled||a.onLoad||a.onError)it=ce(t,a);else{var ot=i.styles.get(st),lt=s.styleResources.hasOwnProperty(at)?s.styleResources[at]:void 0;if(null!==lt){s.styleResources[at]=null,ot||(ot={precedence:M(st),rules:[],hrefs:[],sheets:new Map},i.styles.set(st,ot));var ct={state:0,props:k({},a,{"data-precedence":a.precedence,precedence:null})};if(lt){2===lt.length&&He(ct.props,lt);var dt=i.preloads.stylesheets.get(at);dt&&0<dt.length?dt.length=0:ct.state=1}ot.sheets.set(at,ct),l&&l.stylesheets.add(ct)}else if(ot){var ut=ot.sheets.get(at);ut&&l&&l.stylesheets.add(ut)}d&&t.push("\x3c!-- --\x3e"),it=null}else a.onLoad||a.onError?it=ce(t,a):(d&&t.push("\x3c!-- --\x3e"),it=nt?null:ce(i.hoistableChunks,a));return it;case"script":var ht=1&c.tagScope,mt=a.async;if("string"!=typeof a.src||!a.src||!mt||"function"==typeof mt||"symbol"==typeof mt||a.onLoad||a.onError||4===c.insertionMode||ht||null!=a.itemProp)var pt=pe(t,a);else{var ft=a.src;if("module"===a.type)var gt=s.moduleScriptResources,xt=i.preloads.moduleScripts;else gt=s.scriptResources,xt=i.preloads.scripts;var bt=gt.hasOwnProperty(ft)?gt[ft]:void 0;if(null!==bt){gt[ft]=null;var vt=a;if(bt){2===bt.length&&He(vt=k({},a),bt);var yt=xt.get(ft);yt&&(yt.length=0)}var wt=[];i.scripts.add(wt),pe(wt,vt)}d&&t.push("\x3c!-- --\x3e"),pt=null}return pt;case"style":var jt=1&c.tagScope,Nt=a.precedence,kt=a.href,St=a.nonce;if(4===c.insertionMode||jt||null!=a.itemProp||"string"!=typeof Nt||"string"!=typeof kt||""===kt){t.push(ve("style"));var Ct,_t=null,Pt=null;for(Ct in a)if(S.call(a,Ct)){var Et=a[Ct];if(null!=Et)switch(Ct){case"children":_t=Et;break;case"dangerouslySetInnerHTML":Pt=Et;break;default:ie(t,Ct,Et)}}t.push(">");var Dt=Array.isArray(_t)?2>_t.length?_t[0]:null:_t;"function"!=typeof Dt&&"symbol"!=typeof Dt&&null!=Dt&&t.push((""+Dt).replace(de,ue)),oe(t,Pt,_t),t.push(je("style"));var Ot=null}else{var Tt=i.styles.get(Nt);if(null!==(s.styleResources.hasOwnProperty(kt)?s.styleResources[kt]:void 0)){s.styleResources[kt]=null,Tt||(Tt={precedence:M(Nt),rules:[],hrefs:[],sheets:new Map},i.styles.set(Nt,Tt));var Mt=i.nonce.style;if(!Mt||Mt===St){Tt.hrefs.push(M(kt));var At,zt=Tt.rules,Rt=null,It=null;for(At in a)if(S.call(a,At)){var Ft=a[At];if(null!=Ft)switch(At){case"children":Rt=Ft;break;case"dangerouslySetInnerHTML":It=Ft}}var Lt=Array.isArray(Rt)?2>Rt.length?Rt[0]:null:Rt;"function"!=typeof Lt&&"symbol"!=typeof Lt&&null!=Lt&&zt.push((""+Lt).replace(de,ue)),oe(zt,It,Rt)}}Tt&&l&&l.styles.add(Tt),d&&t.push("\x3c!-- --\x3e"),Ot=void 0}return Ot;case"meta":var Bt=1&c.tagScope,$t=4&c.tagScope;if(4===c.insertionMode||Bt||null!=a.itemProp)var Wt=he(t,a,"meta");else d&&t.push("\x3c!-- --\x3e"),Wt=$t?null:"string"==typeof a.charSet?he(i.charsetChunks,a,"meta"):"viewport"===a.name?he(i.viewportChunks,a,"meta"):he(i.hoistableChunks,a,"meta");return Wt;case"listing":case"pre":t.push(ve(r));var Ut,Ht=null,Vt=null;for(Ut in a)if(S.call(a,Ut)){var qt=a[Ut];if(null!=qt)switch(Ut){case"children":Ht=qt;break;case"dangerouslySetInnerHTML":Vt=qt;break;default:ie(t,Ut,qt)}}if(t.push(">"),null!=Vt){if(null!=Ht)throw Error(n(60));if("object"!=typeof Vt||!("__html"in Vt))throw Error(n(61));var Yt=Vt.__html;null!=Yt&&("string"==typeof Yt&&0<Yt.length&&"\n"===Yt[0]?t.push("\n",Yt):t.push(""+Yt))}return"string"==typeof Ht&&"\n"===Ht[0]&&t.push("\n"),Ht;case"img":var Gt=3&c.tagScope,Kt=a.src,Xt=a.srcSet;if(!("lazy"===a.loading||!Kt&&!Xt||"string"!=typeof Kt&&null!=Kt||"string"!=typeof Xt&&null!=Xt||"low"===a.fetchPriority||Gt)&&("string"!=typeof Kt||":"!==Kt[4]||"d"!==Kt[0]&&"D"!==Kt[0]||"a"!==Kt[1]&&"A"!==Kt[1]||"t"!==Kt[2]&&"T"!==Kt[2]||"a"!==Kt[3]&&"A"!==Kt[3])&&("string"!=typeof Xt||":"!==Xt[4]||"d"!==Xt[0]&&"D"!==Xt[0]||"a"!==Xt[1]&&"A"!==Xt[1]||"t"!==Xt[2]&&"T"!==Xt[2]||"a"!==Xt[3]&&"A"!==Xt[3])){null!==l&&64&c.tagScope&&(l.suspenseyImages=!0);var Qt="string"==typeof a.sizes?a.sizes:void 0,Jt=Xt?Xt+"\n"+(Qt||""):Kt,Zt=i.preloads.images,en=Zt.get(Jt);if(en)("high"===a.fetchPriority||10>i.highImagePreloads.size)&&(Zt.delete(Jt),i.highImagePreloads.add(en));else if(!s.imageResources.hasOwnProperty(Jt)){s.imageResources[Jt]=W;var tn,nn=a.crossOrigin,rn="string"==typeof nn?"use-credentials"===nn?nn:"":void 0,an=i.headers;an&&0<an.remainingCapacity&&"string"!=typeof a.srcSet&&("high"===a.fetchPriority||500>an.highImagePreloads.length)&&(tn=Ve(Kt,"image",{imageSrcSet:a.srcSet,imageSizes:a.sizes,crossOrigin:rn,integrity:a.integrity,nonce:a.nonce,type:a.type,fetchPriority:a.fetchPriority,referrerPolicy:a.refererPolicy}),0<=(an.remainingCapacity-=tn.length+2))?(i.resets.image[Jt]=W,an.highImagePreloads&&(an.highImagePreloads+=", "),an.highImagePreloads+=tn):(ce(en=[],{rel:"preload",as:"image",href:Xt?void 0:Kt,imageSrcSet:Xt,imageSizes:Qt,crossOrigin:rn,integrity:a.integrity,type:a.type,fetchPriority:a.fetchPriority,referrerPolicy:a.referrerPolicy}),"high"===a.fetchPriority||10>i.highImagePreloads.size?i.highImagePreloads.add(en):(i.bulkPreloads.add(en),Zt.set(Jt,en)))}}return he(t,a,"img");case"base":case"area":case"br":case"col":case"embed":case"hr":case"keygen":case"param":case"source":case"track":case"wbr":return he(t,a,r);case"head":if(2>c.insertionMode){var sn=o||i.preamble;if(sn.headChunks)throw Error(n(545,"`<head>`"));null!==o&&t.push("\x3c!--head--\x3e"),sn.headChunks=[];var on=fe(sn.headChunks,a,"head")}else on=ge(t,a,"head");return on;case"body":if(2>c.insertionMode){var ln=o||i.preamble;if(ln.bodyChunks)throw Error(n(545,"`<body>`"));null!==o&&t.push("\x3c!--body--\x3e"),ln.bodyChunks=[];var cn=fe(ln.bodyChunks,a,"body")}else cn=ge(t,a,"body");return cn;case"html":if(0===c.insertionMode){var dn=o||i.preamble;if(dn.htmlChunks)throw Error(n(545,"`<html>`"));null!==o&&t.push("\x3c!--html--\x3e"),dn.htmlChunks=[""];var un=fe(dn.htmlChunks,a,"html")}else un=ge(t,a,"html");return un;default:if(-1!==r.indexOf("-")){t.push(ve(r));var hn,mn=null,pn=null;for(hn in a)if(S.call(a,hn)){var fn=a[hn];if(null!=fn){var gn=hn;switch(hn){case"children":mn=fn;break;case"dangerouslySetInnerHTML":pn=fn;break;case"style":J(t,fn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"ref":break;case"className":gn="class";default:if(E(hn)&&"function"!=typeof fn&&"symbol"!=typeof fn&&!1!==fn){if(!0===fn)fn="";else if("object"==typeof fn)continue;t.push(" ",gn,'="',M(fn),'"')}}}}return t.push(">"),oe(t,pn,mn),mn}}return ge(t,a,r)}var we=new Map;function je(e){var t=we.get(e);return void 0===t&&(t="</"+e+">",we.set(e,t)),t}function Ne(e,t){null===(e=e.preamble).htmlChunks&&t.htmlChunks&&(e.htmlChunks=t.htmlChunks),null===e.headChunks&&t.headChunks&&(e.headChunks=t.headChunks),null===e.bodyChunks&&t.bodyChunks&&(e.bodyChunks=t.bodyChunks)}function ke(e,t){t=t.bootstrapChunks;for(var n=0;n<t.length-1;n++)e.push(t[n]);return!(n<t.length)||(n=t[n],t.length=0,e.push(n))}function Se(e,t,r){if(e.push('\x3c!--$?--\x3e<template id="'),null===r)throw Error(n(395));return e.push(t.boundaryPrefix),t=r.toString(16),e.push(t),e.push('"></template>')}var Ce=/[<\u2028\u2029]/g;function _e(e){return JSON.stringify(e).replace(Ce,function(e){switch(e){case"<":return"\\u003c";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:throw Error("escapeJSStringsForInstructionScripts encountered a match it does not know how to replace. this means the match regex and the replacement characters are no longer in sync. This is a bug in React")}})}var Pe=/[&><\u2028\u2029]/g;function Ee(e){return JSON.stringify(e).replace(Pe,function(e){switch(e){case"&":return"\\u0026";case">":return"\\u003e";case"<":return"\\u003c";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:throw Error("escapeJSObjectForInstructionScripts encountered a match it does not know how to replace. this means the match regex and the replacement characters are no longer in sync. This is a bug in React")}})}var De=!1,Oe=!0;function Te(e){var t=e.rules,n=e.hrefs,r=0;if(n.length){for(this.push(U.startInlineStyle),this.push(' media="not all" data-precedence="'),this.push(e.precedence),this.push('" data-href="');r<n.length-1;r++)this.push(n[r]),this.push(" ");for(this.push(n[r]),this.push('">'),r=0;r<t.length;r++)this.push(t[r]);Oe=this.push("</style>"),De=!0,t.length=0,n.length=0}}function Me(e){return 2!==e.state&&(De=!0)}function Ae(e,t,n){return De=!1,Oe=!0,U=n,t.styles.forEach(Te,e),U=null,t.stylesheets.forEach(Me),De&&(n.stylesToHoist=!0),Oe}function ze(e){for(var t=0;t<e.length;t++)this.push(e[t]);e.length=0}var Re=[];function Ie(e){ce(Re,e.props);for(var t=0;t<Re.length;t++)this.push(Re[t]);Re.length=0,e.state=2}function Fe(e){var t=0<e.sheets.size;e.sheets.forEach(Ie,this),e.sheets.clear();var n=e.rules,r=e.hrefs;if(!t||r.length){if(this.push(U.startInlineStyle),this.push(' data-precedence="'),this.push(e.precedence),e=0,r.length){for(this.push('" data-href="');e<r.length-1;e++)this.push(r[e]),this.push(" ");this.push(r[e])}for(this.push('">'),e=0;e<n.length;e++)this.push(n[e]);this.push("</style>"),n.length=0,r.length=0}}function Le(e){if(0===e.state){e.state=1;var t=e.props;for(ce(Re,{rel:"preload",as:"style",href:e.props.href,crossOrigin:t.crossOrigin,fetchPriority:t.fetchPriority,integrity:t.integrity,media:t.media,hrefLang:t.hrefLang,referrerPolicy:t.referrerPolicy}),e=0;e<Re.length;e++)this.push(Re[e]);Re.length=0}}function Be(e){e.sheets.forEach(Le,this),e.sheets.clear()}function $e(e,t){!(32&t.instructions)&&(t.instructions|=32,e.push(' id="',M("_"+t.idPrefix+"R_"),'"'))}function We(e,t,n){var r=t.toLowerCase();switch(typeof n){case"function":case"symbol":return}switch(t){case"innerHTML":case"dangerouslySetInnerHTML":case"suppressContentEditableWarning":case"suppressHydrationWarning":case"style":case"ref":return;case"className":r="class",t=""+n;break;case"hidden":if(!1===n)return;t="";break;case"src":case"href":t=""+(n=I(n));break;default:if(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])||!E(t))return;t=""+n}e.push(","),r=Ee(r),e.push(r),e.push(","),r=Ee(t),e.push(r)}function Ue(){return{styles:new Set,stylesheets:new Set,suspenseyImages:!1}}function He(e,t){null==e.crossOrigin&&(e.crossOrigin=t[0]),null==e.integrity&&(e.integrity=t[1])}function Ve(e,t,n){for(var r in t="<"+(e=(""+e).replace(qe,Ye))+'>; rel=preload; as="'+(t=(""+t).replace(Ge,Ke))+'"',n)S.call(n,r)&&("string"==typeof(e=n[r])&&(t+="; "+r.toLowerCase()+'="'+(""+e).replace(Ge,Ke)+'"'));return t}var qe=/[<>\r\n]/g;function Ye(e){switch(e){case"<":return"%3C";case">":return"%3E";case"\n":return"%0A";case"\r":return"%0D";default:throw Error("escapeLinkHrefForHeaderContextReplacer encountered a match it does not know how to replace. this means the match regex and the replacement characters are no longer in sync. This is a bug in React")}}var Ge=/["';,\r\n]/g;function Ke(e){switch(e){case'"':return"%22";case"'":return"%27";case";":return"%3B";case",":return"%2C";case"\n":return"%0A";case"\r":return"%0D";default:throw Error("escapeStringForLinkHeaderQuotedParamValueContextReplacer encountered a match it does not know how to replace. this means the match regex and the replacement characters are no longer in sync. This is a bug in React")}}function Xe(e){this.styles.add(e)}function Qe(e){this.stylesheets.add(e)}function Je(e,t){t.styles.forEach(Xe,e),t.stylesheets.forEach(Qe,e),t.suspenseyImages&&(e.suspenseyImages=!0)}function Ze(e,t,n,r){return n.generateStaticMarkup?(e.push(M(t)),!1):(""===t?e=r:(r&&e.push("\x3c!-- --\x3e"),e.push(M(t)),e=!0),e)}function et(e,t,n,r){t.generateStaticMarkup||n&&r&&e.push("\x3c!-- --\x3e")}var tt=Function.prototype.bind,nt=Symbol.for("react.client.reference");function rt(e){if(null==e)return null;if("function"==typeof e)return e.$$typeof===nt?null:e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case s:return"Fragment";case o:return"Profiler";case i:return"StrictMode";case u:return"Suspense";case h:return"SuspenseList";case g:return"Activity"}if("object"==typeof e)switch(e.$$typeof){case a:return"Portal";case c:return e.displayName||"Context";case l:return(e._context.displayName||"Context")+".Consumer";case d:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case m:return null!==(t=e.displayName||null)?t:rt(e.type)||"Memo";case p:t=e._payload,e=e._init;try{return rt(e(t))}catch(n){}}return null}var at={},st=null;function it(e,t){if(e!==t){e.context._currentValue2=e.parentValue,e=e.parent;var r=t.parent;if(null===e){if(null!==r)throw Error(n(401))}else{if(null===r)throw Error(n(401));it(e,r)}t.context._currentValue2=t.value}}function ot(e){e.context._currentValue2=e.parentValue,null!==(e=e.parent)&&ot(e)}function lt(e){var t=e.parent;null!==t&&lt(t),e.context._currentValue2=e.value}function ct(e,t){if(e.context._currentValue2=e.parentValue,null===(e=e.parent))throw Error(n(402));e.depth===t.depth?it(e,t):ct(e,t)}function dt(e,t){var r=t.parent;if(null===r)throw Error(n(402));e.depth===r.depth?it(e,r):dt(e,r),t.context._currentValue2=t.value}function ut(e){var t=st;t!==e&&(null===t?lt(e):null===e?ot(t):t.depth===e.depth?it(t,e):t.depth>e.depth?ct(t,e):dt(t,e),st=e)}var ht={enqueueSetState:function(e,t){null!==(e=e._reactInternals).queue&&e.queue.push(t)},enqueueReplaceState:function(e,t){(e=e._reactInternals).replace=!0,e.queue=[t]},enqueueForceUpdate:function(){}},mt={id:1,overflow:""};function pt(e,t,n){var r=e.id;e=e.overflow;var a=32-ft(r)-1;r&=~(1<<a),n+=1;var s=32-ft(t)+a;if(30<s){var i=a-a%5;return s=(r&(1<<i)-1).toString(32),r>>=i,a-=i,{id:1<<32-ft(t)+a|n<<a|r,overflow:s+e}}return{id:1<<s|n<<a|r,overflow:e}}var ft=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(gt(e)/xt|0)|0},gt=Math.log,xt=Math.LN2;function bt(){}var vt=Error(n(460));var yt=null;function Nt(){if(null===yt)throw Error(n(459));var e=yt;return yt=null,e}var kt="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},St=null,Ct=null,_t=null,Pt=null,Et=null,Dt=null,Ot=!1,Tt=!1,Mt=0,At=0,zt=-1,Rt=0,It=null,Ft=null,Lt=0;function Bt(){if(null===St)throw Error(n(321));return St}function $t(){if(0<Lt)throw Error(n(312));return{memoizedState:null,queue:null,next:null}}function Wt(){return null===Dt?null===Et?(Ot=!1,Et=Dt=$t()):(Ot=!0,Dt=Et):null===Dt.next?(Ot=!1,Dt=Dt.next=$t()):(Ot=!0,Dt=Dt.next),Dt}function Ut(){var e=It;return It=null,e}function Ht(){Pt=_t=Ct=St=null,Tt=!1,Et=null,Lt=0,Dt=Ft=null}function Vt(e,t){return"function"==typeof t?t(e):t}function qt(e,t,n){if(St=Bt(),Dt=Wt(),Ot){var r=Dt.queue;if(t=r.dispatch,null!==Ft&&void 0!==(n=Ft.get(r))){Ft.delete(r),r=Dt.memoizedState;do{r=e(r,n.action),n=n.next}while(null!==n);return Dt.memoizedState=r,[r,t]}return[Dt.memoizedState,t]}return e=e===Vt?"function"==typeof t?t():t:void 0!==n?n(t):t,Dt.memoizedState=e,e=(e=Dt.queue={last:null,dispatch:null}).dispatch=Gt.bind(null,St,e),[Dt.memoizedState,e]}function Yt(e,t){if(St=Bt(),t=void 0===t?null:t,null!==(Dt=Wt())){var n=Dt.memoizedState;if(null!==n&&null!==t){var r=n[1];e:if(null===r)r=!1;else{for(var a=0;a<r.length&&a<t.length;a++)if(!kt(t[a],r[a])){r=!1;break e}r=!0}if(r)return n[0]}}return e=e(),Dt.memoizedState=[e,t],e}function Gt(e,t,r){if(25<=Lt)throw Error(n(301));if(e===St)if(Tt=!0,e={action:r,next:null},null===Ft&&(Ft=new Map),void 0===(r=Ft.get(t)))Ft.set(t,e);else{for(t=r;null!==t.next;)t=t.next;t.next=e}}function Kt(){throw Error(n(440))}function Xt(){throw Error(n(394))}function Qt(){throw Error(n(479))}function Jt(e,t,n){Bt();var r=At++,a=_t;if("function"==typeof e.$$FORM_ACTION){var s=null,i=Pt;a=a.formState;var o=e.$$IS_SIGNATURE_EQUAL;if(null!==a&&"function"==typeof o){var l=a[1];o.call(e,a[2],a[3])&&(l===(s=void 0!==n?"p"+n:"k"+N(JSON.stringify([i,null,r]),0))&&(zt=r,t=a[0]))}var c=e.bind(null,t);return e=function(e){c(e)},"function"==typeof c.$$FORM_ACTION&&(e.$$FORM_ACTION=function(e){e=c.$$FORM_ACTION(e),void 0!==n&&(n+="",e.action=n);var t=e.data;return t&&(null===s&&(s=void 0!==n?"p"+n:"k"+N(JSON.stringify([i,null,r]),0)),t.append("$ACTION_KEY",s)),e}),[t,e,!1]}var d=e.bind(null,t);return[t,function(e){d(e)},!1]}function Zt(e){var t=Rt;return Rt+=1,null===It&&(It=[]),function(e,t,n){switch(void 0===(n=e[n])?e.push(t):n!==t&&(t.then(bt,bt),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw t.reason;default:switch("string"==typeof t.status?t.then(bt,bt):((e=t).status="pending",e.then(function(e){if("pending"===t.status){var n=t;n.status="fulfilled",n.value=e}},function(e){if("pending"===t.status){var n=t;n.status="rejected",n.reason=e}})),t.status){case"fulfilled":return t.value;case"rejected":throw t.reason}throw yt=t,vt}}(It,e,t)}function en(){throw Error(n(393))}var tn,nn,rn={readContext:function(e){return e._currentValue2},use:function(e){if(null!==e&&"object"==typeof e){if("function"==typeof e.then)return Zt(e);if(e.$$typeof===c)return e._currentValue2}throw Error(n(438,String(e)))},useContext:function(e){return Bt(),e._currentValue2},useMemo:Yt,useReducer:qt,useRef:function(e){St=Bt();var t=(Dt=Wt()).memoizedState;return null===t?(e={current:e},Dt.memoizedState=e):t},useState:function(e){return qt(Vt,e)},useInsertionEffect:bt,useLayoutEffect:bt,useCallback:function(e,t){return Yt(function(){return e},t)},useImperativeHandle:bt,useEffect:bt,useDebugValue:bt,useDeferredValue:function(e,t){return Bt(),void 0!==t?t:e},useTransition:function(){return Bt(),[!1,Xt]},useId:function(){var e=Ct.treeContext,t=e.overflow;e=((e=e.id)&~(1<<32-ft(e)-1)).toString(32)+t;var r=an;if(null===r)throw Error(n(404));return t=Mt++,e="_"+r.idPrefix+"R_"+e,0<t&&(e+="H"+t.toString(32)),e+"_"},useSyncExternalStore:function(e,t,r){if(void 0===r)throw Error(n(407));return r()},useOptimistic:function(e){return Bt(),[e,Qt]},useActionState:Jt,useFormState:Jt,useHostTransitionStatus:function(){return Bt(),B},useMemoCache:function(e){for(var t=Array(e),n=0;n<e;n++)t[n]=b;return t},useCacheRefresh:function(){return en},useEffectEvent:function(){return Kt}},an=null,sn={getCacheForType:function(){throw Error(n(248))},cacheSignal:function(){throw Error(n(248))}};function on(e){if(void 0===tn)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);tn=t&&t[1]||"",nn=-1<n.stack.indexOf("\n    at")?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return"\n"+tn+e+nn}var ln=!1;function cn(e,t){if(!e||ln)return"";ln=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(t){var n=function(){throw Error()};if(Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(n,[])}catch(a){var r=a}Reflect.construct(e,[],n)}else{try{n.call()}catch(s){r=s}e.call(n.prototype)}}else{try{throw Error()}catch(i){r=i}(n=e())&&"function"==typeof n.catch&&n.catch(function(){})}}catch(o){if(o&&r&&"string"==typeof o.stack)return[o.stack,r.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var a=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");a&&a.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var s=r.DetermineComponentFrameRoot(),i=s[0],o=s[1];if(i&&o){var l=i.split("\n"),c=o.split("\n");for(a=r=0;r<l.length&&!l[r].includes("DetermineComponentFrameRoot");)r++;for(;a<c.length&&!c[a].includes("DetermineComponentFrameRoot");)a++;if(r===l.length||a===c.length)for(r=l.length-1,a=c.length-1;1<=r&&0<=a&&l[r]!==c[a];)a--;for(;1<=r&&0<=a;r--,a--)if(l[r]!==c[a]){if(1!==r||1!==a)do{if(r--,0>--a||l[r]!==c[a]){var d="\n"+l[r].replace(" at new "," at ");return e.displayName&&d.includes("<anonymous>")&&(d=d.replace("<anonymous>",e.displayName)),d}}while(1<=r&&0<=a);break}}}finally{ln=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?on(n):""}function dn(e){if("string"==typeof e)return on(e);if("function"==typeof e)return e.prototype&&e.prototype.isReactComponent?cn(e,!0):cn(e,!1);if("object"==typeof e&&null!==e){switch(e.$$typeof){case d:return cn(e.render,!1);case m:return cn(e.type,!1);case p:var t=e,n=t._payload;t=t._init;try{e=t(n)}catch(a){return on("Lazy")}return dn(e)}if("string"==typeof e.name){n=e.name,t=e.env;var r=e.debugLocation;return n=null==r||(e=Error.prepareStackTrace,Error.prepareStackTrace=void 0,r=r.stack,Error.prepareStackTrace=e,r.startsWith("Error: react-stack-top-frame\n")&&(r=r.slice(29)),-1!==(e=r.indexOf("\n"))&&(r=r.slice(e+1)),-1!==(e=r.indexOf("react_stack_bottom_frame"))&&(e=r.lastIndexOf("\n",e)),e=-1!==e?r=r.slice(0,e):"",r=e.lastIndexOf("\n"),-1===(e=-1===r?e:e.slice(r+1)).indexOf(n))?on(n+(t?" ["+t+"]":"")):"\n"+e}}switch(e){case h:return on("SuspenseList");case u:return on("Suspense")}return""}function un(e,t){return 500<t.byteSize&&null===t.contentPreamble}function hn(e){if("object"==typeof e&&null!==e&&"string"==typeof e.environmentName){var t=e.environmentName;"string"==typeof(e=[e].slice(0))[0]?e.splice(0,1,"[%s] "+e[0]," "+t+" "):e.splice(0,0,"[%s]"," "+t+" "),e.unshift(console),(t=tt.apply(console.error,e))()}return null}function mn(e,t,n,r,a,s,i,o,l,c,d){var u=new Set;this.destination=null,this.flushScheduled=!1,this.resumableState=e,this.renderState=t,this.rootFormatContext=n,this.progressiveChunkSize=void 0===r?12800:r,this.status=10,this.fatalError=null,this.pendingRootTasks=this.allPendingTasks=this.nextSegmentId=0,this.completedPreambleSegments=this.completedRootSegment=null,this.byteSize=0,this.abortableTasks=u,this.pingedTasks=[],this.clientRenderedBoundaries=[],this.completedBoundaries=[],this.partialBoundaries=[],this.trackedPostpones=null,this.onError=void 0===a?hn:a,this.onPostpone=void 0===c?bt:c,this.onAllReady=void 0===s?bt:s,this.onShellReady=void 0===i?bt:i,this.onShellError=void 0===o?bt:o,this.onFatalError=void 0===l?bt:l,this.formState=void 0===d?null:d}var pn=null;function fn(e,t){e.pingedTasks.push(t),1===e.pingedTasks.length&&(e.flushScheduled=null!==e.destination,Qn(e))}function gn(e,t,n,r,a){return n={status:0,rootSegmentID:-1,parentFlushed:!1,pendingTasks:0,row:t,completedSegments:[],byteSize:0,fallbackAbortableTasks:n,errorDigest:null,contentState:Ue(),fallbackState:Ue(),contentPreamble:r,fallbackPreamble:a,trackedContentKeyPath:null,trackedFallbackNode:null},null!==t&&(t.pendingTasks++,null!==(r=t.boundaries)&&(e.allPendingTasks++,n.pendingTasks++,r.push(n)),null!==(e=t.inheritedHoistables)&&Je(n.contentState,e)),n}function xn(e,t,n,r,a,s,i,o,l,c,d,u,h,m,p){e.allPendingTasks++,null===a?e.pendingRootTasks++:a.pendingTasks++,null!==m&&m.pendingTasks++;var f={replay:null,node:n,childIndex:r,ping:function(){return fn(e,f)},blockedBoundary:a,blockedSegment:s,blockedPreamble:i,hoistableState:o,abortSet:l,keyPath:c,formatContext:d,context:u,treeContext:h,row:m,componentStack:p,thenableState:t};return l.add(f),f}function bn(e,t,n,r,a,s,i,o,l,c,d,u,h,m){e.allPendingTasks++,null===s?e.pendingRootTasks++:s.pendingTasks++,null!==h&&h.pendingTasks++,n.pendingTasks++;var p={replay:n,node:r,childIndex:a,ping:function(){return fn(e,p)},blockedBoundary:s,blockedSegment:null,blockedPreamble:null,hoistableState:i,abortSet:o,keyPath:l,formatContext:c,context:d,treeContext:u,row:h,componentStack:m,thenableState:t};return o.add(p),p}function vn(e,t,n,r,a,s){return{status:0,parentFlushed:!1,id:-1,index:t,chunks:[],children:[],preambleChildren:[],parentFormatContext:r,boundary:n,lastPushedText:a,textEmbedded:s}}function yn(e){var t=e.node;if("object"==typeof t&&null!==t&&t.$$typeof===r)e.componentStack={parent:e.componentStack,type:t.type}}function wn(e){return null===e?null:{parent:e.parent,type:"Suspense Fallback"}}function jn(e){var t={};return e&&Object.defineProperty(t,"componentStack",{configurable:!0,enumerable:!0,get:function(){try{var n="",r=e;do{n+=dn(r.type),r=r.parent}while(r);var a=n}catch(s){a="\nError generating stack: "+s.message+"\n"+s.stack}return Object.defineProperty(t,"componentStack",{value:a}),a}}),t}function Nn(e,t,n){if(null==(t=(e=e.onError)(t,n))||"string"==typeof t)return t}function kn(e,t){var n=e.onShellError,r=e.onFatalError;n(t),r(t),null!==e.destination?(e.status=14,e.destination.destroy(t)):(e.status=13,e.fatalError=t)}function Sn(e,t){Cn(e,t.next,t.hoistables)}function Cn(e,t,n){for(;null!==t;){null!==n&&(Je(t.hoistables,n),t.inheritedHoistables=n);var r=t.boundaries;if(null!==r){t.boundaries=null;for(var a=0;a<r.length;a++){var s=r[a];null!==n&&Je(s.contentState,n),Xn(e,s,null,null)}}if(t.pendingTasks--,0<t.pendingTasks)break;n=t.hoistables,t=t.next}}function _n(e,t){var n=t.boundaries;if(null!==n&&t.pendingTasks===n.length){for(var r=!0,a=0;a<n.length;a++){var s=n[a];if(1!==s.pendingTasks||s.parentFlushed||un(0,s)){r=!1;break}}r&&Cn(e,t,t.hoistables)}}function Pn(e){var t={pendingTasks:1,boundaries:null,hoistables:Ue(),inheritedHoistables:null,together:!1,next:null};return null!==e&&0<e.pendingTasks&&(t.pendingTasks++,t.boundaries=[],e.next=t),t}function En(e,t,n,r,a){var s=t.keyPath,i=t.treeContext,o=t.row;t.keyPath=n,n=r.length;var l=null;if(null!==t.replay){var c=t.replay.slots;if(null!==c&&"object"==typeof c)for(var d=0;d<n;d++){var u="backwards"!==a&&"unstable_legacy-backwards"!==a?d:n-1-d,h=r[u];t.row=l=Pn(l),t.treeContext=pt(i,n,u);var m=c[u];"number"==typeof m?(Mn(e,t,m,h,u),delete c[u]):Wn(e,t,h,u),0===--l.pendingTasks&&Sn(e,l)}else for(c=0;c<n;c++)u=r[d="backwards"!==a&&"unstable_legacy-backwards"!==a?c:n-1-c],t.row=l=Pn(l),t.treeContext=pt(i,n,d),Wn(e,t,u,d),0===--l.pendingTasks&&Sn(e,l)}else if("backwards"!==a&&"unstable_legacy-backwards"!==a)for(a=0;a<n;a++)c=r[a],t.row=l=Pn(l),t.treeContext=pt(i,n,a),Wn(e,t,c,a),0===--l.pendingTasks&&Sn(e,l);else{for(c=(a=t.blockedSegment).children.length,d=a.chunks.length,u=n-1;0<=u;u--){h=r[u],t.row=l=Pn(l),t.treeContext=pt(i,n,u),m=vn(0,d,null,t.formatContext,0!==u||a.lastPushedText,!0),a.children.splice(c,0,m),t.blockedSegment=m;try{Wn(e,t,h,u),et(m.chunks,e.renderState,m.lastPushedText,m.textEmbedded),m.status=1,0===--l.pendingTasks&&Sn(e,l)}catch(p){throw m.status=12===e.status?3:4,p}}t.blockedSegment=a,a.lastPushedText=!1}null!==o&&null!==l&&0<l.pendingTasks&&(o.pendingTasks++,l.next=o),t.treeContext=i,t.row=o,t.keyPath=s}function Dn(e,t,n,r,a,s){var i=t.thenableState;for(t.thenableState=null,St={},Ct=t,_t=e,Pt=n,At=Mt=0,zt=-1,Rt=0,It=i,e=r(a,s);Tt;)Tt=!1,At=Mt=0,zt=-1,Rt=0,Lt+=1,Dt=null,e=r(a,s);return Ht(),e}function On(e,t,n,r,a,s,i){var o=!1;if(0!==s&&null!==e.formState){var l=t.blockedSegment;if(null!==l){o=!0,l=l.chunks;for(var c=0;c<s;c++)c===i?l.push("\x3c!--F!--\x3e"):l.push("\x3c!--F--\x3e")}}s=t.keyPath,t.keyPath=n,a?(n=t.treeContext,t.treeContext=pt(n,1,0),Wn(e,t,r,-1),t.treeContext=n):o?Wn(e,t,r,-1):An(e,t,r,-1),t.keyPath=s}function Tn(e,t,r,a,b,y){if("function"==typeof a)if(a.prototype&&a.prototype.isReactComponent){var N=b;if("ref"in b)for(var S in N={},b)"ref"!==S&&(N[S]=b[S]);var C=a.defaultProps;if(C)for(var _ in N===b&&(N=k({},N,b)),C)void 0===N[_]&&(N[_]=C[_]);b=N,N=at,"object"==typeof(C=a.contextType)&&null!==C&&(N=C._currentValue2);var P=void 0!==(N=new a(b,N)).state?N.state:null;if(N.updater=ht,N.props=b,N.state=P,C={queue:[],replace:!1},N._reactInternals=C,y=a.contextType,N.context="object"==typeof y&&null!==y?y._currentValue2:at,"function"==typeof(y=a.getDerivedStateFromProps)&&(P=null==(y=y(b,P))?P:k({},P,y),N.state=P),"function"!=typeof a.getDerivedStateFromProps&&"function"!=typeof N.getSnapshotBeforeUpdate&&("function"==typeof N.UNSAFE_componentWillMount||"function"==typeof N.componentWillMount))if(a=N.state,"function"==typeof N.componentWillMount&&N.componentWillMount(),"function"==typeof N.UNSAFE_componentWillMount&&N.UNSAFE_componentWillMount(),a!==N.state&&ht.enqueueReplaceState(N,N.state,null),null!==C.queue&&0<C.queue.length)if(a=C.queue,y=C.replace,C.queue=null,C.replace=!1,y&&1===a.length)N.state=a[0];else{for(C=y?a[0]:N.state,P=!0,y=y?1:0;y<a.length;y++)null!=(_="function"==typeof(_=a[y])?_.call(N,C,b,void 0):_)&&(P?(P=!1,C=k({},C,_)):k(C,_));N.state=C}else C.queue=null;if(a=N.render(),12===e.status)throw null;b=t.keyPath,t.keyPath=r,An(e,t,a,-1),t.keyPath=b}else{if(a=Dn(e,t,r,a,b,void 0),12===e.status)throw null;On(e,t,r,a,0!==Mt,At,zt)}else{if("string"!=typeof a){switch(a){case x:case i:case o:case s:return a=t.keyPath,t.keyPath=r,An(e,t,b.children,-1),void(t.keyPath=a);case g:return void(null===(a=t.blockedSegment)?"hidden"!==b.mode&&(a=t.keyPath,t.keyPath=r,Wn(e,t,b.children,-1),t.keyPath=a):"hidden"!==b.mode&&(e.renderState.generateStaticMarkup||a.chunks.push("\x3c!--&--\x3e"),a.lastPushedText=!1,N=t.keyPath,t.keyPath=r,Wn(e,t,b.children,-1),t.keyPath=N,e.renderState.generateStaticMarkup||a.chunks.push("\x3c!--/&--\x3e"),a.lastPushedText=!1));case h:e:{if(a=b.children,"forwards"===(b=b.revealOrder)||"backwards"===b||"unstable_legacy-backwards"===b){if(j(a)){En(e,t,r,a,b);break e}if((N=w(a))&&(N=N.call(a))){if(!(C=N.next()).done){do{C=N.next()}while(!C.done);En(e,t,r,a,b)}break e}}"together"===b?(b=t.keyPath,N=t.row,(C=t.row=Pn(null)).boundaries=[],C.together=!0,t.keyPath=r,An(e,t,a,-1),0===--C.pendingTasks&&Sn(e,C),t.keyPath=b,t.row=N,null!==N&&0<C.pendingTasks&&(N.pendingTasks++,C.next=N)):(b=t.keyPath,t.keyPath=r,An(e,t,a,-1),t.keyPath=b)}return;case v:case f:throw Error(n(343));case u:e:if(null!==t.replay){a=t.keyPath,N=t.formatContext,C=t.row,t.keyPath=r,t.formatContext=X(e.resumableState,N),t.row=null,r=b.children;try{Wn(e,t,r,-1)}finally{t.keyPath=a,t.formatContext=N,t.row=C}}else{a=t.keyPath,y=t.formatContext;var E=t.row,D=t.blockedBoundary;_=t.blockedPreamble;var O=t.hoistableState;S=t.blockedSegment;var T=b.fallback;b=b.children;var M=new Set,A=gn(e,t.row,M,null,null);null!==e.trackedPostpones&&(A.trackedContentKeyPath=r);var z=vn(0,S.chunks.length,A,t.formatContext,!1,!1);S.children.push(z),S.lastPushedText=!1;var R=vn(0,0,null,t.formatContext,!1,!1);if(R.parentFlushed=!0,null!==e.trackedPostpones){N=t.componentStack,P=[(C=[r[0],"Suspense Fallback",r[2]])[1],C[2],[],null],e.trackedPostpones.workingMap.set(C,P),A.trackedFallbackNode=P,t.blockedSegment=z,t.blockedPreamble=A.fallbackPreamble,t.keyPath=C,t.formatContext=K(e.resumableState,y),t.componentStack=wn(N),z.status=6;try{Wn(e,t,T,-1),et(z.chunks,e.renderState,z.lastPushedText,z.textEmbedded),z.status=1}catch(I){throw z.status=12===e.status?3:4,I}finally{t.blockedSegment=S,t.blockedPreamble=_,t.keyPath=a,t.formatContext=y}yn(t=xn(e,null,b,-1,A,R,A.contentPreamble,A.contentState,t.abortSet,r,X(e.resumableState,t.formatContext),t.context,t.treeContext,null,N)),e.pingedTasks.push(t)}else{t.blockedBoundary=A,t.blockedPreamble=A.contentPreamble,t.hoistableState=A.contentState,t.blockedSegment=R,t.keyPath=r,t.formatContext=X(e.resumableState,y),t.row=null,R.status=6;try{if(Wn(e,t,b,-1),et(R.chunks,e.renderState,R.lastPushedText,R.textEmbedded),R.status=1,Kn(A,R),0===A.pendingTasks&&0===A.status){if(A.status=1,!un(0,A)){null!==E&&0===--E.pendingTasks&&Sn(e,E),0===e.pendingRootTasks&&t.blockedPreamble&&er(e);break e}}else null!==E&&E.together&&_n(e,E)}catch(F){A.status=4,12===e.status?(R.status=3,N=e.fatalError):(R.status=4,N=F),P=Nn(e,N,C=jn(t.componentStack)),A.errorDigest=P,Ln(e,A)}finally{t.blockedBoundary=D,t.blockedPreamble=_,t.hoistableState=O,t.blockedSegment=S,t.keyPath=a,t.formatContext=y,t.row=E}yn(t=xn(e,null,T,-1,D,z,A.fallbackPreamble,A.fallbackState,M,[r[0],"Suspense Fallback",r[2]],K(e.resumableState,t.formatContext),t.context,t.treeContext,t.row,wn(t.componentStack))),e.pingedTasks.push(t)}}return}if("object"==typeof a&&null!==a)switch(a.$$typeof){case d:if("ref"in b)for(T in N={},b)"ref"!==T&&(N[T]=b[T]);else N=b;return void On(e,t,r,a=Dn(e,t,r,a.render,N,y),0!==Mt,At,zt);case m:return void Tn(e,t,r,a.type,b,y);case c:if(C=b.children,N=t.keyPath,b=b.value,P=a._currentValue2,a._currentValue2=b,st=a={parent:y=st,depth:null===y?0:y.depth+1,context:a,parentValue:P,value:b},t.context=a,t.keyPath=r,An(e,t,C,-1),null===(e=st))throw Error(n(403));return e.context._currentValue2=e.parentValue,e=st=e.parent,t.context=e,void(t.keyPath=N);case l:return a=(b=b.children)(a._context._currentValue2),b=t.keyPath,t.keyPath=r,An(e,t,a,-1),void(t.keyPath=b);case p:if(a=(N=a._init)(a._payload),12===e.status)throw null;return void Tn(e,t,r,a,b,y)}throw Error(n(130,null==a?a:typeof a,""))}if(null===(N=t.blockedSegment))N=b.children,C=t.formatContext,P=t.keyPath,t.formatContext=Y(C,a,b),t.keyPath=r,Wn(e,t,N,-1),t.formatContext=C,t.keyPath=P;else{if(P=ye(N.chunks,a,b,e.resumableState,e.renderState,t.blockedPreamble,t.hoistableState,t.formatContext,N.lastPushedText),N.lastPushedText=!1,C=t.formatContext,y=t.keyPath,t.keyPath=r,3===(t.formatContext=Y(C,a,b)).insertionMode){r=vn(0,0,null,t.formatContext,!1,!1),N.preambleChildren.push(r),t.blockedSegment=r;try{r.status=6,Wn(e,t,P,-1),et(r.chunks,e.renderState,r.lastPushedText,r.textEmbedded),r.status=1}finally{t.blockedSegment=N}}else Wn(e,t,P,-1);t.formatContext=C,t.keyPath=y;e:{switch(t=N.chunks,e=e.resumableState,a){case"title":case"style":case"script":case"area":case"base":case"br":case"col":case"embed":case"hr":case"img":case"input":case"keygen":case"link":case"meta":case"param":case"source":case"track":case"wbr":break e;case"body":if(1>=C.insertionMode){e.hasBody=!0;break e}break;case"html":if(0===C.insertionMode){e.hasHtml=!0;break e}break;case"head":if(1>=C.insertionMode)break e}t.push(je(a))}N.lastPushedText=!1}}}function Mn(e,t,n,r,a){var s=t.replay,i=t.blockedBoundary,o=vn(0,0,null,t.formatContext,!1,!1);o.id=n,o.parentFlushed=!0;try{t.replay=null,t.blockedSegment=o,Wn(e,t,r,a),o.status=1,null===i?e.completedRootSegment=o:(Kn(i,o),i.parentFlushed&&e.partialBoundaries.push(i))}finally{t.replay=s,t.blockedSegment=null}}function An(e,t,n,r){null!==t.replay&&"number"==typeof t.replay.slots?Mn(e,t,t.replay.slots,n,r):(t.node=n,t.childIndex=r,n=t.componentStack,yn(t),zn(e,t),t.componentStack=n)}function zn(e,t){var s=t.node,i=t.childIndex;if(null!==s){if("object"==typeof s){switch(s.$$typeof){case r:var o=s.type,l=s.key,d=s.props,h=void 0!==(s=d.ref)?s:null,m=rt(o),f=null==l?-1===i?0:i:l;if(l=[t.keyPath,m,f],null!==t.replay)e:{var g=t.replay;for(i=g.nodes,s=0;s<i.length;s++){var x=i[s];if(f===x[1]){if(4===x.length){if(null!==m&&m!==x[0])throw Error(n(490,x[0],m));var b=x[2];m=x[3],f=t.node,t.replay={nodes:b,slots:m,pendingTasks:1};try{if(Tn(e,t,l,o,d,h),1===t.replay.pendingTasks&&0<t.replay.nodes.length)throw Error(n(488));t.replay.pendingTasks--}catch(D){if("object"==typeof D&&null!==D&&(D===vt||"function"==typeof D.then))throw t.node===f?t.replay=g:i.splice(s,1),D;t.replay.pendingTasks--,d=jn(t.componentStack),Hn(l=e,e=t.blockedBoundary,b,m,o=D,d=Nn(l,o,d))}t.replay=g}else{if(o!==u)throw Error(n(490,"Suspense",rt(o)||"Unknown"));t:{g=void 0,o=x[5],h=x[2],m=x[3],f=null===x[4]?[]:x[4][2],x=null===x[4]?null:x[4][3];var v=t.keyPath,y=t.formatContext,N=t.row,k=t.replay,S=t.blockedBoundary,C=t.hoistableState,_=d.children,P=d.fallback,E=new Set;(d=gn(e,t.row,E,null,null)).parentFlushed=!0,d.rootSegmentID=o,t.blockedBoundary=d,t.hoistableState=d.contentState,t.keyPath=l,t.formatContext=X(e.resumableState,y),t.row=null,t.replay={nodes:h,slots:m,pendingTasks:1};try{if(Wn(e,t,_,-1),1===t.replay.pendingTasks&&0<t.replay.nodes.length)throw Error(n(488));if(t.replay.pendingTasks--,0===d.pendingTasks&&0===d.status){d.status=1,e.completedBoundaries.push(d);break t}}catch(O){d.status=4,g=Nn(e,O,b=jn(t.componentStack)),d.errorDigest=g,t.replay.pendingTasks--,e.clientRenderedBoundaries.push(d)}finally{t.blockedBoundary=S,t.hoistableState=C,t.replay=k,t.keyPath=v,t.formatContext=y,t.row=N}yn(b=bn(e,null,{nodes:f,slots:x,pendingTasks:0},P,-1,S,d.fallbackState,E,[l[0],"Suspense Fallback",l[2]],K(e.resumableState,t.formatContext),t.context,t.treeContext,t.row,wn(t.componentStack))),e.pingedTasks.push(b)}}i.splice(s,1);break e}}}else Tn(e,t,l,o,d,h);return;case a:throw Error(n(257));case p:if(s=(b=s._init)(s._payload),12===e.status)throw null;return void An(e,t,s,i)}if(j(s))return void Rn(e,t,s,i);if((b=w(s))&&(b=b.call(s))){if(!(s=b.next()).done){d=[];do{d.push(s.value),s=b.next()}while(!s.done);Rn(e,t,d,i)}return}if("function"==typeof s.then)return t.thenableState=null,An(e,t,Zt(s),i);if(s.$$typeof===c)return An(e,t,s._currentValue2,i);throw i=Object.prototype.toString.call(s),Error(n(31,"[object Object]"===i?"object with keys {"+Object.keys(s).join(", ")+"}":i))}"string"==typeof s?null!==(i=t.blockedSegment)&&(i.lastPushedText=Ze(i.chunks,s,e.renderState,i.lastPushedText)):"number"!=typeof s&&"bigint"!=typeof s||null!==(i=t.blockedSegment)&&(i.lastPushedText=Ze(i.chunks,""+s,e.renderState,i.lastPushedText))}}function Rn(e,t,r,a){var s=t.keyPath;if(-1===a||(t.keyPath=[t.keyPath,"Fragment",a],null===t.replay)){if(i=t.treeContext,o=r.length,null!==t.replay&&(null!==(l=t.replay.slots)&&"object"==typeof l)){for(a=0;a<o;a++)c=r[a],t.treeContext=pt(i,o,a),"number"==typeof(d=l[a])?(Mn(e,t,d,c,a),delete l[a]):Wn(e,t,c,a);return t.treeContext=i,void(t.keyPath=s)}for(l=0;l<o;l++)a=r[l],t.treeContext=pt(i,o,l),Wn(e,t,a,l);t.treeContext=i,t.keyPath=s}else{for(var i=t.replay,o=i.nodes,l=0;l<o.length;l++){var c=o[l];if(c[1]===a){a=c[2],c=c[3],t.replay={nodes:a,slots:c,pendingTasks:1};try{if(Rn(e,t,r,-1),1===t.replay.pendingTasks&&0<t.replay.nodes.length)throw Error(n(488));t.replay.pendingTasks--}catch(u){if("object"==typeof u&&null!==u&&(u===vt||"function"==typeof u.then))throw u;t.replay.pendingTasks--,r=jn(t.componentStack);var d=t.blockedBoundary;Hn(e,d,a,c,u,r=Nn(e,u,r))}t.replay=i,o.splice(l,1);break}}t.keyPath=s}}function In(e,t,r){if(r.status=5,r.rootSegmentID=e.nextSegmentId++,null===(e=r.trackedContentKeyPath))throw Error(n(486));var a=r.trackedFallbackNode,s=t.workingMap.get(e);return void 0===s?(r=[e[1],e[2],[],null,a,r.rootSegmentID],t.workingMap.set(e,r),ur(r,e[0],t),r):(s[4]=a,s[5]=r.rootSegmentID,s)}function Fn(e,t,r,a){a.status=5;var s=r.keyPath,i=r.blockedBoundary;if(null===i)a.id=e.nextSegmentId++,t.rootSlots=a.id,null!==e.completedRootSegment&&(e.completedRootSegment.status=5);else{if(null!==i&&0===i.status){var o=In(e,t,i);if(i.trackedContentKeyPath===s&&-1===r.childIndex)return-1===a.id&&(a.id=a.parentFlushed?i.rootSegmentID:e.nextSegmentId++),void(o[3]=a.id)}if(-1===a.id&&(a.id=a.parentFlushed&&null!==i?i.rootSegmentID:e.nextSegmentId++),-1===r.childIndex)null===s?t.rootSlots=a.id:void 0===(r=t.workingMap.get(s))?ur(r=[s[1],s[2],[],a.id],s[0],t):r[3]=a.id;else{if(null===s){if(null===(e=t.rootSlots))e=t.rootSlots={};else if("number"==typeof e)throw Error(n(491))}else if(void 0===(o=(i=t.workingMap).get(s)))e={},o=[s[1],s[2],[],e],i.set(s,o),ur(o,s[0],t);else if(null===(e=o[3]))e=o[3]={};else if("number"==typeof e)throw Error(n(491));e[r.childIndex]=a.id}}}function Ln(e,t){null!==(e=e.trackedPostpones)&&(null!==(t=t.trackedContentKeyPath)&&(void 0!==(t=e.workingMap.get(t))&&(t.length=4,t[2]=[],t[3]=null)))}function Bn(e,t,n){return bn(e,n,t.replay,t.node,t.childIndex,t.blockedBoundary,t.hoistableState,t.abortSet,t.keyPath,t.formatContext,t.context,t.treeContext,t.row,t.componentStack)}function $n(e,t,n){var r=t.blockedSegment,a=vn(0,r.chunks.length,null,t.formatContext,r.lastPushedText,!0);return r.children.push(a),r.lastPushedText=!1,xn(e,n,t.node,t.childIndex,t.blockedBoundary,a,t.blockedPreamble,t.hoistableState,t.abortSet,t.keyPath,t.formatContext,t.context,t.treeContext,t.row,t.componentStack)}function Wn(e,t,n,r){var a=t.formatContext,s=t.context,i=t.keyPath,o=t.treeContext,l=t.componentStack,c=t.blockedSegment;if(null===c){c=t.replay;try{return An(e,t,n,r)}catch(h){if(Ht(),n=h===vt?Nt():h,12!==e.status&&"object"==typeof n&&null!==n){if("function"==typeof n.then)return e=Bn(e,t,r=h===vt?Ut():null).ping,n.then(e,e),t.formatContext=a,t.context=s,t.keyPath=i,t.treeContext=o,t.componentStack=l,t.replay=c,void ut(s);if("Maximum call stack size exceeded"===n.message)return n=Bn(e,t,n=h===vt?Ut():null),e.pingedTasks.push(n),t.formatContext=a,t.context=s,t.keyPath=i,t.treeContext=o,t.componentStack=l,t.replay=c,void ut(s)}}}else{var d=c.children.length,u=c.chunks.length;try{return An(e,t,n,r)}catch(m){if(Ht(),c.children.length=d,c.chunks.length=u,n=m===vt?Nt():m,12!==e.status&&"object"==typeof n&&null!==n){if("function"==typeof n.then)return c=n,e=$n(e,t,n=m===vt?Ut():null).ping,c.then(e,e),t.formatContext=a,t.context=s,t.keyPath=i,t.treeContext=o,t.componentStack=l,void ut(s);if("Maximum call stack size exceeded"===n.message)return c=$n(e,t,c=m===vt?Ut():null),e.pingedTasks.push(c),t.formatContext=a,t.context=s,t.keyPath=i,t.treeContext=o,t.componentStack=l,void ut(s)}}}throw t.formatContext=a,t.context=s,t.keyPath=i,t.treeContext=o,ut(s),n}function Un(e){var t=e.blockedBoundary,n=e.blockedSegment;null!==n&&(n.status=3,Xn(this,t,e.row,n))}function Hn(e,t,r,a,s,i){for(var o=0;o<r.length;o++){var l=r[o];if(4===l.length)Hn(e,t,l[2],l[3],s,i);else{l=l[5];var c=e,d=i,u=gn(c,null,new Set,null,null);u.parentFlushed=!0,u.rootSegmentID=l,u.status=4,u.errorDigest=d,u.parentFlushed&&c.clientRenderedBoundaries.push(u)}}if(r.length=0,null!==a){if(null===t)throw Error(n(487));if(4!==t.status&&(t.status=4,t.errorDigest=i,t.parentFlushed&&e.clientRenderedBoundaries.push(t)),"object"==typeof a)for(var h in a)delete a[h]}}function Vn(e,t,n){var r=e.blockedBoundary,a=e.blockedSegment;if(null!==a){if(6===a.status)return;a.status=3}var s=jn(e.componentStack);if(null===r){if(13!==t.status&&14!==t.status){if(null===(r=e.replay))return void(null!==t.trackedPostpones&&null!==a?(r=t.trackedPostpones,Nn(t,n,s),Fn(t,r,e,a),Xn(t,null,e.row,a)):(Nn(t,n,s),kn(t,n)));r.pendingTasks--,0===r.pendingTasks&&0<r.nodes.length&&(a=Nn(t,n,s),Hn(t,null,r.nodes,r.slots,n,a)),t.pendingRootTasks--,0===t.pendingRootTasks&&Yn(t)}}else{var i=t.trackedPostpones;if(4!==r.status){if(null!==i&&null!==a)return Nn(t,n,s),Fn(t,i,e,a),r.fallbackAbortableTasks.forEach(function(e){return Vn(e,t,n)}),r.fallbackAbortableTasks.clear(),Xn(t,r,e.row,a);r.status=4,a=Nn(t,n,s),r.status=4,r.errorDigest=a,Ln(t,r),r.parentFlushed&&t.clientRenderedBoundaries.push(r)}r.pendingTasks--,null!==(a=r.row)&&0===--a.pendingTasks&&Sn(t,a),r.fallbackAbortableTasks.forEach(function(e){return Vn(e,t,n)}),r.fallbackAbortableTasks.clear()}null!==(e=e.row)&&0===--e.pendingTasks&&Sn(t,e),t.allPendingTasks--,0===t.allPendingTasks&&Gn(t)}function qn(e,t){try{var n=e.renderState,r=n.onHeaders;if(r){var a=n.headers;if(a){n.headers=null;var s=a.preconnects;if(a.fontPreloads&&(s&&(s+=", "),s+=a.fontPreloads),a.highImagePreloads&&(s&&(s+=", "),s+=a.highImagePreloads),!t){var i=n.styles.values(),o=i.next();e:for(;0<a.remainingCapacity&&!o.done;o=i.next())for(var l=o.value.sheets.values(),c=l.next();0<a.remainingCapacity&&!c.done;c=l.next()){var d=c.value,u=d.props,h=u.href,m=d.props,p=Ve(m.href,"style",{crossOrigin:m.crossOrigin,integrity:m.integrity,nonce:m.nonce,type:m.type,fetchPriority:m.fetchPriority,referrerPolicy:m.referrerPolicy,media:m.media});if(!(0<=(a.remainingCapacity-=p.length+2)))break e;n.resets.style[h]=W,s&&(s+=", "),s+=p,n.resets.style[h]="string"==typeof u.crossOrigin||"string"==typeof u.integrity?[u.crossOrigin,u.integrity]:W}}r(s?{Link:s}:{})}}}catch(f){Nn(e,f,{})}}function Yn(e){null===e.trackedPostpones&&qn(e,!0),null===e.trackedPostpones&&er(e),e.onShellError=bt,(e=e.onShellReady)()}function Gn(e){qn(e,null===e.trackedPostpones||(null===e.completedRootSegment||5!==e.completedRootSegment.status)),er(e),(e=e.onAllReady)()}function Kn(e,t){if(0===t.chunks.length&&1===t.children.length&&null===t.children[0].boundary&&-1===t.children[0].id){var n=t.children[0];n.id=t.id,n.parentFlushed=!0,1!==n.status&&3!==n.status&&4!==n.status||Kn(e,n)}else e.completedSegments.push(t)}function Xn(e,t,r,a){if(null!==r&&(0===--r.pendingTasks?Sn(e,r):r.together&&_n(e,r)),e.allPendingTasks--,null===t){if(null!==a&&a.parentFlushed){if(null!==e.completedRootSegment)throw Error(n(389));e.completedRootSegment=a}e.pendingRootTasks--,0===e.pendingRootTasks&&Yn(e)}else if(t.pendingTasks--,4!==t.status)if(0===t.pendingTasks){if(0===t.status&&(t.status=1),null!==a&&a.parentFlushed&&(1===a.status||3===a.status)&&Kn(t,a),t.parentFlushed&&e.completedBoundaries.push(t),1===t.status)null!==(r=t.row)&&Je(r.hoistables,t.contentState),un(0,t)||(t.fallbackAbortableTasks.forEach(Un,e),t.fallbackAbortableTasks.clear(),null!==r&&0===--r.pendingTasks&&Sn(e,r)),0===e.pendingRootTasks&&null===e.trackedPostpones&&null!==t.contentPreamble&&er(e);else if(5===t.status&&null!==(t=t.row)){if(null!==e.trackedPostpones){r=e.trackedPostpones;var s=t.next;if(null!==s&&null!==(a=s.boundaries))for(s.boundaries=null,s=0;s<a.length;s++){var i=a[s];In(e,r,i),Xn(e,i,null,null)}}0===--t.pendingTasks&&Sn(e,t)}}else null===a||!a.parentFlushed||1!==a.status&&3!==a.status||(Kn(t,a),1===t.completedSegments.length&&t.parentFlushed&&e.partialBoundaries.push(t)),null!==(t=t.row)&&t.together&&_n(e,t);0===e.allPendingTasks&&Gn(e)}function Qn(e){if(14!==e.status&&13!==e.status){var t=st,r=F.H;F.H=rn;var a=F.A;F.A=sn;var s=pn;pn=e;var i=an;an=e.resumableState;try{var o,l=e.pingedTasks;for(o=0;o<l.length;o++){var c=l[o],d=e,u=c.blockedSegment;if(null===u){var h=d;if(0!==c.replay.pendingTasks){ut(c.context);try{if("number"==typeof c.replay.slots?Mn(h,c,c.replay.slots,c.node,c.childIndex):zn(h,c),1===c.replay.pendingTasks&&0<c.replay.nodes.length)throw Error(n(488));c.replay.pendingTasks--,c.abortSet.delete(c),Xn(h,c.blockedBoundary,c.row,null)}catch(E){Ht();var m=E===vt?Nt():E;if("object"==typeof m&&null!==m&&"function"==typeof m.then){var p=c.ping;m.then(p,p),c.thenableState=E===vt?Ut():null}else{c.replay.pendingTasks--,c.abortSet.delete(c);var f=jn(c.componentStack);d=void 0;var g=h,x=c.blockedBoundary,b=12===h.status?h.fatalError:m;Hn(g,x,c.replay.nodes,c.replay.slots,b,d=Nn(g,b,f)),h.pendingRootTasks--,0===h.pendingRootTasks&&Yn(h),h.allPendingTasks--,0===h.allPendingTasks&&Gn(h)}}}}else if(h=void 0,0===(g=u).status){g.status=6,ut(c.context);var v=g.children.length,y=g.chunks.length;try{zn(d,c),et(g.chunks,d.renderState,g.lastPushedText,g.textEmbedded),c.abortSet.delete(c),g.status=1,Xn(d,c.blockedBoundary,c.row,g)}catch(E){Ht(),g.children.length=v,g.chunks.length=y;var w=E===vt?Nt():12===d.status?d.fatalError:E;if(12===d.status&&null!==d.trackedPostpones){var j=d.trackedPostpones,N=jn(c.componentStack);c.abortSet.delete(c),Nn(d,w,N),Fn(d,j,c,g),Xn(d,c.blockedBoundary,c.row,g)}else if("object"==typeof w&&null!==w&&"function"==typeof w.then){g.status=0,c.thenableState=E===vt?Ut():null;var k=c.ping;w.then(k,k)}else{var S=jn(c.componentStack);c.abortSet.delete(c),g.status=4;var C=c.blockedBoundary,_=c.row;if(null!==_&&0===--_.pendingTasks&&Sn(d,_),d.allPendingTasks--,h=Nn(d,w,S),null===C)kn(d,w);else if(C.pendingTasks--,4!==C.status){C.status=4,C.errorDigest=h,Ln(d,C);var P=C.row;null!==P&&0===--P.pendingTasks&&Sn(d,P),C.parentFlushed&&d.clientRenderedBoundaries.push(C),0===d.pendingRootTasks&&null===d.trackedPostpones&&null!==C.contentPreamble&&er(d)}0===d.allPendingTasks&&Gn(d)}}}}l.splice(0,o),null!==e.destination&&lr(e,e.destination)}catch(D){Nn(e,D,{}),kn(e,D)}finally{an=i,F.H=r,F.A=a,r===rn&&ut(t),pn=s}}}function Jn(e,t,n){t.preambleChildren.length&&n.push(t.preambleChildren);for(var r=!1,a=0;a<t.children.length;a++)r=Zn(e,t.children[a],n)||r;return r}function Zn(e,t,r){var a=t.boundary;if(null===a)return Jn(e,t,r);var s=a.contentPreamble,i=a.fallbackPreamble;if(null===s||null===i)return!1;switch(a.status){case 1:if(Ne(e.renderState,s),e.byteSize+=a.byteSize,!(t=a.completedSegments[0]))throw Error(n(391));return Jn(e,t,r);case 5:if(null!==e.trackedPostpones)return!0;case 4:if(1===t.status)return Ne(e.renderState,i),Jn(e,t,r);default:return!0}}function er(e){if(e.completedRootSegment&&null===e.completedPreambleSegments){var t=[],n=e.byteSize,r=Zn(e,e.completedRootSegment,t),a=e.renderState.preamble;!1===r||a.headChunks&&a.bodyChunks?e.completedPreambleSegments=t:e.byteSize=n}}function tr(e,t,r,a){switch(r.parentFlushed=!0,r.status){case 0:r.id=e.nextSegmentId++;case 5:return a=r.id,r.lastPushedText=!1,r.textEmbedded=!1,e=e.renderState,t.push('<template id="'),t.push(e.placeholderPrefix),e=a.toString(16),t.push(e),t.push('"></template>');case 1:r.status=2;var s=!0,i=r.chunks,o=0;r=r.children;for(var l=0;l<r.length;l++){for(s=r[l];o<s.index;o++)t.push(i[o]);s=rr(e,t,s,a)}for(;o<i.length-1;o++)t.push(i[o]);return o<i.length&&(s=t.push(i[o])),s;case 3:return!0;default:throw Error(n(390))}}var nr=0;function rr(e,t,r,a){var s=r.boundary;if(null===s)return tr(e,t,r,a);if(s.parentFlushed=!0,4===s.status){var i=s.row;return null!==i&&0===--i.pendingTasks&&Sn(e,i),e.renderState.generateStaticMarkup||(s=s.errorDigest,t.push("\x3c!--$!--\x3e"),t.push("<template"),s&&(t.push(' data-dgst="'),s=M(s),t.push(s),t.push('"')),t.push("></template>")),tr(e,t,r,a),e=!!e.renderState.generateStaticMarkup||t.push("\x3c!--/$--\x3e")}if(1!==s.status)return 0===s.status&&(s.rootSegmentID=e.nextSegmentId++),0<s.completedSegments.length&&e.partialBoundaries.push(s),Se(t,e.renderState,s.rootSegmentID),a&&Je(a,s.fallbackState),tr(e,t,r,a),t.push("\x3c!--/$--\x3e");if(!or&&un(0,s)&&nr+s.byteSize>e.progressiveChunkSize)return s.rootSegmentID=e.nextSegmentId++,e.completedBoundaries.push(s),Se(t,e.renderState,s.rootSegmentID),tr(e,t,r,a),t.push("\x3c!--/$--\x3e");if(nr+=s.byteSize,a&&Je(a,s.contentState),null!==(r=s.row)&&un(0,s)&&0===--r.pendingTasks&&Sn(e,r),e.renderState.generateStaticMarkup||t.push("\x3c!--$--\x3e"),1!==(r=s.completedSegments).length)throw Error(n(391));return rr(e,t,r[0],a),e=!!e.renderState.generateStaticMarkup||t.push("\x3c!--/$--\x3e")}function ar(e,t,r,a){return function(e,t,r,a){switch(r.insertionMode){case 0:case 1:case 3:case 2:return e.push('<div hidden id="'),e.push(t.segmentPrefix),t=a.toString(16),e.push(t),e.push('">');case 4:return e.push('<svg aria-hidden="true" style="display:none" id="'),e.push(t.segmentPrefix),t=a.toString(16),e.push(t),e.push('">');case 5:return e.push('<math aria-hidden="true" style="display:none" id="'),e.push(t.segmentPrefix),t=a.toString(16),e.push(t),e.push('">');case 6:return e.push('<table hidden id="'),e.push(t.segmentPrefix),t=a.toString(16),e.push(t),e.push('">');case 7:return e.push('<table hidden><tbody id="'),e.push(t.segmentPrefix),t=a.toString(16),e.push(t),e.push('">');case 8:return e.push('<table hidden><tr id="'),e.push(t.segmentPrefix),t=a.toString(16),e.push(t),e.push('">');case 9:return e.push('<table hidden><colgroup id="'),e.push(t.segmentPrefix),t=a.toString(16),e.push(t),e.push('">');default:throw Error(n(397))}}(t,e.renderState,r.parentFormatContext,r.id),rr(e,t,r,a),function(e,t){switch(t.insertionMode){case 0:case 1:case 3:case 2:return e.push("</div>");case 4:return e.push("</svg>");case 5:return e.push("</math>");case 6:return e.push("</table>");case 7:return e.push("</tbody></table>");case 8:return e.push("</tr></table>");case 9:return e.push("</colgroup></table>");default:throw Error(n(397))}}(t,r.parentFormatContext)}function sr(e,t,r){nr=r.byteSize;for(var a=r.completedSegments,s=0;s<a.length;s++)ir(e,t,r,a[s]);a.length=0,null!==(a=r.row)&&un(0,r)&&0===--a.pendingTasks&&Sn(e,a),Ae(t,r.contentState,e.renderState),a=e.resumableState,e=e.renderState,s=r.rootSegmentID,r=r.contentState;var i=e.stylesToHoist;return e.stylesToHoist=!1,t.push(e.startInlineScript),t.push(">"),i?(!(4&a.instructions)&&(a.instructions|=4,t.push('$RX=function(b,c,d,e,f){var a=document.getElementById(b);a&&(b=a.previousSibling,b.data="$!",a=a.dataset,c&&(a.dgst=c),d&&(a.msg=d),e&&(a.stck=e),f&&(a.cstck=f),b._reactRetry&&b._reactRetry())};')),!(2&a.instructions)&&(a.instructions|=2,t.push('$RB=[];$RV=function(a){$RT=performance.now();for(var b=0;b<a.length;b+=2){var c=a[b],e=a[b+1];null!==e.parentNode&&e.parentNode.removeChild(e);var f=c.parentNode;if(f){var g=c.previousSibling,h=0;do{if(c&&8===c.nodeType){var d=c.data;if("/$"===d||"/&"===d)if(0===h)break;else h--;else"$"!==d&&"$?"!==d&&"$~"!==d&&"$!"!==d&&"&"!==d||h++}d=c.nextSibling;f.removeChild(c);c=d}while(c);for(;e.firstChild;)f.insertBefore(e.firstChild,c);g.data="$";g._reactRetry&&requestAnimationFrame(g._reactRetry)}}a.length=0};\n$RC=function(a,b){if(b=document.getElementById(b))(a=document.getElementById(a))?(a.previousSibling.data="$~",$RB.push(a,b),2===$RB.length&&("number"!==typeof $RT?requestAnimationFrame($RV.bind(null,$RB)):(a=performance.now(),setTimeout($RV.bind(null,$RB),2300>a&&2E3<a?2300-a:$RT+300-a)))):b.parentNode.removeChild(b)};')),8&a.instructions?t.push('$RR("'):(a.instructions|=8,t.push('$RM=new Map;$RR=function(n,w,p){function u(q){this._p=null;q()}for(var r=new Map,t=document,h,b,e=t.querySelectorAll("link[data-precedence],style[data-precedence]"),v=[],k=0;b=e[k++];)"not all"===b.getAttribute("media")?v.push(b):("LINK"===b.tagName&&$RM.set(b.getAttribute("href"),b),r.set(b.dataset.precedence,h=b));e=0;b=[];var l,a;for(k=!0;;){if(k){var f=p[e++];if(!f){k=!1;e=0;continue}var c=!1,m=0;var d=f[m++];if(a=$RM.get(d)){var g=a._p;c=!0}else{a=t.createElement("link");a.href=d;a.rel=\n"stylesheet";for(a.dataset.precedence=l=f[m++];g=f[m++];)a.setAttribute(g,f[m++]);g=a._p=new Promise(function(q,x){a.onload=u.bind(a,q);a.onerror=u.bind(a,x)});$RM.set(d,a)}d=a.getAttribute("media");!g||d&&!matchMedia(d).matches||b.push(g);if(c)continue}else{a=v[e++];if(!a)break;l=a.getAttribute("data-precedence");a.removeAttribute("media")}c=r.get(l)||h;c===h&&(h=a);r.set(l,a);c?c.parentNode.insertBefore(a,c.nextSibling):(c=t.head,c.insertBefore(a,c.firstChild))}if(p=document.getElementById(n))p.previousSibling.data=\n"$~";Promise.all(b).then($RC.bind(null,n,w),$RX.bind(null,n,"CSS failed to load"))};$RR("'))):(!(2&a.instructions)&&(a.instructions|=2,t.push('$RB=[];$RV=function(a){$RT=performance.now();for(var b=0;b<a.length;b+=2){var c=a[b],e=a[b+1];null!==e.parentNode&&e.parentNode.removeChild(e);var f=c.parentNode;if(f){var g=c.previousSibling,h=0;do{if(c&&8===c.nodeType){var d=c.data;if("/$"===d||"/&"===d)if(0===h)break;else h--;else"$"!==d&&"$?"!==d&&"$~"!==d&&"$!"!==d&&"&"!==d||h++}d=c.nextSibling;f.removeChild(c);c=d}while(c);for(;e.firstChild;)f.insertBefore(e.firstChild,c);g.data="$";g._reactRetry&&requestAnimationFrame(g._reactRetry)}}a.length=0};\n$RC=function(a,b){if(b=document.getElementById(b))(a=document.getElementById(a))?(a.previousSibling.data="$~",$RB.push(a,b),2===$RB.length&&("number"!==typeof $RT?requestAnimationFrame($RV.bind(null,$RB)):(a=performance.now(),setTimeout($RV.bind(null,$RB),2300>a&&2E3<a?2300-a:$RT+300-a)))):b.parentNode.removeChild(b)};')),t.push('$RC("')),a=s.toString(16),t.push(e.boundaryPrefix),t.push(a),t.push('","'),t.push(e.segmentPrefix),t.push(a),i?(t.push('",'),function(e,t){e.push("[");var r="[";t.stylesheets.forEach(function(t){if(2!==t.state)if(3===t.state)e.push(r),t=Ee(""+t.props.href),e.push(t),e.push("]"),r=",[";else{e.push(r);var a=t.props["data-precedence"],s=t.props,i=I(""+t.props.href);for(var o in i=Ee(i),e.push(i),a=""+a,e.push(","),a=Ee(a),e.push(a),s)if(S.call(s,o)&&null!=(a=s[o]))switch(o){case"href":case"rel":case"precedence":case"data-precedence":break;case"children":case"dangerouslySetInnerHTML":throw Error(n(399,"link"));default:We(e,o,a)}e.push("]"),r=",[",t.state=3}}),e.push("]")}(t,r)):t.push('"'),r=t.push(")<\/script>"),ke(t,e)&&r}function ir(e,t,r,a){if(2===a.status)return!0;var s=r.contentState,i=a.id;if(-1===i){if(-1===(a.id=r.rootSegmentID))throw Error(n(392));return ar(e,t,a,s)}return i===r.rootSegmentID?ar(e,t,a,s):(ar(e,t,a,s),r=e.resumableState,e=e.renderState,t.push(e.startInlineScript),t.push(">"),1&r.instructions?t.push('$RS("'):(r.instructions|=1,t.push('$RS=function(a,b){a=document.getElementById(a);b=document.getElementById(b);for(a.parentNode.removeChild(a);a.firstChild;)b.parentNode.insertBefore(a.firstChild,b);b.parentNode.removeChild(b)};$RS("')),t.push(e.segmentPrefix),i=i.toString(16),t.push(i),t.push('","'),t.push(e.placeholderPrefix),t.push(i),t=t.push('")<\/script>'))}var or=!1;function lr(e,t){try{if(!(0<e.pendingRootTasks)){var n,r=e.completedRootSegment;if(null!==r){if(5===r.status)return;var a=e.completedPreambleSegments;if(null===a)return;nr=e.byteSize;var s,i=e.resumableState,o=e.renderState,l=o.preamble,c=l.htmlChunks,d=l.headChunks;if(c){for(s=0;s<c.length;s++)t.push(c[s]);if(d)for(s=0;s<d.length;s++)t.push(d[s]);else{var u=ve("head");t.push(u),t.push(">")}}else if(d)for(s=0;s<d.length;s++)t.push(d[s]);var h=o.charsetChunks;for(s=0;s<h.length;s++)t.push(h[s]);h.length=0,o.preconnects.forEach(ze,t),o.preconnects.clear();var m=o.viewportChunks;for(s=0;s<m.length;s++)t.push(m[s]);m.length=0,o.fontPreloads.forEach(ze,t),o.fontPreloads.clear(),o.highImagePreloads.forEach(ze,t),o.highImagePreloads.clear(),U=o,o.styles.forEach(Fe,t),U=null;var p=o.importMapChunks;for(s=0;s<p.length;s++)t.push(p[s]);p.length=0,o.bootstrapScripts.forEach(ze,t),o.scripts.forEach(ze,t),o.scripts.clear(),o.bulkPreloads.forEach(ze,t),o.bulkPreloads.clear(),i.instructions|=32;var f=o.hoistableChunks;for(s=0;s<f.length;s++)t.push(f[s]);for(i=f.length=0;i<a.length;i++){var g=a[i];for(o=0;o<g.length;o++)rr(e,t,g[o],null)}var x=e.renderState.preamble,b=x.headChunks;if(x.htmlChunks||b){var v=je("head");t.push(v)}var y=x.bodyChunks;if(y)for(a=0;a<y.length;a++)t.push(y[a]);rr(e,t,r,null),e.completedRootSegment=null;var w=e.renderState;if(0!==e.allPendingTasks||0!==e.clientRenderedBoundaries.length||0!==e.completedBoundaries.length||null!==e.trackedPostpones&&(0!==e.trackedPostpones.rootNodes.length||null!==e.trackedPostpones.rootSlots)){var j=e.resumableState;if(!(64&j.instructions)){if(j.instructions|=64,t.push(w.startInlineScript),!(32&j.instructions)){j.instructions|=32;var N="_"+j.idPrefix+"R_";t.push(' id="');var k=M(N);t.push(k),t.push('"')}t.push(">"),t.push("requestAnimationFrame(function(){$RT=performance.now()});"),t.push("<\/script>")}}ke(t,w)}var S=e.renderState;r=0;var C=S.viewportChunks;for(r=0;r<C.length;r++)t.push(C[r]);C.length=0,S.preconnects.forEach(ze,t),S.preconnects.clear(),S.fontPreloads.forEach(ze,t),S.fontPreloads.clear(),S.highImagePreloads.forEach(ze,t),S.highImagePreloads.clear(),S.styles.forEach(Be,t),S.scripts.forEach(ze,t),S.scripts.clear(),S.bulkPreloads.forEach(ze,t),S.bulkPreloads.clear();var _=S.hoistableChunks;for(r=0;r<_.length;r++)t.push(_[r]);_.length=0;var P=e.clientRenderedBoundaries;for(n=0;n<P.length;n++){var E=P[n];S=t;var D=e.resumableState,O=e.renderState,T=E.rootSegmentID,A=E.errorDigest;S.push(O.startInlineScript),S.push(">"),4&D.instructions?S.push('$RX("'):(D.instructions|=4,S.push('$RX=function(b,c,d,e,f){var a=document.getElementById(b);a&&(b=a.previousSibling,b.data="$!",a=a.dataset,c&&(a.dgst=c),d&&(a.msg=d),e&&(a.stck=e),f&&(a.cstck=f),b._reactRetry&&b._reactRetry())};;$RX("')),S.push(O.boundaryPrefix);var z=T.toString(16);if(S.push(z),S.push('"'),A){S.push(",");var R=_e(A||"");S.push(R)}var I=S.push(")<\/script>");if(!I)return e.destination=null,n++,void P.splice(0,n)}P.splice(0,n);var F=e.completedBoundaries;for(n=0;n<F.length;n++)if(!sr(e,t,F[n]))return e.destination=null,n++,void F.splice(0,n);F.splice(0,n),or=!0;var L=e.partialBoundaries;for(n=0;n<L.length;n++){var B=L[n];e:{P=e,E=t,nr=B.byteSize;var $=B.completedSegments;for(I=0;I<$.length;I++)if(!ir(P,E,B,$[I])){I++,$.splice(0,I);var W=!1;break e}$.splice(0,I);var H=B.row;null!==H&&H.together&&1===B.pendingTasks&&(1===H.pendingTasks?Cn(P,H,H.hoistables):H.pendingTasks--),W=Ae(E,B.contentState,P.renderState)}if(!W)return e.destination=null,n++,void L.splice(0,n)}L.splice(0,n),or=!1;var V=e.completedBoundaries;for(n=0;n<V.length;n++)if(!sr(e,t,V[n]))return e.destination=null,n++,void V.splice(0,n);V.splice(0,n)}}finally{or=!1,0===e.allPendingTasks&&0===e.clientRenderedBoundaries.length&&0===e.completedBoundaries.length&&(e.flushScheduled=!1,(n=e.resumableState).hasBody&&(L=je("body"),t.push(L)),n.hasHtml&&(n=je("html"),t.push(n)),e.status=14,t.push(null),e.destination=null)}}function cr(e){if(!1===e.flushScheduled&&0===e.pingedTasks.length&&null!==e.destination){e.flushScheduled=!0;var t=e.destination;t?lr(e,t):e.flushScheduled=!1}}function dr(e,t){11!==e.status&&10!==e.status||(e.status=12);try{var r=e.abortableTasks;if(0<r.size){var a=void 0===t?Error(n(432)):"object"==typeof t&&null!==t&&"function"==typeof t.then?Error(n(530)):t;e.fatalError=a,r.forEach(function(t){return Vn(t,e,a)}),r.clear()}null!==e.destination&&lr(e,e.destination)}catch(s){Nn(e,s,{}),kn(e,s)}}function ur(e,t,n){if(null===t)n.rootNodes.push(e);else{var r=n.workingMap,a=r.get(t);void 0===a&&(a=[t[1],t[2],[],null],r.set(t,a),ur(a,t[0],n)),a[2].push(e)}}function hr(){}function mr(e,t,r,a){var s,i,o,l,c=!1,d=null,u="",h=!1;if(e=function(e,t,n,r,a,s,i,o,l,c,d,u){return(n=vn(t=new mn(t,n,r,a,s,i,o,l,c,d,u),0,null,r,!1,!1)).parentFlushed=!0,yn(e=xn(t,null,e,-1,null,n,null,null,t.abortableTasks,null,r,null,mt,null,null)),t.pingedTasks.push(e),t}(e,t={idPrefix:void 0===(s=t?t.identifierPrefix:void 0)?"":s,nextFormID:0,streamingFormat:0,bootstrapScriptContent:i,bootstrapScripts:o,bootstrapModules:l,instructions:0,hasBody:!1,hasHtml:!1,unknownResources:{},dnsResources:{},connectResources:{default:{},anonymous:{},credentials:{}},imageResources:{},styleResources:{},scriptResources:{},moduleUnknownResources:{},moduleScriptResources:{}},function(e,t){var n=e.idPrefix,r=[],a=e.bootstrapScriptContent,s=e.bootstrapScripts,i=e.bootstrapModules;void 0!==a&&(r.push("<script"),$e(r,e),r.push(">",(""+a).replace(H,V),"<\/script>")),a=n+"P:";var o=n+"S:";n+="B:";var l=new Set,c=new Set,d=new Set,u=new Map,h=new Set,m=new Set,p=new Set,f={images:new Map,stylesheets:new Map,scripts:new Map,moduleScripts:new Map};if(void 0!==s)for(var g=0;g<s.length;g++){var x,b=s[g],v=void 0,y=void 0,w={rel:"preload",as:"script",fetchPriority:"low",nonce:void 0};"string"==typeof b?w.href=x=b:(w.href=x=b.src,w.integrity=y="string"==typeof b.integrity?b.integrity:void 0,w.crossOrigin=v="string"==typeof b||null==b.crossOrigin?void 0:"use-credentials"===b.crossOrigin?"use-credentials":"");var j=x;(b=e).scriptResources[j]=null,b.moduleScriptResources[j]=null,ce(b=[],w),h.add(b),r.push('<script src="',M(x),'"'),"string"==typeof y&&r.push(' integrity="',M(y),'"'),"string"==typeof v&&r.push(' crossorigin="',M(v),'"'),$e(r,e),r.push(' async=""><\/script>')}if(void 0!==i)for(s=0;s<i.length;s++)v=x=void 0,y={rel:"modulepreload",fetchPriority:"low",nonce:void 0},"string"==typeof(w=i[s])?y.href=g=w:(y.href=g=w.src,y.integrity=v="string"==typeof w.integrity?w.integrity:void 0,y.crossOrigin=x="string"==typeof w||null==w.crossOrigin?void 0:"use-credentials"===w.crossOrigin?"use-credentials":""),b=g,(w=e).scriptResources[b]=null,w.moduleScriptResources[b]=null,ce(w=[],y),h.add(w),r.push('<script type="module" src="',M(g),'"'),"string"==typeof v&&r.push(' integrity="',M(v),'"'),"string"==typeof x&&r.push(' crossorigin="',M(x),'"'),$e(r,e),r.push(' async=""><\/script>');return{placeholderPrefix:a,segmentPrefix:o,boundaryPrefix:n,startInlineScript:"<script",startInlineStyle:"<style",preamble:{htmlChunks:null,headChunks:null,bodyChunks:null},externalRuntimeScript:null,bootstrapChunks:r,importMapChunks:[],onHeaders:void 0,headers:null,resets:{font:{},dns:{},connect:{default:{},anonymous:{},credentials:{}},image:{},style:{}},charsetChunks:[],viewportChunks:[],hoistableChunks:[],preconnects:l,fontPreloads:c,highImagePreloads:d,styles:u,bootstrapScripts:h,scripts:m,bulkPreloads:p,preloads:f,nonce:{script:void 0,style:void 0},stylesToHoist:!1,generateStaticMarkup:t}}(t,r),q(0,null,0,null),1/0,hr,void 0,function(){h=!0},void 0,void 0,void 0),e.flushScheduled=null!==e.destination,Qn(e),10===e.status&&(e.status=11),null===e.trackedPostpones&&qn(e,0===e.pendingRootTasks),dr(e,a),function(e,t){if(13===e.status)e.status=14,t.destroy(e.fatalError);else if(14!==e.status&&null===e.destination){e.destination=t;try{lr(e,t)}catch(n){Nn(e,n,{}),kn(e,n)}}}(e,{push:function(e){return null!==e&&(u+=e),!0},destroy:function(e){c=!0,d=e}}),c&&d!==a)throw d;if(!h)throw Error(n(426));return u}return Em.renderToStaticMarkup=function(e,t){return mr(e,t,!0,'The server used "renderToStaticMarkup" which does not support Suspense. If you intended to have the server wait for the suspended component please switch to "renderToReadableStream" which supports Suspense on the server')},Em.renderToString=function(e,t){return mr(e,t,!1,'The server used "renderToString" which does not support Suspense. If you intended for this Suspense boundary to render the fallback content on the server consider throwing an Error somewhere within the Suspense boundary. If you intended to have the server wait for the suspended component please switch to "renderToReadableStream" which supports Suspense on the server')},Em.version="19.2.3",Em}var Om,Tm,Mm={};function Am(){if(Om)return Mm;Om=1;var e=wt(),t=jt();function n(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=Symbol.for("react.transitional.element"),a=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),h=Symbol.for("react.suspense_list"),m=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),f=Symbol.for("react.scope"),g=Symbol.for("react.activity"),x=Symbol.for("react.legacy_hidden"),b=Symbol.for("react.memo_cache_sentinel"),v=Symbol.for("react.view_transition"),y=Symbol.iterator;function w(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=y&&e[y]||e["@@iterator"])?e:null}var j=Array.isArray;function N(e,t){var n=3&e.length,r=e.length-n,a=t;for(t=0;t<r;){var s=255&e.charCodeAt(t)|(255&e.charCodeAt(++t))<<8|(255&e.charCodeAt(++t))<<16|(255&e.charCodeAt(++t))<<24;++t,a=27492+(65535&(a=5*(65535&(a=(a^=s=461845907*(65535&(s=(s=3432918353*(65535&s)+((3432918353*(s>>>16)&65535)<<16)&4294967295)<<15|s>>>17))+((461845907*(s>>>16)&65535)<<16)&4294967295)<<13|a>>>19))+((5*(a>>>16)&65535)<<16)&4294967295))+(((a>>>16)+58964&65535)<<16)}switch(s=0,n){case 3:s^=(255&e.charCodeAt(t+2))<<16;case 2:s^=(255&e.charCodeAt(t+1))<<8;case 1:a^=461845907*(65535&(s=(s=3432918353*(65535&(s^=255&e.charCodeAt(t)))+((3432918353*(s>>>16)&65535)<<16)&4294967295)<<15|s>>>17))+((461845907*(s>>>16)&65535)<<16)&4294967295}return a^=e.length,a=2246822507*(65535&(a^=a>>>16))+((2246822507*(a>>>16)&65535)<<16)&4294967295,((a=3266489909*(65535&(a^=a>>>13))+((3266489909*(a>>>16)&65535)<<16)&4294967295)^a>>>16)>>>0}var k=new MessageChannel,S=[];function C(e){S.push(e),k.port2.postMessage(null)}function _(e){setTimeout(function(){throw e})}k.port1.onmessage=function(){var e=S.shift();e&&e()};var P=Promise,E="function"==typeof queueMicrotask?queueMicrotask:function(e){P.resolve(null).then(e).catch(_)},D=null,O=0;function T(e,t){if(0!==t.byteLength)if(2048<t.byteLength)0<O&&(e.enqueue(new Uint8Array(D.buffer,0,O)),D=new Uint8Array(2048),O=0),e.enqueue(t);else{var n=D.length-O;n<t.byteLength&&(0===n?e.enqueue(D):(D.set(t.subarray(0,n),O),e.enqueue(D),t=t.subarray(n)),D=new Uint8Array(2048),O=0),D.set(t,O),O+=t.byteLength}}function M(e,t){return T(e,t),!0}function A(e){D&&0<O&&(e.enqueue(new Uint8Array(D.buffer,0,O)),D=null,O=0)}var z=new TextEncoder;function R(e){return z.encode(e)}function I(e){return z.encode(e)}function F(e){return e.byteLength}function L(e,t){"function"==typeof e.error?e.error(t):e.close()}var B=Object.assign,$=Object.prototype.hasOwnProperty,W=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),U={},H={};function V(e){return!!$.call(H,e)||!$.call(U,e)&&(W.test(e)?H[e]=!0:(U[e]=!0,!1))}var q=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" ")),Y=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),G=/["'&<>]/;function K(e){if("boolean"==typeof e||"number"==typeof e||"bigint"==typeof e)return""+e;e=""+e;var t=G.exec(e);if(t){var n,r="",a=0;for(n=t.index;n<e.length;n++){switch(e.charCodeAt(n)){case 34:t="&quot;";break;case 38:t="&amp;";break;case 39:t="&#x27;";break;case 60:t="&lt;";break;case 62:t="&gt;";break;default:continue}a!==n&&(r+=e.slice(a,n)),a=n+1,r+=t}e=a!==n?r+e.slice(a,n):r}return e}var X=/([A-Z])/g,Q=/^ms-/,J=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Z(e){return J.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var ee=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,te=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ne={pending:!1,data:null,method:null,action:null},re=te.d;te.d={f:re.f,r:re.r,D:function(e){var t=Ca||null;if(t){var n=t.resumableState,r=t.renderState;if("string"==typeof e&&e){var a,s;if(!n.dnsResources.hasOwnProperty(e))n.dnsResources[e]=null,(s=(n=r.headers)&&0<n.remainingCapacity)&&(a="<"+(""+e).replace(ir,or)+">; rel=dns-prefetch",s=0<=(n.remainingCapacity-=a.length+2)),s?(r.resets.dns[e]=null,n.preconnects&&(n.preconnects+=", "),n.preconnects+=a):(nt(a=[],{href:e,rel:"dns-prefetch"}),r.preconnects.add(a));Ns(t)}}else re.D(e)},C:function(e,t){var n=Ca||null;if(n){var r=n.resumableState,a=n.renderState;if("string"==typeof e&&e){var s="use-credentials"===t?"credentials":"string"==typeof t?"anonymous":"default";if(!r.connectResources[s].hasOwnProperty(e)){var i,o;if(r.connectResources[s][e]=null,o=(r=a.headers)&&0<r.remainingCapacity){if(o="<"+(""+e).replace(ir,or)+">; rel=preconnect","string"==typeof t)o+='; crossorigin="'+(""+t).replace(lr,cr)+'"';i=o,o=0<=(r.remainingCapacity-=i.length+2)}o?(a.resets.connect[s][e]=null,r.preconnects&&(r.preconnects+=", "),r.preconnects+=i):(nt(s=[],{rel:"preconnect",href:e,crossOrigin:t}),a.preconnects.add(s))}Ns(n)}}else re.C(e,t)},L:function(e,t,n){var r=Ca||null;if(r){var a=r.resumableState,s=r.renderState;if(t&&e){switch(t){case"image":if(n)var i=n.imageSrcSet,o=n.imageSizes,l=n.fetchPriority;var c,d=i?i+"\n"+(o||""):e;if(a.imageResources.hasOwnProperty(d))return;a.imageResources[d]=ae,(a=s.headers)&&0<a.remainingCapacity&&"string"!=typeof i&&"high"===l&&(c=sr(e,t,n),0<=(a.remainingCapacity-=c.length+2))?(s.resets.image[d]=ae,a.highImagePreloads&&(a.highImagePreloads+=", "),a.highImagePreloads+=c):(nt(a=[],B({rel:"preload",href:i?void 0:e,as:t},n)),"high"===l?s.highImagePreloads.add(a):(s.bulkPreloads.add(a),s.preloads.images.set(d,a)));break;case"style":if(a.styleResources.hasOwnProperty(e))return;nt(i=[],B({rel:"preload",href:e,as:t},n)),a.styleResources[e]=!n||"string"!=typeof n.crossOrigin&&"string"!=typeof n.integrity?ae:[n.crossOrigin,n.integrity],s.preloads.stylesheets.set(e,i),s.bulkPreloads.add(i);break;case"script":if(a.scriptResources.hasOwnProperty(e))return;i=[],s.preloads.scripts.set(e,i),s.bulkPreloads.add(i),nt(i,B({rel:"preload",href:e,as:t},n)),a.scriptResources[e]=!n||"string"!=typeof n.crossOrigin&&"string"!=typeof n.integrity?ae:[n.crossOrigin,n.integrity];break;default:if(a.unknownResources.hasOwnProperty(t)){if((i=a.unknownResources[t]).hasOwnProperty(e))return}else i={},a.unknownResources[t]=i;if(i[e]=ae,(a=s.headers)&&0<a.remainingCapacity&&"font"===t&&(d=sr(e,t,n),0<=(a.remainingCapacity-=d.length+2)))s.resets.font[e]=ae,a.fontPreloads&&(a.fontPreloads+=", "),a.fontPreloads+=d;else if("font"===(nt(a=[],e=B({rel:"preload",href:e,as:t},n)),t))s.fontPreloads.add(a);else s.bulkPreloads.add(a)}Ns(r)}}else re.L(e,t,n)},m:function(e,t){var n=Ca||null;if(n){var r=n.resumableState,a=n.renderState;if(e){var s=t&&"string"==typeof t.as?t.as:"script";if("script"===s){if(r.moduleScriptResources.hasOwnProperty(e))return;s=[],r.moduleScriptResources[e]=!t||"string"!=typeof t.crossOrigin&&"string"!=typeof t.integrity?ae:[t.crossOrigin,t.integrity],a.preloads.moduleScripts.set(e,s)}else{if(r.moduleUnknownResources.hasOwnProperty(s)){var i=r.unknownResources[s];if(i.hasOwnProperty(e))return}else i={},r.moduleUnknownResources[s]=i;s=[],i[e]=ae}nt(s,B({rel:"modulepreload",href:e},t)),a.bulkPreloads.add(s),Ns(n)}}else re.m(e,t)},X:function(e,t){var n=Ca||null;if(n){var r=n.resumableState,a=n.renderState;if(e){var s=r.scriptResources.hasOwnProperty(e)?r.scriptResources[e]:void 0;null!==s&&(r.scriptResources[e]=null,t=B({src:e,async:!0},t),s&&(2===s.length&&ar(t,s),e=a.preloads.scripts.get(e))&&(e.length=0),e=[],a.scripts.add(e),dt(e,t),Ns(n))}}else re.X(e,t)},S:function(e,t,n){var r=Ca||null;if(r){var a=r.resumableState,s=r.renderState;if(e){t=t||"default";var i=s.styles.get(t),o=a.styleResources.hasOwnProperty(e)?a.styleResources[e]:void 0;null!==o&&(a.styleResources[e]=null,i||(i={precedence:R(K(t)),rules:[],hrefs:[],sheets:new Map},s.styles.set(t,i)),t={state:0,props:B({rel:"stylesheet",href:e,"data-precedence":t},n)},o&&(2===o.length&&ar(t.props,o),(s=s.preloads.stylesheets.get(e))&&0<s.length?s.length=0:t.state=1),i.sheets.set(e,t),Ns(r))}}else re.S(e,t,n)},M:function(e,t){var n=Ca||null;if(n){var r=n.resumableState,a=n.renderState;if(e){var s=r.moduleScriptResources.hasOwnProperty(e)?r.moduleScriptResources[e]:void 0;null!==s&&(r.moduleScriptResources[e]=null,t=B({src:e,type:"module",async:!0},t),s&&(2===s.length&&ar(t,s),e=a.preloads.moduleScripts.get(e))&&(e.length=0),e=[],a.scripts.add(e),dt(e,t),Ns(n))}}else re.M(e,t)}};var ae=[],se=null;I('"></template>');var ie=I("<script"),oe=I("<\/script>"),le=I('<script src="'),ce=I('<script type="module" src="'),de=I(' nonce="'),ue=I(' integrity="'),he=I(' crossorigin="'),me=I(' async=""><\/script>'),pe=I("<style"),fe=/(<\/|<)(s)(cript)/gi;function ge(e,t,n,r){return t+("s"===n?"\\u0073":"\\u0053")+r}var xe=I('<script type="importmap">'),be=I("<\/script>");function ve(e,t,n,r,a,s){var i=void 0===(n="string"==typeof t?t:t&&t.script)?ie:I('<script nonce="'+K(n)+'"'),o="string"==typeof t?void 0:t&&t.style,l=void 0===o?pe:I('<style nonce="'+K(o)+'"'),c=e.idPrefix,d=[],u=e.bootstrapScriptContent,h=e.bootstrapScripts,m=e.bootstrapModules;if(void 0!==u&&(d.push(i),Qn(d,e),d.push(Ge,R((""+u).replace(fe,ge)),oe)),u=[],void 0!==r&&(u.push(xe),u.push(R((""+JSON.stringify(r)).replace(fe,ge))),u.push(be)),r=a?{preconnects:"",fontPreloads:"",highImagePreloads:"",remainingCapacity:2+("number"==typeof s?s:2e3)}:null,a={placeholderPrefix:I(c+"P:"),segmentPrefix:I(c+"S:"),boundaryPrefix:I(c+"B:"),startInlineScript:i,startInlineStyle:l,preamble:{htmlChunks:null,headChunks:null,bodyChunks:null},externalRuntimeScript:null,bootstrapChunks:d,importMapChunks:u,onHeaders:a,headers:r,resets:{font:{},dns:{},connect:{default:{},anonymous:{},credentials:{}},image:{},style:{}},charsetChunks:[],viewportChunks:[],hoistableChunks:[],preconnects:new Set,fontPreloads:new Set,highImagePreloads:new Set,styles:new Map,bootstrapScripts:new Set,scripts:new Set,bulkPreloads:new Set,preloads:{images:new Map,stylesheets:new Map,scripts:new Map,moduleScripts:new Map},nonce:{script:n,style:o},hoistableState:null,stylesToHoist:!1},void 0!==h)for(r=0;r<h.length;r++)o=i=void 0,l={rel:"preload",as:"script",fetchPriority:"low",nonce:t},"string"==typeof(c=h[r])?l.href=s=c:(l.href=s=c.src,l.integrity=o="string"==typeof c.integrity?c.integrity:void 0,l.crossOrigin=i="string"==typeof c||null==c.crossOrigin?void 0:"use-credentials"===c.crossOrigin?"use-credentials":""),u=s,(c=e).scriptResources[u]=null,c.moduleScriptResources[u]=null,nt(c=[],l),a.bootstrapScripts.add(c),d.push(le,R(K(s)),Ie),n&&d.push(de,R(K(n)),Ie),"string"==typeof o&&d.push(ue,R(K(o)),Ie),"string"==typeof i&&d.push(he,R(K(i)),Ie),Qn(d,e),d.push(me);if(void 0!==m)for(t=0;t<m.length;t++)s=r=void 0,i={rel:"modulepreload",fetchPriority:"low",nonce:n},"string"==typeof(o=m[t])?i.href=h=o:(i.href=h=o.src,i.integrity=s="string"==typeof o.integrity?o.integrity:void 0,i.crossOrigin=r="string"==typeof o||null==o.crossOrigin?void 0:"use-credentials"===o.crossOrigin?"use-credentials":""),l=h,(o=e).scriptResources[l]=null,o.moduleScriptResources[l]=null,nt(o=[],i),a.bootstrapScripts.add(o),d.push(ce,R(K(h)),Ie),n&&d.push(de,R(K(n)),Ie),"string"==typeof s&&d.push(ue,R(K(s)),Ie),"string"==typeof r&&d.push(he,R(K(r)),Ie),Qn(d,e),d.push(me);return a}function ye(e,t,n,r,a){return{idPrefix:void 0===e?"":e,nextFormID:0,streamingFormat:0,bootstrapScriptContent:n,bootstrapScripts:r,bootstrapModules:a,instructions:0,hasBody:!1,hasHtml:!1,unknownResources:{},dnsResources:{},connectResources:{default:{},anonymous:{},credentials:{}},imageResources:{},styleResources:{},scriptResources:{},moduleUnknownResources:{},moduleScriptResources:{}}}function we(){return{htmlChunks:null,headChunks:null,bodyChunks:null}}function je(e,t,n,r){return{insertionMode:e,selectedValue:t,tagScope:n,viewTransition:r}}function Ne(e){return je("http://www.w3.org/2000/svg"===e?4:"http://www.w3.org/1998/Math/MathML"===e?5:0,null,0,null)}function ke(e,t,n){var r=-25&e.tagScope;switch(t){case"noscript":return je(2,null,1|r,null);case"select":return je(2,null!=n.value?n.value:n.defaultValue,r,null);case"svg":return je(4,null,r,null);case"picture":return je(2,null,2|r,null);case"math":return je(5,null,r,null);case"foreignObject":return je(2,null,r,null);case"table":return je(6,null,r,null);case"thead":case"tbody":case"tfoot":return je(7,null,r,null);case"colgroup":return je(9,null,r,null);case"tr":return je(8,null,r,null);case"head":if(2>e.insertionMode)return je(3,null,r,null);break;case"html":if(0===e.insertionMode)return je(1,null,r,null)}return 6<=e.insertionMode||2>e.insertionMode?je(2,null,r,null):e.tagScope!==r?je(e.insertionMode,e.selectedValue,r,null):e}function Se(e){return null===e?null:{update:e.update,enter:"none",exit:"none",share:e.update,name:e.autoName,autoName:e.autoName,nameIdx:0}}function Ce(e,t){return 32&t.tagScope&&(e.instructions|=128),je(t.insertionMode,t.selectedValue,12|t.tagScope,Se(t.viewTransition))}function _e(e,t){e=Se(t.viewTransition);var n=16|t.tagScope;return null!==e&&"none"!==e.share&&(n|=64),je(t.insertionMode,t.selectedValue,n,e)}var Pe=I("\x3c!-- --\x3e");function Ee(e,t,n,r){return""===t?r:(r&&e.push(Pe),e.push(R(K(t))),!0)}var De=new Map,Oe=I(' style="'),Te=I(":"),Me=I(";");function Ae(e,t){if("object"!=typeof t)throw Error(n(62));var r,a=!0;for(r in t)if($.call(t,r)){var s=t[r];if(null!=s&&"boolean"!=typeof s&&""!==s){if(0===r.indexOf("--")){var i=R(K(r));s=R(K((""+s).trim()))}else void 0===(i=De.get(r))&&(i=I(K(r.replace(X,"-$1").toLowerCase().replace(Q,"-ms-"))),De.set(r,i)),s="number"==typeof s?0===s||q.has(r)?R(""+s):R(s+"px"):R(K((""+s).trim()));a?(a=!1,e.push(Oe,i,Te,s)):e.push(Me,i,Te,s)}}a||e.push(Ie)}var ze=I(" "),Re=I('="'),Ie=I('"'),Fe=I('=""');function Le(e,t,n){n&&"function"!=typeof n&&"symbol"!=typeof n&&e.push(ze,R(t),Fe)}function Be(e,t,n){"function"!=typeof n&&"symbol"!=typeof n&&"boolean"!=typeof n&&e.push(ze,R(t),Re,R(K(n)),Ie)}var $e=I(K("javascript:throw new Error('React form unexpectedly submitted.')")),We=I('<input type="hidden"');function Ue(e,t){this.push(We),He(e),Be(this,"name",t),Be(this,"value",e),this.push(Ke)}function He(e){if("string"!=typeof e)throw Error(n(480))}function Ve(e,t){if("function"==typeof t.$$FORM_ACTION){var n=e.nextFormID++;e=e.idPrefix+n;try{var r=t.$$FORM_ACTION(e);if(r){var a=r.data;null!=a&&a.forEach(He)}return r}catch(s){if("object"==typeof s&&null!==s&&"function"==typeof s.then)throw s}}return null}function qe(e,t,n,r,a,s,i,o){var l=null;if("function"==typeof r){var c=Ve(t,r);null!==c?(o=c.name,r=c.action||"",a=c.encType,s=c.method,i=c.target,l=c.data):(e.push(ze,R("formAction"),Re,$e,Ie),i=s=a=r=o=null,Ze(t,n))}return null!=o&&Ye(e,"name",o),null!=r&&Ye(e,"formAction",r),null!=a&&Ye(e,"formEncType",a),null!=s&&Ye(e,"formMethod",s),null!=i&&Ye(e,"formTarget",i),l}function Ye(e,t,n){switch(t){case"className":Be(e,"class",n);break;case"tabIndex":Be(e,"tabindex",n);break;case"dir":case"role":case"viewBox":case"width":case"height":Be(e,t,n);break;case"style":Ae(e,n);break;case"src":case"href":if(""===n)break;case"action":case"formAction":if(null==n||"function"==typeof n||"symbol"==typeof n||"boolean"==typeof n)break;n=Z(""+n),e.push(ze,R(t),Re,R(K(n)),Ie);break;case"defaultValue":case"defaultChecked":case"innerHTML":case"suppressContentEditableWarning":case"suppressHydrationWarning":case"ref":break;case"autoFocus":case"multiple":case"muted":Le(e,t.toLowerCase(),n);break;case"xlinkHref":if("function"==typeof n||"symbol"==typeof n||"boolean"==typeof n)break;n=Z(""+n),e.push(ze,R("xlink:href"),Re,R(K(n)),Ie);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":"function"!=typeof n&&"symbol"!=typeof n&&e.push(ze,R(t),Re,R(K(n)),Ie);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":n&&"function"!=typeof n&&"symbol"!=typeof n&&e.push(ze,R(t),Fe);break;case"capture":case"download":!0===n?e.push(ze,R(t),Fe):!1!==n&&"function"!=typeof n&&"symbol"!=typeof n&&e.push(ze,R(t),Re,R(K(n)),Ie);break;case"cols":case"rows":case"size":case"span":"function"!=typeof n&&"symbol"!=typeof n&&!isNaN(n)&&1<=n&&e.push(ze,R(t),Re,R(K(n)),Ie);break;case"rowSpan":case"start":"function"==typeof n||"symbol"==typeof n||isNaN(n)||e.push(ze,R(t),Re,R(K(n)),Ie);break;case"xlinkActuate":Be(e,"xlink:actuate",n);break;case"xlinkArcrole":Be(e,"xlink:arcrole",n);break;case"xlinkRole":Be(e,"xlink:role",n);break;case"xlinkShow":Be(e,"xlink:show",n);break;case"xlinkTitle":Be(e,"xlink:title",n);break;case"xlinkType":Be(e,"xlink:type",n);break;case"xmlBase":Be(e,"xml:base",n);break;case"xmlLang":Be(e,"xml:lang",n);break;case"xmlSpace":Be(e,"xml:space",n);break;default:if((!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&V(t=Y.get(t)||t)){switch(typeof n){case"function":case"symbol":return;case"boolean":var r=t.toLowerCase().slice(0,5);if("data-"!==r&&"aria-"!==r)return}e.push(ze,R(t),Re,R(K(n)),Ie)}}}var Ge=I(">"),Ke=I("/>");function Xe(e,t,r){if(null!=t){if(null!=r)throw Error(n(60));if("object"!=typeof t||!("__html"in t))throw Error(n(61));null!=(t=t.__html)&&e.push(R(""+t))}}var Qe=I(' selected=""'),Je=I('addEventListener("submit",function(a){if(!a.defaultPrevented){var c=a.target,d=a.submitter,e=c.action,b=d;if(d){var f=d.getAttribute("formAction");null!=f&&(e=f,b=null)}"javascript:throw new Error(\'React form unexpectedly submitted.\')"===e&&(a.preventDefault(),b?(a=document.createElement("input"),a.name=b.name,a.value=b.value,b.parentNode.insertBefore(a,b),b=new FormData(c),a.parentNode.removeChild(a)):b=new FormData(c),a=c.ownerDocument||c,(a.$$reactFormReplay=a.$$reactFormReplay||[]).push(c,d,b))}});');function Ze(e,t){if(!(16&e.instructions)){e.instructions|=16;var n=t.preamble,r=t.bootstrapChunks;(n.htmlChunks||n.headChunks)&&0===r.length?(r.push(t.startInlineScript),Qn(r,e),r.push(Ge,Je,oe)):r.unshift(t.startInlineScript,Ge,Je,oe)}}var et=I("\x3c!--F!--\x3e"),tt=I("\x3c!--F--\x3e");function nt(e,t){for(var r in e.push(gt("link")),t)if($.call(t,r)){var a=t[r];if(null!=a)switch(r){case"children":case"dangerouslySetInnerHTML":throw Error(n(399,"link"));default:Ye(e,r,a)}}return e.push(Ke),null}var rt=/(<\/|<)(s)(tyle)/gi;function at(e,t,n,r){return t+("s"===n?"\\73 ":"\\53 ")+r}function st(e,t,r){for(var a in e.push(gt(r)),t)if($.call(t,a)){var s=t[a];if(null!=s)switch(a){case"children":case"dangerouslySetInnerHTML":throw Error(n(399,r));default:Ye(e,a,s)}}return e.push(Ke),null}function it(e,t){e.push(gt("title"));var n,r=null,a=null;for(n in t)if($.call(t,n)){var s=t[n];if(null!=s)switch(n){case"children":r=s;break;case"dangerouslySetInnerHTML":a=s;break;default:Ye(e,n,s)}}return e.push(Ge),"function"!=typeof(t=Array.isArray(r)?2>r.length?r[0]:null:r)&&"symbol"!=typeof t&&null!=t&&e.push(R(K(""+t))),Xe(e,a,r),e.push(yt("title")),null}var ot=I("\x3c!--head--\x3e"),lt=I("\x3c!--body--\x3e"),ct=I("\x3c!--html--\x3e");function dt(e,t){e.push(gt("script"));var n,r=null,a=null;for(n in t)if($.call(t,n)){var s=t[n];if(null!=s)switch(n){case"children":r=s;break;case"dangerouslySetInnerHTML":a=s;break;default:Ye(e,n,s)}}return e.push(Ge),Xe(e,a,r),"string"==typeof r&&e.push(R((""+r).replace(fe,ge))),e.push(yt("script")),null}function ut(e,t,n){e.push(gt(n));var r,a=n=null;for(r in t)if($.call(t,r)){var s=t[r];if(null!=s)switch(r){case"children":n=s;break;case"dangerouslySetInnerHTML":a=s;break;default:Ye(e,r,s)}}return e.push(Ge),Xe(e,a,n),n}function ht(e,t,n){e.push(gt(n));var r,a=n=null;for(r in t)if($.call(t,r)){var s=t[r];if(null!=s)switch(r){case"children":n=s;break;case"dangerouslySetInnerHTML":a=s;break;default:Ye(e,r,s)}}return e.push(Ge),Xe(e,a,n),"string"==typeof n?(e.push(R(K(n))),null):n}var mt=I("\n"),pt=/^[a-zA-Z][a-zA-Z:_\.\-\d]*$/,ft=new Map;function gt(e){var t=ft.get(e);if(void 0===t){if(!pt.test(e))throw Error(n(65,e));t=I("<"+e),ft.set(e,t)}return t}var xt=I("<!DOCTYPE html>");function bt(t,r,a,s,i,o,l,c,d){switch(r){case"div":case"span":case"svg":case"path":case"g":case"p":case"li":case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":break;case"a":t.push(gt("a"));var u,h=null,m=null;for(u in a)if($.call(a,u)){var p=a[u];if(null!=p)switch(u){case"children":h=p;break;case"dangerouslySetInnerHTML":m=p;break;case"href":""===p?Be(t,"href",""):Ye(t,u,p);break;default:Ye(t,u,p)}}if(t.push(Ge),Xe(t,m,h),"string"==typeof h){t.push(R(K(h)));var f=null}else f=h;return f;case"select":t.push(gt("select"));var g,x=null,b=null;for(g in a)if($.call(a,g)){var v=a[g];if(null!=v)switch(g){case"children":x=v;break;case"dangerouslySetInnerHTML":b=v;break;case"defaultValue":case"value":break;default:Ye(t,g,v)}}return t.push(Ge),Xe(t,b,x),x;case"option":var y=c.selectedValue;t.push(gt("option"));var w,N=null,k=null,S=null,C=null;for(w in a)if($.call(a,w)){var _=a[w];if(null!=_)switch(w){case"children":N=_;break;case"selected":S=_;break;case"dangerouslySetInnerHTML":C=_;break;case"value":k=_;default:Ye(t,w,_)}}if(null!=y){var P=null!==k?""+k:function(t){var n="";return e.Children.forEach(t,function(e){null!=e&&(n+=e)}),n}(N);if(j(y)){for(var E=0;E<y.length;E++)if(""+y[E]===P){t.push(Qe);break}}else""+y===P&&t.push(Qe)}else S&&t.push(Qe);return t.push(Ge),Xe(t,C,N),N;case"textarea":t.push(gt("textarea"));var D,O=null,T=null,M=null;for(D in a)if($.call(a,D)){var A=a[D];if(null!=A)switch(D){case"children":M=A;break;case"value":O=A;break;case"defaultValue":T=A;break;case"dangerouslySetInnerHTML":throw Error(n(91));default:Ye(t,D,A)}}if(null===O&&null!==T&&(O=T),t.push(Ge),null!=M){if(null!=O)throw Error(n(92));if(j(M)){if(1<M.length)throw Error(n(93));O=""+M[0]}O=""+M}return"string"==typeof O&&"\n"===O[0]&&t.push(mt),null!==O&&t.push(R(K(""+O))),null;case"input":t.push(gt("input"));var z,I=null,F=null,L=null,W=null,U=null,H=null,q=null,Y=null,G=null;for(z in a)if($.call(a,z)){var X=a[z];if(null!=X)switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(n(399,"input"));case"name":I=X;break;case"formAction":F=X;break;case"formEncType":L=X;break;case"formMethod":W=X;break;case"formTarget":U=X;break;case"defaultChecked":G=X;break;case"defaultValue":q=X;break;case"checked":Y=X;break;case"value":H=X;break;default:Ye(t,z,X)}}var Q=qe(t,s,i,F,L,W,U,I);return null!==Y?Le(t,"checked",Y):null!==G&&Le(t,"checked",G),null!==H?Ye(t,"value",H):null!==q&&Ye(t,"value",q),t.push(Ke),null!=Q&&Q.forEach(Ue,t),null;case"button":t.push(gt("button"));var J,ee=null,te=null,ne=null,re=null,se=null,ie=null,oe=null;for(J in a)if($.call(a,J)){var le=a[J];if(null!=le)switch(J){case"children":ee=le;break;case"dangerouslySetInnerHTML":te=le;break;case"name":ne=le;break;case"formAction":re=le;break;case"formEncType":se=le;break;case"formMethod":ie=le;break;case"formTarget":oe=le;break;default:Ye(t,J,le)}}var ce=qe(t,s,i,re,se,ie,oe,ne);if(t.push(Ge),null!=ce&&ce.forEach(Ue,t),Xe(t,te,ee),"string"==typeof ee){t.push(R(K(ee)));var de=null}else de=ee;return de;case"form":t.push(gt("form"));var ue,he=null,me=null,pe=null,fe=null,ge=null,xe=null;for(ue in a)if($.call(a,ue)){var be=a[ue];if(null!=be)switch(ue){case"children":he=be;break;case"dangerouslySetInnerHTML":me=be;break;case"action":pe=be;break;case"encType":fe=be;break;case"method":ge=be;break;case"target":xe=be;break;default:Ye(t,ue,be)}}var ve=null,ye=null;if("function"==typeof pe){var we=Ve(s,pe);null!==we?(pe=we.action||"",fe=we.encType,ge=we.method,xe=we.target,ve=we.data,ye=we.name):(t.push(ze,R("action"),Re,$e,Ie),xe=ge=fe=pe=null,Ze(s,i))}if(null!=pe&&Ye(t,"action",pe),null!=fe&&Ye(t,"encType",fe),null!=ge&&Ye(t,"method",ge),null!=xe&&Ye(t,"target",xe),t.push(Ge),null!==ye&&(t.push(We),Be(t,"name",ye),t.push(Ke),null!=ve&&ve.forEach(Ue,t)),Xe(t,me,he),"string"==typeof he){t.push(R(K(he)));var je=null}else je=he;return je;case"menuitem":for(var Ne in t.push(gt("menuitem")),a)if($.call(a,Ne)){var ke=a[Ne];if(null!=ke)switch(Ne){case"children":case"dangerouslySetInnerHTML":throw Error(n(400));default:Ye(t,Ne,ke)}}return t.push(Ge),null;case"object":t.push(gt("object"));var Se,Ce=null,_e=null;for(Se in a)if($.call(a,Se)){var Ee=a[Se];if(null!=Ee)switch(Se){case"children":Ce=Ee;break;case"dangerouslySetInnerHTML":_e=Ee;break;case"data":var De=Z(""+Ee);if(""===De)break;t.push(ze,R("data"),Re,R(K(De)),Ie);break;default:Ye(t,Se,Ee)}}if(t.push(Ge),Xe(t,_e,Ce),"string"==typeof Ce){t.push(R(K(Ce)));var Oe=null}else Oe=Ce;return Oe;case"title":var Te=1&c.tagScope,Me=4&c.tagScope;if(4===c.insertionMode||Te||null!=a.itemProp)var Fe=it(t,a);else Me?Fe=null:(it(i.hoistableChunks,a),Fe=void 0);return Fe;case"link":var He=1&c.tagScope,Je=4&c.tagScope,et=a.rel,tt=a.href,pt=a.precedence;if(4===c.insertionMode||He||null!=a.itemProp||"string"!=typeof et||"string"!=typeof tt||""===tt){nt(t,a);var ft=null}else if("stylesheet"===a.rel)if("string"!=typeof pt||null!=a.disabled||a.onLoad||a.onError)ft=nt(t,a);else{var bt=i.styles.get(pt),vt=s.styleResources.hasOwnProperty(tt)?s.styleResources[tt]:void 0;if(null!==vt){s.styleResources[tt]=null,bt||(bt={precedence:R(K(pt)),rules:[],hrefs:[],sheets:new Map},i.styles.set(pt,bt));var wt={state:0,props:B({},a,{"data-precedence":a.precedence,precedence:null})};if(vt){2===vt.length&&ar(wt.props,vt);var jt=i.preloads.stylesheets.get(tt);jt&&0<jt.length?jt.length=0:wt.state=1}bt.sheets.set(tt,wt),l&&l.stylesheets.add(wt)}else if(bt){var Nt=bt.sheets.get(tt);Nt&&l&&l.stylesheets.add(Nt)}d&&t.push(Pe),ft=null}else a.onLoad||a.onError?ft=nt(t,a):(d&&t.push(Pe),ft=Je?null:nt(i.hoistableChunks,a));return ft;case"script":var kt=1&c.tagScope,St=a.async;if("string"!=typeof a.src||!a.src||!St||"function"==typeof St||"symbol"==typeof St||a.onLoad||a.onError||4===c.insertionMode||kt||null!=a.itemProp)var Ct=dt(t,a);else{var _t=a.src;if("module"===a.type)var Pt=s.moduleScriptResources,Et=i.preloads.moduleScripts;else Pt=s.scriptResources,Et=i.preloads.scripts;var Dt=Pt.hasOwnProperty(_t)?Pt[_t]:void 0;if(null!==Dt){Pt[_t]=null;var Ot=a;if(Dt){2===Dt.length&&ar(Ot=B({},a),Dt);var Tt=Et.get(_t);Tt&&(Tt.length=0)}var Mt=[];i.scripts.add(Mt),dt(Mt,Ot)}d&&t.push(Pe),Ct=null}return Ct;case"style":var At=1&c.tagScope,zt=a.precedence,Rt=a.href,It=a.nonce;if(4===c.insertionMode||At||null!=a.itemProp||"string"!=typeof zt||"string"!=typeof Rt||""===Rt){t.push(gt("style"));var Ft,Lt=null,Bt=null;for(Ft in a)if($.call(a,Ft)){var $t=a[Ft];if(null!=$t)switch(Ft){case"children":Lt=$t;break;case"dangerouslySetInnerHTML":Bt=$t;break;default:Ye(t,Ft,$t)}}t.push(Ge);var Wt=Array.isArray(Lt)?2>Lt.length?Lt[0]:null:Lt;"function"!=typeof Wt&&"symbol"!=typeof Wt&&null!=Wt&&t.push(R((""+Wt).replace(rt,at))),Xe(t,Bt,Lt),t.push(yt("style"));var Ut=null}else{var Ht=i.styles.get(zt);if(null!==(s.styleResources.hasOwnProperty(Rt)?s.styleResources[Rt]:void 0)){s.styleResources[Rt]=null,Ht||(Ht={precedence:R(K(zt)),rules:[],hrefs:[],sheets:new Map},i.styles.set(zt,Ht));var Vt=i.nonce.style;if(!Vt||Vt===It){Ht.hrefs.push(R(K(Rt)));var qt,Yt=Ht.rules,Gt=null,Kt=null;for(qt in a)if($.call(a,qt)){var Xt=a[qt];if(null!=Xt)switch(qt){case"children":Gt=Xt;break;case"dangerouslySetInnerHTML":Kt=Xt}}var Qt=Array.isArray(Gt)?2>Gt.length?Gt[0]:null:Gt;"function"!=typeof Qt&&"symbol"!=typeof Qt&&null!=Qt&&Yt.push(R((""+Qt).replace(rt,at))),Xe(Yt,Kt,Gt)}}Ht&&l&&l.styles.add(Ht),d&&t.push(Pe),Ut=void 0}return Ut;case"meta":var Jt=1&c.tagScope,Zt=4&c.tagScope;if(4===c.insertionMode||Jt||null!=a.itemProp)var en=st(t,a,"meta");else d&&t.push(Pe),en=Zt?null:"string"==typeof a.charSet?st(i.charsetChunks,a,"meta"):"viewport"===a.name?st(i.viewportChunks,a,"meta"):st(i.hoistableChunks,a,"meta");return en;case"listing":case"pre":t.push(gt(r));var tn,nn=null,rn=null;for(tn in a)if($.call(a,tn)){var an=a[tn];if(null!=an)switch(tn){case"children":nn=an;break;case"dangerouslySetInnerHTML":rn=an;break;default:Ye(t,tn,an)}}if(t.push(Ge),null!=rn){if(null!=nn)throw Error(n(60));if("object"!=typeof rn||!("__html"in rn))throw Error(n(61));var sn=rn.__html;null!=sn&&("string"==typeof sn&&0<sn.length&&"\n"===sn[0]?t.push(mt,R(sn)):t.push(R(""+sn)))}return"string"==typeof nn&&"\n"===nn[0]&&t.push(mt),nn;case"img":var on=3&c.tagScope,ln=a.src,cn=a.srcSet;if(!("lazy"===a.loading||!ln&&!cn||"string"!=typeof ln&&null!=ln||"string"!=typeof cn&&null!=cn||"low"===a.fetchPriority||on)&&("string"!=typeof ln||":"!==ln[4]||"d"!==ln[0]&&"D"!==ln[0]||"a"!==ln[1]&&"A"!==ln[1]||"t"!==ln[2]&&"T"!==ln[2]||"a"!==ln[3]&&"A"!==ln[3])&&("string"!=typeof cn||":"!==cn[4]||"d"!==cn[0]&&"D"!==cn[0]||"a"!==cn[1]&&"A"!==cn[1]||"t"!==cn[2]&&"T"!==cn[2]||"a"!==cn[3]&&"A"!==cn[3])){null!==l&&64&c.tagScope&&(l.suspenseyImages=!0);var dn="string"==typeof a.sizes?a.sizes:void 0,un=cn?cn+"\n"+(dn||""):ln,hn=i.preloads.images,mn=hn.get(un);if(mn)("high"===a.fetchPriority||10>i.highImagePreloads.size)&&(hn.delete(un),i.highImagePreloads.add(mn));else if(!s.imageResources.hasOwnProperty(un)){s.imageResources[un]=ae;var pn,fn=a.crossOrigin,gn="string"==typeof fn?"use-credentials"===fn?fn:"":void 0,xn=i.headers;xn&&0<xn.remainingCapacity&&"string"!=typeof a.srcSet&&("high"===a.fetchPriority||500>xn.highImagePreloads.length)&&(pn=sr(ln,"image",{imageSrcSet:a.srcSet,imageSizes:a.sizes,crossOrigin:gn,integrity:a.integrity,nonce:a.nonce,type:a.type,fetchPriority:a.fetchPriority,referrerPolicy:a.refererPolicy}),0<=(xn.remainingCapacity-=pn.length+2))?(i.resets.image[un]=ae,xn.highImagePreloads&&(xn.highImagePreloads+=", "),xn.highImagePreloads+=pn):(nt(mn=[],{rel:"preload",as:"image",href:cn?void 0:ln,imageSrcSet:cn,imageSizes:dn,crossOrigin:gn,integrity:a.integrity,type:a.type,fetchPriority:a.fetchPriority,referrerPolicy:a.referrerPolicy}),"high"===a.fetchPriority||10>i.highImagePreloads.size?i.highImagePreloads.add(mn):(i.bulkPreloads.add(mn),hn.set(un,mn)))}}return st(t,a,"img");case"base":case"area":case"br":case"col":case"embed":case"hr":case"keygen":case"param":case"source":case"track":case"wbr":return st(t,a,r);case"head":if(2>c.insertionMode){var bn=o||i.preamble;if(bn.headChunks)throw Error(n(545,"`<head>`"));null!==o&&t.push(ot),bn.headChunks=[];var vn=ut(bn.headChunks,a,"head")}else vn=ht(t,a,"head");return vn;case"body":if(2>c.insertionMode){var yn=o||i.preamble;if(yn.bodyChunks)throw Error(n(545,"`<body>`"));null!==o&&t.push(lt),yn.bodyChunks=[];var wn=ut(yn.bodyChunks,a,"body")}else wn=ht(t,a,"body");return wn;case"html":if(0===c.insertionMode){var jn=o||i.preamble;if(jn.htmlChunks)throw Error(n(545,"`<html>`"));null!==o&&t.push(ct),jn.htmlChunks=[xt];var Nn=ut(jn.htmlChunks,a,"html")}else Nn=ht(t,a,"html");return Nn;default:if(-1!==r.indexOf("-")){t.push(gt(r));var kn,Sn=null,Cn=null;for(kn in a)if($.call(a,kn)){var _n=a[kn];if(null!=_n){var Pn=kn;switch(kn){case"children":Sn=_n;break;case"dangerouslySetInnerHTML":Cn=_n;break;case"style":Ae(t,_n);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"ref":break;case"className":Pn="class";default:if(V(kn)&&"function"!=typeof _n&&"symbol"!=typeof _n&&!1!==_n){if(!0===_n)_n="";else if("object"==typeof _n)continue;t.push(ze,R(Pn),Re,R(K(_n)),Ie)}}}}return t.push(Ge),Xe(t,Cn,Sn),Sn}}return ht(t,a,r)}var vt=new Map;function yt(e){var t=vt.get(e);return void 0===t&&(t=I("</"+e+">"),vt.set(e,t)),t}function Nt(e,t){null===(e=e.preamble).htmlChunks&&t.htmlChunks&&(e.htmlChunks=t.htmlChunks),null===e.headChunks&&t.headChunks&&(e.headChunks=t.headChunks),null===e.bodyChunks&&t.bodyChunks&&(e.bodyChunks=t.bodyChunks)}function kt(e,t){t=t.bootstrapChunks;for(var n=0;n<t.length-1;n++)T(e,t[n]);return!(n<t.length)||(n=t[n],t.length=0,M(e,n))}var St=I("requestAnimationFrame(function(){$RT=performance.now()});"),Ct=I('<template id="'),_t=I('"></template>'),Pt=I("\x3c!--&--\x3e"),Et=I("\x3c!--/&--\x3e"),Dt=I("\x3c!--$--\x3e"),Ot=I('\x3c!--$?--\x3e<template id="'),Tt=I('"></template>'),Mt=I("\x3c!--$!--\x3e"),At=I("\x3c!--/$--\x3e"),zt=I("<template"),Rt=I('"'),It=I(' data-dgst="');I(' data-msg="'),I(' data-stck="'),I(' data-cstck="');var Ft=I("></template>");function Lt(e,t,r){if(T(e,Ot),null===r)throw Error(n(395));return T(e,t.boundaryPrefix),T(e,R(r.toString(16))),M(e,Tt)}var Bt=I('<div hidden id="'),$t=I('">'),Wt=I("</div>"),Ut=I('<svg aria-hidden="true" style="display:none" id="'),Ht=I('">'),Vt=I("</svg>"),qt=I('<math aria-hidden="true" style="display:none" id="'),Yt=I('">'),Gt=I("</math>"),Kt=I('<table hidden id="'),Xt=I('">'),Qt=I("</table>"),Jt=I('<table hidden><tbody id="'),Zt=I('">'),en=I("</tbody></table>"),tn=I('<table hidden><tr id="'),nn=I('">'),rn=I("</tr></table>"),an=I('<table hidden><colgroup id="'),sn=I('">'),on=I("</colgroup></table>");var ln=I('$RS=function(a,b){a=document.getElementById(a);b=document.getElementById(b);for(a.parentNode.removeChild(a);a.firstChild;)b.parentNode.insertBefore(a.firstChild,b);b.parentNode.removeChild(b)};$RS("'),cn=I('$RS("'),dn=I('","'),un=I('")<\/script>');I('<template data-rsi="" data-sid="'),I('" data-pid="');var hn=I('$RB=[];$RV=function(a){$RT=performance.now();for(var b=0;b<a.length;b+=2){var c=a[b],e=a[b+1];null!==e.parentNode&&e.parentNode.removeChild(e);var f=c.parentNode;if(f){var g=c.previousSibling,h=0;do{if(c&&8===c.nodeType){var d=c.data;if("/$"===d||"/&"===d)if(0===h)break;else h--;else"$"!==d&&"$?"!==d&&"$~"!==d&&"$!"!==d&&"&"!==d||h++}d=c.nextSibling;f.removeChild(c);c=d}while(c);for(;e.firstChild;)f.insertBefore(e.firstChild,c);g.data="$";g._reactRetry&&requestAnimationFrame(g._reactRetry)}}a.length=0};\n$RC=function(a,b){if(b=document.getElementById(b))(a=document.getElementById(a))?(a.previousSibling.data="$~",$RB.push(a,b),2===$RB.length&&("number"!==typeof $RT?requestAnimationFrame($RV.bind(null,$RB)):(a=performance.now(),setTimeout($RV.bind(null,$RB),2300>a&&2E3<a?2300-a:$RT+300-a)))):b.parentNode.removeChild(b)};');R('$RV=function(A,g){function k(a,b){var e=a.getAttribute(b);e&&(b=a.style,l.push(a,b.viewTransitionName,b.viewTransitionClass),"auto"!==e&&(b.viewTransitionClass=e),(a=a.getAttribute("vt-name"))||(a="_T_"+K++ +"_"),b.viewTransitionName=a,B=!0)}var B=!1,K=0,l=[];try{var f=document.__reactViewTransition;if(f){f.finished.finally($RV.bind(null,g));return}var m=new Map;for(f=1;f<g.length;f+=2)for(var h=g[f].querySelectorAll("[vt-share]"),d=0;d<h.length;d++){var c=h[d];m.set(c.getAttribute("vt-name"),c)}var u=[];for(h=0;h<g.length;h+=2){var C=g[h],x=C.parentNode;if(x){var v=x.getBoundingClientRect();if(v.left||v.top||v.width||v.height){c=C;for(f=0;c;){if(8===c.nodeType){var r=c.data;if("/$"===r)if(0===f)break;else f--;else"$"!==r&&"$?"!==r&&"$~"!==r&&"$!"!==r||f++}else if(1===c.nodeType){d=c;var D=d.getAttribute("vt-name"),y=m.get(D);k(d,y?"vt-share":"vt-exit");y&&(k(y,"vt-share"),m.set(D,null));var E=d.querySelectorAll("[vt-share]");for(d=0;d<E.length;d++){var F=E[d],G=F.getAttribute("vt-name"),\nH=m.get(G);H&&(k(F,"vt-share"),k(H,"vt-share"),m.set(G,null))}}c=c.nextSibling}for(var I=g[h+1],t=I.firstElementChild;t;)null!==m.get(t.getAttribute("vt-name"))&&k(t,"vt-enter"),t=t.nextElementSibling;c=x;do for(var n=c.firstElementChild;n;){var J=n.getAttribute("vt-update");J&&"none"!==J&&!l.includes(n)&&k(n,"vt-update");n=n.nextElementSibling}while((c=c.parentNode)&&1===c.nodeType&&"none"!==c.getAttribute("vt-update"));u.push.apply(u,I.querySelectorAll(\'img[src]:not([loading="lazy"])\'))}}}if(B){var z=\ndocument.__reactViewTransition=document.startViewTransition({update:function(){A(g);for(var a=[document.documentElement.clientHeight,document.fonts.ready],b={},e=0;e<u.length;b={g:b.g},e++)if(b.g=u[e],!b.g.complete){var p=b.g.getBoundingClientRect();0<p.bottom&&0<p.right&&p.top<window.innerHeight&&p.left<window.innerWidth&&(p=new Promise(function(w){return function(q){w.g.addEventListener("load",q);w.g.addEventListener("error",q)}}(b)),a.push(p))}return Promise.race([Promise.all(a),new Promise(function(w){var q=\nperformance.now();setTimeout(w,2300>q&&2E3<q?2300-q:500)})])},types:[]});z.ready.finally(function(){for(var a=l.length-3;0<=a;a-=3){var b=l[a],e=b.style;e.viewTransitionName=l[a+1];e.viewTransitionClass=l[a+1];""===b.getAttribute("style")&&b.removeAttribute("style")}});z.finished.finally(function(){document.__reactViewTransition===z&&(document.__reactViewTransition=null)});$RB=[];return}}catch(a){}A(g)}.bind(null,$RV);');var mn=I('$RC("'),pn=I('$RM=new Map;$RR=function(n,w,p){function u(q){this._p=null;q()}for(var r=new Map,t=document,h,b,e=t.querySelectorAll("link[data-precedence],style[data-precedence]"),v=[],k=0;b=e[k++];)"not all"===b.getAttribute("media")?v.push(b):("LINK"===b.tagName&&$RM.set(b.getAttribute("href"),b),r.set(b.dataset.precedence,h=b));e=0;b=[];var l,a;for(k=!0;;){if(k){var f=p[e++];if(!f){k=!1;e=0;continue}var c=!1,m=0;var d=f[m++];if(a=$RM.get(d)){var g=a._p;c=!0}else{a=t.createElement("link");a.href=d;a.rel=\n"stylesheet";for(a.dataset.precedence=l=f[m++];g=f[m++];)a.setAttribute(g,f[m++]);g=a._p=new Promise(function(q,x){a.onload=u.bind(a,q);a.onerror=u.bind(a,x)});$RM.set(d,a)}d=a.getAttribute("media");!g||d&&!matchMedia(d).matches||b.push(g);if(c)continue}else{a=v[e++];if(!a)break;l=a.getAttribute("data-precedence");a.removeAttribute("media")}c=r.get(l)||h;c===h&&(h=a);r.set(l,a);c?c.parentNode.insertBefore(a,c.nextSibling):(c=t.head,c.insertBefore(a,c.firstChild))}if(p=document.getElementById(n))p.previousSibling.data=\n"$~";Promise.all(b).then($RC.bind(null,n,w),$RX.bind(null,n,"CSS failed to load"))};$RR("'),fn=I('$RR("'),gn=I('","'),xn=I('",'),bn=I('"'),vn=I(")<\/script>");I('<template data-rci="" data-bid="'),I('<template data-rri="" data-bid="'),I('" data-sid="'),I('" data-sty="');var yn=I('$RX=function(b,c,d,e,f){var a=document.getElementById(b);a&&(b=a.previousSibling,b.data="$!",a=a.dataset,c&&(a.dgst=c),d&&(a.msg=d),e&&(a.stck=e),f&&(a.cstck=f),b._reactRetry&&b._reactRetry())};'),wn=I('$RX=function(b,c,d,e,f){var a=document.getElementById(b);a&&(b=a.previousSibling,b.data="$!",a=a.dataset,c&&(a.dgst=c),d&&(a.msg=d),e&&(a.stck=e),f&&(a.cstck=f),b._reactRetry&&b._reactRetry())};;$RX("'),jn=I('$RX("'),Nn=I('"'),kn=I(","),Sn=I(")<\/script>");I('<template data-rxi="" data-bid="'),I('" data-dgst="'),I('" data-msg="'),I('" data-stck="'),I('" data-cstck="');var Cn=/[<\u2028\u2029]/g;function _n(e){return JSON.stringify(e).replace(Cn,function(e){switch(e){case"<":return"\\u003c";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:throw Error("escapeJSStringsForInstructionScripts encountered a match it does not know how to replace. this means the match regex and the replacement characters are no longer in sync. This is a bug in React")}})}var Pn=/[&><\u2028\u2029]/g;function En(e){return JSON.stringify(e).replace(Pn,function(e){switch(e){case"&":return"\\u0026";case">":return"\\u003e";case"<":return"\\u003c";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:throw Error("escapeJSObjectForInstructionScripts encountered a match it does not know how to replace. this means the match regex and the replacement characters are no longer in sync. This is a bug in React")}})}var Dn=I(' media="not all" data-precedence="'),On=I('" data-href="'),Tn=I('">'),Mn=I("</style>"),An=!1,zn=!0;function Rn(e){var t=e.rules,n=e.hrefs,r=0;if(n.length){for(T(this,se.startInlineStyle),T(this,Dn),T(this,e.precedence),T(this,On);r<n.length-1;r++)T(this,n[r]),T(this,Hn);for(T(this,n[r]),T(this,Tn),r=0;r<t.length;r++)T(this,t[r]);zn=M(this,Mn),An=!0,t.length=0,n.length=0}}function In(e){return 2!==e.state&&(An=!0)}function Fn(e,t,n){return An=!1,zn=!0,se=n,t.styles.forEach(Rn,e),se=null,t.stylesheets.forEach(In),An&&(n.stylesToHoist=!0),zn}function Ln(e){for(var t=0;t<e.length;t++)T(this,e[t]);e.length=0}var Bn=[];function $n(e){nt(Bn,e.props);for(var t=0;t<Bn.length;t++)T(this,Bn[t]);Bn.length=0,e.state=2}var Wn=I(' data-precedence="'),Un=I('" data-href="'),Hn=I(" "),Vn=I('">'),qn=I("</style>");function Yn(e){var t=0<e.sheets.size;e.sheets.forEach($n,this),e.sheets.clear();var n=e.rules,r=e.hrefs;if(!t||r.length){if(T(this,se.startInlineStyle),T(this,Wn),T(this,e.precedence),e=0,r.length){for(T(this,Un);e<r.length-1;e++)T(this,r[e]),T(this,Hn);T(this,r[e])}for(T(this,Vn),e=0;e<n.length;e++)T(this,n[e]);T(this,qn),n.length=0,r.length=0}}function Gn(e){if(0===e.state){e.state=1;var t=e.props;for(nt(Bn,{rel:"preload",as:"style",href:e.props.href,crossOrigin:t.crossOrigin,fetchPriority:t.fetchPriority,integrity:t.integrity,media:t.media,hrefLang:t.hrefLang,referrerPolicy:t.referrerPolicy}),e=0;e<Bn.length;e++)T(this,Bn[e]);Bn.length=0}}function Kn(e){e.sheets.forEach(Gn,this),e.sheets.clear()}I('<link rel="expect" href="#'),I('" blocking="render"/>');var Xn=I(' id="');function Qn(e,t){!(32&t.instructions)&&(t.instructions|=32,e.push(Xn,R(K("_"+t.idPrefix+"R_")),Ie))}var Jn=I("["),Zn=I(",["),er=I(","),tr=I("]");function nr(e,t,n){var r=t.toLowerCase();switch(typeof n){case"function":case"symbol":return}switch(t){case"innerHTML":case"dangerouslySetInnerHTML":case"suppressContentEditableWarning":case"suppressHydrationWarning":case"style":case"ref":return;case"className":r="class",t=""+n;break;case"hidden":if(!1===n)return;t="";break;case"src":case"href":t=""+(n=Z(n));break;default:if(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])||!V(t))return;t=""+n}T(e,er),T(e,R(En(r))),T(e,er),T(e,R(En(t)))}function rr(){return{styles:new Set,stylesheets:new Set,suspenseyImages:!1}}function ar(e,t){null==e.crossOrigin&&(e.crossOrigin=t[0]),null==e.integrity&&(e.integrity=t[1])}function sr(e,t,n){for(var r in t="<"+(e=(""+e).replace(ir,or))+'>; rel=preload; as="'+(t=(""+t).replace(lr,cr))+'"',n)$.call(n,r)&&("string"==typeof(e=n[r])&&(t+="; "+r.toLowerCase()+'="'+(""+e).replace(lr,cr)+'"'));return t}var ir=/[<>\r\n]/g;function or(e){switch(e){case"<":return"%3C";case">":return"%3E";case"\n":return"%0A";case"\r":return"%0D";default:throw Error("escapeLinkHrefForHeaderContextReplacer encountered a match it does not know how to replace. this means the match regex and the replacement characters are no longer in sync. This is a bug in React")}}var lr=/["';,\r\n]/g;function cr(e){switch(e){case'"':return"%22";case"'":return"%27";case";":return"%3B";case",":return"%2C";case"\n":return"%0A";case"\r":return"%0D";default:throw Error("escapeStringForLinkHeaderQuotedParamValueContextReplacer encountered a match it does not know how to replace. this means the match regex and the replacement characters are no longer in sync. This is a bug in React")}}function dr(e){this.styles.add(e)}function ur(e){this.stylesheets.add(e)}function hr(e,t){t.styles.forEach(dr,e),t.stylesheets.forEach(ur,e),t.suspenseyImages&&(e.suspenseyImages=!0)}function mr(e){return 0<e.stylesheets.size||e.suspenseyImages}var pr=Function.prototype.bind,fr=Symbol.for("react.client.reference");function gr(e){if(null==e)return null;if("function"==typeof e)return e.$$typeof===fr?null:e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case s:return"Fragment";case o:return"Profiler";case i:return"StrictMode";case u:return"Suspense";case h:return"SuspenseList";case g:return"Activity"}if("object"==typeof e)switch(e.$$typeof){case a:return"Portal";case c:return e.displayName||"Context";case l:return(e._context.displayName||"Context")+".Consumer";case d:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case m:return null!==(t=e.displayName||null)?t:gr(e.type)||"Memo";case p:t=e._payload,e=e._init;try{return gr(e(t))}catch(n){}}return null}var xr={},br=null;function vr(e,t){if(e!==t){e.context._currentValue=e.parentValue,e=e.parent;var r=t.parent;if(null===e){if(null!==r)throw Error(n(401))}else{if(null===r)throw Error(n(401));vr(e,r)}t.context._currentValue=t.value}}function yr(e){e.context._currentValue=e.parentValue,null!==(e=e.parent)&&yr(e)}function wr(e){var t=e.parent;null!==t&&wr(t),e.context._currentValue=e.value}function jr(e,t){if(e.context._currentValue=e.parentValue,null===(e=e.parent))throw Error(n(402));e.depth===t.depth?vr(e,t):jr(e,t)}function Nr(e,t){var r=t.parent;if(null===r)throw Error(n(402));e.depth===r.depth?vr(e,r):Nr(e,r),t.context._currentValue=t.value}function kr(e){var t=br;t!==e&&(null===t?wr(e):null===e?yr(t):t.depth===e.depth?vr(t,e):t.depth>e.depth?jr(t,e):Nr(t,e),br=e)}var Sr={enqueueSetState:function(e,t){null!==(e=e._reactInternals).queue&&e.queue.push(t)},enqueueReplaceState:function(e,t){(e=e._reactInternals).replace=!0,e.queue=[t]},enqueueForceUpdate:function(){}},Cr={id:1,overflow:""};function _r(e,t,n){var r=e.id;e=e.overflow;var a=32-Pr(r)-1;r&=~(1<<a),n+=1;var s=32-Pr(t)+a;if(30<s){var i=a-a%5;return s=(r&(1<<i)-1).toString(32),r>>=i,a-=i,{id:1<<32-Pr(t)+a|n<<a|r,overflow:s+e}}return{id:1<<s|n<<a|r,overflow:e}}var Pr=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(Er(e)/Dr|0)|0},Er=Math.log,Dr=Math.LN2;function Or(){}var Tr=Error(n(460));var Mr=null;function Ar(){if(null===Mr)throw Error(n(459));var e=Mr;return Mr=null,e}var zr="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},Rr=null,Ir=null,Fr=null,Lr=null,Br=null,$r=null,Wr=!1,Ur=!1,Hr=0,Vr=0,qr=-1,Yr=0,Gr=null,Kr=null,Xr=0;function Qr(){if(null===Rr)throw Error(n(321));return Rr}function Jr(){if(0<Xr)throw Error(n(312));return{memoizedState:null,queue:null,next:null}}function Zr(){return null===$r?null===Br?(Wr=!1,Br=$r=Jr()):(Wr=!0,$r=Br):null===$r.next?(Wr=!1,$r=$r.next=Jr()):(Wr=!0,$r=$r.next),$r}function ea(){var e=Gr;return Gr=null,e}function ta(){Lr=Fr=Ir=Rr=null,Ur=!1,Br=null,Xr=0,$r=Kr=null}function na(e,t){return"function"==typeof t?t(e):t}function ra(e,t,n){if(Rr=Qr(),$r=Zr(),Wr){var r=$r.queue;if(t=r.dispatch,null!==Kr&&void 0!==(n=Kr.get(r))){Kr.delete(r),r=$r.memoizedState;do{r=e(r,n.action),n=n.next}while(null!==n);return $r.memoizedState=r,[r,t]}return[$r.memoizedState,t]}return e=e===na?"function"==typeof t?t():t:void 0!==n?n(t):t,$r.memoizedState=e,e=(e=$r.queue={last:null,dispatch:null}).dispatch=sa.bind(null,Rr,e),[$r.memoizedState,e]}function aa(e,t){if(Rr=Qr(),t=void 0===t?null:t,null!==($r=Zr())){var n=$r.memoizedState;if(null!==n&&null!==t){var r=n[1];e:if(null===r)r=!1;else{for(var a=0;a<r.length&&a<t.length;a++)if(!zr(t[a],r[a])){r=!1;break e}r=!0}if(r)return n[0]}}return e=e(),$r.memoizedState=[e,t],e}function sa(e,t,r){if(25<=Xr)throw Error(n(301));if(e===Rr)if(Ur=!0,e={action:r,next:null},null===Kr&&(Kr=new Map),void 0===(r=Kr.get(t)))Kr.set(t,e);else{for(t=r;null!==t.next;)t=t.next;t.next=e}}function ia(){throw Error(n(440))}function oa(){throw Error(n(394))}function la(){throw Error(n(479))}function ca(e,t,n){Qr();var r=Vr++,a=Fr;if("function"==typeof e.$$FORM_ACTION){var s=null,i=Lr;a=a.formState;var o=e.$$IS_SIGNATURE_EQUAL;if(null!==a&&"function"==typeof o){var l=a[1];o.call(e,a[2],a[3])&&(l===(s=void 0!==n?"p"+n:"k"+N(JSON.stringify([i,null,r]),0))&&(qr=r,t=a[0]))}var c=e.bind(null,t);return e=function(e){c(e)},"function"==typeof c.$$FORM_ACTION&&(e.$$FORM_ACTION=function(e){e=c.$$FORM_ACTION(e),void 0!==n&&(n+="",e.action=n);var t=e.data;return t&&(null===s&&(s=void 0!==n?"p"+n:"k"+N(JSON.stringify([i,null,r]),0)),t.append("$ACTION_KEY",s)),e}),[t,e,!1]}var d=e.bind(null,t);return[t,function(e){d(e)},!1]}function da(e){var t=Yr;return Yr+=1,null===Gr&&(Gr=[]),function(e,t,n){switch(void 0===(n=e[n])?e.push(t):n!==t&&(t.then(Or,Or),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw t.reason;default:switch("string"==typeof t.status?t.then(Or,Or):((e=t).status="pending",e.then(function(e){if("pending"===t.status){var n=t;n.status="fulfilled",n.value=e}},function(e){if("pending"===t.status){var n=t;n.status="rejected",n.reason=e}})),t.status){case"fulfilled":return t.value;case"rejected":throw t.reason}throw Mr=t,Tr}}(Gr,e,t)}function ua(){throw Error(n(393))}var ha,ma,pa={readContext:function(e){return e._currentValue},use:function(e){if(null!==e&&"object"==typeof e){if("function"==typeof e.then)return da(e);if(e.$$typeof===c)return e._currentValue}throw Error(n(438,String(e)))},useContext:function(e){return Qr(),e._currentValue},useMemo:aa,useReducer:ra,useRef:function(e){Rr=Qr();var t=($r=Zr()).memoizedState;return null===t?(e={current:e},$r.memoizedState=e):t},useState:function(e){return ra(na,e)},useInsertionEffect:Or,useLayoutEffect:Or,useCallback:function(e,t){return aa(function(){return e},t)},useImperativeHandle:Or,useEffect:Or,useDebugValue:Or,useDeferredValue:function(e,t){return Qr(),void 0!==t?t:e},useTransition:function(){return Qr(),[!1,oa]},useId:function(){var e=Ir.treeContext,t=e.overflow;e=((e=e.id)&~(1<<32-Pr(e)-1)).toString(32)+t;var r=fa;if(null===r)throw Error(n(404));return t=Hr++,e="_"+r.idPrefix+"R_"+e,0<t&&(e+="H"+t.toString(32)),e+"_"},useSyncExternalStore:function(e,t,r){if(void 0===r)throw Error(n(407));return r()},useOptimistic:function(e){return Qr(),[e,la]},useActionState:ca,useFormState:ca,useHostTransitionStatus:function(){return Qr(),ne},useMemoCache:function(e){for(var t=Array(e),n=0;n<e;n++)t[n]=b;return t},useCacheRefresh:function(){return ua},useEffectEvent:function(){return ia}},fa=null,ga={getCacheForType:function(){throw Error(n(248))},cacheSignal:function(){throw Error(n(248))}};function xa(e){if(void 0===ha)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);ha=t&&t[1]||"",ma=-1<n.stack.indexOf("\n    at")?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return"\n"+ha+e+ma}var ba=!1;function va(e,t){if(!e||ba)return"";ba=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(t){var n=function(){throw Error()};if(Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(n,[])}catch(a){var r=a}Reflect.construct(e,[],n)}else{try{n.call()}catch(s){r=s}e.call(n.prototype)}}else{try{throw Error()}catch(i){r=i}(n=e())&&"function"==typeof n.catch&&n.catch(function(){})}}catch(o){if(o&&r&&"string"==typeof o.stack)return[o.stack,r.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var a=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");a&&a.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var s=r.DetermineComponentFrameRoot(),i=s[0],o=s[1];if(i&&o){var l=i.split("\n"),c=o.split("\n");for(a=r=0;r<l.length&&!l[r].includes("DetermineComponentFrameRoot");)r++;for(;a<c.length&&!c[a].includes("DetermineComponentFrameRoot");)a++;if(r===l.length||a===c.length)for(r=l.length-1,a=c.length-1;1<=r&&0<=a&&l[r]!==c[a];)a--;for(;1<=r&&0<=a;r--,a--)if(l[r]!==c[a]){if(1!==r||1!==a)do{if(r--,0>--a||l[r]!==c[a]){var d="\n"+l[r].replace(" at new "," at ");return e.displayName&&d.includes("<anonymous>")&&(d=d.replace("<anonymous>",e.displayName)),d}}while(1<=r&&0<=a);break}}}finally{ba=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?xa(n):""}function ya(e){if("string"==typeof e)return xa(e);if("function"==typeof e)return e.prototype&&e.prototype.isReactComponent?va(e,!0):va(e,!1);if("object"==typeof e&&null!==e){switch(e.$$typeof){case d:return va(e.render,!1);case m:return va(e.type,!1);case p:var t=e,n=t._payload;t=t._init;try{e=t(n)}catch(a){return xa("Lazy")}return ya(e)}if("string"==typeof e.name){n=e.name,t=e.env;var r=e.debugLocation;return n=null==r||(e=Error.prepareStackTrace,Error.prepareStackTrace=void 0,r=r.stack,Error.prepareStackTrace=e,r.startsWith("Error: react-stack-top-frame\n")&&(r=r.slice(29)),-1!==(e=r.indexOf("\n"))&&(r=r.slice(e+1)),-1!==(e=r.indexOf("react_stack_bottom_frame"))&&(e=r.lastIndexOf("\n",e)),e=-1!==e?r=r.slice(0,e):"",r=e.lastIndexOf("\n"),-1===(e=-1===r?e:e.slice(r+1)).indexOf(n))?xa(n+(t?" ["+t+"]":"")):"\n"+e}}switch(e){case h:return xa("SuspenseList");case u:return xa("Suspense")}return""}function wa(e,t){return(500<t.byteSize||mr(t.contentState))&&null===t.contentPreamble}function ja(e){if("object"==typeof e&&null!==e&&"string"==typeof e.environmentName){var t=e.environmentName;"string"==typeof(e=[e].slice(0))[0]?e.splice(0,1,"%c%s%c "+e[0],"background: #e6e6e6;background: light-dark(rgba(0,0,0,0.1), rgba(255,255,255,0.25));color: #000000;color: light-dark(#000000, #ffffff);border-radius: 2px"," "+t+" ",""):e.splice(0,0,"%c%s%c","background: #e6e6e6;background: light-dark(rgba(0,0,0,0.1), rgba(255,255,255,0.25));color: #000000;color: light-dark(#000000, #ffffff);border-radius: 2px"," "+t+" ",""),e.unshift(console),(t=pr.apply(console.error,e))()}return null}function Na(e,t,n,r,a,s,i,o,l,c,d){var u=new Set;this.destination=null,this.flushScheduled=!1,this.resumableState=e,this.renderState=t,this.rootFormatContext=n,this.progressiveChunkSize=void 0===r?12800:r,this.status=10,this.fatalError=null,this.pendingRootTasks=this.allPendingTasks=this.nextSegmentId=0,this.completedPreambleSegments=this.completedRootSegment=null,this.byteSize=0,this.abortableTasks=u,this.pingedTasks=[],this.clientRenderedBoundaries=[],this.completedBoundaries=[],this.partialBoundaries=[],this.trackedPostpones=null,this.onError=void 0===a?ja:a,this.onPostpone=void 0===c?Or:c,this.onAllReady=void 0===s?Or:s,this.onShellReady=void 0===i?Or:i,this.onShellError=void 0===o?Or:o,this.onFatalError=void 0===l?Or:l,this.formState=void 0===d?null:d}function ka(e,t,n,r,a,s,i,o,l,c,d,u){return(n=Oa(t=new Na(t,n,r,a,s,i,o,l,c,d,u),0,null,r,!1,!1)).parentFlushed=!0,Ta(e=Ea(t,null,e,-1,null,n,null,null,t.abortableTasks,null,r,null,Cr,null,null)),t.pingedTasks.push(e),t}function Sa(e,t,n,r,a,s,i,o,l){return(n=new Na(t.resumableState,n,t.rootFormatContext,t.progressiveChunkSize,r,a,s,i,o,l,null)).nextSegmentId=t.nextSegmentId,"number"==typeof t.replaySlots?((r=Oa(n,0,null,t.rootFormatContext,!1,!1)).parentFlushed=!0,Ta(e=Ea(n,null,e,-1,null,r,null,null,n.abortableTasks,null,t.rootFormatContext,null,Cr,null,null)),n.pingedTasks.push(e),n):(Ta(e=Da(n,null,{nodes:t.replayNodes,slots:t.replaySlots,pendingTasks:0},e,-1,null,null,n.abortableTasks,null,t.rootFormatContext,null,Cr,null,null)),n.pingedTasks.push(e),n)}var Ca=null;function _a(e,t){e.pingedTasks.push(t),1===e.pingedTasks.length&&(e.flushScheduled=null!==e.destination,null!==e.trackedPostpones||10===e.status?E(function(){return ds(e)}):C(function(){return ds(e)}))}function Pa(e,t,n,r,a){return n={status:0,rootSegmentID:-1,parentFlushed:!1,pendingTasks:0,row:t,completedSegments:[],byteSize:0,fallbackAbortableTasks:n,errorDigest:null,contentState:rr(),fallbackState:rr(),contentPreamble:r,fallbackPreamble:a,trackedContentKeyPath:null,trackedFallbackNode:null},null!==t&&(t.pendingTasks++,null!==(r=t.boundaries)&&(e.allPendingTasks++,n.pendingTasks++,r.push(n)),null!==(e=t.inheritedHoistables)&&hr(n.contentState,e)),n}function Ea(e,t,n,r,a,s,i,o,l,c,d,u,h,m,p){e.allPendingTasks++,null===a?e.pendingRootTasks++:a.pendingTasks++,null!==m&&m.pendingTasks++;var f={replay:null,node:n,childIndex:r,ping:function(){return _a(e,f)},blockedBoundary:a,blockedSegment:s,blockedPreamble:i,hoistableState:o,abortSet:l,keyPath:c,formatContext:d,context:u,treeContext:h,row:m,componentStack:p,thenableState:t};return l.add(f),f}function Da(e,t,n,r,a,s,i,o,l,c,d,u,h,m){e.allPendingTasks++,null===s?e.pendingRootTasks++:s.pendingTasks++,null!==h&&h.pendingTasks++,n.pendingTasks++;var p={replay:n,node:r,childIndex:a,ping:function(){return _a(e,p)},blockedBoundary:s,blockedSegment:null,blockedPreamble:null,hoistableState:i,abortSet:o,keyPath:l,formatContext:c,context:d,treeContext:u,row:h,componentStack:m,thenableState:t};return o.add(p),p}function Oa(e,t,n,r,a,s){return{status:0,parentFlushed:!1,id:-1,index:t,chunks:[],children:[],preambleChildren:[],parentFormatContext:r,boundary:n,lastPushedText:a,textEmbedded:s}}function Ta(e){var t=e.node;if("object"==typeof t&&null!==t&&t.$$typeof===r)e.componentStack={parent:e.componentStack,type:t.type}}function Ma(e){return null===e?null:{parent:e.parent,type:"Suspense Fallback"}}function Aa(e){var t={};return e&&Object.defineProperty(t,"componentStack",{configurable:!0,enumerable:!0,get:function(){try{var n="",r=e;do{n+=ya(r.type),r=r.parent}while(r);var a=n}catch(s){a="\nError generating stack: "+s.message+"\n"+s.stack}return Object.defineProperty(t,"componentStack",{value:a}),a}}),t}function za(e,t,n){if(null==(t=(e=e.onError)(t,n))||"string"==typeof t)return t}function Ra(e,t){var n=e.onShellError,r=e.onFatalError;n(t),r(t),null!==e.destination?(e.status=14,L(e.destination,t)):(e.status=13,e.fatalError=t)}function Ia(e,t){Fa(e,t.next,t.hoistables)}function Fa(e,t,n){for(;null!==t;){null!==n&&(hr(t.hoistables,n),t.inheritedHoistables=n);var r=t.boundaries;if(null!==r){t.boundaries=null;for(var a=0;a<r.length;a++){var s=r[a];null!==n&&hr(s.contentState,n),cs(e,s,null,null)}}if(t.pendingTasks--,0<t.pendingTasks)break;n=t.hoistables,t=t.next}}function La(e,t){var n=t.boundaries;if(null!==n&&t.pendingTasks===n.length){for(var r=!0,a=0;a<n.length;a++){var s=n[a];if(1!==s.pendingTasks||s.parentFlushed||wa(0,s)){r=!1;break}}r&&Fa(e,t,t.hoistables)}}function Ba(e){var t={pendingTasks:1,boundaries:null,hoistables:rr(),inheritedHoistables:null,together:!1,next:null};return null!==e&&0<e.pendingTasks&&(t.pendingTasks++,t.boundaries=[],e.next=t),t}function $a(e,t,n,r,a){var s=t.keyPath,i=t.treeContext,o=t.row;t.keyPath=n,n=r.length;var l=null;if(null!==t.replay){var c=t.replay.slots;if(null!==c&&"object"==typeof c)for(var d=0;d<n;d++){var u="backwards"!==a&&"unstable_legacy-backwards"!==a?d:n-1-d,h=r[u];t.row=l=Ba(l),t.treeContext=_r(i,n,u);var m=c[u];"number"==typeof m?(Va(e,t,m,h,u),delete c[u]):es(e,t,h,u),0===--l.pendingTasks&&Ia(e,l)}else for(c=0;c<n;c++)u=r[d="backwards"!==a&&"unstable_legacy-backwards"!==a?c:n-1-c],t.row=l=Ba(l),t.treeContext=_r(i,n,d),es(e,t,u,d),0===--l.pendingTasks&&Ia(e,l)}else if("backwards"!==a&&"unstable_legacy-backwards"!==a)for(a=0;a<n;a++)c=r[a],t.row=l=Ba(l),t.treeContext=_r(i,n,a),es(e,t,c,a),0===--l.pendingTasks&&Ia(e,l);else{for(c=(a=t.blockedSegment).children.length,d=a.chunks.length,u=n-1;0<=u;u--){h=r[u],t.row=l=Ba(l),t.treeContext=_r(i,n,u),m=Oa(0,d,null,t.formatContext,0!==u||a.lastPushedText,!0),a.children.splice(c,0,m),t.blockedSegment=m;try{es(e,t,h,u),m.lastPushedText&&m.textEmbedded&&m.chunks.push(Pe),m.status=1,ls(e,t.blockedBoundary,m),0===--l.pendingTasks&&Ia(e,l)}catch(p){throw m.status=12===e.status?3:4,p}}t.blockedSegment=a,a.lastPushedText=!1}null!==o&&null!==l&&0<l.pendingTasks&&(o.pendingTasks++,l.next=o),t.treeContext=i,t.row=o,t.keyPath=s}function Wa(e,t,n,r,a,s){var i=t.thenableState;for(t.thenableState=null,Rr={},Ir=t,Fr=e,Lr=n,Vr=Hr=0,qr=-1,Yr=0,Gr=i,e=r(a,s);Ur;)Ur=!1,Vr=Hr=0,qr=-1,Yr=0,Xr+=1,$r=null,e=r(a,s);return ta(),e}function Ua(e,t,n,r,a,s,i){var o=!1;if(0!==s&&null!==e.formState){var l=t.blockedSegment;if(null!==l){o=!0,l=l.chunks;for(var c=0;c<s;c++)c===i?l.push(et):l.push(tt)}}s=t.keyPath,t.keyPath=n,a?(n=t.treeContext,t.treeContext=_r(n,1,0),es(e,t,r,-1),t.treeContext=n):o?es(e,t,r,-1):qa(e,t,r,-1),t.keyPath=s}function Ha(e,t,r,a,b,y){if("function"==typeof a)if(a.prototype&&a.prototype.isReactComponent){var N=b;if("ref"in b)for(var k in N={},b)"ref"!==k&&(N[k]=b[k]);var S=a.defaultProps;if(S)for(var C in N===b&&(N=B({},N,b)),S)void 0===N[C]&&(N[C]=S[C]);b=N,N=xr,"object"==typeof(S=a.contextType)&&null!==S&&(N=S._currentValue);var _=void 0!==(N=new a(b,N)).state?N.state:null;if(N.updater=Sr,N.props=b,N.state=_,S={queue:[],replace:!1},N._reactInternals=S,y=a.contextType,N.context="object"==typeof y&&null!==y?y._currentValue:xr,"function"==typeof(y=a.getDerivedStateFromProps)&&(_=null==(y=y(b,_))?_:B({},_,y),N.state=_),"function"!=typeof a.getDerivedStateFromProps&&"function"!=typeof N.getSnapshotBeforeUpdate&&("function"==typeof N.UNSAFE_componentWillMount||"function"==typeof N.componentWillMount))if(a=N.state,"function"==typeof N.componentWillMount&&N.componentWillMount(),"function"==typeof N.UNSAFE_componentWillMount&&N.UNSAFE_componentWillMount(),a!==N.state&&Sr.enqueueReplaceState(N,N.state,null),null!==S.queue&&0<S.queue.length)if(a=S.queue,y=S.replace,S.queue=null,S.replace=!1,y&&1===a.length)N.state=a[0];else{for(S=y?a[0]:N.state,_=!0,y=y?1:0;y<a.length;y++)null!=(C="function"==typeof(C=a[y])?C.call(N,S,b,void 0):C)&&(_?(_=!1,S=B({},S,C)):B(S,C));N.state=S}else S.queue=null;if(a=N.render(),12===e.status)throw null;b=t.keyPath,t.keyPath=r,qa(e,t,a,-1),t.keyPath=b}else{if(a=Wa(e,t,r,a,b,void 0),12===e.status)throw null;Ua(e,t,r,a,0!==Hr,Vr,qr)}else{if("string"!=typeof a){switch(a){case x:case i:case o:case s:return a=t.keyPath,t.keyPath=r,qa(e,t,b.children,-1),void(t.keyPath=a);case g:return void(null===(a=t.blockedSegment)?"hidden"!==b.mode&&(a=t.keyPath,t.keyPath=r,es(e,t,b.children,-1),t.keyPath=a):"hidden"!==b.mode&&(a.chunks.push(Pt),a.lastPushedText=!1,N=t.keyPath,t.keyPath=r,es(e,t,b.children,-1),t.keyPath=N,a.chunks.push(Et),a.lastPushedText=!1));case h:e:{if(a=b.children,"forwards"===(b=b.revealOrder)||"backwards"===b||"unstable_legacy-backwards"===b){if(j(a)){$a(e,t,r,a,b);break e}if((N=w(a))&&(N=N.call(a))){if(!(S=N.next()).done){do{S=N.next()}while(!S.done);$a(e,t,r,a,b)}break e}}"together"===b?(b=t.keyPath,N=t.row,(S=t.row=Ba(null)).boundaries=[],S.together=!0,t.keyPath=r,qa(e,t,a,-1),0===--S.pendingTasks&&Ia(e,S),t.keyPath=b,t.row=N,null!==N&&0<S.pendingTasks&&(N.pendingTasks++,S.next=N)):(b=t.keyPath,t.keyPath=r,qa(e,t,a,-1),t.keyPath=b)}return;case v:case f:throw Error(n(343));case u:e:if(null!==t.replay){a=t.keyPath,N=t.formatContext,S=t.row,t.keyPath=r,t.formatContext=_e(e.resumableState,N),t.row=null,r=b.children;try{es(e,t,r,-1)}finally{t.keyPath=a,t.formatContext=N,t.row=S}}else{a=t.keyPath,y=t.formatContext;var P=t.row;C=t.blockedBoundary,k=t.blockedPreamble;var E=t.hoistableState,D=t.blockedSegment,O=b.fallback;b=b.children;var T=new Set,M=2>t.formatContext.insertionMode?Pa(e,t.row,T,{htmlChunks:null,headChunks:null,bodyChunks:null},{htmlChunks:null,headChunks:null,bodyChunks:null}):Pa(e,t.row,T,null,null);null!==e.trackedPostpones&&(M.trackedContentKeyPath=r);var A=Oa(0,D.chunks.length,M,t.formatContext,!1,!1);D.children.push(A),D.lastPushedText=!1;var z=Oa(0,0,null,t.formatContext,!1,!1);if(z.parentFlushed=!0,null!==e.trackedPostpones){N=t.componentStack,_=[(S=[r[0],"Suspense Fallback",r[2]])[1],S[2],[],null],e.trackedPostpones.workingMap.set(S,_),M.trackedFallbackNode=_,t.blockedSegment=A,t.blockedPreamble=M.fallbackPreamble,t.keyPath=S,t.formatContext=Ce(e.resumableState,y),t.componentStack=Ma(N),A.status=6;try{es(e,t,O,-1),A.lastPushedText&&A.textEmbedded&&A.chunks.push(Pe),A.status=1,ls(e,C,A)}catch(R){throw A.status=12===e.status?3:4,R}finally{t.blockedSegment=D,t.blockedPreamble=k,t.keyPath=a,t.formatContext=y}Ta(t=Ea(e,null,b,-1,M,z,M.contentPreamble,M.contentState,t.abortSet,r,_e(e.resumableState,t.formatContext),t.context,t.treeContext,null,N)),e.pingedTasks.push(t)}else{t.blockedBoundary=M,t.blockedPreamble=M.contentPreamble,t.hoistableState=M.contentState,t.blockedSegment=z,t.keyPath=r,t.formatContext=_e(e.resumableState,y),t.row=null,z.status=6;try{if(es(e,t,b,-1),z.lastPushedText&&z.textEmbedded&&z.chunks.push(Pe),z.status=1,ls(e,M,z),os(M,z),0===M.pendingTasks&&0===M.status){if(M.status=1,!wa(0,M)){null!==P&&0===--P.pendingTasks&&Ia(e,P),0===e.pendingRootTasks&&t.blockedPreamble&&ms(e);break e}}else null!==P&&P.together&&La(e,P)}catch(I){M.status=4,12===e.status?(z.status=3,N=e.fatalError):(z.status=4,N=I),_=za(e,N,S=Aa(t.componentStack)),M.errorDigest=_,Qa(e,M)}finally{t.blockedBoundary=C,t.blockedPreamble=k,t.hoistableState=E,t.blockedSegment=D,t.keyPath=a,t.formatContext=y,t.row=P}Ta(t=Ea(e,null,O,-1,C,A,M.fallbackPreamble,M.fallbackState,T,[r[0],"Suspense Fallback",r[2]],Ce(e.resumableState,t.formatContext),t.context,t.treeContext,t.row,Ma(t.componentStack))),e.pingedTasks.push(t)}}return}if("object"==typeof a&&null!==a)switch(a.$$typeof){case d:if("ref"in b)for(D in N={},b)"ref"!==D&&(N[D]=b[D]);else N=b;return void Ua(e,t,r,a=Wa(e,t,r,a.render,N,y),0!==Hr,Vr,qr);case m:return void Ha(e,t,r,a.type,b,y);case c:if(S=b.children,N=t.keyPath,b=b.value,_=a._currentValue,a._currentValue=b,br=a={parent:y=br,depth:null===y?0:y.depth+1,context:a,parentValue:_,value:b},t.context=a,t.keyPath=r,qa(e,t,S,-1),null===(e=br))throw Error(n(403));return e.context._currentValue=e.parentValue,e=br=e.parent,t.context=e,void(t.keyPath=N);case l:return a=(b=b.children)(a._context._currentValue),b=t.keyPath,t.keyPath=r,qa(e,t,a,-1),void(t.keyPath=b);case p:if(a=(N=a._init)(a._payload),12===e.status)throw null;return void Ha(e,t,r,a,b,y)}throw Error(n(130,null==a?a:typeof a,""))}if(null===(N=t.blockedSegment))N=b.children,S=t.formatContext,_=t.keyPath,t.formatContext=ke(S,a,b),t.keyPath=r,es(e,t,N,-1),t.formatContext=S,t.keyPath=_;else{if(_=bt(N.chunks,a,b,e.resumableState,e.renderState,t.blockedPreamble,t.hoistableState,t.formatContext,N.lastPushedText),N.lastPushedText=!1,S=t.formatContext,y=t.keyPath,t.keyPath=r,3===(t.formatContext=ke(S,a,b)).insertionMode){r=Oa(0,0,null,t.formatContext,!1,!1),N.preambleChildren.push(r),t.blockedSegment=r;try{r.status=6,es(e,t,_,-1),r.lastPushedText&&r.textEmbedded&&r.chunks.push(Pe),r.status=1,ls(e,t.blockedBoundary,r)}finally{t.blockedSegment=N}}else es(e,t,_,-1);t.formatContext=S,t.keyPath=y;e:{switch(t=N.chunks,e=e.resumableState,a){case"title":case"style":case"script":case"area":case"base":case"br":case"col":case"embed":case"hr":case"img":case"input":case"keygen":case"link":case"meta":case"param":case"source":case"track":case"wbr":break e;case"body":if(1>=S.insertionMode){e.hasBody=!0;break e}break;case"html":if(0===S.insertionMode){e.hasHtml=!0;break e}break;case"head":if(1>=S.insertionMode)break e}t.push(yt(a))}N.lastPushedText=!1}}}function Va(e,t,n,r,a){var s=t.replay,i=t.blockedBoundary,o=Oa(0,0,null,t.formatContext,!1,!1);o.id=n,o.parentFlushed=!0;try{t.replay=null,t.blockedSegment=o,es(e,t,r,a),o.status=1,ls(e,i,o),null===i?e.completedRootSegment=o:(os(i,o),i.parentFlushed&&e.partialBoundaries.push(i))}finally{t.replay=s,t.blockedSegment=null}}function qa(e,t,n,r){null!==t.replay&&"number"==typeof t.replay.slots?Va(e,t,t.replay.slots,n,r):(t.node=n,t.childIndex=r,n=t.componentStack,Ta(t),Ya(e,t),t.componentStack=n)}function Ya(e,t){var s=t.node,i=t.childIndex;if(null!==s){if("object"==typeof s){switch(s.$$typeof){case r:var o=s.type,l=s.key,d=s.props,h=void 0!==(s=d.ref)?s:null,m=gr(o),f=null==l?-1===i?0:i:l;if(l=[t.keyPath,m,f],null!==t.replay)e:{var g=t.replay;for(i=g.nodes,s=0;s<i.length;s++){var x=i[s];if(f===x[1]){if(4===x.length){if(null!==m&&m!==x[0])throw Error(n(490,x[0],m));var b=x[2];m=x[3],f=t.node,t.replay={nodes:b,slots:m,pendingTasks:1};try{if(Ha(e,t,l,o,d,h),1===t.replay.pendingTasks&&0<t.replay.nodes.length)throw Error(n(488));t.replay.pendingTasks--}catch(D){if("object"==typeof D&&null!==D&&(D===Tr||"function"==typeof D.then))throw t.node===f?t.replay=g:i.splice(s,1),D;t.replay.pendingTasks--,d=Aa(t.componentStack),ns(l=e,e=t.blockedBoundary,b,m,o=D,d=za(l,o,d))}t.replay=g}else{if(o!==u)throw Error(n(490,"Suspense",gr(o)||"Unknown"));t:{g=void 0,o=x[5],h=x[2],m=x[3],f=null===x[4]?[]:x[4][2],x=null===x[4]?null:x[4][3];var v=t.keyPath,y=t.formatContext,N=t.row,k=t.replay,S=t.blockedBoundary,C=t.hoistableState,_=d.children,P=d.fallback,E=new Set;(d=2>t.formatContext.insertionMode?Pa(e,t.row,E,we(),we()):Pa(e,t.row,E,null,null)).parentFlushed=!0,d.rootSegmentID=o,t.blockedBoundary=d,t.hoistableState=d.contentState,t.keyPath=l,t.formatContext=_e(e.resumableState,y),t.row=null,t.replay={nodes:h,slots:m,pendingTasks:1};try{if(es(e,t,_,-1),1===t.replay.pendingTasks&&0<t.replay.nodes.length)throw Error(n(488));if(t.replay.pendingTasks--,0===d.pendingTasks&&0===d.status){d.status=1,e.completedBoundaries.push(d);break t}}catch(O){d.status=4,g=za(e,O,b=Aa(t.componentStack)),d.errorDigest=g,t.replay.pendingTasks--,e.clientRenderedBoundaries.push(d)}finally{t.blockedBoundary=S,t.hoistableState=C,t.replay=k,t.keyPath=v,t.formatContext=y,t.row=N}Ta(b=Da(e,null,{nodes:f,slots:x,pendingTasks:0},P,-1,S,d.fallbackState,E,[l[0],"Suspense Fallback",l[2]],Ce(e.resumableState,t.formatContext),t.context,t.treeContext,t.row,Ma(t.componentStack))),e.pingedTasks.push(b)}}i.splice(s,1);break e}}}else Ha(e,t,l,o,d,h);return;case a:throw Error(n(257));case p:if(s=(b=s._init)(s._payload),12===e.status)throw null;return void qa(e,t,s,i)}if(j(s))return void Ga(e,t,s,i);if((b=w(s))&&(b=b.call(s))){if(!(s=b.next()).done){d=[];do{d.push(s.value),s=b.next()}while(!s.done);Ga(e,t,d,i)}return}if("function"==typeof s.then)return t.thenableState=null,qa(e,t,da(s),i);if(s.$$typeof===c)return qa(e,t,s._currentValue,i);throw i=Object.prototype.toString.call(s),Error(n(31,"[object Object]"===i?"object with keys {"+Object.keys(s).join(", ")+"}":i))}"string"==typeof s?null!==(i=t.blockedSegment)&&(i.lastPushedText=Ee(i.chunks,s,e.renderState,i.lastPushedText)):"number"!=typeof s&&"bigint"!=typeof s||null!==(i=t.blockedSegment)&&(i.lastPushedText=Ee(i.chunks,""+s,e.renderState,i.lastPushedText))}}function Ga(e,t,r,a){var s=t.keyPath;if(-1===a||(t.keyPath=[t.keyPath,"Fragment",a],null===t.replay)){if(i=t.treeContext,o=r.length,null!==t.replay&&(null!==(l=t.replay.slots)&&"object"==typeof l)){for(a=0;a<o;a++)c=r[a],t.treeContext=_r(i,o,a),"number"==typeof(d=l[a])?(Va(e,t,d,c,a),delete l[a]):es(e,t,c,a);return t.treeContext=i,void(t.keyPath=s)}for(l=0;l<o;l++)a=r[l],t.treeContext=_r(i,o,l),es(e,t,a,l);t.treeContext=i,t.keyPath=s}else{for(var i=t.replay,o=i.nodes,l=0;l<o.length;l++){var c=o[l];if(c[1]===a){a=c[2],c=c[3],t.replay={nodes:a,slots:c,pendingTasks:1};try{if(Ga(e,t,r,-1),1===t.replay.pendingTasks&&0<t.replay.nodes.length)throw Error(n(488));t.replay.pendingTasks--}catch(u){if("object"==typeof u&&null!==u&&(u===Tr||"function"==typeof u.then))throw u;t.replay.pendingTasks--,r=Aa(t.componentStack);var d=t.blockedBoundary;ns(e,d,a,c,u,r=za(e,u,r))}t.replay=i,o.splice(l,1);break}}t.keyPath=s}}function Ka(e,t,r){if(r.status=5,r.rootSegmentID=e.nextSegmentId++,null===(e=r.trackedContentKeyPath))throw Error(n(486));var a=r.trackedFallbackNode,s=t.workingMap.get(e);return void 0===s?(r=[e[1],e[2],[],null,a,r.rootSegmentID],t.workingMap.set(e,r),Cs(r,e[0],t),r):(s[4]=a,s[5]=r.rootSegmentID,s)}function Xa(e,t,r,a){a.status=5;var s=r.keyPath,i=r.blockedBoundary;if(null===i)a.id=e.nextSegmentId++,t.rootSlots=a.id,null!==e.completedRootSegment&&(e.completedRootSegment.status=5);else{if(null!==i&&0===i.status){var o=Ka(e,t,i);if(i.trackedContentKeyPath===s&&-1===r.childIndex)return-1===a.id&&(a.id=a.parentFlushed?i.rootSegmentID:e.nextSegmentId++),void(o[3]=a.id)}if(-1===a.id&&(a.id=a.parentFlushed&&null!==i?i.rootSegmentID:e.nextSegmentId++),-1===r.childIndex)null===s?t.rootSlots=a.id:void 0===(r=t.workingMap.get(s))?Cs(r=[s[1],s[2],[],a.id],s[0],t):r[3]=a.id;else{if(null===s){if(null===(e=t.rootSlots))e=t.rootSlots={};else if("number"==typeof e)throw Error(n(491))}else if(void 0===(o=(i=t.workingMap).get(s)))e={},o=[s[1],s[2],[],e],i.set(s,o),Cs(o,s[0],t);else if(null===(e=o[3]))e=o[3]={};else if("number"==typeof e)throw Error(n(491));e[r.childIndex]=a.id}}}function Qa(e,t){null!==(e=e.trackedPostpones)&&(null!==(t=t.trackedContentKeyPath)&&(void 0!==(t=e.workingMap.get(t))&&(t.length=4,t[2]=[],t[3]=null)))}function Ja(e,t,n){return Da(e,n,t.replay,t.node,t.childIndex,t.blockedBoundary,t.hoistableState,t.abortSet,t.keyPath,t.formatContext,t.context,t.treeContext,t.row,t.componentStack)}function Za(e,t,n){var r=t.blockedSegment,a=Oa(0,r.chunks.length,null,t.formatContext,r.lastPushedText,!0);return r.children.push(a),r.lastPushedText=!1,Ea(e,n,t.node,t.childIndex,t.blockedBoundary,a,t.blockedPreamble,t.hoistableState,t.abortSet,t.keyPath,t.formatContext,t.context,t.treeContext,t.row,t.componentStack)}function es(e,t,n,r){var a=t.formatContext,s=t.context,i=t.keyPath,o=t.treeContext,l=t.componentStack,c=t.blockedSegment;if(null===c){c=t.replay;try{return qa(e,t,n,r)}catch(h){if(ta(),n=h===Tr?Ar():h,12!==e.status&&"object"==typeof n&&null!==n){if("function"==typeof n.then)return e=Ja(e,t,r=h===Tr?ea():null).ping,n.then(e,e),t.formatContext=a,t.context=s,t.keyPath=i,t.treeContext=o,t.componentStack=l,t.replay=c,void kr(s);if("Maximum call stack size exceeded"===n.message)return n=Ja(e,t,n=h===Tr?ea():null),e.pingedTasks.push(n),t.formatContext=a,t.context=s,t.keyPath=i,t.treeContext=o,t.componentStack=l,t.replay=c,void kr(s)}}}else{var d=c.children.length,u=c.chunks.length;try{return qa(e,t,n,r)}catch(m){if(ta(),c.children.length=d,c.chunks.length=u,n=m===Tr?Ar():m,12!==e.status&&"object"==typeof n&&null!==n){if("function"==typeof n.then)return c=n,e=Za(e,t,n=m===Tr?ea():null).ping,c.then(e,e),t.formatContext=a,t.context=s,t.keyPath=i,t.treeContext=o,t.componentStack=l,void kr(s);if("Maximum call stack size exceeded"===n.message)return c=Za(e,t,c=m===Tr?ea():null),e.pingedTasks.push(c),t.formatContext=a,t.context=s,t.keyPath=i,t.treeContext=o,t.componentStack=l,void kr(s)}}}throw t.formatContext=a,t.context=s,t.keyPath=i,t.treeContext=o,kr(s),n}function ts(e){var t=e.blockedBoundary,n=e.blockedSegment;null!==n&&(n.status=3,cs(this,t,e.row,n))}function ns(e,t,r,a,s,i){for(var o=0;o<r.length;o++){var l=r[o];if(4===l.length)ns(e,t,l[2],l[3],s,i);else{l=l[5];var c=e,d=i,u=Pa(c,null,new Set,null,null);u.parentFlushed=!0,u.rootSegmentID=l,u.status=4,u.errorDigest=d,u.parentFlushed&&c.clientRenderedBoundaries.push(u)}}if(r.length=0,null!==a){if(null===t)throw Error(n(487));if(4!==t.status&&(t.status=4,t.errorDigest=i,t.parentFlushed&&e.clientRenderedBoundaries.push(t)),"object"==typeof a)for(var h in a)delete a[h]}}function rs(e,t,n){var r=e.blockedBoundary,a=e.blockedSegment;if(null!==a){if(6===a.status)return;a.status=3}var s=Aa(e.componentStack);if(null===r){if(13!==t.status&&14!==t.status){if(null===(r=e.replay))return void(null!==t.trackedPostpones&&null!==a?(r=t.trackedPostpones,za(t,n,s),Xa(t,r,e,a),cs(t,null,e.row,a)):(za(t,n,s),Ra(t,n)));r.pendingTasks--,0===r.pendingTasks&&0<r.nodes.length&&(a=za(t,n,s),ns(t,null,r.nodes,r.slots,n,a)),t.pendingRootTasks--,0===t.pendingRootTasks&&ss(t)}}else{var i=t.trackedPostpones;if(4!==r.status){if(null!==i&&null!==a)return za(t,n,s),Xa(t,i,e,a),r.fallbackAbortableTasks.forEach(function(e){return rs(e,t,n)}),r.fallbackAbortableTasks.clear(),cs(t,r,e.row,a);r.status=4,a=za(t,n,s),r.status=4,r.errorDigest=a,Qa(t,r),r.parentFlushed&&t.clientRenderedBoundaries.push(r)}r.pendingTasks--,null!==(a=r.row)&&0===--a.pendingTasks&&Ia(t,a),r.fallbackAbortableTasks.forEach(function(e){return rs(e,t,n)}),r.fallbackAbortableTasks.clear()}null!==(e=e.row)&&0===--e.pendingTasks&&Ia(t,e),t.allPendingTasks--,0===t.allPendingTasks&&is(t)}function as(e,t){try{var n=e.renderState,r=n.onHeaders;if(r){var a=n.headers;if(a){n.headers=null;var s=a.preconnects;if(a.fontPreloads&&(s&&(s+=", "),s+=a.fontPreloads),a.highImagePreloads&&(s&&(s+=", "),s+=a.highImagePreloads),!t){var i=n.styles.values(),o=i.next();e:for(;0<a.remainingCapacity&&!o.done;o=i.next())for(var l=o.value.sheets.values(),c=l.next();0<a.remainingCapacity&&!c.done;c=l.next()){var d=c.value,u=d.props,h=u.href,m=d.props,p=sr(m.href,"style",{crossOrigin:m.crossOrigin,integrity:m.integrity,nonce:m.nonce,type:m.type,fetchPriority:m.fetchPriority,referrerPolicy:m.referrerPolicy,media:m.media});if(!(0<=(a.remainingCapacity-=p.length+2)))break e;n.resets.style[h]=ae,s&&(s+=", "),s+=p,n.resets.style[h]="string"==typeof u.crossOrigin||"string"==typeof u.integrity?[u.crossOrigin,u.integrity]:ae}}r(s?{Link:s}:{})}}}catch(f){za(e,f,{})}}function ss(e){null===e.trackedPostpones&&as(e,!0),null===e.trackedPostpones&&ms(e),e.onShellError=Or,(e=e.onShellReady)()}function is(e){as(e,null===e.trackedPostpones||(null===e.completedRootSegment||5!==e.completedRootSegment.status)),ms(e),(e=e.onAllReady)()}function os(e,t){if(0===t.chunks.length&&1===t.children.length&&null===t.children[0].boundary&&-1===t.children[0].id){var n=t.children[0];n.id=t.id,n.parentFlushed=!0,1!==n.status&&3!==n.status&&4!==n.status||os(e,n)}else e.completedSegments.push(t)}function ls(e,t,n){if(null!==F){n=n.chunks;for(var r=0,a=0;a<n.length;a++)r+=n[a].byteLength;null===t?e.byteSize+=r:t.byteSize+=r}}function cs(e,t,r,a){if(null!==r&&(0===--r.pendingTasks?Ia(e,r):r.together&&La(e,r)),e.allPendingTasks--,null===t){if(null!==a&&a.parentFlushed){if(null!==e.completedRootSegment)throw Error(n(389));e.completedRootSegment=a}e.pendingRootTasks--,0===e.pendingRootTasks&&ss(e)}else if(t.pendingTasks--,4!==t.status)if(0===t.pendingTasks){if(0===t.status&&(t.status=1),null!==a&&a.parentFlushed&&(1===a.status||3===a.status)&&os(t,a),t.parentFlushed&&e.completedBoundaries.push(t),1===t.status)null!==(r=t.row)&&hr(r.hoistables,t.contentState),wa(0,t)||(t.fallbackAbortableTasks.forEach(ts,e),t.fallbackAbortableTasks.clear(),null!==r&&0===--r.pendingTasks&&Ia(e,r)),0===e.pendingRootTasks&&null===e.trackedPostpones&&null!==t.contentPreamble&&ms(e);else if(5===t.status&&null!==(t=t.row)){if(null!==e.trackedPostpones){r=e.trackedPostpones;var s=t.next;if(null!==s&&null!==(a=s.boundaries))for(s.boundaries=null,s=0;s<a.length;s++){var i=a[s];Ka(e,r,i),cs(e,i,null,null)}}0===--t.pendingTasks&&Ia(e,t)}}else null===a||!a.parentFlushed||1!==a.status&&3!==a.status||(os(t,a),1===t.completedSegments.length&&t.parentFlushed&&e.partialBoundaries.push(t)),null!==(t=t.row)&&t.together&&La(e,t);0===e.allPendingTasks&&is(e)}function ds(e){if(14!==e.status&&13!==e.status){var t=br,r=ee.H;ee.H=pa;var a=ee.A;ee.A=ga;var s=Ca;Ca=e;var i=fa;fa=e.resumableState;try{var o,l=e.pingedTasks;for(o=0;o<l.length;o++){var c=l[o],d=e,u=c.blockedSegment;if(null===u){var h=d;if(0!==c.replay.pendingTasks){kr(c.context);try{if("number"==typeof c.replay.slots?Va(h,c,c.replay.slots,c.node,c.childIndex):Ya(h,c),1===c.replay.pendingTasks&&0<c.replay.nodes.length)throw Error(n(488));c.replay.pendingTasks--,c.abortSet.delete(c),cs(h,c.blockedBoundary,c.row,null)}catch(E){ta();var m=E===Tr?Ar():E;if("object"==typeof m&&null!==m&&"function"==typeof m.then){var p=c.ping;m.then(p,p),c.thenableState=E===Tr?ea():null}else{c.replay.pendingTasks--,c.abortSet.delete(c);var f=Aa(c.componentStack);d=void 0;var g=h,x=c.blockedBoundary,b=12===h.status?h.fatalError:m;ns(g,x,c.replay.nodes,c.replay.slots,b,d=za(g,b,f)),h.pendingRootTasks--,0===h.pendingRootTasks&&ss(h),h.allPendingTasks--,0===h.allPendingTasks&&is(h)}}}}else if(h=void 0,0===(g=u).status){g.status=6,kr(c.context);var v=g.children.length,y=g.chunks.length;try{Ya(d,c),g.lastPushedText&&g.textEmbedded&&g.chunks.push(Pe),c.abortSet.delete(c),g.status=1,ls(d,c.blockedBoundary,g),cs(d,c.blockedBoundary,c.row,g)}catch(E){ta(),g.children.length=v,g.chunks.length=y;var w=E===Tr?Ar():12===d.status?d.fatalError:E;if(12===d.status&&null!==d.trackedPostpones){var j=d.trackedPostpones,N=Aa(c.componentStack);c.abortSet.delete(c),za(d,w,N),Xa(d,j,c,g),cs(d,c.blockedBoundary,c.row,g)}else if("object"==typeof w&&null!==w&&"function"==typeof w.then){g.status=0,c.thenableState=E===Tr?ea():null;var k=c.ping;w.then(k,k)}else{var S=Aa(c.componentStack);c.abortSet.delete(c),g.status=4;var C=c.blockedBoundary,_=c.row;if(null!==_&&0===--_.pendingTasks&&Ia(d,_),d.allPendingTasks--,h=za(d,w,S),null===C)Ra(d,w);else if(C.pendingTasks--,4!==C.status){C.status=4,C.errorDigest=h,Qa(d,C);var P=C.row;null!==P&&0===--P.pendingTasks&&Ia(d,P),C.parentFlushed&&d.clientRenderedBoundaries.push(C),0===d.pendingRootTasks&&null===d.trackedPostpones&&null!==C.contentPreamble&&ms(d)}0===d.allPendingTasks&&is(d)}}}}l.splice(0,o),null!==e.destination&&ws(e,e.destination)}catch(D){za(e,D,{}),Ra(e,D)}finally{fa=i,ee.H=r,ee.A=a,r===pa&&kr(t),Ca=s}}}function us(e,t,n){t.preambleChildren.length&&n.push(t.preambleChildren);for(var r=!1,a=0;a<t.children.length;a++)r=hs(e,t.children[a],n)||r;return r}function hs(e,t,r){var a=t.boundary;if(null===a)return us(e,t,r);var s=a.contentPreamble,i=a.fallbackPreamble;if(null===s||null===i)return!1;switch(a.status){case 1:if(Nt(e.renderState,s),e.byteSize+=a.byteSize,!(t=a.completedSegments[0]))throw Error(n(391));return us(e,t,r);case 5:if(null!==e.trackedPostpones)return!0;case 4:if(1===t.status)return Nt(e.renderState,i),us(e,t,r);default:return!0}}function ms(e){if(e.completedRootSegment&&null===e.completedPreambleSegments){var t=[],n=e.byteSize,r=hs(e,e.completedRootSegment,t),a=e.renderState.preamble;!1===r||a.headChunks&&a.bodyChunks?e.completedPreambleSegments=t:e.byteSize=n}}function ps(e,t,r,a){switch(r.parentFlushed=!0,r.status){case 0:r.id=e.nextSegmentId++;case 5:return a=r.id,r.lastPushedText=!1,r.textEmbedded=!1,e=e.renderState,T(t,Ct),T(t,e.placeholderPrefix),T(t,e=R(a.toString(16))),M(t,_t);case 1:r.status=2;var s=!0,i=r.chunks,o=0;r=r.children;for(var l=0;l<r.length;l++){for(s=r[l];o<s.index;o++)T(t,i[o]);s=gs(e,t,s,a)}for(;o<i.length-1;o++)T(t,i[o]);return o<i.length&&(s=M(t,i[o])),s;case 3:return!0;default:throw Error(n(390))}}var fs=0;function gs(e,t,r,a){var s=r.boundary;if(null===s)return ps(e,t,r,a);if(s.parentFlushed=!0,4===s.status){var i=s.row;null!==i&&0===--i.pendingTasks&&Ia(e,i),s=s.errorDigest,M(t,Mt),T(t,zt),s&&(T(t,It),T(t,R(K(s))),T(t,Rt)),M(t,Ft),ps(e,t,r,a)}else if(1!==s.status)0===s.status&&(s.rootSegmentID=e.nextSegmentId++),0<s.completedSegments.length&&e.partialBoundaries.push(s),Lt(t,e.renderState,s.rootSegmentID),a&&hr(a,s.fallbackState),ps(e,t,r,a);else if(!ys&&wa(0,s)&&(fs+s.byteSize>e.progressiveChunkSize||mr(s.contentState)))s.rootSegmentID=e.nextSegmentId++,e.completedBoundaries.push(s),Lt(t,e.renderState,s.rootSegmentID),ps(e,t,r,a);else{if(fs+=s.byteSize,a&&hr(a,s.contentState),null!==(r=s.row)&&wa(0,s)&&0===--r.pendingTasks&&Ia(e,r),M(t,Dt),1!==(r=s.completedSegments).length)throw Error(n(391));gs(e,t,r[0],a)}return M(t,At)}function xs(e,t,r,a){return function(e,t,r,a){switch(r.insertionMode){case 0:case 1:case 3:case 2:return T(e,Bt),T(e,t.segmentPrefix),T(e,R(a.toString(16))),M(e,$t);case 4:return T(e,Ut),T(e,t.segmentPrefix),T(e,R(a.toString(16))),M(e,Ht);case 5:return T(e,qt),T(e,t.segmentPrefix),T(e,R(a.toString(16))),M(e,Yt);case 6:return T(e,Kt),T(e,t.segmentPrefix),T(e,R(a.toString(16))),M(e,Xt);case 7:return T(e,Jt),T(e,t.segmentPrefix),T(e,R(a.toString(16))),M(e,Zt);case 8:return T(e,tn),T(e,t.segmentPrefix),T(e,R(a.toString(16))),M(e,nn);case 9:return T(e,an),T(e,t.segmentPrefix),T(e,R(a.toString(16))),M(e,sn);default:throw Error(n(397))}}(t,e.renderState,r.parentFormatContext,r.id),gs(e,t,r,a),function(e,t){switch(t.insertionMode){case 0:case 1:case 3:case 2:return M(e,Wt);case 4:return M(e,Vt);case 5:return M(e,Gt);case 6:return M(e,Qt);case 7:return M(e,en);case 8:return M(e,rn);case 9:return M(e,on);default:throw Error(n(397))}}(t,r.parentFormatContext)}function bs(e,t,r){fs=r.byteSize;for(var a=r.completedSegments,s=0;s<a.length;s++)vs(e,t,r,a[s]);a.length=0,null!==(a=r.row)&&wa(0,r)&&0===--a.pendingTasks&&Ia(e,a),Fn(t,r.contentState,e.renderState),a=e.resumableState,e=e.renderState,s=r.rootSegmentID,r=r.contentState;var i=e.stylesToHoist;return e.stylesToHoist=!1,T(t,e.startInlineScript),T(t,Ge),i?(!(4&a.instructions)&&(a.instructions|=4,T(t,yn)),!(2&a.instructions)&&(a.instructions|=2,T(t,hn)),8&a.instructions?T(t,fn):(a.instructions|=8,T(t,pn))):(!(2&a.instructions)&&(a.instructions|=2,T(t,hn)),T(t,mn)),a=R(s.toString(16)),T(t,e.boundaryPrefix),T(t,a),T(t,gn),T(t,e.segmentPrefix),T(t,a),i?(T(t,xn),function(e,t){T(e,Jn);var r=Jn;t.stylesheets.forEach(function(t){if(2!==t.state)if(3===t.state)T(e,r),T(e,R(En(""+t.props.href))),T(e,tr),r=Zn;else{T(e,r);var a=t.props["data-precedence"],s=t.props,i=Z(""+t.props.href);for(var o in T(e,R(En(i))),a=""+a,T(e,er),T(e,R(En(a))),s)if($.call(s,o)&&null!=(a=s[o]))switch(o){case"href":case"rel":case"precedence":case"data-precedence":break;case"children":case"dangerouslySetInnerHTML":throw Error(n(399,"link"));default:nr(e,o,a)}T(e,tr),r=Zn,t.state=3}}),T(e,tr)}(t,r)):T(t,bn),r=M(t,vn),kt(t,e)&&r}function vs(e,t,r,a){if(2===a.status)return!0;var s=r.contentState,i=a.id;if(-1===i){if(-1===(a.id=r.rootSegmentID))throw Error(n(392));return xs(e,t,a,s)}return i===r.rootSegmentID?xs(e,t,a,s):(xs(e,t,a,s),r=e.resumableState,T(t,(e=e.renderState).startInlineScript),T(t,Ge),1&r.instructions?T(t,cn):(r.instructions|=1,T(t,ln)),T(t,e.segmentPrefix),T(t,i=R(i.toString(16))),T(t,dn),T(t,e.placeholderPrefix),T(t,i),t=M(t,un))}var ys=!1;function ws(e,t){D=new Uint8Array(2048),O=0;try{if(!(0<e.pendingRootTasks)){var n,r=e.completedRootSegment;if(null!==r){if(5===r.status)return;var a=e.completedPreambleSegments;if(null===a)return;fs=e.byteSize;var s,i=e.resumableState,o=e.renderState,l=o.preamble,c=l.htmlChunks,d=l.headChunks;if(c){for(s=0;s<c.length;s++)T(t,c[s]);if(d)for(s=0;s<d.length;s++)T(t,d[s]);else T(t,gt("head")),T(t,Ge)}else if(d)for(s=0;s<d.length;s++)T(t,d[s]);var u=o.charsetChunks;for(s=0;s<u.length;s++)T(t,u[s]);u.length=0,o.preconnects.forEach(Ln,t),o.preconnects.clear();var h=o.viewportChunks;for(s=0;s<h.length;s++)T(t,h[s]);h.length=0,o.fontPreloads.forEach(Ln,t),o.fontPreloads.clear(),o.highImagePreloads.forEach(Ln,t),o.highImagePreloads.clear(),se=o,o.styles.forEach(Yn,t),se=null;var m=o.importMapChunks;for(s=0;s<m.length;s++)T(t,m[s]);m.length=0,o.bootstrapScripts.forEach(Ln,t),o.scripts.forEach(Ln,t),o.scripts.clear(),o.bulkPreloads.forEach(Ln,t),o.bulkPreloads.clear(),c||d||(i.instructions|=32);var p=o.hoistableChunks;for(s=0;s<p.length;s++)T(t,p[s]);for(i=p.length=0;i<a.length;i++){var f=a[i];for(o=0;o<f.length;o++)gs(e,t,f[o],null)}var g=e.renderState.preamble,x=g.headChunks;(g.htmlChunks||x)&&T(t,yt("head"));var b=g.bodyChunks;if(b)for(a=0;a<b.length;a++)T(t,b[a]);gs(e,t,r,null),e.completedRootSegment=null;var v=e.renderState;if(0!==e.allPendingTasks||0!==e.clientRenderedBoundaries.length||0!==e.completedBoundaries.length||null!==e.trackedPostpones&&(0!==e.trackedPostpones.rootNodes.length||null!==e.trackedPostpones.rootSlots)){var y=e.resumableState;if(!(64&y.instructions)){if(y.instructions|=64,T(t,v.startInlineScript),!(32&y.instructions)){y.instructions|=32;var w="_"+y.idPrefix+"R_";T(t,Xn),T(t,R(K(w))),T(t,Ie)}T(t,Ge),T(t,St),M(t,oe)}}kt(t,v)}var j=e.renderState;r=0;var N=j.viewportChunks;for(r=0;r<N.length;r++)T(t,N[r]);N.length=0,j.preconnects.forEach(Ln,t),j.preconnects.clear(),j.fontPreloads.forEach(Ln,t),j.fontPreloads.clear(),j.highImagePreloads.forEach(Ln,t),j.highImagePreloads.clear(),j.styles.forEach(Kn,t),j.scripts.forEach(Ln,t),j.scripts.clear(),j.bulkPreloads.forEach(Ln,t),j.bulkPreloads.clear();var k=j.hoistableChunks;for(r=0;r<k.length;r++)T(t,k[r]);k.length=0;var S=e.clientRenderedBoundaries;for(n=0;n<S.length;n++){var C=S[n];j=t;var _=e.resumableState,P=e.renderState,E=C.rootSegmentID,z=C.errorDigest;T(j,P.startInlineScript),T(j,Ge),4&_.instructions?T(j,jn):(_.instructions|=4,T(j,wn)),T(j,P.boundaryPrefix),T(j,R(E.toString(16))),T(j,Nn),z&&(T(j,kn),T(j,R(_n(z||""))));var I=M(j,Sn);if(!I)return e.destination=null,n++,void S.splice(0,n)}S.splice(0,n);var F=e.completedBoundaries;for(n=0;n<F.length;n++)if(!bs(e,t,F[n]))return e.destination=null,n++,void F.splice(0,n);F.splice(0,n),A(t),D=new Uint8Array(2048),O=0,ys=!0;var L=e.partialBoundaries;for(n=0;n<L.length;n++){var B=L[n];e:{S=e,C=t,fs=B.byteSize;var $=B.completedSegments;for(I=0;I<$.length;I++)if(!vs(S,C,B,$[I])){I++,$.splice(0,I);var W=!1;break e}$.splice(0,I);var U=B.row;null!==U&&U.together&&1===B.pendingTasks&&(1===U.pendingTasks?Fa(S,U,U.hoistables):U.pendingTasks--),W=Fn(C,B.contentState,S.renderState)}if(!W)return e.destination=null,n++,void L.splice(0,n)}L.splice(0,n),ys=!1;var H=e.completedBoundaries;for(n=0;n<H.length;n++)if(!bs(e,t,H[n]))return e.destination=null,n++,void H.splice(0,n);H.splice(0,n)}}finally{ys=!1,0===e.allPendingTasks&&0===e.clientRenderedBoundaries.length&&0===e.completedBoundaries.length?(e.flushScheduled=!1,(n=e.resumableState).hasBody&&T(t,yt("body")),n.hasHtml&&T(t,yt("html")),A(t),e.status=14,t.close(),e.destination=null):A(t)}}function js(e){e.flushScheduled=null!==e.destination,E(function(){return ds(e)}),C(function(){10===e.status&&(e.status=11),null===e.trackedPostpones&&as(e,0===e.pendingRootTasks)})}function Ns(e){!1===e.flushScheduled&&0===e.pingedTasks.length&&null!==e.destination&&(e.flushScheduled=!0,C(function(){var t=e.destination;t?ws(e,t):e.flushScheduled=!1}))}function ks(e,t){if(13===e.status)e.status=14,L(t,e.fatalError);else if(14!==e.status&&null===e.destination){e.destination=t;try{ws(e,t)}catch(n){za(e,n,{}),Ra(e,n)}}}function Ss(e,t){11!==e.status&&10!==e.status||(e.status=12);try{var r=e.abortableTasks;if(0<r.size){var a=void 0===t?Error(n(432)):"object"==typeof t&&null!==t&&"function"==typeof t.then?Error(n(530)):t;e.fatalError=a,r.forEach(function(t){return rs(t,e,a)}),r.clear()}null!==e.destination&&ws(e,e.destination)}catch(s){za(e,s,{}),Ra(e,s)}}function Cs(e,t,n){if(null===t)n.rootNodes.push(e);else{var r=n.workingMap,a=r.get(t);void 0===a&&(a=[t[1],t[2],[],null],r.set(t,a),Cs(a,t[0],n)),a[2].push(e)}}function _s(e){var t=e.trackedPostpones;if(null===t||0===t.rootNodes.length&&null===t.rootSlots)return e.trackedPostpones=null;if(null===e.completedRootSegment||5!==e.completedRootSegment.status&&null!==e.completedPreambleSegments){var n=e.nextSegmentId,r=t.rootSlots,a=e.resumableState;a.bootstrapScriptContent=void 0,a.bootstrapScripts=void 0,a.bootstrapModules=void 0}else{n=0,r=-1,a=e.resumableState;var s=e.renderState;a.nextFormID=0,a.hasBody=!1,a.hasHtml=!1,a.unknownResources={font:s.resets.font},a.dnsResources=s.resets.dns,a.connectResources=s.resets.connect,a.imageResources=s.resets.image,a.styleResources=s.resets.style,a.scriptResources={},a.moduleUnknownResources={},a.moduleScriptResources={},a.instructions=0}return{nextSegmentId:n,rootFormatContext:e.rootFormatContext,progressiveChunkSize:e.progressiveChunkSize,resumableState:e.resumableState,replayNodes:t.rootNodes,replaySlots:r}}function Ps(){var t=e.version;if("19.2.3"!==t)throw Error(n(527,t,"19.2.3"))}return Ps(),Ps(),Mm.prerender=function(e,t){return new Promise(function(n,r){var a,s=t?t.onHeaders:void 0;s&&(a=function(e){s(new Headers(e))});var i=ye(t?t.identifierPrefix:void 0,t&&t.unstable_externalRuntimeSrc,t?t.bootstrapScriptContent:void 0,t?t.bootstrapScripts:void 0,t?t.bootstrapModules:void 0),o=function(e,t,n,r,a,s,i,o,l,c,d){return(e=ka(e,t,n,r,a,s,i,o,l,c,d,void 0)).trackedPostpones={workingMap:new Map,rootNodes:[],rootSlots:null},e}(e,i,ve(i,void 0,t?t.unstable_externalRuntimeSrc:void 0,t?t.importMap:void 0,a,t?t.maxHeadersLength:void 0),Ne(t?t.namespaceURI:void 0),t?t.progressiveChunkSize:void 0,t?t.onError:void 0,function(){var e=new ReadableStream({type:"bytes",pull:function(e){ks(o,e)},cancel:function(e){o.destination=null,Ss(o,e)}},{highWaterMark:0});e={postponed:_s(o),prelude:e},n(e)},void 0,void 0,r,t?t.onPostpone:void 0);if(t&&t.signal){var l=t.signal;if(l.aborted)Ss(o,l.reason);else{var c=function(){Ss(o,l.reason),l.removeEventListener("abort",c)};l.addEventListener("abort",c)}}js(o)})},Mm.renderToReadableStream=function(e,t){return new Promise(function(n,r){var a,s,i,o=new Promise(function(e,t){s=e,a=t}),l=t?t.onHeaders:void 0;l&&(i=function(e){l(new Headers(e))});var c=ye(t?t.identifierPrefix:void 0,t&&t.unstable_externalRuntimeSrc,t?t.bootstrapScriptContent:void 0,t?t.bootstrapScripts:void 0,t?t.bootstrapModules:void 0),d=ka(e,c,ve(c,t?t.nonce:void 0,t?t.unstable_externalRuntimeSrc:void 0,t?t.importMap:void 0,i,t?t.maxHeadersLength:void 0),Ne(t?t.namespaceURI:void 0),t?t.progressiveChunkSize:void 0,t?t.onError:void 0,s,function(){var e=new ReadableStream({type:"bytes",pull:function(e){ks(d,e)},cancel:function(e){d.destination=null,Ss(d,e)}},{highWaterMark:0});e.allReady=o,n(e)},function(e){o.catch(function(){}),r(e)},a,t?t.onPostpone:void 0,t?t.formState:void 0);if(t&&t.signal){var u=t.signal;if(u.aborted)Ss(d,u.reason);else{var h=function(){Ss(d,u.reason),u.removeEventListener("abort",h)};u.addEventListener("abort",h)}}js(d)})},Mm.resume=function(e,t,n){return new Promise(function(r,a){var s,i,o=new Promise(function(e,t){i=e,s=t}),l=Sa(e,t,ve(t.resumableState,n?n.nonce:void 0,void 0,void 0,void 0,void 0),n?n.onError:void 0,i,function(){var e=new ReadableStream({type:"bytes",pull:function(e){ks(l,e)},cancel:function(e){l.destination=null,Ss(l,e)}},{highWaterMark:0});e.allReady=o,r(e)},function(e){o.catch(function(){}),a(e)},s,n?n.onPostpone:void 0);if(n&&n.signal){var c=n.signal;if(c.aborted)Ss(l,c.reason);else{var d=function(){Ss(l,c.reason),c.removeEventListener("abort",d)};c.addEventListener("abort",d)}}js(l)})},Mm.resumeAndPrerender=function(e,t,n){return new Promise(function(r,a){var s=function(e,t,n,r,a,s,i,o,l){return(e=Sa(e,t,n,r,a,s,i,o,l)).trackedPostpones={workingMap:new Map,rootNodes:[],rootSlots:null},e}(e,t,ve(t.resumableState,void 0,void 0,void 0,void 0,void 0),n?n.onError:void 0,function(){var e=new ReadableStream({type:"bytes",pull:function(e){ks(s,e)},cancel:function(e){s.destination=null,Ss(s,e)}},{highWaterMark:0});e={postponed:_s(s),prelude:e},r(e)},void 0,void 0,a,n?n.onPostpone:void 0);if(n&&n.signal){var i=n.signal;if(i.aborted)Ss(s,i.reason);else{var o=function(){Ss(s,i.reason),i.removeEventListener("abort",o)};i.addEventListener("abort",o)}}js(s)})},Mm.version="19.2.3",Mm}var zm,Rm,Im=(Tm||(Tm=1,zm=Dm(),Rm=Am(),Pm.version=zm.version,Pm.renderToString=zm.renderToString,Pm.renderToStaticMarkup=zm.renderToStaticMarkup,Pm.renderToReadableStream=Rm.renderToReadableStream,Pm.resume=Rm.resume),Pm);const Fm=(t,n,r="Document",a=[],s=null)=>`\n    <!DOCTYPE html>\n    <html>\n        <head>\n            <meta charset="utf-8">\n            <title>${r}</title>\n            <style>\n                * { box-sizing: border-box; }\n                body { \n                    font-family: 'Times New Roman', serif; \n                    line-height: 1.5; \n                    color: #333; \n                    font-size: 12pt; \n                    margin: 0; \n                    padding: 40px; \n                }\n                .text-center { text-align: center; }\n                .uppercase { text-transform: uppercase; }\n                .font-bold { font-weight: bold; }\n                .text-sm { font-size: 10pt; }\n                .text-xs { font-size: 9pt; }\n                .text-justify { text-align: justify; }\n                .mb-2 { margin-bottom: 0.5rem; }\n                .mb-4 { margin-bottom: 1rem; }\n                .mb-6 { margin-bottom: 1.5rem; }\n                .mb-8 { margin-bottom: 2rem; }\n                .mb-10 { margin-bottom: 2.5rem; }\n                .pb-2 { padding-bottom: 0.5rem; }\n                .mt-12 { margin-top: 3rem; }\n                .border-b { border-bottom: 1px solid #000; }\n                .border-b-2 { border-bottom: 2px solid #000; }\n                \n                @page { margin: 40px; }\n                \n                h1 { \n                    font-size: 16pt; \n                    text-transform: uppercase; \n                    border-bottom: 2px solid #000; \n                    padding-bottom: 10px; \n                    margin-bottom: 30px; \n                    text-align: center; \n                    font-weight: bold; \n                    letter-spacing: 2px; \n                }\n                p { margin-bottom: 12px; }\n                \n                table { width: 100%; border-collapse: collapse; }\n                td { vertical-align: top; }\n            </style>\n        </head>\n        <body>\n            ${Im.renderToStaticMarkup(e.jsx(pm,{data:t,content:n,zoom:1,printing:!0,signatures:a,businessLogo:s}))}\n        </body>\n    </html>\n    `,Lm=()=>Math.random().toString(36).substr(2,9),Bm={fontFamily:"font-sans",fontSize:"text-[11pt]",lineHeight:"leading-relaxed",textColor:"#1e293b",headingColor:"#0f172a",accentColor:"#4f46e5",pageMargin:"p-[10mm]",paragraphSpacing:"mb-6"},$m=(e={})=>{const[t,n]=kt.useState({...Bm,...e});return{styles:t,updateStyle:kt.useCallback((e,t)=>{n(n=>({...n,[e]:t}))},[]),resetStyles:kt.useCallback(()=>{n(Bm)},[])}},Wm=e=>{const[t,n]=kt.useState(Cm),[r,a]=kt.useState(Sm),[s,i]=kt.useState("Untitled NDA"),[o,l]=kt.useState(null),[c,d]=kt.useState(!!e),[u,h]=kt.useState(!1),[m,p]=kt.useState(!1),{styles:f,updateStyle:g,resetStyles:x}=$m(),b=kt.useRef(null);kt.useEffect(()=>{(async()=>{if(e)try{d(!0);const t=await fm(e);t.data.name&&i(t.data.name),t.data.sent_at&&l(t.data.sent_at);let r=t.data?.content||t.content;if("string"==typeof r)try{r=JSON.parse(r)}catch(sB){}r=r||{},r.blocks&&p(!0),r.formData&&n(e=>({...e,...r.formData})),r.docContent&&a(r.docContent),r.signatures&&y(r.signatures),r.styles&&Object.entries(r.styles).forEach(([e,t])=>g(e,t))}catch(t){$t.error("Failed to load document")}finally{d(!1)}else try{const e=await wd();e&&n(t=>({...t,disclosingPartyName:e.name||"",disclosingPartyAddress:[e.address,e.city,e.state,e.country].filter(Boolean).join(", ")}))}catch(t){}})()},[e]);const[v,y]=kt.useState([]);return{formData:t,docContent:r,signatures:v,documentName:s,setDocumentName:i,sentAt:o,setSentAt:l,isLoading:c,isSaving:u,handleFormChange:e=>{const{name:t,value:r}=e.target;n(e=>({...e,[t]:r}))},handleContentChange:e=>{const{name:t,value:n}=e.target;a(e=>({...e,[t]:n}))},addSection:()=>{a(e=>({...e,sections:[...e.sections,{id:Lm(),title:"New Section",content:"Enter the details of this new clause here..."}]}))},removeSection:e=>{a(t=>({...t,sections:t.sections.filter(t=>t.id!==e)}))},updateSection:(e,t,n)=>{a(r=>({...r,sections:r.sections.map(r=>r.id===e?{...r,[t]:n}:r)}))},reorderSections:e=>{a(t=>({...t,sections:e}))},addSignature:e=>{y(t=>[...t,e])},updateSignature:(e,t)=>{y(n=>n.map(n=>n.id===e?{...n,...t}:n))},removeSignature:e=>{y(t=>t.filter(t=>t.id!==e))},saveDocument:async n=>{h(!0);try{const a={name:s,type_slug:"nda",content:{formData:t,docContent:r,signatures:v,styles:f},status:"draft"};if(e)return await xm(e,a),$t.success("Document updated successfully"),e;{const e=await gm(a);return $t.success("Document created successfully"),n&&n(`/documents/nda/${e.data.id}`,{replace:!0}),e.data.id}}catch(a){throw a.response&&422===a.response.status||$t.error("Failed to save document"),a}finally{setTimeout(()=>h(!1),500)}},enterPreviewMode:e=>{b.current||(b.current={formData:t,docContent:r});let s=e.content;if("string"==typeof s)try{s=JSON.parse(s)}catch(sB){}return s.formData&&n(s.formData),s.docContent&&a(s.docContent),s},exitPreviewMode:()=>{b.current&&(n(b.current.formData),a(b.current.docContent),b.current=null)},restoreVersion:e=>{if(e&&e.content){let t=e.content;if("string"==typeof t)try{t=JSON.parse(t)}catch(sB){}t.formData&&n(t.formData),t.docContent&&a(t.docContent),t.styles&&Object.entries(t.styles).forEach(([e,t])=>g(e,t))}b.current=null},styles:f,updateStyle:g,resetStyles:x,isNewEngine:m}},Um=(e,t,n=null)=>`\n<!DOCTYPE html>\n<html>\n<head>\n    <meta charset="utf-8" />\n    <meta name="viewport" content="width=device-width, initial-scale=1.0" />\n    <title>${t}</title>\n    <style>\n        \n    /* ===============================\n       RESET + PRINT SAFETY\n    ================================ */\n    * {\n        box-sizing: border-box;\n        -webkit-print-color-adjust: exact;\n        print-color-adjust: exact;\n    }\n\n    /* ===============================\n       PAGE SETUP (CRITICAL)\n    ================================ */\n    @page {\n        size: A4;\n        margin: 15mm 12mm 22mm 12mm; /* bottom space reserved for footer */\n    }\n\n    body {\n        font-family: Helvetica, Arial, sans-serif;\n        font-size: 10pt;\n        line-height: 1.5;\n        color: #1e293b;\n        margin: 0;\n        padding: 0;\n        min-height: 100%;\n    }\n\n    /* ===============================\n       UTILITIES\n    ================================ */\n    .text-center { text-align: center; }\n    .text-right { text-align: right; }\n    .text-left { text-align: left; }\n    .text-justify { text-align: justify; }\n\n    .uppercase { text-transform: uppercase; }\n    .italic { font-style: italic; }\n\n    .font-bold { font-weight: bold; }\n    .font-semibold { font-weight: 600; }\n    .font-medium { font-weight: 500; }\n\n    /* ===============================\n       TEXT SIZES\n    ================================ */\n    .text-2xl { font-size: 24pt; line-height: 1.2; }\n    .text-lg  { font-size: 14pt; }\n    .text-base { font-size: 11pt; }\n    .text-sm { font-size: 9pt; }\n    .text-xs { font-size: 8pt; }\n\n    /* ===============================\n       COLORS\n    ================================ */\n    .text-slate-900 { color: #0f172a; }\n    .text-slate-800 { color: #1e293b; }\n    .text-slate-600 { color: #475569; }\n    .text-slate-400 { color: #94a3b8; }\n\n    .bg-slate-50 { background-color: #f8fafc; }\n    .bg-slate-100 { background-color: #f1f5f9; }\n    .bg-slate-800 { background-color: #1e293b; }\n\n    /* ===============================\n       SPACING\n    ================================ */\n    .p-1 { padding: 4px; }\n    .p-2 { padding: 8px; }\n    .p-3 { padding: 12px; }\n    .p-4 { padding: 16px; }\n\n    .mt-2 { margin-top: 8px; }\n    .mt-4 { margin-top: 16px; }\n    .mb-1 { margin-bottom: 4px; }\n    .mb-2 { margin-bottom: 8px; }\n    .mb-4 { margin-bottom: 16px; }\n    .mb-6 { margin-bottom: 24px; }\n    .mb-8 { margin-bottom: 32px; }\n    .mb-10 { margin-bottom: 40px; }\n    .mb-12 { margin-bottom: 48px; }\n    .mb-20 { margin-bottom: 80px; }\n\n    /* ===============================\n       BORDERS\n    ================================ */\n    .rounded { border-radius: 4px; }\n    .border { border: 1px solid #e2e8f0; }\n    .border-b { border-bottom: 1px solid #e2e8f0; }\n    .border-b-2 { border-bottom: 2px solid #1e293b; }\n\n    /* ===============================\n       TABLES (PDF SAFE)\n    ================================ */\n    table {\n        width: 100%;\n        border-collapse: collapse;\n        page-break-inside: auto;\n    }\n\n    thead {\n        display: table-header-group;\n    }\n\n    tr {\n        page-break-inside: avoid;\n    }\n\n    th {\n        text-align: left;\n        font-weight: bold;\n    }\n\n    td {\n        vertical-align: top;\n    }\n\n    /* ===============================\n       PAGE BREAK HELPERS\n    ================================ */\n    .page-break {\n        page-break-before: always;\n    }\n\n    .avoid-break {\n        page-break-inside: avoid;\n    }\n\n    /* ===============================\n       WATERMARK\n    ================================ */\n    .watermark {\n        position: fixed;\n        top: 50%;\n        left: 50%;\n        transform: translate(-50%, -50%) rotate(-30deg);\n        font-size: 60pt;\n        color: rgba(15, 23, 42, 0.08);\n        z-index: -1;\n        pointer-events: none;\n        user-select: none;\n        white-space: nowrap;\n    }\n\n    /* ===============================\n       FOOTER\n    ================================ */\n    .footer {\n        position: fixed;\n        bottom: 8mm;\n        left: 0;\n        right: 0;\n        text-align: center;\n        font-size: 9pt;\n        color: #94a3b8;\n        letter-spacing: 2px;\n        text-transform: uppercase;\n    }\n\n    </style>\n</head>\n<body>\n    ${n?`<div class="watermark">${n}</div>`:""}\n\n    ${e}\n\n    <div class="footer">POWERED BY DOCFORGE</div>\n</body>\n</html>\n`,Hm=async(e,t,n,r=null)=>(async(e,t)=>(await sr.post(`/documents/${e}/generate-pdf`,{html_content:t})).data)(e,Um(t,n,r));function Vm(e,t,n){const r=e.slice();return r.splice(n<0?r.length+n:n,0,r.splice(t,1)[0]),r}function qm(e,t){return e.reduce((e,n,r)=>{const a=t.get(n);return a&&(e[r]=a),e},Array(e.length))}function Ym(e){return null!==e&&e>=0}const Gm=e=>{let{rects:t,activeIndex:n,overIndex:r,index:a}=e;const s=Vm(t,r,n),i=t[a],o=s[a];return o&&i?{x:o.left-i.left,y:o.top-i.top,scaleX:o.width/i.width,scaleY:o.height/i.height}:null},Km={scaleX:1,scaleY:1},Xm=e=>{var t;let{activeIndex:n,activeNodeRect:r,index:a,rects:s,overIndex:i}=e;const o=null!=(t=s[n])?t:r;if(!o)return null;if(a===n){const e=s[i];return e?{x:0,y:n<i?e.top+e.height-(o.top+o.height):e.top-o.top,...Km}:null}const l=function(e,t,n){const r=e[t],a=e[t-1],s=e[t+1];if(!r)return 0;if(n<t)return a?r.top-(a.top+a.height):s?s.top-(r.top+r.height):0;return s?s.top-(r.top+r.height):a?r.top-(a.top+a.height):0}(s,a,n);return a>n&&a<=i?{x:0,y:-o.height-l,...Km}:a<n&&a>=i?{x:0,y:o.height+l,...Km}:{x:0,y:0,...Km}};const Qm="Sortable",Jm=St.createContext({activeIndex:-1,containerId:Qm,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:Gm,disabled:{draggable:!1,droppable:!1}});function Zm(e){let{children:t,id:n,items:r,strategy:a=Gm,disabled:s=!1}=e;const{active:i,dragOverlay:o,droppableRects:l,over:c,measureDroppableContainers:d}=Hh(),u=Fd(Qm,n),h=Boolean(null!==o.rect),m=kt.useMemo(()=>r.map(e=>"object"==typeof e&&"id"in e?e.id:e),[r]),p=null!=i,f=i?m.indexOf(i.id):-1,g=c?m.indexOf(c.id):-1,x=kt.useRef(m),b=!function(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}(m,x.current),v=-1!==g&&-1===f||b,y=function(e){return"boolean"==typeof e?{draggable:e,droppable:e}:e}(s);Od(()=>{b&&p&&d(m)},[b,m,p,d]),kt.useEffect(()=>{x.current=m},[m]);const w=kt.useMemo(()=>({activeIndex:f,containerId:u,disabled:y,disableTransforms:v,items:m,overIndex:g,useDragOverlay:h,sortedRects:qm(m,l),strategy:a}),[f,u,y.draggable,y.droppable,v,m,g,l,h,a]);return St.createElement(Jm.Provider,{value:w},t)}const ep=e=>{let{id:t,items:n,activeIndex:r,overIndex:a}=e;return Vm(n,r,a).indexOf(t)},tp=e=>{let{containerId:t,isSorting:n,wasDragging:r,index:a,items:s,newIndex:i,previousItems:o,previousContainerId:l,transition:c}=e;return!(!c||!r)&&((o===s||a!==i)&&(!!n||i!==a&&t===l))},np={duration:200,easing:"ease"},rp="transform",ap=Hd.Transition.toString({property:rp,duration:0,easing:"linear"}),sp={roleDescription:"sortable"};function ip(e){let{animateLayoutChanges:t=tp,attributes:n,disabled:r,data:a,getNewIndex:s=ep,id:i,strategy:o,resizeObserverConfig:l,transition:c=np}=e;const{items:d,containerId:u,activeIndex:h,disabled:m,disableTransforms:p,sortedRects:f,overIndex:g,useDragOverlay:x,strategy:b}=kt.useContext(Jm),v=function(e,t){var n,r;if("boolean"==typeof e)return{draggable:e,droppable:!1};return{draggable:null!=(n=null==e?void 0:e.draggable)?n:t.draggable,droppable:null!=(r=null==e?void 0:e.droppable)?r:t.droppable}}(r,m),y=d.indexOf(i),w=kt.useMemo(()=>({sortable:{containerId:u,index:y,items:d},...a}),[u,a,y,d]),j=kt.useMemo(()=>d.slice(d.indexOf(i)),[d,i]),{rect:N,node:k,isOver:S,setNodeRef:C}=qh({id:i,data:w,disabled:v.droppable,resizeObserverConfig:{updateMeasurementsFor:j,...l}}),{active:_,activatorEvent:P,activeNodeRect:E,attributes:D,setNodeRef:O,listeners:T,isDragging:M,over:A,setActivatorNodeRef:z,transform:R}=Uh({id:i,data:w,attributes:{...sp,...n},disabled:v.draggable}),I=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return kt.useMemo(()=>e=>{t.forEach(t=>t(e))},t)}(C,O),F=Boolean(_),L=F&&!p&&Ym(h)&&Ym(g),B=!x&&M,$=B&&L?R:null,W=L?null!=$?$:(null!=o?o:b)({rects:f,activeNodeRect:E,activeIndex:h,overIndex:g,index:y}):null,U=Ym(h)&&Ym(g)?s({id:i,items:d,activeIndex:h,overIndex:g}):y,H=null==_?void 0:_.id,V=kt.useRef({activeId:H,items:d,newIndex:U,containerId:u}),q=d!==V.current.items,Y=t({active:_,containerId:u,isDragging:M,isSorting:F,id:i,index:y,items:d,newIndex:V.current.newIndex,previousItems:V.current.items,previousContainerId:V.current.containerId,transition:c,wasDragging:null!=V.current.activeId}),G=function(e){let{disabled:t,index:n,node:r,rect:a}=e;const[s,i]=kt.useState(null),o=kt.useRef(n);return Od(()=>{if(!t&&n!==o.current&&r.current){const e=a.current;if(e){const t=vu(r.current,{ignoreTransform:!0}),n={x:e.left-t.left,y:e.top-t.top,scaleX:e.width/t.width,scaleY:e.height/t.height};(n.x||n.y)&&i(n)}}n!==o.current&&(o.current=n)},[t,n,r,a]),kt.useEffect(()=>{s&&i(null)},[s]),s}({disabled:!Y,index:y,node:k,rect:N});return kt.useEffect(()=>{F&&V.current.newIndex!==U&&(V.current.newIndex=U),u!==V.current.containerId&&(V.current.containerId=u),d!==V.current.items&&(V.current.items=d)},[F,U,u,d]),kt.useEffect(()=>{if(H===V.current.activeId)return;if(null!=H&&null==V.current.activeId)return void(V.current.activeId=H);const e=setTimeout(()=>{V.current.activeId=H},50);return()=>clearTimeout(e)},[H]),{active:_,activeIndex:h,attributes:D,data:w,rect:N,index:y,newIndex:U,items:d,isOver:S,isSorting:F,isDragging:M,listeners:T,node:k,overIndex:g,over:A,setNodeRef:I,setActivatorNodeRef:z,setDroppableNodeRef:C,setDraggableNodeRef:O,transform:null!=G?G:W,transition:function(){if(G||q&&V.current.newIndex===y)return ap;if(B&&!Wd(P)||!c)return;if(F||Y)return Hd.Transition.toString({...c,property:rp});return}()}}Wu.Down,Wu.Right,Wu.Up,Wu.Left;const op=[];for(let qV=0;qV<256;++qV)op.push((qV+256).toString(16).slice(1));let lp;const cp=new Uint8Array(16);const dp={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};function up(e,t,n){const r=(e=e||{}).random??e.rng?.()??function(){if(!lp){if("undefined"==typeof crypto||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");lp=crypto.getRandomValues.bind(crypto)}return lp(cp)}();if(r.length<16)throw new Error("Random bytes length must be >= 16");return r[6]=15&r[6]|64,r[8]=63&r[8]|128,function(e,t=0){return(op[e[t+0]]+op[e[t+1]]+op[e[t+2]]+op[e[t+3]]+"-"+op[e[t+4]]+op[e[t+5]]+"-"+op[e[t+6]]+op[e[t+7]]+"-"+op[e[t+8]]+op[e[t+9]]+"-"+op[e[t+10]]+op[e[t+11]]+op[e[t+12]]+op[e[t+13]]+op[e[t+14]]+op[e[t+15]]).toLowerCase()}(r)}function hp(e,t,n){return dp.randomUUID&&!e?dp.randomUUID():up(e)}const mp="ADD_BLOCK",pp="UPDATE_BLOCK",fp="REMOVE_BLOCK",gp="REORDER_BLOCKS",xp="SET_METADATA",bp="ADD_VARIABLE",vp="UPDATE_VARIABLE",yp="LOAD_DOCUMENT",wp="SELECT_BLOCK",jp={metadata:{title:"Untitled Document",version:"1.0",theme:"default"},variables:{},blocks:[],selectedBlockId:null,history:{past:[],future:[]}};function Np(e,t){switch(t.type){case yp:return{...jp,...t.payload,history:jp.history};case mp:{const n={id:hp(),type:t.payload.type,data:t.payload.data||{}},r=[...e.blocks];return"number"==typeof t.payload.index?r.splice(t.payload.index,0,n):r.push(n),{...e,blocks:r,selectedBlockId:n.id}}case pp:{const n=e.blocks.map(e=>e.id===t.payload.id?{...e,data:{...e.data,...t.payload.data}}:e);return{...e,blocks:n}}case fp:return{...e,blocks:e.blocks.filter(e=>e.id!==t.payload.id),selectedBlockId:e.selectedBlockId===t.payload.id?null:e.selectedBlockId};case gp:return{...e,blocks:t.payload.blocks};case xp:return{...e,metadata:{...e.metadata,...t.payload}};case bp:return{...e,variables:{...e.variables,[t.payload.key]:t.payload.config}};case vp:return{...e,variables:{...e.variables,[t.payload.key]:{...e.variables[t.payload.key],...t.payload.config}}};case wp:return{...e,selectedBlockId:t.payload.id};default:return e}}const kp=(e=null)=>{const[t,n]=kt.useReducer(Np,e||jp);return{documentState:t,actions:{loadDocument:kt.useCallback(e=>n({type:yp,payload:e}),[]),addBlock:kt.useCallback((e,t={},r=null)=>n({type:mp,payload:{type:e,data:t,index:r}}),[]),updateBlock:kt.useCallback((e,t)=>n({type:pp,payload:{id:e,data:t}}),[]),removeBlock:kt.useCallback(e=>n({type:fp,payload:{id:e}}),[]),reorderBlocks:kt.useCallback(e=>n({type:gp,payload:{blocks:e}}),[]),setMetadata:kt.useCallback(e=>n({type:xp,payload:e}),[]),addVariable:kt.useCallback((e,t)=>n({type:bp,payload:{key:e,config:t}}),[]),updateVariable:kt.useCallback((e,t)=>n({type:vp,payload:{key:e,config:t}}),[]),selectBlock:kt.useCallback(e=>n({type:wp,payload:{id:e}}),[])}}},Sp=({data:t,onChange:n})=>{const r=t.text||"";return e.jsx("div",{contentEditable:!0,suppressContentEditableWarning:!0,onBlur:e=>{n({text:e.target.innerText})},className:"outline-none text-base text-slate-700 leading-relaxed min-h-[24px] empty:before:content-[attr(placeholder)] empty:before:text-slate-300 relative",placeholder:"Type something...",children:r})},Cp=({data:t,onChange:n})=>{const r=t.level||1,a=t.text||"",s=t.align||"left",i=`h${Math.min(r,3)}`;return e.jsx(i,{contentEditable:!0,suppressContentEditableWarning:!0,onBlur:e=>{n({text:e.target.innerText})},className:`\n                outline-none font-bold text-slate-900 leading-tight\n                ${1===r?"text-3xl mb-4 mt-6":""}\n                ${2===r?"text-2xl mb-3 mt-5":""}\n                ${3===r?"text-xl mb-2 mt-4":""}\n                text-${s}\n            `,style:{minHeight:"1.2em"},children:a})},_p=({data:t,onChange:n})=>{const r=t.src;return r?e.jsx("div",{className:"relative group",children:e.jsx("img",{src:r,alt:"Document Asset",className:"max-w-full rounded-lg"})}):e.jsxs("div",{className:"w-full h-32 bg-slate-50 border-2 border-dashed border-slate-200 rounded-lg flex flex-col items-center justify-center text-slate-400 cursor-pointer hover:bg-slate-100 hover:border-slate-300 transition-colors",children:[e.jsx(je,{size:24,className:"mb-2"}),e.jsx("span",{className:"text-sm",children:"Click to upload image"})]})},Pp=({data:t,onChange:n})=>{const r=t.signee||"Client",a=!1!==t.required;return e.jsxs("div",{className:"my-4 p-4 border-2 border-dashed border-indigo-200 bg-indigo-50/50 rounded-lg flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-indigo-100 text-indigo-600 rounded-md",children:e.jsx(P,{size:20})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-semibold text-indigo-900",children:"Signature Required"}),e.jsxs("p",{className:"text-xs text-indigo-600",children:["Assignee: ",r]})]})]}),a&&e.jsx("span",{className:"text-xs font-bold text-red-500 bg-red-50 px-2 py-1 rounded",children:"REQUIRED"})]})},Ep=({data:t,onChange:n,businessData:r})=>{const a=t.align||"left",s=t.width||150,i=t.src||(r?.logo?`undefined/storage/${r.logo}`:null),o={left:"justify-start",center:"justify-center",right:"justify-end"}[a];return e.jsx("div",{className:`flex w-full ${o} mb-6 mt-4 group`,children:i?e.jsx("img",{src:i,alt:"Business Logo",style:{width:`${s}px`},className:"object-contain"}):e.jsx("div",{className:"w-40 h-16 bg-slate-100 border-2 border-dashed border-slate-300 rounded flex items-center justify-center text-slate-400",children:e.jsx("span",{className:"text-xs font-semibold",children:"Business Logo"})})})},Dp=({data:t,onChange:n,businessData:r})=>{const a={left:"text-left",center:"text-center",right:"text-right"}[t.align||"left"];return r?e.jsxs("div",{className:`w-full text-slate-600 text-sm leading-relaxed ${a} mb-4`,children:[e.jsx("p",{className:"font-bold text-slate-900",children:r.name}),r.address&&e.jsx("p",{children:r.address}),e.jsx("p",{children:[r.city,r.state,r.zip,r.country].filter(Boolean).join(", ")}),r.phone&&e.jsxs("p",{children:["Tel: ",r.phone]}),r.email&&e.jsxs("p",{children:["Email: ",r.email]}),r.tax_label&&r.tax_percentage&&e.jsxs("p",{className:"mt-1 text-xs text-slate-500 font-medium",children:[r.tax_label,": ",r.tax_percentage,"%"]})]}):e.jsxs("div",{className:"w-full p-2 border border-dashed border-amber-200 bg-amber-50 text-amber-600 text-xs rounded flex items-center gap-2",children:[e.jsx(N,{size:14}),e.jsx("span",{children:"Business Info (Loading...)"})]})},Op=({block:t,actions:n,businessData:r,isSelected:a,onSelect:s})=>{const{attributes:i,listeners:o,setNodeRef:l,transform:c,transition:d,isDragging:u}=ip({id:t.id}),h={transform:Hd.Transform.toString(c),transition:d,opacity:u?.5:1};return e.jsxs("div",{ref:l,style:h,className:"group relative flex items-start -ml-12 mb-2",children:[e.jsxs("div",{className:"w-10 h-full flex flex-col items-center pt-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[e.jsx("button",{...i,...o,className:"p-1 text-slate-400 hover:text-slate-600 cursor-grab active:cursor-grabbing hover:bg-slate-100 rounded",children:e.jsx(ee,{size:16})}),e.jsx("button",{onClick:()=>n.removeBlock(t.id),className:"p-1 mt-1 text-slate-400 hover:text-red-500 hover:bg-red-50 rounded",children:e.jsx(te,{size:16})})]}),e.jsx("div",{className:"flex-1 min-h-[40px] border rounded-md transition-colors cursor-pointer "+(a?"border-2 border-indigo-500 ring-2 ring-indigo-50/50":"border-transparent group-hover:border-slate-100"),onClick:e=>{e.stopPropagation(),s(t.id)},children:(()=>{switch(t.type){case"HEADING":return e.jsx(Cp,{data:t.data,onChange:e=>n.updateBlock(t.id,e)});case"TEXT":return e.jsx(Sp,{data:t.data,onChange:e=>n.updateBlock(t.id,e)});case"IMAGE":return e.jsx(_p,{data:t.data,onChange:e=>n.updateBlock(t.id,e)});case"SIGNATURE":return e.jsx(Pp,{data:t.data,onChange:e=>n.updateBlock(t.id,e)});case"LOGO":return e.jsx(Ep,{data:t.data,onChange:e=>n.updateBlock(t.id,e),businessData:r});case"BUSINESS_INFO":return e.jsx(Dp,{data:t.data,onChange:e=>n.updateBlock(t.id,e),businessData:r});default:return e.jsxs("div",{className:"p-4 text-red-500",children:["Unknown Block Type: ",t.type]})}})()})]})},Tp=({blocks:t,actions:n,readOnly:r,businessData:a,selectedBlockId:s,onSelectBlock:i})=>e.jsxs("div",{className:"w-full max-w-[850px] min-h-[1100px] bg-white shadow-sm border border-slate-200 lg:scale-[1] origin-top p-12 lg:p-16",id:"document-canvas",children:[0===t.length&&e.jsxs("div",{className:"text-center py-20 text-slate-400 border-2 border-dashed border-slate-200 rounded-lg",children:[e.jsx("p",{className:"mb-2 font-medium",children:"Empty Document"}),e.jsx("p",{className:"text-sm",children:"Drag blocks from the sidebar to start building."})]}),e.jsx(Zm,{items:t.map(e=>e.id),strategy:Xm,children:t.map(t=>e.jsx(Op,{block:t,actions:n,businessData:a,isSelected:s===t.id,onSelect:i},t.id))})]}),Mp=({type:t,icon:n,label:r})=>{const{attributes:a,listeners:s,setNodeRef:i,isDragging:o}=Uh({id:`tool-${t}`,data:{type:"TOOL",toolType:t}});return e.jsxs("button",{ref:i,...s,...a,className:"w-full flex items-center gap-3 p-3 rounded-lg hover:bg-slate-50 border border-transparent hover:border-slate-200 transition-all cursor-grab active:cursor-grabbing text-left "+(o?"opacity-50":""),children:[e.jsx("div",{className:"p-2 bg-indigo-50 text-indigo-600 rounded-md",children:e.jsx(n,{size:20})}),e.jsx("span",{className:"text-sm font-medium text-slate-700",children:r})]})},Ap=()=>e.jsxs("div",{className:"flex-1 overflow-y-auto p-4",children:[e.jsx("h3",{className:"text-xs font-semibold text-slate-400 uppercase tracking-wider mb-4",children:"Content Blocks"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Mp,{type:"HEADING",icon:Ne,label:"Heading"}),e.jsx(Mp,{type:"TEXT",icon:ie,label:"Text Paragraph"}),e.jsx(Mp,{type:"IMAGE",icon:je,label:"Image"}),e.jsx(Mp,{type:"LOGO",icon:ke,label:"Smart Logo"})," ",e.jsx(Mp,{type:"BUSINESS_INFO",icon:N,label:"Business Details"})," ",e.jsx(Mp,{type:"SIGNATURE",icon:P,label:"Signature Field"})]}),e.jsx("div",{className:"h-px bg-slate-100 my-6"}),e.jsx("h3",{className:"text-xs font-semibold text-slate-400 uppercase tracking-wider mb-4",children:"Layout"}),e.jsx("div",{className:"space-y-2",children:e.jsx("div",{className:"opacity-50 pointer-events-none",title:"Coming Soon",children:e.jsx(Mp,{type:"COLUMNS",icon:Se,label:"Columns (Soon)"})})})]}),zp=({value:t,onChange:n})=>e.jsx("div",{className:"flex bg-slate-100 rounded-lg p-1 gap-1",children:["left","center","right"].map(r=>e.jsxs("button",{onClick:()=>n(r),className:"flex-1 p-1 rounded-md flex justify-center transition-all "+(t===r?"bg-white shadow text-indigo-600":"text-slate-400 hover:text-slate-600"),children:["left"===r&&e.jsx(re,{size:16}),"center"===r&&e.jsx(ae,{size:16}),"right"===r&&e.jsx(se,{size:16})]},r))}),Rp=({selectedBlock:t,updateBlock:n,removeBlock:r})=>{if(!t)return e.jsxs("div",{className:"h-full flex flex-col items-center justify-center p-6 text-center text-slate-400",children:[e.jsx("div",{className:"w-16 h-16 bg-slate-50 rounded-full flex items-center justify-center mb-4",children:e.jsx(Ip,{size:24})}),e.jsx("p",{className:"font-semibold text-slate-600 mb-1",children:"No Block Selected"}),e.jsx("p",{className:"text-xs",children:"Click on any element in the document canvas to customize its properties."})]});const{type:a,data:s,id:i}=t,o=(e,t)=>{n(i,{[e]:t})};return e.jsxs("div",{className:"h-full flex flex-col bg-white",children:[e.jsxs("div",{className:"p-4 border-b border-slate-200 flex items-center justify-between bg-slate-50",children:[e.jsx("span",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider",children:a.replace("_"," ")}),e.jsx("button",{onClick:()=>r(i),className:"text-red-400 hover:text-red-600 p-1 hover:bg-red-50 rounded",children:e.jsx(te,{size:16})})]}),e.jsxs("div",{className:"p-5 flex-1 overflow-y-auto form-control-group",children:[["HEADING","LOGO","BUSINESS_INFO","IMAGE"].includes(a)&&e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"text-xs font-semibold text-slate-600 mb-2 block",children:"Alignment"}),e.jsx(zp,{value:s.align||"left",onChange:e=>o("align",e)})]}),"HEADING"===a&&e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"text-xs font-semibold text-slate-600 mb-2 block",children:"Heading Level"}),e.jsx("div",{className:"flex gap-2",children:[1,2,3].map(t=>e.jsxs("button",{onClick:()=>o("level",t),className:"flex-1 py-2 border rounded text-sm font-bold "+(s.level===t?"border-indigo-500 bg-indigo-50 text-indigo-700":"border-slate-200 text-slate-500 hover:border-slate-300"),children:["H",t]},t))})]}),"LOGO"===a&&e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"text-xs font-semibold text-slate-600 mb-2 block",children:"Size (Width)"}),e.jsx("input",{type:"range",min:"50",max:"500",value:s.width||150,onChange:e=>o("width",parseInt(e.target.value)),className:"w-full accent-indigo-600"}),e.jsxs("div",{className:"flex justify-between text-xs text-slate-400 mt-1",children:[e.jsx("span",{children:"Small"}),e.jsxs("span",{children:[s.width||150,"px"]}),e.jsx("span",{children:"Large"})]})]}),"SIGNATURE"===a&&e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"text-xs font-semibold text-slate-600 mb-2 block",children:"Signee"}),e.jsxs("select",{value:s.signee||"client",onChange:e=>o("signee",e.target.value),className:"w-full text-sm border-slate-300 rounded-md focus:ring-indigo-500 focus:border-indigo-500",children:[e.jsx("option",{value:"client",children:"Client"}),e.jsx("option",{value:"me",children:"Me (Provider)"})]}),e.jsxs("div",{className:"mt-4 flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",checked:!1!==s.required,onChange:e=>o("required",e.target.checked),className:"rounded text-indigo-600 focus:ring-indigo-500"}),e.jsx("span",{className:"text-sm text-slate-700",children:"Required Field"})]})]})]})]})},Ip=({size:t})=>e.jsxs("svg",{width:t,height:t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.1a2 2 0 0 1-1-1.72v-.51a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z"}),e.jsx("circle",{cx:"12",cy:"12",r:"3"})]}),Fp=({variables:t,onAdd:n})=>{const[r,a]=kt.useState(!1),[s,i]=kt.useState(""),[o,l]=kt.useState("");return e.jsxs("div",{className:"h-1/3 min-h-[250px] border-t border-slate-200 flex flex-col bg-slate-50",children:[e.jsxs("div",{className:"p-4 border-b border-slate-200 flex items-center justify-between bg-white",children:[e.jsxs("div",{className:"flex items-center gap-2 text-slate-700",children:[e.jsx(Ce,{size:16}),e.jsx("span",{className:"font-semibold text-sm",children:"Variables"})]}),e.jsx("button",{onClick:()=>a(!r),className:"p-1 hover:bg-slate-100 rounded text-indigo-600",children:e.jsx(ne,{size:16})})]}),e.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-3",children:[r&&e.jsxs("div",{className:"text-sm bg-white p-3 rounded-lg border border-indigo-100 shadow-sm",children:[e.jsx("input",{className:"w-full mb-2 p-1 border-b border-slate-200 text-xs focus:outline-none focus:border-indigo-500",placeholder:"Key (e.g. client_name)",value:s,onChange:e=>i(e.target.value),autoFocus:!0}),e.jsx("input",{className:"w-full mb-3 p-1 border-b border-slate-200 text-xs focus:outline-none focus:border-indigo-500",placeholder:"Default Value",value:o,onChange:e=>l(e.target.value)}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>{if(!s)return;const e=s.replace(/[^a-zA-Z0-9_]/g,"");n(e,{type:"text",value:o,label:e}),i(""),l(""),a(!1)},className:"flex-1 py-1 bg-indigo-600 text-white text-xs rounded",children:"Add"}),e.jsx("button",{onClick:()=>a(!1),className:"flex-1 py-1 bg-slate-100 text-slate-600 text-xs rounded",children:"Cancel"})]})]}),0===Object.entries(t).length&&!r&&e.jsx("p",{className:"text-xs text-slate-400 italic text-center py-4",children:"No variables defined."}),Object.entries(t).map(([t,n])=>e.jsxs("div",{className:"bg-white p-2 rounded border border-slate-200 text-sm group",children:[e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsx("span",{className:"font-mono text-xs font-bold text-indigo-600 px-1 bg-indigo-50 rounded",children:`{{${t}}}`}),e.jsx("span",{className:"text-[10px] text-slate-400 capitalize",children:n.type})]}),e.jsx("p",{className:"text-slate-600 truncate text-xs pl-1",children:n.value})]},t))]})]})},Lp=()=>{const{id:t}=Ot(),n=Et(),{documentState:r,actions:a}=kp(),[s,i]=St.useState("edit"),[o,l]=St.useState(!1),[c,d]=St.useState(null);kt.useEffect(()=>{(async()=>{try{const e=await wd();if(d(e),t){const e=await fm(t);let n=e.data.content;if("string"==typeof n)try{n=JSON.parse(n)}catch(sB){}n&&n.blocks?(a.loadDocument({blocks:n.blocks,variables:n.variables||{},metadata:n.metadata||{title:e.data.name},history:{past:[],future:[]}}),a.setMetadata({title:e.data.name})):a.setMetadata({title:e.data.name})}else r.variables&&0===Object.keys(r.variables).length&&(a.addVariable("client_name",{value:"",type:"text",label:"Client Name"}),a.addVariable("date",{value:(new Date).toLocaleDateString(),type:"date",label:"Date"}))}catch(e){$t.error("Failed to load document")}})()},[t]);const u=au(ru(Zu,{activationConstraint:{distance:8}}));return e.jsx(Bh,{sensors:u,collisionDetection:uu,onDragEnd:e=>{const{active:t,over:n}=e;if(n)if("TOOL"!==t.data.current?.type){if(t.id!==n.id){const e=r.blocks.findIndex(e=>e.id===t.id),s=r.blocks.findIndex(e=>e.id===n.id),i=Vm(r.blocks,e,s);a.reorderBlocks(i)}}else a.addBlock(t.data.current.toolType)},children:e.jsxs("div",{className:"flex flex-col h-screen bg-slate-50 overflow-hidden",children:[e.jsxs("header",{className:"h-16 bg-white border-b border-slate-200 px-6 flex items-center justify-between z-30 flex-shrink-0",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("button",{onClick:()=>n("/documents"),className:"p-2 hover:bg-slate-100 rounded-full text-slate-500",children:e.jsx(I,{size:20})}),e.jsx("input",{type:"text",value:r.metadata.title,onChange:e=>a.setMetadata({title:e.target.value}),className:"text-lg font-bold text-slate-800 border-none focus:ring-0 bg-transparent p-0 placeholder-slate-400 focus:outline-none",placeholder:"Untitled Document"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 text-slate-600 font-medium hover:bg-slate-100 rounded-lg",children:[e.jsx(ge,{size:18})," Preview"]}),e.jsxs("button",{onClick:async()=>{if(t){l(!0);try{const e={blocks:r.blocks,variables:r.variables,metadata:r.metadata},n={name:r.metadata.title,content:JSON.stringify(e)};await xm(t,n),$t.success("Document saved successfully")}catch(e){$t.error("Failed to save changes")}finally{l(!1)}}},disabled:o,className:"flex items-center gap-2 px-4 py-2 bg-indigo-600 text-white font-medium rounded-lg hover:bg-indigo-700 shadow-sm disabled:opacity-50",children:[o?e.jsx(y,{className:"animate-spin",size:18}):e.jsx(_e,{size:18}),o?"Saving...":"Save"]})]})]}),e.jsxs("div",{className:"flex flex-1 overflow-hidden",children:[e.jsxs("div",{className:"w-[300px] bg-white border-r border-slate-200 flex flex-col z-20",children:[e.jsx(Ap,{}),e.jsx("div",{className:"h-px bg-slate-200 my-2"}),e.jsx(Fp,{variables:r.variables,onAdd:a.addVariable})]}),e.jsx("div",{className:"flex-1 bg-slate-100 overflow-y-auto p-8 flex justify-center",children:e.jsx(Tp,{blocks:r.blocks,actions:a,readOnly:!1,businessData:c,selectedBlockId:r.selectedBlockId,onSelectBlock:a.selectBlock})}),e.jsx("div",{className:"w-[280px] bg-white border-l border-slate-200 z-20",children:e.jsx(Rp,{selectedBlock:r.blocks.find(e=>e.id===r.selectedBlockId),updateBlock:a.updateBlock,removeBlock:a.removeBlock})})]})]})})},Bp=()=>e.jsx(Lp,{}),$p=()=>{const n=Et(),{id:r}=Ot(),a=xd("(min-width: 1024px)"),[s,i]=kt.useState("edit"),[l,c]=kt.useState(1),[d,u]=kt.useState(!1),[h,m]=kt.useState(!1),[p,f]=kt.useState(!1),[g,x]=kt.useState(!1),[w,j]=kt.useState(!1),[N,k]=kt.useState(null),[S,C]=kt.useState(null),[_,P]=kt.useState(null),[E,D]=kt.useState(null),{formData:O,docContent:T,signatures:M,documentName:A,setDocumentName:z,sentAt:R,setSentAt:F,isLoading:L,isSaving:B,handleFormChange:W,handleContentChange:U,addSection:H,removeSection:V,updateSection:q,reorderSections:Y,addSignature:G,updateSignature:K,removeSignature:X,saveDocument:Q,enterPreviewMode:J,exitPreviewMode:ee,restoreVersion:te,styles:ne,updateStyle:re,resetStyles:ae,isNewEngine:se}=Wm(r);if(se)return e.jsx(Bp,{});const[ie,oe]=kt.useState({isOpen:!1,data:null}),le=St.useDeferredValue(O),ce=St.useDeferredValue(T),de=au(ru(Zu,{activationConstraint:{distance:8}}),ru(sh,{activationConstraint:{delay:250,tolerance:5}})),ue=St.useRef(null),he=async e=>{try{if(e&&e.includes("/storage/")){const t=`http://localhost:8000/api/v1/file-proxy?path=${encodeURIComponent(e)}`,n=await fetch(t),r=await n.blob();return new Promise((e,t)=>{const n=new FileReader;n.onloadend=()=>e(n.result),n.onerror=t,n.readAsDataURL(r)})}const t=await fetch(e),n=await t.blob();return new Promise((e,t)=>{const r=new FileReader;r.onloadend=()=>e(r.result),r.onerror=t,r.readAsDataURL(n)})}catch(t){return null}};St.useEffect(()=>{(async()=>{try{const e=await wd();e&&e.logo&&D(e.logo)}catch(e){}})()},[]);const me=async()=>{try{await Q(n)}catch(e){}},[pe,fe]=kt.useState(null),be=async()=>{if(r){f(!0);try{let t=E;if(E&&!E.startsWith("data:")){const e=await he(E);e&&(t=e)}const n=renderToStaticMarkup(e.jsx(pm,{data:O,content:T,zoom:1,printing:!0,styles:ne,signatures:M,businessLogo:t})),a=await Hm(r,n,A);a.url&&window.open(a.url,"_blank")}catch(t){$t.error("Failed to generate PDF. Please try again.")}finally{f(!1)}}else $t.error("Please save the document before printing.")},ve=async()=>{if(r){x(!0),x(!0);try{let e=E;if(E&&!E.startsWith("data:")){const t=await he(E);t&&(e=t)}const t=Fm(O,T,A,M,e),n=await Hm(r,t,A);if(n.url){const e=document.createElement("a");e.href=n.url,e.download=`${A.replace(/[^a-z0-9]/gi,"_").toLowerCase()}.pdf`,document.body.appendChild(e),e.click(),document.body.removeChild(e),$t.success("Document exported successfully")}}catch(e){$t.error("Failed to export document")}finally{x(!1)}}else $t.error("Please save the document before exporting.")},ye=()=>{r?j(!0):$t.error("Please save the document before sending.")};return L?e.jsx("div",{className:"flex h-screen items-center justify-center bg-slate-50",children:e.jsxs("div",{className:"text-center",children:[e.jsx(y,{size:40,className:"animate-spin text-indigo-600 mx-auto mb-4"}),e.jsx("p",{className:"text-slate-500 font-medium",children:"Loading Document..."})]})}):e.jsx(Bh,{sensors:de,onDragStart:e=>{fe(e.active)},onDragEnd:e=>{const{active:t,over:n}=e;if(fe(null),n&&"document-canvas"===n.id){const e=document.getElementById("printable-document");if(e&&t.rect.current.translated){const n=e.getBoundingClientRect(),r=(t.rect.current.translated.left-n.left)/l,a=(t.rect.current.translated.top-n.top)/l;if("toolbar-item"===t.data.current?.type)oe({isOpen:!0,data:{id:null,position:{x:r,y:a},type:"all",required:!0,order:M.length+1}});else if("signature-field"===t.data.current?.type){const e=t.id;K(e,{position:{x:r,y:a}})}}}},children:e.jsxs("div",{className:"flex flex-col h-screen bg-slate-100 overflow-hidden",children:[e.jsx(km,{isOpen:ie.isOpen,onClose:()=>oe({isOpen:!1,data:null}),onSave:e=>{if(e.id)K(e.id,{metadata:{signeeName:e.signeeName,signeeEmail:e.signeeEmail,type:e.type,required:e.required,order:e.order}});else{const t={id:Lm(),position:ie.data.position,metadata:{signeeName:e.signeeName,signeeEmail:e.signeeEmail,type:e.type,required:e.required,order:e.order}};G(t)}},initialData:ie.data,parties:{disclosingPartyName:O.disclosingPartyName,receivingPartyName:O.receivingPartyName,disclosingSignatoryName:O.disclosingSignatoryName,receivingSignatoryName:O.receivingSignatoryName}}),e.jsx(nm,{dropAnimation:{sideEffects:({active:e})=>(document.body.style.cursor="grabbing",()=>{document.body.style.cursor=""})},children:pe?"toolbar-item"===pe.data.current?.type?e.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-lg border border-indigo-500 bg-white shadow-xl opacity-90 cursor-grabbing ring-2 ring-indigo-500/20 w-48",children:[e.jsx("div",{className:"p-2 rounded-md bg-indigo-100 text-indigo-600",children:e.jsx("div",{className:"w-5 h-5 flex items-center justify-center font-bold",children:"+"})}),e.jsx("span",{className:"text-sm font-medium text-slate-900",children:"Placing Field..."})]}):"signature-field"===pe.data.current?.type?e.jsxs("div",{className:"w-64 bg-white/95 backdrop-blur-sm border-2 border-indigo-500 rounded-lg shadow-2xl p-3 flex flex-col cursor-grabbing",children:[e.jsx("div",{className:"flex items-center gap-2 text-indigo-700 font-semibold border-b pb-2 mb-2",children:e.jsx("span",{children:pe.data.current.signeeName||"Signature"})}),e.jsx("div",{className:"h-10 flex items-center justify-center text-indigo-200",children:"Sign Here"})]}):null:null}),N&&e.jsxs("div",{className:"bg-amber-100 border-b border-amber-200 px-4 py-2 flex items-center justify-between text-amber-800 text-sm",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ge,{size:16}),e.jsxs("span",{className:"font-medium",children:["Previewing Version ",N.version_number]}),e.jsxs("span",{className:"text-amber-600 hidden md:inline",children:["(",new Date(N.created_at).toLocaleString(),")"]})]}),e.jsxs("button",{onClick:()=>{ee(),k(null),$t.success("Exited preview mode")},className:"text-amber-700 hover:text-amber-900 font-medium hover:underline flex items-center gap-1",children:[e.jsx(t,{size:14})," Exit Preview"]})]}),e.jsx(Nm,{isOpen:w,onClose:()=>j(!1),documentId:r,documentName:A,isReminder:!!R,onSuccess:e=>{e&&e.sent_at&&F(e.sent_at)},getHtmlContent:async()=>{let e=E;if(E&&!E.startsWith("data:")){const t=await he(E);t&&(e=t)}return Fm(O,T,A,M,e)},signatures:M}),e.jsxs("header",{className:"no-print h-14 md:h-16 bg-white/80 backdrop-blur-md border-b border-slate-200/60 px-4 md:px-6 flex items-center justify-between flex-shrink-0 z-30 shadow-sm relative transition-all duration-300",children:[e.jsxs("div",{className:"flex items-center gap-2 md:gap-4",children:[e.jsx("button",{onClick:()=>n("/documents"),className:"p-2 hover:bg-slate-100 rounded-full text-slate-500 transition-colors flex-shrink-0",title:"Back to Documents",children:e.jsx(I,{size:20})}),e.jsxs("div",{className:"min-w-0 relative group/input",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("div",{className:"relative",children:[e.jsx("input",{ref:ue,type:"text",value:A,onChange:e=>{z(e.target.value),S&&C(null)},className:"font-bold text-sm md:text-lg bg-transparent border-b-2 focus:ring-0 p-0 m-0 w-auto min-w-[150px] max-w-[300px] placeholder-slate-400 truncate transition-colors "+(S?"border-red-500 text-slate-800 ring-4 ring-red-500/10 rounded-sm px-1 -mx-1":"border-transparent hover:border-slate-200 text-slate-800"),placeholder:"Enter Document Name"}),S&&e.jsxs("div",{className:"absolute top-full left-0 mt-2 w-64 bg-white rounded-lg shadow-xl border border-red-100 z-50 p-3 animate-in fade-in slide-in-from-top-2",children:[e.jsxs("div",{className:"flex items-start gap-2 text-red-600 mb-2",children:[e.jsx(b,{size:16,className:"mt-0.5 flex-shrink-0"}),e.jsx("p",{className:"text-xs font-semibold leading-tight",children:S})]}),_&&e.jsxs("div",{className:"bg-slate-50 rounded p-2 border border-slate-100",children:[e.jsx("p",{className:"text-[10px] text-slate-500 mb-1 uppercase tracking-wide font-bold",children:"Suggestion:"}),e.jsx("button",{onClick:()=>{z(_),C(null),P(null)},className:"w-full text-left text-sm font-bold text-indigo-600 hover:text-indigo-700 hover:underline truncate",title:"Click to use this name",children:_})]})]})]}),e.jsx("button",{onClick:()=>{const e=O.receivingPartyName?.trim();e?(z(`NDA - ${e}`),C(null),P(null),$t.success("Generated smart name!")):$t.error("Enter 'Receiving Party Name' in the form first.")},className:"p-1.5 text-slate-400 hover:text-indigo-600 hover:bg-indigo-50 rounded-md transition-colors",title:"Auto-generate name from Form Data",children:e.jsx(Pe,{size:16})}),R&&e.jsxs("span",{className:"hidden lg:inline-flex items-center gap-1 px-2 py-0.5 rounded-full bg-emerald-50 text-emerald-600 text-[10px] font-medium border border-emerald-100",children:[e.jsx(we,{size:10})," Sent"]})]}),e.jsx("p",{className:"text-[10px] md:text-xs text-slate-400 font-medium whitespace-nowrap hidden sm:block mt-0.5",children:r?"Autosaved locally":"Draft"})]})]}),e.jsxs("div",{className:"flex items-center gap-2 md:gap-3",children:[e.jsxs("div",{className:"hidden lg:flex items-center bg-slate-100 rounded-lg p-1 mr-4",children:[e.jsx("button",{onClick:()=>c(e=>Math.max(e-.1,.5)),className:"p-1.5 hover:bg-white hover:shadow-sm rounded-md text-slate-500 transition-all",children:e.jsx(Ee,{size:16})}),e.jsxs("span",{className:"text-xs font-semibold text-slate-600 w-12 text-center",children:[Math.round(100*l),"%"]}),e.jsx("button",{onClick:()=>c(e=>Math.min(e+.1,1.5)),className:"p-1.5 hover:bg-white hover:shadow-sm rounded-md text-slate-500 transition-all",children:e.jsx(De,{size:16})})]}),e.jsxs("button",{onClick:()=>u(!0),className:"hidden lg:flex items-center gap-2 px-4 py-2 text-slate-600 text-sm font-medium hover:bg-slate-50 rounded-lg border border-transparent hover:border-slate-200 transition-all",title:"Version History",children:[e.jsx($,{size:18}),e.jsx("span",{children:"History"})]}),e.jsxs("button",{onClick:be,disabled:p,className:"hidden lg:flex items-center gap-2 px-4 py-2 text-slate-600 text-sm font-medium hover:bg-slate-50 rounded-lg border border-transparent hover:border-slate-200 transition-all disabled:opacity-50",children:[p?e.jsx(y,{size:18,className:"animate-spin"}):e.jsx(Oe,{size:18}),e.jsx("span",{children:p?"Generating...":"Print"})]}),e.jsxs("button",{onClick:ye,className:"hidden lg:flex items-center gap-2 px-4 py-2 text-sm font-medium rounded-lg border border-transparent transition-all "+(R?"text-amber-600 hover:bg-amber-50 hover:border-amber-200":"text-slate-600 hover:bg-slate-50 hover:border-slate-200"),children:[R?e.jsx(Z,{size:18}):e.jsx(v,{size:18}),e.jsx("span",{children:R?"Remind":"Send"})]}),e.jsxs("button",{onClick:ve,disabled:g,className:"hidden lg:flex items-center gap-2 px-4 py-2 text-slate-600 text-sm font-medium hover:bg-slate-50 rounded-lg border border-transparent hover:border-slate-200 transition-all disabled:opacity-50",children:[g?e.jsx(y,{size:18,className:"animate-spin"}):e.jsx(xe,{size:18}),e.jsx("span",{children:g?"Exporting...":"Export"})]}),e.jsxs("button",{onClick:me,className:"hidden lg:flex items-center gap-2 px-5 py-2 rounded-lg text-white font-medium shadow-md transition-all "+(B?"bg-emerald-500":"bg-indigo-600 hover:bg-indigo-700"),children:[B?e.jsx(we,{size:18}):e.jsx(_e,{size:18}),e.jsx("span",{children:B?"Saved!":"Save"})]})]})]}),e.jsxs("div",{className:"flex flex-col lg:flex-row flex-1 overflow-hidden relative pb-[70px] lg:pb-0",children:[e.jsx("div",{className:`\n                        no-print w-full lg:w-[400px] h-full bg-white border-b lg:border-b-0 lg:border-r border-slate-200 \n                        overflow-y-auto z-20 shadow-sm flex-shrink-0 lg:order-1\n                        ${a||"edit"===s?"block":"hidden"}\n                    `,children:e.jsx(dm,{formData:O,onChange:W,docContent:T,onContentChange:U,addSection:H,removeSection:V,updateSection:q,reorderSections:Y,styles:ne,onStyleUpdate:re,onStyleReset:ae})}),e.jsxs("div",{className:`\n                        flex-1 h-full overflow-y-auto bg-slate-50/50 p-4 md:p-8 sm:p-12 \n                        flex justify-center items-start scrollbar-thin scrollbar-thumb-slate-300 lg:order-2\n                        ${a||"preview"===s?"flex":"hidden"}\n                    `,style:{backgroundImage:"radial-gradient(#cbd5e1 1px, transparent 1px)",backgroundSize:"20px 20px"},children:[e.jsx(pm,{data:le,content:ce,zoom:l,signatures:M,onUpdateSignature:K,onRemoveSignature:X,onEditSignature:e=>{oe({isOpen:!0,data:{id:e.id,...e.metadata}})},businessLogo:E,styles:ne}),!a&&"preview"===s&&e.jsx("button",{onClick:()=>{oe({isOpen:!0,data:{id:null,position:{x:50,y:100},type:"all",required:!0,order:M.length+1}})},className:"fixed bottom-24 right-6 w-14 h-14 bg-indigo-600 text-white rounded-full shadow-lg shadow-indigo-600/30 flex items-center justify-center hover:bg-indigo-700 transition-transform active:scale-95 z-30",title:"Add Signature",children:e.jsx("span",{className:"text-2xl font-bold",children:"+"})})]})]}),e.jsx(jm,{documentId:r,isOpen:d,onClose:()=>u(!1),onPreview:e=>{J(e),k(e),u(!1),$t.success(`Previewing Version ${e.version_number}`)},onDownload:async e=>{const t=$t.loading("Preparing version PDF...");try{let n=e.content;if("string"==typeof n)try{n=JSON.parse(n)}catch(sB){}const a=n.formData||O,s=n.docContent||T;let i=E;if(E&&!E.startsWith("data:")){const e=await he(E);e&&(i=e)}const o=Fm(a,s,`${A} - v${e.version_number}`,[],i),l=await Hm(r,o,`${A} - v${e.version_number}`);if(l.url){const n=document.createElement("a");n.href=l.url,n.download=`${A.replace(/[^a-z0-9]/gi,"_")}_v${e.version_number}.pdf`,document.body.appendChild(n),n.click(),document.body.removeChild(n),$t.success(`Version ${e.version_number} downloaded`,{id:t})}}catch(n){$t.error("Failed to download version PDF",{id:t})}},onRestore:e=>{te(e),k(null)}}),!a&&e.jsxs("div",{className:"fixed bottom-0 left-0 right-0 bg-white border-t border-slate-200 flex justify-between items-center px-6 py-3 pb-safe z-40 safe-area-bottom",children:[e.jsxs("button",{onClick:()=>i("edit"),className:"flex flex-col items-center gap-1 "+("edit"===s?"text-indigo-600":"text-slate-400"),children:[e.jsx(o,{size:24,strokeWidth:"edit"===s?2.5:2}),e.jsx("span",{className:"text-[10px] font-medium",children:"Editor"})]}),e.jsxs("button",{onClick:()=>i("preview"),className:"flex flex-col items-center gap-1 "+("preview"===s?"text-indigo-600":"text-slate-400"),children:[e.jsx(ge,{size:24,strokeWidth:"preview"===s?2.5:2}),e.jsx("span",{className:"text-[10px] font-medium",children:"Preview"})]}),e.jsxs("button",{onClick:me,className:"flex flex-col items-center gap-1 "+(B?"text-emerald-500":"text-slate-400 transition-colors active:text-indigo-600"),children:[B?e.jsx(we,{size:24,strokeWidth:2.5}):e.jsx(_e,{size:24}),e.jsx("span",{className:"text-[10px] font-medium",children:B?"Saved":"Save"})]}),e.jsxs("button",{onClick:()=>m(!0),className:"flex flex-col items-center gap-1 "+(h?"text-indigo-600":"text-slate-400"),children:[e.jsx(Te,{size:24}),e.jsx("span",{className:"text-[10px] font-medium",children:"More"})]})]}),!a&&h&&e.jsxs("div",{className:"fixed inset-0 z-50 flex flex-col justify-end",children:[e.jsx("div",{className:"absolute inset-0 bg-slate-900/40 backdrop-blur-sm animate-in fade-in",onClick:()=>m(!1)}),e.jsxs("div",{className:"relative bg-white rounded-t-2xl p-6 pb-safe animate-in slide-in-from-bottom shadow-2xl space-y-2",children:[e.jsx("div",{className:"w-12 h-1.5 bg-slate-200 rounded-full mx-auto mb-6"}),e.jsx("h3",{className:"text-sm font-semibold text-slate-400 uppercase tracking-wider mb-2 px-2",children:"Actions"}),e.jsxs("button",{onClick:()=>{m(!1),u(!0)},className:"w-full flex items-center gap-3 p-3 text-slate-700 font-medium hover:bg-slate-50 rounded-xl transition-colors",children:[e.jsx("div",{className:"p-2 bg-indigo-50 text-indigo-600 rounded-lg",children:e.jsx($,{size:20})}),"Version History"]}),e.jsxs("button",{onClick:()=>{m(!1),ye()},className:"w-full flex items-center gap-3 p-3 text-slate-700 font-medium hover:bg-slate-50 rounded-xl transition-colors",children:[e.jsx("div",{className:"p-2 bg-amber-50 text-amber-600 rounded-lg",children:R?e.jsx(Z,{size:20}):e.jsx(v,{size:20})}),R?"Send Reminder":"Send to Client"]}),e.jsxs("button",{onClick:()=>{m(!1),be()},disabled:p,className:"w-full flex items-center gap-3 p-3 text-slate-700 font-medium hover:bg-slate-50 rounded-xl transition-colors disabled:opacity-50",children:[e.jsx("div",{className:"p-2 bg-sky-50 text-sky-600 rounded-lg",children:p?e.jsx(y,{size:20,className:"animate-spin"}):e.jsx(Oe,{size:20})}),p?"Generating PDF...":"Print / Download PDF"]}),e.jsxs("button",{onClick:()=>{m(!1),ve()},disabled:g,className:"w-full flex items-center gap-3 p-3 text-slate-700 font-medium hover:bg-slate-50 rounded-xl transition-colors disabled:opacity-50",children:[e.jsx("div",{className:"p-2 bg-emerald-50 text-emerald-600 rounded-lg",children:g?e.jsx(y,{size:20,className:"animate-spin"}):e.jsx(xe,{size:20})}),g?"Exporting...":"Export"]}),e.jsx("button",{onClick:()=>m(!1),className:"w-full mt-4 p-3 bg-slate-100 text-slate-600 font-semibold rounded-xl",children:"Cancel"})]})]})]})})},Wp=({title:t,icon:n,isOpen:s,onClick:i,children:o})=>e.jsxs("div",{className:"border-b border-slate-100 last:border-none",children:[e.jsxs("button",{onClick:i,className:"w-full flex items-center justify-between p-4 transition-colors "+(s?"bg-slate-50 text-indigo-600":"text-slate-700 hover:bg-slate-50"),children:[e.jsxs("div",{className:"flex items-center gap-3 font-semibold text-sm",children:[n&&e.jsx(n,{size:18,className:s?"text-indigo-500":"text-slate-400"}),e.jsx("span",{children:t})]}),e.jsx(a.div,{animate:{rotate:s?180:0},transition:{duration:.2},children:e.jsx(x,{size:16})})]}),e.jsx(r,{initial:!1,children:s&&e.jsx(a.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.3,ease:"easeInOut"},className:"overflow-hidden",children:e.jsx("div",{className:"p-4 pt-0 space-y-4",children:o})})})]}),Up=({label:t,name:n,value:r,onChange:a,placeholder:s,type:i="text",rows:o})=>e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase tracking-wide mb-1.5",children:t}),o?e.jsx("textarea",{name:n,value:r||"",onChange:a,placeholder:s,rows:o,className:"w-full px-3 py-2.5 bg-white border border-slate-200 rounded-lg text-sm text-slate-700 shadow-sm focus:ring-2 focus:ring-indigo-500/20 focus:border-indigo-500 outline-none transition-all placeholder-slate-400 resize-y"}):e.jsx("input",{type:i,name:n,value:r||"",onChange:a,placeholder:s,className:"w-full px-3 py-2.5 bg-white border border-slate-200 rounded-lg text-sm text-slate-700 shadow-sm focus:ring-2 focus:ring-indigo-500/20 focus:border-indigo-500 outline-none transition-all placeholder-slate-400"})]}),Hp=({formData:t,onChange:n,docContent:r,onContentChange:a,addSection:i,removeSection:l,updateSection:c,reorderSections:d,updateTimeline:u,addTimelineRow:h,removeTimelineRow:m,styles:p,onStyleUpdate:f,onStyleReset:g,addListItem:x,removeListItem:b,updateListItem:v})=>{const[y,w]=kt.useState("cover"),[N,S]=kt.useState("fill"),C=e=>{w(y===e?null:e)},_=({title:t,items:n,onAdd:r,onRemove:a,onUpdate:s,placeholder:i})=>e.jsxs("div",{className:"space-y-3",children:[e.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase tracking-wide",children:t}),e.jsx("div",{className:"space-y-2",children:n&&n.map((t,n)=>e.jsxs("div",{className:"flex gap-2 group relative",children:[e.jsx("input",{type:"text",value:t,onChange:e=>s(n,e.target.value),placeholder:i,className:"w-full px-3 py-2 bg-slate-50 border border-slate-200 rounded-lg text-sm text-slate-700 focus:bg-white transition-all outline-none focus:ring-2 focus:ring-indigo-500/20 focus:border-indigo-500"}),e.jsx("button",{onClick:()=>a(n),className:"p-2 text-slate-400 hover:text-red-500 hover:bg-red-50 rounded-lg transition-colors opacity-0 group-hover:opacity-100",title:"Remove item",children:e.jsx(te,{size:16})})]},n))}),e.jsxs("button",{onClick:r,className:"w-full py-2 border border-dashed border-slate-300 text-slate-500 hover:text-indigo-600 hover:border-indigo-300 rounded-lg text-xs font-medium transition-colors flex items-center justify-center gap-2",children:[e.jsx(ne,{size:14})," Add Item"]})]}),P=({title:t,label:n,placeholder:a,rows:s=6})=>{const i=r.sections.find(e=>e.title===t)||r.sections.find(e=>e.title.includes(t));return i?e.jsx(Up,{label:n||t,name:`section_${i.id}`,value:i.content,onChange:e=>c(i.id,"content",e.target.value),placeholder:a,rows:s}):null};return e.jsxs("div",{className:"bg-white min-h-full pb-20",children:[e.jsxs("div",{className:"p-6 border-b border-slate-100 bg-slate-50/50 sticky top-0 z-10 backdrop-blur-sm",children:[e.jsxs("div",{className:"flex gap-1 bg-slate-200/50 p-1 rounded-lg mb-4",children:[e.jsxs("button",{onClick:()=>S("fill"),className:"flex-1 flex items-center justify-center gap-2 py-2 rounded-md text-sm font-medium transition-all "+("fill"===N?"bg-white shadow-sm text-indigo-600":"text-slate-500 hover:text-slate-700"),children:[e.jsx(de,{size:16}),"Fill Details"]}),e.jsxs("button",{onClick:()=>S("edit"),className:"flex-1 flex items-center justify-center gap-2 py-2 rounded-md text-sm font-medium transition-all "+("edit"===N?"bg-white shadow-sm text-indigo-600":"text-slate-500 hover:text-slate-700"),children:[e.jsx(ue,{size:16}),"Builder"]}),e.jsxs("button",{onClick:()=>S("style"),className:"flex-1 flex items-center justify-center gap-2 py-2 rounded-md text-sm font-medium transition-all "+("style"===N?"bg-white shadow-sm text-indigo-600":"text-slate-500 hover:text-slate-700"),children:[e.jsx(ie,{size:16}),"Style"]})]}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-bold text-slate-900",children:"fill"===N?"Proposal Details":"edit"===N?"Structure Builder":"Styling & Appearance"}),e.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"fill"===N?"Enter project specifics and pricing":"edit"===N?"Customize layout and clauses":"Fonts, colors and spacing"})]})]}),"fill"===N&&e.jsxs(e.Fragment,{children:[e.jsxs(Wp,{title:"Cover Page",icon:o,isOpen:"cover"===y,onClick:()=>C("cover"),children:[e.jsx(Up,{label:"Proposal Title",name:"proposalTitle",value:t.proposalTitle,onChange:n,placeholder:"e.g. Mobile App Development"}),e.jsx(Up,{label:"Project Description (Short)",name:"projectDescription",value:t.projectDescription,onChange:n,placeholder:"Brief summary...",rows:2}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsx(Up,{label:"Date",name:"proposalDate",value:t.proposalDate,onChange:n,placeholder:"DD/MM/YYYY"}),e.jsx(Up,{label:"Ref No.",name:"referenceNo",value:t.referenceNo,onChange:n,placeholder:"Optional"})]})]}),e.jsx(Wp,{title:"Document Branding",icon:oe,isOpen:"branding"===y,onClick:()=>C("branding"),children:e.jsx(om,{formData:t,onChange:n})}),e.jsx(Wp,{title:"Introduction & Goals",icon:Me,isOpen:"intro"===y,onClick:()=>C("intro"),children:e.jsxs("div",{className:"space-y-6",children:[e.jsx(P,{title:"Introduction",placeholder:"Executive summary and intro...",rows:4}),e.jsx(_,{title:"Client Objectives",items:t.objectivesList,onAdd:()=>x("objectivesList"),onRemove:e=>b("objectivesList",e),onUpdate:(e,t)=>v("objectivesList",e,t),placeholder:"E.g. Increase revenue by 20%"})]})}),e.jsx(Wp,{title:"Scope & Deliverables",icon:k,isOpen:"scope"===y,onClick:()=>C("scope"),children:e.jsxs("div",{className:"space-y-8",children:[e.jsx(_,{title:"Services Included",items:t.scopeIncludedList,onAdd:()=>x("scopeIncludedList"),onRemove:e=>b("scopeIncludedList",e),onUpdate:(e,t)=>v("scopeIncludedList",e,t),placeholder:"Service description..."}),e.jsx(_,{title:"Services Excluded",items:t.scopeExcludedList,onAdd:()=>x("scopeExcludedList"),onRemove:e=>b("scopeExcludedList",e),onUpdate:(e,t)=>v("scopeExcludedList",e,t),placeholder:"Excluded service..."}),e.jsx("div",{className:"h-px bg-slate-100"}),e.jsx(_,{title:"Deliverables",items:t.deliverablesList,onAdd:()=>x("deliverablesList"),onRemove:e=>b("deliverablesList",e),onUpdate:(e,t)=>v("deliverablesList",e,t),placeholder:"E.g. Final Report PDF"})]})}),e.jsx(Wp,{title:"Parties Involved",icon:j,isOpen:"parties"===y,onClick:()=>C("parties"),children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"p-3 bg-indigo-50 rounded-lg border border-indigo-100",children:[e.jsx("h4",{className:"text-xs font-bold text-indigo-900 uppercase mb-3",children:"Prepared For (Client)"}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(Up,{label:"Client Name",name:"clientName",value:t.clientName,onChange:n,placeholder:"Contact Person"}),e.jsx(Up,{label:"Company",name:"clientCompany",value:t.clientCompany,onChange:n,placeholder:"Client Company"}),e.jsx(Up,{label:"Address",name:"clientAddress",value:t.clientAddress,onChange:n,placeholder:"Full Address",rows:2})]})]}),e.jsxs("div",{className:"p-3 bg-emerald-50 rounded-lg border border-emerald-100",children:[e.jsx("h4",{className:"text-xs font-bold text-emerald-900 uppercase mb-3",children:"Prepared By (Provider)"}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(Up,{label:"Your Name",name:"providerName",value:t.providerName,onChange:n,placeholder:"Your Name"}),e.jsx(Up,{label:"Company",name:"providerCompany",value:t.providerCompany,onChange:n,placeholder:"Your Company"}),e.jsx(Up,{label:"Address",name:"providerAddress",value:t.providerAddress,onChange:n,placeholder:"Full Address",rows:2})]})]})]})}),e.jsx(Wp,{title:"Project Timeline",icon:Ae,isOpen:"timeline"===y,onClick:()=>C("timeline"),children:e.jsxs("div",{className:"space-y-4",children:[t.timeline.map((t,n)=>e.jsxs("div",{className:"bg-slate-50 border border-slate-200 rounded-lg p-3 relative group",children:[e.jsxs("div",{className:"grid grid-cols-[1fr_80px] gap-2 mb-2",children:[e.jsx("input",{value:t.phase||"",onChange:e=>u(n,"phase",e.target.value),className:"bg-white border border-slate-200 rounded px-2 py-1 text-xs font-bold text-slate-700",placeholder:"Phase"}),e.jsx("input",{value:t.duration||"",onChange:e=>u(n,"duration",e.target.value),className:"bg-white border border-slate-200 rounded px-2 py-1 text-xs text-slate-500 text-right",placeholder:"Duration"})]}),e.jsx("textarea",{value:t.description||"",onChange:e=>u(n,"description",e.target.value),rows:2,className:"w-full bg-white border border-slate-200 rounded px-2 py-1 text-xs text-slate-600 resize-none",placeholder:"Phase Description..."}),e.jsx("button",{onClick:()=>m(n),className:"absolute -top-2 -right-2 bg-white text-slate-400 hover:text-red-500 rounded-full p-1 shadow-sm border border-slate-100 opacity-0 group-hover:opacity-100 transition-all",children:e.jsx(te,{size:12})})]},n)),e.jsxs("button",{onClick:h,className:"w-full py-2 border border-dashed border-slate-300 text-slate-500 hover:text-indigo-600 hover:border-indigo-300 rounded-lg text-xs font-medium transition-colors flex items-center justify-center gap-2",children:[e.jsx(ne,{size:14})," Add Phase"]})]})}),e.jsxs(Wp,{title:"Commercials",icon:ze,isOpen:"commercials"===y,onClick:()=>C("commercials"),children:[e.jsx(Up,{label:"Total Project Cost",name:"totalProjectCost",value:t.totalProjectCost,onChange:n,placeholder:"e.g. $5,000 USD"}),e.jsxs("div",{className:"grid grid-cols-2 gap-3 mt-3",children:[e.jsx(Up,{label:"Payment Days",name:"paymentDays",value:t.paymentDays,onChange:n,placeholder:"15"}),e.jsx(Up,{label:"Validity (Days)",name:"validityDays",value:t.validityDays,onChange:n,placeholder:"30"})]}),e.jsx("div",{className:"h-px bg-slate-100 my-3"}),e.jsx(Up,{label:"Jurisdiction",name:"jurisdiction",value:t.jurisdiction,onChange:n,placeholder:"State/Country"})]}),e.jsx(Wp,{title:"Legal Terms",icon:s,isOpen:"legal"===y,onClick:()=>C("legal"),children:e.jsxs("div",{className:"space-y-4",children:[e.jsx(P,{title:"Client Responsibilities",rows:3}),e.jsx(P,{title:"Confidentiality",rows:3}),e.jsx(P,{title:"Intellectual Property Rights",rows:3}),e.jsx(P,{title:"Limitation of Liability",rows:3}),e.jsx(P,{title:"Term & Termination",rows:3}),e.jsx(P,{title:"Governing Law",rows:2})]})})]}),"edit"===N&&e.jsx("div",{className:"p-4 space-y-4 pb-20",children:e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute left-[7px] top-4 bottom-0 w-[2px] bg-slate-100"}),e.jsx("p",{className:"font-bold text-[10px] uppercase tracking-widest text-slate-400 pl-8 mb-4",children:"Proposal Structure"}),e.jsx(he,{axis:"y",values:r.sections,onReorder:d,className:"space-y-0",children:r.sections.map((t,n)=>e.jsx(me,{value:t,className:"relative mb-2",children:e.jsx(sm,{section:t,onUpdate:(e,n)=>c(t.id,e,n),onRemove:()=>l(t.id),placeholderTitle:"Section Title",placeholderContent:"Section content..."})},t.id))}),e.jsx(im,{onClick:i})]})})]})};function Vp({data:t,content:n,zoom:s=1,printing:i=!1,readOnly:o=!1,styles:l}){const c=l||{fontFamily:"font-serif",fontSize:"text-[11pt]",lineHeight:"leading-relaxed",textColor:"#1e293b",headingColor:"#0f172a",accentColor:"#4f46e5",pageMargin:"p-[25mm]"},d=({value:t,placeholder:n,name:r,className:a=""})=>{const s=(e=>{if(!e)return"bg-slate-100 text-slate-600 border-slate-200";const t=["bg-indigo-50 text-indigo-700 border-indigo-200","bg-emerald-50 text-emerald-700 border-emerald-200","bg-amber-50 text-amber-700 border-amber-200","bg-rose-50 text-rose-700 border-rose-200","bg-violet-50 text-violet-700 border-violet-200","bg-sky-50 text-sky-700 border-sky-200"];let n=0;for(let r=0;r<e.length;r++)n=e.charCodeAt(r)+((n<<5)-n);return t[Math.abs(n)%t.length]})(r);return t?o||i?e.jsx("span",{className:`font-medium text-slate-900 ${a}`,children:t}):e.jsx("span",{className:`px-1.5 py-0.5 rounded border ${s} font-medium mx-0.5 transition-all hover:brightness-95 ${a}`,children:t}):o||i?e.jsx("span",{className:`text-slate-500 italic ${a}`,children:n}):e.jsx("span",{className:`px-1.5 py-0.5 rounded border border-dashed ${s} bg-opacity-50 font-medium text-xs mx-0.5 ${a}`,children:n})},u=({template:t,values:n})=>{if(!t)return null;const r=t.split(/(\*\*[^*]+\*\*)/g);return e.jsx("span",{children:r.map((t,r)=>{if(t.startsWith("**")&&t.endsWith("**"))return e.jsx("strong",{children:t.slice(2,-2)},r);const a=t.split(/(\{\{[^}]+\}\})/g);return e.jsx("span",{children:a.map((t,r)=>{if(t.startsWith("{{")&&t.endsWith("}}")){const a=t.slice(2,-2).trim();return Array.isArray(n[a])?e.jsx("ul",{className:"list-disc pl-5 my-2 space-y-1",children:n[a].map((t,n)=>e.jsx("li",{children:e.jsx(d,{value:t,name:`${a}_${n}`})},n))},r):e.jsx(d,{value:n[a],name:a,placeholder:`[${a}]`},r)}return t.split("\n").map((t,n)=>e.jsxs(St.Fragment,{children:[n>0&&e.jsx("br",{}),t]},n))})},r)})})},h=i?"div":a.div,m=i?"div":a.section;return e.jsxs(h,{id:"printable-document",...i?{}:{initial:{opacity:0,y:20},animate:{opacity:1,y:0}},style:{transform:i?"none":`scale(${s})`,transformOrigin:"top center",color:c.textColor},className:`w-[210mm] min-h-[297mm] bg-white relative mb-20 origin-top\n                ${i?"":"shadow-[0_8px_30px_rgb(0,0,0,0.12)] border border-slate-200/60"}\n                ${c.fontFamily} ${c.fontSize} ${c.lineHeight} ${c.pageMargin}\n            `,children:[e.jsx("div",{className:"no-print absolute inset-0 shadow-[0_2px_4px_rgba(0,0,0,0.05),0_12px_24px_rgba(0,0,0,0.1)] rounded-sm pointer-events-none"}),e.jsxs("div",{className:"p-[10mm] h-full flex flex-col relative z-10 min-h-[297mm]",children:[e.jsxs("div",{className:`flex-1 flex flex-col justify-center ${"left"===t.logoAlignment?"items-start text-left":"right"===t.logoAlignment?"items-end text-right":"items-center text-center"} border-b-2 border-slate-900 mb-12 pb-12 break-after-page`,style:i?{textAlign:t.logoAlignment||"center"}:{},children:[t.businessLogo&&!1!==t.brandingEnabled&&"false"!==t.brandingEnabled&&e.jsx("div",{className:"mb-8 w-full",children:e.jsx("img",{src:t.businessLogo,alt:"Company Logo",style:{height:`${t.logoSize||80}px`,objectFit:"contain",marginLeft:"right"===t.logoAlignment||"center"===t.logoAlignment?"auto":"0",marginRight:"left"===t.logoAlignment||"center"===t.logoAlignment?"auto":"0",display:"block"},className:"object-contain "+("left"===t.logoAlignment?"":"right"===t.logoAlignment?"ml-auto":"mx-auto")})}),e.jsx("div",{className:"mb-4",children:e.jsx("span",{className:"uppercase tracking-[0.2em] text-slate-400 text-sm font-sans",children:"Project Proposal"})}),e.jsx("h1",{className:"text-4xl font-bold mb-2 max-w-lg leading-tight",style:{color:c.headingColor},children:e.jsx(d,{value:t.proposalTitle,placeholder:"[Project Name]"})}),e.jsx("div",{className:"w-16 h-1 bg-indigo-500 my-8"}),e.jsxs("div",{className:"grid grid-cols-1 gap-12 w-full max-w-md mt-8 "+("right"===t.logoAlignment?"text-right":"text-left"),children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs uppercase font-bold text-slate-400 mb-2 font-sans",children:"Prepared For"}),e.jsx("div",{className:"text-lg font-medium",children:e.jsx(d,{value:t.clientName,placeholder:"[Client Name]"})}),e.jsx("div",{className:"text-slate-600",children:e.jsx(d,{value:t.clientCompany,placeholder:"[Client Company]"})}),e.jsx("div",{className:"text-slate-500 text-sm mt-1 whitespace-pre-wrap",children:e.jsx(d,{value:t.clientAddress,placeholder:"[Client Address]"})})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs uppercase font-bold text-slate-400 mb-2 font-sans",children:"Prepared By"}),e.jsx("div",{className:"text-lg font-medium",children:e.jsx(d,{value:t.providerName,placeholder:"[Your Name]"})}),e.jsx("div",{className:"text-slate-600",children:e.jsx(d,{value:t.providerCompany,placeholder:"[Your Company]"})}),e.jsx("div",{className:"text-slate-500 text-sm mt-1 whitespace-pre-wrap",children:e.jsx(d,{value:t.providerAddress,placeholder:"[Your Address]"})})]})]}),e.jsxs("div",{className:"mt-auto grid grid-cols-2 gap-8 w-full max-w-md text-sm border-t border-slate-100 pt-8",children:[e.jsxs("div",{className:"right"===t.logoAlignment?"text-right order-2":"",children:[e.jsx("span",{className:"text-slate-400",children:"Date:"})," ",e.jsx(d,{value:t.proposalDate,placeholder:"DD/MM/YYYY"})]}),e.jsxs("div",{className:"right"===t.logoAlignment?"text-left order-1":"text-right",children:[e.jsx("span",{className:"text-slate-400",children:"Ref:"})," ",e.jsx(d,{value:t.referenceNo,placeholder:"-"})]})]})]}),e.jsx("div",{className:"space-y-8",children:e.jsx(r,{children:n.sections&&n.sections.map((n,r)=>e.jsxs(m,{...i?{}:{layout:!0,initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,scale:.95}},children:[e.jsxs("h2",{className:"font-bold text-lg uppercase mb-3 border-l-4 pl-3",style:{color:c.headingColor,borderColor:c.accentColor},children:[r+2,". ",n.title]}),e.jsx("div",{className:"text-justify text-slate-700",children:e.jsx(u,{template:n.content,values:t})}),n.title.includes("Timeline")&&e.jsx("div",{className:"mt-6 mb-8 overflow-hidden rounded-lg border border-slate-200",children:e.jsxs("table",{className:"w-full text-sm text-left",children:[e.jsx("thead",{className:"bg-slate-100 text-slate-700 font-bold uppercase text-xs",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3",children:"Phase"}),e.jsx("th",{className:"px-4 py-3",children:"Description"}),e.jsx("th",{className:"px-4 py-3 text-right",children:"Duration"})]})}),e.jsx("tbody",{className:"divide-y divide-slate-100",children:t.timeline.map((t,n)=>e.jsxs("tr",{className:"bg-white",children:[e.jsx("td",{className:"px-4 py-3 font-medium text-slate-900",children:t.phase}),e.jsx("td",{className:"px-4 py-3 text-slate-600",children:t.description}),e.jsx("td",{className:"px-4 py-3 text-right text-slate-500",children:t.duration})]},n))})]})})]},n.id))})}),e.jsxs("section",{className:"mt-16 break-inside-avoid border-t-2 border-slate-900 pt-8",children:[e.jsxs("h2",{className:"font-bold text-lg uppercase mb-6 text-slate-900 pl-3 border-l-4 border-indigo-500",children:[n.sections.length+2,". Acceptance"]}),e.jsx("p",{className:"mb-8",children:"By signing below, both parties agree to the terms and conditions outlined in this proposal."}),i?e.jsx("table",{style:{width:"100%",marginTop:"20px"},children:e.jsx("tbody",{children:e.jsxs("tr",{children:[e.jsxs("td",{style:{width:"48%",verticalAlign:"top",paddingRight:"2%"},children:[e.jsx("p",{style:{fontWeight:"bold",textTransform:"uppercase",fontSize:"10pt",marginBottom:"20px",backgroundColor:"#f1f5f9",padding:"5px"},children:"For Client"}),e.jsx("table",{style:{width:"100%"},children:e.jsxs("tbody",{children:[e.jsxs("tr",{children:[e.jsx("td",{style:{width:"80px",paddingBottom:"15px"},children:"Name:"}),e.jsx("td",{style:{borderBottom:"1px solid #ccc"}})]}),e.jsxs("tr",{children:[e.jsx("td",{style:{width:"80px",paddingBottom:"15px"},children:"Designation:"}),e.jsx("td",{style:{borderBottom:"1px solid #ccc"}})]}),e.jsxs("tr",{children:[e.jsx("td",{style:{width:"80px",paddingBottom:"15px"},children:"Signature:"}),e.jsx("td",{style:{borderBottom:"1px solid #ccc",height:"40px"}})]}),e.jsxs("tr",{children:[e.jsx("td",{style:{width:"80px"},children:"Date:"}),e.jsx("td",{style:{borderBottom:"1px solid #ccc"}})]})]})})]}),e.jsx("td",{style:{width:"4%"}}),e.jsxs("td",{style:{width:"48%",verticalAlign:"top"},children:[e.jsx("p",{style:{fontWeight:"bold",textTransform:"uppercase",fontSize:"10pt",marginBottom:"20px",backgroundColor:"#f1f5f9",padding:"5px"},children:"For Service Provider"}),e.jsx("table",{style:{width:"100%"},children:e.jsxs("tbody",{children:[e.jsxs("tr",{children:[e.jsx("td",{style:{width:"80px",paddingBottom:"15px"},children:"Name:"}),e.jsx("td",{style:{borderBottom:"1px solid #ccc"},children:t.providerName})]}),e.jsxs("tr",{children:[e.jsx("td",{style:{width:"80px",paddingBottom:"15px"},children:"Designation:"}),e.jsx("td",{style:{borderBottom:"1px solid #ccc"}})]}),e.jsxs("tr",{children:[e.jsx("td",{style:{width:"80px",paddingBottom:"15px"},children:"Signature:"}),e.jsx("td",{style:{borderBottom:"1px solid #ccc",height:"40px"}})]}),e.jsxs("tr",{children:[e.jsx("td",{style:{width:"80px"},children:"Date:"}),e.jsx("td",{style:{borderBottom:"1px solid #ccc"}})]})]})})]})]})})}):e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 md:gap-16",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("p",{className:"font-bold uppercase text-xs tracking-wider mb-8 bg-slate-100 p-2 inline-block rounded",children:"For Client"}),e.jsxs("div",{className:"grid grid-cols-[100px_1fr] gap-x-2 gap-y-4 items-baseline text-sm",children:[e.jsx("span",{className:"font-medium text-slate-500",children:"Name:"}),e.jsx("div",{className:"border-b border-slate-300 h-6"}),e.jsx("span",{className:"font-medium text-slate-500",children:"Designation:"}),e.jsx("div",{className:"border-b border-slate-300 h-6"}),e.jsx("span",{className:"font-medium text-slate-500",children:"Signature:"}),e.jsx("div",{className:"border-b border-slate-300 h-10"}),e.jsx("span",{className:"font-medium text-slate-500",children:"Date:"}),e.jsx("div",{className:"border-b border-slate-300 h-6"})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("p",{className:"font-bold uppercase text-xs tracking-wider mb-8 bg-slate-100 p-2 inline-block rounded",children:"For Service Provider"}),e.jsxs("div",{className:"grid grid-cols-[100px_1fr] gap-x-2 gap-y-4 items-baseline text-sm",children:[e.jsx("span",{className:"font-medium text-slate-500",children:"Name:"}),e.jsx("div",{className:"border-b border-slate-300 h-6 text-slate-900",children:t.providerName}),e.jsx("span",{className:"font-medium text-slate-500",children:"Designation:"}),e.jsx("div",{className:"border-b border-slate-300 h-6"}),e.jsx("span",{className:"font-medium text-slate-500",children:"Signature:"}),e.jsx("div",{className:"border-b border-slate-300 h-10"}),e.jsx("span",{className:"font-medium text-slate-500",children:"Date:"}),e.jsx("div",{className:"border-b border-slate-300 h-6"})]})]})]})]}),!i&&e.jsx("div",{className:"mt-auto pt-12 text-center",children:e.jsx("p",{className:"text-[9px] text-slate-300 uppercase tracking-widest font-sans",children:"Generated by DocForge"})})]})]})}const qp=({children:e})=>{const[t,n]=kt.useState(null);return kt.useEffect(()=>{const e=document.getElementById("print-root");if(e)n(e);else{const e=document.createElement("div");e.id="print-root",document.body.appendChild(e),n(e)}},[]),t?At.createPortal(e,t):null},Yp=()=>e.jsx(Lp,{}),Gp={title:"Business / Project Proposal",sections:[{id:"1",title:"Introduction",content:"This proposal is submitted by {{providerCompany}} to {{clientName}} to outline the scope, deliverables, timelines, and commercial terms for {{projectDescription}}. This document is intended to present a clear understanding of the proposed engagement and to serve as a basis for mutual agreement."},{id:"2",title:"Client Objectives",content:"The objective of this proposal is to assist {{clientCompany}} in achieving the following goals:\n\n1. [Objective 1]\n2. [Objective 2]\n3. [Objective 3]"},{id:"3",title:"Scope of Work",content:"The scope of work under this proposal shall include, but is not limited to, the following services:\n\n**4.1 Services Included**\n[Service 1]\n[Service 2]\n\n**4.2 Services Excluded**\nAny services not explicitly mentioned above shall be considered outside the scope and may be provided under a separate agreement or change request."},{id:"4",title:"Deliverables",content:"The following deliverables shall be provided as part of this engagement:\n\n1. [Deliverable 1]\n2. [Deliverable 2]\n\nAll deliverables shall be submitted in the agreed format and within the defined timeline."},{id:"5",title:"Project Timeline",content:"The estimated timeline for completion of the project is as follows (see table below). Timelines are indicative and subject to client approvals and dependencies."},{id:"6",title:"Commercials & Pricing",content:"The total professional fees for the services described in this proposal shall be: {{totalProjectCost}}.\n\n**Payment Terms**\n- [Percentage] payable upon acceptance\n- [Percentage] payable upon milestone completion\n- [Percentage] payable upon final delivery\n\nAll payments shall be made within {{paymentDays}} days from the date of invoice."},{id:"7",title:"Client Responsibilities",content:"The Client agrees to:\n- Provide accurate and timely information\n- Share necessary access, approvals, and feedback\n- Assign a single point of contact for communication\n\nDelays caused due to client dependencies may impact project timelines."},{id:"8",title:"Confidentiality",content:"Both parties agree to maintain strict confidentiality of all proprietary, technical, commercial, and business information exchanged during the course of this engagement. Confidential information shall not be disclosed to any third party without prior written consent."},{id:"9",title:"Intellectual Property Rights",content:"Unless otherwise agreed in writing:\n- All intellectual property developed during the project shall remain the property of {{providerCompany}} until full payment is received.\n- Upon full payment, ownership or license rights shall be transferred as mutually agreed."},{id:"10",title:"Limitation of Liability",content:"In no event shall either party be liable for indirect, incidental, or consequential damages. The total liability of {{providerCompany}} shall not exceed the total fees paid under this proposal."},{id:"11",title:"Term & Termination",content:"This proposal shall remain valid for {{validityDays}} days from the proposal date. Either party may terminate the engagement by providing {{noticeDays}} days written notice. Fees for work completed up to the termination date shall be payable."},{id:"12",title:"Governing Law",content:"This proposal shall be governed by and construed in accordance with the laws of {{jurisdiction}}, and courts of {{courtCity}} shall have exclusive jurisdiction."}]},Kp=()=>{const n=Et(),{id:r}=Ot(),a=xd("(min-width: 1024px)"),[s,i]=kt.useState("edit"),[o,l]=kt.useState(1),[c,d]=kt.useState(!1),[u,h]=kt.useState("Untitled Proposal"),[m,p]=kt.useState(!1),[f,g]=kt.useState(null),x=St.useRef(null),[b,w]=kt.useState({proposalTitle:"Website Redesign Project",proposalDate:(new Date).toLocaleDateString(),logoSize:80,logoAlignment:"center",brandingEnabled:!0,referenceNo:"",clientName:"",clientCompany:"",clientAddress:"",providerName:"",providerCompany:"",providerAddress:"",projectDescription:"",totalProjectCost:"",paymentDays:"15",validityDays:"30",noticeDays:"30",jurisdiction:"",courtCity:"",timeline:[{phase:"Phase 1",description:"Requirement Analysis",duration:"5 days"},{phase:"Phase 2",description:"Execution / Development",duration:"15 days"},{phase:"Phase 3",description:"Review & Final Delivery",duration:"5 days"}]}),[j,N]=kt.useState(Gp),{styles:k,updateStyle:S,resetStyles:C}=$m(),_=St.useDeferredValue(b),P=St.useDeferredValue(j);kt.useEffect(()=>{r&&O(r)},[r]);const[E,D]=kt.useState(!1),O=async e=>{try{const t=await fm(e);t.data.name&&h(t.data.name);let n=t.data.content||{};if("string"==typeof n)try{n=JSON.parse(n)}catch(sB){}if(n.blocks)return void D(!0);n.formData&&w(e=>({...e,...n.formData})),n.docContent&&N(n.docContent),n.styles&&Object.entries(n.styles).forEach(([e,t])=>S(e,t))}catch(t){}};if(E)return e.jsx(Yp,{});kt.useEffect(()=>{if(!r){(async()=>{try{const e=await wd();e&&w(t=>({...t,providerName:e.name||"",providerCompany:e.name||"",providerAddress:[e.address,e.city,e.state,e.country].filter(Boolean).join(", "),businessLogo:e.logo||null}))}catch(e){}})()}},[r]);const[T,M]=kt.useState(!1);St.useRef(null);const[A,z]=kt.useState(null),[R,F]=kt.useState(!1),[L,B]=kt.useState(null),[W,U]=kt.useState(!1);return e.jsxs("div",{className:"flex flex-col h-screen bg-slate-100 overflow-hidden",children:[f&&e.jsxs("div",{className:"bg-amber-100 border-b border-amber-200 px-4 py-2 flex items-center justify-between text-amber-800 text-sm",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ge,{size:16}),e.jsxs("span",{className:"font-medium",children:["Previewing Version ",f.version_number]}),e.jsxs("span",{className:"text-amber-600 hidden md:inline",children:["(",new Date(f.created_at).toLocaleString(),")"]})]}),e.jsx("div",{className:"flex items-center gap-3",children:e.jsxs("button",{onClick:()=>{x.current&&(w(x.current.formData),N(x.current.docContent),x.current=null),g(null),$t.success("Exited preview mode")},className:"text-amber-700 hover:text-amber-900 font-medium hover:underline flex items-center gap-1",children:[e.jsx(t,{size:14})," Exit Preview"]})})]}),T&&e.jsx(qp,{children:e.jsx(Vp,{data:b,content:j,zoom:1})}),e.jsx(Nm,{isOpen:R,onClose:()=>F(!1),documentId:r,documentName:u,isReminder:!!L,onSuccess:e=>{e&&e.sent_at&&B(e.sent_at)},getHtmlContent:async()=>{const t=Im.renderToStaticMarkup(e.jsx(Vp,{data:b,content:j,zoom:1,printing:!0}));return Um(t,u)}}),e.jsxs("header",{className:"no-print h-16 bg-white/80 backdrop-blur-md border-b border-slate-200/60 px-4 md:px-6 flex items-center justify-between flex-shrink-0 z-30 shadow-sm transition-all duration-300",children:[e.jsxs("div",{className:"flex items-center gap-2 md:gap-4 overflow-hidden",children:[e.jsx("button",{onClick:()=>n("/documents"),className:"p-2 hover:bg-slate-100 rounded-full text-slate-500 transition-colors flex-shrink-0",title:"Back to Documents",children:e.jsx(I,{size:20})}),e.jsxs("div",{className:"min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"text",value:u,onChange:e=>h(e.target.value),className:"font-bold text-slate-800 text-sm md:text-lg bg-transparent border-none focus:ring-0 p-0 m-0 w-auto min-w-[120px] max-w-[200px] placeholder-slate-400 truncate",placeholder:"Enter Document Name"}),L&&e.jsxs("span",{className:"hidden lg:inline-flex items-center gap-1 px-2 py-0.5 rounded-full bg-emerald-50 text-emerald-600 text-[10px] font-medium border border-emerald-100",children:[e.jsx(we,{size:10})," Sent"]})]}),e.jsx("p",{className:"text-[10px] md:text-xs text-slate-400 font-medium whitespace-nowrap hidden sm:block",children:"Last saved: Just now"})]})]}),e.jsxs("div",{className:"flex items-center gap-2 md:gap-3",children:[e.jsxs("div",{className:"hidden lg:flex items-center bg-slate-100 rounded-lg p-1 mr-4",children:[e.jsx("button",{onClick:()=>l(e=>Math.max(e-.1,.5)),className:"p-1.5 hover:bg-white hover:shadow-sm rounded-md text-slate-500 transition-all",children:e.jsx(Ee,{size:16})}),e.jsxs("span",{className:"text-xs font-semibold text-slate-600 w-12 text-center",children:[Math.round(100*o),"%"]}),e.jsx("button",{onClick:()=>l(e=>Math.min(e+.1,1.5)),className:"p-1.5 hover:bg-white hover:shadow-sm rounded-md text-slate-500 transition-all",children:e.jsx(De,{size:16})})]}),e.jsxs("button",{onClick:()=>p(!0),className:"flex items-center gap-2 p-2 md:px-4 md:py-2 text-slate-600 text-sm font-medium hover:bg-slate-50 rounded-lg border border-transparent hover:border-slate-200 transition-all",children:[e.jsx($,{size:18}),e.jsx("span",{className:"hidden lg:inline",children:"History"})]}),e.jsxs("button",{onClick:async()=>{if(r){M(!0);try{let t=b.businessLogo;if(b.businessLogo&&!b.businessLogo.startsWith("data:")){const e=await(async e=>{try{if(e&&e.includes("/storage/")){const t=`http://localhost:8000/api/v1/file-proxy?path=${encodeURIComponent(e)}`,n=await fetch(t),r=await n.blob();return new Promise((e,t)=>{const n=new FileReader;n.onloadend=()=>e(n.result),n.onerror=t,n.readAsDataURL(r)})}const t=await fetch(e),n=await t.blob();return new Promise((e,t)=>{const r=new FileReader;r.onloadend=()=>e(r.result),r.onerror=t,r.readAsDataURL(n)})}catch(t){return null}})(b.businessLogo);e&&(t=e)}const n={...b,businessLogo:t},a=Im.renderToStaticMarkup(e.jsx(Vp,{data:n,content:j,zoom:1,printing:!0,styles:k})),s=await Hm(r,a,u);s.url&&window.open(s.url,"_blank")}catch(t){$t.error("Failed to generate PDF")}finally{M(!1)}}else $t.error("Please save the document before printing.")},className:"hidden md:flex items-center gap-2 p-2 md:px-4 md:py-2 text-slate-600 text-sm font-medium hover:bg-slate-50 rounded-lg border border-transparent hover:border-slate-200 transition-all",children:[e.jsx(Oe,{size:18}),e.jsx("span",{className:"hidden lg:inline",children:"Print"})]}),e.jsxs("button",{onClick:()=>{r?F(!0):$t.error("Please save the document before sending.")},className:"flex items-center gap-2 px-2 md:px-4 py-2 text-sm font-medium rounded-lg border border-transparent transition-all "+(L?"text-amber-600 hover:bg-amber-50 hover:border-amber-200":"text-slate-600 hover:bg-slate-50 hover:border-slate-200"),children:[L?e.jsx(Z,{size:18}):e.jsx(v,{size:18}),e.jsx("span",{className:"hidden lg:inline",children:L?"Remind":"Send"})]}),e.jsxs("button",{onClick:async()=>{if(r){U(!0);try{const t=Im.renderToStaticMarkup(e.jsx(Vp,{data:b,content:j,zoom:1,printing:!0})),n=await Hm(r,t,u);if(n.url){const e=document.createElement("a");e.href=n.url,e.download=`${u.replace(/[^a-z0-9]/gi,"_").toLowerCase()}.pdf`,document.body.appendChild(e),e.click(),document.body.removeChild(e),$t.success("Proposal exported successfully")}}catch(t){$t.error("Failed to export proposal")}finally{U(!1)}}else $t.error("Please save the document before exporting.")},disabled:W,className:"flex items-center gap-2 px-2 md:px-4 py-2 text-slate-600 text-sm font-medium hover:bg-slate-50 rounded-lg border border-transparent hover:border-slate-200 transition-all disabled:opacity-50",children:[W?e.jsx(y,{size:18,className:"animate-spin"}):e.jsx(xe,{size:18}),e.jsx("span",{className:"hidden lg:inline",children:W?"Exporting...":"Export"})]}),e.jsxs("button",{onClick:async()=>{d(!0);try{const e={name:u,type_slug:"proposal",content:{formData:b,docContent:j,styles:k},status:"draft"};if(r)await xm(r,e),$t.success("Proposal updated successfully");else{const t=await gm(e);$t.success("Proposal created successfully"),n(`/documents/proposal/${t.data.id}`,{replace:!0})}}catch(e){$t.error("Failed to save proposal")}finally{setTimeout(()=>d(!1),500)}},className:"flex items-center gap-2 px-3 md:px-5 py-2 rounded-lg text-white font-medium shadow-md transition-all "+(c?"bg-emerald-500":"bg-indigo-600 hover:bg-indigo-700"),children:[c?e.jsx(we,{size:18}):e.jsx(_e,{size:18}),e.jsx("span",{className:"hidden md:inline",children:c?"Saved!":"Save"})]})]})]}),!a&&e.jsxs("div",{className:"flex bg-white border-b border-slate-200 px-4",children:[e.jsx("button",{onClick:()=>i("edit"),className:"flex-1 py-3 text-sm font-medium border-b-2 transition-colors "+("edit"===s?"border-indigo-600 text-indigo-600":"border-transparent text-slate-500 hover:text-slate-700"),children:"Edit"}),e.jsx("button",{onClick:()=>i("preview"),className:"flex-1 py-3 text-sm font-medium border-b-2 transition-colors "+("preview"===s?"border-indigo-600 text-indigo-600":"border-transparent text-slate-500 hover:text-slate-700"),children:"Preview"})]}),e.jsxs("div",{className:"flex flex-col lg:flex-row flex-1 overflow-hidden relative",children:[e.jsx("div",{className:`\n                    no-print w-full lg:w-[400px] h-full bg-white border-b lg:border-b-0 lg:border-r border-slate-200 \n                    overflow-y-auto z-20 shadow-sm flex-shrink-0 lg:order-1\n                    ${a||"edit"===s?"block":"hidden"}\n                `,children:e.jsx(Hp,{formData:b,onChange:e=>{const{name:t,value:n}=e.target;w(e=>({...e,[t]:n}))},docContent:j,onContentChange:e=>{const{name:t,value:n}=e.target;N(e=>({...e,[t]:n}))},addSection:()=>{const e={id:Math.random().toString(36).substr(2,9),title:"New Section",content:"Enter the details of this new clause here..."};N(t=>({...t,sections:[...t.sections,e]}))},removeSection:e=>{N(t=>({...t,sections:t.sections.filter(t=>t.id!==e)}))},updateSection:(e,t,n)=>{N(r=>({...r,sections:r.sections.map(r=>r.id===e?{...r,[t]:n}:r)}))},reorderSections:e=>{N(t=>({...t,sections:e}))},updateTimeline:(e,t,n)=>{const r=[...b.timeline];r[e][t]=n,w(e=>({...e,timeline:r}))},addTimelineRow:()=>{w(e=>({...e,timeline:[...e.timeline,{phase:"New Phase",description:"",duration:""}]}))},removeTimelineRow:e=>{b.timeline.length<=1||w(t=>({...t,timeline:t.timeline.filter((t,n)=>n!==e)}))},styles:k,onStyleUpdate:S,onStyleReset:C})}),e.jsx("div",{className:`\n                    flex-1 h-full overflow-y-auto bg-slate-50/50 p-4 md:p-8 sm:p-12 \n                    flex justify-center items-start scrollbar-thin scrollbar-thumb-slate-300 lg:order-2\n                    ${a||"preview"===s?"flex":"hidden"}\n                `,style:{backgroundImage:"radial-gradient(#cbd5e1 1px, transparent 1px)",backgroundSize:"20px 20px"},children:e.jsx(Vp,{data:_,content:P,zoom:o,styles:k})})]}),e.jsx(jm,{documentId:r,isOpen:m,onClose:()=>p(!1),onPreview:e=>{x.current||(x.current={formData:b,docContent:j});let t=e.content;if("string"==typeof t)try{t=JSON.parse(t)}catch(sB){}t.formData&&w(t.formData),t.docContent&&N(t.docContent),g(e),p(!1),$t.success(`Previewing Version ${e.version_number}`)},onDownload:async t=>{const n=$t.loading("Preparing version PDF...");try{let a=t.content;if("string"==typeof a)try{a=JSON.parse(a)}catch(sB){}const s=Im.renderToStaticMarkup(e.jsx(Vp,{data:a.formData||b,content:a.docContent||j,zoom:1,printing:!0})),i=await Hm(r,s,`${u} - v${t.version_number}`);if(i.url){const e=document.createElement("a");e.href=i.url,e.download=`${u.replace(/[^a-z0-9]/gi,"_")}_v${t.version_number}.pdf`,document.body.appendChild(e),e.click(),document.body.removeChild(e),$t.success(`Version ${t.version_number} downloaded`,{id:n})}}catch(a){$t.error("Failed to download version PDF",{id:n})}},onRestore:e=>{if(e&&e.content){let t=e.content;if("string"==typeof t)try{t=JSON.parse(t)}catch(sB){}t.formData&&w(t.formData),t.docContent&&N(t.docContent)}g(null),x.current=null}})]})},Xp=({formData:t,onChange:n,updateItem:r,addItem:a,removeItem:s,totals:i,styles:l,onStyleUpdate:c,onStyleReset:d})=>{const[u,h]=kt.useState("details"),[m,p]=kt.useState("fill"),f=e=>{h(u===e?null:e)};return e.jsxs("div",{className:"bg-white min-h-full pb-20",children:[e.jsxs("div",{className:"p-6 border-b border-slate-100 bg-slate-50/50 sticky top-0 z-10 backdrop-blur-sm",children:[e.jsxs("div",{className:"flex gap-1 bg-slate-200/50 p-1 rounded-lg mb-4",children:[e.jsxs("button",{onClick:()=>p("fill"),className:"flex-1 flex items-center justify-center gap-2 py-2 rounded-md text-sm font-medium transition-all "+("fill"===m?"bg-white shadow-sm text-indigo-600":"text-slate-500 hover:text-slate-700"),children:[e.jsx(o,{size:16}),"Invoice Details"]}),e.jsxs("button",{onClick:()=>p("style"),className:"flex-1 flex items-center justify-center gap-2 py-2 rounded-md text-sm font-medium transition-all "+("style"===m?"bg-white shadow-sm text-indigo-600":"text-slate-500 hover:text-slate-700"),children:[e.jsx(ie,{size:16}),"Appearance"]})]}),e.jsx("h2",{className:"text-lg font-bold text-slate-900",children:"fill"===m?"Invoice Details":"Styling & Appearance"}),e.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"fill"===m?"Configure invoice data and line items":"Fonts, colors and spacing"}),"fill"===m&&e.jsxs("div",{className:"mt-4 bg-emerald-50 border border-emerald-100 p-3 rounded-lg flex justify-between items-center",children:[e.jsx("span",{className:"text-xs font-bold text-emerald-800 uppercase",children:"Grand Total"}),e.jsx("span",{className:"text-lg font-bold text-emerald-600",children:i.grandTotal.toLocaleString()})]})]}),"fill"===m?e.jsxs(e.Fragment,{children:[e.jsxs(AccordionItem,{title:"Invoice Basics",icon:o,isOpen:"details"===u,onClick:()=>f("details"),children:[e.jsx(InputGroup,{label:"Invoice Title",name:"invoiceTitle",value:t.invoiceTitle,onChange:n,placeholder:"INVOICE"}),e.jsx(InputGroup,{label:"Invoice Number",name:"invoiceNumber",value:t.invoiceNumber,onChange:n,placeholder:"INV-001"}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsx(InputGroup,{label:"Date",name:"invoiceDate",value:t.invoiceDate,onChange:n,placeholder:"DD/MM/YYYY"}),e.jsx(InputGroup,{label:"Due Date",name:"dueDate",value:t.dueDate,onChange:n,placeholder:"DD/MM/YYYY"})]}),e.jsx(InputGroup,{label:"Place of Supply",name:"placeOfSupply",value:t.placeOfSupply,onChange:n,placeholder:"State/Country"})]}),e.jsx(AccordionItem,{title:"Document Branding",icon:oe,isOpen:"branding"===u,onClick:()=>f("branding"),children:e.jsx(om,{formData:t,onChange:n})}),e.jsx(AccordionItem,{title:"Parties Involved",icon:j,isOpen:"parties"===u,onClick:()=>f("parties"),children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"p-3 bg-indigo-50 rounded-lg border border-indigo-100",children:[e.jsx("h4",{className:"text-xs font-bold text-indigo-900 uppercase mb-3",children:"Seller (You)"}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(InputGroup,{label:"Name",name:"sellerName",value:t.sellerName,onChange:n,placeholder:"Your Company"}),e.jsx(InputGroup,{label:"Address",name:"sellerAddress",value:t.sellerAddress,onChange:n,placeholder:"Address",rows:2}),e.jsx(InputGroup,{label:"Tax ID (GST/PAN)",name:"sellerTaxId",value:t.sellerTaxId,onChange:n,placeholder:"Optional"}),e.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[e.jsx(InputGroup,{label:"Email",name:"sellerEmail",value:t.sellerEmail,onChange:n,placeholder:"Email"}),e.jsx(InputGroup,{label:"Phone",name:"sellerPhone",value:t.sellerPhone,onChange:n,placeholder:"Phone"})]})]})]}),e.jsxs("div",{className:"p-3 bg-slate-50 rounded-lg border border-slate-200",children:[e.jsx("h4",{className:"text-xs font-bold text-slate-700 uppercase mb-3",children:"Bill To (Client)"}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(InputGroup,{label:"Client Name",name:"clientName",value:t.clientName,onChange:n,placeholder:"Client Name"}),e.jsx(InputGroup,{label:"Address",name:"clientAddress",value:t.clientAddress,onChange:n,placeholder:"Client Address",rows:2}),e.jsx(InputGroup,{label:"Tax ID (GSTIN)",name:"clientTaxId",value:t.clientTaxId,onChange:n,placeholder:"Optional"})]})]})]})}),e.jsx(AccordionItem,{title:"Line Items",icon:Re,isOpen:"items"===u,onClick:()=>f("items"),children:e.jsxs("div",{className:"space-y-4",children:[t.items.map((t,n)=>e.jsxs("div",{className:"bg-white border border-slate-200 rounded-lg p-3 relative group shadow-sm",children:[e.jsxs("div",{className:"mb-2",children:[e.jsx("label",{className:"block text-[10px] font-bold text-slate-400 uppercase tracking-wide mb-1",children:"Description"}),e.jsx("input",{value:t.description,onChange:e=>r(n,"description",e.target.value),className:"w-full bg-slate-50 border border-slate-200 rounded px-2 py-1.5 text-sm outline-none focus:border-indigo-400 transition-colors",placeholder:"Item Name"})]}),e.jsxs("div",{className:"grid grid-cols-[1fr_1fr_1fr] gap-2 items-end",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-[10px] font-bold text-slate-400 uppercase tracking-wide mb-1",children:"Qty"}),e.jsx("input",{type:"number",value:t.quantity,onChange:e=>r(n,"quantity",e.target.value),className:"w-full bg-slate-50 border border-slate-200 rounded px-2 py-1.5 text-sm text-center font-mono"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-[10px] font-bold text-slate-400 uppercase tracking-wide mb-1",children:"Rate"}),e.jsx("input",{type:"number",value:t.rate,onChange:e=>r(n,"rate",e.target.value),className:"w-full bg-slate-50 border border-slate-200 rounded px-2 py-1.5 text-sm text-right font-mono"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-[10px] font-bold text-slate-400 uppercase tracking-wide mb-1",children:"Amount"}),e.jsx("div",{className:"w-full bg-slate-100 border border-slate-200 rounded px-2 py-1.5 text-sm text-right font-bold text-slate-600 font-mono",children:t.amount})]})]}),e.jsx("button",{onClick:()=>s(n),className:"absolute top-2 right-2 text-slate-300 hover:text-red-500 p-1 transition-colors",children:e.jsx(te,{size:14})})]},n)),e.jsxs("button",{onClick:a,className:"w-full py-2 border border-dashed border-slate-300 text-slate-500 hover:text-indigo-600 hover:border-indigo-300 rounded-lg text-xs font-medium transition-colors flex items-center justify-center gap-2",children:[e.jsx(ne,{size:14})," Add Item"]})]})}),e.jsx(AccordionItem,{title:"Tax Details",icon:Ie,isOpen:"tax"===u,onClick:()=>f("tax"),children:e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsx(InputGroup,{label:"Tax Type",name:"taxType",value:t.taxType,onChange:n,placeholder:"GST"}),e.jsx(InputGroup,{label:"Tax Rate (%)",name:"taxRate",value:t.taxRate,onChange:n,placeholder:"18",type:"number"})]})}),e.jsx(AccordionItem,{title:"Bank & Payment",icon:Fe,isOpen:"bank"===u,onClick:()=>f("bank"),children:e.jsxs("div",{className:"space-y-3",children:[e.jsx(InputGroup,{label:"Account Name",name:"accountName",value:t.accountName,onChange:n,placeholder:"Account Holder"}),e.jsx(InputGroup,{label:"Bank Name",name:"bankName",value:t.bankName,onChange:n,placeholder:"Bank Name"}),e.jsx(InputGroup,{label:"Account Number",name:"accountNumber",value:t.accountNumber,onChange:n,placeholder:"XXXX XXXX XXXX"}),e.jsx(InputGroup,{label:"IFSC / SWIFT",name:"ifscCode",value:t.ifscCode,onChange:n,placeholder:"Code"})]})}),e.jsxs(AccordionItem,{title:"Notes & Signatory",icon:Le,isOpen:"notes"===u,onClick:()=>f("notes"),children:[e.jsx(InputGroup,{label:"Authorized Signatory Name",name:"signatoryName",value:t.signatoryName,onChange:n,placeholder:"Name"}),e.jsx("div",{className:"h-2"}),e.jsx(InputGroup,{label:"Notes / Terms",name:"notes",value:t.notes,onChange:n,placeholder:"Terms...",rows:3})]})]}):e.jsx("div",{className:"p-4 pb-20",children:e.jsx(lm,{styles:l,onUpdate:c,onReset:d})})]})};function Qp({data:t,totals:n,zoom:r=1,printing:s=!1,readOnly:i=!1,styles:o}){const l=o||{fontFamily:"font-sans",fontSize:"text-[10pt]",lineHeight:"leading-relaxed",textColor:"#1e293b",headingColor:"#0f172a"},c=t.logoSize||60,d=t.logoAlignment||"left",u=({className:n="",style:r={}})=>t.businessLogo&&!1!==t.brandingEnabled&&"false"!==t.brandingEnabled?e.jsx("img",{src:t.businessLogo,alt:"Business Logo",className:`${n}`,style:{height:`${c}px`,objectFit:"contain",...r}}):null,h=({value:t,placeholder:n,className:r=""})=>t?i||s?e.jsx("span",{className:`font-medium text-slate-900 ${r}`,children:t}):e.jsx("span",{className:`font-medium text-slate-900 border-b border-transparent hover:border-indigo-200 hover:bg-indigo-50 transition-all px-0.5 rounded ${r}`,children:t}):i||s?e.jsx("span",{className:`text-slate-500 italic ${r}`,children:n}):e.jsx("span",{className:`bg-blue-50/50 px-1 border-b border-blue-200 text-slate-400 italic transition-colors hover:bg-blue-100 ${r}`,children:n}),m=s?"div":a.div;return e.jsxs(m,{id:"printable-document",...s?{}:{initial:{opacity:0,y:20},animate:{opacity:1,y:0}},style:{transform:s?"none":`scale(${r})`,transformOrigin:"top center",color:l.textColor},className:`w-[210mm] min-h-[297mm] bg-white relative mb-20 origin-top\n                ${s?"":"shadow-[0_8px_30px_rgb(0,0,0,0.12)] border border-slate-200/60"}\n                ${l.fontFamily} ${l.fontSize} ${l.lineHeight}\n            `,children:[!s&&e.jsx("div",{className:"no-print absolute inset-0 rounded-sm pointer-events-none bg-gradient-to-b from-white to-slate-50/20"}),e.jsxs("div",{className:`p-[10mm] ${s?"block h-auto":"flex flex-col h-full"} relative z-10`,children:[s?e.jsx("table",{style:{width:"100%",marginBottom:"20px",borderBottom:"2px solid #000",paddingBottom:"20px"},children:e.jsxs("tbody",{children:["center"===d&&t.businessLogo&&e.jsx("tr",{children:e.jsx("td",{colSpan:"2",style:{textAlign:"center",paddingBottom:"20px"},children:e.jsx(u,{style:{marginBottom:"15px"}})})}),e.jsxs("tr",{children:[e.jsxs("td",{style:{verticalAlign:"top",width:"50%"},children:["left"===d&&e.jsx("div",{style:{marginBottom:"15px"},children:e.jsx(u,{})}),e.jsx("h1",{className:"text-2xl font-bold uppercase tracking-wider mb-2",style:{color:l.headingColor},children:t.invoiceTitle||"Invoice"}),e.jsxs("div",{className:"mt-4 text-sm",children:[e.jsx("h2",{className:"font-bold text-lg",children:e.jsx(h,{value:t.sellerName,placeholder:"[Your Company Name]"})}),e.jsx("div",{className:"text-slate-600 max-w-[250px] whitespace-pre-wrap",children:e.jsx(h,{value:t.sellerAddress,placeholder:"[Full Address]"})}),t.sellerTaxId&&e.jsxs("div",{className:"mt-1",children:[e.jsx("span",{className:"font-bold text-xs uppercase",children:"GSTIN/Tax ID:"})," ",t.sellerTaxId]}),e.jsxs("div",{className:"mt-1 text-xs",children:[t.sellerEmail&&e.jsx("div",{children:t.sellerEmail}),t.sellerPhone&&e.jsx("div",{children:t.sellerPhone})]})]})]}),e.jsxs("td",{style:{verticalAlign:"top",width:"50%",textAlign:"right"},children:["right"===d&&e.jsx("div",{style:{marginBottom:"15px",display:"flex",justifyContent:"flex-end"},children:e.jsx(u,{})}),e.jsx("table",{style:{float:"right",width:"auto",padding:"10px"},children:e.jsxs("tbody",{children:[e.jsxs("tr",{children:[e.jsx("td",{style:{fontWeight:"bold",color:"#64748b",paddingRight:"10px"},children:"Invoice #:"}),e.jsx("td",{className:"font-mono",children:e.jsx(h,{value:t.invoiceNumber,placeholder:"INV-0001"})})]}),e.jsxs("tr",{children:[e.jsx("td",{style:{fontWeight:"bold",color:"#64748b",paddingRight:"10px"},children:"Date:"}),e.jsx("td",{children:e.jsx(h,{value:t.invoiceDate,placeholder:"DD/MM/YYYY"})})]}),e.jsxs("tr",{children:[e.jsx("td",{style:{fontWeight:"bold",color:"#64748b",paddingRight:"10px"},children:"Due Date:"}),e.jsx("td",{children:e.jsx(h,{value:t.dueDate,placeholder:"DD/MM/YYYY"})})]}),e.jsxs("tr",{children:[e.jsx("td",{style:{fontWeight:"bold",color:"#64748b",paddingRight:"10px"},children:"Place of Supply:"}),e.jsx("td",{children:e.jsx(h,{value:t.placeOfSupply,placeholder:"State"})})]})]})})]})]})]})}):e.jsxs("div",{className:"flex flex-col gap-6 mb-8 border-b-2 border-slate-900 pb-6",children:["center"===d&&e.jsx("div",{className:"flex justify-center mb-4",children:e.jsx(u,{})}),e.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start gap-6 md:gap-0",children:[e.jsxs("div",{children:["left"===d&&e.jsx("div",{className:"mb-4",children:e.jsx(u,{})}),e.jsx("h1",{className:"text-2xl font-bold uppercase tracking-wider mb-4",style:{color:l.headingColor},children:t.invoiceTitle||"Invoice"}),e.jsxs("div",{className:"mt-4 text-sm",children:[e.jsx("h2",{className:"font-bold text-lg",children:e.jsx(h,{value:t.sellerName,placeholder:"[Your Company Name]"})}),e.jsx("div",{className:"text-slate-600 max-w-[250px] whitespace-pre-wrap",children:e.jsx(h,{value:t.sellerAddress,placeholder:"[Full Address]"})}),t.sellerTaxId&&e.jsxs("div",{className:"mt-1",children:[e.jsx("span",{className:"font-bold text-xs uppercase",children:"GSTIN/Tax ID:"})," ",t.sellerTaxId]}),e.jsxs("div",{className:"mt-1 text-xs",children:[t.sellerEmail&&e.jsx("div",{children:t.sellerEmail}),t.sellerPhone&&e.jsx("div",{children:t.sellerPhone})]})]})]}),e.jsxs("div",{className:"text-right flex flex-col items-end",children:["right"===d&&e.jsx("div",{className:"mb-4",children:e.jsx(u,{})}),e.jsxs("div",{className:"bg-slate-50 p-4 rounded-lg border border-slate-100 text-sm min-w-[200px]",children:[e.jsxs("div",{className:"flex justify-between mb-1 gap-4",children:[e.jsx("span",{className:"text-slate-500 font-bold",children:"Invoice #:"}),e.jsx(h,{value:t.invoiceNumber,placeholder:"INV-0001",className:"font-mono"})]}),e.jsxs("div",{className:"flex justify-between mb-1 gap-4",children:[e.jsx("span",{className:"text-slate-500 font-bold",children:"Date:"}),e.jsx(h,{value:t.invoiceDate,placeholder:"DD/MM/YYYY"})]}),e.jsxs("div",{className:"flex justify-between mb-1 gap-4",children:[e.jsx("span",{className:"text-slate-500 font-bold",children:"Due Date:"}),e.jsx(h,{value:t.dueDate,placeholder:"DD/MM/YYYY"})]}),e.jsxs("div",{className:"flex justify-between gap-4",children:[e.jsx("span",{className:"text-slate-500 font-bold",children:"Place of Supply:"}),e.jsx(h,{value:t.placeOfSupply,placeholder:"State"})]})]})]})]})]}),e.jsxs("div",{className:"mb-8",children:[e.jsx("p",{className:"text-xs uppercase font-bold text-slate-400 mb-1",children:"Bill To"}),e.jsx("div",{className:"text-lg font-bold",children:e.jsx(h,{value:t.clientName,placeholder:"[Client Name]"})}),e.jsx("div",{className:"text-slate-600 max-w-[300px] whitespace-pre-wrap",children:e.jsx(h,{value:t.clientAddress,placeholder:"[Client Address]"})}),t.clientTaxId&&e.jsxs("div",{className:"mt-1 text-sm",children:[e.jsx("span",{className:"font-semibold",children:"GSTIN/Tax ID:"})," ",t.clientTaxId]})]}),e.jsx("div",{className:"mb-8",children:e.jsxs("table",{className:"w-full text-sm",children:[e.jsx("thead",{className:"bg-slate-800 text-white uppercase text-xs",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-3 py-2 text-left w-12",children:"Sr."}),e.jsx("th",{className:"px-3 py-2 text-left",children:"Description"}),e.jsx("th",{className:"px-3 py-2 text-center w-20",children:"Qty"}),e.jsx("th",{className:"px-3 py-2 text-right w-24",children:"Rate"}),e.jsx("th",{className:"px-3 py-2 text-right w-32",children:"Amount"})]})}),e.jsx("tbody",{className:"divide-y divide-slate-200 border-b border-slate-200",children:t.items.map((t,n)=>e.jsxs("tr",{className:"even:bg-slate-50",children:[e.jsx("td",{className:"px-3 py-2 text-slate-500",children:n+1}),e.jsx("td",{className:"px-3 py-2 font-medium",children:t.description}),e.jsx("td",{className:"px-3 py-2 text-center",children:t.quantity}),e.jsx("td",{className:"px-3 py-2 text-right",children:Number(t.rate).toLocaleString()}),e.jsx("td",{className:"px-3 py-2 text-right font-bold",children:Number(t.amount).toLocaleString()})]},n))})]})}),s?e.jsx("table",{style:{width:"100%",marginBottom:"20px"},children:e.jsxs("tbody",{children:[e.jsxs("tr",{children:[e.jsx("td",{style:{width:"50%"}})," ",e.jsx("td",{style:{width:"50%"},children:e.jsx("table",{className:"w-full text-sm",children:e.jsxs("tbody",{className:"divide-y divide-slate-100",children:[e.jsxs("tr",{children:[e.jsx("td",{className:"py-2 text-slate-600 font-medium",children:"Subtotal"}),e.jsx("td",{className:"py-2 text-right font-bold",children:n.subtotal.toLocaleString()})]}),t.taxType&&Number(t.taxRate)>0&&e.jsxs("tr",{children:[e.jsxs("td",{className:"py-2 text-slate-600 font-medium",children:[t.taxType," (",t.taxRate,"%)"]}),e.jsx("td",{className:"py-2 text-right font-bold",children:n.taxAmount.toLocaleString()})]}),e.jsxs("tr",{className:"border-t-2 border-slate-800 text-base",children:[e.jsx("td",{className:"py-2 font-extrabold text-slate-900",children:"Total"}),e.jsx("td",{className:"py-2 text-right font-extrabold text-indigo-700",children:n.grandTotal.toLocaleString()})]})]})})})]}),e.jsxs("tr",{children:[e.jsx("td",{style:{width:"50%"}}),e.jsxs("td",{style:{width:"50%",textAlign:"right",fontSize:"10px",fontStyle:"italic",color:"#64748b"},children:["Amount in Words: ",e.jsx("span",{className:"font-semibold text-slate-700",children:n.amountInWords})]})]})]})}):e.jsx("div",{className:"flex justify-end mb-8 break-inside-avoid",children:e.jsxs("div",{className:"w-[300px]",children:[e.jsx("table",{className:"w-full text-sm",children:e.jsxs("tbody",{className:"divide-y divide-slate-100",children:[e.jsxs("tr",{children:[e.jsx("td",{className:"py-2 text-slate-600 font-medium",children:"Subtotal"}),e.jsx("td",{className:"py-2 text-right font-bold",children:n.subtotal.toLocaleString()})]}),t.taxType&&Number(t.taxRate)>0&&e.jsxs("tr",{children:[e.jsxs("td",{className:"py-2 text-slate-600 font-medium",children:[t.taxType," (",t.taxRate,"%)"]}),e.jsx("td",{className:"py-2 text-right font-bold",children:n.taxAmount.toLocaleString()})]}),e.jsxs("tr",{className:"border-t-2 border-slate-800 text-base",children:[e.jsx("td",{className:"py-2 font-extrabold text-slate-900",children:"Total"}),e.jsx("td",{className:"py-2 text-right font-extrabold text-indigo-700",children:n.grandTotal.toLocaleString()})]})]})}),e.jsxs("div",{className:"mt-2 text-right text-xs text-slate-500 italic border-t border-slate-100 pt-1",children:["Amount in Words: ",e.jsx("span",{className:"font-semibold text-slate-700",children:n.amountInWords})]})]})}),s?e.jsx("div",{className:"mt-4 pt-4 border-t border-slate-200",style:{breakInside:"avoid"},children:e.jsx("table",{style:{width:"100%"},children:e.jsx("tbody",{children:e.jsxs("tr",{children:[e.jsxs("td",{style:{verticalAlign:"top",width:"60%"},children:[e.jsx("p",{className:"font-bold uppercase text-xs text-slate-400 mb-2",children:"Bank Details"}),e.jsxs("div",{className:"bg-slate-50 p-3 rounded-lg border border-slate-100",style:{fontSize:"12px"},children:[e.jsxs("p",{children:[e.jsx("span",{className:"font-semibold",children:"Account Name:"})," ",t.accountName||"-"]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-semibold",children:"Bank Name:"})," ",t.bankName||"-"]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-semibold",children:"Account No.:"})," ",t.accountNumber||"-"]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-semibold",children:"IFSC/SWIFT:"})," ",t.ifscCode||"-"]})]}),e.jsxs("div",{className:"mt-4",children:[e.jsx("p",{className:"font-bold uppercase text-xs text-slate-400 mb-1",children:"Terms"}),e.jsx("p",{className:"text-xs text-slate-500",children:t.notes})]})]}),e.jsxs("td",{style:{verticalAlign:"bottom",width:"40%",textAlign:"right"},children:[e.jsxs("p",{className:"font-bold text-sm text-slate-900 mb-4",children:["For ",t.sellerName||"[Company Name]"]}),e.jsx("table",{style:{width:"100%"},children:e.jsx("tbody",{children:e.jsx("tr",{children:e.jsxs("td",{style:{borderTop:"1px solid #94a3b8",paddingTop:"8px",textAlign:"center"},children:[e.jsx("p",{className:"font-bold",children:t.signatoryName||"Authorized Signatory"}),e.jsx("p",{className:"text-xs text-slate-500",children:"Authorized Signature"})]})})})})]})]})})})}):e.jsxs("div",{className:"mt-auto grid grid-cols-2 gap-12 border-t border-slate-200 pt-8 break-inside-avoid",children:[e.jsxs("div",{className:"text-sm",children:[e.jsx("p",{className:"font-bold uppercase text-xs text-slate-400 mb-2",children:"Bank Details"}),e.jsx("div",{className:"bg-slate-50 p-3 rounded-lg border border-slate-100",children:e.jsxs("div",{className:"grid grid-cols-[100px_1fr] gap-1 text-slate-700",children:[e.jsx("span",{className:"font-semibold",children:"Account Name:"})," ",e.jsx("span",{children:t.accountName||"-"}),e.jsx("span",{className:"font-semibold",children:"Bank Name:"})," ",e.jsx("span",{children:t.bankName||"-"}),e.jsx("span",{className:"font-semibold",children:"Account No.:"})," ",e.jsx("span",{className:"font-mono",children:t.accountNumber||"-"}),e.jsx("span",{className:"font-semibold",children:"IFSC/SWIFT:"})," ",e.jsx("span",{className:"font-mono",children:t.ifscCode||"-"})]})}),e.jsxs("div",{className:"mt-4",children:[e.jsx("p",{className:"font-bold uppercase text-xs text-slate-400 mb-1",children:"Terms"}),e.jsx("p",{className:"text-xs text-slate-500",children:t.notes})]})]}),e.jsxs("div",{className:"text-right flex flex-col items-end",children:[e.jsxs("p",{className:"font-bold text-sm text-slate-900 mb-16",children:["For ",t.sellerName||"[Company Name]"]}),e.jsxs("div",{className:"border-t border-slate-400 w-48 pt-2 text-center",children:[e.jsx("p",{className:"font-bold",children:t.signatoryName||"Authorized Signatory"}),e.jsx("p",{className:"text-xs text-slate-500",children:"Authorized Signature"})]})]})]}),!s&&e.jsx("div",{className:"mt-8 pt-4 text-center border-t border-transparent",children:e.jsx("p",{className:"text-[9px] text-slate-300 uppercase tracking-widest font-sans",children:"Powered by DocForge"})})]})]})}const Jp=()=>{const n=Et(),{id:r}=Ot(),a=xd("(min-width: 1024px)"),[s,i]=kt.useState("edit"),[o,l]=kt.useState(1),[c,d]=kt.useState(!1),[u,h]=kt.useState("Untitled Invoice"),[m,p]=kt.useState(!1),[f,g]=kt.useState(null),x=St.useRef(null),[b,w]=kt.useState({invoiceTitle:"INVOICE",invoiceNumber:"",invoiceDate:(new Date).toLocaleDateString(),dueDate:new Date(Date.now()+1296e6).toLocaleDateString(),placeOfSupply:"State/Country",logoSize:60,logoAlignment:"left",brandingEnabled:!0,sellerName:"",sellerAddress:"",sellerTaxId:"",sellerEmail:"",sellerPhone:"",clientName:"",clientAddress:"",clientTaxId:"",items:[{description:"Web Development Services",quantity:1,rate:5e3,amount:5e3}],taxType:"GST",taxRate:18,accountName:"",bankName:"",accountNumber:"",ifscCode:"",notes:"This invoice is generated electronically and does not require a physical signature.",disputeDays:"7",signatoryName:""}),[j,N]=kt.useState({subtotal:0,taxAmount:0,grandTotal:0,amountInWords:"Zero Only"}),{styles:k,updateStyle:S,resetStyles:C}=$m(),_=St.useDeferredValue(b),P=St.useDeferredValue(j);kt.useEffect(()=>{r&&E(r)},[r]);const E=async e=>{try{const t=await fm(e);t.data.name&&h(t.data.name),t.data.sent_at&&B(t.data.sent_at);let n=t.data.content||{};if("string"==typeof n)try{n=JSON.parse(n)}catch(sB){}n.formData&&w(e=>({...e,...n.formData})),n.styles&&Object.entries(n.styles).forEach(([e,t])=>S(e,t))}catch(t){}};kt.useEffect(()=>{if(!r){const e=async()=>{try{const e=await(async()=>(await sr.get("/documents/next-invoice-number")).data)();e&&e.next_number&&(w(t=>({...t,invoiceNumber:e.next_number})),h(`Invoice #${e.next_number}`))}catch(e){w(e=>({...e,invoiceNumber:"INV-0001"})),h("Invoice #INV-0001")}};(async()=>{try{const e=await wd();e&&w(t=>({...t,sellerName:e.name||"",sellerAddress:[e.address,e.city,e.state,e.country,e.zip].filter(Boolean).join(", "),sellerEmail:e.email||"",sellerPhone:e.phone||"",taxType:e.tax_label||"Tax",taxRate:e.tax_percentage||0,businessLogo:e.logo||null,currencySymbol:e.currency_symbol||"$"}))}catch(e){}})(),e()}},[r]),kt.useEffect(()=>{const e=b.items.reduce((e,t)=>e+(Number(t.amount)||0),0),t=e*Number(b.taxRate)/100,n=e+t;N({subtotal:e,taxAmount:t,grandTotal:n,amountInWords:`${n.toLocaleString()} Only`})},[b.items,b.taxRate]);const[D,O]=kt.useState(!1),T=St.useRef(null),[M,A]=kt.useState(null),z=async e=>{try{if(e&&e.includes("/storage/")){const t=`http://localhost:8000/api/v1/file-proxy?path=${encodeURIComponent(e)}`,n=await fetch(t),r=await n.blob();return new Promise((e,t)=>{const n=new FileReader;n.onloadend=()=>e(n.result),n.onerror=t,n.readAsDataURL(r)})}const t=await fetch(e),n=await t.blob();return new Promise((e,t)=>{const r=new FileReader;r.onloadend=()=>e(r.result),r.onerror=t,r.readAsDataURL(n)})}catch(t){return null}},[R,F]=kt.useState(!1),[L,B]=kt.useState(null),[W,U]=kt.useState(!1);return e.jsxs("div",{className:"flex flex-col h-screen bg-slate-50",children:[f&&e.jsxs("div",{className:"bg-amber-100 border-b border-amber-200 px-4 py-2 flex items-center justify-between text-amber-800 text-sm",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ge,{size:16}),e.jsxs("span",{className:"font-medium",children:["Previewing Version ",f.version_number]}),e.jsxs("span",{className:"text-amber-600 hidden md:inline",children:["(",new Date(f.created_at).toLocaleString(),")"]})]}),e.jsx("div",{className:"flex items-center gap-3",children:e.jsxs("button",{onClick:()=>{x.current&&(w(x.current.formData),x.current=null),g(null),$t.success("Exited preview mode")},className:"text-amber-700 hover:text-amber-900 font-medium hover:underline flex items-center gap-1",children:[e.jsx(t,{size:14})," Exit Preview"]})})]}),D&&e.jsx(qp,{children:e.jsx(Qp,{data:b,totals:j,zoom:1})}),e.jsx(Nm,{isOpen:R,onClose:()=>F(!1),documentId:r,documentName:`Invoice #${b.invoiceNumber}`,isReminder:!!L,onSuccess:e=>{e&&e.sent_at&&B(e.sent_at)},getHtmlContent:async()=>{let t=b.businessLogo;if(b.businessLogo&&!b.businessLogo.startsWith("data:")){const e=await z(b.businessLogo);e&&(t=e)}const n={...b,businessLogo:t},r=Im.renderToStaticMarkup(e.jsx(Qp,{data:n,totals:j,zoom:1,printing:!0}));return Um(r,`Invoice #${b.invoiceNumber}`)}}),e.jsxs("header",{className:"no-print h-16 bg-white/80 backdrop-blur-md border-b border-slate-200/60 px-4 md:px-6 flex items-center justify-between sticky top-0 z-30 shadow-sm transition-all duration-300",children:[e.jsxs("div",{className:"flex items-center gap-2 md:gap-4 overflow-hidden",children:[e.jsx("button",{onClick:()=>n("/documents"),className:"p-2 hover:bg-slate-100 rounded-full text-slate-500 transition-colors flex-shrink-0",title:"Back to Documents",children:e.jsx(I,{size:20})}),e.jsxs("div",{className:"min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("h1",{className:"font-bold text-slate-800 text-sm md:text-lg truncate",children:"Service Invoice"}),L&&e.jsxs("span",{className:"hidden lg:inline-flex items-center gap-1 px-2 py-0.5 rounded-full bg-emerald-50 text-emerald-600 text-[10px] font-medium border border-emerald-100",children:[e.jsx(we,{size:10})," Sent"]})]}),e.jsxs("p",{className:"text-[10px] md:text-xs text-slate-400 font-medium whitespace-nowrap hidden sm:block",children:["#",b.invoiceNumber]})]})]}),e.jsxs("div",{className:"flex items-center gap-2 md:gap-3",children:[e.jsxs("div",{className:"hidden lg:flex items-center bg-slate-100 rounded-lg p-1 mr-4",children:[e.jsx("button",{onClick:()=>l(e=>Math.max(e-.1,.5)),className:"p-1.5 hover:bg-white hover:shadow-sm rounded-md text-slate-500 transition-all",children:e.jsx(Ee,{size:16})}),e.jsxs("span",{className:"text-xs font-semibold text-slate-600 w-12 text-center",children:[Math.round(100*o),"%"]}),e.jsx("button",{onClick:()=>l(e=>Math.min(e+.1,1.5)),className:"p-1.5 hover:bg-white hover:shadow-sm rounded-md text-slate-500 transition-all",children:e.jsx(De,{size:16})})]}),e.jsxs("button",{onClick:()=>p(!0),className:"flex items-center gap-2 p-2 md:px-4 md:py-2 text-slate-600 text-sm font-medium hover:bg-slate-50 rounded-lg border border-transparent hover:border-slate-200 transition-all",children:[e.jsx($,{size:18}),e.jsx("span",{className:"hidden lg:inline",children:"History"})]}),e.jsxs("button",{onClick:async()=>{if(!r)return void $t.error("Please save the document before printing.");const t=JSON.stringify({formData:b,totals:j});if(M&&T.current===t)window.open(M,"_blank");else{O(!0);try{let n=b.businessLogo;if(b.businessLogo&&!b.businessLogo.startsWith("data:")){const e=await z(b.businessLogo);e&&(n=e)}const a={...b,businessLogo:n},s=Im.renderToStaticMarkup(e.jsx(Qp,{data:a,totals:j,zoom:1,printing:!0,styles:k})),i=await Hm(r,s,b.invoiceNumber?`Invoice #${b.invoiceNumber}`:"Invoice");i.url&&(A(i.url),T.current=t,window.open(i.url,"_blank"))}catch(n){$t.error("Failed to generate PDF")}finally{O(!1)}}},className:"hidden md:flex items-center gap-2 p-2 md:px-4 md:py-2 text-slate-600 text-sm font-medium hover:bg-slate-50 rounded-lg border border-transparent hover:border-slate-200 transition-all",children:[e.jsx(Oe,{size:18}),e.jsx("span",{className:"hidden lg:inline",children:"Print"})]}),e.jsxs("button",{onClick:()=>{r?F(!0):$t.error("Please save the document before sending.")},className:"flex items-center gap-2 px-2 md:px-4 py-2 text-sm font-medium rounded-lg border border-transparent transition-all "+(L?"text-amber-600 hover:bg-amber-50 hover:border-amber-200":"text-slate-600 hover:bg-slate-50 hover:border-slate-200"),children:[L?e.jsx(Z,{size:18}):e.jsx(v,{size:18}),e.jsx("span",{className:"hidden lg:inline",children:L?"Remind":"Send"})]}),e.jsxs("button",{onClick:async()=>{if(r){U(!0);try{let t=b.businessLogo;if(b.businessLogo&&!b.businessLogo.startsWith("data:")){const e=await z(b.businessLogo);e&&(t=e)}const n={...b,businessLogo:t},a=Im.renderToStaticMarkup(e.jsx(Qp,{data:n,totals:j,zoom:1,printing:!0})),s=await Hm(r,a,b.invoiceNumber?`Invoice #${b.invoiceNumber}`:"Invoice");if(s.url){const e=document.createElement("a");e.href=s.url,e.download=`${(b.invoiceNumber?`Invoice_${b.invoiceNumber}`:"Invoice").replace(/[^a-z0-9]/gi,"_")}.pdf`,document.body.appendChild(e),e.click(),document.body.removeChild(e),$t.success("Invoice exported successfully")}}catch(t){$t.error("Failed to export invoice")}finally{U(!1)}}else $t.error("Please save the document before exporting.")},disabled:W,className:"flex items-center gap-2 px-2 md:px-4 py-2 text-slate-600 text-sm font-medium hover:bg-slate-50 rounded-lg border border-transparent hover:border-slate-200 transition-all disabled:opacity-50",children:[W?e.jsx(y,{size:18,className:"animate-spin"}):e.jsx(xe,{size:18}),e.jsx("span",{className:"hidden lg:inline",children:W?"Exporting...":"Export"})]}),e.jsxs("button",{onClick:async()=>{d(!0);try{const e={name:`Invoice #${b.invoiceNumber}`||"Untitled Invoice",type_slug:"invoice",content:{formData:b,styles:k},status:"draft"};if(r)await xm(r,e),$t.success("Invoice updated successfully");else{const t=await gm(e);$t.success("Invoice created successfully"),n(`/documents/invoice/${t.data.id}`,{replace:!0})}}catch(e){$t.error("Failed to save invoice")}finally{setTimeout(()=>d(!1),500)}},className:"flex items-center gap-2 px-3 md:px-5 py-2 rounded-lg text-white font-medium shadow-md transition-all "+(c?"bg-emerald-500":"bg-indigo-600 hover:bg-indigo-700"),children:[c?e.jsx(we,{size:18}):e.jsx(_e,{size:18}),e.jsx("span",{className:"hidden md:inline",children:c?"Saved!":"Save"})]})]})]}),!a&&e.jsxs("div",{className:"flex bg-white border-b border-slate-200 px-4",children:[e.jsx("button",{onClick:()=>i("edit"),className:"flex-1 py-3 text-sm font-medium border-b-2 transition-colors "+("edit"===s?"border-indigo-600 text-indigo-600":"border-transparent text-slate-500 hover:text-slate-700"),children:"Edit"}),e.jsx("button",{onClick:()=>i("preview"),className:"flex-1 py-3 text-sm font-medium border-b-2 transition-colors "+("preview"===s?"border-indigo-600 text-indigo-600":"border-transparent text-slate-500 hover:text-slate-700"),children:"Preview"})]}),e.jsxs("div",{className:"flex flex-col lg:flex-row flex-1 overflow-hidden relative",children:[e.jsx("div",{className:`\n                    no-print w-full lg:w-[400px] h-full bg-white border-b lg:border-b-0 lg:border-r border-slate-200 \n                    overflow-y-auto z-20 shadow-sm flex-shrink-0 lg:order-1\n                    ${a||"edit"===s?"block":"hidden"}\n                `,children:e.jsx(Xp,{formData:b,onChange:e=>{const{name:t,value:n}=e.target;w(e=>({...e,[t]:n})),"invoiceNumber"===t&&h(`Invoice #${n}`)},updateItem:(e,t,n)=>{const r=[...b.items];if(r[e][t]=n,"quantity"===t||"rate"===t){const a=Number("quantity"===t?n:r[e].quantity)||0,s=Number("rate"===t?n:r[e].rate)||0;r[e].amount=a*s}w(e=>({...e,items:r}))},addItem:()=>{w(e=>({...e,items:[...e.items,{description:"",quantity:1,rate:0,amount:0}]}))},removeItem:e=>{b.items.length<=1||w(t=>({...t,items:t.items.filter((t,n)=>n!==e)}))},totals:j,styles:k,onStyleUpdate:S,onStyleReset:C})}),e.jsx("div",{className:`\n                    flex-1 h-full overflow-y-auto bg-slate-50/50 p-4 md:p-8 sm:p-12 \n                    flex justify-center items-start scrollbar-thin scrollbar-thumb-slate-300 lg:order-2\n                    ${a||"preview"===s?"flex":"hidden"}\n                `,style:{backgroundImage:"radial-gradient(#cbd5e1 1px, transparent 1px)",backgroundSize:"20px 20px"},children:e.jsx(Qp,{data:_,totals:P,zoom:o,styles:k})})]}),e.jsx(jm,{documentId:r,isOpen:m,onClose:()=>p(!1),onPreview:e=>{x.current||(x.current={formData:b});let t=e.content;if("string"==typeof t)try{t=JSON.parse(t)}catch(sB){}t.formData&&w(t.formData),g(e),p(!1),$t.success(`Previewing Version ${e.version_number}`)},onDownload:async t=>{const n=$t.loading("Preparing version PDF...");try{let a=t.content;if("string"==typeof a)try{a=JSON.parse(a)}catch(sB){}const s=a.formData||b,i=(s.items||[]).reduce((e,t)=>e+(Number(t.amount)||0),0),o=i*Number(s.taxRate)/100,l=i+o,c={subtotal:i,taxAmount:o,grandTotal:l,amountInWords:`${l.toLocaleString()} Only`},d=Im.renderToStaticMarkup(e.jsx(Qp,{data:s,totals:c,zoom:1,printing:!0})),h=await Hm(r,d,`${u} - v${t.version_number}`);if(h.url){const e=document.createElement("a");e.href=h.url,e.download=`${u.replace(/[^a-z0-9]/gi,"_")}_v${t.version_number}.pdf`,document.body.appendChild(e),e.click(),document.body.removeChild(e),$t.success(`Version ${t.version_number} downloaded`,{id:n})}}catch(a){$t.error("Failed to download version PDF",{id:n})}},onRestore:e=>{if(e&&e.content){let t=e.content;if("string"==typeof t)try{t=JSON.parse(t)}catch(sB){}t.formData&&w(t.formData)}g(null),x.current=null}})]})},Zp=({formData:t,onChange:n,docContent:r,onContentChange:a,addSection:s,removeSection:i,updateSection:o,reorderSections:l,styles:c,onStyleUpdate:d,onStyleReset:u})=>{const[h,m]=kt.useState("parties"),[p,f]=kt.useState("fill"),[g,x]=kt.useState({isOpen:!1,sectionId:null}),b=e=>{m(h===e?null:e)},v=t.effectiveDateDay&&t.effectiveDateMonth&&t.effectiveDateYear,y=t.employerName&&t.candidateName,w=t.position&&t.startDate&&t.salary,S=t.employerSignatoryName;return e.jsxs("div",{className:"bg-white min-h-full pb-20 relative",children:[e.jsx(cm,{isOpen:g.isOpen,onClose:()=>x({isOpen:!1,sectionId:null}),onConfirm:()=>{g.sectionId&&(i(g.sectionId),x({isOpen:!1,sectionId:null}))},title:"Delete Section",message:"Are you sure you want to remove this section? This action cannot be undone.",confirmText:"Delete Section",isDestructive:!0}),e.jsxs("div",{className:"p-6 border-b border-slate-100 bg-slate-50/50 sticky top-0 z-10 backdrop-blur-sm",children:[e.jsxs("div",{className:"flex gap-1 bg-slate-200/50 p-1 rounded-lg mb-4",children:[e.jsx("button",{onClick:()=>f("fill"),className:"flex-1 flex items-center justify-center gap-2 py-2 rounded-md text-sm font-medium transition-all "+("fill"===p?"bg-white shadow-sm text-indigo-600":"text-slate-500 hover:text-slate-700"),children:e.jsx(de,{size:16})}),e.jsx("button",{onClick:()=>f("edit"),className:"flex-1 flex items-center justify-center gap-2 py-2 rounded-md text-sm font-medium transition-all "+("edit"===p?"bg-white shadow-sm text-indigo-600":"text-slate-500 hover:text-slate-700"),title:"Structure",children:e.jsx(ue,{size:16})}),e.jsx("button",{onClick:()=>f("style"),className:"flex-1 flex items-center justify-center gap-2 py-2 rounded-md text-sm font-medium transition-all "+("style"===p?"bg-white shadow-sm text-indigo-600":"text-slate-500 hover:text-slate-700"),title:"Appearance",children:e.jsx(ie,{size:16})})]}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-bold text-slate-900",children:"fill"===p?"Offer Letter Details":"edit"===p?"Structure Builder":"Styling & Appearance"}),e.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"fill"===p?"Enter candidate and job details":"edit"===p?"Customize letter layout":"Fonts, colors and spacing"})]})]}),"fill"===p&&e.jsxs(e.Fragment,{children:[e.jsx(rm,{title:"Letter Date",icon:F,isOpen:"date"===h,isComplete:v,onClick:()=>b("date"),children:e.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[e.jsx(am,{label:"Day",name:"effectiveDateDay",value:t.effectiveDateDay,onChange:n,placeholder:"DD"}),e.jsx(am,{label:"Month",name:"effectiveDateMonth",value:t.effectiveDateMonth,onChange:n,placeholder:"Month"}),e.jsx(am,{label:"Year",name:"effectiveDateYear",value:t.effectiveDateYear,onChange:n,placeholder:"YY"})]})}),e.jsx(rm,{title:"Parties Involved",icon:j,isOpen:"parties"===h,isComplete:y,onClick:()=>b("parties"),children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"p-3 bg-indigo-50 rounded-lg border border-indigo-100",children:[e.jsxs("h4",{className:"text-xs font-bold text-indigo-900 uppercase mb-3 flex items-center justify-between",children:[e.jsx("span",{className:"flex items-center gap-2",children:"Employer"}),e.jsxs("button",{onClick:async()=>{try{const e=await wd();if(e){n({target:{name:"employerName",value:e.name||""}});const t=[e.address,e.city,e.state,e.country].filter(Boolean).join(", ");n({target:{name:"employerAddress",value:t||""}}),$t.success("Business details populated")}else $t.error("No business profile found")}catch(e){$t.error("Failed to load business info")}},className:"text-[10px] bg-white border border-indigo-200 text-indigo-600 px-2 py-1 rounded hover:bg-indigo-50 transition-colors flex items-center gap-1",children:[e.jsx(N,{size:10})," Use Profile"]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(am,{label:"Company Name",name:"employerName",value:t.employerName,onChange:n,placeholder:"Acme Inc."}),e.jsx(am,{label:"Full Address",name:"employerAddress",value:t.employerAddress,onChange:n,placeholder:"Standard Address",rows:2})]})]}),e.jsxs("div",{className:"p-3 bg-emerald-50 rounded-lg border border-emerald-100",children:[e.jsx("h4",{className:"text-xs font-bold text-emerald-900 uppercase mb-3",children:"Candidate"}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(am,{label:"Candidate Name",name:"candidateName",value:t.candidateName,onChange:n,placeholder:"John Doe"}),e.jsx(am,{label:"Current Address",name:"candidateAddress",value:t.candidateAddress,onChange:n,placeholder:"Candidate Address",rows:2})]})]})]})}),e.jsx(rm,{title:"Position Details",icon:k,isOpen:"position"===h,isComplete:w,onClick:()=>b("position"),children:e.jsxs("div",{className:"space-y-3",children:[e.jsx(am,{label:"Job Title",name:"position",value:t.position,onChange:n,placeholder:"Senior Developer"}),e.jsx(am,{label:"Reports To",name:"managerName",value:t.managerName,onChange:n,placeholder:"CTO"}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsx(am,{label:"Start Date",name:"startDate",value:t.startDate,onChange:n,placeholder:"Jan 1, 2026"}),e.jsx(am,{label:"Salary",name:"salary",value:t.salary,onChange:n,placeholder:"$120,000"})]})]})}),e.jsx(rm,{title:"Document Branding",icon:oe,isOpen:"branding"===h,isComplete:!0,onClick:()=>b("branding"),children:e.jsx(om,{formData:t,onChange:n})}),e.jsx(rm,{title:"Signatories",icon:P,isOpen:"signatures"===h,isComplete:S,onClick:()=>b("signatures"),children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-bold text-slate-400 mb-2 uppercase",children:"For Employer"}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsx(am,{label:"Name",name:"employerSignatoryName",value:t.employerSignatoryName,onChange:n,placeholder:"Hiring Manager"}),e.jsx(am,{label:"Title",name:"employerSignatoryTitle",value:t.employerSignatoryTitle,onChange:n,placeholder:"HR Director"})]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-bold text-slate-400 mb-2 uppercase",children:"For Candidate"}),e.jsxs("div",{className:"p-2 bg-slate-50 text-slate-500 text-xs rounded border border-slate-100",children:["Candidate Name will be used for signature block: ",e.jsx("strong",{children:t.candidateName||"(Enter Candidate Name)"})]})]})]})})]}),"edit"===p&&e.jsxs("div",{className:"p-4 space-y-6 pb-20",children:[e.jsx(sm,{isFixed:!0,section:{title:"Letter Header"},onUpdate:()=>{},children:e.jsx("div",{className:"space-y-3 mt-3",children:e.jsx("textarea",{name:"partiesDisclosing",value:r.partiesDisclosing||"",onChange:a,rows:3,className:"w-full text-xs p-3 rounded-lg border border-slate-200 bg-slate-50 resize-y",placeholder:"Recipient Address Block..."})})}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute left-[7px] top-[-24px] bottom-0 w-[2px] bg-slate-100"}),e.jsx("p",{className:"font-bold text-[10px] uppercase tracking-widest text-slate-400 pl-8 mb-4",children:"Body Sections"}),e.jsx(he,{axis:"y",values:r.sections,onReorder:l,className:"space-y-0",children:r.sections.map(t=>e.jsx(me,{value:t,className:"relative mb-2",children:e.jsx(sm,{section:t,onUpdate:(e,n)=>o(t.id,e,n),onRemove:()=>{return e=t.id,void x({isOpen:!0,sectionId:e});var e},placeholderTitle:"Section Title",placeholderContent:"Body text..."})},t.id))}),e.jsx(im,{onClick:s})]})]}),"style"===p&&e.jsx("div",{className:"p-4 pb-20",children:e.jsx(lm,{styles:c,onUpdate:d,onReset:u})})]})};function ef({data:t,content:n,zoom:s=1,printing:i=!1,readOnly:o=!1,signatures:l=[],onUpdateSignature:c,onRemoveSignature:d,onEditSignature:u,businessLogo:h,styles:m}){const p=({value:t,placeholder:n,name:r,className:a=""})=>{const s=(e=>{if(!e)return"bg-slate-100 text-slate-600 border-slate-200";const t=["bg-indigo-50 text-indigo-700 border-indigo-200","bg-emerald-50 text-emerald-700 border-emerald-200","bg-amber-50 text-amber-700 border-amber-200","bg-rose-50 text-rose-700 border-rose-200","bg-violet-50 text-violet-700 border-violet-200","bg-sky-50 text-sky-700 border-sky-200"];let n=0;for(let r=0;r<e.length;r++)n=e.charCodeAt(r)+((n<<5)-n);return t[Math.abs(n)%t.length]})(r);return t?o||i?e.jsx("span",{className:`font-medium text-slate-900 ${a}`,children:t}):e.jsx("span",{className:`px-1.5 py-0.5 rounded border ${s} font-medium mx-0.5 transition-all hover:brightness-95 ${a}`,children:t}):o||i?e.jsx("span",{className:`text-slate-500 italic ${a}`,children:n}):e.jsx("span",{className:`px-1.5 py-0.5 rounded border border-dashed ${s} bg-opacity-50 font-medium text-xs mx-0.5 ${a}`,children:n})},f=({template:t,values:n})=>{if(!t)return null;const r=t.split(/(\{\{[^}]+\}\})/g);return e.jsx("span",{children:r.map((t,r)=>{if(t.startsWith("{{")&&t.endsWith("}}")){const a=t.slice(2,-2).trim(),s=n[a];return a.toLowerCase().includes("address")&&s?e.jsx("span",{className:"whitespace-pre-line",children:e.jsx(p,{value:s,name:a,placeholder:`[${a}]`})},r):e.jsx(p,{value:n[a],name:a,placeholder:`[${a}]`},r)}return e.jsx("span",{children:t},r)})})},g=i?"div":a.div,x=i?"div":a.section,b=m||{fontFamily:"font-sans",fontSize:"text-[11pt]",lineHeight:"leading-relaxed",textColor:"#1e293b",headingColor:"#0f172a",pageMargin:"p-[10mm]",paragraphSpacing:"mb-6"};return e.jsxs(g,{id:"printable-document",...i?{}:{initial:{opacity:0,y:20},animate:{opacity:1,y:0}},style:{transform:i?"none":`scale(${s})`,transformOrigin:"top center",color:b.textColor},className:`\n                w-[210mm] min-h-[297mm] bg-white relative mb-20 origin-top \n                ${i?"":"shadow-[0_8px_30px_rgb(0,0,0,0.12)] border border-slate-200/60"}\n                ${b.fontFamily} ${b.fontSize} ${b.lineHeight}\n            `,children:[!i&&e.jsx("div",{className:"no-print absolute inset-0 rounded-sm pointer-events-none bg-gradient-to-b from-white to-slate-50/20"}),e.jsxs("div",{className:`${b.pageMargin} relative z-10`,children:[h&&!1!==t.brandingEnabled&&"false"!==t.brandingEnabled&&e.jsx("div",{className:"flex mb-8 "+("left"===t.logoAlignment?"justify-start":"right"===t.logoAlignment?"justify-end":"justify-center"),style:i?{textAlign:t.logoAlignment||"center"}:{},children:e.jsx("img",{src:h,alt:"Company Logo",style:{height:`${t.logoSize||70}px`,objectFit:"contain"}})})," ",e.jsxs("div",{className:"mb-8",children:[e.jsx("p",{className:`font-medium ${b.paragraphSpacing}`,children:e.jsx(f,{template:n.preamble,values:t})}),e.jsx("div",{className:`whitespace-pre-line ${b.paragraphSpacing}`,children:e.jsx(f,{template:n.partiesDisclosing,values:t})}),e.jsx("p",{className:`${b.paragraphSpacing}`,children:e.jsx(f,{template:n.partiesFooter,values:t})})]}),e.jsx("div",{className:`text-justify ${b.paragraphSpacing}`}),e.jsx("div",{className:"space-y-6 min-h-[100px]",children:e.jsx(r,{mode:"popLayout",children:n.sections&&n.sections.map((n,r)=>e.jsxs(x,{className:b.paragraphSpacing,...i?{}:{layout:!0,initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,scale:.95}},children:[e.jsx("h2",{className:"font-bold text-sm uppercase mb-2",style:{color:b.headingColor},children:n.title}),e.jsx("p",{className:"text-justify",children:e.jsx(f,{template:n.content,values:t})})]},n.id))})}),e.jsxs("div",{className:"mt-12 break-inside-avoid",children:[e.jsx("p",{className:"mb-8",children:"Sincerely,"}),i?e.jsx("table",{style:{width:"100%",borderCollapse:"collapse",marginTop:"20px"},children:e.jsx("tbody",{children:e.jsxs("tr",{children:[e.jsxs("td",{style:{width:"48%",verticalAlign:"top",paddingRight:"2%"},children:[e.jsxs("p",{className:"font-bold uppercase text-xs tracking-wider mb-8",children:["For ",t.employerName||"The Company"]}),e.jsx("div",{className:"relative border-b border-slate-800 h-8 mb-2",style:{borderBottom:"1px solid #000",height:"40px",marginBottom:"10px"},children:t.employerSignatoryName&&e.jsx("span",{style:{fontFamily:"cursive",fontSize:"16pt",color:"#1e3a8a"},children:t.employerSignatoryName})}),e.jsx("p",{className:"text-xs uppercase text-slate-500",children:"Authorized Signature"}),e.jsx("table",{style:{width:"100%",marginTop:"15px"},children:e.jsxs("tbody",{children:[e.jsxs("tr",{children:[e.jsx("td",{style:{width:"60px",fontWeight:"bold",fontSize:"10pt"},children:"Name:"}),e.jsx("td",{style:{borderBottom:"1px solid #ccc"},children:t.employerSignatoryName})]}),e.jsxs("tr",{children:[e.jsx("td",{style:{paddingBottom:"5px"}}),e.jsx("td",{})]}),e.jsxs("tr",{children:[e.jsx("td",{style:{width:"60px",fontWeight:"bold",fontSize:"10pt"},children:"Title:"}),e.jsx("td",{style:{borderBottom:"1px solid #ccc"},children:t.employerSignatoryTitle})]})]})})]}),e.jsx("td",{style:{width:"4%"}}),e.jsxs("td",{style:{width:"48%",verticalAlign:"top"},children:[e.jsx("p",{className:"font-bold uppercase text-xs tracking-wider mb-8",children:"Accepted By"}),e.jsx("div",{className:"relative border-b border-slate-800 h-8 mb-2",style:{borderBottom:"1px solid #000",height:"40px",marginBottom:"10px"},children:t.candidateSignatoryName&&e.jsx("span",{style:{fontFamily:"cursive",fontSize:"16pt",color:"#1e3a8a"},children:t.candidateSignatoryName})}),e.jsx("p",{className:"text-xs uppercase text-slate-500",children:"Candidate Signature"}),e.jsx("table",{style:{width:"100%",marginTop:"15px"},children:e.jsxs("tbody",{children:[e.jsxs("tr",{children:[e.jsx("td",{style:{width:"60px",fontWeight:"bold",fontSize:"10pt"},children:"Name:"}),e.jsx("td",{style:{borderBottom:"1px solid #ccc"},children:t.candidateName})]}),e.jsxs("tr",{children:[e.jsx("td",{style:{paddingBottom:"5px"}}),e.jsx("td",{})]}),e.jsxs("tr",{children:[e.jsx("td",{style:{width:"60px",fontWeight:"bold",fontSize:"10pt"},children:"Date:"}),e.jsx("td",{style:{borderBottom:"1px solid #ccc"}})]})]})})]})]})})}):e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 md:gap-16",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsxs("p",{className:"font-bold uppercase text-xs tracking-wider mb-8",children:["For ",t.employerName||"The Company"]}),e.jsx("div",{className:"relative border-b border-slate-800 h-8 mb-2",children:t.employerSignatoryName&&e.jsx("span",{className:"absolute bottom-1 left-2 font-cursive text-xl text-blue-900 opacity-80 rotate-[-2deg]",children:t.employerSignatoryName})}),e.jsx("p",{className:"text-xs uppercase text-slate-500",children:"Authorized Signature"}),e.jsxs("div",{className:"pt-4 grid grid-cols-[60px_1fr] gap-x-2 gap-y-1 items-baseline",children:[e.jsx("span",{className:"text-sm font-medium",children:"Name:"}),e.jsx("span",{className:"border-b border-slate-300 w-full inline-block h-5 pl-1",children:t.employerSignatoryName}),e.jsx("span",{className:"text-sm font-medium",children:"Title:"}),e.jsx("span",{className:"border-b border-slate-300 w-full inline-block h-5 pl-1",children:t.employerSignatoryTitle})]})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"font-bold uppercase text-xs tracking-wider mb-8",children:"Accepted By"}),e.jsx("div",{className:"relative border-b border-slate-800 h-8 mb-2",children:t.candidateSignatoryName&&e.jsx("span",{className:"absolute bottom-1 left-2 font-cursive text-xl text-blue-900 opacity-80 rotate-[-2deg]",children:t.candidateSignatoryName})}),e.jsx("p",{className:"text-xs uppercase text-slate-500",children:"Candidate Signature"}),e.jsxs("div",{className:"pt-4 grid grid-cols-[60px_1fr] gap-x-2 gap-y-1 items-baseline",children:[e.jsx("span",{className:"text-sm font-medium",children:"Name:"}),e.jsx("span",{className:"border-b border-slate-300 w-full inline-block h-5 pl-1",children:t.candidateName}),e.jsx("span",{className:"text-sm font-medium",children:"Date:"}),e.jsx("span",{className:"border-b border-slate-300 w-full inline-block h-5 pl-1"})]})]})]})]}),!i&&e.jsx("div",{className:"absolute bottom-4 left-0 right-0 text-center",children:e.jsx("p",{className:"text-[9px] text-slate-300 uppercase tracking-widest font-sans",children:"Powered by DocForge"})})]})]})}const tf={title:"Employment Offer Letter",preamble:"{{effectiveDateDay}} {{effectiveDateMonth}}, 20{{effectiveDateYear}}",partiesDisclosing:"To,\n{{candidateName}}\n{{candidateAddress}}",partiesReceiving:"",partiesFooter:"Dear {{candidateName}},",sections:[{id:"1",title:"Welcome",content:'We are pleased to offer you the position of {{position}} at {{employerName}} ("Company"). We believe your skills and experience are an excellent match for our company.'},{id:"2",title:"Position and Duties",content:"You will be working as {{position}}, reporting to {{managerName}}. Your start date will be {{startDate}}. Your primary duties will be those consistent with this position and as assigned by your manager."},{id:"3",title:"Compensation",content:"Your starting salary will be {{salary}} per year, payable in accordance with the Company's standard payroll schedule. This salary is subject to adjustment pursuant to the Company's employee compensation policies."},{id:"4",title:"Benefits",content:"You will be eligible to participate in the Company's standard employee benefit plans, including health insurance, vacation, and 401(k), provided to employees at your level."},{id:"5",title:"At-Will Employment",content:'Your employment with the Company is for no specified period and constitutes "at-will" employment. This means that either you or the Company may terminate the employment relationship at any time, with or without cause or notice.'},{id:"6",title:"Acceptance",content:"To accept this offer, please sign and date this letter below and return it to us by {{expirationDate}}."}]},nf={effectiveDateDay:"",effectiveDateMonth:"",effectiveDateYear:"",logoSize:80,logoAlignment:"left",brandingEnabled:!0,employerName:"",employerAddress:"",candidateName:"",candidateAddress:"",position:"",managerName:"",startDate:"",salary:"",expirationDate:"",employerSignatoryName:"",employerSignatoryTitle:"",candidateSignatoryName:""},rf=(t,n,r="Document",a=[],s=null)=>`\n    <!DOCTYPE html>\n    <html>\n        <head>\n            <meta charset="utf-8">\n            <title>${r}</title>\n            <style>\n                * { box-sizing: border-box; }\n                body { \n                    font-family: 'Times New Roman', serif; \n                    line-height: 1.5; \n                    color: #333; \n                    font-size: 11pt; \n                    margin: 0; \n                    padding: 40px; \n                }\n                .text-center { text-align: center; }\n                .uppercase { text-transform: uppercase; }\n                .font-bold { font-weight: bold; }\n                .text-sm { font-size: 10pt; }\n                .text-xs { font-size: 9pt; }\n                .text-justify { text-align: justify; }\n                .mb-2 { margin-bottom: 0.5rem; }\n                .mb-4 { margin-bottom: 1rem; }\n                .mb-6 { margin-bottom: 1.5rem; }\n                .mb-8 { margin-bottom: 2rem; }\n                .mb-10 { margin-bottom: 2.5rem; }\n                .pb-2 { padding-bottom: 0.5rem; }\n                .mt-12 { margin-top: 3rem; }\n                .border-b { border-bottom: 1px solid #000; }\n                .border-b-2 { border-bottom: 2px solid #000; }\n                \n                @page { margin: 40px; }\n                \n                h1 { \n                    font-size: 16pt; \n                    text-transform: uppercase; \n                    border-bottom: 2px solid #000; \n                    padding-bottom: 10px; \n                    margin-bottom: 30px; \n                    text-align: center; \n                    font-weight: bold; \n                    letter-spacing: 2px; \n                }\n                p { margin-bottom: 12px; }\n                \n                table { width: 100%; border-collapse: collapse; }\n                td { vertical-align: top; }\n                \n                .font-cursive { font-family: cursive; font-style: italic; }\n            </style>\n        </head>\n        <body>\n            ${Im.renderToStaticMarkup(e.jsx(ef,{data:t,content:n,zoom:1,printing:!0,signatures:a,businessLogo:s}))}\n        </body>\n    </html>\n    `,af=()=>{const n=Et(),{id:r}=Ot(),a=xd("(min-width: 1024px)"),[s,i]=kt.useState("edit"),[l,c]=kt.useState(1),[d,u]=kt.useState(!1),[h,m]=kt.useState(!1),[p,f]=kt.useState(!1),[g,x]=kt.useState(!1),[w,j]=kt.useState(!1),[N,k]=kt.useState(null),[S,C]=kt.useState(null),[_,P]=kt.useState(null),[E,D]=kt.useState(null),{formData:O,docContent:T,signatures:M,documentName:A,setDocumentName:z,sentAt:R,setSentAt:F,isLoading:L,isSaving:B,handleFormChange:W,handleContentChange:U,addSection:H,removeSection:V,updateSection:q,reorderSections:Y,addSignature:G,updateSignature:K,removeSignature:X,saveDocument:Q,enterPreviewMode:J,exitPreviewMode:ee,restoreVersion:te,styles:ne,updateStyle:re,resetStyles:ae}=(e=>{const[t,n]=kt.useState(nf),[r,a]=kt.useState(tf),[s,i]=kt.useState("Untitled Offer Letter"),[o,l]=kt.useState(null),[c,d]=kt.useState(!!e),[u,h]=kt.useState(!1),{styles:m,updateStyle:p,resetStyles:f}=$m(),g=kt.useRef(null);kt.useEffect(()=>{(async()=>{if(e)try{d(!0);const t=await fm(e);t.data.name&&i(t.data.name),t.data.sent_at&&l(t.data.sent_at);let r=t.data?.content||t.content;if(r){let e=r;if("string"==typeof e)try{e=JSON.parse(e)}catch(sB){}e=e||{},n(t=>({...t,...e.formData||nf})),a(e.docContent||tf),e.styles&&Object.entries(e.styles).forEach(([e,t])=>p(e,t)),e.signatures&&b(e.signatures)}}catch(t){$t.error("Failed to load document")}finally{d(!1)}else try{const e=await wd();e&&n(t=>({...t,employerName:e.name||"",employerAddress:[e.address,e.city,e.state,e.country].filter(Boolean).join(", ")}))}catch(t){}})()},[e]);const[x,b]=kt.useState([]);return{formData:t,docContent:r,signatures:x,documentName:s,setDocumentName:i,sentAt:o,setSentAt:l,isLoading:c,isSaving:u,handleFormChange:e=>{const{name:t,value:r}=e.target;n(e=>({...e,[t]:r}))},handleContentChange:e=>{const{name:t,value:n}=e.target;a(e=>({...e,[t]:n}))},addSection:()=>{a(e=>({...e,sections:[...e.sections,{id:Lm(),title:"New Section",content:"Enter the details of this new clause here..."}]}))},removeSection:e=>{a(t=>({...t,sections:t.sections.filter(t=>t.id!==e)}))},updateSection:(e,t,n)=>{a(r=>({...r,sections:r.sections.map(r=>r.id===e?{...r,[t]:n}:r)}))},reorderSections:e=>{a(t=>({...t,sections:e}))},addSignature:e=>{b(t=>[...t,e])},updateSignature:(e,t)=>{b(n=>n.map(n=>n.id===e?{...n,...t}:n))},removeSignature:e=>{b(t=>t.filter(t=>t.id!==e))},saveDocument:async n=>{h(!0);try{const a={name:s,type_slug:"offer-letter",content:{formData:t,docContent:r,styles:m,signatures:x},status:"draft"};if(e)return await xm(e,a),$t.success("Document updated successfully"),e;{const e=await gm(a);return $t.success("Document created successfully"),n&&n(`/documents/offer-letter/${e.data.id}`,{replace:!0}),e.data.id}}catch(a){throw a.response&&422===a.response.status||$t.error("Failed to save document"),a}finally{setTimeout(()=>h(!1),500)}},enterPreviewMode:e=>{g.current||(g.current={formData:t,docContent:r});let s=e.content;if("string"==typeof s)try{s=JSON.parse(s)}catch(sB){}return s.formData&&n(s.formData),s.docContent&&a(s.docContent),s},exitPreviewMode:()=>{g.current&&(n(g.current.formData),a(g.current.docContent),g.current=null)},restoreVersion:e=>{if(e&&e.content){let t=e.content;if("string"==typeof t)try{t=JSON.parse(t)}catch(sB){}t.formData&&n(t.formData),t.docContent&&a(t.docContent)}g.current=null},styles:m,updateStyle:p,resetStyles:f}})(r),[se,ie]=kt.useState({isOpen:!1,data:null}),oe=St.useDeferredValue(O),le=St.useDeferredValue(T),ce=au(ru(Zu,{activationConstraint:{distance:8}}),ru(sh,{activationConstraint:{delay:250,tolerance:5}})),de=St.useRef(null),ue=async e=>{try{if(e&&e.includes("/storage/")){const t=`http://127.0.0.1:8000/api/v1/file-proxy?path=${encodeURIComponent(e)}`,n=await fetch(t),r=await n.blob();return new Promise((e,t)=>{const n=new FileReader;n.onloadend=()=>e(n.result),n.onerror=t,n.readAsDataURL(r)})}const t=await fetch(e),n=await t.blob();return new Promise((e,t)=>{const r=new FileReader;r.onloadend=()=>e(r.result),r.onerror=t,r.readAsDataURL(n)})}catch(t){return null}};St.useEffect(()=>{(async()=>{try{const e=await wd();e&&e.logo&&D(e.logo)}catch(e){}})()},[]);const he=async()=>{const e=A?.trim();if(!e||["Untitled Offer Letter"].includes(e))return C("Please enter a valid document name."),void(de.current&&de.current.focus());try{await Q(n)}catch(t){}},[me,pe]=kt.useState(null),fe=async()=>{if(r){f(!0);try{let t=E;if(E&&!E.startsWith("data:")){const e=await ue(E);e&&(t=e)}const n={...O,brandingEnabled:!1!==O.brandingEnabled&&"false"!==O.brandingEnabled,logoAlignment:O.logoAlignment||"center",logoSize:O.logoSize||70,businessLogo:t},a=renderToStaticMarkup(e.jsx(ef,{data:n,content:T,signatures:M,zoom:1,printing:!0,styles:ne,businessLogo:t})),s=await Hm(r,a,A);s.url&&window.open(s.url,"_blank")}catch(t){$t.error("Failed to generate PDF. Please try again.")}finally{f(!1)}}else $t.error("Please save the document before printing.")},be=async()=>{if(r){x(!0);try{let e=E;if(E&&!E.startsWith("data:")){const t=await ue(E);t&&(e=t)}const t=rf(O,T,A,M,e),n=await Hm(r,t,A);if(n.url){const e=document.createElement("a");e.href=n.url,e.download=`${A.replace(/[^a-z0-9]/gi,"_").toLowerCase()}.pdf`,document.body.appendChild(e),e.click(),document.body.removeChild(e),$t.success("Document exported successfully")}}catch(e){$t.error("Failed to export document")}finally{x(!1)}}else $t.error("Please save the document before exporting.")},ve=()=>{r?j(!0):$t.error("Please save the document before sending.")};return L?e.jsx("div",{className:"flex h-screen items-center justify-center bg-slate-50",children:e.jsxs("div",{className:"text-center",children:[e.jsx(y,{size:40,className:"animate-spin text-indigo-600 mx-auto mb-4"}),e.jsx("p",{className:"text-slate-500 font-medium",children:"Loading Document..."})]})}):e.jsx(Bh,{sensors:ce,onDragStart:e=>{pe(e.active)},onDragEnd:e=>{const{active:t,over:n}=e;if(pe(null),n&&"document-canvas"===n.id){const e=document.getElementById("printable-document");if(e&&t.rect.current.translated){const n=e.getBoundingClientRect(),r=(t.rect.current.translated.left-n.left)/l,a=(t.rect.current.translated.top-n.top)/l;"toolbar-item"===t.data.current?.type?ie({isOpen:!0,data:{id:null,position:{x:r,y:a},type:"all",required:!0,order:M.length+1}}):"signature-field"===t.data.current?.type&&K(t.id,{position:{x:r,y:a}})}}},children:e.jsxs("div",{className:"flex flex-col h-screen bg-slate-100 overflow-hidden",children:[e.jsx(km,{isOpen:se.isOpen,onClose:()=>ie({isOpen:!1,data:null}),onSave:e=>{if(e.id)K(e.id,{metadata:{signeeName:e.signeeName,signeeEmail:e.signeeEmail,type:e.type,required:e.required,order:e.order}});else{const t={id:Lm(),position:se.data.position,metadata:{signeeName:e.signeeName,signeeEmail:e.signeeEmail,type:e.type,required:e.required,order:e.order}};G(t)}},initialData:se.data,parties:{disclosingPartyName:O.employerName,receivingPartyName:O.candidateName,disclosingSignatoryName:O.employerSignatoryName,receivingSignatoryName:O.candidateName}}),e.jsx(nm,{dropAnimation:{sideEffects:({active:e})=>(document.body.style.cursor="grabbing",()=>{document.body.style.cursor=""})},children:me?"toolbar-item"===me.data.current?.type?e.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-lg border border-indigo-500 bg-white shadow-xl opacity-90 cursor-grabbing ring-2 ring-indigo-500/20 w-48",children:[e.jsx("div",{className:"p-2 rounded-md bg-indigo-100 text-indigo-600",children:e.jsx("div",{className:"w-5 h-5 flex items-center justify-center font-bold",children:"+"})}),e.jsx("span",{className:"text-sm font-medium text-slate-900",children:"Placing Field..."})]}):"signature-field"===me.data.current?.type?e.jsxs("div",{className:"w-64 bg-white/95 backdrop-blur-sm border-2 border-indigo-500 rounded-lg shadow-2xl p-3 flex flex-col cursor-grabbing",children:[e.jsx("div",{className:"flex items-center gap-2 text-indigo-700 font-semibold border-b pb-2 mb-2",children:e.jsx("span",{children:me.data.current.signeeName||"Signature"})}),e.jsx("div",{className:"h-10 flex items-center justify-center text-indigo-200",children:"Sign Here"})]}):null:null}),N&&e.jsxs("div",{className:"bg-amber-100 border-b border-amber-200 px-4 py-2 flex items-center justify-between text-amber-800 text-sm",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ge,{size:16}),e.jsxs("span",{className:"font-medium",children:["Previewing Version ",N.version_number]})]}),e.jsxs("button",{onClick:()=>{ee(),k(null),$t.success("Exited preview mode")},className:"text-amber-700 hover:text-amber-900 font-medium hover:underline flex items-center gap-1",children:[e.jsx(t,{size:14})," Exit Preview"]})]}),e.jsx(Nm,{isOpen:w,onClose:()=>j(!1),documentId:r,documentName:A,isReminder:!!R,onSuccess:e=>{e&&e.sent_at&&F(e.sent_at)},getHtmlContent:async()=>{let e=E;if(E&&!E.startsWith("data:")){const t=await ue(E);t&&(e=t)}return rf(O,T,A,M,e)},signatures:M}),e.jsxs("header",{className:"no-print h-14 md:h-16 bg-white/80 backdrop-blur-md border-b border-slate-200/60 px-4 md:px-6 flex items-center justify-between flex-shrink-0 z-30 shadow-sm relative transition-all duration-300",children:[e.jsxs("div",{className:"flex items-center gap-2 md:gap-4",children:[e.jsx("button",{onClick:()=>n("/documents"),className:"p-2 hover:bg-slate-100 rounded-full text-slate-500 transition-colors flex-shrink-0",children:e.jsx(I,{size:20})}),e.jsxs("div",{className:"min-w-0 relative group/input",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("div",{className:"relative",children:[e.jsx("input",{ref:de,type:"text",value:A,onChange:e=>{z(e.target.value),S&&C(null)},className:"font-bold text-sm md:text-lg bg-transparent border-b-2 focus:ring-0 p-0 m-0 w-auto min-w-[150px] max-w-[300px] placeholder-slate-400 truncate transition-colors "+(S?"border-red-500 text-slate-800 ring-4 ring-red-500/10 rounded-sm px-1 -mx-1":"border-transparent hover:border-slate-200 text-slate-800"),placeholder:"Enter Document Name"}),S&&e.jsxs("div",{className:"absolute top-full left-0 mt-2 w-64 bg-white rounded-lg shadow-xl border border-red-100 z-50 p-3 animate-in fade-in slide-in-from-top-2",children:[e.jsxs("div",{className:"flex items-start gap-2 text-red-600 mb-2",children:[e.jsx(b,{size:16}),e.jsx("p",{className:"text-xs font-semibold",children:S})]}),_&&e.jsxs("div",{className:"bg-slate-50 rounded p-2 border border-slate-100",children:[e.jsx("p",{className:"text-[10px] text-slate-500 mb-1 uppercase font-bold",children:"Suggestion:"}),e.jsx("button",{onClick:()=>{z(_),C(null)},className:"text-sm font-bold text-indigo-600 hover:text-indigo-700 hover:underline",children:_})]})]})]}),e.jsx("button",{onClick:()=>{const e=O.candidateName?.trim();e?(z(`Offer Letter - ${e}`),C(null),P(null),$t.success("Generated smart name!")):$t.error("Enter 'Candidate Name' in the form first.")},className:"p-1.5 text-slate-400 hover:text-indigo-600 hover:bg-indigo-50 rounded-md transition-colors",children:e.jsx(Pe,{size:16})}),R&&e.jsxs("span",{className:"hidden lg:inline-flex items-center gap-1 px-2 py-0.5 rounded-full bg-emerald-50 text-emerald-600 text-[10px] font-medium border border-emerald-100",children:[e.jsx(we,{size:10})," Sent"]})]}),e.jsx("p",{className:"text-[10px] md:text-xs text-slate-400 font-medium whitespace-nowrap hidden sm:block mt-0.5",children:r?"Autosaved locally":"Draft"})]})]}),e.jsxs("div",{className:"flex items-center gap-2 md:gap-3",children:[e.jsxs("div",{className:"hidden lg:flex items-center bg-slate-100 rounded-lg p-1 mr-4",children:[e.jsx("button",{onClick:()=>c(e=>Math.max(e-.1,.5)),className:"p-1.5 hover:bg-white hover:shadow-sm rounded-md text-slate-500 transition-all",children:e.jsx(Ee,{size:16})}),e.jsxs("span",{className:"text-xs font-semibold text-slate-600 w-12 text-center",children:[Math.round(100*l),"%"]}),e.jsx("button",{onClick:()=>c(e=>Math.min(e+.1,1.5)),className:"p-1.5 hover:bg-white hover:shadow-sm rounded-md text-slate-500 transition-all",children:e.jsx(De,{size:16})})]}),e.jsxs("button",{onClick:()=>u(!0),className:"hidden lg:flex items-center gap-2 px-4 py-2 text-slate-600 text-sm font-medium hover:bg-slate-50 rounded-lg border border-transparent hover:border-slate-200 transition-all",children:[e.jsx($,{size:18}),e.jsx("span",{children:"History"})]}),e.jsxs("button",{onClick:fe,disabled:p,className:"hidden lg:flex items-center gap-2 px-4 py-2 text-slate-600 text-sm font-medium hover:bg-slate-50 rounded-lg border border-transparent hover:border-slate-200 transition-all disabled:opacity-50",children:[p?e.jsx(y,{size:18,className:"animate-spin"}):e.jsx(Oe,{size:18}),e.jsx("span",{children:"Print"})]}),e.jsxs("button",{onClick:ve,className:"hidden lg:flex items-center gap-2 px-4 py-2 text-sm font-medium rounded-lg border border-transparent transition-all "+(R?"text-amber-600 hover:bg-amber-50 hover:border-amber-200":"text-slate-600 hover:bg-slate-50 hover:border-slate-200"),children:[R?e.jsx(Z,{size:18}):e.jsx(v,{size:18}),e.jsx("span",{children:R?"Remind":"Send"})]}),e.jsxs("button",{onClick:be,disabled:g,className:"hidden lg:flex items-center gap-2 px-4 py-2 text-slate-600 text-sm font-medium hover:bg-slate-50 rounded-lg border border-transparent hover:border-slate-200 transition-all disabled:opacity-50",children:[g?e.jsx(y,{size:18,className:"animate-spin"}):e.jsx(xe,{size:18}),e.jsx("span",{children:"Export"})]}),e.jsxs("button",{onClick:he,className:"hidden lg:flex items-center gap-2 px-5 py-2 rounded-lg text-white font-medium shadow-md transition-all "+(B?"bg-emerald-500":"bg-indigo-600 hover:bg-indigo-700"),children:[B?e.jsx(we,{size:18}):e.jsx(_e,{size:18}),e.jsx("span",{children:B?"Saved!":"Save"})]})]})]}),e.jsxs("div",{className:"flex flex-col lg:flex-row flex-1 overflow-hidden relative pb-[70px] lg:pb-0",children:[e.jsx("div",{className:`\n                        no-print w-full lg:w-[400px] h-full bg-white border-b lg:border-b-0 lg:border-r border-slate-200 \n                        overflow-y-auto z-20 shadow-sm flex-shrink-0 lg:order-1\n                        ${a||"edit"===s?"block":"hidden"}\n                    `,children:e.jsx(Zp,{formData:O,onChange:W,docContent:T,onContentChange:U,addSection:H,removeSection:V,updateSection:q,reorderSections:Y,styles:ne,onStyleUpdate:re,onStyleReset:ae})}),e.jsxs("div",{className:`\n                        flex-1 h-full overflow-y-auto bg-slate-50/50 p-4 md:p-8 sm:p-12 \n                        flex justify-center items-start scrollbar-thin scrollbar-thumb-slate-300 lg:order-2\n                        ${a||"preview"===s?"flex":"hidden"}\n                    `,style:{backgroundImage:"radial-gradient(#cbd5e1 1px, transparent 1px)",backgroundSize:"20px 20px"},children:[e.jsx(ef,{data:oe,content:le,zoom:l,signatures:M,onUpdateSignature:K,onRemoveSignature:X,onEditSignature:e=>{ie({isOpen:!0,data:{id:e.id,...e.metadata}})},businessLogo:E,styles:ne}),!a&&"preview"===s&&e.jsx("button",{onClick:()=>{ie({isOpen:!0,data:{id:null,position:{x:50,y:100},type:"all",required:!0,order:M.length+1}})},className:"fixed bottom-24 right-6 w-14 h-14 bg-indigo-600 text-white rounded-full shadow-lg shadow-indigo-600/30 flex items-center justify-center hover:bg-indigo-700 transition-transform active:scale-95 z-30",children:e.jsx("span",{className:"text-2xl font-bold",children:"+"})})]})]}),e.jsx(jm,{documentId:r,isOpen:d,onClose:()=>u(!1),onPreview:e=>{J(e),k(e),u(!1),$t.success(`Previewing Version ${e.version_number}`)},onDownload:async e=>{const t=$t.loading("Preparing version PDF...");try{let n=e.content;if("string"==typeof n)try{n=JSON.parse(n)}catch(sB){}const a=n.formData||O,s=n.docContent||T;let i=E;if(E&&!E.startsWith("data:")){const e=await ue(E);e&&(i=e)}const o=rf(a,s,`${A} - v${e.version_number}`,[],i),l=await Hm(r,o,`${A} - v${e.version_number}`);if(l.url){const n=document.createElement("a");n.href=l.url,n.download=`${A.replace(/[^a-z0-9]/gi,"_")}_v${e.version_number}.pdf`,document.body.appendChild(n),n.click(),document.body.removeChild(n),$t.success(`Version ${e.version_number} downloaded`,{id:t})}}catch(n){$t.error("Failed to download version PDF",{id:t})}},onRestore:e=>{te(e),k(null)}}),!a&&e.jsxs("div",{className:"fixed bottom-0 left-0 right-0 bg-white border-t border-slate-200 flex justify-between items-center px-6 py-3 pb-safe z-40 safe-area-bottom",children:[e.jsxs("button",{onClick:()=>i("edit"),className:"flex flex-col items-center gap-1 "+("edit"===s?"text-indigo-600":"text-slate-400"),children:[e.jsx(o,{size:24,strokeWidth:"edit"===s?2.5:2}),e.jsx("span",{className:"text-[10px] font-medium",children:"Editor"})]}),e.jsxs("button",{onClick:()=>i("preview"),className:"flex flex-col items-center gap-1 "+("preview"===s?"text-indigo-600":"text-slate-400"),children:[e.jsx(ge,{size:24,strokeWidth:"preview"===s?2.5:2}),e.jsx("span",{className:"text-[10px] font-medium",children:"Preview"})]}),e.jsxs("button",{onClick:he,className:"flex flex-col items-center gap-1 "+(B?"text-emerald-500":"text-slate-400 transition-colors active:text-indigo-600"),children:[B?e.jsx(we,{size:24,strokeWidth:2.5}):e.jsx(_e,{size:24}),e.jsx("span",{className:"text-[10px] font-medium",children:B?"Saved":"Save"})]}),e.jsxs("button",{onClick:()=>m(!0),className:"flex flex-col items-center gap-1 "+(h?"text-indigo-600":"text-slate-400"),children:[e.jsx(Te,{size:24}),e.jsx("span",{className:"text-[10px] font-medium",children:"More"})]})]}),!a&&h&&e.jsxs("div",{className:"fixed inset-0 z-50 flex flex-col justify-end",children:[e.jsx("div",{className:"absolute inset-0 bg-slate-900/40 backdrop-blur-sm animate-in fade-in",onClick:()=>m(!1)}),e.jsxs("div",{className:"relative bg-white rounded-t-2xl p-6 pb-safe animate-in slide-in-from-bottom shadow-2xl space-y-2",children:[e.jsx("div",{className:"w-12 h-1.5 bg-slate-200 rounded-full mx-auto mb-6"}),e.jsx("h3",{className:"text-sm font-semibold text-slate-400 uppercase tracking-wider mb-2 px-2",children:"Actions"}),e.jsxs("button",{onClick:()=>{m(!1),u(!0)},className:"w-full flex items-center gap-3 p-3 text-slate-700 font-medium hover:bg-slate-50 rounded-xl transition-colors",children:[e.jsx("div",{className:"p-2 bg-indigo-50 text-indigo-600 rounded-lg",children:e.jsx($,{size:20})}),"Version History"]}),e.jsxs("button",{onClick:()=>{m(!1),ve()},className:"w-full flex items-center gap-3 p-3 text-slate-700 font-medium hover:bg-slate-50 rounded-xl transition-colors",children:[e.jsx("div",{className:"p-2 bg-amber-50 text-amber-600 rounded-lg",children:R?e.jsx(Z,{size:20}):e.jsx(v,{size:20})}),R?"Send Reminder":"Send to Client"]}),e.jsxs("button",{onClick:()=>{m(!1),fe()},disabled:p,className:"w-full flex items-center gap-3 p-3 text-slate-700 font-medium hover:bg-slate-50 rounded-xl transition-colors disabled:opacity-50",children:[e.jsx("div",{className:"p-2 bg-sky-50 text-sky-600 rounded-lg",children:p?e.jsx(y,{size:20,className:"animate-spin"}):e.jsx(Oe,{size:20})}),p?"Generating PDF...":"Print / Download PDF"]}),e.jsxs("button",{onClick:()=>{m(!1),be()},disabled:g,className:"w-full flex items-center gap-3 p-3 text-slate-700 font-medium hover:bg-slate-50 rounded-xl transition-colors disabled:opacity-50",children:[e.jsx("div",{className:"p-2 bg-emerald-50 text-emerald-600 rounded-lg",children:g?e.jsx(y,{size:20,className:"animate-spin"}):e.jsx(xe,{size:20})}),g?"Exporting...":"Export"]}),e.jsx("button",{onClick:()=>m(!1),className:"w-full mt-4 p-3 bg-slate-100 text-slate-600 font-semibold rounded-xl",children:"Cancel"})]})]})]})})},sf=({formData:t,onChange:n,docContent:r,onContentChange:a,addSection:s,removeSection:i,updateSection:o,reorderSections:l,styles:c,onStyleUpdate:d,onStyleReset:u})=>{const[h,m]=kt.useState("parties"),[p,f]=kt.useState("fill"),[g,x]=kt.useState({isOpen:!1,sectionId:null}),b=e=>{m(h===e?null:e)},v=t.effectiveDateDay&&t.effectiveDateMonth&&t.effectiveDateYear,y=t.clientName&&t.consultantName,w=t.startDate&&t.endDate&&t.feeAmount,k=t.clientSignatoryName&&t.consultantSignatoryName;return e.jsxs("div",{className:"bg-white min-h-full pb-20 relative",children:[e.jsx(cm,{isOpen:g.isOpen,onClose:()=>x({isOpen:!1,sectionId:null}),onConfirm:()=>{g.sectionId&&(i(g.sectionId),x({isOpen:!1,sectionId:null}))},title:"Delete Section",message:"Are you sure you want to remove this section? This action cannot be undone.",confirmText:"Delete Section",isDestructive:!0}),e.jsxs("div",{className:"p-6 border-b border-slate-100 bg-slate-50/50 sticky top-0 z-10 backdrop-blur-sm",children:[e.jsxs("div",{className:"flex gap-1 bg-slate-200/50 p-1 rounded-lg mb-4",children:[e.jsx("button",{onClick:()=>f("fill"),className:"flex-1 flex items-center justify-center gap-2 py-2 rounded-md text-sm font-medium transition-all "+("fill"===p?"bg-white shadow-sm text-indigo-600":"text-slate-500 hover:text-slate-700"),children:e.jsx(de,{size:16})}),e.jsx("button",{onClick:()=>f("edit"),className:"flex-1 flex items-center justify-center gap-2 py-2 rounded-md text-sm font-medium transition-all "+("edit"===p?"bg-white shadow-sm text-indigo-600":"text-slate-500 hover:text-slate-700"),title:"Structure",children:e.jsx(ue,{size:16})}),e.jsx("button",{onClick:()=>f("style"),className:"flex-1 flex items-center justify-center gap-2 py-2 rounded-md text-sm font-medium transition-all "+("style"===p?"bg-white shadow-sm text-indigo-600":"text-slate-500 hover:text-slate-700"),title:"Appearance",children:e.jsx(ie,{size:16})})]}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-bold text-slate-900",children:"fill"===p?"Contract Details":"edit"===p?"Structure Builder":"Styling & Appearance"}),e.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"fill"===p?"Enter contract terms":"edit"===p?"Customize layout":"Fonts, colors and spacing"})]})]}),"fill"===p&&e.jsxs(e.Fragment,{children:[e.jsx(rm,{title:"Effective Date",icon:F,isOpen:"date"===h,isComplete:v,onClick:()=>b("date"),children:e.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[e.jsx(am,{label:"Day",name:"effectiveDateDay",value:t.effectiveDateDay,onChange:n,placeholder:"DD"}),e.jsx(am,{label:"Month",name:"effectiveDateMonth",value:t.effectiveDateMonth,onChange:n,placeholder:"Month"}),e.jsx(am,{label:"Year",name:"effectiveDateYear",value:t.effectiveDateYear,onChange:n,placeholder:"YY"})]})}),e.jsx(rm,{title:"Parties Involved",icon:j,isOpen:"parties"===h,isComplete:y,onClick:()=>b("parties"),children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"p-3 bg-indigo-50 rounded-lg border border-indigo-100",children:[e.jsxs("h4",{className:"text-xs font-bold text-indigo-900 uppercase mb-3 flex items-center justify-between",children:[e.jsx("span",{className:"flex items-center gap-2",children:"Client"}),e.jsxs("button",{onClick:async()=>{try{const e=await wd();if(e){n({target:{name:"clientName",value:e.name||""}});const t=[e.address,e.city,e.state,e.country].filter(Boolean).join(", ");n({target:{name:"clientAddress",value:t||""}}),$t.success("Business details populated")}else $t.error("No business profile found")}catch(e){$t.error("Failed to load business info")}},className:"text-[10px] bg-white border border-indigo-200 text-indigo-600 px-2 py-1 rounded hover:bg-indigo-50 transition-colors flex items-center gap-1",children:[e.jsx(N,{size:10})," Use Profile"]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(am,{label:"Client",name:"clientName",value:t.clientName,onChange:n,placeholder:"Company A"}),e.jsx(am,{label:"Full Address",name:"clientAddress",value:t.clientAddress,onChange:n,placeholder:"Address",rows:2})]})]}),e.jsxs("div",{className:"p-3 bg-emerald-50 rounded-lg border border-emerald-100",children:[e.jsx("h4",{className:"text-xs font-bold text-emerald-900 uppercase mb-3",children:"Consultant"}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(am,{label:"Consultant",name:"consultantName",value:t.consultantName,onChange:n,placeholder:"Jane Doe"}),e.jsx(am,{label:"Full Address",name:"consultantAddress",value:t.consultantAddress,onChange:n,placeholder:"Address",rows:2})]})]})]})}),e.jsx(rm,{title:"Terms & Payment",icon:ze,isOpen:"terms"===h,isComplete:w,onClick:()=>b("terms"),children:e.jsxs("div",{className:"space-y-3",children:[e.jsx(am,{label:"Services Description",name:"servicesDescription",value:t.servicesDescription,onChange:n,placeholder:"Describe services...",rows:3}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsx(am,{label:"Start Date",name:"startDate",value:t.startDate,onChange:n,placeholder:"Date"}),e.jsx(am,{label:"End Date",name:"endDate",value:t.endDate,onChange:n,placeholder:"Date"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsx(am,{label:"Fee Amount",name:"feeAmount",value:t.feeAmount,onChange:n,placeholder:"$5,000"}),e.jsx(am,{label:"Notice (Days)",name:"noticePeriod",value:t.noticePeriod,onChange:n,placeholder:"30"})]}),e.jsx(am,{label:"Payment Terms",name:"paymentTerms",value:t.paymentTerms,onChange:n,placeholder:"Net 30, Upon Completion, etc."})]})}),e.jsx(rm,{title:"Document Branding",icon:oe,isOpen:"branding"===h,isComplete:!0,onClick:()=>b("branding"),children:e.jsx(om,{formData:t,onChange:n})}),e.jsx(rm,{title:"Signatories",icon:P,isOpen:"signatures"===h,isComplete:k,onClick:()=>b("signatures"),children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-bold text-slate-400 mb-2 uppercase",children:"For Client"}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsx(am,{label:"Name",name:"clientSignatoryName",value:t.clientSignatoryName,onChange:n,placeholder:"Client Rep"}),e.jsx(am,{label:"Title",name:"clientSignatoryTitle",value:t.clientSignatoryTitle,onChange:n,placeholder:"Director"})]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-bold text-slate-400 mb-2 uppercase",children:"For Consultant"}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsx(am,{label:"Name",name:"consultantSignatoryName",value:t.consultantSignatoryName,onChange:n,placeholder:"Consultant Name"}),e.jsx(am,{label:"Title",name:"consultantSignatoryTitle",value:t.consultantSignatoryTitle,onChange:n,placeholder:"Title"})]})]})]})})]}),"edit"===p&&e.jsxs("div",{className:"p-4 space-y-6 pb-20",children:[e.jsx(sm,{isFixed:!0,section:{title:"Preamble & Parties"},onUpdate:()=>{},children:e.jsxs("div",{className:"space-y-3 mt-3",children:[e.jsx("textarea",{name:"preamble",value:r.preamble||"",onChange:a,rows:3,className:"w-full text-xs p-3 rounded-lg border border-slate-200 bg-slate-50 resize-y",placeholder:"Preamble..."}),e.jsxs("div",{className:"grid gap-3",children:[e.jsx("textarea",{name:"partiesDisclosing",value:r.partiesDisclosing||"",onChange:a,rows:2,className:"w-full text-xs p-3 rounded-lg border border-slate-200 bg-slate-50 resize-y",placeholder:"Client Clause..."}),e.jsx("textarea",{name:"partiesReceiving",value:r.partiesReceiving||"",onChange:a,rows:2,className:"w-full text-xs p-3 rounded-lg border border-slate-200 bg-slate-50 resize-y",placeholder:"Consultant Clause..."})]})]})}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute left-[7px] top-[-24px] bottom-0 w-[2px] bg-slate-100"}),e.jsx("p",{className:"font-bold text-[10px] uppercase tracking-widest text-slate-400 pl-8 mb-4",children:"Contract Sections"}),e.jsx(he,{axis:"y",values:r.sections,onReorder:l,className:"space-y-0",children:r.sections.map(t=>e.jsx(me,{value:t,className:"relative mb-2",children:e.jsx(sm,{section:t,onUpdate:(e,n)=>o(t.id,e,n),onRemove:()=>{return e=t.id,void x({isOpen:!0,sectionId:e});var e},placeholderTitle:"Section Title",placeholderContent:"Body text..."})},t.id))}),e.jsx(im,{onClick:s})]})]}),"style"===p&&e.jsx("div",{className:"p-4 pb-20",children:e.jsx(lm,{styles:c,onUpdate:d,onReset:u})})]})};function of({data:t,content:n,zoom:s=1,printing:i=!1,readOnly:o=!1,signatures:l=[],onUpdateSignature:c,onRemoveSignature:d,onEditSignature:u,businessLogo:h,styles:m}){const p=({value:t,placeholder:n,name:r,className:a=""})=>{const s=(e=>{if(!e)return"bg-slate-100 text-slate-600 border-slate-200";const t=["bg-indigo-50 text-indigo-700 border-indigo-200","bg-emerald-50 text-emerald-700 border-emerald-200","bg-amber-50 text-amber-700 border-amber-200","bg-rose-50 text-rose-700 border-rose-200","bg-violet-50 text-violet-700 border-violet-200","bg-sky-50 text-sky-700 border-sky-200"];let n=0;for(let r=0;r<e.length;r++)n=e.charCodeAt(r)+((n<<5)-n);return t[Math.abs(n)%t.length]})(r);return t?o||i?e.jsx("span",{className:`font-medium text-slate-900 ${a}`,children:t}):e.jsx("span",{className:`px-1.5 py-0.5 rounded border ${s} font-medium mx-0.5 transition-all hover:brightness-95 ${a}`,children:t}):o||i?e.jsx("span",{className:`text-slate-500 italic ${a}`,children:n}):e.jsx("span",{className:`px-1.5 py-0.5 rounded border border-dashed ${s} bg-opacity-50 font-medium text-xs mx-0.5 ${a}`,children:n})},f=({template:t,values:n})=>{if(!t)return null;const r=t.split(/(\{\{[^}]+\}\})/g);return e.jsx("span",{children:r.map((t,r)=>{if(t.startsWith("{{")&&t.endsWith("}}")){const a=t.slice(2,-2).trim();return e.jsx(p,{value:n[a],name:a,placeholder:`[${a}]`},r)}return e.jsx("span",{children:t},r)})})},g=i?"div":a.div,x=i?"div":a.section,b=m||{fontFamily:"font-serif",fontSize:"text-[11pt]",lineHeight:"leading-relaxed",textColor:"#1e293b",headingColor:"#0f172a",pageMargin:"p-[10mm]",paragraphSpacing:"mb-6"};return e.jsxs(g,{id:"printable-document",...i?{}:{initial:{opacity:0,y:20},animate:{opacity:1,y:0}},style:{transform:i?"none":`scale(${s})`,transformOrigin:"top center",color:b.textColor},className:`\n                w-[210mm] min-h-[297mm] bg-white relative mb-20 origin-top \n                ${i?"":"shadow-[0_8px_30px_rgb(0,0,0,0.12)] border border-slate-200/60"}\n                ${b.fontFamily} ${b.fontSize} ${b.lineHeight}\n            `,children:[!i&&e.jsx("div",{className:"no-print absolute inset-0 rounded-sm pointer-events-none bg-gradient-to-b from-white to-slate-50/20"}),!i&&!o&&e.jsx(mm,{signatures:l,onUpdateSignature:c,onRemoveSignature:d,onEditSignature:u}),(i||o)&&l.length>0&&e.jsx("div",{className:"absolute inset-0 z-50 pointer-events-none",children:l.map(t=>e.jsxs("div",{style:{position:"absolute",left:`${t.position.x}px`,top:`${t.position.y}px`,width:"200px",height:"60px",borderBottom:"1px solid #000",display:"flex",flexDirection:"column",justifyContent:"flex-end"},children:[e.jsx("div",{style:{fontFamily:"cursive",fontSize:"14pt",color:"#1e3a8a",marginBottom:"4px"},children:t.metadata.signeeName||"Sign Here"}),e.jsx("div",{style:{fontSize:"8pt",color:"#64748b",textTransform:"uppercase",letterSpacing:"0.05em"},children:"date"===t.metadata.type?"Date":"Authorized Signature"})]},t.id))}),e.jsxs("div",{className:`${b.pageMargin} relative z-10`,children:[h&&!1!==t.brandingEnabled&&"false"!==t.brandingEnabled&&e.jsx("div",{className:"flex mb-8 "+("left"===t.logoAlignment?"justify-start":"right"===t.logoAlignment?"justify-end":"justify-center"),style:i?{textAlign:t.logoAlignment||"center"}:{},children:e.jsx("img",{src:h,alt:"Company Logo",style:{height:`${t.logoSize||70}px`,objectFit:"contain"}})}),e.jsx("h1",{className:"text-xl font-bold text-center mb-10 uppercase tracking-widest border-b-2 border-slate-900 pb-2",style:{borderColor:b.headingColor,color:b.headingColor},children:n.title}),e.jsx("p",{className:`text-justify ${b.paragraphSpacing}`,children:e.jsx(f,{template:n.preamble,values:t})}),e.jsxs("div",{className:"mb-8 pl-4 border-l-4 border-slate-100",children:[e.jsx("p",{className:"font-bold text-xs uppercase text-slate-400 mb-1",children:"BY AND BETWEEN"}),e.jsx("p",{className:`text-justify ${b.paragraphSpacing}`,children:e.jsx(f,{template:n.partiesDisclosing,values:t})}),e.jsx("p",{className:"font-bold text-xs uppercase text-slate-400 mb-1",children:"AND"}),e.jsx("p",{className:`text-justify ${b.paragraphSpacing}`,children:e.jsx(f,{template:n.partiesReceiving,values:t})})]}),e.jsx("p",{className:`text-justify ${b.paragraphSpacing}`,children:e.jsx(f,{template:n.partiesFooter,values:t})}),e.jsx("div",{className:"space-y-6 min-h-[100px]",children:e.jsx(r,{mode:"popLayout",children:n.sections&&n.sections.map((n,r)=>e.jsxs(x,{className:b.paragraphSpacing,...i?{}:{layout:!0,initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,scale:.95}},children:[e.jsx("h2",{className:"font-bold text-sm uppercase mb-2",style:{color:b.headingColor},children:n.title}),e.jsx("p",{className:"text-justify",children:e.jsx(f,{template:n.content,values:t})})]},n.id))})}),e.jsxs("div",{className:"mt-12 break-inside-avoid",children:[e.jsxs("h2",{className:"font-bold text-sm uppercase mb-6 border-b border-slate-900 pb-1",style:{borderColor:b.headingColor,color:b.headingColor},children:[n.sections.length+1,". Signatures"]}),e.jsx("p",{className:"mb-8",children:"IN WITNESS WHEREOF, the Parties have executed this Agreement as of the date first written above."}),i?e.jsx("table",{style:{width:"100%",borderCollapse:"collapse",marginTop:"20px"},children:e.jsx("tbody",{children:e.jsxs("tr",{children:[e.jsxs("td",{style:{width:"48%",verticalAlign:"top",paddingRight:"2%"},children:[e.jsx("p",{className:"font-bold uppercase text-xs tracking-wider mb-8",children:"For Client"}),e.jsx("div",{className:"relative border-b border-slate-800 h-8 mb-2",style:{borderBottom:"1px solid #000",height:"40px",marginBottom:"10px"},children:t.clientSignatoryName&&e.jsx("span",{style:{fontFamily:"cursive",fontSize:"16pt",color:"#1e3a8a"},children:t.clientSignatoryName})}),e.jsx("p",{className:"text-xs uppercase text-slate-500",children:"Authorized Signature"}),e.jsx("table",{style:{width:"100%",marginTop:"15px"},children:e.jsxs("tbody",{children:[e.jsxs("tr",{children:[e.jsx("td",{style:{width:"60px",fontWeight:"bold",fontSize:"10pt"},children:"Name:"}),e.jsx("td",{style:{borderBottom:"1px solid #ccc"},children:t.clientSignatoryName})]}),e.jsxs("tr",{children:[e.jsx("td",{style:{paddingBottom:"5px"}}),e.jsx("td",{})]}),e.jsxs("tr",{children:[e.jsx("td",{style:{width:"60px",fontWeight:"bold",fontSize:"10pt"},children:"Title:"}),e.jsx("td",{style:{borderBottom:"1px solid #ccc"},children:t.clientSignatoryTitle})]})]})})]}),e.jsx("td",{style:{width:"4%"}}),e.jsxs("td",{style:{width:"48%",verticalAlign:"top"},children:[e.jsx("p",{className:"font-bold uppercase text-xs tracking-wider mb-8",children:"For Consultant"}),e.jsx("div",{className:"relative border-b border-slate-800 h-8 mb-2",style:{borderBottom:"1px solid #000",height:"40px",marginBottom:"10px"},children:t.consultantSignatoryName&&e.jsx("span",{style:{fontFamily:"cursive",fontSize:"16pt",color:"#1e3a8a"},children:t.consultantSignatoryName})}),e.jsx("p",{className:"text-xs uppercase text-slate-500",children:"Authorized Signature"}),e.jsx("table",{style:{width:"100%",marginTop:"15px"},children:e.jsxs("tbody",{children:[e.jsxs("tr",{children:[e.jsx("td",{style:{width:"60px",fontWeight:"bold",fontSize:"10pt"},children:"Name:"}),e.jsx("td",{style:{borderBottom:"1px solid #ccc"},children:t.consultantSignatoryName})]}),e.jsxs("tr",{children:[e.jsx("td",{style:{paddingBottom:"5px"}}),e.jsx("td",{})]}),e.jsxs("tr",{children:[e.jsx("td",{style:{width:"60px",fontWeight:"bold",fontSize:"10pt"},children:"Title:"}),e.jsx("td",{style:{borderBottom:"1px solid #ccc"},children:t.consultantSignatoryTitle})]})]})})]})]})})}):e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 md:gap-16",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"font-bold uppercase text-xs tracking-wider mb-8",children:"For Client"}),e.jsx("div",{className:"relative border-b border-slate-800 h-8 mb-2",children:t.clientSignatoryName&&e.jsx("span",{className:"absolute bottom-1 left-2 font-cursive text-xl text-blue-900 opacity-80 rotate-[-2deg]",children:t.clientSignatoryName})}),e.jsx("p",{className:"text-xs uppercase text-slate-500",children:"Authorized Signature"}),e.jsxs("div",{className:"pt-4 grid grid-cols-[60px_1fr] gap-x-2 gap-y-1 items-baseline",children:[e.jsx("span",{className:"text-sm font-medium",children:"Name:"}),e.jsx("span",{className:"border-b border-slate-300 w-full inline-block h-5 pl-1",children:t.clientSignatoryName}),e.jsx("span",{className:"text-sm font-medium",children:"Title:"}),e.jsx("span",{className:"border-b border-slate-300 w-full inline-block h-5 pl-1",children:t.clientSignatoryTitle})]})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"font-bold uppercase text-xs tracking-wider mb-8",children:"For Consultant"}),e.jsx("div",{className:"relative border-b border-slate-800 h-8 mb-2",children:t.consultantSignatoryName&&e.jsx("span",{className:"absolute bottom-1 left-2 font-cursive text-xl text-blue-900 opacity-80 rotate-[-2deg]",children:t.consultantSignatoryName})}),e.jsx("p",{className:"text-xs uppercase text-slate-500",children:"Authorized Signature"}),e.jsxs("div",{className:"pt-4 grid grid-cols-[60px_1fr] gap-x-2 gap-y-1 items-baseline",children:[e.jsx("span",{className:"text-sm font-medium",children:"Name:"}),e.jsx("span",{className:"border-b border-slate-300 w-full inline-block h-5 pl-1",children:t.consultantSignatoryName}),e.jsx("span",{className:"text-sm font-medium",children:"Title:"}),e.jsx("span",{className:"border-b border-slate-300 w-full inline-block h-5 pl-1",children:t.consultantSignatoryTitle})]})]})]})]}),!i&&e.jsx("div",{className:"absolute bottom-4 left-0 right-0 text-center",children:e.jsx("p",{className:"text-[9px] text-slate-300 uppercase tracking-widest font-sans",children:"Powered by DocForge"})})]})]})}const lf={title:"Consulting Services Agreement",preamble:"This Consulting Services Agreement (Agreement) is made and entered into on this {{effectiveDateDay}} day of {{effectiveDateMonth}}, 20{{effectiveDateYear}} (Effective Date),",partiesDisclosing:'{{clientName}}, having its principal place of business at {{clientAddress}} (hereinafter referred to as the "Client"),',partiesReceiving:'{{consultantName}}, having its principal place of business at {{consultantAddress}} (hereinafter referred to as the "Consultant").',partiesFooter:'The Client and the Consultant may hereinafter be collectively referred to as the "Parties" and individually as a "Party".',sections:[{id:"1",title:"Services",content:"The Consultant agrees to perform the following services for the Client: {{servicesDescription}} (Services). The Consultant shall perform the Services in a professional and workmanlike manner."},{id:"2",title:"Term",content:"The term of this Agreement shall commence on {{startDate}} and shall continue until {{endDate}}, unless earlier terminated in accordance with this Agreement."},{id:"3",title:"Compensation",content:"In consideration for the Services, the Client shall pay the Consultant a fee of {{feeAmount}}. Payment shall be made according to the following terms: {{paymentTerms}}."},{id:"4",title:"Independent Contractor",content:"The Consultant is an independent contractor and not an employee of the Client. The Consultant shall be solely responsible for all taxes, withholdings, and other statutory obligations."},{id:"5",title:"Confidentiality",content:"The Consultant agrees to keep confidential all non-public information obtained from the Client during the course of providing Services and shall not disclose it to any third party without prior written consent."},{id:"6",title:"Intellectual Property",content:'Any work product created by the Consultant specifically for the Client under this Agreement shall be considered "work made for hire" and shall be the sole property of the Client.'},{id:"7",title:"Termination",content:"Either party may terminate this Agreement upon {{noticePeriod}} days' written notice to the other party."}]},cf={effectiveDateDay:"",effectiveDateMonth:"",effectiveDateYear:"",logoSize:70,logoAlignment:"center",brandingEnabled:!0,clientName:"",clientAddress:"",consultantName:"",consultantAddress:"",servicesDescription:"",startDate:"",endDate:"",feeAmount:"",paymentTerms:"",noticePeriod:"30",clientSignatoryName:"",clientSignatoryTitle:"",consultantSignatoryName:"",consultantSignatoryTitle:""},df=e=>{const[t,n]=kt.useState(cf),[r,a]=kt.useState(lf),[s,i]=kt.useState("Untitled Consulting Agreement"),[o,l]=kt.useState(null),[c,d]=kt.useState(!!e),[u,h]=kt.useState(!1),[m,p]=kt.useState(!1),{styles:f,updateStyle:g,resetStyles:x}=$m(),b=kt.useRef(null);kt.useEffect(()=>{(async()=>{if(e)try{d(!0);const t=await fm(e);t.data.name&&i(t.data.name),t.data.sent_at&&l(t.data.sent_at);let r=t.data?.content||t.content;if("string"==typeof r)try{r=JSON.parse(r)}catch(sB){}r=r||{},r.blocks&&p(!0),r.formData&&n(e=>({...e,...r.formData})),r.docContent&&a(r.docContent),r.signatures&&y(r.signatures),r.styles&&Object.entries(r.styles).forEach(([e,t])=>g(e,t))}catch(t){$t.error("Failed to load document")}finally{d(!1)}else try{const e=await wd();e&&n(t=>({...t,clientName:e.name||"",clientAddress:[e.address,e.city,e.state,e.country].filter(Boolean).join(", ")}))}catch(t){}})()},[e]);const[v,y]=kt.useState([]);return{formData:t,docContent:r,signatures:v,documentName:s,setDocumentName:i,sentAt:o,setSentAt:l,isLoading:c,isSaving:u,handleFormChange:e=>{const{name:t,value:r}=e.target;n(e=>({...e,[t]:r}))},handleContentChange:e=>{const{name:t,value:n}=e.target;a(e=>({...e,[t]:n}))},addSection:()=>{a(e=>({...e,sections:[...e.sections,{id:Lm(),title:"New Section",content:"Enter the details of this new clause here..."}]}))},removeSection:e=>{a(t=>({...t,sections:t.sections.filter(t=>t.id!==e)}))},updateSection:(e,t,n)=>{a(r=>({...r,sections:r.sections.map(r=>r.id===e?{...r,[t]:n}:r)}))},reorderSections:e=>{a(t=>({...t,sections:e}))},addSignature:e=>{y(t=>[...t,e])},updateSignature:(e,t)=>{y(n=>n.map(n=>n.id===e?{...n,...t}:n))},removeSignature:e=>{y(t=>t.filter(t=>t.id!==e))},saveDocument:async n=>{h(!0);try{const a={name:s,type_slug:"consulting-agreement",content:{formData:t,docContent:r,signatures:v,styles:f},status:"draft"};if(e)return await xm(e,a),$t.success("Document updated successfully"),e;{const e=await gm(a);return $t.success("Document created successfully"),n&&n(`/documents/consulting-agreement/${e.data.id}`,{replace:!0}),e.data.id}}catch(a){throw a.response&&422===a.response.status||$t.error("Failed to save document"),a}finally{setTimeout(()=>h(!1),500)}},enterPreviewMode:e=>{b.current||(b.current={formData:t,docContent:r});let s=e.content;if("string"==typeof s)try{s=JSON.parse(s)}catch(sB){}return s.formData&&n(s.formData),s.docContent&&a(s.docContent),s},exitPreviewMode:()=>{b.current&&(n(b.current.formData),a(b.current.docContent),b.current=null)},restoreVersion:e=>{if(e&&e.content){let t=e.content;if("string"==typeof t)try{t=JSON.parse(t)}catch(sB){}t.formData&&n(t.formData),t.docContent&&a(t.docContent)}b.current=null},styles:f,updateStyle:g,resetStyles:x,isNewEngine:m}},uf=(t,n,r="Document",a=[],s=null)=>`\n    <!DOCTYPE html>\n    <html>\n        <head>\n            <meta charset="utf-8">\n            <title>${r}</title>\n            <style>\n                * { box-sizing: border-box; }\n                body { \n                    font-family: 'Times New Roman', serif; \n                    line-height: 1.5; \n                    color: #333; \n                    font-size: 11pt; \n                    margin: 0; \n                    padding: 40px; \n                }\n                .text-center { text-align: center; }\n                .uppercase { text-transform: uppercase; }\n                .font-bold { font-weight: bold; }\n                .text-sm { font-size: 10pt; }\n                .text-xs { font-size: 9pt; }\n                .text-justify { text-align: justify; }\n                .mb-2 { margin-bottom: 0.5rem; }\n                .mb-4 { margin-bottom: 1rem; }\n                .mb-6 { margin-bottom: 1.5rem; }\n                .mb-8 { margin-bottom: 2rem; }\n                .mb-10 { margin-bottom: 2.5rem; }\n                .pb-2 { padding-bottom: 0.5rem; }\n                .mt-12 { margin-top: 3rem; }\n                .border-b { border-bottom: 1px solid #000; }\n                .border-b-2 { border-bottom: 2px solid #000; }\n                \n                @page { margin: 40px; }\n                \n                h1 { \n                    font-size: 16pt; \n                    text-transform: uppercase; \n                    border-bottom: 2px solid #000; \n                    padding-bottom: 10px; \n                    margin-bottom: 30px; \n                    text-align: center; \n                    font-weight: bold; \n                    letter-spacing: 2px; \n                }\n                p { margin-bottom: 12px; }\n                \n                table { width: 100%; border-collapse: collapse; }\n                td { vertical-align: top; }\n                \n                .font-cursive { font-family: cursive; font-style: italic; }\n            </style>\n        </head>\n        <body>\n            ${Im.renderToStaticMarkup(e.jsx(of,{data:t,content:n,zoom:1,printing:!0,signatures:a,businessLogo:s}))}\n        </body>\n    </html>\n    `,hf=()=>e.jsx(Lp,{}),mf=()=>{const n=Et(),{id:r}=Ot(),a=xd("(min-width: 1024px)"),[s,i]=kt.useState("edit"),[l,c]=kt.useState(1),[d,u]=kt.useState(!1),[h,m]=kt.useState(!1),[p,f]=kt.useState(!1),[g,x]=kt.useState(!1),[w,j]=kt.useState(!1),[N,k]=kt.useState(null),[S,C]=kt.useState(null),[_,P]=kt.useState(null),[E,D]=kt.useState(null),{formData:O,docContent:T,signatures:M,documentName:A,setDocumentName:z,sentAt:R,setSentAt:F,isLoading:L,isSaving:B,handleFormChange:W,handleContentChange:U,addSection:H,removeSection:V,updateSection:q,reorderSections:Y,addSignature:G,updateSignature:K,removeSignature:X,saveDocument:Q,enterPreviewMode:J,exitPreviewMode:ee,restoreVersion:te,styles:ne,updateStyle:re,resetStyles:ae,isNewEngine:se}=df(r);if(se)return e.jsx(hf,{});const[ie,oe]=kt.useState({isOpen:!1,data:null}),le=St.useDeferredValue(O),ce=St.useDeferredValue(T),de=au(ru(Zu,{activationConstraint:{distance:8}}),ru(sh,{activationConstraint:{delay:250,tolerance:5}})),ue=St.useRef(null),he=async e=>{try{if(e&&e.includes("/storage/")){const t=`http://localhost:8000/api/v1/file-proxy?path=${encodeURIComponent(e)}`,n=await fetch(t),r=await n.blob();return new Promise((e,t)=>{const n=new FileReader;n.onloadend=()=>e(n.result),n.onerror=t,n.readAsDataURL(r)})}const t=await fetch(e),n=await t.blob();return new Promise((e,t)=>{const r=new FileReader;r.onloadend=()=>e(r.result),r.onerror=t,r.readAsDataURL(n)})}catch(t){return null}};St.useEffect(()=>{(async()=>{try{const e=await wd();e&&e.logo&&D(e.logo)}catch(e){}})()},[]);const me=async()=>{try{await Q(n)}catch(e){}},[pe,fe]=kt.useState(null);return L?e.jsx("div",{className:"flex h-screen items-center justify-center bg-slate-50",children:e.jsxs("div",{className:"text-center",children:[e.jsx(y,{size:40,className:"animate-spin text-indigo-600 mx-auto mb-4"}),e.jsx("p",{className:"text-slate-500 font-medium",children:"Loading Document..."})]})}):e.jsx(Bh,{sensors:de,onDragStart:e=>{fe(e.active)},onDragEnd:e=>{const{active:t,over:n}=e;if(fe(null),n&&"document-canvas"===n.id){const e=document.getElementById("printable-document");if(e&&t.rect.current.translated){const n=e.getBoundingClientRect(),r=(t.rect.current.translated.left-n.left)/l,a=(t.rect.current.translated.top-n.top)/l;"toolbar-item"===t.data.current?.type?oe({isOpen:!0,data:{id:null,position:{x:r,y:a},type:"all",required:!0,order:M.length+1}}):"signature-field"===t.data.current?.type&&K(t.id,{position:{x:r,y:a}})}}},children:e.jsxs("div",{className:"flex flex-col h-screen bg-slate-100 overflow-hidden",children:[e.jsx(km,{isOpen:ie.isOpen,onClose:()=>oe({isOpen:!1,data:null}),onSave:e=>{if(e.id)K(e.id,{metadata:{signeeName:e.signeeName,signeeEmail:e.signeeEmail,type:e.type,required:e.required,order:e.order}});else{const t={id:Lm(),position:ie.data.position,metadata:{signeeName:e.signeeName,signeeEmail:e.signeeEmail,type:e.type,required:e.required,order:e.order}};G(t)}},initialData:ie.data,parties:{disclosingPartyName:O.clientName,receivingPartyName:O.consultantName,disclosingSignatoryName:O.clientSignatoryName,receivingSignatoryName:O.consultantSignatoryName}}),e.jsx(nm,{dropAnimation:{sideEffects:({active:e})=>(document.body.style.cursor="grabbing",()=>{document.body.style.cursor=""})},children:pe?"toolbar-item"===pe.data.current?.type?e.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-lg border border-indigo-500 bg-white shadow-xl opacity-90 cursor-grabbing ring-2 ring-indigo-500/20 w-48",children:[e.jsx("div",{className:"p-2 rounded-md bg-indigo-100 text-indigo-600",children:e.jsx("div",{className:"w-5 h-5 flex items-center justify-center font-bold",children:"+"})}),e.jsx("span",{className:"text-sm font-medium text-slate-900",children:"Placing Field..."})]}):"signature-field"===pe.data.current?.type?e.jsxs("div",{className:"w-64 bg-white/95 backdrop-blur-sm border-2 border-indigo-500 rounded-lg shadow-2xl p-3 flex flex-col cursor-grabbing",children:[e.jsx("div",{className:"flex items-center gap-2 text-indigo-700 font-semibold border-b pb-2 mb-2",children:e.jsx("span",{children:pe.data.current.signeeName||"Signature"})}),e.jsx("div",{className:"h-10 flex items-center justify-center text-indigo-200",children:"Sign Here"})]}):null:null}),N&&e.jsxs("div",{className:"bg-amber-100 border-b border-amber-200 px-4 py-2 flex items-center justify-between text-amber-800 text-sm",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ge,{size:16}),e.jsxs("span",{className:"font-medium",children:["Previewing Version ",N.version_number]})]}),e.jsxs("button",{onClick:()=>{ee(),k(null),$t.success("Exited preview mode")},className:"text-amber-700 hover:text-amber-900 font-medium hover:underline flex items-center gap-1",children:[e.jsx(t,{size:14})," Exit Preview"]})]}),e.jsx(Nm,{isOpen:w,onClose:()=>j(!1),documentId:r,documentName:A,isReminder:!!R,onSuccess:e=>{e&&e.sent_at&&F(e.sent_at)},getHtmlContent:async()=>{let e=E;if(E&&!E.startsWith("data:")){const t=await he(E);t&&(e=t)}return uf(O,T,A,M,e)},signatures:M}),e.jsxs("header",{className:"no-print h-14 md:h-16 bg-white/80 backdrop-blur-md border-b border-slate-200/60 px-4 md:px-6 flex items-center justify-between flex-shrink-0 z-30 shadow-sm relative transition-all duration-300",children:[e.jsxs("div",{className:"flex items-center gap-2 md:gap-4",children:[e.jsx("button",{onClick:()=>n("/documents"),className:"p-2 hover:bg-slate-100 rounded-full text-slate-500 transition-colors flex-shrink-0",children:e.jsx(I,{size:20})}),e.jsxs("div",{className:"min-w-0 relative",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("div",{className:"relative",children:[e.jsx("input",{ref:ue,type:"text",value:A,onChange:e=>{z(e.target.value),S&&C(null)},className:"font-bold text-sm md:text-lg bg-transparent border-b-2 focus:ring-0 p-0 m-0 w-auto min-w-[150px] max-w-[300px] placeholder-slate-400 truncate transition-colors "+(S?"border-red-500 text-slate-800 ring-4 ring-red-500/10 rounded-sm px-1 -mx-1":"border-transparent hover:border-slate-200 text-slate-800"),placeholder:"Enter Document Name"}),S&&e.jsxs("div",{className:"absolute top-full left-0 mt-2 w-64 bg-white rounded-lg shadow-xl border border-red-100 z-50 p-3",children:[e.jsxs("div",{className:"flex items-start gap-2 text-red-600 mb-2",children:[e.jsx(b,{size:16}),e.jsx("p",{className:"text-xs font-semibold",children:S})]}),_&&e.jsxs("div",{className:"bg-slate-50 rounded p-2",children:[e.jsx("p",{className:"text-[10px] text-slate-500 mb-1 uppercase font-bold",children:"Suggestion:"}),e.jsx("button",{onClick:()=>{z(_),C(null)},className:"text-sm font-bold text-indigo-600 hover:underline",children:_})]})]})]}),e.jsx("button",{onClick:()=>{const e=O.clientName?.trim(),t=O.consultantName?.trim();e&&t?(z(`Consulting Agreement - ${e} & ${t}`),C(null),P(null),$t.success("Generated smart name!")):$t.error("Enter Client and Consultant names first.")},className:"p-1.5 text-slate-400 hover:text-indigo-600 hover:bg-indigo-50 rounded-md transition-colors",children:e.jsx(Pe,{size:16})}),R&&e.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-0.5 rounded-full bg-emerald-50 text-emerald-600 text-[10px] font-medium border border-emerald-100",children:[e.jsx(we,{size:10})," Sent"]})]}),e.jsx("p",{className:"text-[10px] md:text-xs text-slate-400 font-medium whitespace-nowrap hidden sm:block mt-0.5",children:r?"Autosaved locally":"Draft"})]})]}),e.jsxs("div",{className:"flex items-center gap-2 md:gap-3",children:[e.jsxs("div",{className:"hidden lg:flex items-center bg-slate-100 rounded-lg p-1 mr-4",children:[e.jsx("button",{onClick:()=>c(e=>Math.max(e-.1,.5)),className:"p-1.5 hover:bg-white rounded-md text-slate-500",children:e.jsx(Ee,{size:16})}),e.jsxs("span",{className:"text-xs font-semibold text-slate-600 w-12 text-center",children:[Math.round(100*l),"%"]}),e.jsx("button",{onClick:()=>c(e=>Math.min(e+.1,1.5)),className:"p-1.5 hover:bg-white rounded-md text-slate-500",children:e.jsx(De,{size:16})})]}),e.jsxs("button",{onClick:()=>u(!0),className:"hidden lg:flex items-center gap-2 px-4 py-2 text-slate-600 text-sm font-medium hover:bg-slate-50 rounded-lg border border-transparent hover:border-slate-200 transition-all",children:[e.jsx($,{size:18}),e.jsx("span",{children:"History"})]}),e.jsxs("button",{onClick:async()=>{if(r){f(!0);try{let t=E;if(E&&!E.startsWith("data:")){const e=await he(E);e&&(t=e)}const n=renderToStaticMarkup(e.jsx(of,{data:O,content:T,zoom:1,printing:!0,styles:ne,signatures:M,businessLogo:t})),a=await Hm(r,n,A);a.url&&window.open(a.url,"_blank")}catch(t){$t.error("Failed to generate PDF. Please try again.")}finally{f(!1)}}else $t.error("Please save the document before printing.")},disabled:p,className:"hidden lg:flex items-center gap-2 px-4 py-2 text-slate-600 text-sm font-medium hover:bg-slate-50 rounded-lg border border-transparent hover:border-slate-200 transition-all disabled:opacity-50",children:[p?e.jsx(y,{size:18,className:"animate-spin"}):e.jsx(Oe,{size:18}),e.jsx("span",{children:"Print"})]}),e.jsxs("button",{onClick:()=>{r?j(!0):$t.error("Please save the document before sending.")},className:"hidden lg:flex items-center gap-2 px-4 py-2 text-sm font-medium rounded-lg border border-transparent transition-all "+(R?"text-amber-600 hover:bg-amber-50 hover:border-amber-200":"text-slate-600 hover:bg-slate-50 hover:border-slate-200"),children:[R?e.jsx(Z,{size:18}):e.jsx(v,{size:18}),e.jsx("span",{children:R?"Remind":"Send"})]}),e.jsxs("button",{onClick:async()=>{if(r){x(!0);try{let e=E;if(E&&!E.startsWith("data:")){const t=await he(E);t&&(e=t)}const t=uf(O,T,A,M,e),n=await Hm(r,t,A);if(n.url){const e=document.createElement("a");e.href=n.url,e.download=`${A.replace(/[^a-z0-9]/gi,"_").toLowerCase()}.pdf`,document.body.appendChild(e),e.click(),document.body.removeChild(e),$t.success("Document exported successfully")}}catch(e){$t.error("Failed to export document")}finally{x(!1)}}else $t.error("Please save the document before exporting.")},disabled:g,className:"hidden lg:flex items-center gap-2 px-4 py-2 text-slate-600 text-sm font-medium hover:bg-slate-50 rounded-lg border border-transparent hover:border-slate-200 transition-all disabled:opacity-50",children:[g?e.jsx(y,{size:18,className:"animate-spin"}):e.jsx(xe,{size:18}),e.jsx("span",{children:"Export"})]}),e.jsxs("button",{onClick:me,className:"hidden lg:flex items-center gap-2 px-5 py-2 rounded-lg text-white font-medium shadow-md transition-all "+(B?"bg-emerald-500":"bg-indigo-600 hover:bg-indigo-700"),children:[B?e.jsx(we,{size:18}):e.jsx(_e,{size:18}),e.jsx("span",{children:B?"Saved!":"Save"})]})]})]}),e.jsxs("div",{className:"flex flex-col lg:flex-row flex-1 overflow-hidden relative pb-[70px] lg:pb-0",children:[e.jsx("div",{className:"no-print w-full lg:w-[400px] h-full bg-white border-r border-slate-200 overflow-y-auto z-20 shadow-sm flex-shrink-0 lg:order-1 "+(a||"edit"===s?"block":"hidden"),children:e.jsx(sf,{formData:O,onChange:W,docContent:T,onContentChange:U,addSection:H,removeSection:V,updateSection:q,reorderSections:Y,styles:ne,onStyleUpdate:re,onStyleReset:ae})}),e.jsxs("div",{className:"flex-1 h-full overflow-y-auto bg-slate-50/50 p-4 md:p-8 sm:p-12 flex justify-center items-start scrollbar-thin scrollbar-thumb-slate-300 lg:order-2 "+(a||"preview"===s?"flex":"hidden"),style:{backgroundImage:"radial-gradient(#cbd5e1 1px, transparent 1px)",backgroundSize:"20px 20px"},children:[e.jsx(of,{data:le,content:ce,zoom:l,signatures:M,onRemoveSignature:X,onEditSignature:e=>{oe({isOpen:!0,data:{id:e.id,...e.metadata}})},businessLogo:E,styles:ne}),!a&&"preview"===s&&e.jsx("button",{onClick:()=>{oe({isOpen:!0,data:{id:null,position:{x:50,y:100},type:"all",required:!0,order:M.length+1}})},className:"fixed bottom-24 right-6 w-14 h-14 bg-indigo-600 text-white rounded-full shadow-lg flex items-center justify-center z-30",children:"+"})]})]}),e.jsx(jm,{documentId:r,isOpen:d,onClose:()=>u(!1),onPreview:e=>{J(e),k(e),u(!1),$t.success(`Previewing Version ${e.version_number}`)},onDownload:async e=>{const t=$t.loading("Preparing version PDF...");try{let n=e.content;if("string"==typeof n)try{n=JSON.parse(n)}catch(sB){}const a=n.formData||O,s=n.docContent||T;let i=E;if(E&&!E.startsWith("data:")){const e=await he(E);e&&(i=e)}const o=uf(a,s,`${A} - v${e.version_number}`,[],i),l=await Hm(r,o,`${A} - v${e.version_number}`);if(l.url){const n=document.createElement("a");n.href=l.url,n.download=`${A.replace(/[^a-z0-9]/gi,"_")}_v${e.version_number}.pdf`,document.body.appendChild(n),n.click(),document.body.removeChild(n),$t.success(`Version ${e.version_number} downloaded`,{id:t})}}catch(n){$t.error("Failed to download version PDF",{id:t})}},onRestore:e=>{te(e),k(null)}}),!a&&e.jsxs("div",{className:"fixed bottom-0 left-0 right-0 bg-white border-t border-slate-200 flex justify-between items-center px-6 py-3 pb-safe z-40 safe-area-bottom",children:[e.jsxs("button",{onClick:()=>i("edit"),className:"flex flex-col items-center gap-1 "+("edit"===s?"text-indigo-600":"text-slate-400"),children:[e.jsx(o,{size:24}),e.jsx("span",{className:"text-[10px]",children:"Editor"})]}),e.jsxs("button",{onClick:()=>i("preview"),className:"flex flex-col items-center gap-1 "+("preview"===s?"text-indigo-600":"text-slate-400"),children:[e.jsx(ge,{size:24}),e.jsx("span",{className:"text-[10px]",children:"Preview"})]}),e.jsxs("button",{onClick:me,className:"flex flex-col items-center gap-1 "+(B?"text-emerald-500":"text-slate-400"),children:[e.jsx(_e,{size:24}),e.jsx("span",{className:"text-[10px]",children:"Save"})]}),e.jsxs("button",{onClick:()=>m(!0),className:"flex flex-col items-center gap-1 "+(h?"text-indigo-600":"text-slate-400"),children:[e.jsx(Te,{size:24}),e.jsx("span",{className:"text-[10px]",children:"More"})]})]})]})})},pf=[{id:"nda",title:"Non-Disclosure Agreement",description:"Standard confidentiality agreement for business partnerships.",icon:$e,color:"bg-indigo-500",available:!0,route:"/documents/nda"},{id:"offer-letter",title:"Employment Offer Letter",description:"Formal job offer with compensation and benefits details.",icon:k,color:"bg-blue-500",available:!0,route:"/documents/offer-letter"},{id:"consulting-agreement",title:"Consulting Agreement",description:"Contract defining scope, services, and payment terms.",icon:We,color:"bg-violet-500",available:!0,route:"/documents/consulting-agreement"},{id:"proposal",title:"Business Proposal",description:"Comprehensive proposal with timeline, scope, and pricing.",icon:o,color:"bg-emerald-500",available:!0,route:"/documents/proposal"},{id:"invoice",title:"Service Invoice",description:"Professional invoice template with tax calculations.",icon:u,color:"bg-orange-500",available:!0,route:"/documents/invoice"}],ff=({isOpen:n,onClose:s})=>{const i=Et(),[o,c]=kt.useState("grid");return Mt.createPortal(e.jsx(r,{children:n&&e.jsxs(e.Fragment,{children:[e.jsx(a.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-slate-900/40 backdrop-blur-sm z-[9998]",onClick:s},"backdrop"),e.jsx(a.div,{initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},className:"fixed inset-0 m-auto max-w-4xl h-fit max-h-[90vh] z-[9999] p-4 pointer-events-none flex items-center justify-center",children:e.jsxs("div",{className:"bg-white/95 backdrop-blur-md w-full rounded-2xl shadow-2xl overflow-hidden border border-white/20 relative pointer-events-auto flex flex-col max-h-full",children:[e.jsxs("div",{className:"p-6 border-b border-slate-100 flex justify-between items-start bg-gradient-to-br from-slate-50 to-white/50",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-slate-900 tracking-tight",children:"Create New Document"}),e.jsx("p",{className:"text-sm text-slate-500 mt-1",children:"Select a premium template to get started with your document."})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"flex bg-slate-100 p-1 rounded-lg border border-slate-200",children:[e.jsx("button",{onClick:()=>c("grid"),className:"p-1.5 rounded-md transition-all "+("grid"===o?"bg-white shadow text-indigo-600":"text-slate-400 hover:text-slate-600"),title:"Grid View",children:e.jsx(Be,{size:18})}),e.jsx("button",{onClick:()=>c("list"),className:"p-1.5 rounded-md transition-all "+("list"===o?"bg-white shadow text-indigo-600":"text-slate-400 hover:text-slate-600"),title:"List View",children:e.jsx(Ae,{size:18})})]}),e.jsx("button",{onClick:s,className:"p-2 hover:bg-slate-100 rounded-full transition-colors text-slate-400 hover:text-slate-600",children:e.jsx(t,{size:24})})]})]}),e.jsx("div",{className:"p-6 overflow-y-auto "+("grid"===o?"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4":"flex flex-col gap-3"),children:pf.map(t=>e.jsxs("button",{onClick:()=>(e=>{e.available&&(i(e.route),s())})(t),disabled:!t.available,className:`group relative transition-all text-left outline-none focus:ring-2 ring-indigo-500/20 rounded-xl\n                                            ${"grid"===o?"p-6 border border-slate-200 hover:border-indigo-300 hover:shadow-lg hover:-translate-y-1 bg-white flex flex-col items-start gap-4":"p-4 border border-slate-200 hover:border-indigo-300 hover:bg-indigo-50/30 flex items-center gap-4 bg-white"}\n                                            ${!t.available&&"opacity-60 cursor-not-allowed grayscale"}\n                                        `,children:[e.jsx("div",{className:`\n                                            flex items-center justify-center text-white shadow-lg rounded-xl transition-transform group-hover:scale-110 duration-300\n                                            ${"grid"===o?"w-14 h-14 mb-2":"w-12 h-12"}\n                                            ${t.color}\n                                        `,children:e.jsx(t.icon,{size:"grid"===o?28:24})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("h3",{className:"font-bold text-slate-800 flex items-center gap-2 "+("grid"===o?"text-lg":"text-base"),children:[t.title,!t.available&&e.jsx("span",{className:"text-[10px] uppercase tracking-wider font-bold bg-slate-200 text-slate-500 px-2 py-0.5 rounded-full",children:"Soon"})]}),e.jsx("p",{className:"text-slate-500 leading-relaxed "+("grid"===o?"text-sm mt-2 line-clamp-3":"text-sm mt-0.5 line-clamp-1"),children:t.description})]}),t.available&&e.jsx("div",{className:`\n                                                text-slate-300 group-hover:text-indigo-500 transition-colors\n                                                ${"grid"===o?"absolute top-6 right-6 opacity-0 group-hover:opacity-100 -translate-x-2 group-hover:translate-x-0 transition-all duration-300":""}\n                                            `,children:e.jsx(l,{size:20})})]},t.id))}),e.jsxs("div",{className:"p-4 bg-slate-50 border-t border-slate-100 text-center text-xs text-slate-400 font-medium",children:["Can't find what you're looking for? ",e.jsx("button",{className:"text-indigo-600 hover:underline",children:"Request a template"})]})]})},"modal")]})}),document.body)},gf=({isOpen:n,onClose:r,history:a,loading:s})=>n?e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/20 backdrop-blur-sm",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-2xl max-h-[80vh] flex flex-col overflow-hidden",children:[e.jsxs("div",{className:"p-4 border-b border-slate-100 flex items-center justify-between bg-slate-50",children:[e.jsxs("h3",{className:"font-semibold text-slate-800 flex items-center gap-2",children:[e.jsx(v,{size:18,className:"text-slate-500"})," Share History"]}),e.jsx("button",{onClick:r,className:"p-1 hover:bg-slate-200 rounded text-slate-500 transition-colors",children:e.jsx(t,{size:20})})]}),e.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:s?e.jsx("div",{className:"text-center py-8 text-slate-500",children:"Loading history..."}):0===a.length?e.jsxs("div",{className:"text-center py-12 text-slate-400",children:[e.jsx(v,{size:48,className:"mx-auto mb-2 opacity-20"}),e.jsx("p",{children:"No share history found for this document."})]}):a.map(t=>e.jsxs("div",{className:"bg-white border border-slate-100 rounded-lg p-4 shadow-sm hover:shadow-md transition-shadow",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between gap-4 mb-3",children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-slate-100 flex items-center justify-center text-slate-500 flex-shrink-0",children:e.jsx(j,{size:20})}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-slate-900",children:t.recipient_email}),e.jsxs("div",{className:"text-xs text-slate-500 flex items-center gap-2 mt-1",children:[e.jsx(F,{size:12}),new Date(t.sent_at).toLocaleString()]})]})]}),e.jsxs("div",{className:"text-xs text-slate-400 bg-slate-50 px-2 py-1 rounded h-fit whitespace-nowrap",children:["Sent by: ",t.sender?.name||"System"]})]}),t.message&&e.jsxs("div",{className:"bg-slate-50 rounded-md p-3 text-sm text-slate-600 mt-2 flex gap-2",children:[e.jsx(Ue,{size:16,className:"text-slate-400 flex-shrink-0 mt-0.5"}),e.jsxs("p",{className:"italic",children:['"',t.message,'"']})]})]},t.id))})]})}):null,xf=({title:t,subtitle:n,children:r})=>e.jsxs("div",{className:"flex flex-col md:flex-row md:items-start justify-between gap-4 mb-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-slate-900 tracking-tight",children:t}),n&&e.jsx("p",{className:"text-slate-500 mt-1 text-sm",children:n})]}),e.jsx("div",{className:"flex items-center gap-3",children:r})]}),bf=({children:t,className:n=""})=>e.jsx("div",{className:`max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 ${n}`,children:e.jsx(a.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.3,ease:"easeOut"},children:t})}),vf=({viewMode:t})=>"list"===t?e.jsxs("div",{className:"flex items-center gap-6 py-4 px-6 border-b border-slate-100 last:border-0 animate-pulse",children:[e.jsx("div",{className:"w-5 h-5 bg-slate-100 rounded"}),e.jsx("div",{className:"w-10 h-10 bg-slate-100 rounded-lg"}),e.jsxs("div",{className:"flex-1 grid grid-cols-1 md:grid-cols-4 gap-4 w-full",children:[e.jsx("div",{className:"h-4 bg-slate-100 rounded w-3/4"}),e.jsx("div",{className:"hidden md:block h-4 bg-slate-100 rounded w-1/2"}),e.jsx("div",{className:"hidden md:block h-4 bg-slate-100 rounded w-1/3"}),e.jsx("div",{className:"hidden md:block h-4 bg-slate-100 rounded w-1/2"})]}),e.jsx("div",{className:"w-8 h-8 bg-slate-100 rounded ml-auto"})]}):e.jsxs("div",{className:"bg-white border border-slate-200 rounded-xl p-5 animate-pulse flex flex-col h-[280px]",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsx("div",{className:"w-10 h-10 bg-slate-100 rounded-lg"}),e.jsx("div",{className:"w-16 h-6 bg-slate-100 rounded-full"})]}),e.jsxs("div",{className:"space-y-3 flex-1",children:[e.jsx("div",{className:"h-5 bg-slate-100 rounded w-3/4"}),e.jsx("div",{className:"h-4 bg-slate-50 rounded w-1/2"})]}),e.jsxs("div",{className:"mt-auto pt-4 border-t border-slate-50 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-6 h-6 rounded-full bg-slate-100"}),e.jsx("div",{className:"w-20 h-3 bg-slate-100 rounded"})]}),e.jsx("div",{className:"w-16 h-3 bg-slate-100 rounded"})]})]}),yf=6048e5,wf=43200,jf=Symbol.for("constructDateFrom");function Nf(e,t){return"function"==typeof e?e(t):e&&"object"==typeof e&&jf in e?e[jf](t):e instanceof Date?new e.constructor(t):new Date(t)}function kf(e,t){return Nf(t||e,e)}let Sf={};function Cf(){return Sf}function _f(e,t){const n=Cf(),r=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,a=kf(e,t?.in),s=a.getDay(),i=(s<r?7:0)+s-r;return a.setDate(a.getDate()-i),a.setHours(0,0,0,0),a}function Pf(e,t){return _f(e,{...t,weekStartsOn:1})}function Ef(e,t){const n=kf(e,t?.in),r=n.getFullYear(),a=Nf(n,0);a.setFullYear(r+1,0,4),a.setHours(0,0,0,0);const s=Pf(a),i=Nf(n,0);i.setFullYear(r,0,4),i.setHours(0,0,0,0);const o=Pf(i);return n.getTime()>=s.getTime()?r+1:n.getTime()>=o.getTime()?r:r-1}function Df(e){const t=kf(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}function Of(e,...t){const n=Nf.bind(null,e||t.find(e=>"object"==typeof e));return t.map(n)}function Tf(e,t){const n=kf(e,t?.in);return n.setHours(0,0,0,0),n}function Mf(e,t){const n=+kf(e)-+kf(t);return n<0?-1:n>0?1:n}function Af(e){return!(!((t=e)instanceof Date||"object"==typeof t&&"[object Date]"===Object.prototype.toString.call(t))&&"number"!=typeof e||isNaN(+kf(e)));var t}function zf(e,t){const n=kf(e,t?.in);return+function(e,t){const n=kf(e,t?.in);return n.setHours(23,59,59,999),n}(n,t)===+function(e,t){const n=kf(e,t?.in),r=n.getMonth();return n.setFullYear(n.getFullYear(),r+1,0),n.setHours(23,59,59,999),n}(n,t)}function Rf(e,t,n){const[r,a,s]=Of(n?.in,e,e,t),i=Mf(a,s),o=Math.abs(function(e,t,n){const[r,a]=Of(n?.in,e,t);return 12*(r.getFullYear()-a.getFullYear())+(r.getMonth()-a.getMonth())}(a,s));if(o<1)return 0;1===a.getMonth()&&a.getDate()>27&&a.setDate(30),a.setMonth(a.getMonth()-i*o);let l=Mf(a,s)===-i;zf(r)&&1===o&&1===Mf(r,s)&&(l=!1);const c=i*(o-+l);return 0===c?0:c}function If(e,t,n){const r=function(e,t){return+kf(e)-+kf(t)}(e,t)/1e3;return(a=n?.roundingMethod,e=>{const t=(a?Math[a]:Math.trunc)(e);return 0===t?0:t})(r);var a}const Ff={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};function Lf(e){return(t={})=>{const n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const Bf={date:Lf({formats:{full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},defaultWidth:"full"}),time:Lf({formats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},defaultWidth:"full"}),dateTime:Lf({formats:{full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})},$f={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"};function Wf(e){return(t,n)=>{let r;if("formatting"===(n?.context?String(n.context):"standalone")&&e.formattingValues){const t=e.defaultFormattingWidth||e.defaultWidth,a=n?.width?String(n.width):t;r=e.formattingValues[a]||e.formattingValues[t]}else{const t=e.defaultWidth,a=n?.width?String(n.width):e.defaultWidth;r=e.values[a]||e.values[t]}return r[e.argumentCallback?e.argumentCallback(t):t]}}function Uf(e){return(t,n={})=>{const r=n.width,a=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],s=t.match(a);if(!s)return null;const i=s[0],o=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],l=Array.isArray(o)?function(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n;return}(o,e=>e.test(i)):function(e,t){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n;return}(o,e=>e.test(i));let c;c=e.valueCallback?e.valueCallback(l):l,c=n.valueCallback?n.valueCallback(c):c;return{value:c,rest:t.slice(i.length)}}}var Hf;const Vf={code:"en-US",formatDistance:(e,t,n)=>{let r;const a=Ff[e];return r="string"==typeof a?a:1===t?a.one:a.other.replace("{{count}}",t.toString()),n?.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r},formatLong:Bf,formatRelative:(e,t,n,r)=>$f[e],localize:{ordinalNumber:(e,t)=>{const n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},era:Wf({values:{narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},defaultWidth:"wide"}),quarter:Wf({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},defaultWidth:"wide",argumentCallback:e=>e-1}),month:Wf({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},defaultWidth:"wide"}),day:Wf({values:{narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},defaultWidth:"wide"}),dayPeriod:Wf({values:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},defaultFormattingWidth:"wide"})},match:{ordinalNumber:(Hf={matchPattern:/^(\d+)(th|st|nd|rd)?/i,parsePattern:/\d+/i,valueCallback:e=>parseInt(e,10)},(e,t={})=>{const n=e.match(Hf.matchPattern);if(!n)return null;const r=n[0],a=e.match(Hf.parsePattern);if(!a)return null;let s=Hf.valueCallback?Hf.valueCallback(a[0]):a[0];return s=t.valueCallback?t.valueCallback(s):s,{value:s,rest:e.slice(r.length)}}),era:Uf({matchPatterns:{narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^b/i,/^(a|c)/i]},defaultParseWidth:"any"}),quarter:Uf({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:e=>e+1}),month:Uf({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:Uf({matchPatterns:{narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:Uf({matchPatterns:{narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},defaultParseWidth:"any"})},options:{weekStartsOn:0,firstWeekContainsDate:1}};function qf(e,t){const n=kf(e,t?.in),r=function(e,t,n){const[r,a]=Of(n?.in,e,t),s=Tf(r),i=Tf(a),o=+s-Df(s),l=+i-Df(i);return Math.round((o-l)/864e5)}(n,function(e,t){const n=kf(e,t?.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}(n));return r+1}function Yf(e,t){const n=kf(e,t?.in),r=+Pf(n)-+function(e,t){const n=Ef(e,t),r=Nf(e,0);return r.setFullYear(n,0,4),r.setHours(0,0,0,0),Pf(r)}(n);return Math.round(r/yf)+1}function Gf(e,t){const n=kf(e,t?.in),r=n.getFullYear(),a=Cf(),s=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??a.firstWeekContainsDate??a.locale?.options?.firstWeekContainsDate??1,i=Nf(t?.in||e,0);i.setFullYear(r+1,0,s),i.setHours(0,0,0,0);const o=_f(i,t),l=Nf(t?.in||e,0);l.setFullYear(r,0,s),l.setHours(0,0,0,0);const c=_f(l,t);return+n>=+o?r+1:+n>=+c?r:r-1}function Kf(e,t){const n=kf(e,t?.in),r=+_f(n,t)-+function(e,t){const n=Cf(),r=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,a=Gf(e,t),s=Nf(t?.in||e,0);return s.setFullYear(a,0,r),s.setHours(0,0,0,0),_f(s,t)}(n,t);return Math.round(r/yf)+1}function Xf(e,t){return(e<0?"-":"")+Math.abs(e).toString().padStart(t,"0")}const Qf={y(e,t){const n=e.getFullYear(),r=n>0?n:1-n;return Xf("yy"===t?r%100:r,t.length)},M(e,t){const n=e.getMonth();return"M"===t?String(n+1):Xf(n+1,2)},d:(e,t)=>Xf(e.getDate(),t.length),a(e,t){const n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];default:return"am"===n?"a.m.":"p.m."}},h:(e,t)=>Xf(e.getHours()%12||12,t.length),H:(e,t)=>Xf(e.getHours(),t.length),m:(e,t)=>Xf(e.getMinutes(),t.length),s:(e,t)=>Xf(e.getSeconds(),t.length),S(e,t){const n=t.length,r=e.getMilliseconds();return Xf(Math.trunc(r*Math.pow(10,n-3)),t.length)}},Jf="midnight",Zf="noon",eg="morning",tg="afternoon",ng="evening",rg="night",ag={G:function(e,t,n){const r=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});default:return n.era(r,{width:"wide"})}},y:function(e,t,n){if("yo"===t){const t=e.getFullYear(),r=t>0?t:1-t;return n.ordinalNumber(r,{unit:"year"})}return Qf.y(e,t)},Y:function(e,t,n,r){const a=Gf(e,r),s=a>0?a:1-a;if("YY"===t){return Xf(s%100,2)}return"Yo"===t?n.ordinalNumber(s,{unit:"year"}):Xf(s,t.length)},R:function(e,t){return Xf(Ef(e),t.length)},u:function(e,t){return Xf(e.getFullYear(),t.length)},Q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(r);case"QQ":return Xf(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(r);case"qq":return Xf(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,t,n){const r=e.getMonth();switch(t){case"M":case"MM":return Qf.M(e,t);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(e,t,n){const r=e.getMonth();switch(t){case"L":return String(r+1);case"LL":return Xf(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(e,t,n,r){const a=Kf(e,r);return"wo"===t?n.ordinalNumber(a,{unit:"week"}):Xf(a,t.length)},I:function(e,t,n){const r=Yf(e);return"Io"===t?n.ordinalNumber(r,{unit:"week"}):Xf(r,t.length)},d:function(e,t,n){return"do"===t?n.ordinalNumber(e.getDate(),{unit:"date"}):Qf.d(e,t)},D:function(e,t,n){const r=qf(e);return"Do"===t?n.ordinalNumber(r,{unit:"dayOfYear"}):Xf(r,t.length)},E:function(e,t,n){const r=e.getDay();switch(t){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(e,t,n,r){const a=e.getDay(),s=(a-r.weekStartsOn+8)%7||7;switch(t){case"e":return String(s);case"ee":return Xf(s,2);case"eo":return n.ordinalNumber(s,{unit:"day"});case"eee":return n.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(a,{width:"short",context:"formatting"});default:return n.day(a,{width:"wide",context:"formatting"})}},c:function(e,t,n,r){const a=e.getDay(),s=(a-r.weekStartsOn+8)%7||7;switch(t){case"c":return String(s);case"cc":return Xf(s,t.length);case"co":return n.ordinalNumber(s,{unit:"day"});case"ccc":return n.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(a,{width:"narrow",context:"standalone"});case"cccccc":return n.day(a,{width:"short",context:"standalone"});default:return n.day(a,{width:"wide",context:"standalone"})}},i:function(e,t,n){const r=e.getDay(),a=0===r?7:r;switch(t){case"i":return String(a);case"ii":return Xf(a,t.length);case"io":return n.ordinalNumber(a,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(e,t,n){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(r,{width:"narrow",context:"formatting"});default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},b:function(e,t,n){const r=e.getHours();let a;switch(a=12===r?Zf:0===r?Jf:r/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(a,{width:"narrow",context:"formatting"});default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(e,t,n){const r=e.getHours();let a;switch(a=r>=17?ng:r>=12?tg:r>=4?eg:rg,t){case"B":case"BB":case"BBB":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(a,{width:"narrow",context:"formatting"});default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(e,t,n){if("ho"===t){let t=e.getHours()%12;return 0===t&&(t=12),n.ordinalNumber(t,{unit:"hour"})}return Qf.h(e,t)},H:function(e,t,n){return"Ho"===t?n.ordinalNumber(e.getHours(),{unit:"hour"}):Qf.H(e,t)},K:function(e,t,n){const r=e.getHours()%12;return"Ko"===t?n.ordinalNumber(r,{unit:"hour"}):Xf(r,t.length)},k:function(e,t,n){let r=e.getHours();return 0===r&&(r=24),"ko"===t?n.ordinalNumber(r,{unit:"hour"}):Xf(r,t.length)},m:function(e,t,n){return"mo"===t?n.ordinalNumber(e.getMinutes(),{unit:"minute"}):Qf.m(e,t)},s:function(e,t,n){return"so"===t?n.ordinalNumber(e.getSeconds(),{unit:"second"}):Qf.s(e,t)},S:function(e,t){return Qf.S(e,t)},X:function(e,t,n){const r=e.getTimezoneOffset();if(0===r)return"Z";switch(t){case"X":return ig(r);case"XXXX":case"XX":return og(r);default:return og(r,":")}},x:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"x":return ig(r);case"xxxx":case"xx":return og(r);default:return og(r,":")}},O:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+sg(r,":");default:return"GMT"+og(r,":")}},z:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+sg(r,":");default:return"GMT"+og(r,":")}},t:function(e,t,n){return Xf(Math.trunc(+e/1e3),t.length)},T:function(e,t,n){return Xf(+e,t.length)}};function sg(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),a=Math.trunc(r/60),s=r%60;return 0===s?n+String(a):n+String(a)+t+Xf(s,2)}function ig(e,t){if(e%60==0){return(e>0?"-":"+")+Xf(Math.abs(e)/60,2)}return og(e,t)}function og(e,t=""){const n=e>0?"-":"+",r=Math.abs(e);return n+Xf(Math.trunc(r/60),2)+t+Xf(r%60,2)}const lg=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});default:return t.date({width:"full"})}},cg=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});default:return t.time({width:"full"})}},dg={p:cg,P:(e,t)=>{const n=e.match(/(P+)(p+)?/)||[],r=n[1],a=n[2];if(!a)return lg(e,t);let s;switch(r){case"P":s=t.dateTime({width:"short"});break;case"PP":s=t.dateTime({width:"medium"});break;case"PPP":s=t.dateTime({width:"long"});break;default:s=t.dateTime({width:"full"})}return s.replace("{{date}}",lg(r,t)).replace("{{time}}",cg(a,t))}},ug=/^D+$/,hg=/^Y+$/,mg=["D","DD","YY","YYYY"];const pg=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,fg=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,gg=/^'([^]*?)'?$/,xg=/''/g,bg=/[a-zA-Z]/;function vg(e,t,n){const r=Cf(),a=r.locale??Vf,s=r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,i=r.weekStartsOn??r.locale?.options?.weekStartsOn??0,o=kf(e,n?.in);if(!Af(o))throw new RangeError("Invalid time value");let l=t.match(fg).map(e=>{const t=e[0];if("p"===t||"P"===t){return(0,dg[t])(e,a.formatLong)}return e}).join("").match(pg).map(e=>{if("''"===e)return{isToken:!1,value:"'"};const t=e[0];if("'"===t)return{isToken:!1,value:yg(e)};if(ag[t])return{isToken:!0,value:e};if(t.match(bg))throw new RangeError("Format string contains an unescaped latin alphabet character `"+t+"`");return{isToken:!1,value:e}});a.localize.preprocessor&&(l=a.localize.preprocessor(o,l));const c={firstWeekContainsDate:s,weekStartsOn:i,locale:a};return l.map(n=>{if(!n.isToken)return n.value;const r=n.value;(function(e){return hg.test(e)}(r)||function(e){return ug.test(e)}(r))&&function(e,t,n){const r=function(e,t,n){const r="Y"===e[0]?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}(e,t,n);if(mg.includes(e))throw new RangeError(r)}(r,t,String(e));return(0,ag[r[0]])(o,r,a.localize,c)}).join("")}function yg(e){const t=e.match(gg);return t?t[1].replace(xg,"'"):e}function wg(e,t){return function(e,t,n){const r=Cf(),a=n?.locale??r.locale??Vf,s=Mf(e,t);if(isNaN(s))throw new RangeError("Invalid time value");const i=Object.assign({},n,{addSuffix:n?.addSuffix,comparison:s}),[o,l]=Of(n?.in,...s>0?[t,e]:[e,t]),c=If(l,o),d=(Df(l)-Df(o))/1e3,u=Math.round((c-d)/60);let h;if(u<2)return n?.includeSeconds?c<5?a.formatDistance("lessThanXSeconds",5,i):c<10?a.formatDistance("lessThanXSeconds",10,i):c<20?a.formatDistance("lessThanXSeconds",20,i):c<40?a.formatDistance("halfAMinute",0,i):c<60?a.formatDistance("lessThanXMinutes",1,i):a.formatDistance("xMinutes",1,i):0===u?a.formatDistance("lessThanXMinutes",1,i):a.formatDistance("xMinutes",u,i);if(u<45)return a.formatDistance("xMinutes",u,i);if(u<90)return a.formatDistance("aboutXHours",1,i);if(u<1440){const e=Math.round(u/60);return a.formatDistance("aboutXHours",e,i)}if(u<2520)return a.formatDistance("xDays",1,i);if(u<wf){const e=Math.round(u/1440);return a.formatDistance("xDays",e,i)}if(u<86400)return h=Math.round(u/wf),a.formatDistance("aboutXMonths",h,i);if(h=Rf(l,o),h<12){const e=Math.round(u/wf);return a.formatDistance("xMonths",e,i)}{const e=h%12,t=Math.trunc(h/12);return e<3?a.formatDistance("aboutXYears",t,i):e<9?a.formatDistance("overXYears",t,i):a.formatDistance("almostXYears",t+1,i)}}(e,function(e){return Nf(e,Date.now())}(e),t)}const jg=kt.memo(({doc:t,getStatusStyle:n,variants:r,onViewHistory:s,handleView:i})=>e.jsxs(a.div,{variants:r,className:"group relative bg-white rounded-xl border border-slate-200 p-5 cursor-pointer hover:shadow-lg hover:border-indigo-200 transition-all duration-200 flex flex-col justify-between h-full",onClick:()=>i(t),children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between items-start mb-4",children:[e.jsx("div",{className:"p-2.5 rounded-lg transition-colors "+(t.signers_count>0?"bg-purple-50 text-purple-600 group-hover:bg-purple-100":"bg-indigo-50 text-indigo-600 group-hover:bg-indigo-100"),children:t.signers_count>0?e.jsx(P,{size:20}):e.jsx(o,{size:20})}),e.jsxs("div",{className:"flex gap-2 items-center",children:[e.jsx("button",{onClick:e=>s(e,t.id),className:"p-1.5 rounded-md text-slate-400 hover:text-indigo-600 hover:bg-indigo-50 transition-colors",title:"View Share History",children:e.jsx(v,{size:14})}),e.jsx("span",{className:`px-2.5 py-1 rounded-md text-[10px] font-bold uppercase tracking-wider border ${n(t.status)}`,children:t.status})]})]}),e.jsx("h3",{className:"font-semibold text-slate-800 mb-1.5 group-hover:text-indigo-600 transition-colors line-clamp-1 text-base",children:t.title||t.name}),e.jsx("p",{className:"text-xs font-medium text-slate-500 mb-4 uppercase tracking-wider",children:t.type?.name||t.type})]}),e.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-slate-100 mt-auto",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[t.creator?.avatar_url?e.jsx("img",{src:t.creator.avatar_url,alt:t.creator.name,className:"w-6 h-6 rounded-full object-cover border border-slate-200"}):e.jsx("div",{className:"w-6 h-6 rounded-full bg-slate-100 flex items-center justify-center text-[10px] font-bold text-slate-600 border border-slate-200",children:t.creator?.name?t.creator.name.substring(0,2).toUpperCase():"NA"}),e.jsx("span",{className:"text-xs font-medium text-slate-600 truncate max-w-[100px]",title:t.creator?.name,children:t.creator?.name||"Unknown"})]}),e.jsxs("span",{className:"text-[11px] font-medium text-slate-400 flex items-center gap-1",children:[e.jsx($,{size:12})," ",wg(new Date(t.updated_at),{addSuffix:!0})]})]})]})),Ng=kt.memo(({doc:t,getStatusStyle:n,variants:s,isSelected:i,toggleSelect:l,onViewHistory:c,activeMenuId:d,setActiveMenuId:u,handleView:h,handleDelete:m,handleRestore:p,viewMode:f})=>e.jsxs(a.div,{variants:s,className:"relative group bg-white hover:bg-slate-50 transition-colors border-b border-slate-100 last:border-b-0 "+(i?"bg-indigo-50/50":""),onClick:()=>h(t),children:[e.jsx("div",{className:"md:hidden p-4 flex flex-col gap-3",children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{onClick:e=>{e.stopPropagation(),l(t.id)},children:i?e.jsx(fe,{size:20,className:"text-indigo-600"}):e.jsx(He,{size:20,className:"text-slate-300"})}),e.jsx("div",{className:"p-2 rounded-lg "+(t.signers_count>0?"bg-purple-100 text-purple-600":"bg-indigo-100 text-indigo-600"),children:t.signers_count>0?e.jsx(P,{size:16}):e.jsx(o,{size:16})}),e.jsxs("div",{children:[e.jsx("span",{className:"font-semibold text-sm text-slate-900 line-clamp-1",children:t.title||t.name}),e.jsxs("div",{className:"flex items-center gap-2 mt-0.5",children:[e.jsx("span",{className:"text-xs text-slate-500 capitalize",children:t.type?.name||t.type}),e.jsx("span",{className:"text-[10px] text-slate-400",children:""}),e.jsxs("span",{className:"text-xs text-slate-500",children:[wg(new Date(t.updated_at))," ago"]})]})]})]}),e.jsx("button",{onClick:e=>{e.stopPropagation(),u(d===t.id?null:t.id)},className:"p-1 text-slate-400 hover:text-slate-600 relative z-10",children:e.jsx(Ve,{size:20})})]})}),e.jsxs("div",{className:"hidden md:grid px-6 py-4 grid-cols-[auto_3fr_1fr_1fr_1fr_1fr_auto] gap-6 items-center",children:[e.jsx("div",{onClick:e=>{e.stopPropagation(),l(t.id)},className:"cursor-pointer",children:i?e.jsx(fe,{size:18,className:"text-indigo-600"}):e.jsx(He,{size:18,className:"text-slate-300 group-hover:text-slate-400"})}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"p-2 rounded-lg transition-colors "+(t.signers_count>0?"bg-purple-50 text-purple-600":"bg-slate-100 text-slate-500 group-hover:bg-indigo-50 group-hover:text-indigo-600"),children:t.signers_count>0?e.jsx(P,{size:18}):e.jsx(o,{size:18})}),e.jsxs("div",{children:[e.jsx("span",{className:"font-semibold text-sm text-slate-700 block group-hover:text-indigo-600 transition-colors",children:t.title||t.name}),t.signers_count>0&&e.jsx("span",{className:"text-[10px] bg-purple-100 text-purple-700 px-1.5 py-0.5 rounded font-medium mt-1 inline-block",children:"Signature Required"})]})]}),e.jsx("div",{className:"text-sm text-slate-500 font-medium capitalize",children:t.type?.name||t.type}),e.jsx("div",{children:e.jsx("span",{className:`px-2.5 py-1 rounded-full text-[11px] font-bold border ${n(t.status)}`,children:t.status})}),e.jsxs("div",{className:"text-xs text-slate-500 flex items-center gap-1.5",children:[e.jsx($,{size:13,className:"text-slate-400"}),wg(new Date(t.updated_at),{addSuffix:!0})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[t.creator?.avatar_url?e.jsx("img",{src:t.creator.avatar_url,alt:t.creator.name,className:"w-6 h-6 rounded-full object-cover border border-slate-200"}):e.jsx("div",{className:"w-6 h-6 rounded-full bg-slate-100 flex items-center justify-center text-[10px] font-bold text-slate-600 border border-slate-200",children:t.creator?.name?t.creator.name.substring(0,2).toUpperCase():"NA"}),e.jsx("span",{className:"text-xs font-medium text-slate-600 truncate max-w-[80px]",children:t.creator?.name||"Unknown"})]}),e.jsxs("div",{className:"flex justify-end gap-1 relative",children:[e.jsx("button",{onClick:e=>c(e,t.id),className:"p-1.5 rounded-lg text-slate-400 hover:text-indigo-600 hover:bg-slate-100 transition-colors",title:"View History",children:e.jsx(v,{size:16})}),e.jsx("button",{onClick:e=>{e.stopPropagation(),u(d===t.id?null:t.id)},className:"p-1.5 rounded-lg text-slate-400 hover:text-indigo-600 hover:bg-slate-100 transition-colors",children:e.jsx(Ve,{size:16})})]})]}),e.jsx(r,{children:d===t.id&&e.jsx(a.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},transition:{duration:.1},className:"absolute right-4 md:right-8 top-12 md:top-10 w-48 bg-white border border-slate-100 rounded-xl shadow-xl z-50 p-1.5 flex flex-col gap-0.5 origin-top-right",onClick:e=>e.stopPropagation(),children:"active"===f?e.jsxs(e.Fragment,{children:[e.jsxs("button",{onClick:()=>{h(t),u(null)},className:"w-full text-left flex items-center gap-2.5 px-3 py-2 text-sm font-medium text-slate-600 hover:bg-slate-50 hover:text-indigo-600 rounded-lg transition-colors",children:[e.jsx(ge,{size:16})," View/Edit"]}),e.jsxs("button",{onClick:()=>{m(t.id),u(null)},className:"w-full text-left flex items-center gap-2.5 px-3 py-2 text-sm font-medium text-red-600 hover:bg-red-50 rounded-lg transition-colors",children:[e.jsx(te,{size:16})," Delete"]})]}):e.jsxs("button",{onClick:()=>{p(t.id),u(null)},className:"w-full text-left flex items-center gap-2.5 px-3 py-2 text-sm font-medium text-emerald-600 hover:bg-emerald-50 rounded-lg transition-colors",children:[e.jsx(le,{size:16})," Restore"]})})})]})),kg={hidden:{opacity:0},show:{opacity:1,transition:{staggerChildren:.05}}},Sg={hidden:{opacity:0,y:5},show:{opacity:1,y:0}},Cg=()=>{const n=Et(),{can:s}=gd(),[i,l]=kt.useState(!1),[c,d]=kt.useState(()=>localStorage.getItem("documentViewMode")||"list"),[u,h]=kt.useState(!0),[m,p]=kt.useState([]),[g,x]=kt.useState(!1),[b,v]=kt.useState([]),[y,w]=kt.useState({current_page:1,last_page:1,per_page:10,total:0,from:0,to:0}),[N,k]=kt.useState(null),[S,C]=kt.useState(null),[_,P]=kt.useState(null),[E,D]=kt.useState({search:"",status:"all",type:"all",category:"all"}),[O,A]=kt.useState(!1),[z,R]=kt.useState([]),[I,F]=kt.useState(!1),L=St.useMemo(()=>({canEdit:s("document.edit"),canDelete:s("document.delete"),canCreate:s("document.create")}),[s]),B=kt.useCallback(e=>{d(e),localStorage.setItem("documentViewMode",e)},[]),W=kt.useCallback(async(e=1)=>{try{h(!0);const t={page:e,per_page:y.per_page,search:E.search,status:E.status,type:E.type,category:E.category,view_mode:g?"trash":"active"},n=await sr.get("/documents",{params:t});p(n.data.data||[]),n.data.meta&&w(e=>({...e,current_page:n.data.meta.current_page,last_page:n.data.meta.last_page,total:n.data.meta.total,from:n.data.meta.from,to:n.data.meta.to}))}catch(t){p([])}finally{h(!1)}},[E,g,y.per_page]);kt.useEffect(()=>{const e=setTimeout(()=>{W(1)},300);return()=>clearTimeout(e)},[W]),kt.useEffect(()=>{const e=()=>k(null);return document.addEventListener("click",e),()=>document.removeEventListener("click",e)},[]);const U=kt.useCallback((e,t)=>{D(n=>({...n,[e]:t}))},[]),H=kt.useCallback(e=>{switch(e){case"draft":default:return"bg-slate-100 text-slate-700 border-slate-200";case"sent":return"bg-blue-50 text-blue-700 border-blue-200";case"signed":return"bg-emerald-50 text-emerald-700 border-emerald-200";case"completed":return"bg-emerald-100 text-emerald-700 border-emerald-200"}},[]),V=kt.useCallback(async(e,t)=>{e.stopPropagation(),A(!0),F(!0);try{const e=await wm(t);R(e.data||[])}catch(n){$t.error("Could not load history")}finally{F(!1)}},[]),q=kt.useCallback(async(e,t="preview")=>{try{const n=await sr.get(`/documents/${e}`);P(n.data.data),C(t)}catch(n){$t.error("Failed to load document details")}},[]),Y=kt.useCallback(e=>{if(e.signers_count>0||"general"===e.type?.slug&&e.signers_count>0)q(e.id);else{const t=e.type?.slug||"general";n(`/documents/${t}/${e.id}`)}},[q,n]),G=kt.useCallback(async e=>{if(window.confirm("Are you sure you want to move this document to trash?"))try{await sr.delete(`/documents/${e}`),$t.success("Document moved to trash",{id:"doc-delete"}),W(y.current_page)}catch(t){$t.error("Failed to delete document",{id:"doc-delete-error"})}},[W,y.current_page]),K=kt.useCallback(async e=>{try{await sr.post(`/documents/${e}/restore`),$t.success("Document restored",{id:"doc-restore"}),W(y.current_page)}catch(t){$t.error("Failed to restore document",{id:"doc-restore-error"})}},[W,y.current_page]),X=kt.useCallback(e=>{v(t=>t.includes(e)?t.filter(t=>t!==e):[...t,e])},[]),J=kt.useCallback(()=>{b.length===m.length&&m.length>0?v([]):v(m.map(e=>e.id))},[b.length,m]);return e.jsxs(bf,{children:[e.jsx(xf,{title:"Documents",subtitle:"Manage, organize, and track your legal documents.",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("button",{onClick:()=>{x(e=>!e),w(e=>({...e,current_page:1})),v([])},className:"flex items-center gap-2 px-4 py-2 rounded-lg text-sm font-medium transition-all "+(g?"bg-red-50 text-red-700 border border-red-200":"bg-white text-slate-600 border border-slate-200 hover:bg-slate-50"),children:[g?e.jsx(le,{size:16}):e.jsx(te,{size:16}),g?"Back to All":"Trash"]}),L.canCreate&&!g&&e.jsxs("button",{onClick:()=>l(!0),className:"px-4 py-2 bg-slate-900 text-white rounded-lg font-semibold flex items-center gap-2 hover:bg-slate-800 transition-all shadow-lg shadow-slate-900/20 text-sm",children:[e.jsx(ne,{size:18,strokeWidth:2.5}),e.jsx("span",{children:"New Document"})]})]})}),e.jsxs("div",{className:"bg-white p-4 rounded-xl border border-slate-200 shadow-sm flex flex-col xl:flex-row gap-4 justify-between items-center mb-6",children:[e.jsxs("div",{className:"relative flex-1 w-full xl:max-w-lg group",children:[e.jsx(Q,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400 group-focus-within:text-slate-600 transition-colors",size:18}),e.jsx("input",{type:"text",value:E.search,onChange:e=>U("search",e.target.value),placeholder:"Search documents...",className:"w-full pl-10 pr-4 py-2 bg-slate-50 border-transparent rounded-lg text-sm focus:bg-white focus:ring-2 focus:ring-slate-100 focus:border-slate-300 transition-all placeholder-slate-400 text-slate-900 outline-none"})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 w-full xl:w-auto items-center",children:[e.jsxs("div",{className:"flex items-center gap-2 w-full sm:w-auto",children:[e.jsx(qe,{size:16,className:"text-slate-400"}),e.jsxs("select",{value:E.type,onChange:e=>U("type",e.target.value),className:"px-3 py-2 bg-slate-50 border-transparent hover:bg-slate-100 rounded-lg text-sm text-slate-600 font-medium outline-none focus:ring-2 focus:ring-slate-100 cursor-pointer transition-colors w-full sm:w-auto",children:[e.jsx("option",{value:"all",children:"All Types"}),e.jsx("option",{value:"nda",children:"NDA"}),e.jsx("option",{value:"proposal",children:"Proposal"}),e.jsx("option",{value:"invoice",children:"Invoice"})]})]}),e.jsx("div",{className:"w-px h-6 bg-slate-200 hidden sm:block"}),e.jsxs("select",{value:E.category,onChange:e=>U("category",e.target.value),className:"px-3 py-2 bg-slate-50 border-transparent hover:bg-slate-100 rounded-lg text-sm text-slate-600 font-medium outline-none focus:ring-2 focus:ring-slate-100 cursor-pointer transition-colors w-full sm:w-auto",children:[e.jsx("option",{value:"all",children:"All Categories"}),e.jsx("option",{value:"generated",children:"Generated Docs"}),e.jsx("option",{value:"signature",children:"Signature Requests"})]}),e.jsx("div",{className:"w-px h-6 bg-slate-200 hidden sm:block"}),e.jsxs("select",{value:E.status,onChange:e=>U("status",e.target.value),className:"px-3 py-2 bg-slate-50 border-transparent hover:bg-slate-100 rounded-lg text-sm text-slate-600 font-medium outline-none focus:ring-2 focus:ring-slate-100 cursor-pointer transition-colors w-full sm:w-auto",children:[e.jsx("option",{value:"all",children:"All Status"}),e.jsx("option",{value:"draft",children:"Draft"}),e.jsx("option",{value:"sent",children:"Sent"}),e.jsx("option",{value:"signed",children:"Signed"})]}),e.jsx("div",{className:"w-px h-6 bg-slate-200 hidden sm:block"}),e.jsxs("div",{className:"flex bg-slate-100 p-1 rounded-lg border border-slate-200",children:[e.jsx("button",{onClick:()=>B("list"),className:"p-1.5 rounded-md transition-all "+("list"===c?"bg-white shadow-sm text-slate-700":"text-slate-400 hover:text-slate-600"),children:e.jsx(Ae,{size:16})}),e.jsx("button",{onClick:()=>B("grid"),className:"p-1.5 rounded-md transition-all "+("grid"===c?"bg-white shadow-sm text-slate-700":"text-slate-400 hover:text-slate-600"),children:e.jsx(Be,{size:16})})]})]})]}),b.length>0&&e.jsxs("div",{className:"flex items-center gap-4 w-full bg-slate-50 p-2 rounded-lg border border-slate-200 animate-in fade-in slide-in-from-top-2 mb-4",children:[e.jsxs("span",{className:"text-sm font-semibold text-slate-700 ml-2",children:[b.length," selected"]}),e.jsx("div",{className:"h-6 w-px bg-slate-300"}),e.jsxs("button",{onClick:async()=>{if(window.confirm(`Delete ${b.length} documents?`))try{await sr.post("/documents/bulk-delete",{ids:b}),$t.success(`${b.length} documents moved to trash`,{id:"bulk-delete"}),v([]),W(y.current_page)}catch(e){$t.error("Failed to bulk delete",{id:"bulk-delete-error"})}},className:"flex items-center gap-2 text-red-600 hover:bg-red-50 px-3 py-1.5 rounded-md text-sm font-medium transition-colors",children:[e.jsx(te,{size:16})," Delete Selected"]})]}),e.jsxs("div",{className:""+("list"===c?"bg-white rounded-xl border border-slate-200 shadow-sm overflow-hidden":""),children:[u?e.jsx("div",{className:"p-6 "+("grid"===c?"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6":"space-y-4"),children:[1,2,3,4,5,6].map(t=>e.jsx(vf,{viewMode:c},t))}):e.jsx(a.div,{variants:kg,initial:"hidden",animate:"show",className:"grid"===c?"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6":"overflow-x-auto",children:"list"===c?e.jsxs("div",{className:"w-full",children:[e.jsxs("div",{className:"hidden md:grid bg-slate-50/50 border-b border-slate-200 px-6 py-3 grid-cols-[auto_3fr_1fr_1fr_1fr_1fr_auto] gap-6 text-xs font-bold text-slate-500 uppercase tracking-wider",children:[e.jsx("div",{className:"w-6 flex items-center justify-center",children:e.jsx("button",{onClick:J,children:m.length>0&&b.length===m.length?e.jsx(fe,{size:18,className:"text-slate-900"}):e.jsx("div",{className:"w-[18px] h-[18px] border-2 border-slate-300 rounded mx-auto"})})}),e.jsx("div",{children:"Document Name"}),e.jsx("div",{children:"Type"}),e.jsx("div",{children:"Status"}),e.jsx("div",{children:"Updated"}),e.jsx("div",{children:"Owner"}),e.jsx("div",{className:"text-right",children:"Action"})]}),e.jsx("div",{children:m.map(t=>e.jsx(Ng,{doc:t,getStatusStyle:H,variants:Sg,onViewHistory:V,isSelected:b.includes(t.id),toggleSelect:X,activeMenuId:N,setActiveMenuId:k,handleView:Y,handleDelete:G,handleRestore:K,viewMode:g?"trash":"active"},t.id))})]}):m.map(t=>e.jsx(jg,{doc:t,getStatusStyle:H,variants:Sg,onViewHistory:V,handleView:Y},t.id))},c),!u&&0===m.length&&e.jsxs("div",{className:"text-center py-24 col-span-full flex flex-col items-center justify-center",children:[e.jsx("div",{className:"p-4 bg-slate-50 rounded-full mb-4 border border-slate-100",children:e.jsx(o,{size:40,className:"text-slate-300",strokeWidth:1})}),e.jsx("h3",{className:"text-lg font-bold text-slate-900 mb-2",children:"No documents found"}),e.jsx("p",{className:"text-slate-500 max-w-sm mx-auto mb-6 text-sm",children:g?"Trash is empty.":"Create a new document to get started."}),L.canCreate&&!g&&e.jsxs("button",{onClick:()=>l(!0),className:"px-4 py-2 bg-slate-900 text-white rounded-lg font-semibold flex items-center gap-2 hover:bg-slate-800 transition-all text-sm",children:[e.jsx(ne,{size:16}),e.jsx("span",{children:"Create Document"})]})]})]}),y.total>0&&e.jsxs("div",{className:"border-t border-slate-200 p-4 bg-slate-50 flex flex-col sm:flex-row items-center justify-between gap-4 text-sm mt-8 rounded-xl border border-t-0",children:[e.jsxs("div",{className:"text-slate-500 font-medium",children:["Showing ",e.jsx("span",{className:"text-slate-900 font-bold",children:y.from})," to ",e.jsx("span",{className:"text-slate-900 font-bold",children:y.to})," of ",e.jsx("span",{className:"text-slate-900 font-bold",children:y.total})," results"]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("select",{value:y.per_page,onChange:e=>w(t=>({...t,per_page:Number(e.target.value),current_page:1})),className:"border border-slate-200 rounded-lg text-sm py-1.5 pl-2 pr-8 bg-white focus:outline-none focus:ring-2 focus:ring-slate-200 cursor-pointer font-medium text-slate-600",children:[e.jsx("option",{value:10,children:"10 per page"}),e.jsx("option",{value:20,children:"20 per page"}),e.jsx("option",{value:50,children:"50 per page"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>W(y.current_page-1),disabled:y.current_page<=1,className:"p-2 rounded-lg border border-slate-200 bg-white text-slate-600 hover:bg-slate-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:e.jsx(T,{size:16})}),e.jsx("span",{className:"px-2 font-bold text-slate-700 min-w-[20px] text-center",children:y.current_page}),e.jsx("button",{onClick:()=>W(y.current_page+1),disabled:y.current_page>=y.last_page,className:"p-2 rounded-lg border border-slate-200 bg-white text-slate-600 hover:bg-slate-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:e.jsx(M,{size:16})})]})]})]}),e.jsx(ff,{isOpen:i,onClose:()=>l(!1)}),e.jsx(gf,{isOpen:O,onClose:()=>A(!1),history:z,loading:I}),e.jsx(r,{children:S&&_&&e.jsxs(e.Fragment,{children:[e.jsx(a.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-slate-900/20 backdrop-blur-sm z-40",onClick:()=>C(null)}),e.jsxs(a.div,{initial:{x:"100%"},animate:{x:0},exit:{x:"100%"},transition:{type:"spring",stiffness:300,damping:30},className:"fixed inset-y-0 right-0 w-full max-w-lg bg-white shadow-2xl z-50 flex flex-col border-l border-slate-200",children:[e.jsxs("div",{className:"p-6 border-b border-slate-100 flex items-center justify-between bg-white",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold text-slate-800",children:"audit"===S?"Audit Trail":"Document Details"}),e.jsx("p",{className:"text-sm text-slate-500 mt-0.5 max-w-[300px] truncate",children:_.name})]}),e.jsx("button",{onClick:()=>C(null),className:"p-2 rounded-full hover:bg-slate-100 transition-all text-slate-400 hover:text-slate-700",children:e.jsx(t,{size:20})})]}),e.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:"preview"===S?e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:["completed"===_.status&&e.jsxs("button",{onClick:()=>n(`/signatures/${_.id}/view-signed`),className:"col-span-2 flex items-center justify-center gap-2 p-3 bg-emerald-600 hover:bg-emerald-700 text-white rounded-xl font-semibold transition-colors shadow-lg shadow-emerald-600/10",children:[e.jsx(ge,{size:18})," View Signed Document"]}),_.pdf_url&&e.jsxs("a",{href:_.pdf_url,target:"_blank",rel:"noopener noreferrer",className:"flex items-center justify-center gap-2 p-3 bg-white border border-slate-200 hover:border-slate-300 text-slate-700 rounded-xl font-medium transition-all",children:[e.jsx(o,{size:18})," Original PDF"]}),_.final_pdf_url&&e.jsxs("a",{href:_.final_pdf_url,download:!0,className:"flex items-center justify-center gap-2 p-3 bg-white border border-slate-200 hover:border-slate-300 text-slate-700 rounded-xl font-medium transition-all",children:[e.jsx(xe,{size:18})," Signed PDF"]})]}),e.jsxs("div",{className:"bg-slate-50 rounded-2xl p-5 border border-slate-100 space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-slate-500 font-medium",children:"Status"}),e.jsx("span",{className:"px-2 py-1 rounded-md text-xs font-bold uppercase tracking-wider bg-white border border-slate-200 text-slate-700",children:_.status})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-slate-500 font-medium",children:"Created On"}),e.jsx("span",{className:"text-sm font-semibold text-slate-700",children:new Date(_.created_at).toLocaleString()})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-slate-500 font-medium",children:"Last Activity"}),e.jsx("span",{className:"text-sm font-semibold text-slate-700",children:new Date(_.updated_at).toLocaleString()})]})]}),_.signers&&_.signers.length>0&&e.jsxs("div",{children:[e.jsxs("h4",{className:"font-bold text-slate-800 mb-4 flex items-center gap-2",children:[e.jsx(j,{size:18,className:"text-slate-500"}),"Signers (",_.signers.length,")"]}),e.jsx("div",{className:"space-y-3",children:_.signers.map((t,n)=>e.jsxs("div",{className:"flex items-center gap-3 p-3 bg-white border border-slate-200 rounded-xl shadow-sm",children:[e.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center text-white font-bold "+("signed"===t.status?"bg-emerald-500":"bg-slate-400"),children:t.name.charAt(0)}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"font-semibold text-slate-800 text-sm",children:t.name}),e.jsx("p",{className:"text-xs text-slate-400",children:t.email})]}),"signed"===t.status?e.jsx(f,{size:18,className:"text-emerald-500"}):e.jsx("button",{onClick:()=>(async e=>{$t.promise(sr.post(`/documents/${e}/remind`,{email:_?.signers?.find(e=>"signed"!==e.status)?.email}),{loading:"Sending reminder...",success:"Reminder sent!",error:"Failed to send reminder"})})(_.id),className:"text-xs text-slate-600 hover:text-slate-900 font-medium bg-slate-100 px-2 py-1 rounded transition-colors",children:"Resend"})]},n))})]})]}):e.jsxs("div",{className:"text-center py-10 text-slate-500",children:[e.jsx($,{size:40,className:"mx-auto mb-4 text-slate-300"}),e.jsx("p",{children:"Audit Trail details not fully loaded."})]})})]})]})})]})},_g=({title:t,description:n,children:r,className:a=""})=>e.jsxs("div",{className:`p-0 md:p-0 ${a} mb-8`,children:[e.jsxs("div",{className:"mb-5 pb-4 border-b border-slate-200",children:[e.jsx("h3",{className:"text-lg font-bold text-slate-800 tracking-tight",children:t}),n&&e.jsx("p",{className:"text-sm text-slate-500 mt-1",children:n})]}),e.jsx("div",{className:"space-y-5",children:r})]}),Pg=({label:t,error:n,className:r="",...a})=>e.jsxs("div",{className:r,children:[e.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:t}),e.jsx("div",{className:"relative",children:e.jsx("input",{className:"block w-full rounded-lg border-slate-300 bg-white shadow-sm focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500 sm:text-sm px-3.5 py-2.5 border transition-all duration-200 outline-none placeholder-slate-400 text-slate-900 "+(n?"border-red-300 focus:border-red-500 focus:ring-red-200":"hover:border-slate-400"),...a})}),n&&e.jsxs("p",{className:"mt-1.5 text-xs font-medium text-red-600 flex items-center gap-1",children:[e.jsx(b,{size:12})," ",n]})]}),Eg=({label:t,error:n,className:r="",...a})=>e.jsxs("div",{className:r,children:[e.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:t}),e.jsx("textarea",{className:"block w-full rounded-lg border-slate-300 bg-white shadow-sm focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500 sm:text-sm px-3.5 py-2.5 border transition-all duration-200 outline-none placeholder-slate-400 text-slate-900 "+(n?"border-red-300 focus:border-red-500 focus:ring-red-200":"hover:border-slate-400"),...a}),n&&e.jsxs("p",{className:"mt-1.5 text-xs font-medium text-red-600 flex items-center gap-1",children:[e.jsx(b,{size:12})," ",n]})]}),Dg=({loading:t,saved:n,onClick:r,label:s="Save Changes"})=>e.jsx("div",{className:"flex justify-end pt-6 border-t border-slate-200 mt-8",children:e.jsxs(a.button,{whileHover:{scale:1.01},whileTap:{scale:.99},type:"submit",disabled:t,onClick:r,className:`inline-flex justify-center items-center py-2.5 px-6 border border-transparent shadow-sm text-sm font-semibold rounded-lg text-white transition-all duration-200 \n                ${n?"bg-emerald-600 hover:bg-emerald-700":"bg-indigo-600 hover:bg-indigo-700"} \n                disabled:opacity-70 disabled:cursor-not-allowed`,children:[t?e.jsx(A,{className:"animate-spin mr-2",size:16,strokeWidth:2.5}):n?e.jsx(we,{className:"mr-2",size:16,strokeWidth:3}):e.jsx(_e,{className:"mr-2",size:16,strokeWidth:2.5}),n?"Changes Saved":s]})}),Og=({message:t})=>e.jsxs(a.div,{initial:{opacity:0,y:-5},animate:{opacity:1,y:0},exit:{opacity:0},className:"flex items-center gap-3 text-emerald-700 text-sm font-medium bg-emerald-50 px-4 py-3 rounded-lg border border-emerald-200 mb-6",children:[e.jsx(we,{size:16,strokeWidth:2.5,className:"text-emerald-600"}),t]}),Tg=({message:t})=>e.jsxs(a.div,{initial:{opacity:0,y:-5},animate:{opacity:1,y:0},exit:{opacity:0},className:"flex items-center gap-3 text-red-700 text-sm font-medium bg-red-50 px-4 py-3 rounded-lg border border-red-200 mb-6",children:[e.jsx(b,{size:16,strokeWidth:2.5,className:"text-red-500"}),t]}),Mg=({business:t,onUpdate:n})=>{const[r,a]=kt.useState({name:"",email:"",phone:"",website:"",address:"",city:"",state:"",zip:"",country:"",industry:"",social_links:{linkedin:"",twitter:"",facebook:"",instagram:""}}),[s,i]=kt.useState(!1),[o,l]=kt.useState(!1),[c,d]=kt.useState(null);kt.useEffect(()=>{t&&a({name:t.name||"",email:t.email||"",phone:t.phone||"",website:t.website||"",address:t.address||"",city:t.city||"",state:t.state||"",zip:t.zip||"",country:t.country||"",industry:t.industry||"",social_links:t.social_links||{linkedin:"",twitter:"",facebook:"",instagram:""}})},[t]);const u=e=>{const{name:t,value:n}=e.target;if(t.startsWith("social_")){const e=t.replace("social_","");a(t=>({...t,social_links:{...t.social_links,[e]:n}}))}else a({...r,[t]:n});l(!1)};return e.jsxs("form",{onSubmit:async e=>{e.preventDefault(),i(!0),d(null);try{const e=await yd(r);n(e.data),l(!0),setTimeout(()=>l(!1),3e3)}catch(t){d(t.response?.data?.message||"Failed to update settings")}finally{i(!1)}},className:"max-w-3xl",children:[c&&e.jsx(Tg,{message:c}),o&&e.jsx("div",{className:"mb-4",children:e.jsx(Og,{message:"Settings updated successfully."})}),e.jsx(_g,{title:"Business Information",description:"Basic contact information for your business.",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsx("div",{className:"md:col-span-2",children:e.jsx(Pg,{label:"Business Name",name:"name",value:r.name,onChange:u,required:!0})}),e.jsx(Pg,{label:"Email",type:"email",name:"email",value:r.email,onChange:u}),e.jsx(Pg,{label:"Phone",name:"phone",value:r.phone,onChange:u}),e.jsx("div",{className:"md:col-span-2",children:e.jsx(Pg,{label:"Website",type:"url",name:"website",value:r.website,onChange:u,placeholder:"https://example.com"})})]})}),e.jsx(_g,{title:"Address Details",description:"Your business physical location.",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsx("div",{className:"md:col-span-2",children:e.jsx(Pg,{label:"Address",name:"address",value:r.address,onChange:u})}),e.jsx(Pg,{label:"City",name:"city",value:r.city,onChange:u}),e.jsx(Pg,{label:"State",name:"state",value:r.state,onChange:u}),e.jsx(Pg,{label:"Zip / Postal Code",name:"zip",value:r.zip,onChange:u}),e.jsx(Pg,{label:"Country",name:"country",value:r.country,onChange:u})]})}),e.jsx(_g,{title:"Social Profiles",description:"Connect your social media accounts.",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsx(Pg,{label:"LinkedIn",type:"url",name:"social_linkedin",value:r.social_links?.linkedin||"",onChange:u,placeholder:"https://linkedin.com/in/..."}),e.jsx(Pg,{label:"Twitter (X)",type:"url",name:"social_twitter",value:r.social_links?.twitter||"",onChange:u,placeholder:"https://twitter.com/..."}),e.jsx(Pg,{label:"Facebook",type:"url",name:"social_facebook",value:r.social_links?.facebook||"",onChange:u,placeholder:"https://facebook.com/..."}),e.jsx(Pg,{label:"Instagram",type:"url",name:"social_instagram",value:r.social_links?.instagram||"",onChange:u,placeholder:"https://instagram.com/..."})]})}),e.jsx("div",{className:"flex justify-end pt-2",children:e.jsx(Dg,{loading:s,saved:o})})]})},Ag=({business:t,onUpdate:n})=>{const[r,a]=kt.useState({invoice_prefix:"",invoice_terms:"",default_invoice_notes:"",bank_details:{account_name:"",bank_name:"",account_number:"",ifsc_code:"",swift_code:""}}),[s,i]=kt.useState(!1),[o,l]=kt.useState(!1),[c,d]=kt.useState(null);kt.useEffect(()=>{t&&a({invoice_prefix:t.invoice_prefix||"",invoice_terms:t.invoice_terms||"",default_invoice_notes:t.default_invoice_notes||"",bank_details:t.bank_details||{account_name:"",bank_name:"",account_number:"",ifsc_code:"",swift_code:""}})},[t]);const u=e=>{const{name:t,value:n}=e.target;if(t.startsWith("bank_")){const e=t.replace("bank_","");a(t=>({...t,bank_details:{...t.bank_details,[e]:n}}))}else a(e=>({...e,[t]:n}));l(!1)};return e.jsxs("form",{onSubmit:async e=>{e.preventDefault(),i(!0),d(null);try{const e=await yd(r);n(e.data),l(!0),setTimeout(()=>l(!1),3e3)}catch(t){d(t.response?.data?.message||"Failed to update settings")}finally{i(!1)}},className:"max-w-3xl",children:[c&&e.jsx(Tg,{message:c}),o&&e.jsx("div",{className:"mb-4",children:e.jsx(Og,{message:"Invoice settings updated successfully."})}),e.jsx(_g,{title:"General Configuration",description:"Set your invoice number prefix.",children:e.jsxs("div",{children:[e.jsx(Pg,{label:"Invoice Prefix",name:"invoice_prefix",value:r.invoice_prefix,onChange:u,placeholder:"INV-"}),e.jsx("p",{className:"mt-2 text-xs text-slate-500",children:"Prefix for invoice numbers (e.g., INV-0001)"})]})}),e.jsx(_g,{title:"Bank Account Details",description:"These details will be displayed on invoices for payments.",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsx("div",{className:"md:col-span-2",children:e.jsx(Pg,{label:"Account Name / Beneficiary Name",name:"bank_account_name",value:r.bank_details?.account_name||"",onChange:u})}),e.jsx("div",{className:"md:col-span-2",children:e.jsx(Pg,{label:"Bank Name",name:"bank_bank_name",value:r.bank_details?.bank_name||"",onChange:u})}),e.jsx(Pg,{label:"Account Number / IBAN",name:"bank_account_number",value:r.bank_details?.account_number||"",onChange:u}),e.jsx(Pg,{label:"IFSC / SWIFT Code",name:"bank_ifsc_code",value:r.bank_details?.ifsc_code||"",onChange:u})]})}),e.jsx(_g,{title:"Defaults",description:"Default texts for new invoices.",children:e.jsxs("div",{className:"space-y-6",children:[e.jsx(Eg,{label:"Default Terms & Conditions",name:"invoice_terms",rows:4,value:r.invoice_terms,onChange:u,placeholder:"e.g. Payment due within 30 days..."}),e.jsx(Eg,{label:"Default Invoice Notes",name:"default_invoice_notes",rows:2,value:r.default_invoice_notes,onChange:u,placeholder:"e.g. Thank you for your business!"})]})}),e.jsx("div",{className:"flex justify-end pt-2",children:e.jsx(Dg,{loading:s,saved:o})})]})},zg=({business:t,onUpdate:n})=>{const[r,a]=kt.useState({tax_label:"",tax_percentage:""}),[s,i]=kt.useState(!1),[o,l]=kt.useState(!1),[c,d]=kt.useState(null),[u,h]=kt.useState([]),[m,p]=kt.useState(!0);kt.useEffect(()=>{(async()=>{try{const e=await sr.get("/tax-rates");h(e.data.data)}catch(e){}finally{p(!1)}})(),t&&a({tax_label:t.tax_label||"",tax_percentage:t.tax_percentage||""})},[t]);return e.jsxs("form",{onSubmit:async e=>{e.preventDefault(),i(!0),d(null);try{const e=await yd(r);n(e.data),l(!0),setTimeout(()=>l(!1),3e3)}catch(t){d(t.response?.data?.message||"Failed to update settings")}finally{i(!1)}},className:"max-w-3xl",children:[c&&e.jsx(Tg,{message:c}),o&&e.jsx("div",{className:"mb-4",children:e.jsx(Og,{message:"Tax settings updated successfully."})}),e.jsx(_g,{title:"Tax Configuration",description:"Configure your tax settings for invoices.",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Tax Type"}),e.jsxs("select",{name:"tax_label",value:r.tax_label,onChange:e=>{const t=e.target.value,n=u.find(e=>e.name===t);n&&a({...r,tax_label:n.name,tax_percentage:n.rate}),l(!1)},className:"w-full rounded-md border border-slate-300 bg-white py-2 px-3 shadow-sm focus:border-indigo-500 focus:outline-none focus:ring-1 focus:ring-indigo-500 sm:text-sm",disabled:m,children:[e.jsx("option",{value:"",children:"Select Tax"}),u.map(t=>e.jsxs("option",{value:t.name,children:[t.name," (",Number(t.rate).toFixed(2),"%)"]},t.id))]})]}),e.jsx(Pg,{label:"Tax Percentage (%)",type:"number",step:"0.01",name:"tax_percentage",value:r.tax_percentage,onChange:e=>{a({...r,[e.target.name]:e.target.value}),l(!1)},placeholder:"0.00",disabled:!0})]})}),e.jsx("div",{className:"flex justify-end pt-2",children:e.jsx(Dg,{loading:s,saved:o})})]})},Rg=({business:t,onUpdate:n})=>{const[r,a]=kt.useState({currency_symbol:"",currency_code:"",currency_country:""}),[s,i]=kt.useState(!1),[o,l]=kt.useState(!1),[c,d]=kt.useState(null),[u,h]=kt.useState([]),[m,p]=kt.useState(!0);kt.useEffect(()=>{(async()=>{try{const e=await sr.get("/currencies");h(e.data.data)}catch(e){}finally{p(!1)}})(),t&&a({currency_symbol:t.currency_symbol||"",currency_code:t.currency_code||"",currency_country:t.currency_country||""})},[t]);const f=e=>{a({...r,[e.target.name]:e.target.value}),l(!1)};return e.jsxs("form",{onSubmit:async e=>{e.preventDefault(),i(!0),d(null);try{const e=await yd(r);n(e.data),l(!0),setTimeout(()=>l(!1),3e3)}catch(t){d(t.response?.data?.message||"Failed to update settings")}finally{i(!1)}},className:"max-w-3xl",children:[c&&e.jsx(Tg,{message:c}),o&&e.jsx("div",{className:"mb-4",children:e.jsx(Og,{message:"Currency settings updated successfully."})}),e.jsx(_g,{title:"Currency & Region",description:"Set your preferred currency for invoices and financial reports.",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Currency"}),e.jsxs("select",{name:"currency_code",value:r.currency_code,onChange:e=>{const t=e.target.value,n=u.find(e=>e.code===t);n&&a({...r,currency_code:n.code,currency_symbol:n.symbol,currency_country:n.name}),l(!1)},className:"w-full rounded-md border border-slate-300 bg-white py-2 px-3 shadow-sm focus:border-indigo-500 focus:outline-none focus:ring-1 focus:ring-indigo-500 sm:text-sm",disabled:m,children:[e.jsx("option",{value:"",children:"Select Currency"}),u.map(t=>e.jsxs("option",{value:t.code,children:[t.code," - ",t.name," (",t.symbol,")"]},t.id))]})]}),e.jsx(Pg,{label:"Symbol",name:"currency_symbol",value:r.currency_symbol,onChange:f,placeholder:"$",disabled:!0}),e.jsx(Pg,{label:"Country",name:"currency_country",value:r.currency_country,onChange:f,placeholder:"United States",disabled:!0})]})}),e.jsx("div",{className:"flex justify-end pt-2",children:e.jsx(Dg,{loading:s,saved:o})})]})},Ig=({business:t,onUpdate:n})=>{const[r,a]=kt.useState(null),[s,i]=kt.useState(null),[o,l]=kt.useState(null),[c,d]=kt.useState(null),[u,h]=kt.useState(!1),[m,p]=kt.useState(!1),[f,g]=kt.useState(null);kt.useEffect(()=>{t&&(t.logo&&i(t.logo),t.favicon&&d(t.favicon))},[t]);const x=(e,t,n)=>{const r=e.target.files[0];if(r){t(r);const e=new FileReader;e.onloadend=()=>{n(e.result)},e.readAsDataURL(r),p(!1)}},b=e=>e?e.startsWith("http")||e.startsWith("data:")?e:`http://127.0.0.1:8000/api/v1${e}`:null;return e.jsxs("form",{onSubmit:async e=>{e.preventDefault(),h(!0),g(null);const t=new FormData;if(r&&t.append("logo",r),o&&t.append("favicon",o),r||o)try{const e=await yd(t);n(e.data),p(!0),setTimeout(()=>p(!1),3e3),a(null),l(null)}catch(s){g("Failed to update branding settings")}finally{h(!1)}else h(!1)},className:"max-w-3xl",children:[f&&e.jsx(Tg,{message:f}),m&&e.jsx("div",{className:"mb-4",children:e.jsx(Og,{message:"Branding settings updated successfully."})}),e.jsx(_g,{title:"Brand Assets",description:"Upload your business logo and favicon.",children:e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-3",children:"Business Logo"}),e.jsxs("div",{className:"flex items-start gap-6",children:[e.jsx("div",{className:"w-32 h-32 border-2 border-dashed border-slate-300 rounded-lg flex items-center justify-center overflow-hidden bg-slate-50 relative group transition-all hover:border-indigo-400",children:s?e.jsx("img",{src:b(s),alt:"Logo Preview",className:"w-full h-full object-contain p-2"}):e.jsx("span",{className:"text-slate-400 text-xs font-medium",children:"No Logo"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("input",{type:"file",accept:"image/*",id:"logo-upload",className:"hidden",onChange:e=>x(e,a,i)}),e.jsxs("label",{htmlFor:"logo-upload",className:"inline-flex items-center px-4 py-2 border border-slate-300 shadow-sm text-sm font-medium rounded-lg text-slate-700 bg-white hover:bg-slate-50 cursor-pointer transition-colors",children:[e.jsx(O,{className:"mr-2 h-4 w-4"}),"Upload Logo"]}),e.jsx("p",{className:"mt-2 text-xs text-slate-500",children:"Recommended size: 512x512px. Max file size: 2MB."})]})]})]}),e.jsx("div",{className:"border-t border-slate-100 my-6"}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-3",children:"Favicon"}),e.jsxs("div",{className:"flex items-start gap-6",children:[e.jsx("div",{className:"w-16 h-16 border-2 border-dashed border-slate-300 rounded-lg flex items-center justify-center overflow-hidden bg-slate-50 transition-all hover:border-indigo-400",children:c?e.jsx("img",{src:b(c),alt:"Favicon Preview",className:"w-8 h-8 object-contain"}):e.jsx("span",{className:"text-slate-400 text-xs font-medium",children:"No Icon"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("input",{type:"file",accept:"image/x-icon,image/png,image/jpeg,image/svg+xml",id:"favicon-upload",className:"hidden",onChange:e=>x(e,l,d)}),e.jsxs("label",{htmlFor:"favicon-upload",className:"inline-flex items-center px-4 py-2 border border-slate-300 shadow-sm text-sm font-medium rounded-lg text-slate-700 bg-white hover:bg-slate-50 cursor-pointer transition-colors",children:[e.jsx(O,{className:"mr-2 h-4 w-4"}),"Upload Favicon"]}),e.jsx("p",{className:"mt-2 text-xs text-slate-500",children:"Recommended size: 32x32px or 16x16px. Formats: .ico, .png, .svg."})]})]})]})]})}),e.jsx("div",{className:"flex justify-end pt-2",children:e.jsx(Dg,{loading:u,saved:m,disabled:!r&&!o,label:"Save Branding"})})]})},Fg=()=>{const{user:t,setUser:n}=lr(),[r,a]=kt.useState({name:"",email:"",password:"",password_confirmation:""}),[s,i]=kt.useState(!1),[o,l]=kt.useState(!1),[c,d]=kt.useState(null),[u,h]=kt.useState(null),[m,p]=kt.useState(null);kt.useEffect(()=>{t&&(a(e=>({...e,name:t.name||"",email:t.email||""})),t.avatar_url&&p(t.avatar_url))},[t]);const f=e=>{a({...r,[e.target.name]:e.target.value}),l(!1)};return e.jsxs("form",{onSubmit:async e=>{e.preventDefault(),i(!0),d(null);const t=new FormData;t.append("name",r.name),t.append("email",r.email),r.password&&(t.append("password",r.password),t.append("password_confirmation",r.password_confirmation)),u&&t.append("avatar",u);try{const e=await(async e=>(await sr.post("/user/profile",e)).data)(t);l(!0),n(e.data),a(e=>({...e,password:"",password_confirmation:""})),h(null),setTimeout(()=>l(!1),3e3)}catch(s){d(s.response?.data?.message||"Failed to update profile")}finally{i(!1)}},className:"max-w-3xl",children:[c&&e.jsx(Tg,{message:c}),o&&e.jsx("div",{className:"mb-4",children:e.jsx(Og,{message:"Profile updated successfully."})}),e.jsx(_g,{title:"Personal Information",description:"Manage your personal account details.",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"md:col-span-2 flex items-center gap-6",children:[e.jsxs("div",{className:"relative group",children:[e.jsx("div",{className:"h-20 w-20 rounded-full overflow-hidden bg-slate-100 border border-slate-200",children:m?e.jsx("img",{src:m,alt:"Profile",className:"h-full w-full object-cover"}):e.jsx("div",{className:"h-full w-full flex items-center justify-center text-slate-400 font-bold text-2xl",children:r.name.charAt(0)})}),e.jsx("label",{htmlFor:"avatar-upload",className:"absolute inset-0 bg-black/50 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity cursor-pointer rounded-full text-white text-xs font-medium",children:"Change"}),e.jsx("input",{id:"avatar-upload",type:"file",accept:"image/*",onChange:e=>{const t=e.target.files[0];t&&(h(t),p(URL.createObjectURL(t)),l(!1))},className:"hidden"})]}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"text-sm font-medium text-slate-800",children:"Profile Picture"}),e.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Upload a JPG or PNG. Max size 2MB."})]})]}),e.jsx("div",{className:"md:col-span-2",children:e.jsx(Pg,{label:"Full Name",name:"name",value:r.name,onChange:f,required:!0})}),e.jsx("div",{className:"md:col-span-2",children:e.jsx(Pg,{label:"Email Address",type:"email",name:"email",value:r.email,onChange:f,required:!0})})]})}),e.jsx(_g,{title:"Security",description:"Update your password (leave blank to keep current).",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsx(Pg,{label:"New Password",type:"password",name:"password",value:r.password,onChange:f,placeholder:"Min. 8 characters"}),e.jsx(Pg,{label:"Confirm Password",type:"password",name:"password_confirmation",value:r.password_confirmation,onChange:f,placeholder:"Re-enter password"})]})}),e.jsx("div",{className:"flex justify-end pt-2",children:e.jsx(Dg,{loading:s,saved:o,label:"Update Profile"})})]})},Lg=()=>{const[t,n]=kt.useState("profile"),[s,i]=kt.useState(null),[l,c]=kt.useState(!0);kt.useEffect(()=>{d()},[]);const d=async()=>{try{const e=await wd();i(e)}catch(e){}finally{c(!1)}},u=e=>{i(e)},h=[{id:"profile",label:"My Profile",icon:j,desc:"Personal & Security"},{id:"general",label:"Business Info",icon:N,desc:"Organization Details"},{id:"branding",label:"Branding",icon:oe,desc:"Logos & Colors"},{id:"invoice",label:"Invoicing",icon:o,desc:"Prefix & Terms"},{id:"tax",label:"Taxation",icon:Ye,desc:"VAT/GST Setup"},{id:"currency",label:"Currency",icon:ze,desc:"Region & Symbol"}];return l?e.jsx("div",{className:"flex items-center justify-center min-h-[60vh]",children:e.jsx(A,{className:"animate-spin text-indigo-600",size:32})}):e.jsxs(bf,{className:"max-w-6xl",children:[e.jsx(xf,{title:"Settings",subtitle:"Manage your personal and workspace preferences."}),e.jsxs("div",{className:"flex flex-col md:flex-row gap-8 items-start",children:[e.jsx("div",{className:"w-full md:w-64 flex-shrink-0 overflow-x-auto md:overflow-visible pb-4 md:pb-0",children:e.jsx("nav",{className:"flex md:flex-col space-x-2 md:space-x-0 md:space-y-0.5 min-w-max md:min-w-0",children:h.map(r=>{const a=r.icon,s=t===r.id;return e.jsxs("button",{onClick:()=>n(r.id),className:"flex items-center gap-3 px-3 py-2 text-left rounded-md transition-colors whitespace-nowrap "+(s?"bg-slate-100 text-slate-900 font-medium":"text-slate-600 hover:bg-slate-50 hover:text-slate-900"),children:[e.jsx(a,{size:18,className:s?"text-indigo-600":"text-slate-400"}),e.jsx("span",{className:"text-sm",children:r.label})]},r.id)})})}),e.jsx("div",{className:"flex-1 min-w-0 bg-white rounded-lg border border-slate-200 shadow-sm p-6 md:p-8",children:e.jsx(r,{mode:"wait",children:e.jsxs(a.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.2},children:["profile"===t&&e.jsx(Fg,{}),"general"===t&&e.jsx(Mg,{business:s,onUpdate:u}),"branding"===t&&e.jsx(Ig,{business:s,onUpdate:u}),"invoice"===t&&e.jsx(Ag,{business:s,onUpdate:u}),"tax"===t&&e.jsx(zg,{business:s,onUpdate:u}),"currency"===t&&e.jsx(Rg,{business:s,onUpdate:u})]},t)})})]})]})},Bg=({isOpen:n,onClose:i,onInvite:l})=>{const{matrix:c}=gd(),[u,h]=kt.useState(""),[p,f]=kt.useState("member"),[g,b]=kt.useState([]),[y,w]=kt.useState(!1),[j,N]=kt.useState(!1),k=St.useMemo(()=>c.permissions?c.permissions.reduce((e,t)=>{const n=t.key.split(".")[0];return e[n]||(e[n]=[]),e[n].push(t),e},{}):{},[c.permissions]);kt.useEffect(()=>{},[n]),kt.useEffect(()=>{if(!c.permissions)return;const e=c.permissions.filter(e=>e.roles.includes(p)).map(e=>e.key);b(e)},[p,c]);const S=t=>{switch(t){case"admin":return e.jsx(s,{className:"text-purple-600",size:24});case"editor":return e.jsx(o,{className:"text-blue-600",size:24});case"member":default:return e.jsx(m,{className:"text-slate-600",size:24});case"viewer":return e.jsx(we,{className:"text-emerald-600",size:24})}},C=()=>{h(""),f("member"),N(!1)};return n?e.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[e.jsx(a.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:i,className:"absolute inset-0 bg-slate-900/60 backdrop-blur-sm"}),e.jsxs(a.div,{initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},className:"relative bg-white rounded-2xl shadow-2xl w-full max-w-2xl overflow-hidden flex flex-col max-h-[90vh]",children:[e.jsxs("div",{className:"relative px-8 py-6 bg-slate-900 overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 opacity-10 bg-[radial-gradient(circle_at_top_right,_var(--tw-gradient-stops))] from-indigo-500 via-slate-900 to-slate-900"}),e.jsxs("div",{className:"relative flex items-center justify-between z-10",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold text-white",children:"Invite Team Member"}),e.jsx("p",{className:"text-slate-400 text-sm mt-1",children:"Send an invitation to join your workspace."})]}),e.jsx("button",{onClick:i,className:"text-slate-400 hover:text-white transition-colors bg-white/10 hover:bg-white/20 rounded-full p-2 backdrop-blur-sm",children:e.jsx(t,{size:20})})]})]}),e.jsx("div",{className:"p-8 overflow-y-auto custom-scrollbar",children:e.jsxs("form",{id:"inviteForm",onSubmit:async e=>{e.preventDefault(),w(!0);try{await l({email:u,role:p,permissions:g}),C()}catch(t){}finally{w(!1)}},className:"space-y-8",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsx("label",{className:"text-sm font-semibold text-slate-700",children:"Email Address"}),e.jsxs("div",{className:"relative group",children:[e.jsx(v,{className:"absolute left-4 top-3.5 text-slate-400 group-focus-within:text-indigo-600 transition-colors",size:20}),e.jsx("input",{type:"email",required:!0,value:u,onChange:e=>h(e.target.value),placeholder:"colleague@company.com",className:"w-full pl-12 pr-4 py-3 border border-slate-200 rounded-xl focus:ring-2 focus:ring-indigo-500/20 focus:border-indigo-500 outline-none transition-all placeholder:text-slate-400 text-slate-700 bg-slate-50 focus:bg-white"})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("label",{className:"text-sm font-semibold text-slate-700",children:"Select Role"}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:["admin","editor","member","viewer"].map(t=>e.jsxs("label",{className:`\n                                            relative flex items-start gap-4 p-4 border rounded-xl cursor-pointer transition-all duration-200\n                                            ${p===t?"border-indigo-600 bg-indigo-50/50 ring-1 ring-indigo-600 shadow-sm":"border-slate-200 hover:border-indigo-200 hover:bg-slate-50"}\n                                        `,children:[e.jsx("input",{type:"radio",name:"role",value:t,checked:p===t,onChange:e=>f(e.target.value),className:"sr-only"}),e.jsx("div",{className:"mt-1 p-2 rounded-lg "+(p===t?"bg-indigo-100":"bg-slate-100"),children:S(t)}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"font-semibold capitalize "+(p===t?"text-indigo-900":"text-slate-900"),children:t}),p===t&&e.jsx("div",{className:"w-2 h-2 rounded-full bg-indigo-600"})]}),e.jsxs("div",{className:"text-xs text-slate-500 mt-1 leading-relaxed",children:["admin"===t&&"Full workspace access. Can manage settings & team.","editor"===t&&"Can create, edit, and delete content.","member"===t&&"Can view and comment on shared documents.","viewer"===t&&"Read-only access to specific items."]})]})]},t))})]}),e.jsxs("div",{className:"border-t border-slate-100 pt-6",children:[e.jsxs("button",{type:"button",onClick:()=>N(!j),className:"flex items-center gap-2 text-sm font-medium text-slate-600 hover:text-indigo-600 transition-colors",children:[j?e.jsx(x,{size:16}):e.jsx(M,{size:16}),e.jsx(d,{size:16}),e.jsx("span",{children:"Advanced Permission Settings"}),!j&&e.jsxs("span",{className:"ml-auto text-xs text-slate-400 bg-slate-100 px-2 py-1 rounded-full",children:[g.length," selected"]})]}),e.jsx(r,{children:j&&e.jsx(a.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},className:"overflow-hidden",children:e.jsx("div",{className:"pt-4 space-y-6",children:Object.entries(k).map(([t,n])=>e.jsxs("div",{className:"space-y-3",children:[e.jsxs("h4",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider flex items-center gap-2",children:["document"===t&&e.jsx(o,{size:12}),"team"===t&&e.jsx(m,{size:12}),"settings"===t&&e.jsx(G,{size:12}),t," Permissions"]}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:n.map(t=>{const n=g.includes(t.key);return e.jsxs("label",{className:`\n                                                                    flex items-center gap-3 p-3 rounded-lg border cursor-pointer transition-all\n                                                                    ${n?"bg-indigo-50 border-indigo-200":"bg-white border-slate-200 hover:border-slate-300"}\n                                                                `,children:[e.jsxs("div",{className:`\n                                                                        w-5 h-5 rounded border flex items-center justify-center transition-colors\n                                                                        ${n?"bg-indigo-600 border-indigo-600":"bg-white border-slate-300"}\n                                                                    `,children:[n&&e.jsx(we,{size:12,className:"text-white"}),e.jsx("input",{type:"checkbox",checked:n,onChange:()=>{return e=t.key,void b(t=>t.includes(e)?t.filter(t=>t!==e):[...t,e]);var e},className:"hidden"})]}),e.jsx("div",{className:"flex-1",children:e.jsx("div",{className:"text-sm font-medium "+(n?"text-indigo-900":"text-slate-700"),children:t.label})})]},t.key)})})]},t))})})})]})]})}),e.jsxs("div",{className:"px-8 py-5 border-t border-slate-200 bg-slate-50 flex justify-end gap-3 sticky bottom-0 z-20",children:[e.jsx("button",{type:"button",onClick:i,className:"px-5 py-2.5 text-sm font-medium text-slate-600 hover:text-slate-900 hover:bg-slate-200/50 rounded-xl transition-colors",children:"Cancel"}),e.jsx("button",{type:"submit",form:"inviteForm",disabled:y,className:"px-8 py-2.5 text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 rounded-xl shadow-lg shadow-indigo-200 transition-all hover:-translate-y-0.5 disabled:opacity-70 disabled:cursor-not-allowed flex items-center gap-2",children:y?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin"}),"Sending Invitation..."]}):e.jsxs(e.Fragment,{children:[e.jsx(v,{size:18}),"Send Invitation"]})})]})]})]}):null},$g=({isOpen:n,onClose:i,member:l,onUpdate:c})=>{const{matrix:u}=gd(),[h,p]=kt.useState("member"),[f,g]=kt.useState([]),[b,v]=kt.useState(!1),[y,w]=kt.useState(!1),N=St.useMemo(()=>u.permissions?u.permissions.reduce((e,t)=>{const n=t.key.split(".")[0];return e[n]||(e[n]=[]),e[n].push(t),e},{}):{},[u.permissions]);kt.useEffect(()=>{if(l)if(p(l.role),l.permissions&&Array.isArray(l.permissions))g(l.permissions);else if(u.permissions){const e=u.permissions.filter(e=>e.roles.includes(l.role)).map(e=>e.key);g(e)}},[l,n,u]);const k=t=>{switch(t){case"admin":return e.jsx(s,{className:"text-purple-600",size:20});case"editor":return e.jsx(o,{className:"text-blue-600",size:20});case"member":return e.jsx(m,{className:"text-slate-600",size:20});case"viewer":return e.jsx(we,{className:"text-emerald-600",size:20});default:return e.jsx(j,{className:"text-slate-600",size:20})}};return n&&l?e.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[e.jsx(a.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:i,className:"absolute inset-0 bg-slate-900/60 backdrop-blur-sm"}),e.jsxs(a.div,{initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},className:"relative bg-white rounded-2xl shadow-2xl w-full max-w-2xl overflow-hidden flex flex-col max-h-[90vh]",children:[e.jsxs("div",{className:"relative px-8 py-6 bg-slate-900",children:[e.jsx("div",{className:"absolute inset-0 opacity-10 bg-[radial-gradient(circle_at_top_right,_var(--tw-gradient-stops))] from-indigo-500 via-slate-900 to-slate-900"}),e.jsxs("div",{className:"relative flex items-center justify-between z-10",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 rounded-full bg-indigo-500/20 flex items-center justify-center text-white font-bold border-2 border-indigo-500/30",children:l.child?.name?.charAt(0).toUpperCase()||"?"}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold text-white tracking-tight",children:l.child?.name}),e.jsx("p",{className:"text-slate-400 text-sm mt-0.5",children:l.child?.email})]})]}),e.jsx("button",{onClick:i,className:"text-slate-400 hover:text-white transition-colors bg-white/10 hover:bg-white/20 rounded-full p-2 backdrop-blur-sm",children:e.jsx(t,{size:20})})]})]}),e.jsx("div",{className:"p-8 overflow-y-auto custom-scrollbar",children:e.jsxs("form",{id:"editForm",onSubmit:async e=>{e.preventDefault(),v(!0);try{await c(l.id,{role:h,permissions:f}),i()}catch(t){}finally{v(!1)}},className:"space-y-8",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsx("label",{className:"text-sm font-semibold text-slate-700",children:"Role Allocation"}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:["admin","editor","member","viewer"].map(t=>e.jsxs("label",{className:`\n                                            relative flex items-center gap-4 p-4 border rounded-xl cursor-pointer transition-all duration-200\n                                            ${h===t?"border-indigo-600 bg-indigo-50/50 ring-1 ring-indigo-600 shadow-sm":"border-slate-200 hover:border-indigo-200 hover:bg-slate-50"}\n                                        `,children:[e.jsx("input",{type:"radio",name:"role",value:t,checked:h===t,onChange:e=>(e=>{if(p(e),u.permissions){const t=u.permissions.filter(t=>t.roles.includes(e)).map(e=>e.key);g(t)}})(e.target.value),className:"sr-only"}),e.jsx("div",{className:"p-2 rounded-lg "+(h===t?"bg-indigo-100":"bg-slate-100"),children:k(t)}),e.jsx("div",{children:e.jsx("span",{className:"font-semibold capitalize "+(h===t?"text-indigo-900":"text-slate-900"),children:t})}),h===t&&e.jsx(we,{size:16,className:"text-indigo-600 ml-auto"})]},t))})]}),e.jsxs("div",{className:"border-t border-slate-100 pt-6",children:[e.jsxs("button",{type:"button",onClick:()=>w(!y),className:"flex items-center gap-2 text-sm font-medium text-slate-600 hover:text-indigo-600 transition-colors",children:[y?e.jsx(x,{size:16}):e.jsx(M,{size:16}),e.jsx(d,{size:16}),e.jsx("span",{children:"Advanced Access Control"}),!y&&e.jsxs("span",{className:"ml-auto text-xs text-slate-400 bg-slate-100 px-2 py-1 rounded-full",children:[f.length," selected"]})]}),e.jsx(r,{children:y&&e.jsx(a.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},className:"overflow-hidden",children:e.jsx("div",{className:"pt-4 space-y-6",children:Object.entries(N).map(([t,n])=>e.jsxs("div",{className:"space-y-3",children:[e.jsxs("h4",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider flex items-center gap-2",children:["document"===t&&e.jsx(o,{size:12}),"team"===t&&e.jsx(m,{size:12}),"settings"===t&&e.jsx(G,{size:12}),t," Permissions"]}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:n.map(t=>{const n=f.includes(t.key);return e.jsxs("label",{className:`\n                                                                    flex items-center gap-3 p-3 rounded-lg border cursor-pointer transition-all\n                                                                    ${n?"bg-indigo-50 border-indigo-200":"bg-white border-slate-200 hover:border-slate-300"}\n                                                                `,children:[e.jsxs("div",{className:`\n                                                                        w-5 h-5 rounded border flex items-center justify-center transition-colors\n                                                                        ${n?"bg-indigo-600 border-indigo-600":"bg-white border-slate-300"}\n                                                                    `,children:[n&&e.jsx(we,{size:12,className:"text-white"}),e.jsx("input",{type:"checkbox",checked:n,onChange:()=>{return e=t.key,void g(t=>t.includes(e)?t.filter(t=>t!==e):[...t,e]);var e},className:"hidden"})]}),e.jsx("div",{className:"flex-1",children:e.jsx("div",{className:"text-sm font-medium "+(n?"text-indigo-900":"text-slate-700"),children:t.label})})]},t.key)})})]},t))})})})]})]})}),e.jsxs("div",{className:"px-8 py-5 border-t border-slate-200 bg-slate-50 flex justify-end gap-3 sticky bottom-0 z-20",children:[e.jsx("button",{type:"button",onClick:i,className:"px-5 py-2.5 text-sm font-medium text-slate-600 hover:text-slate-900 hover:bg-slate-200/50 rounded-xl transition-colors",children:"Cancel"}),e.jsx("button",{type:"submit",form:"editForm",disabled:b,className:"px-8 py-2.5 text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 rounded-xl shadow-lg shadow-indigo-200 transition-all hover:-translate-y-0.5 disabled:opacity-70 disabled:cursor-not-allowed flex items-center gap-2",children:b?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin"}),"Saving..."]}):e.jsxs(e.Fragment,{children:[e.jsx(_e,{size:18}),"Save Changes"]})})]})]})]}):null},Wg=()=>{const{user:t}=lr(),{matrix:n}=gd(),[i,o]=kt.useState([]),[l,c]=kt.useState(!0),[u,h]=kt.useState(""),[m,p]=kt.useState(!1),[g,x]=kt.useState(null),[b,v]=kt.useState("members"),[y,w]=kt.useState(null);kt.useEffect(()=>{j()},[]);const j=async()=>{try{c(!0);const e=await sr.get("/team");o(e.data)}catch(e){}finally{c(!1)}},N=async e=>{if(confirm("Are you sure you want to remove this member?")){try{await(e=>sr.delete(`/team/${e}`))(e),o(i.filter(t=>t.id!==e)),$t.success("Member removed successfully")}catch(t){$t.error("Failed to remove member")}w(null)}},k=i.filter(e=>e.child?.name?.toLowerCase().includes(u.toLowerCase())||e.child?.email?.toLowerCase().includes(u.toLowerCase())),S=e=>{switch(e){case"admin":return"bg-purple-100 text-purple-700 border-purple-200";case"editor":return"bg-blue-100 text-blue-700 border-blue-200";case"member":return"bg-slate-100 text-slate-700 border-slate-200";case"viewer":return"bg-emerald-100 text-emerald-700 border-emerald-200";default:return"bg-slate-100 text-slate-700"}},C=e=>{switch(e){case"active":return"bg-emerald-50 text-emerald-700 border-emerald-100";case"pending":return"bg-amber-50 text-amber-700 border-amber-100";default:return"bg-slate-100 text-slate-500"}};return e.jsxs(bf,{children:[e.jsx(xf,{title:"Team Management",subtitle:"Manage your team members and their roles.",children:e.jsxs("button",{onClick:()=>p(!0),className:"flex items-center gap-2 px-4 py-2 bg-indigo-600 text-white font-medium rounded-lg hover:bg-indigo-700 transition-colors shadow-md shadow-indigo-600/20 text-sm",children:[e.jsx(ne,{size:18,strokeWidth:2.5}),"Invite Member"]})}),e.jsx("div",{className:"border-b border-slate-200 mb-6",children:e.jsxs("div",{className:"flex gap-6",children:[e.jsxs("button",{onClick:()=>v("members"),className:"pb-3 text-sm font-medium transition-colors relative "+("members"===b?"text-indigo-600":"text-slate-500 hover:text-slate-700"),children:["Members","members"===b&&e.jsx(a.div,{layoutId:"tab-underline",className:"absolute bottom-0 left-0 right-0 h-0.5 bg-indigo-600"})]}),e.jsxs("button",{onClick:()=>v("roles"),className:"pb-3 text-sm font-medium transition-colors relative "+("roles"===b?"text-indigo-600":"text-slate-500 hover:text-slate-700"),children:["Roles & Permissions","roles"===b&&e.jsx(a.div,{layoutId:"tab-underline",className:"absolute bottom-0 left-0 right-0 h-0.5 bg-indigo-600"})]})]})}),e.jsx(r,{mode:"wait",children:"members"===b?e.jsxs(a.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.2},children:[e.jsxs("div",{className:"bg-white p-4 rounded-lg border border-slate-200 shadow-sm mb-6 flex items-center gap-3",children:[e.jsx(Q,{className:"text-slate-400",size:20}),e.jsx("input",{type:"text",placeholder:"Search members by name or email...",className:"flex-1 outline-none text-slate-700 placeholder:text-slate-400",value:u,onChange:e=>h(e.target.value)})]}),e.jsxs("div",{className:"bg-white rounded-lg border border-slate-200 shadow-sm overflow-hidden min-h-[400px]",children:[e.jsx("div",{className:"hidden md:block overflow-x-auto",children:e.jsxs("table",{className:"w-full text-left",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-slate-50 border-b border-slate-200",children:[e.jsx("th",{className:"px-6 py-4 text-xs font-semibold text-slate-500 uppercase tracking-wider",children:"User"}),e.jsx("th",{className:"px-6 py-4 text-xs font-semibold text-slate-500 uppercase tracking-wider",children:"Role"}),e.jsx("th",{className:"px-6 py-4 text-xs font-semibold text-slate-500 uppercase tracking-wider",children:"Status"}),e.jsx("th",{className:"px-6 py-4 text-xs font-semibold text-slate-500 uppercase tracking-wider text-right",children:"Actions"})]})}),e.jsx("tbody",{className:"divide-y divide-slate-100",children:l?e.jsx("tr",{children:e.jsx("td",{colSpan:"4",className:"px-6 py-8 text-center text-slate-500",children:e.jsx("div",{className:"flex items-center justify-center h-full",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-indigo-600"})})})}):0===k.length?e.jsx("tr",{children:e.jsx("td",{colSpan:"4",className:"px-6 py-8 text-center text-slate-500",children:e.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-center p-8",children:[e.jsx("div",{className:"w-16 h-16 bg-slate-50 rounded-full flex items-center justify-center mb-4",children:e.jsx(s,{className:"text-slate-300",size:32})}),e.jsx("h3",{className:"text-lg font-medium text-slate-900 mb-1",children:"No team members yet"}),e.jsx("p",{className:"text-slate-500 text-sm max-w-sm",children:"Invite your colleagues to collaborate on documents and manage your business together."})]})})}):k.map(t=>e.jsxs("tr",{className:"hover:bg-slate-50 transition-colors",children:[e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-indigo-100 flex items-center justify-center text-indigo-700 font-bold border-2 border-white shadow-sm",children:t.child?.name?.charAt(0).toUpperCase()||"?"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-slate-900",children:t.child?.name||"Unknown User"}),e.jsx("div",{className:"text-sm text-slate-500",children:t.child?.email})]})]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex flex-col items-start gap-1",children:[e.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium border ${S(t.role)} capitalize`,children:t.role||"Member"}),t.permissions&&e.jsxs("span",{className:"text-[10px] text-slate-400 flex items-center gap-0.5",children:[e.jsx(d,{size:10}),"Custom Access"]})]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("span",{className:`inline-flex items-center gap-1.5 px-2.5 py-0.5 rounded-full text-xs font-medium border ${C(t.status)}`,children:[e.jsx("div",{className:"w-1.5 h-1.5 rounded-full "+("active"===t.status?"bg-emerald-500":"bg-amber-500")}),"active"===t.status?"Active":"Pending"]})}),e.jsx("td",{className:"px-6 py-4 text-right",children:e.jsx("div",{className:"relative group inline-block text-left",children:e.jsx("button",{onClick:e=>{e.stopPropagation();const n=e.currentTarget.getBoundingClientRect();w(y===t.id?null:{id:t.id,top:n.bottom+window.scrollY,left:n.right-192})},className:"p-1.5 hover:bg-slate-100 rounded-md text-slate-400 hover:text-slate-600 transition-colors",children:e.jsx(Ve,{size:16})})})})]},t.id))})]})}),e.jsx("div",{className:"md:hidden divide-y divide-slate-100",children:l?e.jsx("div",{className:"p-8 text-center text-slate-500",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-indigo-600 mx-auto"})}):0===k.length?e.jsxs("div",{className:"p-8 text-center flex flex-col items-center",children:[e.jsx("div",{className:"w-12 h-12 bg-slate-50 rounded-full flex items-center justify-center mb-3",children:e.jsx(s,{className:"text-slate-300",size:24})}),e.jsx("p",{className:"text-slate-500 text-sm",children:"No members found."})]}):k.map(t=>e.jsxs("div",{className:"p-4 flex flex-col gap-3",children:[e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-indigo-100 flex items-center justify-center text-indigo-700 font-bold border-2 border-white shadow-sm",children:t.child?.name?.charAt(0).toUpperCase()||"?"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-slate-900",children:t.child?.name||"Unknown User"}),e.jsx("div",{className:"text-sm text-slate-500",children:t.child?.email})]})]}),e.jsx("button",{onClick:e=>{e.stopPropagation();const n=e.currentTarget.getBoundingClientRect();w(y===t.id?null:{id:t.id,top:n.bottom+window.scrollY,left:n.right-192})},className:"p-1 text-slate-400",children:e.jsx(Ve,{size:20})})]}),e.jsxs("div",{className:"flex items-center gap-3 pl-13",children:[e.jsx("span",{className:`inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium border ${S(t.role)} capitalize`,children:t.role||"Member"}),e.jsxs("span",{className:`inline-flex items-center gap-1.5 px-2 py-0.5 rounded-full text-xs font-medium border ${C(t.status)}`,children:[e.jsx("div",{className:"w-1.5 h-1.5 rounded-full "+("active"===t.status?"bg-emerald-500":"bg-amber-500")}),"active"===t.status?"Active":"Pending"]})]})]},t.id))})]})]},"members"):e.jsx(a.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.2},children:e.jsxs("div",{className:"bg-white rounded-lg border border-slate-200 shadow-sm overflow-hidden",children:[e.jsxs("div",{className:"p-6 border-b border-slate-200 bg-slate-50",children:[e.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:"Role Permissions"}),e.jsx("p",{className:"text-slate-500 text-sm mt-1",children:"View access levels for each role. (Read-only reference)"})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full text-left border-collapse",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-white border-b border-slate-200",children:[e.jsx("th",{className:"px-6 py-4 text-xs font-semibold text-slate-500 uppercase tracking-wider w-1/3 border-r border-slate-100",children:"Permission"}),n.roles&&Object.keys(n.roles).map(t=>e.jsx("th",{className:"px-6 py-4 text-xs font-semibold text-center text-slate-500 uppercase tracking-wider w-1/6",children:n.roles[t]},t))]})}),e.jsx("tbody",{className:"divide-y divide-slate-100",children:n.permissions&&n.permissions.map(t=>e.jsxs("tr",{className:"hover:bg-slate-50 transition-colors",children:[e.jsxs("td",{className:"px-6 py-4 text-sm font-medium text-slate-700 border-r border-slate-100",children:[t.label,e.jsx("div",{className:"text-xs text-slate-400 font-normal mt-0.5",children:t.key})]}),Object.keys(n.roles).map(n=>{const r=t.roles.includes(n);return e.jsx("td",{className:"px-6 py-4 text-center",children:r?e.jsx(f,{size:18,className:"mx-auto text-emerald-500"}):e.jsx("div",{className:"w-1.5 h-1.5 bg-slate-200 rounded-full mx-auto"})},n)})]},t.key))})]})})]})},"roles")}),y&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>w(null)}),e.jsxs("div",{className:"fixed z-50 w-48 bg-white rounded-lg shadow-xl border border-slate-200 py-1 overflow-hidden animate-in fade-in zoom-in duration-200 origin-top-right",style:{top:y.top+5,left:y.left},children:[e.jsxs("button",{onClick:()=>{const e=i.find(e=>e.id===y.id);e&&x(e),w(null)},className:"w-full text-left px-4 py-2.5 text-sm text-slate-700 hover:bg-slate-50 flex items-center gap-2 border-b border-slate-100",children:[e.jsx(ue,{size:14}),"Edit Access"]}),e.jsxs("button",{onClick:()=>{N(y.id),w(null)},className:"w-full text-left px-4 py-2.5 text-sm text-red-600 hover:bg-red-50 flex items-center gap-2 mt-1",children:[e.jsx(te,{size:14}),"Remove Member"]})]})]}),e.jsx(Bg,{isOpen:m,onClose:()=>p(!1),onInvite:async e=>{try{await(e=>sr.post("/team",e))(e),j(),p(!1),$t.success("Invitation sent successfully")}catch(t){$t.error("Failed to invite member: "+(t.response?.data?.message||t.message))}}}),e.jsx($g,{isOpen:!!g,onClose:()=>x(null),member:g,onUpdate:async(e,t)=>{try{await((e,t)=>sr.put(`/team/${e}`,t))(e,t),j(),$t.success("Member updated successfully")}catch(n){$t.error("Failed to update member: "+(n.response?.data?.message||n.message))}}})]})},Ug=({onFileUpload:n})=>{const[l,c]=kt.useState(!1),[d,u]=kt.useState(null),[h,m]=kt.useState(null),[p,g]=kt.useState(!1),x=kt.useCallback(e=>{e.preventDefault(),e.stopPropagation(),"dragenter"===e.type||"dragover"===e.type?c(!0):"dragleave"===e.type&&c(!1)},[]),v=kt.useCallback(e=>{e.preventDefault(),e.stopPropagation(),c(!1),e.dataTransfer.files&&e.dataTransfer.files[0]&&y(e.dataTransfer.files[0])},[]),y=e=>{g(!0),setTimeout(()=>{(e=>(m(null),"application/pdf"!==e.type?(m("Please upload a valid PDF document."),!1):!(e.size>10485760&&(m("File size must be under 10MB."),1))))(e)?(u(e),m(null),setTimeout(()=>n(e),1500)):u(null),g(!1)},1e3)};return e.jsxs("div",{className:"w-full h-full flex flex-col items-center justify-center p-4 lg:p-12 relative overflow-hidden",children:[e.jsxs("div",{className:"absolute inset-0 z-0 opacity-40 pointer-events-none",children:[e.jsx("div",{className:"absolute top-[-10%] left-[-10%] w-[40%] h-[40%] bg-indigo-200/30 rounded-full blur-[100px]"}),e.jsx("div",{className:"absolute bottom-[-10%] right-[-10%] w-[40%] h-[40%] bg-purple-200/30 rounded-full blur-[100px]"})]}),e.jsxs(a.div,{initial:{opacity:0,scale:.98},animate:{opacity:1,scale:1},transition:{duration:.6,ease:"easeOut"},className:"relative z-10 w-full max-w-5xl bg-white/60 backdrop-blur-xl rounded-[2.5rem] shadow-[0_32px_64px_-12px_rgba(0,0,0,0.08)] border border-white/50 flex flex-col md:flex-row overflow-hidden min-h-[550px]",children:[e.jsxs("div",{className:"hidden md:flex w-full md:w-5/12 bg-white/40 p-10 lg:p-14 flex-col justify-between border-r border-slate-100/50",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"inline-flex items-center gap-2 px-3 py-1 bg-indigo-50 border border-indigo-100 text-indigo-700 text-xs font-bold uppercase tracking-wider rounded-full mb-8",children:[e.jsx(s,{size:12,className:"fill-indigo-700"}),"Secure Environment"]}),e.jsxs("h1",{className:"text-3xl lg:text-4xl font-extrabold text-slate-800 leading-tight mb-4",children:["Upload your ",e.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-indigo-600 to-purple-600",children:"Document"})]}),e.jsx("p",{className:"text-slate-500 text-base leading-relaxed",children:"Drag and drop your PDF to get started. We use banking-grade encryption to ensure your documents remain private and secure throughout the signing workflow."})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-6",children:[e.jsxs("div",{className:"flex items-start gap-4 p-4 rounded-2xl bg-white/50 border border-white/60 shadow-sm hover:shadow-md transition-shadow",children:[e.jsx("div",{className:"p-2.5 bg-indigo-100 text-indigo-600 rounded-xl",children:e.jsx(i,{size:20})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-slate-700 text-sm",children:"Lightning Fast"}),e.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Instant processing and rendering."})]})]}),e.jsxs("div",{className:"flex items-start gap-4 p-4 rounded-2xl bg-white/50 border border-white/60 shadow-sm hover:shadow-md transition-shadow",children:[e.jsx("div",{className:"p-2.5 bg-emerald-100 text-emerald-600 rounded-xl",children:e.jsx(s,{size:20})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-slate-700 text-sm",children:"Encrypted Storage"}),e.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Your data never leaves our secure loop."})]})]})]})]}),e.jsxs("div",{className:"w-full md:w-7/12 p-6 lg:p-12 flex flex-col items-center justify-center bg-gradient-to-br from-white to-slate-50/50 relative",children:[e.jsx("div",{onDragEnter:x,onDragLeave:x,onDragOver:x,onDrop:v,onClick:()=>!d&&document.getElementById("file-upload").click(),className:`\n                            relative w-full h-full min-h-[350px] border-[3px] border-dashed rounded-[2rem] flex flex-col items-center justify-center text-center transition-all duration-300 cursor-pointer group\n                            ${l?"border-indigo-500 bg-indigo-50/50 scale-[0.98]":d?"border-emerald-400 bg-emerald-50/30":h?"border-red-300 bg-red-50/50":"border-slate-200 hover:border-indigo-300 hover:bg-slate-50"}\n                        `,children:e.jsx(r,{mode:"wait",children:p?e.jsxs(a.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"flex flex-col items-center p-8",children:[e.jsxs("div",{className:"relative w-24 h-24 mb-6",children:[e.jsx("div",{className:"absolute inset-0 border-4 border-indigo-100 rounded-full"}),e.jsx("div",{className:"absolute inset-0 border-4 border-t-indigo-600 rounded-full animate-spin"}),e.jsx(o,{className:"absolute inset-0 m-auto text-indigo-600",size:32})]}),e.jsx("h3",{className:"text-xl font-bold text-slate-800",children:"Verifying..."}),e.jsx("p",{className:"text-slate-500 mt-2",children:"Checking file integrity"})]},"validating"):d?e.jsxs(a.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"flex flex-col items-center p-8 w-full max-w-sm",children:[e.jsx("div",{className:"w-24 h-24 bg-emerald-100 rounded-full flex items-center justify-center mb-6 shadow-sm",children:e.jsx(f,{size:48,className:"text-emerald-600"})}),e.jsx("h3",{className:"text-xl font-bold text-slate-800 break-words w-full px-4",children:d.name}),e.jsx("p",{className:"text-sm font-mono text-slate-500 mt-2 mb-6 bg-white px-3 py-1 rounded-lg border border-slate-100 shadow-sm",children:(e=>{if(0===e)return"0 Bytes";const t=Math.floor(Math.log(e)/Math.log(1024));return parseFloat((e/Math.pow(1024,t)).toFixed(2))+" "+["Bytes","KB","MB"][t]})(d.size)}),e.jsxs("button",{onClick:e=>{e.stopPropagation(),u(null),m(null)},className:"text-rose-500 hover:text-rose-700 text-sm font-semibold flex items-center gap-2 px-4 py-2 hover:bg-rose-50 rounded-lg transition-colors",children:[e.jsx(t,{size:16})," Cancel"]})]},"success"):h?e.jsxs(a.div,{initial:{opacity:0},animate:{opacity:1},className:"flex flex-col items-center p-8",children:[e.jsx("div",{className:"w-20 h-20 bg-red-100 text-red-500 rounded-full flex items-center justify-center mb-4",children:e.jsx(b,{size:40})}),e.jsx("h3",{className:"text-lg font-bold text-slate-800",children:"Upload Failed"}),e.jsx("p",{className:"text-red-500 mt-1 text-center max-w-xs",children:h}),e.jsx("button",{onClick:e=>{e.stopPropagation(),m(null)},className:"mt-6 text-slate-500 hover:text-slate-800 underline underline-offset-4",children:"Try again"})]},"error"):e.jsxs(a.div,{initial:{opacity:0},animate:{opacity:1},className:"flex flex-col items-center p-8",children:[e.jsx("div",{className:"w-28 h-28 bg-indigo-50/80 rounded-full flex items-center justify-center mb-8 group-hover:scale-110 transition-transform duration-300 shadow-sm group-hover:shadow-md",children:e.jsx(Ge,{size:48,className:"text-indigo-600 transition-colors group-hover:text-indigo-700",strokeWidth:1.5})}),e.jsx("h3",{className:"text-2xl font-bold text-slate-800 mb-2 group-hover:text-indigo-700 transition-colors",children:"Drag & Drop PDF"}),e.jsxs("p",{className:"text-slate-500 mb-8 max-w-xs leading-relaxed",children:["Drop your file here or click to browse. ",e.jsx("br",{}),e.jsx("span",{className:"text-xs text-slate-400 mt-1 block",children:"Supports PDF up to 10MB"})]}),e.jsxs("button",{className:"px-8 py-3.5 bg-slate-900 text-white font-semibold rounded-xl shadow-lg hover:shadow-xl hover:-translate-y-1 transition-all duration-300 flex items-center gap-2 group-hover:bg-indigo-600",children:[e.jsx(o,{size:18}),e.jsx("span",{children:"Choose Local File"})]})]},"idle")})}),e.jsx("input",{id:"file-upload",type:"file",accept:".pdf,application/pdf",onChange:e=>{e.target.files&&e.target.files[0]&&y(e.target.files[0])},className:"hidden"})]})]}),e.jsxs("p",{className:"mt-8 text-center text-xs text-slate-400 font-medium",children:["By uploading, you agree to our ",e.jsx("span",{className:"underline cursor-pointer hover:text-slate-600",children:"Terms of Service"})," and ",e.jsx("span",{className:"underline cursor-pointer hover:text-slate-600",children:"Privacy Policy"}),"."]})]})},Hg=({pageNumber:t,signatures:n,onUpdateSignature:r,onRemoveSignature:a,onEditSignature:s,readOnly:i,onFieldClick:o,scale:l=1,rotation:c=0})=>{const{setNodeRef:d,isOver:u}=qh({id:`page-${t}`});return e.jsxs("div",{ref:d,id:`pdf-page-${t}`,className:"relative mb-6 transition-colors "+(u?"ring-2 ring-indigo-500 ring-offset-2":""),style:{width:"fit-content",margin:"0 auto 1.5rem auto"},children:[e.jsx(Ht,{pageNumber:t,className:"",renderTextLayer:!1,renderAnnotationLayer:!1,width:800,scale:l,rotate:c}),n.map(t=>i?e.jsx("div",{className:"absolute",style:{left:`${t.position.x}%`,top:`${t.position.y}%`,cursor:o&&t.metadata?.isMine&&!t.metadata?.value?"pointer":"default",pointerEvents:"auto"},onClick:e=>{e.stopPropagation(),o&&o(t)},children:e.jsx(um,{data:t.metadata,isSelected:!1,isDragging:!1,readOnly:!0})},t.id):e.jsx(hm,{id:t.id,data:t.metadata,left:t.position.x,top:t.position.y,onUpdate:r,onRemove:a,onEdit:s},t.id))]})},Vg="/assets/pdf.worker.min-qwK7q_zL.mjs";Vt.workerSrc=Vg;const qg=({pdfUrl:t,signatures:n=[],onUpdateSignature:r,onRemoveSignature:a,onEditSignature:s,readOnly:i=!1,onFieldClick:o,onLoadSuccess:l})=>{const[c,d]=kt.useState(null),[u,h]=kt.useState(1),[m,p]=kt.useState(0),f=kt.useMemo(()=>n.reduce((e,t)=>{const n=t.pageNumber||1;return e[n]||(e[n]=[]),e[n].push(t),e},{}),[n]);return t?e.jsxs("div",{className:"relative flex flex-col items-center bg-slate-100/50 h-full w-full rounded-xl border border-slate-200 overflow-hidden",children:[e.jsxs("div",{className:"sticky top-0 z-30 w-full bg-white/80 backdrop-blur-md border-b border-slate-200 p-2 flex items-center justify-between px-4",children:[e.jsx("span",{className:"text-xs font-semibold text-slate-500 uppercase tracking-wider",children:c?`${c} Pages`:"Loading Document..."}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>h(e=>Math.max(e-.1,.5)),className:"p-1.5 text-slate-600 hover:bg-slate-100 rounded-lg transition-colors",title:"Zoom Out",children:e.jsx(Ee,{size:18})}),e.jsxs("span",{className:"text-xs font-mono font-medium text-slate-600 w-12 text-center",children:[Math.round(100*u),"%"]}),e.jsx("button",{onClick:()=>h(e=>Math.min(e+.1,2)),className:"p-1.5 text-slate-600 hover:bg-slate-100 rounded-lg transition-colors",title:"Zoom In",children:e.jsx(De,{size:18})}),e.jsx("div",{className:"w-px h-4 bg-slate-300 mx-1"}),e.jsx("button",{onClick:()=>p(e=>e+90),className:"p-1.5 text-slate-600 hover:bg-slate-100 rounded-lg transition-colors",title:"Rotate",children:e.jsx(Ke,{size:18})})]})]}),e.jsxs("div",{className:"flex-1 w-full overflow-y-auto overflow-x-hidden p-8 flex flex-col items-center scrollbar-thin scrollbar-thumb-slate-300 scrollbar-track-transparent",children:[e.jsx(qt,{file:t,onLoadSuccess:({numPages:e})=>{d(e),l&&l({numPages:e})},className:"flex flex-col items-center gap-8",loading:e.jsxs("div",{className:"flex flex-col items-center justify-center py-20",children:[e.jsx("div",{className:"w-10 h-10 border-4 border-indigo-200 border-t-indigo-600 rounded-full animate-spin mb-4"}),e.jsx("p",{className:"text-slate-500 font-medium",children:"Loading PDF..."})]}),error:e.jsxs("div",{className:"text-center py-20",children:[e.jsx("p",{className:"text-red-500 font-medium",children:"Failed to load PDF."}),e.jsx("p",{className:"text-sm text-slate-400 mt-2",children:"Please ensure it is a valid PDF file."})]}),children:c&&Array.from({length:c},(t,n)=>e.jsx(Hg,{pageNumber:n+1,signatures:f[n+1]||[],onUpdateSignature:r,onRemoveSignature:a,onEditSignature:s,readOnly:i,onFieldClick:o,scale:u,rotation:m},`page_${n+1}`))}),e.jsx("div",{className:"h-40 w-full flex-shrink-0"})]})]}):null},Yg=({signer:t,onRemove:n,onEdit:r,isEditing:a,onUpdate:s,readOnly:i})=>{const{attributes:o,listeners:l,setNodeRef:c,transform:d,transition:u,isDragging:h}=ip({id:t.id}),m={transform:Hd.Transform.toString(d),transition:u,opacity:h?.4:1};return e.jsx("div",{ref:c,style:m,className:`group p-4 bg-slate-50 hover:bg-white rounded-xl border border-slate-200 hover:border-indigo-200 hover:shadow-md transition-all ${h?"shadow-lg ring-2 ring-indigo-500/20":""} ${i?"opacity-70 cursor-default":""}`,children:e.jsxs("div",{className:"flex items-center gap-3",children:[!i&&e.jsx("div",{...o,...l,className:"cursor-move text-slate-400 hover:text-indigo-500 transition-colors p-1",children:e.jsx(ee,{size:18})}),e.jsx("div",{className:"w-8 h-8 bg-indigo-100 text-indigo-600 rounded-lg flex items-center justify-center font-bold text-sm flex-shrink-0",children:t.order}),e.jsx("div",{className:"flex-1 min-w-0",children:a&&!i?e.jsxs("div",{className:"space-y-2",children:[e.jsx("input",{type:"text",defaultValue:t.name,onBlur:e=>s(t.id,{name:e.target.value}),className:"w-full px-2 py-1 text-sm border border-slate-200 rounded focus:border-indigo-500 outline-none",placeholder:"Name",autoFocus:!0,disabled:i}),e.jsx("input",{type:"email",defaultValue:t.email,onBlur:e=>s(t.id,{email:e.target.value}),className:"w-full px-2 py-1 text-sm border border-slate-200 rounded focus:border-indigo-500 outline-none",placeholder:"Email",disabled:i})]}):e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-slate-800 truncate",children:t.name||"Unnamed Signer"}),e.jsx("p",{className:"text-xs text-slate-500 truncate",children:t.email||"No email provided"})]})}),e.jsx("span",{className:"px-2 py-1 text-xs font-medium rounded-full "+("signer"===t.role?"bg-blue-100 text-blue-700":"bg-slate-100 text-slate-700"),children:t.role}),!i&&e.jsxs("div",{className:"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[e.jsx("button",{onClick:()=>r(a?null:t.id),className:"p-1.5 rounded transition-colors "+(a?"bg-indigo-100 text-indigo-600":"hover:bg-blue-50 text-slate-400 hover:text-blue-600"),title:"Edit",children:e.jsx(pe,{size:14})}),e.jsx("button",{onClick:()=>n(t.id),className:"p-1.5 hover:bg-red-50 text-slate-400 hover:text-red-600 rounded transition-colors",title:"Remove",children:e.jsx(te,{size:14})})]})]})})},Gg=({signers:t,onUpdateSigners:n,readOnly:r=!1})=>{const[a,i]=St.useState(null),o=au(ru(Zu),ru(Gu)),l=(e,r)=>{n(t.map(t=>t.id===e?{...t,...r}:t))},c=e=>{const r=t.filter(t=>t.id!==e).map((e,t)=>({...e,order:t+1}));n(r)};return e.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-slate-200 p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-bold text-slate-800",children:"Signers"}),e.jsx("p",{className:"text-sm text-slate-500",children:"Drag to reorder signing sequence"})]}),e.jsxs("div",{className:"bg-indigo-50 text-indigo-600 px-3 py-1 rounded-full text-xs font-bold border border-indigo-100",children:[t.length," ",1===t.length?"Person":"People"]})]}),e.jsx("div",{className:"space-y-4",children:0===t.length?e.jsxs("div",{className:"text-center py-8 border-2 border-dashed border-slate-200 rounded-xl bg-slate-50/50",children:[e.jsx("div",{className:"w-12 h-12 bg-white rounded-full flex items-center justify-center mx-auto mb-3 shadow-sm border border-slate-100",children:e.jsx(j,{size:20,className:"text-slate-400"})}),e.jsx("p",{className:"text-slate-600 font-medium text-sm",children:"No signers yet"}),e.jsx("p",{className:"text-xs text-slate-400 mt-1 max-w-[200px] mx-auto",children:"Drag a signature field onto the document to add a signer automatically."})]}):e.jsx(Bh,{sensors:o,collisionDetection:uu,onDragEnd:e=>{const{active:r,over:a}=e;if(r.id!==a.id){const e=t.findIndex(e=>e.id===r.id),s=t.findIndex(e=>e.id===a.id),i=[...t],[o]=i.splice(e,1);i.splice(s,0,o);const l=i.map((e,t)=>({...e,order:t+1}));n(l)}},children:e.jsx(Zm,{items:t.map(e=>e.id),strategy:Xm,children:e.jsx("div",{className:"space-y-3",children:t.map(t=>e.jsx(Yg,{signer:t,onRemove:c,onEdit:i,isEditing:a===t.id,onUpdate:l,readOnly:r},t.id))})})})}),t.length>0&&e.jsx("div",{className:"mt-6 p-4 bg-slate-50/50 rounded-xl border border-slate-200",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(s,{size:16,className:"text-slate-400 flex-shrink-0 mt-0.5"}),e.jsxs("div",{className:"text-xs text-slate-500 leading-relaxed",children:[e.jsx("span",{className:"font-semibold text-slate-700",children:"Sequential Signing:"})," Signers will receive the document in the order shown above (",1," to ",t.length,"). Drag items to change the sequence."]})]})})]})},Kg=({type:t,icon:n,label:r})=>{const{attributes:a,listeners:s,setNodeRef:i,isDragging:o}=Uh({id:`toolbar-${t}`,data:{type:"toolbar-item",fieldType:t}});return e.jsxs("div",{ref:i,...s,...a,className:`\n                flex items-center gap-3 p-3 rounded-lg border border-slate-200 bg-white \n                cursor-grab active:cursor-grabbing hover:border-indigo-300 hover:shadow-sm transition-all\n                ${o?"opacity-50 border-indigo-500 ring-2 ring-indigo-500/20":""}\n            `,style:{touchAction:"none"},children:[e.jsx("div",{className:"p-2 rounded-md "+(o?"bg-indigo-100 text-indigo-600":"bg-slate-100 text-slate-500"),children:e.jsx(n,{size:18})}),e.jsx("span",{className:"text-sm font-medium text-slate-700",children:r})]})},Xg=()=>e.jsxs("div",{className:"space-y-3",children:[e.jsx("h3",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider mb-4 px-1",children:"Signature Tools"}),e.jsx(Kg,{type:"signature",icon:P,label:"Signature Field"}),e.jsx(Kg,{type:"initials",icon:j,label:"Initials"}),e.jsx(Kg,{type:"date",icon:F,label:"Date Signed"}),e.jsx(Kg,{type:"text",icon:ie,label:"Text Box"}),e.jsx(Kg,{type:"checkbox",icon:fe,label:"Checkbox"}),e.jsx("div",{className:"mt-4 p-3 bg-indigo-50 rounded-lg text-xs text-indigo-700 border border-indigo-100",children:e.jsx("p",{children:"Drag fields onto the document to request information."})})]}),Qg=kt.memo(({show:n,onClose:s,signers:i,onProceed:o,canProceed:c})=>e.jsx(r,{children:n&&e.jsxs(e.Fragment,{children:[e.jsx(a.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-slate-900/40 backdrop-blur-sm z-40 lg:hidden",onClick:s}),e.jsxs(a.div,{initial:{y:"100%"},animate:{y:0},exit:{y:"100%"},transition:{type:"spring",damping:25,stiffness:300},className:"fixed bottom-0 left-0 right-0 h-[60vh] bg-white rounded-t-2xl shadow-[0_-8px_30px_rgba(0,0,0,0.12)] z-50 lg:hidden flex flex-col",children:[e.jsxs("div",{className:"p-4 border-b border-slate-100 flex items-center justify-between bg-slate-50/50 rounded-t-2xl",children:[e.jsxs("h3",{className:"font-bold text-slate-800 flex items-center gap-2",children:[e.jsx(P,{size:18,className:"text-indigo-600"}),"Signature Tools"]}),e.jsx("button",{onClick:s,className:"p-2 bg-slate-100 rounded-full text-slate-500",children:e.jsx(t,{size:20})})]}),e.jsxs("div",{className:"flex-1 overflow-y-auto p-6 bg-white safe-area-bottom",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h4",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider mb-3",children:"Drag Fields to Canvas"}),e.jsx(Xg,{})]}),e.jsxs("div",{className:"pt-4 border-t border-slate-100",children:[e.jsxs("div",{className:"flex items-center justify-between text-sm mb-3",children:[e.jsx("span",{className:"text-slate-600 font-medium",children:"Signers Required"}),e.jsx("span",{className:"font-bold text-indigo-600 bg-indigo-50 px-2 py-0.5 rounded text-xs",children:i.length})]}),e.jsxs("div",{className:"space-y-2 mb-4",children:[i.map(t=>e.jsxs("div",{className:"flex items-center gap-2 text-xs text-slate-600 bg-slate-50 p-2 rounded border border-slate-100",children:[e.jsx("div",{className:"w-5 h-5 bg-indigo-100 text-indigo-600 rounded-full flex items-center justify-center font-bold text-[10px]",children:t.order}),e.jsx("span",{className:"truncate flex-1",children:t.name||t.email||"New Signer"})]},t.id)),0===i.length&&e.jsx("p",{className:"text-xs text-slate-400 italic",children:"No signers yet. Add a field to create one."})]})]})]}),e.jsx("div",{className:"p-4 border-t border-slate-200 bg-slate-50 pb-8",children:e.jsxs("button",{onClick:o,disabled:!c,className:"w-full flex items-center justify-center gap-2 py-3 bg-indigo-600 hover:bg-indigo-700 text-white font-bold rounded-xl shadow-lg hover:shadow-indigo-600/20 transition-all disabled:opacity-50 disabled:cursor-not-allowed active:scale-95",children:[e.jsx("span",{children:"Review & Send"}),e.jsx(l,{size:16})]})})]})]})})),Jg=kt.memo(({show:n,onClose:s,signers:i,onUpdateSigners:o,onSend:l,onBack:c})=>e.jsx(r,{children:n&&e.jsxs(e.Fragment,{children:[e.jsx(a.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-slate-900/40 backdrop-blur-sm z-40 lg:hidden",onClick:s}),e.jsxs(a.div,{initial:{y:"100%"},animate:{y:0},exit:{y:"100%"},transition:{type:"spring",damping:25,stiffness:300},className:"fixed bottom-0 left-0 right-0 h-[85vh] bg-white rounded-t-2xl shadow-[0_-8px_30px_rgba(0,0,0,0.12)] z-50 lg:hidden flex flex-col",children:[e.jsxs("div",{className:"p-4 border-b border-slate-100 flex items-center justify-between bg-slate-50/50 rounded-t-2xl",children:[e.jsx("h3",{className:"font-bold text-slate-800",children:"Review Signers"}),e.jsx("button",{onClick:s,className:"p-2 bg-slate-100 rounded-full text-slate-500",children:e.jsx(t,{size:20})})]}),e.jsxs("div",{className:"flex-1 overflow-y-auto p-4 bg-white safe-area-bottom",children:[e.jsx("p",{className:"text-sm text-slate-500 mb-4 px-1",children:"Verify signer order and details before sending."}),e.jsx(Gg,{signers:i,onUpdateSigners:o,readOnly:!0})]}),e.jsxs("div",{className:"p-4 border-t border-slate-200 bg-slate-50 space-y-3 pb-8",children:[e.jsxs("button",{onClick:l,className:"w-full flex items-center justify-center gap-2 py-3.5 bg-emerald-600 hover:bg-emerald-700 text-white font-bold rounded-xl shadow-lg hover:shadow-emerald-600/20 transition-all active:scale-95",children:[e.jsx(ye,{size:18}),e.jsx("span",{children:"Send Document"})]}),e.jsx("button",{onClick:c,className:"w-full py-3 text-slate-500 font-medium hover:text-slate-800 bg-white border border-slate-200 rounded-xl active:bg-slate-50",children:"Back to Edit"})]})]})]})})),Zg=kt.memo(({pdfUrl:t,numPages:n,onPageClick:r,currentPage:a,signatures:s})=>t&&n?e.jsxs("div",{className:"w-full flex flex-col h-full bg-slate-50 border-r border-slate-200",children:[e.jsx("div",{className:"p-4 border-b border-slate-200 bg-white sticky top-0 z-10 shadow-sm",children:e.jsxs("h3",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider flex items-center gap-2",children:[e.jsx(de,{size:14,className:"text-indigo-600"}),"Pages (",n,")"]})}),e.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-4 scrollbar-thin scrollbar-thumb-slate-300",children:e.jsx(qt,{file:t,loading:e.jsx("div",{className:"text-xs text-slate-400 text-center py-4",children:"Loading thumbnails..."}),children:Array.from({length:n},(t,n)=>{const i=n+1,o=(e=>s.filter(t=>t.pageNumber===e))(i),l=a===i;return e.jsxs("div",{className:"relative group",children:[e.jsx("div",{className:"flex items-start gap-2 mb-1",children:e.jsx("span",{className:"text-[10px] font-bold w-4 "+(l?"text-indigo-600":"text-slate-400"),children:i})}),e.jsxs("button",{onClick:()=>r(i),className:"w-full relative transition-all duration-200 group-hover:scale-[1.02] "+(l?"ring-2 ring-indigo-500 rounded-sm shadow-md":"hover:ring-2 hover:ring-indigo-200 rounded-sm"),children:[e.jsxs("div",{className:"aspect-[3/4] bg-white border border-slate-200 rounded-sm overflow-hidden relative shadow-sm",children:[e.jsx(Ht,{pageNumber:i,width:180,renderTextLayer:!1,renderAnnotationLayer:!1,className:"pointer-events-none opacity-90"}),o.length>0&&e.jsx("div",{className:"absolute inset-0 bg-transparent",children:o.map((t,n)=>e.jsx("div",{className:"absolute w-4 h-4 bg-indigo-600 text-white text-[9px] font-bold rounded-full flex items-center justify-center shadow-sm border border-white z-10 transform -translate-x-1/2 -translate-y-1/2 transition-transform hover:scale-125",style:{left:`${t.position.x}%`,top:`${t.position.y}%`},title:`Signer ${t.metadata?.order||"?"}`,children:t.metadata?.order||n+1},t.id))})]}),o.length>0&&e.jsx("div",{className:"absolute top-1 rights-1 flex flex-col gap-1 items-end p-1",children:e.jsxs("div",{className:"bg-emerald-500 text-white text-[9px] px-1.5 py-0.5 rounded-full shadow-sm font-bold border border-white",children:[o.length," Fields"]})})]})]},`thumb-${i}`)})})})]}):null),ex=()=>{const t=Et(),n=au(ru(rh,{activationConstraint:{distance:10}}),ru(sh,{activationConstraint:{delay:250,tolerance:5}})),[s,i]=kt.useState(1),[o,c]=kt.useState(null),[d,u]=kt.useState(null),[h,m]=kt.useState([]),[p,g]=kt.useState([]),[x,b]=kt.useState(!1),[v,y]=kt.useState(null),[w,j]=kt.useState(null),[N,k]=kt.useState(null),[S,C]=kt.useState(0),[_,P]=kt.useState("tools"),[E,D]=kt.useState(!1),[T,M]=kt.useState(!1),[A,z]=kt.useState(!1),[R,I]=kt.useState(!1),[F,L]=kt.useState(null),[B,$]=kt.useState(0),W=kt.useRef(null),U=[{id:1,title:"Upload & Place",icon:O},{id:2,title:"Review & Send",icon:ye}];kt.useEffect(()=>{let e;if(R){$(0);const n=50,r=5e3/n;e=setInterval(()=>{$(n=>{const a=n+100/r;return a>=100?(clearInterval(e),Wt.success("Document sent successfully!"),t("/signatures/list"),100):a})},n)}return()=>clearInterval(e)},[R,t]);const H=e=>{if(!v)return;g(p.map(t=>t.id===v.id?{...t,metadata:e}:t));const{signeeName:t,signeeEmail:n}=e;if(t&&n){const e=h.find(e=>e.email.toLowerCase()===n.trim().toLowerCase());e||m(e=>[...e,{id:`signer-${Date.now()}`,name:t,email:n,role:"signer",order:h.length+1}])}},V=()=>{if(0===p.length)return void Wt.error("Please add at least one signature field");const e=new Set(p.map(e=>e.metadata?.signeeEmail?.toLowerCase()?.trim()).filter(Boolean)),t=h.filter(t=>t.email&&e.has(t.email.toLowerCase().trim())).map((e,t)=>({...e,order:t+1}));m(t),i(2),D(!1)},q=async()=>{if(o){z(!0),L(null);try{const e=new FormData;e.append("file",o),e.append("name",o.name);const t=await fetch("http://127.0.0.1:8000/api/v1/signatures/upload",{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`},body:e});if(!t.ok)throw new Error("Failed to upload document");const n=(await t.json()).data.id,r=p.map(e=>({signerId:h.find(t=>t.email===e.metadata.signeeEmail)?.id,type:"signature",pageNumber:e.pageNumber,x:e.position.x,y:e.position.y,width:200,height:60,metadata:e.metadata})),a=h.map(e=>({id:e.id,name:e.name,email:e.email,order:e.order}));if(!(await fetch("http://127.0.0.1:8000/api/v1/signatures/send",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({document_id:n,signers:a,fields:r})})).ok)throw new Error("Failed to send signature request");I(!0)}catch(e){L(e.message||"Failed to send.")}finally{z(!1)}}};return e.jsxs("div",{className:"max-w-7xl mx-auto h-[calc(100vh-80px)] flex flex-col font-sans",children:[e.jsx(xf,{title:"E-Signature Module",subtitle:"Prepare and send documents",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"flex items-center bg-slate-100 p-1 rounded-lg",children:U.map(t=>e.jsxs("div",{className:"flex items-center gap-2 px-3 py-1.5 rounded-md text-xs md:text-sm font-medium transition-all "+(s===t.id?"bg-white text-indigo-600 shadow-sm":"text-slate-500"),children:[e.jsx(t.icon,{size:14}),e.jsx("span",{className:"hidden md:inline",children:t.title})]},t.id))}),1===s&&o&&e.jsx("button",{onClick:()=>D(!0),className:"lg:hidden p-2 bg-indigo-600 text-white rounded-lg shadow-md active:scale-95 transition-transform",children:e.jsx(G,{size:20})})]})}),e.jsx("div",{className:"flex-1 flex overflow-hidden bg-slate-50 border border-slate-200 rounded-xl shadow-sm mb-6 relative",children:e.jsxs(Bh,{sensors:n,onDragStart:e=>{j(e.active.id),k(e.active.data.current)},onDragEnd:e=>{const{active:t,over:n}=e;if(n&&n.id.startsWith("page-")){const e=parseInt(n.id.replace("page-","")),r=t.rect.current.translated,a=n.rect;if(r&&a){const n=r.left-a.left,s=r.top-a.top,i=n/a.width*100,o=s/a.height*100;if("toolbar-item"===t.data.current.type){const n={id:`sig-${Date.now()}`,type:t.data.current.fieldType,position:{x:i,y:o},pageNumber:e,metadata:{fieldType:t.data.current.fieldType,signeeName:"",signeeEmail:"",type:"all",required:!0,order:p.length+1}};g([...p,n]),y(n),b(!0),D(!1)}else"signature-field"===t.data.current.type&&g(p.map(n=>n.id===t.id?{...n,pageNumber:e,position:{x:i,y:o}}:n))}}j(null)},children:[1===s&&e.jsxs(e.Fragment,{children:[o&&e.jsxs("div",{className:"w-80 bg-white border-r border-slate-200 hidden lg:flex flex-col z-20 h-full",children:[e.jsxs("div",{className:"flex items-center border-b border-slate-200",children:[e.jsx("button",{onClick:()=>P("tools"),className:"flex-1 py-3 text-xs font-bold uppercase tracking-wider transition-colors border-b-2 "+("tools"===_?"border-indigo-600 text-indigo-600 bg-indigo-50/50":"border-transparent text-slate-500 hover:text-slate-700 hover:bg-slate-50"),children:"Tools"}),e.jsx("button",{onClick:()=>P("pages"),className:"flex-1 py-3 text-xs font-bold uppercase tracking-wider transition-colors border-b-2 "+("pages"===_?"border-indigo-600 text-indigo-600 bg-indigo-50/50":"border-transparent text-slate-500 hover:text-slate-700 hover:bg-slate-50"),children:"Pages"})]}),"tools"===_?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"p-4 border-b border-slate-100 bg-white sticky top-0 z-10",children:e.jsxs("h3",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider flex items-center gap-2",children:[e.jsx(G,{size:14}),"Signature Tools"]})}),e.jsxs("div",{className:"flex-1 overflow-y-auto p-5 space-y-6",children:[e.jsx(Xg,{}),e.jsxs("div",{className:"pt-6 border-t border-slate-100",children:[e.jsxs("div",{className:"flex items-center justify-between text-sm mb-3",children:[e.jsx("span",{className:"text-slate-600 font-medium",children:"Signers Required"}),e.jsx("span",{className:"font-bold text-indigo-600 bg-indigo-50 px-2 py-0.5 rounded text-xs",children:h.length})]}),e.jsx("div",{className:"space-y-2",children:h.map(t=>e.jsxs("div",{className:"flex items-center gap-2 text-xs text-slate-600 bg-slate-50 p-2 rounded border border-slate-100",children:[e.jsx("div",{className:"w-5 h-5 bg-indigo-100 text-indigo-600 rounded-full flex items-center justify-center font-bold text-[10px]",children:t.order}),e.jsx("span",{className:"truncate flex-1",children:t.name||t.email||"New Signer"})]},t.id))})]})]}),e.jsx("div",{className:"p-4 border-t border-slate-200 bg-slate-50",children:e.jsxs("button",{onClick:V,disabled:0===p.length,className:"w-full flex items-center justify-center gap-2 py-3 bg-indigo-600 hover:bg-indigo-700 text-white font-bold rounded-lg shadow-lg hover:shadow-indigo-600/20 transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:[e.jsx("span",{children:"Review & Send"}),e.jsx(l,{size:16})]})})]}):e.jsx(Zg,{pdfUrl:d,numPages:S,currentPage:1,onPageClick:e=>{const t=document.getElementById(`pdf-page-${e}`);t&&t.scrollIntoView({behavior:"smooth"})},signatures:p})]}),e.jsx("div",{className:"flex-1 bg-slate-100/50 relative flex flex-col h-full overflow-hidden",children:o?e.jsx("div",{className:"w-full h-full p-4 md:p-8 flex justify-center bg-slate-200/50 relative overflow-hidden",children:e.jsx("div",{className:"w-full h-full bg-white border border-slate-200 relative rounded-xl overflow-hidden shadow-sm",children:e.jsx("div",{ref:W,className:"h-full w-full relative",children:e.jsx(qg,{pdfUrl:d,signatures:p,onUpdateSignature:H,onRemoveSignature:e=>{g(p.filter(t=>t.id!==e))},onEditSignature:e=>{y(e),b(!0)},onLoadSuccess:({numPages:e})=>C(e)})})})}):e.jsx("div",{className:"w-full h-full p-6 flex items-center justify-center overflow-y-auto",children:e.jsx("div",{className:"w-full h-full flex items-center justify-center",children:e.jsx(Ug,{onFileUpload:e=>{c(e);const t=URL.createObjectURL(e);u(t)}})})})})]}),2===s&&e.jsxs("div",{className:"w-full h-full flex bg-slate-50",children:[e.jsxs("div",{className:"w-96 border-r border-slate-200 bg-white hidden lg:flex flex-col h-full shadow-lg z-10",children:[e.jsxs("div",{className:"p-5 border-b border-slate-100 bg-white",children:[e.jsx("h2",{className:"text-lg font-bold text-slate-800",children:"Review Signers"}),e.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Verify details before sending."})]}),e.jsx("div",{className:"flex-1 overflow-y-auto p-2 scrollbar-thin scrollbar-thumb-slate-200",children:e.jsx(Gg,{signers:h,onUpdateSigners:m,readOnly:!0})}),e.jsxs("div",{className:"p-5 border-t border-slate-200 bg-slate-50 space-y-3",children:[e.jsxs("button",{onClick:q,className:"w-full flex items-center justify-center gap-2 py-3 bg-emerald-600 hover:bg-emerald-700 text-white font-bold rounded-lg shadow-lg hover:shadow-emerald-600/20 transition-all",children:[e.jsx(ye,{size:18}),e.jsx("span",{children:"Send Document"})]}),e.jsx("button",{onClick:()=>i(1),className:"w-full py-2.5 text-slate-500 font-medium hover:text-slate-800 bg-white border border-slate-200 rounded-lg",children:"Back to Edit"})]})]}),e.jsx("div",{className:"lg:hidden absolute bottom-6 w-full flex justify-center z-30 pointer-events-none",children:e.jsxs("button",{onClick:()=>M(!0),className:"pointer-events-auto px-6 py-3 bg-indigo-600 text-white font-bold rounded-full shadow-2xl flex items-center gap-2 animate-bounce",children:[e.jsx(ye,{size:18}),e.jsx("span",{children:"Finalize & Send"})]})}),e.jsx("div",{className:"flex-1 bg-slate-100/50 relative flex flex-col h-full overflow-hidden",children:e.jsx("div",{className:"w-full h-full p-4 md:p-8 flex justify-center bg-slate-200/50 relative overflow-hidden",children:e.jsx("div",{className:"w-full h-full bg-white border border-slate-200 relative rounded-xl overflow-hidden shadow-sm",children:e.jsx(qg,{pdfUrl:d,signatures:p,readOnly:!0,onUpdateSignature:()=>{},onRemoveSignature:()=>{},onEditSignature:()=>{}})})})})]}),e.jsx(nm,{dropAnimation:null,children:w?e.jsxs("div",{className:"w-48 px-4 py-3 bg-indigo-600 text-white rounded-lg shadow-xl flex items-center gap-2 opacity-90 cursor-grabbing",children:[e.jsx("div",{className:"w-2 h-2 bg-white rounded-full animate-pulse"}),e.jsx("span",{className:"font-medium text-sm",children:"Place Field"})]}):null})]})}),e.jsx(Qg,{show:E,onClose:()=>D(!1),signers:h,onProceed:V,canProceed:p.length>0}),e.jsx(Jg,{show:T,onClose:()=>M(!1),signers:h,onUpdateSigners:m,onSend:q,onBack:()=>{M(!1),i(1)}}),e.jsx(km,{isOpen:x,onClose:()=>{b(!1),y(null)},onSave:H,initialData:v?.metadata}),e.jsx(r,{children:(A||R||F)&&e.jsx(a.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-slate-900/60 backdrop-blur-sm p-4",children:e.jsx(a.div,{className:"bg-white rounded-2xl shadow-2xl p-0 w-full max-w-lg overflow-hidden border border-white/20",children:e.jsxs("div",{className:"p-8 pb-10 flex flex-col items-center text-center relative z-10",children:[A&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-16 h-16 border-4 border-indigo-100 border-t-indigo-600 rounded-full animate-spin mb-6"}),e.jsx("h3",{className:"text-xl font-bold text-slate-800 mb-2",children:"Sending Document..."}),e.jsx("p",{className:"text-slate-500",children:"Dispatching to all signers securely."})]}),R&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-16 h-16 bg-emerald-100 text-emerald-600 rounded-full flex items-center justify-center mb-6",children:e.jsx(f,{size:32})}),e.jsx("h3",{className:"text-xl font-bold text-slate-800 mb-2",children:"Sent Successfully!"}),e.jsx("div",{className:"w-full max-w-xs h-1.5 bg-slate-100 rounded-full overflow-hidden mb-4 mt-2",children:e.jsx(a.div,{className:"h-full bg-emerald-500",style:{width:`${B}%`}})}),e.jsx("button",{onClick:()=>t("/signatures/list"),className:"text-sm font-bold text-indigo-600",children:"Redirecting..."})]}),F&&e.jsxs(e.Fragment,{children:[e.jsx("p",{className:"text-red-500 text-lg font-bold mb-4",children:F}),e.jsx("button",{onClick:()=>L(null),className:"px-6 py-2 bg-slate-900 text-white rounded-lg",children:"Try Again"})]})]})})})})]})},tx=kt.memo(({doc:t,isSelected:n,toggleSelect:r,getStatusInfo:s,getProgress:i,handleResendReminder:l,handleDelete:c,setSelectedDoc:d,setActiveDrawer:u})=>{const h=s(t),m=i(t.signers);return e.jsxs(a.tr,{initial:{opacity:0},animate:{opacity:1},whileHover:{backgroundColor:"rgba(248, 250, 252, 0.8)"},className:`group transition-colors ${n?"bg-indigo-50/50":""} border-b border-slate-50 last:border-0`,children:[e.jsx("td",{className:"px-6 py-4 w-12",children:e.jsx("button",{onClick:()=>r(t.id),className:"transition-colors "+(n?"text-indigo-600":"text-slate-300 hover:text-slate-500"),children:n?e.jsx(fe,{size:18}):e.jsx(He,{size:18})})}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-lg flex items-center justify-center border transition-colors "+("completed"===t.status?"bg-emerald-50 border-emerald-100 text-emerald-600":"bg-white border-slate-200 text-slate-400 group-hover:border-indigo-200 group-hover:text-indigo-600"),children:"completed"===t.status?e.jsx(f,{size:20}):e.jsx(o,{size:20,strokeWidth:1.5})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-slate-700 text-sm hover:text-indigo-600 cursor-pointer transition-colors line-clamp-1",onClick:()=>{d(t),u("preview")},children:t.name||"Untitled Document"}),e.jsxs("span",{className:"text-[11px] text-slate-400 font-mono",children:["ID: #",t.id.toString().slice(-6)]})]})]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"space-y-1.5",children:[e.jsxs("div",{className:`inline-flex items-center gap-1.5 px-2 py-0.5 rounded-full text-[11px] font-bold border ${h.color}`,children:[e.jsx(h.icon,{size:10}),h.label]}),t.signers?.length>0&&e.jsxs("div",{className:"w-32",children:[e.jsxs("div",{className:"flex justify-between text-[10px] text-slate-400 mb-1 font-medium",children:[e.jsx("span",{children:"Progress"}),e.jsxs("span",{children:[m,"%"]})]}),e.jsx("div",{className:"h-1.5 bg-slate-100 rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full rounded-full transition-all duration-1000 "+(100===m?"bg-emerald-500":"bg-indigo-500"),style:{width:`${m}%`}})})]})]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex -space-x-2",children:[t.signers?.slice(0,4).map((t,n)=>e.jsxs("div",{className:"w-8 h-8 rounded-full border-2 border-white flex items-center justify-center text-[10px] font-bold text-white shadow-sm ring-1 ring-slate-100 relative group/avatar "+("signed"===t.status?"bg-emerald-500":"viewed"===t.status?"bg-amber-400":"bg-indigo-300"),title:`${t.name} (${t.email}) - ${t.status}`,children:[t.name.charAt(0).toUpperCase(),e.jsx("div",{className:"absolute -bottom-0.5 -right-0.5 bg-white rounded-full p-[1px]",children:"signed"===t.status&&e.jsx(f,{size:8,className:"text-emerald-500 fill-emerald-100"})})]},n)),t.signers?.length>4&&e.jsxs("div",{className:"w-8 h-8 rounded-full border-2 border-white bg-slate-100 flex items-center justify-center text-[10px] font-bold text-slate-500 shadow-sm",children:["+",t.signers.length-4]}),(!t.signers||0===t.signers.length)&&e.jsx("span",{className:"text-xs text-slate-400 italic",children:"No signers"})]})}),e.jsxs("td",{className:"px-6 py-4",children:[e.jsx("div",{className:"text-sm text-slate-600 font-medium",children:vg(new Date(t.updated_at),"MMM d, yyyy")}),e.jsxs("div",{className:"text-[11px] text-slate-400 mt-0.5 flex items-center gap-1",children:[e.jsx($,{size:10}),vg(new Date(t.updated_at),"h:mm a")]})]}),e.jsx("td",{className:"px-6 py-4 text-right",children:e.jsxs("div",{className:"flex items-center justify-end gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:["completed"!==t.status&&t.signers?.some(e=>"signed"!==e.status)&&e.jsx("button",{onClick:()=>l(t.id),className:"p-1.5 hover:bg-slate-100 rounded-lg text-slate-400 hover:text-indigo-600 transition-colors",title:"Resend Signature Request",children:e.jsx(v,{size:16})}),"completed"===t.status&&e.jsx(_t,{to:`/signatures/${t.id}/view-signed`,className:"p-1.5 hover:bg-emerald-50 rounded-lg text-emerald-600 transition-colors",title:"View Signed PDF",children:e.jsx(ge,{size:16})}),e.jsx("button",{onClick:()=>{d(t),u("audit")},className:"p-1.5 hover:bg-slate-100 rounded-lg text-slate-400 hover:text-slate-700 transition-colors",title:"View History",children:e.jsx(Xe,{size:16})}),e.jsx("div",{className:"h-4 w-px bg-slate-200 mx-1"}),e.jsx("button",{onClick:()=>c(t.id),className:"p-1.5 hover:bg-red-50 rounded-lg text-slate-300 hover:text-red-500 transition-colors",title:"Delete",children:e.jsx(te,{size:16})})]})})]})}),nx=kt.memo(({doc:t,getStatusInfo:n,getProgress:r,setSelectedDoc:a,setActiveDrawer:s})=>{const i=n(t),l=r(t.signers);return e.jsxs("div",{className:"p-5 flex flex-col gap-4 active:bg-slate-50 border-b border-slate-100 last:border-0",onClick:()=>{a(t),s("preview")},children:[e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2.5 rounded-xl border "+("completed"===t.status?"bg-emerald-50 border-emerald-100 text-emerald-600":"bg-slate-50 border-slate-100 text-slate-500"),children:"completed"===t.status?e.jsx(f,{size:20}):e.jsx(o,{size:20,strokeWidth:1.5})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-slate-800 text-sm line-clamp-1",children:t.name||"Untitled"}),e.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[e.jsx("span",{className:`px-2 py-0.5 rounded-md text-[10px] font-bold border capitalize ${i.color}`,children:i.label}),e.jsx("span",{className:"text-[10px] text-slate-400",children:vg(new Date(t.updated_at),"M/d/yy")})]})]})]}),e.jsx("button",{onClick:e=>{e.stopPropagation(),a(t),s("preview")},className:"p-1 text-slate-300 hover:text-slate-600",children:e.jsx(Ve,{size:20})})]}),t.signers?.length>0&&e.jsxs("div",{className:"bg-slate-50 rounded-xl p-3 border border-slate-100",children:[e.jsxs("div",{className:"flex justify-between text-xs mb-2",children:[e.jsx("span",{className:"text-slate-500 font-medium",children:"Signature Progress"}),e.jsxs("span",{className:"font-bold text-indigo-600",children:[l,"%"]})]}),e.jsx("div",{className:"h-1.5 bg-slate-200 rounded-full overflow-hidden mb-3",children:e.jsx("div",{className:"h-full rounded-full "+(100===l?"bg-emerald-500":"bg-indigo-500"),style:{width:`${l}%`}})}),e.jsx("div",{className:"flex -space-x-2",children:t.signers.map((t,n)=>e.jsx("div",{className:"w-7 h-7 rounded-full border-2 border-white flex items-center justify-center text-[10px] text-white font-bold "+("signed"===t.status?"bg-emerald-500":"bg-indigo-400"),children:t.name.charAt(0)},n))})]})]})}),rx=()=>{const[n,s]=kt.useState([]),[i,l]=kt.useState(!0),[c,d]=kt.useState(""),[u,h]=kt.useState("all"),[m,p]=kt.useState("newest"),[g,x]=kt.useState([]),[b,v]=kt.useState(null),[y,w]=kt.useState(null),N=kt.useCallback(async()=>{l(!0);try{const e=await sr.get("/signatures"),t=e.data.data||e.data;s(Array.isArray(t)?t:[])}catch(e){$t.error("Failed to refresh documents")}finally{l(!1)}},[]);kt.useEffect(()=>{N()},[N]);const k=kt.useMemo(()=>{let e=[...n];if("all"!==u&&(e=e.filter(e=>{let t="draft";return"completed"===e.status?t="completed":e.signers?.length>0&&(t="pending"),t===u})),c){const t=c.toLowerCase();e=e.filter(e=>(e.name||"").toLowerCase().includes(t)||e.signers?.some(e=>e.email.toLowerCase().includes(t)))}return e.sort((e,t)=>"newest"===m?new Date(t.created_at)-new Date(e.created_at):"oldest"===m?new Date(e.created_at)-new Date(t.created_at):"name"===m?(e.name||"").localeCompare(t.name||""):0),e},[n,u,c,m]),S=kt.useCallback(e=>{x(t=>t.includes(e)?t.filter(t=>t!==e):[...t,e])},[]),C=kt.useCallback(()=>{g.length===k.length?x([]):x(k.map(e=>e.id))},[g.length,k]),_=kt.useCallback(async e=>{if(confirm("Are you sure you want to delete this document?"))try{await sr.delete(`/documents/${e}`),s(t=>t.filter(t=>t.id!==e)),x(t=>t.filter(t=>t!==e)),$t.success("Document deleted")}catch(t){$t.error("Failed to delete document")}},[]),P=kt.useCallback(async e=>{$t.promise(new Promise(e=>setTimeout(e,1e3)),{loading:"Sending reminders...",success:"Reminders sent to pending signers!",error:"Failed to send"})},[]),E=kt.useCallback(e=>"completed"===e.status?{label:"Completed",color:"bg-emerald-100 text-emerald-700 border-emerald-200",icon:f}:e.signers?.length>0?{label:"In Progress",color:"bg-indigo-50 text-indigo-700 border-indigo-200",icon:$}:{label:"Draft",color:"bg-slate-100 text-slate-600 border-slate-200",icon:o},[]),D=kt.useCallback(e=>{if(!e?.length)return 0;const t=e.filter(e=>"signed"===e.status).length;return Math.round(t/e.length*100)},[]);return e.jsxs(bf,{children:[e.jsx(xf,{title:"Signature Requests",subtitle:"Manage your digital agreements and track progress",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("button",{onClick:N,className:"p-2.5 bg-white border border-slate-200 text-slate-500 hover:text-indigo-600 hover:border-indigo-200 rounded-xl transition-all shadow-sm hover:shadow",title:"Refresh List",children:e.jsx(Qe,{size:18,className:i?"animate-spin":""})}),e.jsxs(_t,{to:"/signatures",className:"flex items-center gap-2 px-6 py-2.5 bg-indigo-600 hover:bg-indigo-700 text-white font-semibold rounded-xl transition-all shadow-lg shadow-indigo-600/20",children:[e.jsx(ne,{size:20}),"New Request"]})]})}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[{label:"Pending Signatures",value:n.filter(e=>e.signers?.length>0&&"completed"!==e.status).length,color:"text-indigo-600",bg:"bg-indigo-50"},{label:"Completed",value:n.filter(e=>"completed"===e.status).length,color:"text-emerald-600",bg:"bg-emerald-50"},{label:"Total Documents",value:n.length,color:"text-slate-600",bg:"bg-slate-50"}].map((t,n)=>e.jsxs("div",{className:"bg-white p-4 rounded-xl border border-slate-200 shadow-sm flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-slate-400 text-xs font-bold uppercase tracking-wide",children:t.label}),e.jsx("p",{className:"text-2xl font-bold text-slate-800 mt-1",children:t.value})]}),e.jsx("div",{className:`w-10 h-10 rounded-lg flex items-center justify-center ${t.bg} ${t.color}`,children:e.jsx(o,{size:20})})]},n))}),e.jsxs("div",{className:"flex flex-col lg:flex-row gap-4 bg-white p-2 rounded-xl shadow-sm border border-slate-200 mb-6",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(Q,{className:"absolute left-3.5 top-1/2 -translate-y-1/2 text-slate-400",size:18}),e.jsx("input",{type:"text",placeholder:"Search by document name, signer email...",value:c,onChange:e=>d(e.target.value),className:"w-full pl-11 pr-4 py-2.5 bg-slate-50 border border-slate-200 rounded-lg focus:ring-2 focus:ring-slate-100 focus:border-slate-300 focus:bg-white outline-none transition-all placeholder:text-slate-400 font-medium text-slate-700"})]}),e.jsxs("div",{className:"flex items-center gap-2 overflow-x-auto pb-2 lg:pb-0",children:[e.jsx("div",{className:"bg-slate-100 p-1 rounded-lg flex",children:["all","pending","completed"].map(t=>e.jsx("button",{onClick:()=>h(t),className:"px-4 py-1.5 rounded-md text-sm font-semibold capitalize transition-all "+(u===t?"bg-white text-slate-800 shadow-sm":"text-slate-500 hover:text-slate-700"),children:t},t))}),e.jsx("div",{className:"h-8 w-px bg-slate-200 mx-2 hidden lg:block"}),e.jsxs("select",{value:m,onChange:e=>p(e.target.value),className:"px-4 py-2.5 bg-white border border-slate-200 rounded-lg text-sm font-medium text-slate-700 outline-none focus:border-slate-300 hover:bg-slate-50 transition-colors cursor-pointer",children:[e.jsx("option",{value:"newest",children:"Newest First"}),e.jsx("option",{value:"oldest",children:"Oldest First"}),e.jsx("option",{value:"name",children:"Name (A-Z)"})]})]})]}),e.jsxs("div",{className:"bg-white border border-slate-200 rounded-xl shadow-sm overflow-hidden relative min-h-[400px]",children:[e.jsx(r,{children:g.length>0&&e.jsxs(a.div,{initial:{y:50,opacity:0},animate:{y:0,opacity:1},exit:{y:50,opacity:0},className:"absolute bottom-6 left-1/2 -translate-x-1/2 z-30 bg-slate-900 text-white px-6 py-3 rounded-full shadow-2xl flex items-center gap-6",children:[e.jsxs("span",{className:"text-sm font-semibold text-slate-300 border-r border-slate-700 pr-4",children:[g.length," Selected"]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{className:"p-2 hover:bg-slate-800 rounded-full transition-colorsAsync text-slate-300 hover:text-white",title:"Download All",children:e.jsx(xe,{size:18})}),e.jsx("button",{className:"p-2 hover:bg-slate-800 rounded-full transition-colors text-slate-300 hover:text-white",title:"Archive",children:e.jsx(Je,{size:18})}),e.jsx("button",{onClick:async()=>{if(confirm(`Delete ${g.length} documents?`))try{s(e=>e.filter(e=>!g.includes(e.id))),x([]),$t.success(`${g.length} Documents deleted`)}catch(e){$t.error("Bulk delete failed")}},className:"p-2 hover:bg-red-900/50 rounded-full transition-colors text-red-300 hover:text-red-200",title:"Delete Selected",children:e.jsx(te,{size:18})})]}),e.jsx("button",{onClick:()=>x([]),className:"ml-2 text-xs font-bold text-slate-400 hover:text-white",children:"Cancel"})]})}),e.jsx("div",{className:"hidden md:block overflow-x-auto",children:e.jsxs("table",{className:"w-full text-left border-collapse",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-slate-50/50 border-b border-slate-200",children:[e.jsx("th",{className:"px-6 py-3 w-12 text-center",children:e.jsx("button",{onClick:C,className:"text-slate-400 hover:text-indigo-600 transition-colors flex justify-center",children:g.length>0&&g.length===k.length?e.jsx(fe,{size:18,className:"text-indigo-600"}):e.jsx(He,{size:18})})}),e.jsx("th",{className:"px-6 py-3 text-xs font-bold text-slate-500 uppercase tracking-wider",children:"Document Name"}),e.jsx("th",{className:"px-6 py-3 text-xs font-bold text-slate-500 uppercase tracking-wider",children:"Status & Progress"}),e.jsx("th",{className:"px-6 py-3 text-xs font-bold text-slate-500 uppercase tracking-wider",children:"Signers"}),e.jsx("th",{className:"px-6 py-3 text-xs font-bold text-slate-500 uppercase tracking-wider",children:"Last Updated"}),e.jsx("th",{className:"px-6 py-3 w-32"})]})}),e.jsx("tbody",{className:"divide-y divide-slate-100",children:i?e.jsx("tr",{children:e.jsx("td",{colSpan:"6",className:"p-32 text-center",children:e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("div",{className:"w-8 h-8 border-2 border-slate-200 border-t-indigo-600 rounded-full animate-spin mb-4"}),e.jsx("p",{className:"text-slate-500 font-medium text-sm",children:"Loading documents..."})]})})}):0===k.length?e.jsx("tr",{children:e.jsxs("td",{colSpan:"6",className:"p-24 text-center",children:[e.jsx("div",{className:"bg-slate-50 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(o,{size:32,className:"text-slate-300",strokeWidth:1})}),e.jsx("h3",{className:"text-lg font-bold text-slate-800",children:"No documents found"}),e.jsx("p",{className:"text-slate-400 text-sm mt-1",children:"Try adjusting your search or filters."})]})}):k.map(t=>e.jsx(tx,{doc:t,isSelected:g.includes(t.id),toggleSelect:S,getStatusInfo:E,getProgress:D,handleResendReminder:P,handleDelete:_,setSelectedDoc:w,setActiveDrawer:v},t.id))})]})}),e.jsx("div",{className:"md:hidden",children:i?e.jsxs("div",{className:"p-12 text-center flex flex-col items-center",children:[e.jsx("div",{className:"w-8 h-8 border-2 border-slate-200 border-t-indigo-600 rounded-full animate-spin mb-4"}),e.jsx("p",{className:"text-slate-500 text-sm",children:"Loading documents..."})]}):0===k.length?e.jsxs("div",{className:"p-12 text-center",children:[e.jsx("div",{className:"bg-slate-50 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(o,{size:32,className:"text-slate-300",strokeWidth:1})}),e.jsx("p",{className:"text-slate-500 font-medium",children:"No documents found."})]}):k.map(t=>e.jsx(nx,{doc:t,getStatusInfo:E,getProgress:D,setSelectedDoc:w,setActiveDrawer:v},t.id))})]}),e.jsx(r,{children:b&&y&&e.jsxs(e.Fragment,{children:[e.jsx(a.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-slate-900/20 backdrop-blur-sm z-40",onClick:()=>v(null)}),e.jsxs(a.div,{initial:{x:"100%"},animate:{x:0},exit:{x:"100%"},transition:{type:"spring",stiffness:300,damping:30},className:"fixed inset-y-0 right-0 w-full max-w-lg bg-white shadow-2xl z-50 flex flex-col border-l border-slate-200",children:[e.jsxs("div",{className:"p-6 border-b border-slate-100 flex items-center justify-between bg-white",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold text-slate-800",children:"audit"===b?"Audit Trail":"Document Details"}),e.jsx("p",{className:"text-sm text-slate-500 mt-0.5 truncate max-w-[300px]",children:y.name})]}),e.jsx("button",{onClick:()=>v(null),className:"p-2 rounded-full hover:bg-slate-50 transition-all text-slate-400 hover:text-slate-700",children:e.jsx(t,{size:20})})]}),e.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:"preview"===b?e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:["completed"===y.status&&e.jsxs(_t,{to:`/signatures/${y.id}/view-signed`,className:"col-span-2 flex items-center justify-center gap-2 p-3 bg-emerald-600 hover:bg-emerald-700 text-white rounded-xl font-semibold transition-colors shadow-lg shadow-emerald-600/10",children:[e.jsx(ge,{size:18})," View Signed Document"]}),y.pdf_url&&e.jsxs("a",{href:y.pdf_url,target:"_blank",className:"flex items-center justify-center gap-2 p-3 bg-white border border-slate-200 hover:border-slate-300 text-slate-700 rounded-xl font-medium transition-all",children:[e.jsx(o,{size:18})," Original PDF"]}),e.jsxs("div",{className:"relative group w-full",children:[y.final_pdf_url?e.jsxs("a",{href:y.final_pdf_url,download:!0,className:"flex items-center justify-center gap-2 p-3 bg-white border border-slate-200 hover:border-slate-300 text-slate-700 rounded-xl font-medium transition-all shadow-sm hover:shadow",children:[e.jsx(xe,{size:18})," Signed PDF"]}):e.jsxs("div",{className:"flex items-center justify-center gap-2 p-3 bg-slate-50 border border-slate-200 text-slate-400 rounded-xl font-medium cursor-not-allowed select-none opacity-60",children:[e.jsx(xe,{size:18})," Signed PDF"]}),!y.final_pdf_url&&e.jsx("div",{className:"absolute top-full left-1/2 -translate-x-1/2 mt-2 w-max max-w-[200px] hidden group-hover:block transition-all z-50",children:e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"w-0 h-0 border-l-[6px] border-l-transparent border-r-[6px] border-r-transparent border-b-[6px] border-b-slate-800 absolute left-1/2 -translate-x-1/2 -top-[6px]"}),e.jsx("div",{className:"bg-slate-800 text-white text-xs font-medium px-3 py-2 rounded-lg shadow-xl text-center",children:"completed"===y.status?"Processing final document...":"Waiting for all parties to sign."})]})})]})]}),e.jsxs("div",{className:"bg-slate-50 rounded-2xl p-5 border border-slate-100 space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-slate-500 font-medium",children:"Status"}),e.jsx("span",{className:"px-2 py-1 rounded-md text-xs font-bold uppercase tracking-wider bg-white border border-slate-200 text-slate-700",children:y.status})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-slate-500 font-medium",children:"Created On"}),e.jsx("span",{className:"text-sm font-semibold text-slate-700",children:new Date(y.created_at).toLocaleString()})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-slate-500 font-medium",children:"Last Activity"}),e.jsx("span",{className:"text-sm font-semibold text-slate-700",children:new Date(y.updated_at).toLocaleString()})]})]}),e.jsxs("div",{children:[e.jsxs("h4",{className:"font-bold text-slate-800 mb-4 flex items-center gap-2",children:[e.jsx(j,{size:18,className:"text-slate-500"}),"Signers (",y.signers?.length||0,")"]}),e.jsx("div",{className:"space-y-3",children:y.signers?.map((t,n)=>e.jsxs("div",{className:"flex items-center gap-3 p-3 bg-white border border-slate-200 rounded-xl shadow-sm",children:[e.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center text-white font-bold "+("signed"===t.status?"bg-emerald-500":"bg-slate-400"),children:t.name.charAt(0)}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"font-semibold text-slate-800 text-sm",children:t.name}),e.jsx("p",{className:"text-xs text-slate-400",children:t.email})]}),"signed"===t.status?e.jsx(f,{size:18,className:"text-emerald-500"}):e.jsx("button",{onClick:()=>P(y.id),className:"text-xs text-slate-600 hover:text-slate-900 font-medium bg-slate-100 px-2 py-1 rounded transition-colors",children:"Resend"})]},n))})]})]}):e.jsxs("div",{className:"relative border-l-2 border-slate-200 ml-3 space-y-8 pb-10",children:[e.jsxs("div",{className:"relative pl-8",children:[e.jsx("div",{className:"absolute -left-[9px] top-0 w-4 h-4 rounded-full bg-slate-200 ring-4 ring-white"}),e.jsx("p",{className:"text-xs font-bold text-slate-500 uppercase",children:"Created"}),e.jsx("p",{className:"text-sm font-medium text-slate-800 mt-0.5",children:"Document Created"}),e.jsx("p",{className:"text-xs text-slate-400 mt-1",children:new Date(y.created_at).toLocaleString()})]}),y.signers?.map((t,n)=>e.jsxs("div",{className:"relative pl-8",children:[e.jsx("div",{className:"absolute -left-[9px] top-0 w-4 h-4 rounded-full ring-4 ring-white "+("signed"===t.status?"bg-emerald-500":"bg-slate-300")}),e.jsx("p",{className:"text-xs font-bold text-slate-500 uppercase",children:"signed"===t.status?"Signed":"Pending"}),e.jsxs("div",{className:"bg-slate-50 border border-slate-200 p-3 rounded-lg mt-2",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx(j,{size:14,className:"text-slate-400"}),e.jsx("span",{className:"text-sm font-semibold text-slate-700",children:t.name})]}),e.jsx("p",{className:"text-xs text-slate-500",children:t.email}),"signed"===t.status&&e.jsxs("div",{className:"mt-2 text-[10px] text-emerald-600 bg-emerald-50 border border-emerald-100 px-2 py-1 rounded inline-flex items-center gap-1",children:[e.jsx(f,{size:10})," Verified & Timestamped"]})]}),e.jsx("p",{className:"text-xs text-slate-400 mt-2 ml-1",children:new Date(t.updated_at).toLocaleString()})]},n))]})})]})]})})]})},ax=kt.memo(({show:n,onClose:s,auditLogs:i})=>e.jsx(r,{children:n&&e.jsxs(e.Fragment,{children:[e.jsx(a.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-slate-900/40 backdrop-blur-sm z-40 lg:hidden",onClick:s}),e.jsxs(a.div,{initial:{y:"100%"},animate:{y:0},exit:{y:"100%"},transition:{type:"spring",damping:25,stiffness:300},className:"fixed bottom-0 left-0 right-0 h-[80vh] bg-white rounded-t-2xl shadow-[0_-8px_30px_rgba(0,0,0,0.12)] z-50 lg:hidden flex flex-col",children:[e.jsxs("div",{className:"p-4 border-b border-slate-100 flex items-center justify-between bg-slate-50/50 rounded-t-2xl",children:[e.jsxs("h3",{className:"font-bold text-slate-800 flex items-center gap-2",children:[e.jsx(Xe,{size:18,className:"text-indigo-600"}),"Audit Trail"]}),e.jsx("button",{onClick:s,className:"p-2 bg-slate-100 rounded-full text-slate-500",children:e.jsx(t,{size:20})})]}),e.jsx("div",{className:"flex-1 overflow-y-auto p-6 bg-white",children:e.jsx("div",{className:"relative border-l-2 border-slate-100 ml-3 space-y-8 pb-8",children:i.map((t,n)=>e.jsxs("div",{className:"relative pl-8",children:[e.jsx("div",{className:`absolute -left-[9px] top-0 w-5 h-5 rounded-full flex items-center justify-center ring-4 ring-white shadow-sm z-10 ${(e=>{switch(e){case"COMPLETED":return"bg-emerald-100 ring-emerald-200";case"SIGNED":return"bg-indigo-100 ring-indigo-200";case"VIEWED":return"bg-amber-100 ring-amber-200";default:return"bg-slate-100 ring-slate-200"}})(t.action)}`,children:(t=>{switch(t){case"COMPLETED":return e.jsx(f,{size:14,className:"text-emerald-600"});case"SIGNED":return e.jsx(P,{size:14,className:"text-indigo-600"});case"VIEWED":return e.jsx(j,{size:14,className:"text-amber-600"});default:return e.jsx($,{size:14,className:"text-slate-500"})}})(t.action)}),e.jsxs("div",{className:"bg-slate-50 rounded-xl p-3 border border-slate-100",children:[e.jsxs("div",{className:"flex justify-between items-start mb-1",children:[e.jsx("span",{className:"text-[10px] font-bold text-slate-700 uppercase tracking-wider",children:t.action}),e.jsx("span",{className:"text-[10px] text-slate-400",children:new Date(t.created_at).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]}),e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(j,{size:12,className:"text-slate-400"}),e.jsx("p",{className:"text-xs font-semibold text-slate-800",children:t.metadata?.signer_name||t.user||"System"})]}),e.jsxs("div",{className:"text-[10px] text-slate-400 pt-2 border-t border-slate-200/50 flex justify-between",children:[e.jsx("span",{children:new Date(t.created_at).toLocaleDateString()}),t.ip_address&&e.jsx("span",{className:"font-mono bg-white px-1 rounded border border-slate-100",children:t.ip_address})]})]})]},n))})}),e.jsx("div",{className:"p-3 bg-slate-50 text-center border-t border-slate-100",children:e.jsxs("p",{className:"text-[10px] text-slate-400 flex items-center justify-center gap-1",children:[e.jsx(d,{size:10})," End-to-End Encrypted Log"]})})]})]})})),sx=kt.memo(({show:t,auditLogs:n})=>e.jsxs(a.aside,{initial:{width:0,opacity:0},animate:{width:t?320:0,opacity:t?1:0},transition:{duration:.3,ease:"anticipate"},className:"bg-white border-l border-slate-200 overflow-hidden hidden lg:flex flex-col shadow-xl z-20 relative",children:[e.jsx("div",{className:"p-5 border-b border-slate-100 bg-slate-50/50",children:e.jsxs("h3",{className:"font-bold text-slate-800 flex items-center gap-2 text-sm uppercase tracking-wide",children:[e.jsx(Xe,{size:16,className:"text-indigo-600"}),"Audit Log"]})}),e.jsx("div",{className:"flex-1 overflow-y-auto p-5 space-y-6",children:e.jsx("div",{className:"relative border-l-2 border-slate-100 ml-2.5",children:n.map((t,n)=>e.jsxs("div",{className:"relative pl-6 mb-6 last:mb-0",children:[e.jsx("div",{className:`absolute -left-[7px] top-0 w-4 h-4 rounded-full flex items-center justify-center ring-4 ring-white shadow-sm z-10 ${(e=>{switch(e){case"COMPLETED":return"bg-emerald-50 ring-emerald-100";case"SIGNED":return"bg-indigo-50 ring-indigo-100";case"VIEWED":return"bg-amber-50 ring-amber-100";default:return"bg-slate-50 ring-slate-100"}})(t.action)}`,children:(t=>{switch(t){case"COMPLETED":return e.jsx(f,{size:12,className:"text-emerald-600"});case"SIGNED":return e.jsx(P,{size:12,className:"text-indigo-600"});case"VIEWED":return e.jsx(j,{size:12,className:"text-amber-600"});default:return e.jsx($,{size:12,className:"text-slate-500"})}})(t.action)}),e.jsxs("div",{className:"bg-white rounded-lg border border-slate-100 p-3 shadow-sm hover:shadow-md transition-all hover:border-indigo-100 group",children:[e.jsxs("div",{className:"flex justify-between items-center mb-1",children:[e.jsx("span",{className:"text-[10px] font-bold text-slate-500 uppercase",children:t.action}),e.jsx("span",{className:"text-[10px] text-slate-400",children:new Date(t.created_at).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]}),e.jsx("div",{className:"text-xs font-semibold text-slate-700 mb-1.5 line-clamp-1",title:t.metadata?.signer_name,children:t.metadata?.signer_name||t.user||"System Action"}),e.jsxs("div",{className:"flex justify-between items-center pt-2 border-t border-slate-50",children:[e.jsx("span",{className:"text-[10px] text-slate-400",children:new Date(t.created_at).toLocaleDateString()}),t.ip_address&&e.jsx("span",{className:"text-[9px] font-mono text-slate-300",children:t.ip_address})]})]})]},n))})}),e.jsx("div",{className:"p-3 bg-slate-50 border-t border-slate-100 text-center",children:e.jsxs("p",{className:"text-[10px] text-slate-400 flex items-center justify-center gap-1",children:[e.jsx(d,{size:10})," Certified Immutable"]})})]}));Vt.workerSrc=Vg;const ix=()=>{const{documentId:t}=Ot(),n=Et(),r=kt.useRef(null),[i,o]=kt.useState(null),[l,c]=kt.useState([]),[d,u]=kt.useState(!0),[h,m]=kt.useState(null),[p,f]=kt.useState(null),[g,x]=kt.useState(null),[v,w]=kt.useState(1),[j,N]=kt.useState(1),[k,S]=kt.useState(!1),[C,_]=kt.useState(!0),P="http://127.0.0.1:8000/api/v1"?.replace("/api/v1","")||"http://localhost:8000";kt.useEffect(()=>{const e=()=>{window.innerWidth<768?(N(.6),_(!1)):(N(1),_(!0))};return e(),window.addEventListener("resize",e),E(),()=>window.removeEventListener("resize",e)},[t]);const E=async()=>{u(!0),m(null);try{const e=await sr.get(`/signatures/${t}/view-signed`),n=e.data.document;o(n),c(e.data.audit_logs||[]);const r=n.final_pdf_url||n.pdf_url;if(!r)return void m("PDF URL not available. Document may not have been completed yet.");f(r)}catch(e){m("Document not found or not completed yet.")}finally{u(!1)}};return d?e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-slate-50",children:e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx(y,{size:48,className:"text-indigo-600 animate-spin mb-4"}),e.jsx("p",{className:"text-slate-600 font-medium",children:"Retrieving secure document..."})]})}):h||!i?e.jsx("div",{className:"min-h-screen flex items-center justify-center p-4 bg-slate-50",children:e.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-xl max-w-md w-full text-center border border-slate-100",children:[e.jsx(b,{size:48,className:"text-red-500 mx-auto mb-4"}),e.jsx("h2",{className:"text-xl font-bold text-slate-800 mb-2",children:"Unavailable"}),e.jsx("p",{className:"text-slate-500 mb-6",children:h||"Document not found."}),e.jsx("button",{onClick:()=>n("/signatures/list"),className:"w-full py-3 bg-indigo-600 text-white rounded-xl font-semibold active:scale-95 transition-transform",children:"Go Back"})]})}):e.jsxs("div",{className:"h-[100dvh] bg-slate-100/50 flex flex-col font-sans overflow-hidden",children:[e.jsxs("header",{className:"bg-white/80 backdrop-blur-md h-14 md:h-16 border-b border-slate-200/60 px-4 md:px-6 flex items-center justify-between shadow-sm z-30 flex-shrink-0 relative",children:[e.jsxs("div",{className:"flex items-center gap-3 overflow-hidden",children:[e.jsx("button",{onClick:()=>n("/signatures/list"),className:"p-2 -ml-2 text-slate-500 hover:text-slate-800 hover:bg-slate-100 rounded-full transition-colors",children:e.jsx(I,{size:20})}),e.jsxs("div",{className:"flex flex-col min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("h1",{className:"font-bold text-slate-800 text-sm md:text-lg truncate max-w-[150px] md:max-w-xs leading-tight",children:i.name}),e.jsxs("div",{className:"hidden md:flex items-center gap-1 px-2 py-0.5 bg-emerald-50 border border-emerald-100 text-emerald-700 rounded-full text-[10px] font-bold uppercase tracking-wide",children:[e.jsx(s,{size:10,className:"fill-emerald-700"})," Verified"]})]}),e.jsxs("p",{className:"text-[10px] text-slate-400 md:hidden flex items-center gap-1",children:[e.jsx(s,{size:8,className:"text-emerald-500"}),"Signed & Verified"]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>S(!0),className:"md:hidden p-2 text-slate-500 active:bg-slate-100 rounded-xl",children:e.jsx(Xe,{size:20})}),e.jsxs("button",{onClick:()=>_(!C),className:"hidden lg:flex items-center gap-2 px-3 py-1.5 rounded-lg text-sm font-medium transition-all "+(C?"bg-indigo-50 text-indigo-700 ring-1 ring-indigo-200":"text-slate-600 hover:bg-slate-50 border border-slate-200"),children:[e.jsx(Xe,{size:16}),e.jsx("span",{className:"hidden xl:inline",children:C?"Hide Log":"Log"})]}),e.jsxs("button",{onClick:()=>{if(i?.final_pdf_url){const e=i.final_pdf_url.startsWith("http")?i.final_pdf_url:`${P}${i.final_pdf_url}`;window.location.href=e}},className:"flex items-center gap-2 px-4 py-2 bg-indigo-600 hover:bg-indigo-700 text-white text-xs md:text-sm font-semibold rounded-lg shadow-lg shadow-indigo-600/20 active:scale-95 transition-transform",children:[e.jsx(xe,{size:16}),e.jsx("span",{className:"hidden md:inline",children:"Download"})]})]})]}),e.jsxs("div",{className:"flex-1 flex overflow-hidden relative",children:[e.jsxs("div",{className:"w-64 bg-white border-r border-slate-200 overflow-y-auto hidden xl:block z-10 flex-col",children:[e.jsx("div",{className:"p-4 border-b border-slate-100 bg-slate-50/50 sticky top-0 backdrop-blur-sm z-10",children:e.jsxs("span",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider",children:[g," Pages"]})}),e.jsx("div",{className:"p-4 space-y-4",children:g&&Array.from({length:g},(t,n)=>e.jsx("button",{onClick:()=>{w(n+1),i.getElementById(`pdf-page-${n+1}`)?.scrollIntoView({behavior:"smooth"})},className:"w-full relative group transition-all "+(v===n+1?"ring-2 ring-indigo-500 rounded-lg scale-[1.02]":"hover:opacity-80"),children:e.jsxs("div",{className:"aspect-[3/4] bg-slate-100 rounded-lg overflow-hidden relative border border-slate-200",children:[p&&e.jsx(qt,{file:p,className:"opacity-75 pointer-events-none",children:e.jsx(Ht,{pageNumber:n+1,width:200,renderTextLayer:!1,renderAnnotationLayer:!1})}),e.jsx("div",{className:"absolute bottom-1 right-1 bg-black/50 text-white text-[10px] px-1.5 rounded font-medium backdrop-blur-sm",children:n+1})]})},n))})]}),e.jsx("div",{ref:r,className:"flex-1 w-full overflow-y-auto overflow-x-hidden p-4 md:p-8 flex flex-col items-center bg-slate-100 scroll-smooth",onScroll:e=>{const t=e.target;t.clientHeight,t.scrollTop},children:p?e.jsx(qt,{file:p,onLoadSuccess:({numPages:e})=>{x(e)},loading:e.jsx(y,{className:"animate-spin text-indigo-500 mt-20",size:32}),className:"flex flex-col items-center gap-4 md:gap-8 pb-32 w-full max-w-4xl mx-auto",children:g&&Array.from({length:g},(t,n)=>e.jsxs("div",{id:`pdf-page-${n+1}`,className:"relative shadow-xl shadow-slate-200/60 transition-transform duration-200 origin-top",style:{width:"fit-content"},children:[e.jsx(Ht,{pageNumber:n+1,scale:j,renderTextLayer:!0,renderAnnotationLayer:!1,className:"bg-white",width:window.innerWidth<768?window.innerWidth-32:800}),e.jsxs("div",{className:"absolute top-2 right-2 bg-black/30 text-white text-[10px] px-2 py-0.5 rounded-full backdrop-blur-md md:hidden",children:[n+1," / ",g]})]},`page-${n+1}`))}):e.jsx("div",{className:"text-slate-400 mt-20",children:"Document not loaded"})}),e.jsx("div",{className:"absolute bottom-6 left-1/2 -translate-x-1/2 z-30 flex items-center gap-2",children:e.jsxs(a.div,{initial:{y:50,opacity:0},animate:{y:0,opacity:1},className:"flex items-center gap-1 p-1.5 bg-slate-900/80 backdrop-blur-md text-white rounded-full shadow-2xl ring-1 ring-white/10",children:[e.jsx("button",{onClick:()=>N(e=>Math.max(.4,e-.1)),className:"p-2 hover:bg-white/10 rounded-full transition-colors",children:e.jsx(Ee,{size:18})}),e.jsxs("span",{className:"w-10 text-center text-xs font-mono font-bold",children:[Math.round(100*j),"%"]}),e.jsx("button",{onClick:()=>N(e=>Math.min(2,e+.1)),className:"p-2 hover:bg-white/10 rounded-full transition-colors",children:e.jsx(De,{size:18})})]})}),e.jsx(sx,{show:C,auditLogs:l})]}),e.jsx(ax,{show:k,onClose:()=>S(!1),auditLogs:l})]})};function ox(e,t=2){if(!+e)return"0 Bytes";const n=t<0?0:t,r=Math.floor(Math.log(e)/Math.log(1024));return`${parseFloat((e/Math.pow(1024,r)).toFixed(n))} ${["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"][r]}`}const lx=({node:t,viewMode:n,onNavigate:r,onPreview:a,onContextMenu:s,onDownload:i,isSelected:l,onSelect:c,onDragStart:d,onDrop:u})=>{const h=()=>{if("folder"===t.type)return e.jsx(q,{className:"text-indigo-500 fill-indigo-500/20",size:"grid"===n?48:24,strokeWidth:1.5});if("document"===t.source_type||t.metadata?.document_type)return e.jsx(o,{className:"text-blue-600",size:"grid"===n?48:24,strokeWidth:1.5});const r=t.mime_type||"";return r.startsWith("image/")?e.jsx(je,{className:"text-purple-500",size:"grid"===n?48:24,strokeWidth:1.5}):"application/pdf"===r||r.includes("document")?e.jsx(o,{className:"text-red-500",size:"grid"===n?48:24,strokeWidth:1.5}):e.jsx(Ze,{className:"text-slate-400",size:"grid"===n?48:24,strokeWidth:1.5})},m=e=>{if(e.ctrlKey||e.metaKey||e.shiftKey)return e.preventDefault(),e.stopPropagation(),void c(t,e);"folder"===t.type?r(t):a(t)},p=e=>{e.dataTransfer.setData("application/json",JSON.stringify(t)),e.dataTransfer.effectAllowed="move",d?.(t)},f=e=>{"folder"===t.type&&(e.preventDefault(),e.currentTarget.classList.add("bg-indigo-50","border-indigo-300"))},g=e=>{"folder"===t.type&&e.currentTarget.classList.remove("bg-indigo-50","border-indigo-300")},x=e=>{if("folder"===t.type){e.preventDefault(),e.stopPropagation(),e.currentTarget.classList.remove("bg-indigo-50","border-indigo-300");try{const n=JSON.parse(e.dataTransfer.getData("application/json"));n.id!==t.id&&u(n,t)}catch(n){}}},b=e=>{e.preventDefault(),s(e,t)},v=e=>{e.stopPropagation(),s(e,t)};return"grid"===n?e.jsxs("div",{onClick:m,onContextMenu:b,draggable:!0,onDragStart:p,onDragOver:f,onDragLeave:g,onDrop:x,className:`group relative bg-white rounded-xl p-4 md:p-5 transition-all cursor-pointer border min-h-[120px] md:min-h-[140px]\n                    ${l?"border-indigo-600 ring-2 ring-indigo-100 bg-indigo-50/50":"border-slate-200 hover:border-slate-300 hover:shadow-md active:scale-95"}\n                `,children:[l&&e.jsx("div",{className:"absolute top-3 left-3 w-2.5 h-2.5 bg-indigo-600 rounded-full"}),e.jsx("div",{className:"absolute top-3 right-3 opacity-0 md:group-hover:opacity-100 transition-opacity flex gap-1 z-10",children:e.jsx("button",{onClick:v,className:"p-1.5 bg-white hover:bg-slate-50 rounded-lg border border-slate-200 text-slate-600 hover:text-indigo-600 transition-colors",title:"More actions",children:e.jsx(Ve,{size:14})})}),e.jsx("div",{className:"md:hidden absolute top-3 right-3 z-10",children:e.jsx("button",{onClick:v,className:"p-2 bg-white hover:bg-slate-50 rounded-lg border border-slate-200 text-slate-600 active:scale-95 transition-all",title:"More actions",children:e.jsx(Ve,{size:16})})}),e.jsxs("div",{className:"flex flex-col items-center text-center",children:[e.jsx("div",{className:"flex-shrink-0 mb-3 md:mb-4",children:h()}),("document"===t.source_type||t.metadata?.document_type)&&e.jsx("div",{className:"absolute top-12 left-1/2 transform -translate-x-1/2",children:e.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800 border border-blue-200",children:t.metadata?.document_type||"Document"})}),e.jsxs("div",{className:"flex-1 min-w-0 text-center",children:[e.jsx("p",{className:"text-sm md:text-base font-medium truncate px-1 "+(l?"text-indigo-700":"text-slate-700"),children:t.name}),e.jsx("div",{className:"flex items-center justify-center gap-2 mt-1",children:e.jsx("p",{className:"text-xs text-slate-400 capitalize",children:"file"===t.type?ox(t.size):"Folder"})})]})]})]}):e.jsxs("div",{onClick:m,onContextMenu:b,draggable:!0,onDragStart:p,onDragOver:f,onDragLeave:g,onDrop:x,className:`group flex items-center justify-between px-4 md:px-6 py-4 md:py-4 hover:bg-slate-50 transition-colors cursor-pointer border-b border-slate-100 last:border-0 min-h-[64px] active:bg-slate-100\n                ${l?"bg-indigo-50/30":""}\n            `,children:[e.jsxs("div",{className:"flex items-center gap-3 md:gap-4 flex-1 min-w-0",children:[e.jsx("div",{className:"flex-shrink-0 w-12 h-12 md:w-10 md:h-10 flex items-center justify-center bg-slate-50 rounded-lg border border-slate-100 group-hover:border-indigo-100 group-hover:bg-white transition-colors",children:h()}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm md:text-base font-medium truncate "+(l?"text-indigo-700":"text-slate-700"),children:t.name}),e.jsxs("div",{className:"flex items-center gap-2 mt-0.5",children:[e.jsx("p",{className:"text-xs text-slate-400 capitalize bg-slate-100 px-1.5 py-0.5 rounded-md",children:t.type}),("document"===t.source_type||t.metadata?.document_type)&&e.jsx("span",{className:"text-xs text-blue-600 font-medium bg-blue-50 px-1.5 py-0.5 rounded-md border border-blue-200",children:t.metadata?.document_type||"Doc"}),l&&e.jsx("span",{className:"text-xs text-indigo-500 font-medium",children:"Selected"})]})]})]}),e.jsxs("div",{className:"flex items-center gap-4 md:gap-8",children:[e.jsx("div",{className:"text-sm text-slate-500 hidden md:block w-24 text-right",children:"file"===t.type?ox(t.size):"--"}),e.jsx("div",{className:"text-sm text-slate-500 hidden lg:block w-32 text-right",children:new Date(t.updated_at).toLocaleDateString()}),e.jsxs("div",{className:"flex items-center gap-1 opacity-100 md:opacity-0 md:group-hover:opacity-100 transition-opacity",children:["file"===t.type&&e.jsx("button",{onClick:e=>{e.stopPropagation(),i(t)},className:"p-2 hover:bg-slate-200 rounded-lg text-slate-500 hover:text-indigo-600 transition-colors active:scale-95",title:"Download",children:e.jsx(xe,{size:18})}),e.jsx("button",{onClick:v,className:"p-2 hover:bg-slate-200 rounded-lg text-slate-500 hover:text-indigo-600 transition-colors active:scale-95",title:"More actions",children:e.jsx(Ve,{size:18})})]})]})]})},cx=({node:n,onClose:s})=>{const[i,l]=kt.useState(100),[c,d]=kt.useState(0),[u,h]=kt.useState(1),[m,p]=kt.useState(!1),[f,g]=kt.useState(!1),[x,b]=kt.useState(null),[v,w]=kt.useState(!0);if(!n)return null;const j=n.mime_type?.startsWith("image/"),N="application/pdf"===n.mime_type,k=n.mime_type?.startsWith("text/")||n.name?.endsWith(".txt")||n.name?.endsWith(".md"),S=n.mime_type?.startsWith("video/"),C=n.mime_type?.startsWith("audio/"),_="http://127.0.0.1:8000/api/v1",P="http://localhost:8000/storage";kt.useEffect(()=>{let e=!0;return(async()=>{try{w(!0),g(!1);let t;if("string"==typeof n.id&&n.id.startsWith("doc_")&&n.metadata?.pdf_path){const e=`${P}/${n.metadata.pdf_path}`;t=await Bt.get(e,{responseType:"blob",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}})}else t=await Bt.get(`${_}/drive/nodes/${n.id}/preview`,{responseType:"blob",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(e){const e=new Blob([t.data],{type:n.mime_type||"application/octet-stream"}),r=URL.createObjectURL(e);b(r),w(!1)}}catch(t){e&&(g(!0),w(!1))}})(),()=>{e=!1}},[n.id,n.mime_type,n.metadata?.pdf_path,_,P]),kt.useEffect(()=>()=>{x&&URL.revokeObjectURL(x)},[x]);const E=()=>l(e=>Math.min(e+25,200)),D=()=>l(e=>Math.max(e-25,50)),O=()=>d(e=>(e+90)%360),T=e=>e?new Date(e).toLocaleString():"Unknown";return St.useEffect(()=>{const e=e=>{"Escape"===e.key&&s(),"+"!==e.key&&"="!==e.key||E(),"-"===e.key&&D(),"r"!==e.key&&"R"!==e.key||O(),"i"!==e.key&&"I"!==e.key||p(e=>!e)};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)},[]),e.jsx(r,{children:e.jsx(a.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/80 backdrop-blur-sm p-0 md:p-4",onClick:s,children:e.jsxs(a.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},onClick:e=>e.stopPropagation(),className:"bg-white rounded-none md:rounded-2xl shadow-2xl w-full h-full md:h-auto md:max-w-6xl md:max-h-[90vh] flex flex-col overflow-hidden",children:[e.jsxs("div",{className:"flex items-center justify-between px-4 md:px-6 py-3 md:py-4 border-b border-slate-200 bg-white",children:[e.jsxs("div",{className:"flex-1 min-w-0 mr-4",children:[e.jsx("h3",{className:"text-base md:text-lg font-semibold text-slate-800 truncate",children:n.name}),e.jsx("p",{className:"text-xs md:text-sm text-slate-500",children:n.mime_type||"Unknown type"})]}),e.jsxs("div",{className:"flex items-center gap-1 md:gap-2",children:[j&&e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:D,className:"p-2 hover:bg-slate-100 rounded-lg text-slate-600 transition-colors",title:"Zoom Out (-)",children:e.jsx(Ee,{size:18})}),e.jsxs("span",{className:"text-xs font-medium text-slate-600 w-12 text-center hidden md:inline",children:[i,"%"]}),e.jsx("button",{onClick:E,className:"p-2 hover:bg-slate-100 rounded-lg text-slate-600 transition-colors",title:"Zoom In (+)",children:e.jsx(De,{size:18})}),e.jsx("button",{onClick:O,className:"p-2 hover:bg-slate-100 rounded-lg text-slate-600 transition-colors",title:"Rotate (R)",children:e.jsx(Ke,{size:18})}),e.jsx("div",{className:"w-px h-6 bg-slate-200 mx-1 hidden md:block"})]}),e.jsx("button",{onClick:()=>p(!m),className:"p-2 rounded-lg transition-colors "+(m?"bg-indigo-50 text-indigo-600":"hover:bg-slate-100 text-slate-600"),title:"File Info (I)",children:e.jsx(Le,{size:18})}),e.jsx("a",{href:x||"#",download:n.name,className:"p-2 hover:bg-slate-100 rounded-lg text-slate-600 transition-colors",title:"Download",children:e.jsx(xe,{size:18})}),e.jsx("button",{onClick:s,className:"p-2 hover:bg-slate-100 rounded-lg text-slate-600 transition-colors",title:"Close (ESC)",children:e.jsx(t,{size:18})})]})]}),e.jsxs("div",{className:"flex-1 overflow-hidden bg-slate-50 flex relative",children:[e.jsx("div",{className:"flex-1 overflow-auto preview-content flex items-center justify-center p-4 md:p-6",children:v?e.jsxs("div",{className:"text-center",children:[e.jsx(y,{className:"mx-auto text-indigo-600 mb-4 animate-spin",size:48}),e.jsx("p",{className:"text-slate-600 font-medium",children:"Loading preview..."})]}):f?e.jsxs("div",{className:"text-center",children:[e.jsx(o,{className:"mx-auto text-slate-300 mb-4",size:48}),e.jsx("p",{className:"text-slate-600 font-medium mb-2",children:"Failed to load preview"}),e.jsx("p",{className:"text-sm text-slate-500 mb-4",children:"This file cannot be previewed"}),e.jsxs("a",{href:x||"#",download:n.name,className:"inline-flex items-center gap-2 px-4 py-2 bg-indigo-600 hover:bg-indigo-700 text-white rounded-lg font-medium transition-colors",children:[e.jsx(xe,{size:18}),"Download File"]})]}):j?e.jsx(a.img,{src:x,alt:n.name,onError:()=>g(!0),className:"max-w-full max-h-full object-contain rounded-lg shadow-lg",style:{transform:`scale(${i/100}) rotate(${c}deg)`,transition:"transform 0.3s ease"}}):N?e.jsx("iframe",{src:x,className:"w-full h-full min-h-[400px] md:min-h-[600px] rounded-lg shadow-lg bg-white",title:n.name}):S?e.jsxs("video",{controls:!0,className:"max-w-full max-h-full rounded-lg shadow-lg",children:[e.jsx("source",{src:x,type:n.mime_type}),"Your browser does not support video playback."]}):C?e.jsx("div",{className:"w-full max-w-md",children:e.jsxs("audio",{controls:!0,className:"w-full",children:[e.jsx("source",{src:x,type:n.mime_type}),"Your browser does not support audio playback."]})}):k?e.jsx("iframe",{src:x,className:"w-full h-full min-h-[400px] md:min-h-[600px] rounded-lg shadow-lg bg-white",title:n.name}):e.jsxs("div",{className:"text-center",children:[e.jsx(o,{className:"mx-auto text-slate-300 mb-4",size:48}),e.jsx("p",{className:"text-slate-600 font-medium mb-2",children:"Preview not available"}),e.jsx("p",{className:"text-sm text-slate-500 mb-4",children:"This file type cannot be previewed in the browser"}),e.jsxs("a",{href:x||"#",download:n.name,className:"inline-flex items-center gap-2 px-4 py-2 bg-indigo-600 hover:bg-indigo-700 text-white rounded-lg font-medium transition-colors",children:[e.jsx(xe,{size:18}),"Download File"]})]})}),e.jsx(r,{children:m&&e.jsxs(a.div,{initial:{x:300,opacity:0},animate:{x:0,opacity:1},exit:{x:300,opacity:0},className:"absolute md:relative right-0 top-0 bottom-0 w-full md:w-80 bg-white border-l border-slate-200 p-4 md:p-6 overflow-y-auto shadow-lg",children:[e.jsxs("h4",{className:"text-lg font-semibold text-slate-800 mb-4 flex items-center gap-2",children:[e.jsx(Le,{size:20,className:"text-indigo-600"}),"File Information"]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-slate-500 mb-1",children:"File Name"}),e.jsx("p",{className:"text-sm font-medium text-slate-700",children:n.name})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-slate-500 mb-1",children:"Size"}),e.jsx("p",{className:"text-sm text-slate-700",children:(e=>{if(!e)return"Unknown";const t=Math.floor(Math.log(e)/Math.log(1024));return Math.round(e/Math.pow(1024,t)*100)/100+" "+["Bytes","KB","MB","GB"][t]})(n.size)})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-slate-500 mb-1",children:"Type"}),e.jsx("p",{className:"text-sm text-slate-700",children:n.mime_type||"Unknown"})]}),"document"===n.source_type&&n.metadata&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"border-t border-slate-200 pt-3",children:[e.jsx("p",{className:"text-xs text-slate-500 mb-1",children:"Document Type"}),e.jsx("p",{className:"text-sm font-medium text-blue-600",children:n.metadata.document_type||"N/A"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-slate-500 mb-1",children:"Status"}),e.jsx("p",{className:"text-sm text-slate-700 capitalize",children:n.metadata.status||"N/A"})]}),n.metadata.has_signatures&&e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-slate-500 mb-1",children:"Signatures"}),e.jsx("p",{className:"text-sm text-green-600 font-medium",children:" Has signatures"})]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-slate-500 mb-1",children:"Created"}),e.jsx("p",{className:"text-sm text-slate-700",children:T(n.created_at)})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-slate-500 mb-1",children:"Modified"}),e.jsx("p",{className:"text-sm text-slate-700",children:T(n.updated_at)})]})]}),n.path&&e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-medium text-slate-500 uppercase tracking-wide",children:"Location"}),e.jsx("p",{className:"text-sm text-slate-800 mt-1 break-words",children:n.path})]}),e.jsxs("div",{className:"mt-6 pt-6 border-t border-slate-200",children:[e.jsx("h5",{className:"text-sm font-semibold text-slate-700 mb-3",children:"Keyboard Shortcuts"}),e.jsxs("div",{className:"space-y-2 text-xs text-slate-600",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Close"}),e.jsx("kbd",{className:"px-2 py-1 bg-slate-100 rounded",children:"ESC"})]}),j&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Zoom In"}),e.jsx("kbd",{className:"px-2 py-1 bg-slate-100 rounded",children:"+"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Zoom Out"}),e.jsx("kbd",{className:"px-2 py-1 bg-slate-100 rounded",children:"-"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Rotate"}),e.jsx("kbd",{className:"px-2 py-1 bg-slate-100 rounded",children:"R"})]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Toggle Info"}),e.jsx("kbd",{className:"px-2 py-1 bg-slate-100 rounded",children:"I"})]})]})]})]})})]})]})})})},dx=({isOpen:n,onClose:s,title:i,children:o})=>(kt.useEffect(()=>(document.body.style.overflow=n?"hidden":"",()=>{document.body.style.overflow=""}),[n]),e.jsx(r,{children:n&&e.jsxs(e.Fragment,{children:[e.jsx(a.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:s,className:"fixed inset-0 bg-black/40 backdrop-blur-sm z-50"}),e.jsxs(a.div,{initial:{y:"100%"},animate:{y:0},exit:{y:"100%"},transition:{type:"spring",damping:30,stiffness:300},className:"fixed bottom-0 left-0 right-0 bg-white rounded-t-3xl z-50 max-h-[85vh] flex flex-col shadow-2xl",children:[e.jsx("div",{className:"flex justify-center pt-3 pb-2",children:e.jsx("div",{className:"w-12 h-1.5 bg-slate-300 rounded-full"})}),i&&e.jsxs("div",{className:"flex items-center justify-between px-6 py-3 border-b border-slate-200",children:[e.jsx("h3",{className:"text-lg font-bold text-slate-900",children:i}),e.jsx("button",{onClick:s,className:"w-9 h-9 flex items-center justify-center text-slate-600 hover:bg-slate-100 rounded-xl transition-colors active:scale-95",children:e.jsx(t,{size:20})})]}),e.jsx("div",{className:"flex-1 overflow-y-auto overscroll-contain px-4 py-4",children:o}),e.jsx("div",{className:"h-safe-area-inset-bottom bg-white"})]})]})})),ux=({x:t,y:n,node:r,isBackground:a,onClose:s,onRename:i,onDownload:o,onDelete:l,onMove:c,onCut:d,onCopy:u,onPaste:h,onCreateFolder:m,onUpload:f,onRefresh:g,clipboardState:x,onAddToFavorites:b,isFavorite:v,onShare:y})=>{const w=kt.useRef(null),[j,N]=kt.useState(window.innerWidth<768);if(kt.useEffect(()=>{const e=()=>N(window.innerWidth<768);window.addEventListener("resize",e);const t=e=>{w.current&&!w.current.contains(e.target)&&s()},n=e=>{"Escape"===e.key&&s()},r=e=>{w.current&&w.current.contains(e.target)&&e.preventDefault()};return j||(document.addEventListener("mousedown",t),document.addEventListener("contextmenu",r)),document.addEventListener("keydown",n),()=>{window.removeEventListener("resize",e),document.removeEventListener("mousedown",t),document.removeEventListener("keydown",n),document.removeEventListener("contextmenu",r)}},[s,j]),a)return j?e.jsx(dx,{isOpen:!0,onClose:s,title:"Actions",children:e.jsxs("div",{className:"space-y-2",children:[e.jsxs("button",{onClick:()=>{m(),s()},className:"w-full flex items-center gap-4 px-4 py-4 text-base text-slate-700 hover:bg-slate-100 rounded-xl transition-colors active:scale-95",children:[e.jsx(et,{size:22,className:"text-indigo-600"}),e.jsx("span",{className:"font-medium",children:"New Folder"})]}),e.jsxs("button",{onClick:()=>{f(),s()},className:"w-full flex items-center gap-4 px-4 py-4 text-base text-slate-700 hover:bg-slate-100 rounded-xl transition-colors active:scale-95",children:[e.jsx(O,{size:22,className:"text-indigo-600"}),e.jsx("span",{className:"font-medium",children:"Upload File"})]}),x&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"h-px bg-slate-200 my-2"}),e.jsx("button",{onClick:()=>{h(null),s()},className:"w-full flex items-center justify-between gap-4 px-4 py-4 text-base transition-colors text-indigo-600 hover:bg-indigo-50 font-medium rounded-xl active:scale-95",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(tt,{size:22}),e.jsxs("span",{children:["Paste ","cut"===x.operation?"(Move)":"(Copy)"]})]})})]}),e.jsxs("button",{onClick:()=>{g?.(),s()},className:"w-full flex items-center gap-4 px-4 py-4 text-base text-slate-700 hover:bg-slate-100 rounded-xl transition-colors active:scale-95",children:[e.jsx(Qe,{size:22,className:"text-slate-600"}),e.jsx("span",{className:"font-medium",children:"Refresh"})]})]})}):e.jsxs("div",{ref:w,className:"fixed bg-white rounded-xl shadow-lg border border-slate-200 py-2 z-50 min-w-[220px] animate-in fade-in zoom-in-95 duration-100",style:{top:`${n}px`,left:`${t}px`},children:[e.jsxs("div",{className:"px-2",children:[e.jsxs("button",{onClick:()=>{m(),s()},className:"w-full flex items-center gap-3 px-3 py-2 text-sm text-slate-700 hover:bg-slate-100 rounded-lg transition-colors group",children:[e.jsx(et,{size:16,className:"text-slate-400 group-hover:text-indigo-600"}),e.jsx("span",{className:"font-medium",children:"New Folder"})]}),e.jsxs("button",{onClick:()=>{f(),s()},className:"w-full flex items-center gap-3 px-3 py-2 text-sm text-slate-700 hover:bg-slate-100 rounded-lg transition-colors group",children:[e.jsx(O,{size:16,className:"text-slate-400 group-hover:text-indigo-600"}),e.jsx("span",{className:"font-medium",children:"Upload File"})]})]}),e.jsx("div",{className:"h-px bg-slate-100 my-1 mx-2"}),e.jsxs("div",{className:"px-2",children:[x&&e.jsxs("button",{onClick:()=>{h(null),s()},className:"w-full flex items-center justify-between gap-3 px-3 py-2 text-sm transition-colors text-indigo-600 hover:bg-indigo-50 font-medium rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(tt,{size:16}),e.jsxs("span",{children:["Paste ","cut"===x.operation?"(Move)":"(Copy)"]})]}),e.jsx("span",{className:"text-xs opacity-60",children:"Ctrl+V"})]}),e.jsxs("button",{onClick:()=>{g?.(),s()},className:"w-full flex items-center gap-3 px-3 py-2 text-sm text-slate-700 hover:bg-slate-100 rounded-lg transition-colors group",children:[e.jsx(Qe,{size:16,className:"text-slate-400 group-hover:text-indigo-600"}),e.jsx("span",{className:"font-medium",children:"Refresh"})]})]})]});const k=[{icon:p,label:v?"Remove from Favorites":"Add to Favorites",action:()=>{b?.(r),s()},highlight:v},{icon:ve,label:"Share",action:()=>{y?.(r),s()}},{type:"separator"},..."file"===r.type?[{icon:xe,label:"Download",action:()=>{o(r),s()}}]:[],{icon:pe,label:"Rename",action:()=>{i(r),s()}},{type:"separator"},{icon:nt,label:"Cut",action:()=>{d(r),s()},shortcut:"Ctrl+X"},{icon:rt,label:"Copy",action:()=>{u(r),s()},shortcut:"Ctrl+C"},...x?[{icon:tt,label:"Paste "+("cut"===x.operation?"(Move)":"(Copy)"),action:()=>{h(r),s()},shortcut:"Ctrl+V",highlight:!0}]:[],{type:"separator"},{icon:at,label:"Move to...",action:()=>{c(r),s()}},{icon:te,label:"Delete",action:()=>{l(r),s()},danger:!0}];return j?e.jsx(dx,{isOpen:!0,onClose:s,title:r.name,children:e.jsx("div",{className:"space-y-1",children:k.map((t,n)=>"separator"===t.type?e.jsx("div",{className:"h-px bg-slate-200 my-3"},n):e.jsxs("button",{onClick:t.action,disabled:t.disabled,className:`w-full flex items-center gap-4 px-4 py-4 text-base transition-colors rounded-xl active:scale-95 ${t.disabled?"opacity-50 cursor-not-allowed":""} ${!t.disabled&&t.danger?"text-red-600 hover:bg-red-50":!t.disabled&&t.highlight?"text-indigo-600 hover:bg-indigo-50 font-medium":t.disabled?"":"text-slate-700 hover:bg-slate-100"}`,children:[e.jsx(t.icon,{size:22,className:t.danger?"text-red-500":t.highlight?"text-indigo-500":"text-slate-400"}),e.jsx("span",{className:"font-medium flex-1 text-left",children:t.label})]},n))})}):e.jsx("div",{ref:w,className:"fixed bg-white/95 backdrop-blur-sm rounded-xl shadow-2xl border border-slate-100 py-2 z-50 min-w-[220px] animate-in fade-in zoom-in-95 duration-100",style:{top:`${n}px`,left:`${t}px`},children:k.map((t,n)=>"separator"===t.type?e.jsx("div",{className:"h-px bg-slate-100 my-1 mx-2"},n):e.jsx("div",{className:"px-2",children:e.jsxs("button",{onClick:t.action,disabled:t.disabled,className:`w-full flex items-center justify-between gap-3 px-3 py-2 text-sm transition-colors rounded-lg group\n                                ${t.disabled?"opacity-50 cursor-not-allowed":""}\n                                ${!t.disabled&&t.danger?"text-red-600 hover:bg-red-50":!t.disabled&&t.highlight?"text-indigo-600 hover:bg-indigo-50 font-medium":t.disabled?"":"text-slate-700 hover:bg-slate-100"}`,children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(t.icon,{size:16,className:t.danger?"text-red-500":"text-slate-400 group-hover:text-indigo-500"}),e.jsx("span",{className:"font-medium",children:t.label})]}),t.shortcut&&e.jsx("span",{className:"text-xs text-slate-400",children:t.shortcut})]})},n))})},hx=({node:n,onClose:r,onConfirm:a})=>{const[s,i]=kt.useState(n.name);return e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-md p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("h3",{className:"text-lg font-semibold text-slate-800",children:["Rename ",n.type]}),e.jsx("button",{onClick:r,className:"p-1 hover:bg-slate-100 rounded-lg transition-colors",children:e.jsx(t,{size:20,className:"text-slate-500"})})]}),e.jsxs("form",{onSubmit:e=>{e.preventDefault(),s.trim()&&s!==n.name&&a(n.id,s.trim()),r()},children:[e.jsx("input",{type:"text",value:s,onChange:e=>i(e.target.value),className:"w-full px-4 py-3 bg-slate-50 border border-slate-200 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-all",placeholder:"Enter new name",autoFocus:!0,onFocus:e=>{const t=e.target.value.lastIndexOf(".");t>0&&"file"===n.type?e.target.setSelectionRange(0,t):e.target.select()}}),e.jsxs("div",{className:"flex items-center gap-3 mt-6",children:[e.jsx("button",{type:"button",onClick:r,className:"flex-1 px-4 py-2.5 bg-slate-100 hover:bg-slate-200 text-slate-700 rounded-lg font-medium transition-colors",children:"Cancel"}),e.jsx("button",{type:"submit",disabled:!s.trim()||s===n.name,className:"flex-1 px-4 py-2.5 bg-indigo-600 hover:bg-indigo-700 text-white rounded-lg font-medium transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Rename"})]})]})]})})},mx=({onClose:n,onConfirm:r,parentFolder:a=null})=>{const[s,i]=kt.useState(""),[o,l]=kt.useState("");return e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-md p-6 animate-in fade-in zoom-in duration-200",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-indigo-100 rounded-lg",children:e.jsx(et,{className:"text-indigo-600",size:24})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-slate-800",children:"Create New Folder"}),a&&e.jsxs("p",{className:"text-sm text-slate-500",children:["in ",a]})]})]}),e.jsx("button",{onClick:n,className:"p-1 hover:bg-slate-100 rounded-lg transition-colors",children:e.jsx(t,{size:20,className:"text-slate-500"})})]}),e.jsxs("form",{onSubmit:e=>{e.preventDefault(),s.trim()?s.includes("/")||s.includes("\\")?l("Folder name cannot contain / or \\"):(r(s.trim()),n()):l("Folder name cannot be empty")},children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Folder Name"}),e.jsx("input",{type:"text",value:s,onChange:e=>{i(e.target.value),l("")},className:`w-full px-4 py-3 bg-slate-50 border ${o?"border-red-300 focus:ring-red-500":"border-slate-200 focus:ring-indigo-500"} rounded-lg focus:ring-2 focus:border-transparent transition-all`,placeholder:"Enter folder name",autoFocus:!0}),o&&e.jsx("p",{className:"mt-2 text-sm text-red-600",children:o})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("button",{type:"button",onClick:n,className:"flex-1 px-4 py-2.5 bg-slate-100 hover:bg-slate-200 text-slate-700 rounded-lg font-medium transition-colors",children:"Cancel"}),e.jsx("button",{type:"submit",disabled:!s.trim(),className:"flex-1 px-4 py-2.5 bg-indigo-600 hover:bg-indigo-700 text-white rounded-lg font-medium transition-colors disabled:opacity-50 disabled:cursor-not-allowed shadow-lg shadow-indigo-500/20",children:"Create Folder"})]})]})]})})},px=({node:n,onClose:s,onShareCreated:i})=>{const[o,l]=kt.useState("link"),[c,u]=kt.useState("view"),[h,p]=kt.useState(!1),[f,g]=kt.useState(!1),[x,b]=kt.useState(""),[y,w]=kt.useState(!1),[j,N]=kt.useState(""),[k,S]=kt.useState(""),[C,_]=kt.useState(""),[P,E]=kt.useState(null),[D,O]=kt.useState(""),[T,M]=kt.useState([]),[A,z]=kt.useState([]),[R,I]=kt.useState(""),L="http://127.0.0.1:8000/api/v1";kt.useEffect(()=>{n&&B()},[n]);const B=async()=>{try{const e=await Bt.get(`${L}/drive/nodes/${n.id}/shares`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});z(e.data.shares||[])}catch(e){}},$=[{value:"view",label:"Can View",icon:ge,description:"Can only view the file"},{value:"download",label:"Can Download",icon:xe,description:"Can view and download"},{value:"edit",label:"Can Edit",icon:it,description:"Full access to edit"}];return e.jsx(r,{children:e.jsx(a.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:s,children:e.jsxs(a.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},onClick:e=>e.stopPropagation(),className:"bg-white rounded-2xl shadow-2xl w-full max-w-2xl max-h-[90vh] overflow-hidden flex flex-col",children:[e.jsxs("div",{className:"px-6 py-4 border-b border-gray-200 flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("h2",{className:"text-xl font-semibold text-gray-900",children:['Share "',n?.name,'"']}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Control who can access this file"})]}),e.jsx("button",{onClick:s,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:e.jsx(t,{className:"w-5 h-5 text-gray-500"})})]}),e.jsx("div",{className:"px-6 pt-4 border-b border-gray-200",children:e.jsxs("div",{className:"flex gap-4",children:[e.jsxs("button",{onClick:()=>l("link"),className:"pb-3 px-2 font-medium text-sm transition-colors relative "+("link"===o?"text-indigo-600":"text-gray-500 hover:text-gray-700"),children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(st,{className:"w-4 h-4"}),"Share via Link"]}),"link"===o&&e.jsx(a.div,{layoutId:"activeTab",className:"absolute bottom-0 left-0 right-0 h-0.5 bg-indigo-600"})]}),e.jsxs("button",{onClick:()=>l("team"),className:"pb-3 px-2 font-medium text-sm transition-colors relative "+("team"===o?"text-indigo-600":"text-gray-500 hover:text-gray-700"),children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(m,{className:"w-4 h-4"}),"Share with Team"]}),"team"===o&&e.jsx(a.div,{layoutId:"activeTab",className:"absolute bottom-0 left-0 right-0 h-0.5 bg-indigo-600"})]})]})}),e.jsxs("div",{className:"flex-1 overflow-y-auto p-6",children:["link"===o?e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Permission Level"}),e.jsx("div",{className:"grid grid-cols-3 gap-3",children:$.map(t=>e.jsxs("button",{onClick:()=>u(t.value),className:"p-4 rounded-lg border-2 transition-all "+(c===t.value?"border-indigo-600 bg-indigo-50":"border-gray-200 hover:border-gray-300"),children:[e.jsx(t.icon,{className:"w-5 h-5 mx-auto mb-2 "+(c===t.value?"text-indigo-600":"text-gray-400")}),e.jsx("div",{className:"text-sm font-medium text-gray-900",children:t.label}),e.jsx("div",{className:"text-xs text-gray-500 mt-1",children:t.description})]},t.value))})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:y,onChange:e=>w(e.target.checked),className:"w-4 h-4 text-indigo-600 rounded focus:ring-indigo-500"}),e.jsx(d,{className:"w-4 h-4 text-gray-500"}),e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Password Protection"})]}),y&&e.jsx("input",{type:"text",value:x,onChange:e=>b(e.target.value),placeholder:"Enter password",className:"mt-2 w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[e.jsx(F,{className:"w-4 h-4 inline mr-2"}),"Expiry Date (Optional)"]}),e.jsx("input",{type:"datetime-local",value:j,onChange:e=>N(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[e.jsx(ot,{className:"w-4 h-4 inline mr-2"}),"Max Access Count (Optional)"]}),e.jsx("input",{type:"number",value:k,onChange:e=>S(e.target.value),placeholder:"Unlimited",min:"1",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Message (Optional)"}),e.jsx("textarea",{value:C,onChange:e=>_(e.target.value),placeholder:"Add a message for recipients...",rows:"3",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent resize-none"})]}),R&&e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 border border-gray-200",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Share Link"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"text",value:R,readOnly:!0,className:"flex-1 px-3 py-2 bg-white border border-gray-300 rounded-lg text-sm"}),e.jsx("button",{onClick:()=>{R&&(navigator.clipboard.writeText(R),g(!0),setTimeout(()=>g(!1),2e3))},className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors flex items-center gap-2",children:f?e.jsxs(e.Fragment,{children:[e.jsx(we,{className:"w-4 h-4"}),"Copied!"]}):e.jsxs(e.Fragment,{children:[e.jsx(rt,{className:"w-4 h-4"}),"Copy"]})})]})]})]}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[e.jsx(v,{className:"w-4 h-4 inline mr-2"}),"Email Address"]}),e.jsx("input",{type:"email",value:D,onChange:e=>O(e.target.value),placeholder:"Enter email address",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Permission Level"}),e.jsx("div",{className:"grid grid-cols-3 gap-3",children:$.map(t=>e.jsxs("button",{onClick:()=>u(t.value),className:"p-4 rounded-lg border-2 transition-all "+(c===t.value?"border-indigo-600 bg-indigo-50":"border-gray-200 hover:border-gray-300"),children:[e.jsx(t.icon,{className:"w-5 h-5 mx-auto mb-2 "+(c===t.value?"text-indigo-600":"text-gray-400")}),e.jsx("div",{className:"text-sm font-medium text-gray-900",children:t.label})]},t.value))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Message (Optional)"}),e.jsx("textarea",{value:C,onChange:e=>_(e.target.value),placeholder:"Add a message...",rows:"3",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent resize-none"})]})]}),A.length>0&&e.jsxs("div",{className:"mt-8 pt-6 border-t border-gray-200",children:[e.jsxs("h3",{className:"text-sm font-medium text-gray-900 mb-4",children:["Active Shares (",A.length,")"]}),e.jsx("div",{className:"space-y-2",children:A.map(t=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:"public_link"===t.share_type?"Public Link":t.shared_with_email}),e.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:[t.permission,"  ",t.access_count||0," accesses",t.expires_at&&`  Expires ${new Date(t.expires_at).toLocaleDateString()}`]})]}),e.jsx("button",{onClick:()=>(async e=>{if(confirm("Are you sure you want to revoke this share?"))try{await Bt.delete(`${L}/drive/shares/${e}`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}),B(),alert("Share revoked successfully")}catch(t){alert("Failed to revoke share")}})(t.id),className:"text-sm text-red-600 hover:text-red-700 font-medium",children:"Revoke"})]},t.id))})]})]}),e.jsxs("div",{className:"px-6 py-4 border-t border-gray-200 flex justify-end gap-3",children:[e.jsx("button",{onClick:s,className:"px-4 py-2 text-gray-700 hover:bg-gray-100 rounded-lg transition-colors",children:"Close"}),e.jsx("button",{onClick:async()=>{p(!0);try{const e={share_type:"team"===o?"internal":"public_link",permission:c,message:C||void 0};"team"===o&&P?e.user_id=P.id:"link"===o&&(y&&x&&(e.password=x),j&&(e.expires_at=j),k&&(e.max_access_count=parseInt(k)));const t=await Bt.post(`${L}/drive/nodes/${n.id}/share`,e,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});I(t.data.share_url),B(),i&&i(t.data.share),alert("Share created successfully!")}catch(e){alert("Failed to create share. Please try again.")}finally{p(!1)}},disabled:h||"team"===o&&!D,className:"px-6 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:h?"Creating...":e.jsxs(e.Fragment,{children:[e.jsx(ye,{className:"w-4 h-4"}),"Create Share"]})})]})]})})})},fx=({currentView:t,onViewChange:n,onUploadClick:r,onCreateFolderClick:s,storageUsed:i=75})=>{const o=[{id:"dashboard",icon:lt,label:"Dashboard"},{id:"root",icon:lt,label:"My Files"},{id:"recent",icon:$,label:"Recent"},{id:"favorites",icon:p,label:"Favorites"},{id:"trash",icon:te,label:"Trash"}];return e.jsxs("div",{className:"w-64 bg-slate-50 border-r border-slate-200 flex flex-col h-full flex-shrink-0",children:[e.jsx("div",{className:"p-4",children:e.jsxs("button",{onClick:r,className:"w-full bg-indigo-600 hover:bg-indigo-700 text-white rounded-xl py-3 px-4 flex items-center justify-center gap-2 font-medium shadow-sm transition-all hover:shadow-md active:scale-[0.98]",children:[e.jsx(ne,{size:20}),e.jsx("span",{children:"New Upload"})]})}),e.jsx("nav",{className:"flex-1 px-3 space-y-1 overflow-y-auto",children:o.map(r=>e.jsxs("button",{onClick:()=>n(r.id),className:"w-full flex items-center gap-3 px-4 py-3 rounded-xl text-sm font-medium transition-all\n                            "+(t===r.id?"bg-indigo-50 text-indigo-700 shadow-sm":"text-slate-600 hover:bg-slate-100 hover:text-slate-900"),children:[e.jsx(r.icon,{size:20,className:t===r.id?"text-indigo-600":"text-slate-400"}),r.label]},r.id))}),e.jsxs("div",{className:"p-4 mt-auto border-t border-slate-200 bg-white",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2 text-slate-700 font-medium text-sm",children:[e.jsx(ct,{size:16,className:"text-indigo-500"}),e.jsx("span",{children:"Storage"})]}),e.jsx("div",{className:"w-full bg-slate-100 rounded-full h-2 overflow-hidden mb-2",children:e.jsx(a.div,{initial:{width:0},animate:{width:`${i}%`},className:"h-full bg-indigo-600 rounded-full"})}),e.jsxs("p",{className:"text-xs text-slate-500 flex justify-between",children:[e.jsxs("span",{children:[i,"% used"]}),e.jsx("span",{children:"100 GB total"})]})]})]})},gx=({items:t,onNavigate:n})=>e.jsxs("nav",{className:"flex items-center space-x-1 text-sm text-slate-500 overflow-x-auto scrollbar-none pb-2",children:[e.jsxs("button",{onClick:()=>n(null),className:"flex items-center hover:text-indigo-600 transition-colors "+(0===t.length?"font-semibold text-slate-800":""),children:[e.jsx(dt,{size:16}),e.jsx("span",{className:"ml-1",children:"Home"})]}),t.map((r,a)=>{const s=a===t.length-1;return e.jsxs(St.Fragment,{children:[e.jsx(M,{size:14,className:"text-slate-400 shrink-0"}),e.jsx("button",{onClick:()=>!s&&n(r),disabled:s,className:"whitespace-nowrap hover:text-indigo-600 transition-colors "+(s?"font-semibold text-slate-800 cursor-default hover:text-slate-800":""),children:r.name})]},r.id)})]}),xx=({title:r,breadcrumbs:a,onNavigate:s,viewMode:i,setViewMode:o,searchQuery:l,setSearchQuery:c,sortBy:d,setSortBy:u,sortOrder:h,setSortOrder:m,filterType:p,setFilterType:f,onMenuClick:g})=>{const[b,v]=kt.useState(!1);return e.jsx("div",{className:"sticky top-0 z-10 bg-white/95 backdrop-blur-sm border-b border-slate-200 px-4 md:px-6 py-3 md:py-4",children:e.jsxs("div",{className:"flex flex-col gap-3 md:gap-4",children:[e.jsxs("div",{className:"flex items-center justify-between gap-2 md:gap-4",children:[e.jsx("button",{onClick:g,className:"md:hidden w-10 h-10 flex items-center justify-center text-slate-700 hover:bg-slate-100 rounded-xl transition-colors active:scale-95",children:e.jsx(n,{size:24})}),e.jsxs("div",{className:"flex items-center gap-2 md:gap-4 min-w-0 flex-1",children:[e.jsx("h1",{className:"text-lg md:text-xl font-bold text-slate-800 shrink-0 hidden md:block",children:r||"My Drive"}),e.jsx("div",{className:"hidden lg:block w-px h-6 bg-slate-300 mx-2"}),e.jsx("div",{className:"min-w-0 flex-1",children:a.length>0?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"md:hidden",children:e.jsx("p",{className:"text-sm font-semibold text-slate-800 truncate",children:a[a.length-1]?.name||r})}),e.jsx("div",{className:"hidden md:block",children:e.jsx(gx,{items:a,onNavigate:s})})]}):e.jsx("p",{className:"md:hidden text-sm font-semibold text-slate-800",children:r})})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>v(!b),className:"md:hidden w-10 h-10 flex items-center justify-center text-slate-600 hover:bg-slate-100 rounded-xl transition-colors active:scale-95",children:b?e.jsx(t,{size:20}):e.jsx(Q,{size:20})}),e.jsxs("div",{className:"hidden md:flex relative flex-1 max-w-md group",children:[e.jsx(Q,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400 group-focus-within:text-indigo-500 transition-colors",size:18}),e.jsx("input",{type:"text",placeholder:"Search in Drive...",value:l,onChange:e=>c(e.target.value),className:"w-full pl-10 pr-4 py-2.5 bg-slate-100 hover:bg-slate-50 focus:bg-white border text-sm border-transparent focus:border-indigo-500 rounded-xl transition-all outline-none shadow-sm focus:shadow-md focus:ring-4 focus:ring-indigo-500/10 placeholder:text-slate-400"})]})]})]}),b&&e.jsxs("div",{className:"md:hidden relative",children:[e.jsx(Q,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400",size:18}),e.jsx("input",{type:"text",placeholder:"Search files...",value:l,onChange:e=>c(e.target.value),autoFocus:!0,className:"w-full pl-10 pr-4 py-3 bg-slate-100 border border-slate-200 focus:border-indigo-500 rounded-xl transition-all outline-none focus:ring-4 focus:ring-indigo-500/10 placeholder:text-slate-400"})]}),e.jsxs("div",{className:"hidden md:flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("div",{className:"relative group",children:[e.jsxs("button",{className:"flex items-center gap-2 px-3 py-1.5 text-sm font-medium text-slate-600 hover:text-slate-900 hover:bg-slate-100 rounded-lg transition-colors border border-transparent hover:border-slate-200",children:[e.jsx(ut,{size:16}),e.jsxs("span",{children:["Sort: ","name"===d?"Name":"date"===d?"Date":"Size"]}),e.jsx(x,{size:14,className:"text-slate-400"})]}),e.jsx("div",{className:"absolute top-full left-0 mt-1 w-48 bg-white rounded-xl shadow-xl border border-slate-100 overflow-hidden hidden group-hover:block transition-all z-20",children:e.jsxs("div",{className:"p-1",children:[[{label:"Name",value:"name"},{label:"Date Modified",value:"date"},{label:"File Size",value:"size"}].map(t=>e.jsxs("button",{onClick:()=>u(t.value),className:"w-full text-left px-3 py-2 text-sm rounded-lg flex items-center justify-between "+(d===t.value?"bg-indigo-50 text-indigo-600":"hover:bg-slate-50 text-slate-700"),children:[t.label,d===t.value&&e.jsx("span",{className:"text-xs font-semibold",children:"asc"===h?"":""})]},t.value)),e.jsx("div",{className:"h-px bg-slate-100 my-1"}),e.jsxs("button",{onClick:()=>m("asc"===h?"desc":"asc"),className:"w-full text-left px-3 py-2 text-sm rounded-lg hover:bg-slate-50 text-slate-700 flex items-center gap-2",children:[e.jsx(ut,{size:14}),"asc"===h?"Ascending":"Descending"]})]})})]}),e.jsxs("div",{className:"relative group",children:[e.jsxs("button",{className:"flex items-center gap-2 px-3 py-1.5 text-sm font-medium rounded-lg transition-colors border border-transparent \n                                "+("all"!==p?"bg-indigo-50 text-indigo-600 border-indigo-100":"text-slate-600 hover:text-slate-900 hover:bg-slate-100 hover:border-slate-200"),children:[e.jsx(qe,{size:16}),e.jsx("span",{children:"all"===p?"Type":p.charAt(0).toUpperCase()+p.slice(1)}),e.jsx(x,{size:14,className:"all"!==p?"text-indigo-400":"text-slate-400"})]}),e.jsx("div",{className:"absolute top-full left-0 mt-1 w-48 bg-white rounded-xl shadow-xl border border-slate-100 overflow-hidden hidden group-hover:block transition-all z-20",children:e.jsx("div",{className:"p-1",children:[{label:"All Files",value:"all"},{label:"Folders",value:"folder"},{label:"Documents",value:"document"},{label:"Images",value:"image"}].map(t=>e.jsxs("button",{onClick:()=>f(t.value),className:"w-full text-left px-3 py-2 text-sm rounded-lg flex items-center justify-between "+(p===t.value?"bg-indigo-50 text-indigo-600":"hover:bg-slate-50 text-slate-700"),children:[t.label,p===t.value&&e.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-indigo-500"})]},t.value))})})]})]}),e.jsxs("div",{className:"flex bg-slate-100 p-1 rounded-lg border border-slate-200",children:[e.jsx("button",{onClick:()=>o("grid"),className:"p-1.5 rounded-md transition-all "+("grid"===i?"bg-white shadow-sm text-indigo-600":"text-slate-500 hover:text-indigo-600"),title:"Grid View",children:e.jsx(Be,{size:18})}),e.jsx("button",{onClick:()=>o("list"),className:"p-1.5 rounded-md transition-all "+("list"===i?"bg-white shadow-sm text-indigo-600":"text-slate-500 hover:text-indigo-600"),title:"List View",children:e.jsx(Ae,{size:18})})]})]})]})})},bx=({isOpen:n,onClose:s,currentView:i,onViewChange:o,storageUsed:l=75})=>{const c=[{id:"dashboard",icon:V,label:"Dashboard"},{id:"root",icon:lt,label:"My Files"},{id:"recent",icon:$,label:"Recent"},{id:"favorites",icon:p,label:"Favorites"},{id:"trash",icon:te,label:"Trash"}];kt.useEffect(()=>(document.body.style.overflow=n?"hidden":"",()=>{document.body.style.overflow=""}),[n]);return e.jsx(r,{children:n&&e.jsxs(e.Fragment,{children:[e.jsx(a.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:s,className:"fixed inset-0 bg-black/40 backdrop-blur-sm z-50 md:hidden"}),e.jsxs(a.div,{initial:{x:"-100%"},animate:{x:0},exit:{x:"-100%"},transition:{type:"spring",damping:25,stiffness:200},className:"fixed top-0 left-0 bottom-0 w-80 max-w-[85vw] bg-white z-50 shadow-2xl flex flex-col md:hidden",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-slate-200",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-indigo-600 rounded-xl flex items-center justify-center shadow-sm",children:e.jsx(lt,{size:20,className:"text-white"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"font-bold text-slate-900",children:"Drive"}),e.jsx("p",{className:"text-xs text-slate-500",children:"File Manager"})]})]}),e.jsx("button",{onClick:s,className:"w-10 h-10 flex items-center justify-center text-slate-600 hover:bg-slate-100 rounded-xl transition-colors active:scale-95",children:e.jsx(t,{size:24})})]}),e.jsx("nav",{className:"flex-1 px-3 py-4 space-y-1 overflow-y-auto",children:c.map(t=>e.jsxs("button",{onClick:()=>{return e=t.id,o(e),void s();var e},className:"w-full flex items-center gap-3 px-4 py-3.5 rounded-xl text-sm font-medium transition-all active:scale-95 "+(i===t.id?"bg-indigo-50 text-indigo-700 shadow-sm":"text-slate-600 hover:bg-slate-100 hover:text-slate-900"),children:[e.jsx(t.icon,{size:22,className:i===t.id?"text-indigo-600":"text-slate-400"}),t.label]},t.id))}),e.jsxs("div",{className:"p-4 border-t border-slate-200 bg-slate-50",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3 text-slate-700 font-medium text-sm",children:[e.jsx(ct,{size:18,className:"text-indigo-500"}),e.jsx("span",{children:"Storage"})]}),e.jsx("div",{className:"w-full bg-slate-200 rounded-full h-2.5 overflow-hidden mb-2",children:e.jsx(a.div,{initial:{width:0},animate:{width:`${l}%`},transition:{duration:.8,ease:"easeOut"},className:"h-full bg-indigo-600 rounded-full"})}),e.jsxs("p",{className:"text-xs text-slate-500 flex justify-between",children:[e.jsxs("span",{children:[l,"% used"]}),e.jsx("span",{className:"font-medium",children:"100 GB total"})]})]})]})]})})},vx=({onUploadClick:t,onCreateFolderClick:n,onMoreClick:s,className:i=""})=>{const[o,l]=St.useState(!1),c=[{icon:O,label:"Upload File",onClick:t,color:"bg-blue-500"},{icon:et,label:"New Folder",onClick:n,color:"bg-indigo-500"}];return e.jsxs(e.Fragment,{children:[e.jsx(r,{children:o&&e.jsx(a.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>l(!1),className:"fixed inset-0 bg-black/20 backdrop-blur-sm z-40 md:hidden"})}),e.jsx(r,{children:o&&e.jsx("div",{className:"fixed bottom-24 right-4 z-50 flex flex-col gap-3 md:hidden",children:c.map((t,n)=>e.jsxs(a.button,{initial:{scale:0,opacity:0,y:20},animate:{scale:1,opacity:1,y:0},exit:{scale:0,opacity:0,y:20},transition:{delay:.05*n},onClick:()=>(e=>{e.onClick(),l(!1)})(t),className:`${t.color} text-white rounded-full p-4 shadow-lg flex items-center gap-3 pr-5 hover:scale-105 active:scale-95 transition-transform`,children:[e.jsx(t.icon,{size:24}),e.jsx("span",{className:"font-medium text-sm whitespace-nowrap",children:t.label})]},t.label))})}),e.jsx("div",{className:`fixed bottom-0 left-0 right-0 bg-white border-t border-slate-200 safe-area-inset-bottom z-40 md:hidden ${i}`,children:e.jsxs("div",{className:"flex items-center justify-around px-4 py-3",children:[e.jsx("div",{className:"w-12"}),e.jsx("div",{className:"w-12"}),e.jsx(a.button,{whileTap:{scale:.9},onClick:()=>{l(!o)},className:"relative -mt-8 w-14 h-14 rounded-full shadow-lg flex items-center justify-center transition-all "+(o?"bg-slate-700 rotate-45":"bg-indigo-600 hover:bg-indigo-700"),children:e.jsx(ne,{size:28,className:"text-white",strokeWidth:2.5})}),e.jsx("button",{onClick:s,className:"w-12 h-12 flex items-center justify-center text-slate-600 hover:bg-slate-100 rounded-xl transition-colors active:scale-95",children:e.jsx(Te,{size:24})}),e.jsx("div",{className:"w-12"})]})})]})};var yx=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function wx(e){return"string"==typeof e&&yx.includes(e)}var jx=new Set(["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"]);function Nx(e){return"string"==typeof e&&jx.has(e)}function kx(e){return"string"==typeof e&&e.startsWith("data-")}function Sx(e){if("object"!=typeof e||null===e)return{};var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(Nx(n)||kx(n))&&(t[n]=e[n]);return t}function Cx(e){return null==e?null:kt.isValidElement(e)&&"object"==typeof e.props&&null!==e.props?Sx(e.props):"object"!=typeof e||Array.isArray(e)?null:Sx(e)}function _x(e){var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(Nx(n)||kx(n)||wx(n))&&(t[n]=e[n]);return t}var Px=["children","width","height","viewBox","className","style","title","desc"];function Ex(){return Ex=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ex.apply(null,arguments)}var Dx=kt.forwardRef((e,t)=>{var{children:n,width:r,height:a,viewBox:s,className:i,style:o,title:l,desc:c}=e,d=function(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}(e,Px),u=s||{width:r,height:a,x:0,y:0},h=Yt("recharts-surface",i);return kt.createElement("svg",Ex({},_x(d),{className:h,width:r,height:a,style:o,viewBox:"".concat(u.x," ").concat(u.y," ").concat(u.width," ").concat(u.height),ref:t}),kt.createElement("title",null,l),kt.createElement("desc",null,c),n)}),Ox=["children","className"];function Tx(){return Tx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Tx.apply(null,arguments)}var Mx=kt.forwardRef((e,t)=>{var{children:n,className:r}=e,a=function(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}(e,Ox),s=Yt("recharts-layer",r);return kt.createElement("g",Tx({className:s},_x(a),{ref:t}),n)}),Ax=kt.createContext(null);function zx(e){return function(){return e}}const Rx=Math.cos,Ix=Math.sin,Fx=Math.sqrt,Lx=Math.PI,Bx=2*Lx,$x=Math.PI,Wx=2*$x,Ux=1e-6,Hx=Wx-Ux;function Vx(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}class qx{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=null==e?Vx:function(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return Vx;const n=10**t;return function(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=Math.round(arguments[t]*n)/n+e[t]}}(e)}moveTo(e,t){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+t}`}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,t){this._append`L${this._x1=+e},${this._y1=+t}`}quadraticCurveTo(e,t,n,r){this._append`Q${+e},${+t},${this._x1=+n},${this._y1=+r}`}bezierCurveTo(e,t,n,r,a,s){this._append`C${+e},${+t},${+n},${+r},${this._x1=+a},${this._y1=+s}`}arcTo(e,t,n,r,a){if(e=+e,t=+t,n=+n,r=+r,(a=+a)<0)throw new Error(`negative radius: ${a}`);let s=this._x1,i=this._y1,o=n-e,l=r-t,c=s-e,d=i-t,u=c*c+d*d;if(null===this._x1)this._append`M${this._x1=e},${this._y1=t}`;else if(u>Ux)if(Math.abs(d*o-l*c)>Ux&&a){let h=n-s,m=r-i,p=o*o+l*l,f=h*h+m*m,g=Math.sqrt(p),x=Math.sqrt(u),b=a*Math.tan(($x-Math.acos((p+u-f)/(2*g*x)))/2),v=b/x,y=b/g;Math.abs(v-1)>Ux&&this._append`L${e+v*c},${t+v*d}`,this._append`A${a},${a},0,0,${+(d*h>c*m)},${this._x1=e+y*o},${this._y1=t+y*l}`}else this._append`L${this._x1=e},${this._y1=t}`;else;}arc(e,t,n,r,a,s){if(e=+e,t=+t,s=!!s,(n=+n)<0)throw new Error(`negative radius: ${n}`);let i=n*Math.cos(r),o=n*Math.sin(r),l=e+i,c=t+o,d=1^s,u=s?r-a:a-r;null===this._x1?this._append`M${l},${c}`:(Math.abs(this._x1-l)>Ux||Math.abs(this._y1-c)>Ux)&&this._append`L${l},${c}`,n&&(u<0&&(u=u%Wx+Wx),u>Hx?this._append`A${n},${n},0,1,${d},${e-i},${t-o}A${n},${n},0,1,${d},${this._x1=l},${this._y1=c}`:u>Ux&&this._append`A${n},${n},0,${+(u>=$x)},${d},${this._x1=e+n*Math.cos(a)},${this._y1=t+n*Math.sin(a)}`)}rect(e,t,n,r){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+t}h${n=+n}v${+r}h${-n}Z`}toString(){return this._}}function Yx(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(null==n)t=null;else{const e=Math.floor(n);if(!(e>=0))throw new RangeError(`invalid digits: ${n}`);t=e}return e},()=>new qx(t)}function Gx(e){return"object"==typeof e&&"length"in e?e:Array.from(e)}function Kx(e){this._context=e}function Xx(e){return new Kx(e)}function Qx(e){return e[0]}function Jx(e){return e[1]}function Zx(e,t){var n=zx(!0),r=null,a=Xx,s=null,i=Yx(o);function o(o){var l,c,d,u=(o=Gx(o)).length,h=!1;for(null==r&&(s=a(d=i())),l=0;l<=u;++l)!(l<u&&n(c=o[l],l,o))===h&&((h=!h)?s.lineStart():s.lineEnd()),h&&s.point(+e(c,l,o),+t(c,l,o));if(d)return s=null,d+""||null}return e="function"==typeof e?e:void 0===e?Qx:zx(e),t="function"==typeof t?t:void 0===t?Jx:zx(t),o.x=function(t){return arguments.length?(e="function"==typeof t?t:zx(+t),o):e},o.y=function(e){return arguments.length?(t="function"==typeof e?e:zx(+e),o):t},o.defined=function(e){return arguments.length?(n="function"==typeof e?e:zx(!!e),o):n},o.curve=function(e){return arguments.length?(a=e,null!=r&&(s=a(r)),o):a},o.context=function(e){return arguments.length?(null==e?r=s=null:s=a(r=e),o):r},o}function eb(e,t,n){var r=null,a=zx(!0),s=null,i=Xx,o=null,l=Yx(c);function c(c){var d,u,h,m,p,f=(c=Gx(c)).length,g=!1,x=new Array(f),b=new Array(f);for(null==s&&(o=i(p=l())),d=0;d<=f;++d){if(!(d<f&&a(m=c[d],d,c))===g)if(g=!g)u=d,o.areaStart(),o.lineStart();else{for(o.lineEnd(),o.lineStart(),h=d-1;h>=u;--h)o.point(x[h],b[h]);o.lineEnd(),o.areaEnd()}g&&(x[d]=+e(m,d,c),b[d]=+t(m,d,c),o.point(r?+r(m,d,c):x[d],n?+n(m,d,c):b[d]))}if(p)return o=null,p+""||null}function d(){return Zx().defined(a).curve(i).context(s)}return e="function"==typeof e?e:void 0===e?Qx:zx(+e),t="function"==typeof t?t:zx(void 0===t?0:+t),n="function"==typeof n?n:void 0===n?Jx:zx(+n),c.x=function(t){return arguments.length?(e="function"==typeof t?t:zx(+t),r=null,c):e},c.x0=function(t){return arguments.length?(e="function"==typeof t?t:zx(+t),c):e},c.x1=function(e){return arguments.length?(r=null==e?null:"function"==typeof e?e:zx(+e),c):r},c.y=function(e){return arguments.length?(t="function"==typeof e?e:zx(+e),n=null,c):t},c.y0=function(e){return arguments.length?(t="function"==typeof e?e:zx(+e),c):t},c.y1=function(e){return arguments.length?(n=null==e?null:"function"==typeof e?e:zx(+e),c):n},c.lineX0=c.lineY0=function(){return d().x(e).y(t)},c.lineY1=function(){return d().x(e).y(n)},c.lineX1=function(){return d().x(r).y(t)},c.defined=function(e){return arguments.length?(a="function"==typeof e?e:zx(!!e),c):a},c.curve=function(e){return arguments.length?(i=e,null!=s&&(o=i(s)),c):i},c.context=function(e){return arguments.length?(null==e?s=o=null:o=i(s=e),c):s},c}Kx.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t)}}};class tb{constructor(e,t){this._context=e,this._x=t}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line}point(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,t,e,t):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+t)/2,e,this._y0,e,t)}this._x0=e,this._y0=t}}const nb={draw(e,t){const n=Fx(t/Lx);e.moveTo(n,0),e.arc(0,0,n,0,Bx)}},rb={draw(e,t){const n=Fx(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},ab=Fx(1/3),sb=2*ab,ib={draw(e,t){const n=Fx(t/sb),r=n*ab;e.moveTo(0,-n),e.lineTo(r,0),e.lineTo(0,n),e.lineTo(-r,0),e.closePath()}},ob={draw(e,t){const n=Fx(t),r=-n/2;e.rect(r,r,n,n)}},lb=Ix(Lx/10)/Ix(7*Lx/10),cb=Ix(Bx/10)*lb,db=-Rx(Bx/10)*lb,ub={draw(e,t){const n=Fx(.8908130915292852*t),r=cb*n,a=db*n;e.moveTo(0,-n),e.lineTo(r,a);for(let s=1;s<5;++s){const t=Bx*s/5,i=Rx(t),o=Ix(t);e.lineTo(o*n,-i*n),e.lineTo(i*r-o*a,o*r+i*a)}e.closePath()}},hb=Fx(3),mb={draw(e,t){const n=-Fx(t/(3*hb));e.moveTo(0,2*n),e.lineTo(-hb*n,-n),e.lineTo(hb*n,-n),e.closePath()}},pb=-.5,fb=Fx(3)/2,gb=1/Fx(12),xb=3*(gb/2+1),bb={draw(e,t){const n=Fx(t/xb),r=n/2,a=n*gb,s=r,i=n*gb+n,o=-s,l=i;e.moveTo(r,a),e.lineTo(s,i),e.lineTo(o,l),e.lineTo(pb*r-fb*a,fb*r+pb*a),e.lineTo(pb*s-fb*i,fb*s+pb*i),e.lineTo(pb*o-fb*l,fb*o+pb*l),e.lineTo(pb*r+fb*a,pb*a-fb*r),e.lineTo(pb*s+fb*i,pb*i-fb*s),e.lineTo(pb*o+fb*l,pb*l-fb*o),e.closePath()}};function vb(){}function yb(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function wb(e){this._context=e}function jb(e){this._context=e}function Nb(e){this._context=e}function kb(e){this._context=e}function Sb(e){return e<0?-1:1}function Cb(e,t,n){var r=e._x1-e._x0,a=t-e._x1,s=(e._y1-e._y0)/(r||a<0&&-0),i=(n-e._y1)/(a||r<0&&-0),o=(s*a+i*r)/(r+a);return(Sb(s)+Sb(i))*Math.min(Math.abs(s),Math.abs(i),.5*Math.abs(o))||0}function _b(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function Pb(e,t,n){var r=e._x0,a=e._y0,s=e._x1,i=e._y1,o=(s-r)/3;e._context.bezierCurveTo(r+o,a+o*t,s-o,i-o*n,s,i)}function Eb(e){this._context=e}function Db(e){this._context=new Ob(e)}function Ob(e){this._context=e}function Tb(e){this._context=e}function Mb(e){var t,n,r=e.length-1,a=new Array(r),s=new Array(r),i=new Array(r);for(a[0]=0,s[0]=2,i[0]=e[0]+2*e[1],t=1;t<r-1;++t)a[t]=1,s[t]=4,i[t]=4*e[t]+2*e[t+1];for(a[r-1]=2,s[r-1]=7,i[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=a[t]/s[t-1],s[t]-=n,i[t]-=n*i[t-1];for(a[r-1]=i[r-1]/s[r-1],t=r-2;t>=0;--t)a[t]=(i[t]-a[t+1])/s[t];for(s[r-1]=(e[r]+a[r-1])/2,t=0;t<r-1;++t)s[t]=2*e[t+1]-a[t+1];return[a,s]}function Ab(e,t){this._context=e,this._t=t}function zb(e,t){if((a=e.length)>1)for(var n,r,a,s=1,i=e[t[0]],o=i.length;s<a;++s)for(r=i,i=e[t[s]],n=0;n<o;++n)i[n][1]+=i[n][0]=isNaN(r[n][1])?r[n][0]:r[n][1]}function Rb(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function Ib(e,t){return e[t]}function Fb(e){const t=[];return t.key=e,t}wb.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:yb(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:yb(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},jb.prototype={areaStart:vb,areaEnd:vb,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:yb(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},Nb.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:yb(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},kb.prototype={areaStart:vb,areaEnd:vb,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}},Eb.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Pb(this,this._t0,_b(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(t=+t,(e=+e)!==this._x1||t!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Pb(this,_b(this,n=Cb(this,e,t)),n);break;default:Pb(this,this._t0,n=Cb(this,e,t))}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}},(Db.prototype=Object.create(Eb.prototype)).point=function(e,t){Eb.prototype.point.call(this,t,e)},Ob.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,a,s){this._context.bezierCurveTo(t,e,r,n,s,a)}},Tb.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),2===n)this._context.lineTo(e[1],t[1]);else for(var r=Mb(e),a=Mb(t),s=0,i=1;i<n;++s,++i)this._context.bezierCurveTo(r[0][s],a[0][s],r[1][s],a[1][s],e[i],t[i]);(this._line||0!==this._line&&1===n)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}},Ab.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}}this._x=e,this._y=t}};var Lb,Bb={},$b={};function Wb(){return Lb||(Lb=1,e=$b,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),e.isUnsafeProperty=function(e){return"__proto__"===e}),$b;var e}var Ub,Hb={};function Vb(){return Ub||(Ub=1,e=Hb,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),e.isDeepKey=function(e){switch(typeof e){case"number":case"symbol":return!1;case"string":return e.includes(".")||e.includes("[")||e.includes("]")}}),Hb;var e}var qb,Yb={};function Gb(){return qb||(qb=1,e=Yb,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),e.toKey=function(e){return"string"==typeof e||"symbol"==typeof e?e:Object.is(e?.valueOf?.(),-0)?"-0":String(e)}),Yb;var e}var Kb,Xb,Qb,Jb,Zb,ev={},tv={};function nv(){return Kb||(Kb=1,e=tv,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),e.toString=function e(t){if(null==t)return"";if("string"==typeof t)return t;if(Array.isArray(t))return t.map(e).join(",");const n=String(t);return"0"===n&&Object.is(Number(t),-0)?"-0":n}),tv;var e}function rv(){return Xb||(Xb=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=nv(),n=Gb();e.toPath=function(e){if(Array.isArray(e))return e.map(n.toKey);if("symbol"==typeof e)return[e];const r=[],a=(e=t.toString(e)).length;if(0===a)return r;let s=0,i="",o="",l=!1;for(46===e.charCodeAt(0)&&(r.push(""),s++);s<a;){const t=e[s];o?"\\"===t&&s+1<a?(s++,i+=e[s]):t===o?o="":i+=t:l?'"'===t||"'"===t?o=t:"]"===t?(l=!1,r.push(i),i=""):i+=t:"["===t?(l=!0,i&&(r.push(i),i="")):"."===t?i&&(r.push(i),i=""):i+=t,s++}return i&&r.push(i),r}}(ev)),ev}function av(){return Qb||(Qb=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Wb(),n=Vb(),r=Gb(),a=rv();e.get=function e(s,i,o){if(null==s)return o;switch(typeof i){case"string":{if(t.isUnsafeProperty(i))return o;const r=s[i];return void 0===r?n.isDeepKey(i)?e(s,a.toPath(i),o):o:r}case"number":case"symbol":{"number"==typeof i&&(i=r.toKey(i));const e=s[i];return void 0===e?o:e}default:{if(Array.isArray(i))return function(e,n,r){if(0===n.length)return r;let a=e;for(let s=0;s<n.length;s++){if(null==a)return r;if(t.isUnsafeProperty(n[s]))return r;a=a[n[s]]}if(void 0===a)return r;return a}(s,i,o);if(i=Object.is(i?.valueOf(),-0)?"-0":String(i),t.isUnsafeProperty(i))return o;const e=s[i];return void 0===e?o:e}}}}(Bb)),Bb}function sv(){return Zb?Jb:(Zb=1,Jb=av().get)}const iv=Nt(sv());function ov(e){var t=10**(arguments.length>1&&void 0!==arguments[1]?arguments[1]:4),n=Math.round(e*t)/t;return Object.is(n,-0)?0:n}function lv(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return e.reduce((e,t,r)=>{var a=n[r-1];return"string"==typeof a?e+a+t:void 0!==a?e+ov(a)+t:e+t},"")}var cv=e=>0===e?0:e>0?1:-1,dv=e=>"number"==typeof e&&e!=+e,uv=e=>"string"==typeof e&&e.indexOf("%")===e.length-1,hv=e=>("number"==typeof e||e instanceof Number)&&!dv(e),mv=e=>hv(e)||"string"==typeof e,pv=0,fv=e=>{var t=++pv;return"".concat(e||"").concat(t)},gv=function(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(!hv(e)&&"string"!=typeof e)return r;if(uv(e)){if(null==t)return r;var s=e.indexOf("%");n=t*parseFloat(e.slice(0,s))/100}else n=+e;return dv(n)&&(n=r),a&&null!=t&&n>t&&(n=t),n},xv=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,n={},r=0;r<t;r++){if(n[String(e[r])])return!0;n[String(e[r])]=!0}return!1};function bv(e,t,n){return hv(e)&&hv(t)?ov(e+n*(t-e)):t}var vv=e=>null==e,yv=e=>vv(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1));function wv(e){return null!=e}function jv(){}var Nv=["type","size","sizeType"];function kv(){return kv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},kv.apply(null,arguments)}function Sv(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Cv(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Sv(Object(n),!0).forEach(function(t){_v(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Sv(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function _v(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Pv={symbolCircle:nb,symbolCross:rb,symbolDiamond:ib,symbolSquare:ob,symbolStar:ub,symbolTriangle:mb,symbolWye:bb},Ev=Math.PI/180,Dv=e=>{var{type:t="circle",size:n=64,sizeType:r="area"}=e,a=Cv(Cv({},function(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}(e,Nv)),{},{type:t,size:n,sizeType:r}),s="circle";"string"==typeof t&&(s=t);var{className:i,cx:o,cy:l}=a,c=_x(a);return hv(o)&&hv(l)&&hv(n)?kt.createElement("path",kv({},c,{className:Yt("recharts-symbols",i),transform:"translate(".concat(o,", ").concat(l,")"),d:(()=>{var e=(e=>{var t="symbol".concat(yv(e));return Pv[t]||nb})(s),t=function(e,t){let n=null,r=Yx(a);function a(){let a;if(n||(n=a=r()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),a)return n=null,a+""||null}return e="function"==typeof e?e:zx(e||nb),t="function"==typeof t?t:zx(void 0===t?64:+t),a.type=function(t){return arguments.length?(e="function"==typeof t?t:zx(t),a):e},a.size=function(e){return arguments.length?(t="function"==typeof e?e:zx(+e),a):t},a.context=function(e){return arguments.length?(n=null==e?null:e,a):n},a}().type(e).size(((e,t,n)=>{if("area"===t)return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return.5*e*e/Math.sqrt(3);case"square":return e*e;case"star":var r=18*Ev;return 1.25*e*e*(Math.tan(r)-Math.tan(2*r)*Math.tan(r)**2);case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}})(n,r,s)),a=t();if(null!==a)return a})()})):null};Dv.registerSymbol=(e,t)=>{Pv["symbol".concat(yv(e))]=t};var Ov=e=>"radius"in e&&"startAngle"in e&&"endAngle"in e;function Tv(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Mv(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Av(e,t){var n=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Tv(Object(n),!0).forEach(function(t){Mv(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Tv(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},e),r=t;return Object.keys(t).reduce((e,t)=>(void 0===e[t]&&void 0!==r[t]&&(e[t]=r[t]),e),n)}var zv,Rv={},Iv={};function Fv(){return zv||(zv=1,e=Iv,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),e.uniqBy=function(e,t){const n=new Map;for(let r=0;r<e.length;r++){const a=e[r],s=t(a,r,e);n.has(s)||n.set(s,a)}return Array.from(n.values())}),Iv;var e}var Lv,Bv={};function $v(){return Lv||(Lv=1,e=Bv,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),e.ary=function(e,t){return function(...n){return e.apply(this,n.slice(0,t))}}),Bv;var e}var Wv,Uv={};function Hv(){return Wv||(Wv=1,e=Uv,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),e.identity=function(e){return e}),Uv;var e}var Vv,qv,Yv={},Gv={},Kv={};function Xv(){return Vv||(Vv=1,e=Kv,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),e.isLength=function(e){return Number.isSafeInteger(e)&&e>=0}),Kv;var e}function Qv(){return qv||(qv=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Xv();e.isArrayLike=function(e){return null!=e&&"function"!=typeof e&&t.isLength(e.length)}}(Gv)),Gv}var Jv,Zv,ey={};function ty(){return Jv||(Jv=1,e=ey,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),e.isObjectLike=function(e){return"object"==typeof e&&null!==e}),ey;var e}function ny(){return Zv||(Zv=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Qv(),n=ty();e.isArrayLikeObject=function(e){return n.isObjectLike(e)&&t.isArrayLike(e)}}(Yv)),Yv}var ry,ay={},sy={};function iy(){return ry||(ry=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=av();e.property=function(e){return function(n){return t.get(n,e)}}}(sy)),sy}var oy,ly={},cy={},dy={},uy={};function hy(){return oy||(oy=1,e=uy,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),e.isObject=function(e){return null!==e&&("object"==typeof e||"function"==typeof e)}),uy;var e}var my,py={};function fy(){return my||(my=1,e=py,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),e.isPrimitive=function(e){return null==e||"object"!=typeof e&&"function"!=typeof e}),py;var e}var gy,xy,by,vy={};function yy(){return gy||(gy=1,e=vy,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),e.isEqualsSameValueZero=function(e,t){return e===t||Number.isNaN(e)&&Number.isNaN(t)}),vy;var e}function wy(){return xy||(xy=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=hy(),n=fy(),r=yy();function a(e,o,l,c){if(o===e)return!0;switch(typeof o){case"object":return function(e,t,r,a){if(null==t)return!0;if(Array.isArray(t))return s(e,t,r,a);if(t instanceof Map)return function(e,t,n,r){if(0===t.size)return!0;if(!(e instanceof Map))return!1;for(const[a,s]of t.entries()){if(!1===n(e.get(a),s,a,e,t,r))return!1}return!0}(e,t,r,a);if(t instanceof Set)return i(e,t,r,a);const o=Object.keys(t);if(null==e||n.isPrimitive(e))return 0===o.length;if(0===o.length)return!0;if(a?.has(t))return a.get(t)===e;a?.set(t,e);try{for(let s=0;s<o.length;s++){const i=o[s];if(!n.isPrimitive(e)&&!(i in e))return!1;if(void 0===t[i]&&void 0!==e[i])return!1;if(null===t[i]&&null!==e[i])return!1;if(!r(e[i],t[i],i,e,t,a))return!1}return!0}finally{a?.delete(t)}}(e,o,l,c);case"function":return Object.keys(o).length>0?a(e,{...o},l,c):r.isEqualsSameValueZero(e,o);default:return t.isObject(e)?"string"!=typeof o||""===o:r.isEqualsSameValueZero(e,o)}}function s(e,t,n,r){if(0===t.length)return!0;if(!Array.isArray(e))return!1;const a=new Set;for(let s=0;s<t.length;s++){const i=t[s];let o=!1;for(let l=0;l<e.length;l++){if(a.has(l))continue;let c=!1;if(n(e[l],i,s,e,t,r)&&(c=!0),c){a.add(l),o=!0;break}}if(!o)return!1}return!0}function i(e,t,n,r){return 0===t.size||e instanceof Set&&s([...e],[...t],n,r)}e.isMatchWith=function e(t,n,r){return"function"!=typeof r?e(t,n,()=>{}):a(t,n,function e(t,n,s,i,o,l){const c=r(t,n,s,i,o,l);return void 0!==c?Boolean(c):a(t,n,e,l)},new Map)},e.isSetMatch=i}(dy)),dy}function jy(){return by||(by=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=wy();e.isMatch=function(e,n){return t.isMatchWith(e,n,()=>{})}}(cy)),cy}var Ny,ky={},Sy={},Cy={};function _y(){return Ny||(Ny=1,e=Cy,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),e.getSymbols=function(e){return Object.getOwnPropertySymbols(e).filter(t=>Object.prototype.propertyIsEnumerable.call(e,t))}),Cy;var e}var Py,Ey={};function Dy(){return Py||(Py=1,e=Ey,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),e.getTag=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":Object.prototype.toString.call(e)}),Ey;var e}var Oy,Ty={};function My(){return Oy||(Oy=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});e.argumentsTag="[object Arguments]",e.arrayBufferTag="[object ArrayBuffer]",e.arrayTag="[object Array]",e.bigInt64ArrayTag="[object BigInt64Array]",e.bigUint64ArrayTag="[object BigUint64Array]",e.booleanTag="[object Boolean]",e.dataViewTag="[object DataView]",e.dateTag="[object Date]",e.errorTag="[object Error]",e.float32ArrayTag="[object Float32Array]",e.float64ArrayTag="[object Float64Array]",e.functionTag="[object Function]",e.int16ArrayTag="[object Int16Array]",e.int32ArrayTag="[object Int32Array]",e.int8ArrayTag="[object Int8Array]",e.mapTag="[object Map]",e.numberTag="[object Number]",e.objectTag="[object Object]",e.regexpTag="[object RegExp]",e.setTag="[object Set]",e.stringTag="[object String]",e.symbolTag="[object Symbol]",e.uint16ArrayTag="[object Uint16Array]",e.uint32ArrayTag="[object Uint32Array]",e.uint8ArrayTag="[object Uint8Array]",e.uint8ClampedArrayTag="[object Uint8ClampedArray]"}(Ty)),Ty}var Ay,zy,Ry,Iy,Fy={};function Ly(){return Ay||(Ay=1,e=Fy,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),e.isTypedArray=function(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}),Fy;var e}function By(){return zy||(zy=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=_y(),n=Dy(),r=My(),a=fy(),s=Ly();function i(e,t,l,c=new Map,d=void 0){const u=d?.(e,t,l,c);if(void 0!==u)return u;if(a.isPrimitive(e))return e;if(c.has(e))return c.get(e);if(Array.isArray(e)){const t=new Array(e.length);c.set(e,t);for(let n=0;n<e.length;n++)t[n]=i(e[n],n,l,c,d);return Object.hasOwn(e,"index")&&(t.index=e.index),Object.hasOwn(e,"input")&&(t.input=e.input),t}if(e instanceof Date)return new Date(e.getTime());if(e instanceof RegExp){const t=new RegExp(e.source,e.flags);return t.lastIndex=e.lastIndex,t}if(e instanceof Map){const t=new Map;c.set(e,t);for(const[n,r]of e)t.set(n,i(r,n,l,c,d));return t}if(e instanceof Set){const t=new Set;c.set(e,t);for(const n of e)t.add(i(n,void 0,l,c,d));return t}if("undefined"!=typeof Buffer&&Buffer.isBuffer(e))return e.subarray();if(s.isTypedArray(e)){const t=new(Object.getPrototypeOf(e).constructor)(e.length);c.set(e,t);for(let n=0;n<e.length;n++)t[n]=i(e[n],n,l,c,d);return t}if(e instanceof ArrayBuffer||"undefined"!=typeof SharedArrayBuffer&&e instanceof SharedArrayBuffer)return e.slice(0);if(e instanceof DataView){const t=new DataView(e.buffer.slice(0),e.byteOffset,e.byteLength);return c.set(e,t),o(t,e,l,c,d),t}if("undefined"!=typeof File&&e instanceof File){const t=new File([e],e.name,{type:e.type});return c.set(e,t),o(t,e,l,c,d),t}if("undefined"!=typeof Blob&&e instanceof Blob){const t=new Blob([e],{type:e.type});return c.set(e,t),o(t,e,l,c,d),t}if(e instanceof Error){const t=new e.constructor;return c.set(e,t),t.message=e.message,t.name=e.name,t.stack=e.stack,t.cause=e.cause,o(t,e,l,c,d),t}if(e instanceof Boolean){const t=new Boolean(e.valueOf());return c.set(e,t),o(t,e,l,c,d),t}if(e instanceof Number){const t=new Number(e.valueOf());return c.set(e,t),o(t,e,l,c,d),t}if(e instanceof String){const t=new String(e.valueOf());return c.set(e,t),o(t,e,l,c,d),t}if("object"==typeof e&&function(e){switch(n.getTag(e)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}(e)){const t=Object.create(Object.getPrototypeOf(e));return c.set(e,t),o(t,e,l,c,d),t}return e}function o(e,n,r=e,a,s){const o=[...Object.keys(n),...t.getSymbols(n)];for(let t=0;t<o.length;t++){const l=o[t],c=Object.getOwnPropertyDescriptor(e,l);(null==c||c.writable)&&(e[l]=i(n[l],l,r,a,s))}}e.cloneDeepWith=function(e,t){return i(e,void 0,e,new Map,t)},e.cloneDeepWithImpl=i,e.copyProperties=o}(Sy)),Sy}function $y(){return Ry||(Ry=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=By();e.cloneDeep=function(e){return t.cloneDeepWithImpl(e,void 0,e,new Map,void 0)}}(ky)),ky}function Wy(){return Iy||(Iy=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=jy(),n=$y();e.matches=function(e){return e=n.cloneDeep(e),n=>t.isMatch(n,e)}}(ly)),ly}var Uy,Hy,Vy={},qy={},Yy={};function Gy(){return Uy||(Uy=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=By(),n=Dy(),r=My();e.cloneDeepWith=function(e,a){return t.cloneDeepWith(e,(s,i,o,l)=>{const c=a?.(s,i,o,l);if(void 0!==c)return c;if("object"==typeof e){if(n.getTag(e)===r.objectTag&&"function"!=typeof e.constructor){const n={};return l.set(e,n),t.copyProperties(n,e,o,l),n}switch(Object.prototype.toString.call(e)){case r.numberTag:case r.stringTag:case r.booleanTag:{const n=new e.constructor(e?.valueOf());return t.copyProperties(n,e),n}case r.argumentsTag:{const n={};return t.copyProperties(n,e),n.length=e.length,n[Symbol.iterator]=e[Symbol.iterator],n}default:return}}})}}(Yy)),Yy}function Ky(){return Hy||(Hy=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Gy();e.cloneDeep=function(e){return t.cloneDeepWith(e)}}(qy)),qy}var Xy,Qy={},Jy={};function Zy(){return Xy||(Xy=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;e.isIndex=function(e,n=Number.MAX_SAFE_INTEGER){switch(typeof e){case"number":return Number.isInteger(e)&&e>=0&&e<n;case"symbol":return!1;case"string":return t.test(e)}}}(Jy)),Jy}var ew,tw,nw,rw,aw,sw,iw,ow={};function lw(){return ew||(ew=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Dy();e.isArguments=function(e){return null!==e&&"object"==typeof e&&"[object Arguments]"===t.getTag(e)}}(ow)),ow}function cw(){return tw||(tw=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Vb(),n=Zy(),r=lw(),a=rv();e.has=function(e,s){let i;if(i=Array.isArray(s)?s:"string"==typeof s&&t.isDeepKey(s)&&null==e?.[s]?a.toPath(s):[s],0===i.length)return!1;let o=e;for(let t=0;t<i.length;t++){const e=i[t];if(null==o||!Object.hasOwn(o,e)){if(!((Array.isArray(o)||r.isArguments(o))&&n.isIndex(e)&&e<o.length))return!1}o=o[e]}return!0}}(Qy)),Qy}function dw(){return nw||(nw=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=jy(),n=Gb(),r=Ky(),a=av(),s=cw();e.matchesProperty=function(e,i){switch(typeof e){case"object":Object.is(e?.valueOf(),-0)&&(e="-0");break;case"number":e=n.toKey(e)}return i=r.cloneDeep(i),function(n){const r=a.get(n,e);return void 0===r?s.has(n,e):void 0===i?void 0===r:t.isMatch(r,i)}}}(Vy)),Vy}function uw(){return rw||(rw=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Hv(),n=iy(),r=Wy(),a=dw();e.iteratee=function(e){if(null==e)return t.identity;switch(typeof e){case"function":return e;case"object":return Array.isArray(e)&&2===e.length?a.matchesProperty(e[0],e[1]):r.matches(e);case"string":case"symbol":case"number":return n.property(e)}}}(ay)),ay}function hw(){return iw?sw:(iw=1,sw=(aw||(aw=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Fv(),n=$v(),r=Hv(),a=ny(),s=uw();e.uniqBy=function(e,i=r.identity){return a.isArrayLikeObject(e)?t.uniqBy(Array.from(e),n.ary(s.iteratee(i),1)):[]}}(Rv)),Rv).uniqBy)}const mw=Nt(hw());var pw,fw,gw,xw,bw={exports:{}},vw={},yw={exports:{}},ww={};function jw(){return fw||(fw=1,yw.exports=function(){if(pw)return ww;pw=1;var e=wt(),t="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},n=e.useState,r=e.useEffect,a=e.useLayoutEffect,s=e.useDebugValue;function i(e){var n=e.getSnapshot;e=e.value;try{var r=n();return!t(e,r)}catch(a){return!0}}var o="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(e,t){return t()}:function(e,t){var o=t(),l=n({inst:{value:o,getSnapshot:t}}),c=l[0].inst,d=l[1];return a(function(){c.value=o,c.getSnapshot=t,i(c)&&d({inst:c})},[e,o,t]),r(function(){return i(c)&&d({inst:c}),e(function(){i(c)&&d({inst:c})})},[e]),s(o),o};return ww.useSyncExternalStore=void 0!==e.useSyncExternalStore?e.useSyncExternalStore:o,ww}()),yw.exports}var Nw=(xw||(xw=1,bw.exports=function(){if(gw)return vw;gw=1;var e=wt(),t=jw(),n="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},r=t.useSyncExternalStore,a=e.useRef,s=e.useEffect,i=e.useMemo,o=e.useDebugValue;return vw.useSyncExternalStoreWithSelector=function(e,t,l,c,d){var u=a(null);if(null===u.current){var h={hasValue:!1,value:null};u.current=h}else h=u.current;u=i(function(){function e(e){if(!s){if(s=!0,r=e,e=c(e),void 0!==d&&h.hasValue){var t=h.value;if(d(t,e))return a=t}return a=e}if(t=a,n(r,e))return t;var i=c(e);return void 0!==d&&d(t,i)?(r=e,t):(r=e,a=i)}var r,a,s=!1,i=void 0===l?null:l;return[function(){return e(t())},null===i?void 0:function(){return e(i())}]},[t,l,c,d]);var m=r(e,u[0],u[1]);return s(function(){h.hasValue=!0,h.value=m},[m]),o(m),m},vw}()),bw.exports),kw=kt.createContext(null),Sw=e=>e,Cw=()=>{var e=kt.useContext(kw);return e?e.store.dispatch:Sw},_w=()=>{},Pw=()=>_w,Ew=(e,t)=>e===t;function Dw(e){var t=kt.useContext(kw),n=kt.useMemo(()=>t?t=>{if(null!=t)return e(t)}:_w,[t,e]);return Nw.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:Pw,t?t.store.getState:_w,t?t.store.getState:_w,n,Ew)}var Ow=e=>Array.isArray(e)?e:[e];function Tw(e){const t=Array.isArray(e[0])?e[0]:e;return function(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(e=>"function"==typeof e)){const n=e.map(e=>"function"==typeof e?`function ${e.name||"unnamed"}()`:typeof e).join(", ");throw new TypeError(`${t}[${n}]`)}}(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}var Mw="undefined"!=typeof WeakRef?WeakRef:class{constructor(e){this.value=e}deref(){return this.value}};function Aw(){return{s:0,v:void 0,o:null,p:null}}function zw(e,t={}){let n={s:0,v:void 0,o:null,p:null};const{resultEqualityCheck:r}=t;let a,s=0;function i(){let t=n;const{length:i}=arguments;for(let e=0,n=i;e<n;e++){const n=arguments[e];if("function"==typeof n||"object"==typeof n&&null!==n){let e=t.o;null===e&&(t.o=e=new WeakMap);const r=e.get(n);void 0===r?(t=Aw(),e.set(n,t)):t=r}else{let e=t.p;null===e&&(t.p=e=new Map);const r=e.get(n);void 0===r?(t=Aw(),e.set(n,t)):t=r}}const o=t;let l;if(1===t.s)l=t.v;else if(l=e.apply(null,arguments),s++,r){const e=a?.deref?.()??a;null!=e&&r(e,l)&&(l=e,0!==s&&s--);a="object"==typeof l&&null!==l||"function"==typeof l?new Mw(l):l}return o.s=1,o.v=l,l}return i.clearCache=()=>{n={s:0,v:void 0,o:null,p:null},i.resetResultsCount()},i.resultsCount=()=>s,i.resetResultsCount=()=>{s=0},i}function Rw(e,...t){const n="function"==typeof e?{memoize:e,memoizeOptions:t}:e,r=(...e)=>{let t,r=0,a=0,s={},i=e.pop();"object"==typeof i&&(s=i,i=e.pop()),function(e,t="expected a function, instead received "+typeof e){if("function"!=typeof e)throw new TypeError(t)}(i,`createSelector expects an output function after the inputs, but received: [${typeof i}]`);const o={...n,...s},{memoize:l,memoizeOptions:c=[],argsMemoize:d=zw,argsMemoizeOptions:u=[]}=o,h=Ow(c),m=Ow(u),p=Tw(e),f=l(function(){return r++,i.apply(null,arguments)},...h),g=d(function(){a++;const e=function(e,t){const n=[],{length:r}=e;for(let a=0;a<r;a++)n.push(e[a].apply(null,t));return n}(p,arguments);return t=f.apply(null,e),t},...m);return Object.assign(g,{resultFunc:i,memoizedResultFunc:f,dependencies:p,dependencyRecomputations:()=>a,resetDependencyRecomputations:()=>{a=0},lastResult:()=>t,recomputations:()=>r,resetRecomputations:()=>{r=0},memoize:l,argsMemoize:d})};return Object.assign(r,{withTypes:()=>r}),r}var Iw,Fw=Rw(zw),Lw=Object.assign((e,t=Fw)=>{!function(e,t="expected an object, instead received "+typeof e){if("object"!=typeof e)throw new TypeError(t)}(e,"createStructuredSelector expects first argument to be an object where each property is a selector, instead received a "+typeof e);const n=Object.keys(e);return t(n.map(t=>e[t]),(...e)=>e.reduce((e,t,r)=>(e[n[r]]=t,e),{}))},{withTypes:()=>Lw}),Bw={},$w={},Ww={};function Uw(){return Iw||(Iw=1,function(e){function t(e){return"symbol"==typeof e?1:null===e?2:void 0===e?3:e!=e?4:0}Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});e.compareValues=(e,n,r)=>{if(e!==n){const a=t(e),s=t(n);if(a===s&&0===a){if(e<n)return"desc"===r?1:-1;if(e>n)return"desc"===r?-1:1}return"desc"===r?s-a:a-s}return 0}}(Ww)),Ww}var Hw,Vw,qw,Yw={},Gw={};function Kw(){return Hw||(Hw=1,e=Gw,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),e.isSymbol=function(e){return"symbol"==typeof e||e instanceof Symbol}),Gw;var e}function Xw(){return Vw||(Vw=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Kw(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;e.isKey=function(e,a){return!Array.isArray(e)&&(!("number"!=typeof e&&"boolean"!=typeof e&&null!=e&&!t.isSymbol(e))||("string"==typeof e&&(r.test(e)||!n.test(e))||null!=a&&Object.hasOwn(a,e)))}}(Yw)),Yw}function Qw(){return qw||(qw=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Uw(),n=Xw(),r=rv();e.orderBy=function(e,a,s,i){if(null==e)return[];s=i?void 0:s,Array.isArray(e)||(e=Object.values(e)),Array.isArray(a)||(a=null==a?[null]:[a]),0===a.length&&(a=[null]),Array.isArray(s)||(s=null==s?[]:[s]),s=s.map(e=>String(e));const o=(e,t)=>{let n=e;for(let r=0;r<t.length&&null!=n;++r)n=n[t[r]];return n},l=a.map(e=>(Array.isArray(e)&&1===e.length&&(e=e[0]),null==e||"function"==typeof e||Array.isArray(e)||n.isKey(e)?e:{key:e,path:r.toPath(e)}));return e.map(e=>({original:e,criteria:l.map(t=>((e,t)=>null==t||null==e?t:"object"==typeof e&&"key"in e?Object.hasOwn(t,e.key)?t[e.key]:o(t,e.path):"function"==typeof e?e(t):Array.isArray(e)?o(t,e):"object"==typeof t?t[e]:t)(t,e))})).slice().sort((e,n)=>{for(let r=0;r<l.length;r++){const a=t.compareValues(e.criteria[r],n.criteria[r],s[r]);if(0!==a)return a}return 0}).map(e=>e.original)}}($w)),$w}var Jw,Zw={};function ej(){return Jw||(Jw=1,e=Zw,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),e.flatten=function(e,t=1){const n=[],r=Math.floor(t),a=(e,t)=>{for(let s=0;s<e.length;s++){const i=e[s];Array.isArray(i)&&t<r?a(i,t+1):n.push(i)}};return a(e,0),n}),Zw;var e}var tj,nj,rj,aj,sj={};function ij(){return tj||(tj=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Zy(),n=Qv(),r=hy(),a=yy();e.isIterateeCall=function(e,s,i){return!!r.isObject(i)&&(!!("number"==typeof s&&n.isArrayLike(i)&&t.isIndex(s)&&s<i.length||"string"==typeof s&&s in i)&&a.isEqualsSameValueZero(i[s],e))}}(sj)),sj}function oj(){return aj?rj:(aj=1,rj=(nj||(nj=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Qw(),n=ej(),r=ij();e.sortBy=function(e,...a){const s=a.length;return s>1&&r.isIterateeCall(e,a[0],a[1])?a=[]:s>2&&r.isIterateeCall(a[0],a[1],a[2])&&(a=[a[0]]),t.orderBy(e,n.flatten(a),["asc"])}}(Bw)),Bw).sortBy)}const lj=Nt(oj());var cj=e=>e.legend.settings;Fw([e=>e.legend.payload,cj],(e,t)=>{var{itemSorter:n}=t,r=e.flat(1);return n?lj(r,n):r});function dj(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var uj=(()=>"function"==typeof Symbol&&Symbol.observable||"@@observable")(),hj=()=>Math.random().toString(36).substring(7).split("").join("."),mj={INIT:`@@redux/INIT${hj()}`,REPLACE:`@@redux/REPLACE${hj()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${hj()}`};function pj(e){if("object"!=typeof e||null===e)return!1;let t=e;for(;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||null===Object.getPrototypeOf(e)}function fj(e,t,n){if("function"!=typeof e)throw new Error(dj(2));if("function"==typeof t&&"function"==typeof n||"function"==typeof n&&"function"==typeof arguments[3])throw new Error(dj(0));if("function"==typeof t&&void 0===n&&(n=t,t=void 0),void 0!==n){if("function"!=typeof n)throw new Error(dj(1));return n(fj)(e,t)}let r=e,a=t,s=new Map,i=s,o=0,l=!1;function c(){i===s&&(i=new Map,s.forEach((e,t)=>{i.set(t,e)}))}function d(){if(l)throw new Error(dj(3));return a}function u(e){if("function"!=typeof e)throw new Error(dj(4));if(l)throw new Error(dj(5));let t=!0;c();const n=o++;return i.set(n,e),function(){if(t){if(l)throw new Error(dj(6));t=!1,c(),i.delete(n),s=null}}}function h(e){if(!pj(e))throw new Error(dj(7));if(void 0===e.type)throw new Error(dj(8));if("string"!=typeof e.type)throw new Error(dj(17));if(l)throw new Error(dj(9));try{l=!0,a=r(a,e)}finally{l=!1}return(s=i).forEach(e=>{e()}),e}h({type:mj.INIT});return{dispatch:h,subscribe:u,getState:d,replaceReducer:function(e){if("function"!=typeof e)throw new Error(dj(10));r=e,h({type:mj.REPLACE})},[uj]:function(){const e=u;return{subscribe(t){if("object"!=typeof t||null===t)throw new Error(dj(11));function n(){const e=t;e.next&&e.next(d())}n();return{unsubscribe:e(n)}},[uj](){return this}}}}}function gj(e){const t=Object.keys(e),n={};for(let s=0;s<t.length;s++){const r=t[s];"function"==typeof e[r]&&(n[r]=e[r])}const r=Object.keys(n);let a;try{!function(e){Object.keys(e).forEach(t=>{const n=e[t];if(void 0===n(void 0,{type:mj.INIT}))throw new Error(dj(12));if(void 0===n(void 0,{type:mj.PROBE_UNKNOWN_ACTION()}))throw new Error(dj(13))})}(n)}catch(sB){a=sB}return function(e={},t){if(a)throw a;let s=!1;const i={};for(let a=0;a<r.length;a++){const o=r[a],l=n[o],c=e[o],d=l(c,t);if(void 0===d)throw t&&t.type,new Error(dj(14));i[o]=d,s=s||d!==c}return s=s||r.length!==Object.keys(e).length,s?i:e}}function xj(...e){return 0===e.length?e=>e:1===e.length?e[0]:e.reduce((e,t)=>(...n)=>e(t(...n)))}function bj(e){return pj(e)&&"type"in e&&"string"==typeof e.type}var vj=Symbol.for("immer-nothing"),yj=Symbol.for("immer-draftable"),wj=Symbol.for("immer-state");function jj(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Nj=Object,kj=Nj.getPrototypeOf,Sj="constructor",Cj="prototype",_j="configurable",Pj="enumerable",Ej="writable",Dj="value",Oj=e=>!!e&&!!e[wj];function Tj(e){return!!e&&(zj(e)||$j(e)||!!e[yj]||!!e[Sj]?.[yj]||Wj(e)||Uj(e))}var Mj=Nj[Cj][Sj].toString(),Aj=new WeakMap;function zj(e){if(!e||!Hj(e))return!1;const t=kj(e);if(null===t||t===Nj[Cj])return!0;const n=Nj.hasOwnProperty.call(t,Sj)&&t[Sj];if(n===Object)return!0;if(!Vj(n))return!1;let r=Aj.get(n);return void 0===r&&(r=Function.toString.call(n),Aj.set(n,r)),r===Mj}function Rj(e,t,n=!0){if(0===Ij(e)){(n?Reflect.ownKeys(e):Nj.keys(e)).forEach(n=>{t(n,e[n],e)})}else e.forEach((n,r)=>t(r,n,e))}function Ij(e){const t=e[wj];return t?t.type_:$j(e)?1:Wj(e)?2:Uj(e)?3:0}var Fj=(e,t,n=Ij(e))=>2===n?e.has(t):Nj[Cj].hasOwnProperty.call(e,t),Lj=(e,t,n=Ij(e))=>2===n?e.get(t):e[t],Bj=(e,t,n,r=Ij(e))=>{2===r?e.set(t,n):3===r?e.add(n):e[t]=n};var $j=Array.isArray,Wj=e=>e instanceof Map,Uj=e=>e instanceof Set,Hj=e=>"object"==typeof e,Vj=e=>"function"==typeof e,qj=e=>"boolean"==typeof e;var Yj=e=>e.copy_||e.base_,Gj=e=>e.modified_?e.copy_:e.base_;function Kj(e,t){if(Wj(e))return new Map(e);if(Uj(e))return new Set(e);if($j(e))return Array[Cj].slice.call(e);const n=zj(e);if(!0===t||"class_only"===t&&!n){const t=Nj.getOwnPropertyDescriptors(e);delete t[wj];let n=Reflect.ownKeys(t);for(let r=0;r<n.length;r++){const a=n[r],s=t[a];!1===s[Ej]&&(s[Ej]=!0,s[_j]=!0),(s.get||s.set)&&(t[a]={[_j]:!0,[Ej]:!0,[Pj]:s[Pj],[Dj]:e[a]})}return Nj.create(kj(e),t)}{const t=kj(e);if(null!==t&&n)return{...e};const r=Nj.create(t);return Nj.assign(r,e)}}function Xj(e,t=!1){return Jj(e)||Oj(e)||!Tj(e)||(Ij(e)>1&&Nj.defineProperties(e,{set:Qj,add:Qj,clear:Qj,delete:Qj}),Nj.freeze(e),t&&Rj(e,(e,t)=>{Xj(t,!0)},!1)),e}var Qj={[Dj]:function(){jj(2)}};function Jj(e){return null===e||!Hj(e)||Nj.isFrozen(e)}var Zj="MapSet",eN="Patches",tN="ArrayMethods",nN={};function rN(e){const t=nN[e];return t||jj(0),t}var aN,sN=e=>!!nN[e],iN=()=>aN;function oN(e,t){t&&(e.patchPlugin_=rN(eN),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function lN(e){cN(e),e.drafts_.forEach(uN),e.drafts_=null}function cN(e){e===aN&&(aN=e.parent_)}var dN=e=>aN={drafts_:[],parent_:aN,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:sN(Zj)?rN(Zj):void 0,arrayMethodsPlugin_:sN(tN)?rN(tN):void 0};function uN(e){const t=e[wj];0===t.type_||1===t.type_?t.revoke_():t.revoked_=!0}function hN(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];if(void 0!==e&&e!==n){n[wj].modified_&&(lN(t),jj(4)),Tj(e)&&(e=mN(t,e));const{patchPlugin_:r}=t;r&&r.generateReplacementPatches_(n[wj].base_,e,t)}else e=mN(t,n);return function(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&Xj(t,n)}(t,e,!0),lN(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==vj?e:void 0}function mN(e,t){if(Jj(t))return t;const n=t[wj];if(!n){return vN(t,e.handledSet_,e)}if(!fN(n,e))return t;if(!n.modified_)return n.base_;if(!n.finalized_){const{callbacks_:t}=n;if(t)for(;t.length>0;){t.pop()(e)}bN(n,e)}return n.copy_}function pN(e){e.finalized_=!0,e.scope_.unfinalizedDrafts_--}var fN=(e,t)=>e.scope_===t,gN=[];function xN(e,t,n,r){const a=Yj(e),s=e.type_;if(void 0!==r){if(Lj(a,r,s)===t)return void Bj(a,r,n,s)}if(!e.draftLocations_){const t=e.draftLocations_=new Map;Rj(a,(e,n)=>{if(Oj(n)){const r=t.get(n)||[];r.push(e),t.set(n,r)}})}const i=e.draftLocations_.get(t)??gN;for(const o of i)Bj(a,o,n,s)}function bN(e,t){if(e.modified_&&!e.finalized_&&(3===e.type_||1===e.type_&&e.allIndicesReassigned_||(e.assigned_?.size??0)>0)){const{patchPlugin_:n}=t;if(n){const r=n.getPath(e);r&&n.generatePatches_(e,r,t)}pN(e)}}function vN(e,t,n){return!n.immer_.autoFreeze_&&n.unfinalizedDrafts_<1||Oj(e)||t.has(e)||!Tj(e)||Jj(e)||(t.add(e),Rj(e,(r,a)=>{if(Oj(a)){const t=a[wj];if(fN(t,n)){const n=Gj(t);Bj(e,r,n,e.type_),pN(t)}}else Tj(a)&&vN(a,t,n)})),e}var yN={get(e,t){if(t===wj)return e;let n=e.scope_.arrayMethodsPlugin_;const r=1===e.type_&&"string"==typeof t;if(r&&n?.isArrayOperationMethod(t))return n.createMethodInterceptor(e,t);const a=Yj(e);if(!Fj(a,t,e.type_))return function(e,t,n){const r=NN(t,n);return r?Dj in r?r[Dj]:r.get?.call(e.draft_):void 0}(e,a,t);const s=a[t];if(e.finalized_||!Tj(s))return s;if(r&&e.operationMethod&&n?.isMutatingArrayMethod(e.operationMethod)&&function(e){const t=+e;return Number.isInteger(t)&&String(t)===e}(t))return s;if(s===jN(e.base_,t)){SN(e);const n=1===e.type_?+t:t,r=CN(e.scope_,s,e,n);return e.copy_[n]=r}return s},has:(e,t)=>t in Yj(e),ownKeys:e=>Reflect.ownKeys(Yj(e)),set(e,t,n){const r=NN(Yj(e),t);if(r?.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const r=jN(Yj(e),t),i=r?.[wj];if(i&&i.base_===n)return e.copy_[t]=n,e.assigned_.set(t,!1),!0;if(((a=n)===(s=r)?0!==a||1/a==1/s:a!=a&&s!=s)&&(void 0!==n||Fj(e.base_,t,e.type_)))return!0;SN(e),kN(e)}var a,s;return e.copy_[t]===n&&(void 0!==n||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_.set(t,!0),function(e,t,n){const{scope_:r}=e;if(Oj(n)){const a=n[wj];fN(a,r)&&a.callbacks_.push(function(){SN(e);const r=Gj(a);xN(e,n,r,t)})}else Tj(n)&&e.callbacks_.push(function(){const a=Yj(e);3===e.type_?a.has(n)&&vN(n,r.handledSet_,r):Lj(a,t,e.type_)===n&&r.drafts_.length>1&&!0===(e.assigned_.get(t)??!1)&&e.copy_&&vN(Lj(e.copy_,t,e.type_),r.handledSet_,r)})}(e,t,n)),!0},deleteProperty:(e,t)=>(SN(e),void 0!==jN(e.base_,t)||t in e.base_?(e.assigned_.set(t,!1),kN(e)):e.assigned_.delete(t),e.copy_&&delete e.copy_[t],!0),getOwnPropertyDescriptor(e,t){const n=Yj(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r?{[Ej]:!0,[_j]:1!==e.type_||"length"!==t,[Pj]:r[Pj],[Dj]:n[t]}:r},defineProperty(){jj(11)},getPrototypeOf:e=>kj(e.base_),setPrototypeOf(){jj(12)}},wN={};for(let qV in yN){let e=yN[qV];wN[qV]=function(){const t=arguments;return t[0]=t[0][0],e.apply(this,t)}}function jN(e,t){const n=e[wj];return(n?Yj(n):e)[t]}function NN(e,t){if(!(t in e))return;let n=kj(e);for(;n;){const e=Object.getOwnPropertyDescriptor(n,t);if(e)return e;n=kj(n)}}function kN(e){e.modified_||(e.modified_=!0,e.parent_&&kN(e.parent_))}function SN(e){e.copy_||(e.assigned_=new Map,e.copy_=Kj(e.base_,e.scope_.immer_.useStrictShallowCopy_))}wN.deleteProperty=function(e,t){return wN.set.call(this,e,t,void 0)},wN.set=function(e,t,n){return yN.set.call(this,e[0],t,n,e[0])};function CN(e,t,n,r){const[a,s]=Wj(t)?rN(Zj).proxyMap_(t,n):Uj(t)?rN(Zj).proxySet_(t,n):function(e,t){const n=$j(e),r={type_:n?1:0,scope_:t?t.scope_:iN(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let a=r,s=yN;n&&(a=[r],s=wN);const{revoke:i,proxy:o}=Proxy.revocable(a,s);return r.draft_=o,r.revoke_=i,[o,r]}(t,n);return(n?.scope_??iN()).drafts_.push(a),s.callbacks_=n?.callbacks_??[],s.key_=r,n&&void 0!==r?function(e,t,n){e.callbacks_.push(function(r){const a=t;if(!a||!fN(a,r))return;r.mapSetPlugin_?.fixSetContents(a);const s=Gj(a);xN(e,a.draft_??a,s,n),bN(a,r)})}(n,s,r):s.callbacks_.push(function(e){e.mapSetPlugin_?.fixSetContents(s);const{patchPlugin_:t}=e;s.modified_&&t&&t.generatePatches_(s,[],e)}),a}function _N(e){return Oj(e)||jj(10),PN(e)}function PN(e){if(!Tj(e)||Jj(e))return e;const t=e[wj];let n,r=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=Kj(e,t.scope_.immer_.useStrictShallowCopy_),r=t.scope_.immer_.shouldUseStrictIteration()}else n=Kj(e,!0);return Rj(n,(e,t)=>{Bj(n,e,PN(t))},r),t&&(t.finalized_=!1),n}var EN=new class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(e,t,n)=>{if(Vj(e)&&!Vj(t)){const n=t;t=e;const r=this;return function(e=n,...a){return r.produce(e,e=>t.call(this,e,...a))}}let r;if(Vj(t)||jj(6),void 0===n||Vj(n)||jj(7),Tj(e)){const a=dN(this),s=CN(a,e,void 0);let i=!0;try{r=t(s),i=!1}finally{i?lN(a):cN(a)}return oN(a,n),hN(r,a)}if(!e||!Hj(e)){if(r=t(e),void 0===r&&(r=e),r===vj&&(r=void 0),this.autoFreeze_&&Xj(r,!0),n){const t=[],a=[];rN(eN).generateReplacementPatches_(e,r,{patches_:t,inversePatches_:a}),n(t,a)}return r}jj(1)},this.produceWithPatches=(e,t)=>{if(Vj(e))return(t,...n)=>this.produceWithPatches(t,t=>e(t,...n));let n,r;return[this.produce(e,t,(e,t)=>{n=e,r=t}),n,r]},qj(e?.autoFreeze)&&this.setAutoFreeze(e.autoFreeze),qj(e?.useStrictShallowCopy)&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),qj(e?.useStrictIteration)&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){Tj(e)||jj(8),Oj(e)&&(e=_N(e));const t=dN(this),n=CN(t,e,void 0);return n[wj].isManual_=!0,cN(t),n}finishDraft(e,t){const n=e&&e[wj];n&&n.isManual_||jj(9);const{scope_:r}=n;return oN(r,t),hN(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const r=t[n];if(0===r.path.length&&"replace"===r.op){e=r.value;break}}n>-1&&(t=t.slice(n+1));const r=rN(eN).applyPatches_;return Oj(e)?r(e,t):this.produce(e,e=>r(e,t))}},DN=EN.produce;function ON(e){return({dispatch:t,getState:n})=>r=>a=>"function"==typeof a?a(t,n,e):r(a)}var TN=ON(),MN=ON,AN="undefined"!=typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(0!==arguments.length)return"object"==typeof arguments[0]?xj:xj.apply(null,arguments)};function zN(e,t){function n(...n){if(t){let r=t(...n);if(!r)throw new Error(Ek(0));return{type:e,payload:r.payload,..."meta"in r&&{meta:r.meta},..."error"in r&&{error:r.error}}}return{type:e,payload:n[0]}}return n.toString=()=>`${e}`,n.type=e,n.match=t=>bj(t)&&t.type===e,n}var RN=class e extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,e.prototype)}static get[Symbol.species](){return e}concat(...e){return super.concat.apply(this,e)}prepend(...t){return 1===t.length&&Array.isArray(t[0])?new e(...t[0].concat(this)):new e(...t.concat(this))}};function IN(e){return Tj(e)?DN(e,()=>{}):e}function FN(e,t,n){return e.has(t)?e.get(t):e.set(t,n(t)).get(t)}var LN="RTK_autoBatch",BN=()=>e=>({payload:e,meta:{[LN]:!0}}),$N=e=>t=>{setTimeout(t,e)},WN=(e={type:"raf"})=>t=>(...n)=>{const r=t(...n);let a=!0,s=!1,i=!1;const o=new Set,l="tick"===e.type?queueMicrotask:"raf"===e.type?"undefined"!=typeof window&&window.requestAnimationFrame?window.requestAnimationFrame:$N(10):"callback"===e.type?e.queueNotification:$N(e.timeout),c=()=>{i=!1,s&&(s=!1,o.forEach(e=>e()))};return Object.assign({},r,{subscribe(e){const t=r.subscribe(()=>a&&e());return o.add(e),()=>{t(),o.delete(e)}},dispatch(e){try{return a=!e?.meta?.[LN],s=!a,s&&(i||(i=!0,l(c))),r.dispatch(e)}finally{a=!0}}})};function UN(e){const t=function(e){const{thunk:t=!0,immutableCheck:n=!0,serializableCheck:r=!0,actionCreatorCheck:a=!0}=e??{};let s=new RN;return t&&("boolean"==typeof t?s.push(TN):s.push(MN(t.extraArgument))),s},{reducer:n,middleware:r,devTools:a=!0,preloadedState:s,enhancers:i}=e||{};let o,l;if("function"==typeof n)o=n;else{if(!pj(n))throw new Error(Ek(1));o=gj(n)}l="function"==typeof r?r(t):t();let c=xj;a&&(c=AN({trace:!1,..."object"==typeof a&&a}));const d=function(...e){return t=>(n,r)=>{const a=t(n,r);let s=()=>{throw new Error(dj(15))};const i={getState:a.getState,dispatch:(e,...t)=>s(e,...t)},o=e.map(e=>e(i));return s=xj(...o)(a.dispatch),{...a,dispatch:s}}}(...l),u=(e=>function(t){const{autoBatch:n=!0}=t??{};let r=new RN(e);return n&&r.push(WN("object"==typeof n?n:void 0)),r})(d);return fj(o,s,c(..."function"==typeof i?i(u):u()))}function HN(e){const t={},n=[];let r;const a={addCase(e,n){const r="string"==typeof e?e:e.type;if(!r)throw new Error(Ek(28));if(r in t)throw new Error(Ek(29));return t[r]=n,a},addAsyncThunk:(e,r)=>(r.pending&&(t[e.pending.type]=r.pending),r.rejected&&(t[e.rejected.type]=r.rejected),r.fulfilled&&(t[e.fulfilled.type]=r.fulfilled),r.settled&&n.push({matcher:e.settled,reducer:r.settled}),a),addMatcher:(e,t)=>(n.push({matcher:e,reducer:t}),a),addDefaultCase:e=>(r=e,a)};return e(a),[t,n,r]}var VN=(e=21)=>{let t="",n=e;for(;n--;)t+="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW"[64*Math.random()|0];return t},qN=Symbol.for("rtk-slice-createasyncthunk");function YN(e,t){return`${e}/${t}`}function GN({creators:e}={}){const t=e?.asyncThunk?.[qN];return function(e){const{name:n,reducerPath:r=n}=e;if(!n)throw new Error(Ek(11));const a=("function"==typeof e.reducers?e.reducers(function(){function e(e,t){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...t}}return e.withTypes=()=>e,{reducer:e=>Object.assign({[e.name]:(...t)=>e(...t)}[e.name],{_reducerDefinitionType:"reducer"}),preparedReducer:(e,t)=>({_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:t}),asyncThunk:e}}()):e.reducers)||{},s=Object.keys(a),i={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},o={addCase(e,t){const n="string"==typeof e?e:e.type;if(!n)throw new Error(Ek(12));if(n in i.sliceCaseReducersByType)throw new Error(Ek(13));return i.sliceCaseReducersByType[n]=t,o},addMatcher:(e,t)=>(i.sliceMatchers.push({matcher:e,reducer:t}),o),exposeAction:(e,t)=>(i.actionCreators[e]=t,o),exposeCaseReducer:(e,t)=>(i.sliceCaseReducersByName[e]=t,o)};function l(){const[t={},n=[],r]="function"==typeof e.extraReducers?HN(e.extraReducers):[e.extraReducers],a={...t,...i.sliceCaseReducersByType};return function(e,t){let n,[r,a,s]=HN(t);if("function"==typeof e)n=()=>IN(e());else{const t=IN(e);n=()=>t}function i(e=n(),t){let i=[r[t.type],...a.filter(({matcher:e})=>e(t)).map(({reducer:e})=>e)];return 0===i.filter(e=>!!e).length&&(i=[s]),i.reduce((e,n)=>{if(n){if(Oj(e)){const r=n(e,t);return void 0===r?e:r}if(Tj(e))return DN(e,e=>n(e,t));{const r=n(e,t);if(void 0===r){if(null===e)return e;throw Error("A case reducer on a non-draftable value must not return undefined")}return r}}return e},e)}return i.getInitialState=n,i}(e.initialState,e=>{for(let t in a)e.addCase(t,a[t]);for(let t of i.sliceMatchers)e.addMatcher(t.matcher,t.reducer);for(let t of n)e.addMatcher(t.matcher,t.reducer);r&&e.addDefaultCase(r)})}s.forEach(r=>{const s=a[r],i={reducerName:r,type:YN(n,r),createNotation:"function"==typeof e.reducers};!function(e){return"asyncThunk"===e._reducerDefinitionType}(s)?function({type:e,reducerName:t,createNotation:n},r,a){let s,i;if("reducer"in r){if(n&&!function(e){return"reducerWithPrepare"===e._reducerDefinitionType}(r))throw new Error(Ek(17));s=r.reducer,i=r.prepare}else s=r;a.addCase(e,s).exposeCaseReducer(t,s).exposeAction(t,i?zN(e,i):zN(e))}(i,s,o):function({type:e,reducerName:t},n,r,a){if(!a)throw new Error(Ek(18));const{payloadCreator:s,fulfilled:i,pending:o,rejected:l,settled:c,options:d}=n,u=a(e,s,d);r.exposeAction(t,u),i&&r.addCase(u.fulfilled,i);o&&r.addCase(u.pending,o);l&&r.addCase(u.rejected,l);c&&r.addMatcher(u.settled,c);r.exposeCaseReducer(t,{fulfilled:i||QN,pending:o||QN,rejected:l||QN,settled:c||QN})}(i,s,o,t)});const c=e=>e,d=new Map,u=new WeakMap;let h;function m(e,t){return h||(h=l()),h(e,t)}function p(){return h||(h=l()),h.getInitialState()}function f(t,n=!1){function r(e){let a=e[t];return void 0===a&&n&&(a=FN(u,r,p)),a}function a(t=c){const r=FN(d,n,()=>new WeakMap);return FN(r,t,()=>{const r={};for(const[a,s]of Object.entries(e.selectors??{}))r[a]=KN(s,t,()=>FN(u,t,p),n);return r})}return{reducerPath:t,getSelectors:a,get selectors(){return a(r)},selectSlice:r}}const g={name:n,reducer:m,actions:i.actionCreators,caseReducers:i.sliceCaseReducersByName,getInitialState:p,...f(r),injectInto(e,{reducerPath:t,...n}={}){const a=t??r;return e.inject({reducerPath:a,reducer:m},n),{...g,...f(a,!0)}}};return g}}function KN(e,t,n,r){function a(a,...s){let i=t(a);return void 0===i&&r&&(i=n()),e(i,...s)}return a.unwrapped=e,a}var XN=GN();function QN(){}var JN="listener",ZN="completed",ek="cancelled",tk=`task-${ek}`,nk=`task-${ZN}`,rk=`${JN}-${ek}`,ak=`${JN}-${ZN}`,sk=class{constructor(e){this.code=e,this.message=`task ${ek} (reason: ${e})`}name="TaskAbortError";message},ik=(e,t)=>{if("function"!=typeof e)throw new TypeError(Ek(32))},ok=()=>{},lk=(e,t=ok)=>(e.catch(t),e),ck=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),dk=e=>{if(e.aborted)throw new sk(e.reason)};function uk(e,t){let n=ok;return new Promise((r,a)=>{const s=()=>a(new sk(e.reason));e.aborted?s():(n=ck(e,s),t.finally(()=>n()).then(r,a))}).finally(()=>{n=ok})}var hk=e=>t=>lk(uk(e,t).then(t=>(dk(e),t))),mk=e=>{const t=hk(e);return e=>t(new Promise(t=>setTimeout(t,e)))},{assign:pk}=Object,fk={},gk="listenerMiddleware",xk=(e,t)=>(n,r)=>{ik(n);const a=new AbortController;var s;s=a,ck(e,()=>s.abort(e.reason));const i=(async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(n){return{status:n instanceof sk?"cancelled":"rejected",error:n}}finally{t?.()}})(async()=>{dk(e),dk(a.signal);const t=await n({pause:hk(a.signal),delay:mk(a.signal),signal:a.signal});return dk(a.signal),t},()=>a.abort(nk));return r?.autoJoin&&t.push(i.catch(ok)),{result:hk(e)(i),cancel(){a.abort(tk)}}},bk=(e,t)=>(n,r)=>lk((async(n,r)=>{dk(t);let a=()=>{};const s=[new Promise((t,r)=>{let s=e({predicate:n,effect:(e,n)=>{n.unsubscribe(),t([e,n.getState(),n.getOriginalState()])}});a=()=>{s(),r()}})];null!=r&&s.push(new Promise(e=>setTimeout(e,r,null)));try{const e=await uk(t,Promise.race(s));return dk(t),e}finally{a()}})(n,r)),vk=e=>{let{type:t,actionCreator:n,matcher:r,predicate:a,effect:s}=e;if(t)a=zN(t).match;else if(n)t=n.type,a=n.match;else if(r)a=r;else if(!a)throw new Error(Ek(21));return ik(s),{predicate:a,type:t,effect:s}},yk=pk(e=>{const{type:t,predicate:n,effect:r}=vk(e);return{id:VN(),effect:r,type:t,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(Ek(22))}}},{withTypes:()=>yk}),wk=(e,t)=>{const{type:n,effect:r,predicate:a}=vk(t);return Array.from(e.values()).find(e=>("string"==typeof n?e.type===n:e.predicate===a)&&e.effect===r)},jk=e=>{e.pending.forEach(e=>{e.abort(rk)})},Nk=(e,t,n)=>{try{e(t,n)}catch(r){setTimeout(()=>{throw r},0)}},kk=pk(zN(`${gk}/add`),{withTypes:()=>kk}),Sk=zN(`${gk}/removeAll`),Ck=pk(zN(`${gk}/remove`),{withTypes:()=>Ck}),_k=(...e)=>{},Pk=(e={})=>{const t=new Map,n=new Map,{extra:r,onError:a=_k}=e;ik(a);const s=e=>(e=>(e.unsubscribe=()=>t.delete(e.id),t.set(e.id,e),t=>{e.unsubscribe(),t?.cancelActive&&jk(e)}))(wk(t,e)??yk(e));pk(s,{withTypes:()=>s});const i=e=>{const n=wk(t,e);return n&&(n.unsubscribe(),e.cancelActive&&jk(n)),!!n};pk(i,{withTypes:()=>i});const o=async(e,i,o,l)=>{const c=new AbortController,d=bk(s,c.signal),u=[];try{e.pending.add(c),(e=>{const t=n.get(e)??0;n.set(e,t+1)})(e),await Promise.resolve(e.effect(i,pk({},o,{getOriginalState:l,condition:(e,t)=>d(e,t).then(Boolean),take:d,delay:mk(c.signal),pause:hk(c.signal),extra:r,signal:c.signal,fork:xk(c.signal,u),unsubscribe:e.unsubscribe,subscribe:()=>{t.set(e.id,e)},cancelActiveListeners:()=>{e.pending.forEach((e,t,n)=>{e!==c&&(e.abort(rk),n.delete(e))})},cancel:()=>{c.abort(rk),e.pending.delete(c)},throwIfCancelled:()=>{dk(c.signal)}})))}catch(h){h instanceof sk||Nk(a,h,{raisedBy:"effect"})}finally{await Promise.all(u),c.abort(ak),(e=>{const t=n.get(e)??1;1===t?n.delete(e):n.set(e,t-1)})(e),e.pending.delete(c)}},l=((e,t)=>()=>{for(const e of t.keys())jk(e);e.clear()})(t,n);return{middleware:e=>n=>r=>{if(!bj(r))return n(r);if(kk.match(r))return s(r.payload);if(Sk.match(r))return void l();if(Ck.match(r))return i(r.payload);let c=e.getState();const d=()=>{if(c===fk)throw new Error(Ek(23));return c};let u;try{if(u=n(r),t.size>0){const n=e.getState(),s=Array.from(t.values());for(const t of s){let s=!1;try{s=t.predicate(r,n,c)}catch(h){s=!1,Nk(a,h,{raisedBy:"predicate"})}s&&o(t,r,e,d)}}}finally{c=fk}return u},startListening:s,stopListening:i,clearListeners:l}};function Ek(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var Dk=XN({name:"chartLayout",initialState:{layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var n,r,a,s;e.margin.top=null!==(n=t.payload.top)&&void 0!==n?n:0,e.margin.right=null!==(r=t.payload.right)&&void 0!==r?r:0,e.margin.bottom=null!==(a=t.payload.bottom)&&void 0!==a?a:0,e.margin.left=null!==(s=t.payload.left)&&void 0!==s?s:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:Ok,setLayout:Tk,setChartSize:Mk,setScale:Ak}=Dk.actions,zk=Dk.reducer;function Rk(e,t,n){return Array.isArray(e)&&e&&t+n!==0?e.slice(t,n+1):e}function Ik(e){return Number.isFinite(e)}function Fk(e){return"number"==typeof e&&e>0&&Number.isFinite(e)}function Lk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Bk(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Lk(Object(n),!0).forEach(function(t){$k(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Lk(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function $k(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Wk(e,t,n){return vv(e)||vv(t)?n:mv(t)?iv(e,t,n):"function"==typeof t?t(e):n}var Uk=(e,t)=>"horizontal"===e&&"xAxis"===t||"vertical"===e&&"yAxis"===t||"centric"===e&&"angleAxis"===t||"radial"===e&&"radiusAxis"===t,Hk={sign:e=>{var t,n=e.length;if(!(n<=0)){var r=null===(t=e[0])||void 0===t?void 0:t.length;if(!(null==r||r<=0))for(var a=0;a<r;++a)for(var s=0,i=0,o=0;o<n;++o){var l=e[o],c=null==l?void 0:l[a];if(null!=c){var d=c[1],u=c[0],h=dv(d)?u:d;h>=0?(c[0]=s,s+=h,c[1]=s):(c[0]=i,i+=h,c[1]=i)}}}},expand:function(e,t){if((r=e.length)>0){for(var n,r,a,s=0,i=e[0].length;s<i;++s){for(a=n=0;n<r;++n)a+=e[n][s][1]||0;if(a)for(n=0;n<r;++n)e[n][s][1]/=a}zb(e,t)}},none:zb,silhouette:function(e,t){if((n=e.length)>0){for(var n,r=0,a=e[t[0]],s=a.length;r<s;++r){for(var i=0,o=0;i<n;++i)o+=e[i][r][1]||0;a[r][1]+=a[r][0]=-o/2}zb(e,t)}},wiggle:function(e,t){if((a=e.length)>0&&(r=(n=e[t[0]]).length)>0){for(var n,r,a,s=0,i=1;i<r;++i){for(var o=0,l=0,c=0;o<a;++o){for(var d=e[t[o]],u=d[i][1]||0,h=(u-(d[i-1][1]||0))/2,m=0;m<o;++m){var p=e[t[m]];h+=(p[i][1]||0)-(p[i-1][1]||0)}l+=u,c+=h*u}n[i-1][1]+=n[i-1][0]=s,l&&(s-=c/l)}n[i-1][1]+=n[i-1][0]=s,zb(e,t)}},positive:e=>{var t,n=e.length;if(!(n<=0)){var r=null===(t=e[0])||void 0===t?void 0:t.length;if(!(null==r||r<=0))for(var a=0;a<r;++a)for(var s=0,i=0;i<n;++i){var o=e[i],l=null==o?void 0:o[a];if(null!=l){var c=dv(l[1])?l[0]:l[1];c>=0?(l[0]=s,s+=c,l[1]=s):(l[0]=0,l[1]=0)}}}}},Vk=(e,t,n)=>{var r,a=null!==(r=Hk[n])&&void 0!==r?r:zb,s=function(){var e=zx([]),t=Rb,n=zb,r=Ib;function a(a){var s,i,o=Array.from(e.apply(this,arguments),Fb),l=o.length,c=-1;for(const e of a)for(s=0,++c;s<l;++s)(o[s][c]=[0,+r(e,o[s].key,c,a)]).data=e;for(s=0,i=Gx(t(o));s<l;++s)o[i[s]].index=s;return n(o,i),o}return a.keys=function(t){return arguments.length?(e="function"==typeof t?t:zx(Array.from(t)),a):e},a.value=function(e){return arguments.length?(r="function"==typeof e?e:zx(+e),a):r},a.order=function(e){return arguments.length?(t=null==e?Rb:"function"==typeof e?e:zx(Array.from(e)),a):t},a.offset=function(e){return arguments.length?(n=null==e?zb:e,a):n},a}().keys(t).value((e,t)=>Number(Wk(e,t,0))).order(Rb).offset(a),i=s(e);return i.forEach((n,r)=>{n.forEach((n,a)=>{var s=Wk(e[a],t[r],0);Array.isArray(s)&&2===s.length&&hv(s[0])&&hv(s[1])&&(n[0]=s[0],n[1]=s[1])})}),i},qk=(e,t,n)=>{var r;if(null!=e)return r=Object.keys(e).reduce((r,a)=>{var s=e[a];if(!s)return r;var{stackedData:i}=s,o=i.reduce((e,r)=>{var a,s=Rk(r,t,n),i=(a=s.flat(2).filter(hv),[Math.min(...a),Math.max(...a)]);return Ik(i[0])&&Ik(i[1])?[Math.min(e[0],i[0]),Math.max(e[1],i[1])]:e},[1/0,-1/0]);return[Math.min(o[0],r[0]),Math.max(o[1],r[1])]},[1/0,-1/0]),[r[0]===1/0?0:r[0],r[1]===-1/0?0:r[1]]},Yk=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Gk=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Kk=(e,t,n)=>{if(e&&e.scale&&e.scale.bandwidth)return e.scale.bandwidth();if(e&&t&&t.length>=2){for(var r=lj(t,e=>e.coordinate),a=1/0,s=1,i=r.length;s<i;s++){var o=r[s],l=r[s-1];a=Math.min(((null==o?void 0:o.coordinate)||0)-((null==l?void 0:l.coordinate)||0),a)}return a===1/0?0:a}return n?void 0:0};function Xk(e){var{tooltipEntrySettings:t,dataKey:n,payload:r,value:a,name:s}=e;return Bk(Bk({},t),{},{dataKey:n,payload:r,value:a,name:s})}function Qk(e,t){return e?String(e):"string"==typeof t?t:void 0}var Jk=e=>e.layout.width,Zk=e=>e.layout.height,eS=e=>e.layout.scale,tS=e=>e.layout.margin,nS=Fw(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),rS=Fw(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),aS="data-recharts-item-index",sS="data-recharts-item-id";function iS(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function oS(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?iS(Object(n),!0).forEach(function(t){lS(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):iS(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function lS(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var cS=Fw([Jk,Zk,tS,e=>e.brush.height,function(e){return rS(e).reduce((e,t)=>"left"!==t.orientation||t.mirror||t.hide?e:e+("number"==typeof t.width?t.width:60),0)},function(e){return rS(e).reduce((e,t)=>"right"!==t.orientation||t.mirror||t.hide?e:e+("number"==typeof t.width?t.width:60),0)},function(e){return nS(e).reduce((e,t)=>"top"!==t.orientation||t.mirror||t.hide?e:e+t.height,0)},function(e){return nS(e).reduce((e,t)=>"bottom"!==t.orientation||t.mirror||t.hide?e:e+t.height,0)},cj,e=>e.legend.size],(e,t,n,r,a,s,i,o,l,c)=>{var d={left:(n.left||0)+a,right:(n.right||0)+s},u=oS(oS({},{top:(n.top||0)+i,bottom:(n.bottom||0)+o}),d),h=u.bottom;u.bottom+=r,u=((e,t,n)=>{if(t&&n){var{width:r,height:a}=n,{align:s,verticalAlign:i,layout:o}=t;if(("vertical"===o||"horizontal"===o&&"middle"===i)&&"center"!==s&&hv(e[s]))return Bk(Bk({},e),{},{[s]:e[s]+(r||0)});if(("horizontal"===o||"vertical"===o&&"center"===s)&&"middle"!==i&&hv(e[i]))return Bk(Bk({},e),{},{[i]:e[i]+(a||0)})}return e})(u,l,c);var m=e-u.left-u.right,p=t-u.top-u.bottom;return oS(oS({brushBottom:h},u),{},{width:Math.max(m,0),height:Math.max(p,0)})}),dS=Fw(cS,e=>({x:e.left,y:e.top,width:e.width,height:e.height}));Fw(Jk,Zk,(e,t)=>({x:0,y:0,width:e,height:t}));var uS,hS,mS,pS,fS,gS=kt.createContext(null),xS=()=>null!=kt.useContext(gS),bS=e=>e.brush,vS=Fw([bS,cS,tS],(e,t,n)=>({height:e.height,x:hv(e.x)?e.x:t.left,y:hv(e.y)?e.y:t.top+t.height+t.brushBottom-((null==n?void 0:n.bottom)||0),width:hv(e.width)?e.width:t.width})),yS={},wS={},jS={};function NS(){return uS||(uS=1,e=jS,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),e.debounce=function(e,t,{signal:n,edges:r}={}){let a,s=null;const i=null!=r&&r.includes("leading"),o=null==r||r.includes("trailing"),l=()=>{null!==s&&(e.apply(a,s),a=void 0,s=null)};let c=null;const d=()=>{null!=c&&clearTimeout(c),c=setTimeout(()=>{c=null,o&&l(),u()},t)},u=()=>{null!==c&&(clearTimeout(c),c=null),a=void 0,s=null},h=function(...e){if(n?.aborted)return;a=this,s=e;const t=null==c;d(),i&&t&&l()};return h.schedule=d,h.cancel=u,h.flush=()=>{l()},n?.addEventListener("abort",u,{once:!0}),h}),jS;var e}function kS(){return hS||(hS=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=NS();e.debounce=function(e,n=0,r={}){"object"!=typeof r&&(r={});const{leading:a=!1,trailing:s=!0,maxWait:i}=r,o=Array(2);let l;a&&(o[0]="leading"),s&&(o[1]="trailing");let c=null;const d=t.debounce(function(...t){l=e.apply(this,t),c=null},n,{edges:o}),u=function(...t){return null!=i&&(null===c&&(c=Date.now()),Date.now()-c>=i)?(l=e.apply(this,t),c=Date.now(),d.cancel(),d.schedule(),l):(d.apply(this,t),l)};return u.cancel=d.cancel,u.flush=()=>(d.flush(),l),u}}(wS)),wS}function SS(){return fS?pS:(fS=1,pS=(mS||(mS=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=kS();e.throttle=function(e,n=0,r={}){const{leading:a=!0,trailing:s=!0}=r;return t.debounce(e,n,{leading:a,maxWait:n,trailing:s})}}(yS)),yS).throttle)}const CS=Nt(SS());var _S=function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),a=2;a<n;a++)r[a-2]=arguments[a];if("undefined"!=typeof console&&console.warn&&!e)if(void 0===t);else;},PS={width:"100%",height:"100%",debounce:0,minWidth:0,initialDimension:{width:-1,height:-1}},ES=(e,t,n)=>{var{width:r=PS.width,height:a=PS.height,aspect:s,maxHeight:i}=n,o=uv(r)?e:Number(r),l=uv(a)?t:Number(a);return s&&s>0&&(o?l=o/s:l&&(o=l*s),i&&null!=l&&l>i&&(l=i)),{calculatedWidth:o,calculatedHeight:l}},DS={width:0,height:0,overflow:"visible"},OS={width:0,overflowX:"visible"},TS={height:0,overflowY:"visible"},MS={},AS=e=>{var{width:t,height:n}=e,r=uv(t),a=uv(n);return r&&a?DS:r?OS:a?TS:MS};function zS(){return zS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},zS.apply(null,arguments)}function RS(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function IS(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?RS(Object(n),!0).forEach(function(t){FS(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):RS(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function FS(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var LS=kt.createContext(PS.initialDimension);function BS(e){var{children:t,width:n,height:r}=e,a=kt.useMemo(()=>({width:n,height:r}),[n,r]);return function(e){return Fk(e.width)&&Fk(e.height)}(a)?kt.createElement(LS.Provider,{value:a},t):null}var $S=()=>kt.useContext(LS),WS=kt.forwardRef((e,t)=>{var{aspect:n,initialDimension:r=PS.initialDimension,width:a,height:s,minWidth:i=PS.minWidth,minHeight:o,maxHeight:l,children:c,debounce:d=PS.debounce,id:u,className:h,onResize:m,style:p={}}=e,f=kt.useRef(null),g=kt.useRef();g.current=m,kt.useImperativeHandle(t,()=>f.current);var[x,b]=kt.useState({containerWidth:r.width,containerHeight:r.height}),v=kt.useCallback((e,t)=>{b(n=>{var r=Math.round(e),a=Math.round(t);return n.containerWidth===r&&n.containerHeight===a?n:{containerWidth:r,containerHeight:a}})},[]);kt.useEffect(()=>{if(null==f.current||"undefined"==typeof ResizeObserver)return jv;var e=e=>{var t,n=e[0];if(null!=n){var{width:r,height:a}=n.contentRect;v(r,a),null===(t=g.current)||void 0===t||t.call(g,r,a)}};d>0&&(e=CS(e,d,{trailing:!0,leading:!1}));var t=new ResizeObserver(e),{width:n,height:r}=f.current.getBoundingClientRect();return v(n,r),t.observe(f.current),()=>{t.disconnect()}},[v,d]);var{containerWidth:y,containerHeight:w}=x;_S(!n||n>0,"The aspect(%s) must be greater than zero.",n);var{calculatedWidth:j,calculatedHeight:N}=ES(y,w,{width:a,height:s,aspect:n,maxHeight:l});return _S(null!=j&&j>0||null!=N&&N>0,"The width(%s) and height(%s) of chart should be greater than 0,\n       please check the style of container, or the props width(%s) and height(%s),\n       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the\n       height and width.",j,N,a,s,i,o,n),kt.createElement("div",{id:u?"".concat(u):void 0,className:Yt("recharts-responsive-container",h),style:IS(IS({},p),{},{width:a,height:s,minWidth:i,minHeight:o,maxHeight:l}),ref:f},kt.createElement("div",{style:AS({width:a,height:s})},kt.createElement(BS,{width:j,height:N},c)))}),US=kt.forwardRef((e,t)=>{var n=$S();if(Fk(n.width)&&Fk(n.height))return e.children;var{width:r,height:a}=function(e){var{width:t,height:n,aspect:r}=e,a=t,s=n;return void 0===a&&void 0===s?(a=PS.width,s=PS.height):void 0===a?a=r&&r>0?void 0:PS.width:void 0===s&&(s=r&&r>0?void 0:PS.height),{width:a,height:s}}({width:e.width,height:e.height,aspect:e.aspect}),{calculatedWidth:s,calculatedHeight:i}=ES(void 0,void 0,{width:r,height:a,aspect:e.aspect,maxHeight:e.maxHeight});return hv(s)&&hv(i)?kt.createElement(BS,{width:s,height:i},e.children):kt.createElement(WS,zS({},e,{width:r,height:a,ref:t}))});function HS(e){if(e)return{x:e.x,y:e.y,upperWidth:"upperWidth"in e?e.upperWidth:e.width,lowerWidth:"lowerWidth"in e?e.lowerWidth:e.width,width:e.width,height:e.height}}var VS=()=>{var e,t=xS(),n=Dw(dS),r=Dw(vS),a=null===(e=Dw(bS))||void 0===e?void 0:e.padding;return t&&r&&a?{width:r.width-a.left-a.right,height:r.height-a.top-a.bottom,x:a.left,y:a.top}:n},qS={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},YS=e=>e.layout.layoutType,GS=()=>Dw(YS),KS=e=>{var t=e.layout.layoutType;if("centric"===t||"radial"===t)return t},XS=e=>{var t=Cw(),n=xS(),{width:r,height:a}=e,s=$S(),i=r,o=a;return s&&(i=s.width>0?s.width:r,o=s.height>0?s.height:a),kt.useEffect(()=>{!n&&Fk(i)&&Fk(o)&&t(Mk({width:i,height:o}))},[t,n,i,o]),null},QS=Symbol.for("immer-nothing"),JS=Symbol.for("immer-draftable"),ZS=Symbol.for("immer-state");function eC(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var tC=Object.getPrototypeOf;function nC(e){return!!e&&!!e[ZS]}function rC(e){return!!e&&(iC(e)||Array.isArray(e)||!!e[JS]||!!e.constructor?.[JS]||uC(e)||hC(e))}var aC=Object.prototype.constructor.toString(),sC=new WeakMap;function iC(e){if(!e||"object"!=typeof e)return!1;const t=Object.getPrototypeOf(e);if(null===t||t===Object.prototype)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;if(n===Object)return!0;if("function"!=typeof n)return!1;let r=sC.get(n);return void 0===r&&(r=Function.toString.call(n),sC.set(n,r)),r===aC}function oC(e,t,n=!0){if(0===lC(e)){(n?Reflect.ownKeys(e):Object.keys(e)).forEach(n=>{t(n,e[n],e)})}else e.forEach((n,r)=>t(r,n,e))}function lC(e){const t=e[ZS];return t?t.type_:Array.isArray(e)?1:uC(e)?2:hC(e)?3:0}function cC(e,t){return 2===lC(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function dC(e,t,n){const r=lC(e);2===r?e.set(t,n):3===r?e.add(n):e[t]=n}function uC(e){return e instanceof Map}function hC(e){return e instanceof Set}function mC(e){return e.copy_||e.base_}function pC(e,t){if(uC(e))return new Map(e);if(hC(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const n=iC(e);if(!0===t||"class_only"===t&&!n){const t=Object.getOwnPropertyDescriptors(e);delete t[ZS];let n=Reflect.ownKeys(t);for(let r=0;r<n.length;r++){const a=n[r],s=t[a];!1===s.writable&&(s.writable=!0,s.configurable=!0),(s.get||s.set)&&(t[a]={configurable:!0,writable:!0,enumerable:s.enumerable,value:e[a]})}return Object.create(tC(e),t)}{const t=tC(e);if(null!==t&&n)return{...e};const r=Object.create(t);return Object.assign(r,e)}}function fC(e,t=!1){return xC(e)||nC(e)||!rC(e)||(lC(e)>1&&Object.defineProperties(e,{set:gC,add:gC,clear:gC,delete:gC}),Object.freeze(e),t&&Object.values(e).forEach(e=>fC(e,!0))),e}var gC={value:function(){eC(2)}};function xC(e){return null===e||"object"!=typeof e||Object.isFrozen(e)}var bC,vC={};function yC(e){const t=vC[e];return t||eC(0),t}function wC(){return bC}function jC(e,t){t&&(yC("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function NC(e){kC(e),e.drafts_.forEach(CC),e.drafts_=null}function kC(e){e===bC&&(bC=e.parent_)}function SC(e){return bC={drafts_:[],parent_:bC,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function CC(e){const t=e[ZS];0===t.type_||1===t.type_?t.revoke_():t.revoked_=!0}function _C(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return void 0!==e&&e!==n?(n[ZS].modified_&&(NC(t),eC(4)),rC(e)&&(e=PC(t,e),t.parent_||DC(t,e)),t.patches_&&yC("Patches").generateReplacementPatches_(n[ZS].base_,e,t.patches_,t.inversePatches_)):e=PC(t,n,[]),NC(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==QS?e:void 0}function PC(e,t,n){if(xC(t))return t;const r=e.immer_.shouldUseStrictIteration(),a=t[ZS];if(!a)return oC(t,(r,s)=>EC(e,a,t,r,s,n),r),t;if(a.scope_!==e)return t;if(!a.modified_)return DC(e,a.base_,!0),a.base_;if(!a.finalized_){a.finalized_=!0,a.scope_.unfinalizedDrafts_--;const t=a.copy_;let s=t,i=!1;3===a.type_&&(s=new Set(t),t.clear(),i=!0),oC(s,(r,s)=>EC(e,a,t,r,s,n,i),r),DC(e,t,!1),n&&e.patches_&&yC("Patches").generatePatches_(a,n,e.patches_,e.inversePatches_)}return a.copy_}function EC(e,t,n,r,a,s,i){if(null==a)return;if("object"!=typeof a&&!i)return;const o=xC(a);if(!o||i){if(nC(a)){const i=PC(e,a,s&&t&&3!==t.type_&&!cC(t.assigned_,r)?s.concat(r):void 0);if(dC(n,r,i),!nC(i))return;e.canAutoFreeze_=!1}else i&&n.add(a);if(rC(a)&&!o){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;if(t&&t.base_&&t.base_[r]===a&&o)return;PC(e,a),t&&t.scope_.parent_||"symbol"==typeof r||!(uC(n)?n.has(r):Object.prototype.propertyIsEnumerable.call(n,r))||DC(e,a)}}}function DC(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&fC(t,n)}var OC={get(e,t){if(t===ZS)return e;const n=mC(e);if(!cC(n,t))return function(e,t,n){const r=AC(t,n);return r?"value"in r?r.value:r.get?.call(e.draft_):void 0}(e,n,t);const r=n[t];return e.finalized_||!rC(r)?r:r===MC(e.base_,t)?(RC(e),e.copy_[t]=IC(r,e)):r},has:(e,t)=>t in mC(e),ownKeys:e=>Reflect.ownKeys(mC(e)),set(e,t,n){const r=AC(mC(e),t);if(r?.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const r=MC(mC(e),t),i=r?.[ZS];if(i&&i.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(((a=n)===(s=r)?0!==a||1/a==1/s:a!=a&&s!=s)&&(void 0!==n||cC(e.base_,t)))return!0;RC(e),zC(e)}var a,s;return e.copy_[t]===n&&(void 0!==n||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty:(e,t)=>(void 0!==MC(e.base_,t)||t in e.base_?(e.assigned_[t]=!1,RC(e),zC(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0),getOwnPropertyDescriptor(e,t){const n=mC(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r?{writable:!0,configurable:1!==e.type_||"length"!==t,enumerable:r.enumerable,value:n[t]}:r},defineProperty(){eC(11)},getPrototypeOf:e=>tC(e.base_),setPrototypeOf(){eC(12)}},TC={};function MC(e,t){const n=e[ZS];return(n?mC(n):e)[t]}function AC(e,t){if(!(t in e))return;let n=tC(e);for(;n;){const e=Object.getOwnPropertyDescriptor(n,t);if(e)return e;n=tC(n)}}function zC(e){e.modified_||(e.modified_=!0,e.parent_&&zC(e.parent_))}function RC(e){e.copy_||(e.copy_=pC(e.base_,e.scope_.immer_.useStrictShallowCopy_))}oC(OC,(e,t)=>{TC[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}}),TC.deleteProperty=function(e,t){return TC.set.call(this,e,t,void 0)},TC.set=function(e,t,n){return OC.set.call(this,e[0],t,n,e[0])};function IC(e,t){const n=uC(e)?yC("MapSet").proxyMap_(e,t):hC(e)?yC("MapSet").proxySet_(e,t):function(e,t){const n=Array.isArray(e),r={type_:n?1:0,scope_:t?t.scope_:wC(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let a=r,s=OC;n&&(a=[r],s=TC);const{revoke:i,proxy:o}=Proxy.revocable(a,s);return r.draft_=o,r.revoke_=i,o}(e,t);return(t?t.scope_:wC()).drafts_.push(n),n}function FC(e){if(!rC(e)||xC(e))return e;const t=e[ZS];let n,r=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=pC(e,t.scope_.immer_.useStrictShallowCopy_),r=t.scope_.immer_.shouldUseStrictIteration()}else n=pC(e,!0);return oC(n,(e,t)=>{dC(n,e,FC(t))},r),t&&(t.finalized_=!1),n}var LC=new class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(e,t,n)=>{if("function"==typeof e&&"function"!=typeof t){const n=t;t=e;const r=this;return function(e=n,...a){return r.produce(e,e=>t.call(this,e,...a))}}let r;if("function"!=typeof t&&eC(6),void 0!==n&&"function"!=typeof n&&eC(7),rC(e)){const a=SC(this),s=IC(e,void 0);let i=!0;try{r=t(s),i=!1}finally{i?NC(a):kC(a)}return jC(a,n),_C(r,a)}if(!e||"object"!=typeof e){if(r=t(e),void 0===r&&(r=e),r===QS&&(r=void 0),this.autoFreeze_&&fC(r,!0),n){const t=[],a=[];yC("Patches").generateReplacementPatches_(e,r,t,a),n(t,a)}return r}eC(1)},this.produceWithPatches=(e,t)=>{if("function"==typeof e)return(t,...n)=>this.produceWithPatches(t,t=>e(t,...n));let n,r;return[this.produce(e,t,(e,t)=>{n=e,r=t}),n,r]},"boolean"==typeof e?.autoFreeze&&this.setAutoFreeze(e.autoFreeze),"boolean"==typeof e?.useStrictShallowCopy&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),"boolean"==typeof e?.useStrictIteration&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){rC(e)||eC(8),nC(e)&&(e=function(e){nC(e)||eC(10);return FC(e)}(e));const t=SC(this),n=IC(e,void 0);return n[ZS].isManual_=!0,kC(t),n}finishDraft(e,t){const n=e&&e[ZS];n&&n.isManual_||eC(9);const{scope_:r}=n;return jC(r,t),_C(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const r=t[n];if(0===r.path.length&&"replace"===r.op){e=r.value;break}}n>-1&&(t=t.slice(n+1));const r=yC("Patches").applyPatches_;return nC(e)?r(e,t):this.produce(e,e=>r(e,t))}};LC.produce;var BC=XN({name:"legend",initialState:{settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload:{reducer(e,t){e.payload.push(t.payload)},prepare:BN()},replaceLegendPayload:{reducer(e,t){var{prev:n,next:r}=t.payload,a=_N(e).payload.indexOf(n);a>-1&&(e.payload[a]=r)},prepare:BN()},removeLegendPayload:{reducer(e,t){var n=_N(e).payload.indexOf(t.payload);n>-1&&e.payload.splice(n,1)},prepare:BN()}}}),{setLegendSize:$C,setLegendSettings:WC,addLegendPayload:UC,replaceLegendPayload:HC,removeLegendPayload:VC}=BC.actions,qC=BC.reducer;function YC(){return YC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},YC.apply(null,arguments)}function GC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function KC(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?GC(Object(n),!0).forEach(function(t){XC(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):GC(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function XC(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function QC(e){return Array.isArray(e)&&mv(e[0])&&mv(e[1])?e.join(" ~ "):e}var JC={separator:" : ",contentStyle:{margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},itemStyle:{display:"block",paddingTop:4,paddingBottom:4,color:"#000"},labelStyle:{},accessibilityLayer:!1},ZC=e=>{var{separator:t=JC.separator,contentStyle:n,itemStyle:r,labelStyle:a=JC.labelStyle,payload:s,formatter:i,itemSorter:o,wrapperClassName:l,labelClassName:c,label:d,labelFormatter:u,accessibilityLayer:h=JC.accessibilityLayer}=e,m=KC(KC({},JC.contentStyle),n),p=KC({margin:0},a),f=!vv(d),g=f?d:"",x=Yt("recharts-default-tooltip",l),b=Yt("recharts-tooltip-label",c);f&&u&&null!=s&&(g=u(d,s));var v=h?{role:"status","aria-live":"assertive"}:{};return kt.createElement("div",YC({className:x,style:m},v),kt.createElement("p",{className:b,style:p},kt.isValidElement(g)?g:"".concat(g)),(()=>{if(s&&s.length){var e=(o?lj(s,o):s).map((e,n)=>{if("none"===e.type)return null;var a=e.formatter||i||QC,{value:o,name:l}=e,c=o,d=l;if(a){var u=a(o,l,e,n,s);if(Array.isArray(u))[c,d]=u;else{if(null==u)return null;c=u}}var h=KC(KC({},JC.itemStyle),{},{color:e.color||JC.itemStyle.color},r);return kt.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(n),style:h},mv(d)?kt.createElement("span",{className:"recharts-tooltip-item-name"},d):null,mv(d)?kt.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,kt.createElement("span",{className:"recharts-tooltip-item-value"},c),kt.createElement("span",{className:"recharts-tooltip-item-unit"},e.unit||""))});return kt.createElement("ul",{className:"recharts-tooltip-item-list",style:{padding:0,margin:0}},e)}return null})())},e_="recharts-tooltip-wrapper",t_={visibility:"hidden"};function n_(e){var{coordinate:t,translateX:n,translateY:r}=e;return Yt(e_,{["".concat(e_,"-right")]:hv(n)&&t&&hv(t.x)&&n>=t.x,["".concat(e_,"-left")]:hv(n)&&t&&hv(t.x)&&n<t.x,["".concat(e_,"-bottom")]:hv(r)&&t&&hv(t.y)&&r>=t.y,["".concat(e_,"-top")]:hv(r)&&t&&hv(t.y)&&r<t.y})}function r_(e){var{allowEscapeViewBox:t,coordinate:n,key:r,offset:a,position:s,reverseDirection:i,tooltipDimension:o,viewBox:l,viewBoxDimension:c}=e;if(s&&hv(s[r]))return s[r];var d=n[r]-o-(a>0?a:0),u=n[r]+a;if(t[r])return i[r]?d:u;var h=l[r];return null==h?0:i[r]?d<h?Math.max(u,h):Math.max(d,h):null==c?0:u+o>h+c?Math.max(d,h):Math.max(u,h)}function a_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function s_(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a_(Object(n),!0).forEach(function(t){i_(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a_(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function i_(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class o_ extends kt.PureComponent{constructor(){super(...arguments),i_(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),i_(this,"handleKeyDown",e=>{var t,n,r,a;"Escape"===e.key&&this.setState({dismissed:!0,dismissedAtCoordinate:{x:null!==(t=null===(n=this.props.coordinate)||void 0===n?void 0:n.x)&&void 0!==t?t:0,y:null!==(r=null===(a=this.props.coordinate)||void 0===a?void 0:a.y)&&void 0!==r?r:0}})})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var e,t;this.state.dismissed&&((null===(e=this.props.coordinate)||void 0===e?void 0:e.x)===this.state.dismissedAtCoordinate.x&&(null===(t=this.props.coordinate)||void 0===t?void 0:t.y)===this.state.dismissedAtCoordinate.y||(this.state.dismissed=!1))}render(){var{active:e,allowEscapeViewBox:t,animationDuration:n,animationEasing:r,children:a,coordinate:s,hasPayload:i,isAnimationActive:o,offset:l,position:c,reverseDirection:d,useTranslate3d:u,viewBox:h,wrapperStyle:m,lastBoundingBox:p,innerRef:f,hasPortalFromProps:g}=this.props,x="number"==typeof l?l:l.x,b="number"==typeof l?l:l.y,{cssClasses:v,cssProperties:y}=function(e){var t,n,r,{allowEscapeViewBox:a,coordinate:s,offsetTop:i,offsetLeft:o,position:l,reverseDirection:c,tooltipBox:d,useTranslate3d:u,viewBox:h}=e;return t=d.height>0&&d.width>0&&s?function(e){var{translateX:t,translateY:n,useTranslate3d:r}=e;return{transform:r?"translate3d(".concat(t,"px, ").concat(n,"px, 0)"):"translate(".concat(t,"px, ").concat(n,"px)")}}({translateX:n=r_({allowEscapeViewBox:a,coordinate:s,key:"x",offset:o,position:l,reverseDirection:c,tooltipDimension:d.width,viewBox:h,viewBoxDimension:h.width}),translateY:r=r_({allowEscapeViewBox:a,coordinate:s,key:"y",offset:i,position:l,reverseDirection:c,tooltipDimension:d.height,viewBox:h,viewBoxDimension:h.height}),useTranslate3d:u}):t_,{cssProperties:t,cssClasses:n_({translateX:n,translateY:r,coordinate:s})}}({allowEscapeViewBox:t,coordinate:s,offsetLeft:x,offsetTop:b,position:c,reverseDirection:d,tooltipBox:{height:p.height,width:p.width},useTranslate3d:u,viewBox:h}),w=g?{}:s_(s_({transition:o&&e?"transform ".concat(n,"ms ").concat(r):void 0},y),{},{pointerEvents:"none",visibility:!this.state.dismissed&&e&&i?"visible":"hidden",position:"absolute",top:0,left:0}),j=s_(s_({},w),{},{visibility:!this.state.dismissed&&e&&i?"visible":"hidden"},m);return kt.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:v,style:j,ref:f},a)}}var l_=()=>{var e;return null===(e=Dw(e=>e.rootProps.accessibilityLayer))||void 0===e||e};function c_(){return c_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c_.apply(null,arguments)}function d_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function u_(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d_(Object(n),!0).forEach(function(t){h_(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d_(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function h_(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var m_={curveBasisClosed:function(e){return new jb(e)},curveBasisOpen:function(e){return new Nb(e)},curveBasis:function(e){return new wb(e)},curveBumpX:function(e){return new tb(e,!0)},curveBumpY:function(e){return new tb(e,!1)},curveLinearClosed:function(e){return new kb(e)},curveLinear:Xx,curveMonotoneX:function(e){return new Eb(e)},curveMonotoneY:function(e){return new Db(e)},curveNatural:function(e){return new Tb(e)},curveStep:function(e){return new Ab(e,.5)},curveStepAfter:function(e){return new Ab(e,1)},curveStepBefore:function(e){return new Ab(e,0)}},p_=e=>Ik(e.x)&&Ik(e.y),f_=e=>null!=e.base&&p_(e.base)&&p_(e),g_=e=>e.x,x_=e=>e.y,b_={connectNulls:!1,type:"linear"},v_=e=>{var{type:t=b_.type,points:n=[],baseLine:r,layout:a,connectNulls:s=b_.connectNulls}=e,i=((e,t)=>{if("function"==typeof e)return e;var n="curve".concat(yv(e));if(("curveMonotone"===n||"curveBump"===n)&&t){var r=m_["".concat(n).concat("vertical"===t?"Y":"X")];if(r)return r}return m_[n]||Xx})(t,a),o=s?n.filter(p_):n;if(Array.isArray(r)){var l=n.map((e,t)=>u_(u_({},e),{},{base:r[t]}));return("vertical"===a?eb().y(x_).x1(g_).x0(e=>e.base.x):eb().x(g_).y1(x_).y0(e=>e.base.y)).defined(f_).curve(i)(s?l.filter(f_):l)}return("vertical"===a&&hv(r)?eb().y(x_).x1(g_).x0(r):hv(r)?eb().x(g_).y1(x_).y0(r):Zx().x(g_).y(x_)).defined(p_).curve(i)(o)},y_=e=>{var{className:t,points:n,path:r,pathRef:a}=e,s=GS();if(!(n&&n.length||r))return null;var i={type:e.type,points:e.points,baseLine:e.baseLine,layout:e.layout||s,connectNulls:e.connectNulls},o=n&&n.length?v_(i):r;return kt.createElement("path",c_({},Sx(e),(e=>{if(!e||"function"==typeof e||"boolean"==typeof e)return null;var t=e;if(kt.isValidElement(e)&&(t=e.props),"object"!=typeof t&&"function"!=typeof t)return null;var n={};return Object.keys(t).forEach(e=>{wx(e)&&(n[e]=n=>t[e](t,n))}),n})(e),{className:Yt("recharts-curve",t),d:null===o?void 0:o,ref:a}))},w_=["x","y","top","left","width","height","className"];function j_(){return j_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},j_.apply(null,arguments)}function N_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function k_(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var S_=(e,t,n,r,a,s)=>"M".concat(e,",").concat(a,"v").concat(r,"M").concat(s,",").concat(t,"h").concat(n),C_=e=>{var{x:t=0,y:n=0,top:r=0,left:a=0,width:s=0,height:i=0,className:o}=e,l=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?N_(Object(n),!0).forEach(function(t){k_(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):N_(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({x:t,y:n,top:r,left:a,width:s,height:i},function(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}(e,w_));return hv(t)&&hv(n)&&hv(s)&&hv(i)&&hv(r)&&hv(a)?kt.createElement("path",j_({},_x(l),{className:Yt("recharts-cross",o),d:S_(t,n,s,i,r,a)})):null};function __(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function P_(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?__(Object(n),!0).forEach(function(t){E_(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):__(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function E_(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var D_=(e,t,n)=>e.map(e=>{return"".concat((r=e,r.replace(/([A-Z])/g,e=>"-".concat(e.toLowerCase())))," ").concat(t,"ms ").concat(n);var r}).join(","),O_=(e,t)=>Object.keys(t).reduce((n,r)=>P_(P_({},n),{},{[r]:e(r,t[r])}),{});function T_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function M_(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?T_(Object(n),!0).forEach(function(t){A_(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):T_(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function A_(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var z_=(e,t,n)=>e+(t-e)*n,R_=e=>{var{from:t,to:n}=e;return t!==n},I_=(e,t,n)=>{var r=O_((t,n)=>{if(R_(n)){var[r,a]=e(n.from,n.to,n.velocity);return M_(M_({},n),{},{from:r,velocity:a})}return n},t);return n<1?O_((e,t)=>R_(t)&&null!=r[e]?M_(M_({},t),{},{velocity:z_(t.velocity,r[e].velocity,n),from:z_(t.from,r[e].from,n)}):t,t):I_(e,r,n-1)};function F_(e,t,n,r,a,s){var i,o=r.reduce((n,r)=>M_(M_({},n),{},{[r]:{from:e[r],velocity:0,to:t[r]}}),{}),l=null,c=r=>{i||(i=r);var d=(r-i)/n.dt;o=I_(n,o,d),a(M_(M_(M_({},e),t),O_((e,t)=>t.from,o))),i=r,Object.values(o).filter(R_).length&&(l=s.setTimeout(c))};return()=>(l=s.setTimeout(c),()=>{var e;null===(e=l)||void 0===e||e()})}const L_=(e,t,n,r,a,s)=>{var i,o,l=(i=e,o=t,[Object.keys(i),Object.keys(o)].reduce((e,t)=>e.filter(e=>t.includes(e))));return null==n?()=>(a(M_(M_({},e),t)),()=>{}):!0===n.isStepper?F_(e,t,n,l,a,s):function(e,t,n,r,a,s,i){var o,l=null,c=a.reduce((n,r)=>{var a=e[r],s=t[r];return null==a||null==s?n:M_(M_({},n),{},{[r]:[a,s]})},{}),d=a=>{o||(o=a);var u=(a-o)/r,h=O_((e,t)=>z_(...t,n(u)),c);if(s(M_(M_(M_({},e),t),h)),u<1)l=i.setTimeout(d);else{var m=O_((e,t)=>z_(...t,n(1)),c);s(M_(M_(M_({},e),t),m))}};return()=>(l=i.setTimeout(d),()=>{var e;null===(e=l)||void 0===e||e()})}(e,t,n,r,l,a,s)};var B_=1e-4,$_=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],W_=(e,t)=>e.map((e,n)=>e*t**n).reduce((e,t)=>e+t),U_=(e,t)=>n=>{var r=$_(e,t);return W_(r,n)},H_=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(1===t.length)switch(t[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:var r=(e=>{var t,n=e.split("(");if(2!==n.length||"cubic-bezier"!==n[0])return null;var r=null===(t=n[1])||void 0===t||null===(t=t.split(")")[0])||void 0===t?void 0:t.split(",");if(null==r||4!==r.length)return null;var a=r.map(e=>parseFloat(e));return[a[0],a[1],a[2],a[3]]})(t[0]);if(r)return r}return 4===t.length?t:[0,0,1,1]},V_=(e,t,n,r)=>{var a,s,i=U_(e,n),o=U_(t,r),l=(a=e,s=n,e=>{var t=[...$_(a,s).map((e,t)=>e*t).slice(1),0];return W_(t,e)}),c=e=>e>1?1:e<0?0:e,d=e=>{for(var t=e>1?1:e,n=t,r=0;r<8;++r){var a=i(n)-t,s=l(n);if(Math.abs(a-t)<B_||s<B_)return o(n);n=c(n-a/s)}return o(n)};return d.isStepper=!1,d},q_=function(){return V_(...H_(...arguments))},Y_=e=>{if("string"==typeof e)switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return q_(e);case"spring":return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{stiff:t=100,damping:n=8,dt:r=17}=e,a=(e,a,s)=>{var i=s+(-(e-a)*t-s*n)*r/1e3,o=s*r/1e3+e;return Math.abs(o-a)<B_&&Math.abs(i)<B_?[a,0]:[o,i]};return a.isStepper=!0,a.dt=r,a}();default:if("cubic-bezier"===e.split("(")[0])return q_(e)}return"function"==typeof e?e:null};class G_{setTimeout(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=performance.now(),r=null,a=s=>{s-n>=t?e(s):"function"==typeof requestAnimationFrame&&(r=requestAnimationFrame(a))};return r=requestAnimationFrame(a),()=>{null!=r&&cancelAnimationFrame(r)}}}function K_(){return e=new G_,t=()=>null,n=!1,r=null,a=s=>{if(!n){if(Array.isArray(s)){if(!s.length)return;var i=s,[o,...l]=i;return"number"==typeof o?void(r=e.setTimeout(a.bind(null,l),o)):(a(o),void(r=e.setTimeout(a.bind(null,l))))}"string"==typeof s&&t(s),"object"==typeof s&&t(s),"function"==typeof s&&s()}},{stop:()=>{n=!0},start:e=>{n=!1,r&&(r(),r=null),a(e)},subscribe:e=>(t=e,()=>{t=()=>null}),getTimeoutController:()=>e};var e,t,n,r,a}var X_=kt.createContext(K_);var Q_=!("undefined"!=typeof window&&window.document&&Boolean(window.document.createElement)&&window.setTimeout),J_={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},Z_={t:0},eP={t:1};function tP(e){var t,n,r,a=Av(e,J_),{isActive:s,canBegin:i,duration:o,easing:l,begin:c,onAnimationEnd:d,onAnimationStart:u,children:h}=a,m="auto"===s?!Q_:s,p=(t=a.animationId,n=a.animationManager,r=kt.useContext(X_),kt.useMemo(()=>null!=n?n:r(t),[t,n,r])),[f,g]=kt.useState(m?Z_:eP),x=kt.useRef(null);return kt.useEffect(()=>{m||g(eP)},[m]),kt.useEffect(()=>{if(!m||!i)return jv;var e=L_(Z_,eP,Y_(l),o,g,p.getTimeoutController());return p.start([u,c,()=>{x.current=e()},o,d]),()=>{p.stop(),x.current&&x.current(),d()}},[m,i,o,l,c,u,d,p]),h(f.t)}function nP(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"animation-",n=kt.useRef(fv(t)),r=kt.useRef(e);return r.current!==e&&(n.current=fv(t),r.current=e),n.current}var rP,aP,sP,iP,oP,lP,cP,dP,uP,hP,mP=["radius"],pP=["radius"];function fP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function gP(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?fP(Object(n),!0).forEach(function(t){xP(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fP(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function xP(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function bP(){return bP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},bP.apply(null,arguments)}function vP(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function yP(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var wP=(e,t,n,r,a)=>{var s,i=ov(n),o=ov(r),l=Math.min(Math.abs(i)/2,Math.abs(o)/2),c=o>=0?1:-1,d=i>=0?1:-1,u=o>=0&&i>=0||o<0&&i<0?1:0;if(l>0&&Array.isArray(a)){for(var h=[0,0,0,0],m=0;m<4;m++){var p,f=null!==(p=a[m])&&void 0!==p?p:0;h[m]=f>l?l:f}s=lv(rP||(rP=yP(["M",",",""])),e,t+c*h[0]),h[0]>0&&(s+=lv(aP||(aP=yP(["A ",",",",0,0,",",",",",""])),h[0],h[0],u,e+d*h[0],t)),s+=lv(sP||(sP=yP(["L ",",",""])),e+n-d*h[1],t),h[1]>0&&(s+=lv(iP||(iP=yP(["A ",",",",0,0,",",\n        ",",",""])),h[1],h[1],u,e+n,t+c*h[1])),s+=lv(oP||(oP=yP(["L ",",",""])),e+n,t+r-c*h[2]),h[2]>0&&(s+=lv(lP||(lP=yP(["A ",",",",0,0,",",\n        ",",",""])),h[2],h[2],u,e+n-d*h[2],t+r)),s+=lv(cP||(cP=yP(["L ",",",""])),e+d*h[3],t+r),h[3]>0&&(s+=lv(dP||(dP=yP(["A ",",",",0,0,",",\n        ",",",""])),h[3],h[3],u,e,t+r-c*h[3])),s+="Z"}else if(l>0&&a===+a&&a>0){var g=Math.min(l,a);s=lv(uP||(uP=yP(["M ",",","\n            A ",",",",0,0,",",",",","\n            L ",",","\n            A ",",",",0,0,",",",",","\n            L ",",","\n            A ",",",",0,0,",",",",","\n            L ",",","\n            A ",",",",0,0,",",",","," Z"])),e,t+c*g,g,g,u,e+d*g,t,e+n-d*g,t,g,g,u,e+n,t+c*g,e+n,t+r-c*g,g,g,u,e+n-d*g,t+r,e+d*g,t+r,g,g,u,e,t+r-c*g)}else s=lv(hP||(hP=yP(["M ",","," h "," v "," h "," Z"])),e,t,n,r,-n);return s},jP={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},NP=e=>{var t=Av(e,jP),n=kt.useRef(null),[r,a]=kt.useState(-1);kt.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var e=n.current.getTotalLength();e&&a(e)}catch(t){}},[]);var{x:s,y:i,width:o,height:l,radius:c,className:d}=t,{animationEasing:u,animationDuration:h,animationBegin:m,isAnimationActive:p,isUpdateAnimationActive:f}=t,g=kt.useRef(o),x=kt.useRef(l),b=kt.useRef(s),v=kt.useRef(i),y=nP(kt.useMemo(()=>({x:s,y:i,width:o,height:l,radius:c}),[s,i,o,l,c]),"rectangle-");if(s!==+s||i!==+i||o!==+o||l!==+l||0===o||0===l)return null;var w=Yt("recharts-rectangle",d);if(!f){var j=_x(t),{radius:N}=j,k=vP(j,mP);return kt.createElement("path",bP({},k,{x:ov(s),y:ov(i),width:ov(o),height:ov(l),radius:"number"==typeof c?c:void 0,className:w,d:wP(s,i,o,l,c)}))}var S=g.current,C=x.current,_=b.current,P=v.current,E="0px ".concat(-1===r?1:r,"px"),D="".concat(r,"px 0px"),O=D_(["strokeDasharray"],h,"string"==typeof u?u:jP.animationEasing);return kt.createElement(tP,{animationId:y,key:y,canBegin:r>0,duration:h,easing:u,isActive:f,begin:m},e=>{var r,a=bv(S,o,e),d=bv(C,l,e),u=bv(_,s,e),h=bv(P,i,e);n.current&&(g.current=a,x.current=d,b.current=u,v.current=h),r=p?e>0?{transition:O,strokeDasharray:D}:{strokeDasharray:E}:{strokeDasharray:D};var m=_x(t),{radius:f}=m,y=vP(m,pP);return kt.createElement("path",bP({},y,{radius:"number"==typeof c?c:void 0,className:w,d:wP(u,h,a,d,c),ref:n,style:gP(gP({},r),t.style)}))})};function kP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function SP(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?kP(Object(n),!0).forEach(function(t){CP(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kP(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function CP(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var _P,PP,EP,DP,OP,TP,MP,AP=Math.PI/180,zP=e=>180*e/Math.PI,RP=(e,t,n,r)=>({x:e+Math.cos(-AP*r)*n,y:t+Math.sin(-AP*r)*n}),IP=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(n.left||0)-(n.right||0)),Math.abs(t-(n.top||0)-(n.bottom||0)))/2},FP=(e,t)=>{var{x:n,y:r}=e,{cx:a,cy:s}=t,i=((e,t)=>{var{x:n,y:r}=e,{x:a,y:s}=t;return Math.sqrt((n-a)**2+(r-s)**2)})({x:n,y:r},{x:a,y:s});if(i<=0)return{radius:i,angle:0};var o=(n-a)/i,l=Math.acos(o);return r>s&&(l=2*Math.PI-l),{radius:i,angle:zP(l),angleInRadian:l}},LP=(e,t)=>{var{startAngle:n,endAngle:r}=t,a=Math.floor(n/360),s=Math.floor(r/360);return e+360*Math.min(a,s)},BP=(e,t)=>{var{chartX:n,chartY:r}=e,{radius:a,angle:s}=FP({x:n,y:r},t),{innerRadius:i,outerRadius:o}=t;if(a<i||a>o)return null;if(0===a)return null;var l,{startAngle:c,endAngle:d}=(e=>{var{startAngle:t,endAngle:n}=e,r=Math.floor(t/360),a=Math.floor(n/360),s=Math.min(r,a);return{startAngle:t-360*s,endAngle:n-360*s}})(t),u=s;if(c<=d){for(;u>d;)u-=360;for(;u<c;)u+=360;l=u>=c&&u<=d}else{for(;u>c;)u-=360;for(;u<d;)u+=360;l=u>=d&&u<=c}return l?SP(SP({},t),{},{radius:a,angle:LP(u,t)}):null};function $P(e){var{cx:t,cy:n,radius:r,startAngle:a,endAngle:s}=e;return{points:[RP(t,n,r,a),RP(t,n,r,s)],cx:t,cy:n,radius:r,startAngle:a,endAngle:s}}function WP(){return WP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},WP.apply(null,arguments)}function UP(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var HP=e=>{var{cx:t,cy:n,radius:r,angle:a,sign:s,isExternal:i,cornerRadius:o,cornerIsExternal:l}=e,c=o*(i?1:-1)+r,d=Math.asin(o/c)/AP,u=l?a:a+s*d,h=l?a-s*d:a;return{center:RP(t,n,c,u),circleTangency:RP(t,n,r,u),lineTangency:RP(t,n,c*Math.cos(d*AP),h),theta:d}},VP=e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:a,startAngle:s,endAngle:i}=e,o=((e,t)=>cv(t-e)*Math.min(Math.abs(t-e),359.999))(s,i),l=s+o,c=RP(t,n,a,s),d=RP(t,n,a,l),u=lv(_P||(_P=UP(["M ",",","\n    A ",",",",0,\n    ",",",",\n    ",",","\n  "])),c.x,c.y,a,a,+(Math.abs(o)>180),+(s>l),d.x,d.y);if(r>0){var h=RP(t,n,r,s),m=RP(t,n,r,l);u+=lv(PP||(PP=UP(["L ",",","\n            A ",",",",0,\n            ",",",",\n            ",","," Z"])),m.x,m.y,r,r,+(Math.abs(o)>180),+(s<=l),h.x,h.y)}else u+=lv(EP||(EP=UP(["L ",","," Z"])),t,n);return u},qP={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},YP=e=>{var t=Av(e,qP),{cx:n,cy:r,innerRadius:a,outerRadius:s,cornerRadius:i,forceCornerRadius:o,cornerIsExternal:l,startAngle:c,endAngle:d,className:u}=t;if(s<a||c===d)return null;var h,m=Yt("recharts-sector",u),p=s-a,f=gv(i,p,0,!0);return h=f>0&&Math.abs(c-d)<360?(e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:a,cornerRadius:s,forceCornerRadius:i,cornerIsExternal:o,startAngle:l,endAngle:c}=e,d=cv(c-l),{circleTangency:u,lineTangency:h,theta:m}=HP({cx:t,cy:n,radius:a,angle:l,sign:d,cornerRadius:s,cornerIsExternal:o}),{circleTangency:p,lineTangency:f,theta:g}=HP({cx:t,cy:n,radius:a,angle:c,sign:-d,cornerRadius:s,cornerIsExternal:o}),x=o?Math.abs(l-c):Math.abs(l-c)-m-g;if(x<0)return i?lv(DP||(DP=UP(["M ",",","\n        a",",",",0,0,1,",",0\n        a",",",",0,0,1,",",0\n      "])),h.x,h.y,s,s,2*s,s,s,2*-s):VP({cx:t,cy:n,innerRadius:r,outerRadius:a,startAngle:l,endAngle:c});var b=lv(OP||(OP=UP(["M ",",","\n    A",",",",0,0,",",",",","\n    A",",",",0,",",",",",",","\n    A",",",",0,0,",",",",","\n  "])),h.x,h.y,s,s,+(d<0),u.x,u.y,a,a,+(x>180),+(d<0),p.x,p.y,s,s,+(d<0),f.x,f.y);if(r>0){var{circleTangency:v,lineTangency:y,theta:w}=HP({cx:t,cy:n,radius:r,angle:l,sign:d,isExternal:!0,cornerRadius:s,cornerIsExternal:o}),{circleTangency:j,lineTangency:N,theta:k}=HP({cx:t,cy:n,radius:r,angle:c,sign:-d,isExternal:!0,cornerRadius:s,cornerIsExternal:o}),S=o?Math.abs(l-c):Math.abs(l-c)-w-k;if(S<0&&0===s)return"".concat(b,"L").concat(t,",").concat(n,"Z");b+=lv(TP||(TP=UP(["L",",","\n      A",",",",0,0,",",",",","\n      A",",",",0,",",",",",",","\n      A",",",",0,0,",",",",","Z"])),N.x,N.y,s,s,+(d<0),j.x,j.y,r,r,+(S>180),+(d>0),v.x,v.y,s,s,+(d<0),y.x,y.y)}else b+=lv(MP||(MP=UP(["L",",","Z"])),t,n);return b})({cx:n,cy:r,innerRadius:a,outerRadius:s,cornerRadius:Math.min(f,p/2),forceCornerRadius:o,cornerIsExternal:l,startAngle:c,endAngle:d}):VP({cx:n,cy:r,innerRadius:a,outerRadius:s,startAngle:c,endAngle:d}),kt.createElement("path",WP({},_x(t),{className:m,d:h}))};function GP(e,t,n){if("horizontal"===e)return[{x:t.x,y:n.top},{x:t.x,y:n.top+n.height}];if("vertical"===e)return[{x:n.left,y:t.y},{x:n.left+n.width,y:t.y}];if(Ov(t)){if("centric"===e){var{cx:r,cy:a,innerRadius:s,outerRadius:i,angle:o}=t,l=RP(r,a,s,o),c=RP(r,a,i,o);return[{x:l.x,y:l.y},{x:c.x,y:c.y}]}return $P(t)}}var KP,XP,QP,JP,ZP,eE={},tE={},nE={};function rE(){return KP||(KP=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Kw();e.toNumber=function(e){return t.isSymbol(e)?NaN:Number(e)}}(nE)),nE}function aE(){return XP||(XP=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=rE();e.toFinite=function(e){if(!e)return 0===e?e:0;if((e=t.toNumber(e))===1/0||e===-1/0){return(e<0?-1:1)*Number.MAX_VALUE}return e==e?e:0}}(tE)),tE}function sE(){return ZP?JP:(ZP=1,JP=(QP||(QP=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=ij(),n=aE();e.range=function(e,r,a){a&&"number"!=typeof a&&t.isIterateeCall(e,r,a)&&(r=a=void 0),e=n.toFinite(e),void 0===r?(r=e,e=0):r=n.toFinite(r),a=void 0===a?e<r?1:-1:n.toFinite(a);const s=Math.max(Math.ceil((r-e)/(a||1)),0),i=new Array(s);for(let t=0;t<s;t++)i[t]=e,e+=a;return i}}(eE)),eE).range)}const iE=Nt(sE());function oE(e,t){return null==e||null==t?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function lE(e,t){return null==e||null==t?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function cE(e){let t,n,r;function a(e,r,a=0,s=e.length){if(a<s){if(0!==t(r,r))return s;do{const t=a+s>>>1;n(e[t],r)<0?a=t+1:s=t}while(a<s)}return a}return 2!==e.length?(t=oE,n=(t,n)=>oE(e(t),n),r=(t,n)=>e(t)-n):(t=e===oE||e===lE?e:dE,n=e,r=e),{left:a,center:function(e,t,n=0,s=e.length){const i=a(e,t,n,s-1);return i>n&&r(e[i-1],t)>-r(e[i],t)?i-1:i},right:function(e,r,a=0,s=e.length){if(a<s){if(0!==t(r,r))return s;do{const t=a+s>>>1;n(e[t],r)<=0?a=t+1:s=t}while(a<s)}return a}}}function dE(){return 0}function uE(e){return null===e?NaN:+e}const hE=cE(oE).right;cE(uE).center;class mE extends Map{constructor(e,t=fE){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:t}}),null!=e)for(const[n,r]of e)this.set(n,r)}get(e){return super.get(pE(this,e))}has(e){return super.has(pE(this,e))}set(e,t){return super.set(function({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}(this,e),t)}delete(e){return super.delete(function({_intern:e,_key:t},n){const r=t(n);e.has(r)&&(n=e.get(r),e.delete(r));return n}(this,e))}}function pE({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function fE(e){return null!==e&&"object"==typeof e?e.valueOf():e}function gE(e,t){return(null==e||!(e>=e))-(null==t||!(t>=t))||(e<t?-1:e>t?1:0)}const xE=Math.sqrt(50),bE=Math.sqrt(10),vE=Math.sqrt(2);function yE(e,t,n){const r=(t-e)/Math.max(0,n),a=Math.floor(Math.log10(r)),s=r/Math.pow(10,a),i=s>=xE?10:s>=bE?5:s>=vE?2:1;let o,l,c;return a<0?(c=Math.pow(10,-a)/i,o=Math.round(e*c),l=Math.round(t*c),o/c<e&&++o,l/c>t&&--l,c=-c):(c=Math.pow(10,a)*i,o=Math.round(e/c),l=Math.round(t/c),o*c<e&&++o,l*c>t&&--l),l<o&&.5<=n&&n<2?yE(e,t,2*n):[o,l,c]}function wE(e,t,n){if(!((n=+n)>0))return[];if((e=+e)===(t=+t))return[e];const r=t<e,[a,s,i]=r?yE(t,e,n):yE(e,t,n);if(!(s>=a))return[];const o=s-a+1,l=new Array(o);if(r)if(i<0)for(let c=0;c<o;++c)l[c]=(s-c)/-i;else for(let c=0;c<o;++c)l[c]=(s-c)*i;else if(i<0)for(let c=0;c<o;++c)l[c]=(a+c)/-i;else for(let c=0;c<o;++c)l[c]=(a+c)*i;return l}function jE(e,t,n){return yE(e=+e,t=+t,n=+n)[2]}function NE(e,t,n){n=+n;const r=(t=+t)<(e=+e),a=r?jE(t,e,n):jE(e,t,n);return(r?-1:1)*(a<0?1/-a:a)}function kE(e,t){let n;for(const r of e)null!=r&&(n<r||void 0===n&&r>=r)&&(n=r);return n}function SE(e,t){let n;for(const r of e)null!=r&&(n>r||void 0===n&&r>=r)&&(n=r);return n}function CE(e,t,n=0,r=1/0,a){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(a=void 0===a?gE:function(e=oE){if(e===oE)return gE;if("function"!=typeof e)throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||0===r?r:(0===e(n,n))-(0===e(t,t))}}(a);r>n;){if(r-n>600){const s=r-n+1,i=t-n+1,o=Math.log(s),l=.5*Math.exp(2*o/3),c=.5*Math.sqrt(o*l*(s-l)/s)*(i-s/2<0?-1:1);CE(e,t,Math.max(n,Math.floor(t-i*l/s+c)),Math.min(r,Math.floor(t+(s-i)*l/s+c)),a)}const s=e[t];let i=n,o=r;for(_E(e,n,t),a(e[r],s)>0&&_E(e,n,r);i<o;){for(_E(e,i,o),++i,--o;a(e[i],s)<0;)++i;for(;a(e[o],s)>0;)--o}0===a(e[n],s)?_E(e,n,o):(++o,_E(e,o,r)),o<=t&&(n=o+1),t<=o&&(r=o-1)}return e}function _E(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function PE(e,t,n=uE){if((r=e.length)&&!isNaN(t=+t)){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,a=(r-1)*t,s=Math.floor(a),i=+n(e[s],s,e);return i+(+n(e[s+1],s+1,e)-i)*(a-s)}}function EE(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e)}return this}function DE(e,t){switch(arguments.length){case 0:break;case 1:"function"==typeof e?this.interpolator(e):this.range(e);break;default:this.domain(e),"function"==typeof t?this.interpolator(t):this.range(t)}return this}const OE=Symbol("implicit");function TE(){var e=new mE,t=[],n=[],r=OE;function a(a){let s=e.get(a);if(void 0===s){if(r!==OE)return r;e.set(a,s=t.push(a)-1)}return n[s%n.length]}return a.domain=function(n){if(!arguments.length)return t.slice();t=[],e=new mE;for(const r of n)e.has(r)||e.set(r,t.push(r)-1);return a},a.range=function(e){return arguments.length?(n=Array.from(e),a):n.slice()},a.unknown=function(e){return arguments.length?(r=e,a):r},a.copy=function(){return TE(t,n).unknown(r)},EE.apply(a,arguments),a}function ME(){var e,t,n=TE().unknown(void 0),r=n.domain,a=n.range,s=0,i=1,o=!1,l=0,c=0,d=.5;function u(){var n=r().length,u=i<s,h=u?i:s,m=u?s:i;e=(m-h)/Math.max(1,n-l+2*c),o&&(e=Math.floor(e)),h+=(m-h-e*(n-l))*d,t=e*(1-l),o&&(h=Math.round(h),t=Math.round(t));var p=function(e,t,n){e=+e,t=+t,n=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+n;for(var r=-1,a=0|Math.max(0,Math.ceil((t-e)/n)),s=new Array(a);++r<a;)s[r]=e+r*n;return s}(n).map(function(t){return h+e*t});return a(u?p.reverse():p)}return delete n.unknown,n.domain=function(e){return arguments.length?(r(e),u()):r()},n.range=function(e){return arguments.length?([s,i]=e,s=+s,i=+i,u()):[s,i]},n.rangeRound=function(e){return[s,i]=e,s=+s,i=+i,o=!0,u()},n.bandwidth=function(){return t},n.step=function(){return e},n.round=function(e){return arguments.length?(o=!!e,u()):o},n.padding=function(e){return arguments.length?(l=Math.min(1,c=+e),u()):l},n.paddingInner=function(e){return arguments.length?(l=Math.min(1,e),u()):l},n.paddingOuter=function(e){return arguments.length?(c=+e,u()):c},n.align=function(e){return arguments.length?(d=Math.max(0,Math.min(1,e)),u()):d},n.copy=function(){return ME(r(),[s,i]).round(o).paddingInner(l).paddingOuter(c).align(d)},EE.apply(u(),arguments)}function AE(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return AE(t())},e}function zE(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function RE(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function IE(){}var FE=.7,LE=1/FE,BE="\\s*([+-]?\\d+)\\s*",$E="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",WE="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",UE=/^#([0-9a-f]{3,8})$/,HE=new RegExp(`^rgb\\(${BE},${BE},${BE}\\)$`),VE=new RegExp(`^rgb\\(${WE},${WE},${WE}\\)$`),qE=new RegExp(`^rgba\\(${BE},${BE},${BE},${$E}\\)$`),YE=new RegExp(`^rgba\\(${WE},${WE},${WE},${$E}\\)$`),GE=new RegExp(`^hsl\\(${$E},${WE},${WE}\\)$`),KE=new RegExp(`^hsla\\(${$E},${WE},${WE},${$E}\\)$`),XE={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function QE(){return this.rgb().formatHex()}function JE(){return this.rgb().formatRgb()}function ZE(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=UE.exec(e))?(n=t[1].length,t=parseInt(t[1],16),6===n?eD(t):3===n?new rD(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===n?tD(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===n?tD(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=HE.exec(e))?new rD(t[1],t[2],t[3],1):(t=VE.exec(e))?new rD(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=qE.exec(e))?tD(t[1],t[2],t[3],t[4]):(t=YE.exec(e))?tD(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=GE.exec(e))?cD(t[1],t[2]/100,t[3]/100,1):(t=KE.exec(e))?cD(t[1],t[2]/100,t[3]/100,t[4]):XE.hasOwnProperty(e)?eD(XE[e]):"transparent"===e?new rD(NaN,NaN,NaN,0):null}function eD(e){return new rD(e>>16&255,e>>8&255,255&e,1)}function tD(e,t,n,r){return r<=0&&(e=t=n=NaN),new rD(e,t,n,r)}function nD(e,t,n,r){return 1===arguments.length?((a=e)instanceof IE||(a=ZE(a)),a?new rD((a=a.rgb()).r,a.g,a.b,a.opacity):new rD):new rD(e,t,n,null==r?1:r);var a}function rD(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}function aD(){return`#${lD(this.r)}${lD(this.g)}${lD(this.b)}`}function sD(){const e=iD(this.opacity);return`${1===e?"rgb(":"rgba("}${oD(this.r)}, ${oD(this.g)}, ${oD(this.b)}${1===e?")":`, ${e})`}`}function iD(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function oD(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function lD(e){return((e=oD(e))<16?"0":"")+e.toString(16)}function cD(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new uD(e,t,n,r)}function dD(e){if(e instanceof uD)return new uD(e.h,e.s,e.l,e.opacity);if(e instanceof IE||(e=ZE(e)),!e)return new uD;if(e instanceof uD)return e;var t=(e=e.rgb()).r/255,n=e.g/255,r=e.b/255,a=Math.min(t,n,r),s=Math.max(t,n,r),i=NaN,o=s-a,l=(s+a)/2;return o?(i=t===s?(n-r)/o+6*(n<r):n===s?(r-t)/o+2:(t-n)/o+4,o/=l<.5?s+a:2-s-a,i*=60):o=l>0&&l<1?0:i,new uD(i,o,l,e.opacity)}function uD(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}function hD(e){return(e=(e||0)%360)<0?e+360:e}function mD(e){return Math.max(0,Math.min(1,e||0))}function pD(e,t,n){return 255*(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)}zE(IE,ZE,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:QE,formatHex:QE,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return dD(this).formatHsl()},formatRgb:JE,toString:JE}),zE(rD,nD,RE(IE,{brighter(e){return e=null==e?LE:Math.pow(LE,e),new rD(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=null==e?FE:Math.pow(FE,e),new rD(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new rD(oD(this.r),oD(this.g),oD(this.b),iD(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:aD,formatHex:aD,formatHex8:function(){return`#${lD(this.r)}${lD(this.g)}${lD(this.b)}${lD(255*(isNaN(this.opacity)?1:this.opacity))}`},formatRgb:sD,toString:sD})),zE(uD,function(e,t,n,r){return 1===arguments.length?dD(e):new uD(e,t,n,null==r?1:r)},RE(IE,{brighter(e){return e=null==e?LE:Math.pow(LE,e),new uD(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=null==e?FE:Math.pow(FE,e),new uD(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,a=2*n-r;return new rD(pD(e>=240?e-240:e+120,a,r),pD(e,a,r),pD(e<120?e+240:e-120,a,r),this.opacity)},clamp(){return new uD(hD(this.h),mD(this.s),mD(this.l),iD(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=iD(this.opacity);return`${1===e?"hsl(":"hsla("}${hD(this.h)}, ${100*mD(this.s)}%, ${100*mD(this.l)}%${1===e?")":`, ${e})`}`}}));const fD=e=>()=>e;function gD(e){return 1===(e=+e)?xD:function(t,n){return n-t?function(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}(t,n,e):fD(isNaN(t)?n:t)}}function xD(e,t){var n=t-e;return n?function(e,t){return function(n){return e+n*t}}(e,n):fD(isNaN(e)?t:e)}const bD=function e(t){var n=gD(t);function r(e,t){var r=n((e=nD(e)).r,(t=nD(t)).r),a=n(e.g,t.g),s=n(e.b,t.b),i=xD(e.opacity,t.opacity);return function(t){return e.r=r(t),e.g=a(t),e.b=s(t),e.opacity=i(t),e+""}}return r.gamma=e,r}(1);function vD(e,t){t||(t=[]);var n,r=e?Math.min(t.length,e.length):0,a=t.slice();return function(s){for(n=0;n<r;++n)a[n]=e[n]*(1-s)+t[n]*s;return a}}function yD(e,t){var n,r=t?t.length:0,a=e?Math.min(r,e.length):0,s=new Array(a),i=new Array(r);for(n=0;n<a;++n)s[n]=_D(e[n],t[n]);for(;n<r;++n)i[n]=t[n];return function(e){for(n=0;n<a;++n)i[n]=s[n](e);return i}}function wD(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function jD(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function ND(e,t){var n,r={},a={};for(n in null!==e&&"object"==typeof e||(e={}),null!==t&&"object"==typeof t||(t={}),t)n in e?r[n]=_D(e[n],t[n]):a[n]=t[n];return function(e){for(n in r)a[n]=r[n](e);return a}}var kD=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,SD=new RegExp(kD.source,"g");function CD(e,t){var n,r,a,s=kD.lastIndex=SD.lastIndex=0,i=-1,o=[],l=[];for(e+="",t+="";(n=kD.exec(e))&&(r=SD.exec(t));)(a=r.index)>s&&(a=t.slice(s,a),o[i]?o[i]+=a:o[++i]=a),(n=n[0])===(r=r[0])?o[i]?o[i]+=r:o[++i]=r:(o[++i]=null,l.push({i:i,x:jD(n,r)})),s=SD.lastIndex;return s<t.length&&(a=t.slice(s),o[i]?o[i]+=a:o[++i]=a),o.length<2?l[0]?function(e){return function(t){return e(t)+""}}(l[0].x):function(e){return function(){return e}}(t):(t=l.length,function(e){for(var n,r=0;r<t;++r)o[(n=l[r]).i]=n.x(e);return o.join("")})}function _D(e,t){var n,r,a=typeof t;return null==t||"boolean"===a?fD(t):("number"===a?jD:"string"===a?(n=ZE(t))?(t=n,bD):CD:t instanceof ZE?bD:t instanceof Date?wD:(r=t,!ArrayBuffer.isView(r)||r instanceof DataView?Array.isArray(t)?yD:"function"!=typeof t.valueOf&&"function"!=typeof t.toString||isNaN(t)?ND:jD:vD))(e,t)}function PD(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function ED(e){return+e}var DD=[0,1];function OD(e){return e}function TD(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:(n=isNaN(t)?NaN:.5,function(){return n});var n}function MD(e,t,n){var r=e[0],a=e[1],s=t[0],i=t[1];return a<r?(r=TD(a,r),s=n(i,s)):(r=TD(r,a),s=n(s,i)),function(e){return s(r(e))}}function AD(e,t,n){var r=Math.min(e.length,t.length)-1,a=new Array(r),s=new Array(r),i=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++i<r;)a[i]=TD(e[i],e[i+1]),s[i]=n(t[i],t[i+1]);return function(t){var n=hE(e,t,1,r)-1;return s[n](a[n](t))}}function zD(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function RD(){var e,t,n,r,a,s,i=DD,o=DD,l=_D,c=OD;function d(){var e,t,n,l=Math.min(i.length,o.length);return c!==OD&&(e=i[0],t=i[l-1],e>t&&(n=e,e=t,t=n),c=function(n){return Math.max(e,Math.min(t,n))}),r=l>2?AD:MD,a=s=null,u}function u(t){return null==t||isNaN(t=+t)?n:(a||(a=r(i.map(e),o,l)))(e(c(t)))}return u.invert=function(n){return c(t((s||(s=r(o,i.map(e),jD)))(n)))},u.domain=function(e){return arguments.length?(i=Array.from(e,ED),d()):i.slice()},u.range=function(e){return arguments.length?(o=Array.from(e),d()):o.slice()},u.rangeRound=function(e){return o=Array.from(e),l=PD,d()},u.clamp=function(e){return arguments.length?(c=!!e||OD,d()):c!==OD},u.interpolate=function(e){return arguments.length?(l=e,d()):l},u.unknown=function(e){return arguments.length?(n=e,u):n},function(n,r){return e=n,t=r,d()}}function ID(){return RD()(OD,OD)}function FD(e,t){if(!isFinite(e)||0===e)return null;var n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"),r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function LD(e){return(e=FD(Math.abs(e)))?e[1]:NaN}var BD,$D=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function WD(e){if(!(t=$D.exec(e)))throw new Error("invalid format: "+e);var t;return new UD({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}function UD(e){this.fill=void 0===e.fill?" ":e.fill+"",this.align=void 0===e.align?">":e.align+"",this.sign=void 0===e.sign?"-":e.sign+"",this.symbol=void 0===e.symbol?"":e.symbol+"",this.zero=!!e.zero,this.width=void 0===e.width?void 0:+e.width,this.comma=!!e.comma,this.precision=void 0===e.precision?void 0:+e.precision,this.trim=!!e.trim,this.type=void 0===e.type?"":e.type+""}function HD(e,t){var n=FD(e,t);if(!n)return e+"";var r=n[0],a=n[1];return a<0?"0."+new Array(-a).join("0")+r:r.length>a+1?r.slice(0,a+1)+"."+r.slice(a+1):r+new Array(a-r.length+2).join("0")}WD.prototype=UD.prototype,UD.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};const VD={"%":(e,t)=>(100*e).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:function(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)},e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>HD(100*e,t),r:HD,s:function(e,t){var n=FD(e,t);if(!n)return BD=void 0,e.toPrecision(t);var r=n[0],a=n[1],s=a-(BD=3*Math.max(-8,Math.min(8,Math.floor(a/3))))+1,i=r.length;return s===i?r:s>i?r+new Array(s-i+1).join("0"):s>0?r.slice(0,s)+"."+r.slice(s):"0."+new Array(1-s).join("0")+FD(e,Math.max(0,t+s-1))[0]},X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function qD(e){return e}var YD,GD,KD,XD=Array.prototype.map,QD=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function JD(e){var t,n,r=void 0===e.grouping||void 0===e.thousands?qD:(t=XD.call(e.grouping,Number),n=e.thousands+"",function(e,r){for(var a=e.length,s=[],i=0,o=t[0],l=0;a>0&&o>0&&(l+o+1>r&&(o=Math.max(1,r-l)),s.push(e.substring(a-=o,a+o)),!((l+=o+1)>r));)o=t[i=(i+1)%t.length];return s.reverse().join(n)}),a=void 0===e.currency?"":e.currency[0]+"",s=void 0===e.currency?"":e.currency[1]+"",i=void 0===e.decimal?".":e.decimal+"",o=void 0===e.numerals?qD:function(e){return function(t){return t.replace(/[0-9]/g,function(t){return e[+t]})}}(XD.call(e.numerals,String)),l=void 0===e.percent?"%":e.percent+"",c=void 0===e.minus?"":e.minus+"",d=void 0===e.nan?"NaN":e.nan+"";function u(e,t){var n=(e=WD(e)).fill,u=e.align,h=e.sign,m=e.symbol,p=e.zero,f=e.width,g=e.comma,x=e.precision,b=e.trim,v=e.type;"n"===v?(g=!0,v="g"):VD[v]||(void 0===x&&(x=12),b=!0,v="g"),(p||"0"===n&&"="===u)&&(p=!0,n="0",u="=");var y=(t&&void 0!==t.prefix?t.prefix:"")+("$"===m?a:"#"===m&&/[boxX]/.test(v)?"0"+v.toLowerCase():""),w=("$"===m?s:/[%p]/.test(v)?l:"")+(t&&void 0!==t.suffix?t.suffix:""),j=VD[v],N=/[defgprs%]/.test(v);function k(e){var t,a,s,l=y,m=w;if("c"===v)m=j(e)+m,e="";else{var k=(e=+e)<0||1/e<0;if(e=isNaN(e)?d:j(Math.abs(e),x),b&&(e=function(e){e:for(var t,n=e.length,r=1,a=-1;r<n;++r)switch(e[r]){case".":a=t=r;break;case"0":0===a&&(a=r),t=r;break;default:if(!+e[r])break e;a>0&&(a=0)}return a>0?e.slice(0,a)+e.slice(t+1):e}(e)),k&&0===+e&&"+"!==h&&(k=!1),l=(k?"("===h?h:c:"-"===h||"("===h?"":h)+l,m=("s"!==v||isNaN(e)||void 0===BD?"":QD[8+BD/3])+m+(k&&"("===h?")":""),N)for(t=-1,a=e.length;++t<a;)if(48>(s=e.charCodeAt(t))||s>57){m=(46===s?i+e.slice(t+1):e.slice(t))+m,e=e.slice(0,t);break}}g&&!p&&(e=r(e,1/0));var S=l.length+e.length+m.length,C=S<f?new Array(f-S+1).join(n):"";switch(g&&p&&(e=r(C+e,C.length?f-m.length:1/0),C=""),u){case"<":e=l+e+m+C;break;case"=":e=l+C+e+m;break;case"^":e=C.slice(0,S=C.length>>1)+l+e+m+C.slice(S);break;default:e=C+l+e+m}return o(e)}return x=void 0===x?6:/[gprs]/.test(v)?Math.max(1,Math.min(21,x)):Math.max(0,Math.min(20,x)),k.toString=function(){return e+""},k}return{format:u,formatPrefix:function(e,t){var n=3*Math.max(-8,Math.min(8,Math.floor(LD(t)/3))),r=Math.pow(10,-n),a=u(((e=WD(e)).type="f",e),{suffix:QD[8+n/3]});return function(e){return a(r*e)}}}}function ZD(e,t,n,r){var a,s=NE(e,t,n);switch((r=WD(null==r?",f":r)).type){case"s":var i=Math.max(Math.abs(e),Math.abs(t));return null!=r.precision||isNaN(a=function(e,t){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(LD(t)/3)))-LD(Math.abs(e)))}(s,i))||(r.precision=a),KD(r,i);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(a=function(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,LD(t)-LD(e))+1}(s,Math.max(Math.abs(e),Math.abs(t))))||(r.precision=a-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(a=function(e){return Math.max(0,-LD(Math.abs(e)))}(s))||(r.precision=a-2*("%"===r.type))}return GD(r)}function eO(e){var t=e.domain;return e.ticks=function(e){var n=t();return wE(n[0],n[n.length-1],null==e?10:e)},e.tickFormat=function(e,n){var r=t();return ZD(r[0],r[r.length-1],null==e?10:e,n)},e.nice=function(n){null==n&&(n=10);var r,a,s=t(),i=0,o=s.length-1,l=s[i],c=s[o],d=10;for(c<l&&(a=l,l=c,c=a,a=i,i=o,o=a);d-- >0;){if((a=jE(l,c,n))===r)return s[i]=l,s[o]=c,t(s);if(a>0)l=Math.floor(l/a)*a,c=Math.ceil(c/a)*a;else{if(!(a<0))break;l=Math.ceil(l*a)/a,c=Math.floor(c*a)/a}r=a}return e},e}function tO(e,t){var n,r=0,a=(e=e.slice()).length-1,s=e[r],i=e[a];return i<s&&(n=r,r=a,a=n,n=s,s=i,i=n),e[r]=t.floor(s),e[a]=t.ceil(i),e}function nO(e){return Math.log(e)}function rO(e){return Math.exp(e)}function aO(e){return-Math.log(-e)}function sO(e){return-Math.exp(-e)}function iO(e){return isFinite(e)?+("1e"+e):e<0?0:e}function oO(e){return(t,n)=>-e(-t,n)}function lO(e){const t=e(nO,rO),n=t.domain;let r,a,s=10;function i(){return r=function(e){return e===Math.E?Math.log:10===e&&Math.log10||2===e&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}(s),a=function(e){return 10===e?iO:e===Math.E?Math.exp:t=>Math.pow(e,t)}(s),n()[0]<0?(r=oO(r),a=oO(a),e(aO,sO)):e(nO,rO),t}return t.base=function(e){return arguments.length?(s=+e,i()):s},t.domain=function(e){return arguments.length?(n(e),i()):n()},t.ticks=e=>{const t=n();let i=t[0],o=t[t.length-1];const l=o<i;l&&([i,o]=[o,i]);let c,d,u=r(i),h=r(o);const m=null==e?10:+e;let p=[];if(!(s%1)&&h-u<m){if(u=Math.floor(u),h=Math.ceil(h),i>0){for(;u<=h;++u)for(c=1;c<s;++c)if(d=u<0?c/a(-u):c*a(u),!(d<i)){if(d>o)break;p.push(d)}}else for(;u<=h;++u)for(c=s-1;c>=1;--c)if(d=u>0?c/a(-u):c*a(u),!(d<i)){if(d>o)break;p.push(d)}2*p.length<m&&(p=wE(i,o,m))}else p=wE(u,h,Math.min(h-u,m)).map(a);return l?p.reverse():p},t.tickFormat=(e,n)=>{if(null==e&&(e=10),null==n&&(n=10===s?"s":","),"function"!=typeof n&&(s%1||null!=(n=WD(n)).precision||(n.trim=!0),n=GD(n)),e===1/0)return n;const i=Math.max(1,s*e/t.ticks().length);return e=>{let t=e/a(Math.round(r(e)));return t*s<s-.5&&(t*=s),t<=i?n(e):""}},t.nice=()=>n(tO(n(),{floor:e=>a(Math.floor(r(e))),ceil:e=>a(Math.ceil(r(e)))})),t}function cO(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function dO(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function uO(e){var t=1,n=e(cO(t),dO(t));return n.constant=function(n){return arguments.length?e(cO(t=+n),dO(t)):t},eO(n)}function hO(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function mO(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function pO(e){return e<0?-e*e:e*e}function fO(e){var t=e(OD,OD),n=1;return t.exponent=function(t){return arguments.length?1===(n=+t)?e(OD,OD):.5===n?e(mO,pO):e(hO(n),hO(1/n)):n},eO(t)}function gO(){var e=fO(RD());return e.copy=function(){return zD(e,gO()).exponent(e.exponent())},EE.apply(e,arguments),e}function xO(e){return Math.sign(e)*e*e}YD=JD({thousands:",",grouping:[3],currency:["$",""]}),GD=YD.format,KD=YD.formatPrefix;const bO=new Date,vO=new Date;function yO(e,t,n,r){function a(t){return e(t=0===arguments.length?new Date:new Date(+t)),t}return a.floor=t=>(e(t=new Date(+t)),t),a.ceil=n=>(e(n=new Date(n-1)),t(n,1),e(n),n),a.round=e=>{const t=a(e),n=a.ceil(e);return e-t<n-e?t:n},a.offset=(e,n)=>(t(e=new Date(+e),null==n?1:Math.floor(n)),e),a.range=(n,r,s)=>{const i=[];if(n=a.ceil(n),s=null==s?1:Math.floor(s),!(n<r&&s>0))return i;let o;do{i.push(o=new Date(+n)),t(n,s),e(n)}while(o<n&&n<r);return i},a.filter=n=>yO(t=>{if(t>=t)for(;e(t),!n(t);)t.setTime(t-1)},(e,r)=>{if(e>=e)if(r<0)for(;++r<=0;)for(;t(e,-1),!n(e););else for(;--r>=0;)for(;t(e,1),!n(e););}),n&&(a.count=(t,r)=>(bO.setTime(+t),vO.setTime(+r),e(bO),e(vO),Math.floor(n(bO,vO))),a.every=e=>(e=Math.floor(e),isFinite(e)&&e>0?e>1?a.filter(r?t=>r(t)%e===0:t=>a.count(0,t)%e===0):a:null)),a}const wO=yO(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);wO.every=e=>(e=Math.floor(e),isFinite(e)&&e>0?e>1?yO(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):wO:null),wO.range;const jO=1e3,NO=6e4,kO=36e5,SO=864e5,CO=6048e5,_O=2592e6,PO=31536e6,EO=yO(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*jO)},(e,t)=>(t-e)/jO,e=>e.getUTCSeconds());EO.range;const DO=yO(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*jO)},(e,t)=>{e.setTime(+e+t*NO)},(e,t)=>(t-e)/NO,e=>e.getMinutes());DO.range;const OO=yO(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*NO)},(e,t)=>(t-e)/NO,e=>e.getUTCMinutes());OO.range;const TO=yO(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*jO-e.getMinutes()*NO)},(e,t)=>{e.setTime(+e+t*kO)},(e,t)=>(t-e)/kO,e=>e.getHours());TO.range;const MO=yO(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*kO)},(e,t)=>(t-e)/kO,e=>e.getUTCHours());MO.range;const AO=yO(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*NO)/SO,e=>e.getDate()-1);AO.range;const zO=yO(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/SO,e=>e.getUTCDate()-1);zO.range;const RO=yO(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/SO,e=>Math.floor(e/SO));function IO(e){return yO(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(e,t)=>{e.setDate(e.getDate()+7*t)},(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*NO)/CO)}RO.range;const FO=IO(0),LO=IO(1),BO=IO(2),$O=IO(3),WO=IO(4),UO=IO(5),HO=IO(6);function VO(e){return yO(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+7*t)},(e,t)=>(t-e)/CO)}FO.range,LO.range,BO.range,$O.range,WO.range,UO.range,HO.range;const qO=VO(0),YO=VO(1),GO=VO(2),KO=VO(3),XO=VO(4),QO=VO(5),JO=VO(6);qO.range,YO.range,GO.range,KO.range,XO.range,QO.range,JO.range;const ZO=yO(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+12*(t.getFullYear()-e.getFullYear()),e=>e.getMonth());ZO.range;const eT=yO(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+12*(t.getUTCFullYear()-e.getUTCFullYear()),e=>e.getUTCMonth());eT.range;const tT=yO(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());tT.every=e=>isFinite(e=Math.floor(e))&&e>0?yO(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)}):null,tT.range;const nT=yO(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());function rT(e,t,n,r,a,s){const i=[[EO,1,jO],[EO,5,5e3],[EO,15,15e3],[EO,30,3e4],[s,1,NO],[s,5,3e5],[s,15,9e5],[s,30,18e5],[a,1,kO],[a,3,108e5],[a,6,216e5],[a,12,432e5],[r,1,SO],[r,2,1728e5],[n,1,CO],[t,1,_O],[t,3,7776e6],[e,1,PO]];function o(t,n,r){const a=Math.abs(n-t)/r,s=cE(([,,e])=>e).right(i,a);if(s===i.length)return e.every(NE(t/PO,n/PO,r));if(0===s)return wO.every(Math.max(NE(t,n,r),1));const[o,l]=i[a/i[s-1][2]<i[s][2]/a?s-1:s];return o.every(l)}return[function(e,t,n){const r=t<e;r&&([e,t]=[t,e]);const a=n&&"function"==typeof n.range?n:o(e,t,n),s=a?a.range(e,+t+1):[];return r?s.reverse():s},o]}nT.every=e=>isFinite(e=Math.floor(e))&&e>0?yO(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)}):null,nT.range;const[aT,sT]=rT(nT,eT,qO,RO,MO,OO),[iT,oT]=rT(tT,ZO,FO,AO,TO,DO);function lT(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function cT(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function dT(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}var uT,hT,mT,pT={"-":"",_:" ",0:"0"},fT=/^\s*\d+/,gT=/^%/,xT=/[\\^$*+?|[\]().{}]/g;function bT(e,t,n){var r=e<0?"-":"",a=(r?-e:e)+"",s=a.length;return r+(s<n?new Array(n-s+1).join(t)+a:a)}function vT(e){return e.replace(xT,"\\$&")}function yT(e){return new RegExp("^(?:"+e.map(vT).join("|")+")","i")}function wT(e){return new Map(e.map((e,t)=>[e.toLowerCase(),t]))}function jT(e,t,n){var r=fT.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function NT(e,t,n){var r=fT.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function kT(e,t,n){var r=fT.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function ST(e,t,n){var r=fT.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function CT(e,t,n){var r=fT.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function _T(e,t,n){var r=fT.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function PT(e,t,n){var r=fT.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function ET(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function DT(e,t,n){var r=fT.exec(t.slice(n,n+1));return r?(e.q=3*r[0]-3,n+r[0].length):-1}function OT(e,t,n){var r=fT.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function TT(e,t,n){var r=fT.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function MT(e,t,n){var r=fT.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function AT(e,t,n){var r=fT.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function zT(e,t,n){var r=fT.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function RT(e,t,n){var r=fT.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function IT(e,t,n){var r=fT.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function FT(e,t,n){var r=fT.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function LT(e,t,n){var r=gT.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function BT(e,t,n){var r=fT.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function $T(e,t,n){var r=fT.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function WT(e,t){return bT(e.getDate(),t,2)}function UT(e,t){return bT(e.getHours(),t,2)}function HT(e,t){return bT(e.getHours()%12||12,t,2)}function VT(e,t){return bT(1+AO.count(tT(e),e),t,3)}function qT(e,t){return bT(e.getMilliseconds(),t,3)}function YT(e,t){return qT(e,t)+"000"}function GT(e,t){return bT(e.getMonth()+1,t,2)}function KT(e,t){return bT(e.getMinutes(),t,2)}function XT(e,t){return bT(e.getSeconds(),t,2)}function QT(e){var t=e.getDay();return 0===t?7:t}function JT(e,t){return bT(FO.count(tT(e)-1,e),t,2)}function ZT(e){var t=e.getDay();return t>=4||0===t?WO(e):WO.ceil(e)}function eM(e,t){return e=ZT(e),bT(WO.count(tT(e),e)+(4===tT(e).getDay()),t,2)}function tM(e){return e.getDay()}function nM(e,t){return bT(LO.count(tT(e)-1,e),t,2)}function rM(e,t){return bT(e.getFullYear()%100,t,2)}function aM(e,t){return bT((e=ZT(e)).getFullYear()%100,t,2)}function sM(e,t){return bT(e.getFullYear()%1e4,t,4)}function iM(e,t){var n=e.getDay();return bT((e=n>=4||0===n?WO(e):WO.ceil(e)).getFullYear()%1e4,t,4)}function oM(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+bT(t/60|0,"0",2)+bT(t%60,"0",2)}function lM(e,t){return bT(e.getUTCDate(),t,2)}function cM(e,t){return bT(e.getUTCHours(),t,2)}function dM(e,t){return bT(e.getUTCHours()%12||12,t,2)}function uM(e,t){return bT(1+zO.count(nT(e),e),t,3)}function hM(e,t){return bT(e.getUTCMilliseconds(),t,3)}function mM(e,t){return hM(e,t)+"000"}function pM(e,t){return bT(e.getUTCMonth()+1,t,2)}function fM(e,t){return bT(e.getUTCMinutes(),t,2)}function gM(e,t){return bT(e.getUTCSeconds(),t,2)}function xM(e){var t=e.getUTCDay();return 0===t?7:t}function bM(e,t){return bT(qO.count(nT(e)-1,e),t,2)}function vM(e){var t=e.getUTCDay();return t>=4||0===t?XO(e):XO.ceil(e)}function yM(e,t){return e=vM(e),bT(XO.count(nT(e),e)+(4===nT(e).getUTCDay()),t,2)}function wM(e){return e.getUTCDay()}function jM(e,t){return bT(YO.count(nT(e)-1,e),t,2)}function NM(e,t){return bT(e.getUTCFullYear()%100,t,2)}function kM(e,t){return bT((e=vM(e)).getUTCFullYear()%100,t,2)}function SM(e,t){return bT(e.getUTCFullYear()%1e4,t,4)}function CM(e,t){var n=e.getUTCDay();return bT((e=n>=4||0===n?XO(e):XO.ceil(e)).getUTCFullYear()%1e4,t,4)}function _M(){return"+0000"}function PM(){return"%"}function EM(e){return+e}function DM(e){return Math.floor(+e/1e3)}function OM(e){return new Date(e)}function TM(e){return e instanceof Date?+e:+new Date(+e)}function MM(e,t,n,r,a,s,i,o,l,c){var d=ID(),u=d.invert,h=d.domain,m=c(".%L"),p=c(":%S"),f=c("%I:%M"),g=c("%I %p"),x=c("%a %d"),b=c("%b %d"),v=c("%B"),y=c("%Y");function w(e){return(l(e)<e?m:o(e)<e?p:i(e)<e?f:s(e)<e?g:r(e)<e?a(e)<e?x:b:n(e)<e?v:y)(e)}return d.invert=function(e){return new Date(u(e))},d.domain=function(e){return arguments.length?h(Array.from(e,TM)):h().map(OM)},d.ticks=function(t){var n=h();return e(n[0],n[n.length-1],null==t?10:t)},d.tickFormat=function(e,t){return null==t?w:c(t)},d.nice=function(e){var n=h();return e&&"function"==typeof e.range||(e=t(n[0],n[n.length-1],null==e?10:e)),e?h(tO(n,e)):d},d.copy=function(){return zD(d,MM(e,t,n,r,a,s,i,o,l,c))},d}function AM(){var e,t,n,r,a,s=0,i=1,o=OD,l=!1;function c(t){return null==t||isNaN(t=+t)?a:o(0===n?.5:(t=(r(t)-e)*n,l?Math.max(0,Math.min(1,t)):t))}function d(e){return function(t){var n,r;return arguments.length?([n,r]=t,o=e(n,r),c):[o(0),o(1)]}}return c.domain=function(a){return arguments.length?([s,i]=a,e=r(s=+s),t=r(i=+i),n=e===t?0:1/(t-e),c):[s,i]},c.clamp=function(e){return arguments.length?(l=!!e,c):l},c.interpolator=function(e){return arguments.length?(o=e,c):o},c.range=d(_D),c.rangeRound=d(PD),c.unknown=function(e){return arguments.length?(a=e,c):a},function(a){return r=a,e=a(s),t=a(i),n=e===t?0:1/(t-e),c}}function zM(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function RM(){var e=fO(AM());return e.copy=function(){return zM(e,RM()).exponent(e.exponent())},DE.apply(e,arguments)}function IM(){var e,t,n,r,a,s,i,o=0,l=.5,c=1,d=1,u=OD,h=!1;function m(e){return isNaN(e=+e)?i:(e=.5+((e=+s(e))-t)*(d*e<d*t?r:a),u(h?Math.max(0,Math.min(1,e)):e))}function p(e){return function(t){var n,r,a;return arguments.length?([n,r,a]=t,u=function(e,t){void 0===t&&(t=e,e=_D);for(var n=0,r=t.length-1,a=t[0],s=new Array(r<0?0:r);n<r;)s[n]=e(a,a=t[++n]);return function(e){var t=Math.max(0,Math.min(r-1,Math.floor(e*=r)));return s[t](e-t)}}(e,[n,r,a]),m):[u(0),u(.5),u(1)]}}return m.domain=function(i){return arguments.length?([o,l,c]=i,e=s(o=+o),t=s(l=+l),n=s(c=+c),r=e===t?0:.5/(t-e),a=t===n?0:.5/(n-t),d=t<e?-1:1,m):[o,l,c]},m.clamp=function(e){return arguments.length?(h=!!e,m):h},m.interpolator=function(e){return arguments.length?(u=e,m):u},m.range=p(_D),m.rangeRound=p(PD),m.unknown=function(e){return arguments.length?(i=e,m):i},function(i){return s=i,e=i(o),t=i(l),n=i(c),r=e===t?0:.5/(t-e),a=t===n?0:.5/(n-t),d=t<e?-1:1,m}}function FM(){var e=fO(IM());return e.copy=function(){return zM(e,FM()).exponent(e.exponent())},DE.apply(e,arguments)}!function(e){uT=function(e){var t=e.dateTime,n=e.date,r=e.time,a=e.periods,s=e.days,i=e.shortDays,o=e.months,l=e.shortMonths,c=yT(a),d=wT(a),u=yT(s),h=wT(s),m=yT(i),p=wT(i),f=yT(o),g=wT(o),x=yT(l),b=wT(l),v={a:function(e){return i[e.getDay()]},A:function(e){return s[e.getDay()]},b:function(e){return l[e.getMonth()]},B:function(e){return o[e.getMonth()]},c:null,d:WT,e:WT,f:YT,g:aM,G:iM,H:UT,I:HT,j:VT,L:qT,m:GT,M:KT,p:function(e){return a[+(e.getHours()>=12)]},q:function(e){return 1+~~(e.getMonth()/3)},Q:EM,s:DM,S:XT,u:QT,U:JT,V:eM,w:tM,W:nM,x:null,X:null,y:rM,Y:sM,Z:oM,"%":PM},y={a:function(e){return i[e.getUTCDay()]},A:function(e){return s[e.getUTCDay()]},b:function(e){return l[e.getUTCMonth()]},B:function(e){return o[e.getUTCMonth()]},c:null,d:lM,e:lM,f:mM,g:kM,G:CM,H:cM,I:dM,j:uM,L:hM,m:pM,M:fM,p:function(e){return a[+(e.getUTCHours()>=12)]},q:function(e){return 1+~~(e.getUTCMonth()/3)},Q:EM,s:DM,S:gM,u:xM,U:bM,V:yM,w:wM,W:jM,x:null,X:null,y:NM,Y:SM,Z:_M,"%":PM},w={a:function(e,t,n){var r=m.exec(t.slice(n));return r?(e.w=p.get(r[0].toLowerCase()),n+r[0].length):-1},A:function(e,t,n){var r=u.exec(t.slice(n));return r?(e.w=h.get(r[0].toLowerCase()),n+r[0].length):-1},b:function(e,t,n){var r=x.exec(t.slice(n));return r?(e.m=b.get(r[0].toLowerCase()),n+r[0].length):-1},B:function(e,t,n){var r=f.exec(t.slice(n));return r?(e.m=g.get(r[0].toLowerCase()),n+r[0].length):-1},c:function(e,n,r){return k(e,t,n,r)},d:TT,e:TT,f:FT,g:PT,G:_T,H:AT,I:AT,j:MT,L:IT,m:OT,M:zT,p:function(e,t,n){var r=c.exec(t.slice(n));return r?(e.p=d.get(r[0].toLowerCase()),n+r[0].length):-1},q:DT,Q:BT,s:$T,S:RT,u:NT,U:kT,V:ST,w:jT,W:CT,x:function(e,t,r){return k(e,n,t,r)},X:function(e,t,n){return k(e,r,t,n)},y:PT,Y:_T,Z:ET,"%":LT};function j(e,t){return function(n){var r,a,s,i=[],o=-1,l=0,c=e.length;for(n instanceof Date||(n=new Date(+n));++o<c;)37===e.charCodeAt(o)&&(i.push(e.slice(l,o)),null!=(a=pT[r=e.charAt(++o)])?r=e.charAt(++o):a="e"===r?" ":"0",(s=t[r])&&(r=s(n,a)),i.push(r),l=o+1);return i.push(e.slice(l,o)),i.join("")}}function N(e,t){return function(n){var r,a,s=dT(1900,void 0,1);if(k(s,e,n+="",0)!=n.length)return null;if("Q"in s)return new Date(s.Q);if("s"in s)return new Date(1e3*s.s+("L"in s?s.L:0));if(t&&!("Z"in s)&&(s.Z=0),"p"in s&&(s.H=s.H%12+12*s.p),void 0===s.m&&(s.m="q"in s?s.q:0),"V"in s){if(s.V<1||s.V>53)return null;"w"in s||(s.w=1),"Z"in s?(a=(r=cT(dT(s.y,0,1))).getUTCDay(),r=a>4||0===a?YO.ceil(r):YO(r),r=zO.offset(r,7*(s.V-1)),s.y=r.getUTCFullYear(),s.m=r.getUTCMonth(),s.d=r.getUTCDate()+(s.w+6)%7):(a=(r=lT(dT(s.y,0,1))).getDay(),r=a>4||0===a?LO.ceil(r):LO(r),r=AO.offset(r,7*(s.V-1)),s.y=r.getFullYear(),s.m=r.getMonth(),s.d=r.getDate()+(s.w+6)%7)}else("W"in s||"U"in s)&&("w"in s||(s.w="u"in s?s.u%7:"W"in s?1:0),a="Z"in s?cT(dT(s.y,0,1)).getUTCDay():lT(dT(s.y,0,1)).getDay(),s.m=0,s.d="W"in s?(s.w+6)%7+7*s.W-(a+5)%7:s.w+7*s.U-(a+6)%7);return"Z"in s?(s.H+=s.Z/100|0,s.M+=s.Z%100,cT(s)):lT(s)}}function k(e,t,n,r){for(var a,s,i=0,o=t.length,l=n.length;i<o;){if(r>=l)return-1;if(37===(a=t.charCodeAt(i++))){if(a=t.charAt(i++),!(s=w[a in pT?t.charAt(i++):a])||(r=s(e,n,r))<0)return-1}else if(a!=n.charCodeAt(r++))return-1}return r}return v.x=j(n,v),v.X=j(r,v),v.c=j(t,v),y.x=j(n,y),y.X=j(r,y),y.c=j(t,y),{format:function(e){var t=j(e+="",v);return t.toString=function(){return e},t},parse:function(e){var t=N(e+="",!1);return t.toString=function(){return e},t},utcFormat:function(e){var t=j(e+="",y);return t.toString=function(){return e},t},utcParse:function(e){var t=N(e+="",!0);return t.toString=function(){return e},t}}}(e),hT=uT.format,uT.parse,mT=uT.utcFormat,uT.utcParse}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});const LM=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:ME,scaleDiverging:function e(){var t=eO(IM()(OD));return t.copy=function(){return zM(t,e())},DE.apply(t,arguments)},scaleDivergingLog:function e(){var t=lO(IM()).domain([.1,1,10]);return t.copy=function(){return zM(t,e()).base(t.base())},DE.apply(t,arguments)},scaleDivergingPow:FM,scaleDivergingSqrt:function(){return FM.apply(null,arguments).exponent(.5)},scaleDivergingSymlog:function e(){var t=uO(IM());return t.copy=function(){return zM(t,e()).constant(t.constant())},DE.apply(t,arguments)},scaleIdentity:function e(t){var n;function r(e){return null==e||isNaN(e=+e)?n:e}return r.invert=r,r.domain=r.range=function(e){return arguments.length?(t=Array.from(e,ED),r):t.slice()},r.unknown=function(e){return arguments.length?(n=e,r):n},r.copy=function(){return e(t).unknown(n)},t=arguments.length?Array.from(t,ED):[0,1],eO(r)},scaleImplicit:OE,scaleLinear:function e(){var t=ID();return t.copy=function(){return zD(t,e())},EE.apply(t,arguments),eO(t)},scaleLog:function e(){const t=lO(RD()).domain([1,10]);return t.copy=()=>zD(t,e()).base(t.base()),EE.apply(t,arguments),t},scaleOrdinal:TE,scalePoint:function(){return AE(ME.apply(null,arguments).paddingInner(1))},scalePow:gO,scaleQuantile:function e(){var t,n=[],r=[],a=[];function s(){var e=0,t=Math.max(1,r.length);for(a=new Array(t-1);++e<t;)a[e-1]=PE(n,e/t);return i}function i(e){return null==e||isNaN(e=+e)?t:r[hE(a,e)]}return i.invertExtent=function(e){var t=r.indexOf(e);return t<0?[NaN,NaN]:[t>0?a[t-1]:n[0],t<a.length?a[t]:n[n.length-1]]},i.domain=function(e){if(!arguments.length)return n.slice();n=[];for(let t of e)null==t||isNaN(t=+t)||n.push(t);return n.sort(oE),s()},i.range=function(e){return arguments.length?(r=Array.from(e),s()):r.slice()},i.unknown=function(e){return arguments.length?(t=e,i):t},i.quantiles=function(){return a.slice()},i.copy=function(){return e().domain(n).range(r).unknown(t)},EE.apply(i,arguments)},scaleQuantize:function e(){var t,n=0,r=1,a=1,s=[.5],i=[0,1];function o(e){return null!=e&&e<=e?i[hE(s,e,0,a)]:t}function l(){var e=-1;for(s=new Array(a);++e<a;)s[e]=((e+1)*r-(e-a)*n)/(a+1);return o}return o.domain=function(e){return arguments.length?([n,r]=e,n=+n,r=+r,l()):[n,r]},o.range=function(e){return arguments.length?(a=(i=Array.from(e)).length-1,l()):i.slice()},o.invertExtent=function(e){var t=i.indexOf(e);return t<0?[NaN,NaN]:t<1?[n,s[0]]:t>=a?[s[a-1],r]:[s[t-1],s[t]]},o.unknown=function(e){return arguments.length?(t=e,o):o},o.thresholds=function(){return s.slice()},o.copy=function(){return e().domain([n,r]).range(i).unknown(t)},EE.apply(eO(o),arguments)},scaleRadial:function e(){var t,n=ID(),r=[0,1],a=!1;function s(e){var r=function(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}(n(e));return isNaN(r)?t:a?Math.round(r):r}return s.invert=function(e){return n.invert(xO(e))},s.domain=function(e){return arguments.length?(n.domain(e),s):n.domain()},s.range=function(e){return arguments.length?(n.range((r=Array.from(e,ED)).map(xO)),s):r.slice()},s.rangeRound=function(e){return s.range(e).round(!0)},s.round=function(e){return arguments.length?(a=!!e,s):a},s.clamp=function(e){return arguments.length?(n.clamp(e),s):n.clamp()},s.unknown=function(e){return arguments.length?(t=e,s):t},s.copy=function(){return e(n.domain(),r).round(a).clamp(n.clamp()).unknown(t)},EE.apply(s,arguments),eO(s)},scaleSequential:function e(){var t=eO(AM()(OD));return t.copy=function(){return zM(t,e())},DE.apply(t,arguments)},scaleSequentialLog:function e(){var t=lO(AM()).domain([1,10]);return t.copy=function(){return zM(t,e()).base(t.base())},DE.apply(t,arguments)},scaleSequentialPow:RM,scaleSequentialQuantile:function e(){var t=[],n=OD;function r(e){if(null!=e&&!isNaN(e=+e))return n((hE(t,e,1)-1)/(t.length-1))}return r.domain=function(e){if(!arguments.length)return t.slice();t=[];for(let n of e)null==n||isNaN(n=+n)||t.push(n);return t.sort(oE),r},r.interpolator=function(e){return arguments.length?(n=e,r):n},r.range=function(){return t.map((e,r)=>n(r/(t.length-1)))},r.quantiles=function(e){return Array.from({length:e+1},(n,r)=>function(e,t){if((n=(e=Float64Array.from(function*(e){for(let t of e)null!=t&&(t=+t)>=t&&(yield t)}(e))).length)&&!isNaN(t=+t)){if(t<=0||n<2)return SE(e);if(t>=1)return kE(e);var n,r=(n-1)*t,a=Math.floor(r),s=kE(CE(e,a).subarray(0,a+1));return s+(SE(e.subarray(a+1))-s)*(r-a)}}(t,r/e))},r.copy=function(){return e(n).domain(t)},DE.apply(r,arguments)},scaleSequentialSqrt:function(){return RM.apply(null,arguments).exponent(.5)},scaleSequentialSymlog:function e(){var t=uO(AM());return t.copy=function(){return zM(t,e()).constant(t.constant())},DE.apply(t,arguments)},scaleSqrt:function(){return gO.apply(null,arguments).exponent(.5)},scaleSymlog:function e(){var t=uO(RD());return t.copy=function(){return zD(t,e()).constant(t.constant())},EE.apply(t,arguments)},scaleThreshold:function e(){var t,n=[.5],r=[0,1],a=1;function s(e){return null!=e&&e<=e?r[hE(n,e,0,a)]:t}return s.domain=function(e){return arguments.length?(n=Array.from(e),a=Math.min(n.length,r.length-1),s):n.slice()},s.range=function(e){return arguments.length?(r=Array.from(e),a=Math.min(n.length,r.length-1),s):r.slice()},s.invertExtent=function(e){var t=r.indexOf(e);return[n[t-1],n[t]]},s.unknown=function(e){return arguments.length?(t=e,s):t},s.copy=function(){return e().domain(n).range(r).unknown(t)},EE.apply(s,arguments)},scaleTime:function(){return EE.apply(MM(iT,oT,tT,ZO,FO,AO,TO,DO,EO,hT).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)},scaleUtc:function(){return EE.apply(MM(aT,sT,nT,eT,qO,zO,MO,OO,EO,mT).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)},tickFormat:ZD},Symbol.toStringTag,{value:"Module"}));var BM=e=>e.chartData,$M=Fw([BM],e=>{var t=null!=e.chartData?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),WM=(e,t,n,r)=>r?$M(e):BM(e);function UM(e){if(Array.isArray(e)&&2===e.length){var[t,n]=e;if(Ik(t)&&Ik(n))return!0}return!1}function HM(e,t,n){return n?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function VM(e,t){if(t&&"function"!=typeof e&&Array.isArray(e)&&2===e.length){var n,r,[a,s]=e;if(Ik(a))n=a;else if("function"==typeof a)return;if(Ik(s))r=s;else if("function"==typeof s)return;var i=[n,r];if(UM(i))return i}}var qM,YM=1e9,GM=!0,KM="[DecimalError] ",XM=KM+"Invalid argument: ",QM=KM+"Exponent out of range: ",JM=Math.floor,ZM=Math.pow,eA=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,tA=1e7,nA=9007199254740991,rA=JM(1286742750677284.5),aA={};function sA(e,t){var n,r,a,s,i,o,l,c,d=e.constructor,u=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),GM?fA(t,u):t;if(l=e.d,c=t.d,i=e.e,a=t.e,l=l.slice(),s=i-a){for(s<0?(r=l,s=-s,o=c.length):(r=c,a=i,o=l.length),s>(o=(i=Math.ceil(u/7))>o?i+1:o+1)&&(s=o,r.length=1),r.reverse();s--;)r.push(0);r.reverse()}for((o=l.length)-(s=c.length)<0&&(s=o,r=c,c=l,l=r),n=0;s;)n=(l[--s]=l[s]+c[s]+n)/tA|0,l[s]%=tA;for(n&&(l.unshift(n),++a),o=l.length;0==l[--o];)l.pop();return t.d=l,t.e=a,GM?fA(t,u):t}function iA(e,t,n){if(e!==~~e||e<t||e>n)throw Error(XM+e)}function oA(e){var t,n,r,a=e.length-1,s="",i=e[0];if(a>0){for(s+=i,t=1;t<a;t++)(n=7-(r=e[t]+"").length)&&(s+=hA(n)),s+=r;(n=7-(r=(i=e[t])+"").length)&&(s+=hA(n))}else if(0===i)return"0";for(;i%10==0;)i/=10;return s+i}aA.absoluteValue=aA.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e},aA.comparedTo=aA.cmp=function(e){var t,n,r,a,s=this;if(e=new s.constructor(e),s.s!==e.s)return s.s||-e.s;if(s.e!==e.e)return s.e>e.e^s.s<0?1:-1;for(t=0,n=(r=s.d.length)<(a=e.d.length)?r:a;t<n;++t)if(s.d[t]!==e.d[t])return s.d[t]>e.d[t]^s.s<0?1:-1;return r===a?0:r>a^s.s<0?1:-1},aA.decimalPlaces=aA.dp=function(){var e=this,t=e.d.length-1,n=7*(t-e.e);if(t=e.d[t])for(;t%10==0;t/=10)n--;return n<0?0:n},aA.dividedBy=aA.div=function(e){return lA(this,new this.constructor(e))},aA.dividedToIntegerBy=aA.idiv=function(e){var t=this.constructor;return fA(lA(this,new t(e),0,1),t.precision)},aA.equals=aA.eq=function(e){return!this.cmp(e)},aA.exponent=function(){return dA(this)},aA.greaterThan=aA.gt=function(e){return this.cmp(e)>0},aA.greaterThanOrEqualTo=aA.gte=function(e){return this.cmp(e)>=0},aA.isInteger=aA.isint=function(){return this.e>this.d.length-2},aA.isNegative=aA.isneg=function(){return this.s<0},aA.isPositive=aA.ispos=function(){return this.s>0},aA.isZero=function(){return 0===this.s},aA.lessThan=aA.lt=function(e){return this.cmp(e)<0},aA.lessThanOrEqualTo=aA.lte=function(e){return this.cmp(e)<1},aA.logarithm=aA.log=function(e){var t,n=this,r=n.constructor,a=r.precision,s=a+5;if(void 0===e)e=new r(10);else if((e=new r(e)).s<1||e.eq(qM))throw Error(KM+"NaN");if(n.s<1)throw Error(KM+(n.s?"NaN":"-Infinity"));return n.eq(qM)?new r(0):(GM=!1,t=lA(mA(n,s),mA(e,s),s),GM=!0,fA(t,a))},aA.minus=aA.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?gA(t,e):sA(t,(e.s=-e.s,e))},aA.modulo=aA.mod=function(e){var t,n=this,r=n.constructor,a=r.precision;if(!(e=new r(e)).s)throw Error(KM+"NaN");return n.s?(GM=!1,t=lA(n,e,0,1).times(e),GM=!0,n.minus(t)):fA(new r(n),a)},aA.naturalExponential=aA.exp=function(){return cA(this)},aA.naturalLogarithm=aA.ln=function(){return mA(this)},aA.negated=aA.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e},aA.plus=aA.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?sA(t,e):gA(t,(e.s=-e.s,e))},aA.precision=aA.sd=function(e){var t,n,r,a=this;if(void 0!==e&&e!==!!e&&1!==e&&0!==e)throw Error(XM+e);if(t=dA(a)+1,n=7*(r=a.d.length-1)+1,r=a.d[r]){for(;r%10==0;r/=10)n--;for(r=a.d[0];r>=10;r/=10)n++}return e&&t>n?t:n},aA.squareRoot=aA.sqrt=function(){var e,t,n,r,a,s,i,o=this,l=o.constructor;if(o.s<1){if(!o.s)return new l(0);throw Error(KM+"NaN")}for(e=dA(o),GM=!1,0==(a=Math.sqrt(+o))||a==1/0?(((t=oA(o.d)).length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=JM((e+1)/2)-(e<0||e%2),r=new l(t=a==1/0?"5e"+e:(t=a.toExponential()).slice(0,t.indexOf("e")+1)+e)):r=new l(a.toString()),a=i=(n=l.precision)+3;;)if(r=(s=r).plus(lA(o,s,i+2)).times(.5),oA(s.d).slice(0,i)===(t=oA(r.d)).slice(0,i)){if(t=t.slice(i-3,i+1),a==i&&"4999"==t){if(fA(s,n+1,0),s.times(s).eq(o)){r=s;break}}else if("9999"!=t)break;i+=4}return GM=!0,fA(r,n)},aA.times=aA.mul=function(e){var t,n,r,a,s,i,o,l,c,d=this,u=d.constructor,h=d.d,m=(e=new u(e)).d;if(!d.s||!e.s)return new u(0);for(e.s*=d.s,n=d.e+e.e,(l=h.length)<(c=m.length)&&(s=h,h=m,m=s,i=l,l=c,c=i),s=[],r=i=l+c;r--;)s.push(0);for(r=c;--r>=0;){for(t=0,a=l+r;a>r;)o=s[a]+m[r]*h[a-r-1]+t,s[a--]=o%tA|0,t=o/tA|0;s[a]=(s[a]+t)%tA|0}for(;!s[--i];)s.pop();return t?++n:s.shift(),e.d=s,e.e=n,GM?fA(e,u.precision):e},aA.toDecimalPlaces=aA.todp=function(e,t){var n=this,r=n.constructor;return n=new r(n),void 0===e?n:(iA(e,0,YM),void 0===t?t=r.rounding:iA(t,0,8),fA(n,e+dA(n)+1,t))},aA.toExponential=function(e,t){var n,r=this,a=r.constructor;return void 0===e?n=xA(r,!0):(iA(e,0,YM),void 0===t?t=a.rounding:iA(t,0,8),n=xA(r=fA(new a(r),e+1,t),!0,e+1)),n},aA.toFixed=function(e,t){var n,r,a=this,s=a.constructor;return void 0===e?xA(a):(iA(e,0,YM),void 0===t?t=s.rounding:iA(t,0,8),n=xA((r=fA(new s(a),e+dA(a)+1,t)).abs(),!1,e+dA(r)+1),a.isneg()&&!a.isZero()?"-"+n:n)},aA.toInteger=aA.toint=function(){var e=this,t=e.constructor;return fA(new t(e),dA(e)+1,t.rounding)},aA.toNumber=function(){return+this},aA.toPower=aA.pow=function(e){var t,n,r,a,s,i,o=this,l=o.constructor,c=+(e=new l(e));if(!e.s)return new l(qM);if(!(o=new l(o)).s){if(e.s<1)throw Error(KM+"Infinity");return o}if(o.eq(qM))return o;if(r=l.precision,e.eq(qM))return fA(o,r);if(i=(t=e.e)>=(n=e.d.length-1),s=o.s,i){if((n=c<0?-c:c)<=nA){for(a=new l(qM),t=Math.ceil(r/7+4),GM=!1;n%2&&bA((a=a.times(o)).d,t),0!==(n=JM(n/2));)bA((o=o.times(o)).d,t);return GM=!0,e.s<0?new l(qM).div(a):fA(a,r)}}else if(s<0)throw Error(KM+"NaN");return s=s<0&&1&e.d[Math.max(t,n)]?-1:1,o.s=1,GM=!1,a=e.times(mA(o,r+12)),GM=!0,(a=cA(a)).s=s,a},aA.toPrecision=function(e,t){var n,r,a=this,s=a.constructor;return void 0===e?r=xA(a,(n=dA(a))<=s.toExpNeg||n>=s.toExpPos):(iA(e,1,YM),void 0===t?t=s.rounding:iA(t,0,8),r=xA(a=fA(new s(a),e,t),e<=(n=dA(a))||n<=s.toExpNeg,e)),r},aA.toSignificantDigits=aA.tosd=function(e,t){var n=this.constructor;return void 0===e?(e=n.precision,t=n.rounding):(iA(e,1,YM),void 0===t?t=n.rounding:iA(t,0,8)),fA(new n(this),e,t)},aA.toString=aA.valueOf=aA.val=aA.toJSON=aA[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=dA(e),n=e.constructor;return xA(e,t<=n.toExpNeg||t>=n.toExpPos)};var lA=function(){function e(e,t){var n,r=0,a=e.length;for(e=e.slice();a--;)n=e[a]*t+r,e[a]=n%tA|0,r=n/tA|0;return r&&e.unshift(r),e}function t(e,t,n,r){var a,s;if(n!=r)s=n>r?1:-1;else for(a=s=0;a<n;a++)if(e[a]!=t[a]){s=e[a]>t[a]?1:-1;break}return s}function n(e,t,n){for(var r=0;n--;)e[n]-=r,r=e[n]<t[n]?1:0,e[n]=r*tA+e[n]-t[n];for(;!e[0]&&e.length>1;)e.shift()}return function(r,a,s,i){var o,l,c,d,u,h,m,p,f,g,x,b,v,y,w,j,N,k,S=r.constructor,C=r.s==a.s?1:-1,_=r.d,P=a.d;if(!r.s)return new S(r);if(!a.s)throw Error(KM+"Division by zero");for(l=r.e-a.e,N=P.length,w=_.length,p=(m=new S(C)).d=[],c=0;P[c]==(_[c]||0);)++c;if(P[c]>(_[c]||0)&&--l,(b=null==s?s=S.precision:i?s+(dA(r)-dA(a))+1:s)<0)return new S(0);if(b=b/7+2|0,c=0,1==N)for(d=0,P=P[0],b++;(c<w||d)&&b--;c++)v=d*tA+(_[c]||0),p[c]=v/P|0,d=v%P|0;else{for((d=tA/(P[0]+1)|0)>1&&(P=e(P,d),_=e(_,d),N=P.length,w=_.length),y=N,g=(f=_.slice(0,N)).length;g<N;)f[g++]=0;(k=P.slice()).unshift(0),j=P[0],P[1]>=tA/2&&++j;do{d=0,(o=t(P,f,N,g))<0?(x=f[0],N!=g&&(x=x*tA+(f[1]||0)),(d=x/j|0)>1?(d>=tA&&(d=tA-1),1==(o=t(u=e(P,d),f,h=u.length,g=f.length))&&(d--,n(u,N<h?k:P,h))):(0==d&&(o=d=1),u=P.slice()),(h=u.length)<g&&u.unshift(0),n(f,u,g),-1==o&&(o=t(P,f,N,g=f.length))<1&&(d++,n(f,N<g?k:P,g)),g=f.length):0===o&&(d++,f=[0]),p[c++]=d,o&&f[0]?f[g++]=_[y]||0:(f=[_[y]],g=1)}while((y++<w||void 0!==f[0])&&b--)}return p[0]||p.shift(),m.e=l,fA(m,i?s+dA(m)+1:s)}}();function cA(e,t){var n,r,a,s,i,o=0,l=0,c=e.constructor,d=c.precision;if(dA(e)>16)throw Error(QM+dA(e));if(!e.s)return new c(qM);for(GM=!1,i=d,s=new c(.03125);e.abs().gte(.1);)e=e.times(s),l+=5;for(i+=Math.log(ZM(2,l))/Math.LN10*2+5|0,n=r=a=new c(qM),c.precision=i;;){if(r=fA(r.times(e),i),n=n.times(++o),oA((s=a.plus(lA(r,n,i))).d).slice(0,i)===oA(a.d).slice(0,i)){for(;l--;)a=fA(a.times(a),i);return c.precision=d,null==t?(GM=!0,fA(a,d)):a}a=s}}function dA(e){for(var t=7*e.e,n=e.d[0];n>=10;n/=10)t++;return t}function uA(e,t,n){if(t>e.LN10.sd())throw GM=!0,n&&(e.precision=n),Error(KM+"LN10 precision limit exceeded");return fA(new e(e.LN10),t)}function hA(e){for(var t="";e--;)t+="0";return t}function mA(e,t){var n,r,a,s,i,o,l,c,d,u=1,h=e,m=h.d,p=h.constructor,f=p.precision;if(h.s<1)throw Error(KM+(h.s?"NaN":"-Infinity"));if(h.eq(qM))return new p(0);if(null==t?(GM=!1,c=f):c=t,h.eq(10))return null==t&&(GM=!0),uA(p,c);if(c+=10,p.precision=c,r=(n=oA(m)).charAt(0),s=dA(h),!(Math.abs(s)<15e14))return l=uA(p,c+2,f).times(s+""),h=mA(new p(r+"."+n.slice(1)),c-10).plus(l),p.precision=f,null==t?(GM=!0,fA(h,f)):h;for(;r<7&&1!=r||1==r&&n.charAt(1)>3;)r=(n=oA((h=h.times(e)).d)).charAt(0),u++;for(s=dA(h),r>1?(h=new p("0."+n),s++):h=new p(r+"."+n.slice(1)),o=i=h=lA(h.minus(qM),h.plus(qM),c),d=fA(h.times(h),c),a=3;;){if(i=fA(i.times(d),c),oA((l=o.plus(lA(i,new p(a),c))).d).slice(0,c)===oA(o.d).slice(0,c))return o=o.times(2),0!==s&&(o=o.plus(uA(p,c+2,f).times(s+""))),o=lA(o,new p(u),c),p.precision=f,null==t?(GM=!0,fA(o,f)):o;o=l,a+=2}}function pA(e,t){var n,r,a;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;48===t.charCodeAt(r);)++r;for(a=t.length;48===t.charCodeAt(a-1);)--a;if(t=t.slice(r,a)){if(a-=r,n=n-r-1,e.e=JM(n/7),e.d=[],r=(n+1)%7,n<0&&(r+=7),r<a){for(r&&e.d.push(+t.slice(0,r)),a-=7;r<a;)e.d.push(+t.slice(r,r+=7));r=7-(t=t.slice(r)).length}else r-=a;for(;r--;)t+="0";if(e.d.push(+t),GM&&(e.e>rA||e.e<-rA))throw Error(QM+n)}else e.s=0,e.e=0,e.d=[0];return e}function fA(e,t,n){var r,a,s,i,o,l,c,d,u=e.d;for(i=1,s=u[0];s>=10;s/=10)i++;if((r=t-i)<0)r+=7,a=t,c=u[d=0];else{if((d=Math.ceil((r+1)/7))>=(s=u.length))return e;for(c=s=u[d],i=1;s>=10;s/=10)i++;a=(r%=7)-7+i}if(void 0!==n&&(o=c/(s=ZM(10,i-a-1))%10|0,l=t<0||void 0!==u[d+1]||c%s,l=n<4?(o||l)&&(0==n||n==(e.s<0?3:2)):o>5||5==o&&(4==n||l||6==n&&(r>0?a>0?c/ZM(10,i-a):0:u[d-1])%10&1||n==(e.s<0?8:7))),t<1||!u[0])return l?(s=dA(e),u.length=1,t=t-s-1,u[0]=ZM(10,(7-t%7)%7),e.e=JM(-t/7)||0):(u.length=1,u[0]=e.e=e.s=0),e;if(0==r?(u.length=d,s=1,d--):(u.length=d+1,s=ZM(10,7-r),u[d]=a>0?(c/ZM(10,i-a)%ZM(10,a)|0)*s:0),l)for(;;){if(0==d){(u[0]+=s)==tA&&(u[0]=1,++e.e);break}if(u[d]+=s,u[d]!=tA)break;u[d--]=0,s=1}for(r=u.length;0===u[--r];)u.pop();if(GM&&(e.e>rA||e.e<-rA))throw Error(QM+dA(e));return e}function gA(e,t){var n,r,a,s,i,o,l,c,d,u,h=e.constructor,m=h.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new h(e),GM?fA(t,m):t;if(l=e.d,u=t.d,r=t.e,c=e.e,l=l.slice(),i=c-r){for((d=i<0)?(n=l,i=-i,o=u.length):(n=u,r=c,o=l.length),i>(a=Math.max(Math.ceil(m/7),o)+2)&&(i=a,n.length=1),n.reverse(),a=i;a--;)n.push(0);n.reverse()}else{for((d=(a=l.length)<(o=u.length))&&(o=a),a=0;a<o;a++)if(l[a]!=u[a]){d=l[a]<u[a];break}i=0}for(d&&(n=l,l=u,u=n,t.s=-t.s),o=l.length,a=u.length-o;a>0;--a)l[o++]=0;for(a=u.length;a>i;){if(l[--a]<u[a]){for(s=a;s&&0===l[--s];)l[s]=tA-1;--l[s],l[a]+=tA}l[a]-=u[a]}for(;0===l[--o];)l.pop();for(;0===l[0];l.shift())--r;return l[0]?(t.d=l,t.e=r,GM?fA(t,m):t):new h(0)}function xA(e,t,n){var r,a=dA(e),s=oA(e.d),i=s.length;return t?(n&&(r=n-i)>0?s=s.charAt(0)+"."+s.slice(1)+hA(r):i>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(a<0?"e":"e+")+a):a<0?(s="0."+hA(-a-1)+s,n&&(r=n-i)>0&&(s+=hA(r))):a>=i?(s+=hA(a+1-i),n&&(r=n-a-1)>0&&(s=s+"."+hA(r))):((r=a+1)<i&&(s=s.slice(0,r)+"."+s.slice(r)),n&&(r=n-i)>0&&(a+1===i&&(s+="."),s+=hA(r))),e.s<0?"-"+s:s}function bA(e,t){if(e.length>t)return e.length=t,!0}function vA(e){if(!e||"object"!=typeof e)throw Error(KM+"Object expected");var t,n,r,a=["precision",1,YM,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if(void 0!==(r=e[n=a[t]])){if(!(JM(r)===r&&r>=a[t+1]&&r<=a[t+2]))throw Error(XM+n+": "+r);this[n]=r}if(void 0!==(r=e[n="LN10"])){if(r!=Math.LN10)throw Error(XM+n+": "+r);this[n]=new this(r)}return this}var yA=function e(t){var n,r,a;function s(e){var t=this;if(!(t instanceof s))return new s(e);if(t.constructor=s,e instanceof s)return t.s=e.s,t.e=e.e,void(t.d=(e=e.d)?e.slice():e);if("number"==typeof e){if(0*e!=0)throw Error(XM+e);if(e>0)t.s=1;else{if(!(e<0))return t.s=0,t.e=0,void(t.d=[0]);e=-e,t.s=-1}return e===~~e&&e<1e7?(t.e=0,void(t.d=[e])):pA(t,e.toString())}if("string"!=typeof e)throw Error(XM+e);if(45===e.charCodeAt(0)?(e=e.slice(1),t.s=-1):t.s=1,!eA.test(e))throw Error(XM+e);pA(t,e)}if(s.prototype=aA,s.ROUND_UP=0,s.ROUND_DOWN=1,s.ROUND_CEIL=2,s.ROUND_FLOOR=3,s.ROUND_HALF_UP=4,s.ROUND_HALF_DOWN=5,s.ROUND_HALF_EVEN=6,s.ROUND_HALF_CEIL=7,s.ROUND_HALF_FLOOR=8,s.clone=e,s.config=s.set=vA,void 0===t&&(t={}),t)for(a=["precision","rounding","toExpNeg","toExpPos","LN10"],n=0;n<a.length;)t.hasOwnProperty(r=a[n++])||(t[r]=this[r]);return s.config(t),s}({precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"});qM=new yA(1);const wA=yA;function jA(e){return 0===e?1:Math.floor(new wA(e).abs().log(10).toNumber())+1}function NA(e,t,n){for(var r=new wA(e),a=0,s=[];r.lt(t)&&a<1e5;)s.push(r.toNumber()),r=r.add(n),a++;return s}var kA=e=>{var[t,n]=e,[r,a]=[t,n];return t>n&&([r,a]=[n,t]),[r,a]},SA=(e,t,n)=>{if(e.lte(0))return new wA(0);var r=jA(e.toNumber()),a=new wA(10).pow(r),s=e.div(a),i=1!==r?.05:.1,o=new wA(Math.ceil(s.div(i).toNumber())).add(n).mul(i).mul(a);return new wA(t?o.toNumber():Math.ceil(o.toNumber()))},CA=function(e,t,n,r){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;if(!Number.isFinite((t-e)/(n-1)))return{step:new wA(0),tickMin:new wA(0),tickMax:new wA(0)};var s,i=SA(new wA(t).sub(e).div(n-1),r,a);s=e<=0&&t>=0?new wA(0):(s=new wA(e).add(t).div(2)).sub(new wA(s).mod(i));var o=Math.ceil(s.sub(e).div(i).toNumber()),l=Math.ceil(new wA(t).sub(s).div(i).toNumber()),c=o+l+1;return c>n?CA(e,t,n,r,a+1):(c<n&&(l=t>0?l+(n-c):l,o=t>0?o:o+(n-c)),{step:i,tickMin:s.sub(new wA(o).mul(i)),tickMax:s.add(new wA(l).mul(i))})},_A=function(e){var[t,n]=e,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:6,a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],s=Math.max(r,2),[i,o]=kA([t,n]);if(i===-1/0||o===1/0){var l=o===1/0?[i,...Array(r-1).fill(1/0)]:[...Array(r-1).fill(-1/0),o];return t>n?l.reverse():l}if(i===o)return((e,t,n)=>{var r=new wA(1),a=new wA(e);if(!a.isint()&&n){var s=Math.abs(e);s<1?(r=new wA(10).pow(jA(e)-1),a=new wA(Math.floor(a.div(r).toNumber())).mul(r)):s>1&&(a=new wA(Math.floor(e)))}else 0===e?a=new wA(Math.floor((t-1)/2)):n||(a=new wA(Math.floor(e)));for(var i=Math.floor((t-1)/2),o=[],l=0;l<t;l++)o.push(a.add(new wA(l-i).mul(r)).toNumber());return o})(i,r,a);var{step:c,tickMin:d,tickMax:u}=CA(i,o,s,a,0),h=NA(d,u.add(new wA(.1).mul(c)),c);return t>n?h.reverse():h},PA=e=>e.rootProps.stackOffset,EA=e=>e.rootProps.reverseStackOrder,DA=e=>e.options.chartName,OA=e=>e.rootProps.syncId,TA=e=>e.rootProps.syncMethod,MA=e=>e.options.eventEmitter,AA={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},zA=(e,t)=>{if(e&&t)return null!=e&&e.reversed?[t[1],t[0]]:t};function RA(e,t,n){return"auto"!==n?n:null!=e?Uk(e,t)?"category":"number":void 0}function IA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function FA(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?IA(Object(n),!0).forEach(function(t){LA(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):IA(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function LA(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var BA={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:0,includeHidden:!1,name:void 0,reversed:!1,scale:"auto",tick:!0,tickCount:void 0,ticks:void 0,type:"auto",unit:void 0},$A={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!0,dataKey:void 0,domain:void 0,id:0,includeHidden:!1,name:void 0,reversed:!1,scale:"auto",tick:!0,tickCount:5,ticks:void 0,type:"auto",unit:void 0},WA=Fw([(e,t)=>{if(null!=t)return e.polarAxis.angleAxis[t]},KS],(e,t)=>{var n;if(null!=e)return e;var r=null!==(n=RA(t,"angleAxis",BA.type))&&void 0!==n?n:"category";return FA(FA({},BA),{},{type:r})}),UA=Fw([(e,t)=>e.polarAxis.radiusAxis[t],KS],(e,t)=>{var n;if(null!=e)return e;var r=null!==(n=RA(t,"radiusAxis",$A.type))&&void 0!==n?n:"category";return FA(FA({},$A),{},{type:r})}),HA=e=>e.polarOptions,VA=Fw([Jk,Zk,cS],IP),qA=Fw([HA,VA],(e,t)=>{if(null!=e)return gv(e.innerRadius,t,0)}),YA=Fw([HA,VA],(e,t)=>{if(null!=e)return gv(e.outerRadius,t,.8*t)}),GA=Fw([HA],e=>{if(null==e)return[0,0];var{startAngle:t,endAngle:n}=e;return[t,n]});Fw([WA,GA],zA);var KA=Fw([VA,qA,YA],(e,t,n)=>{if(null!=e&&null!=t&&null!=n)return[t,n]});Fw([UA,KA],zA);var XA=Fw([YS,HA,qA,YA,Jk,Zk],(e,t,n,r,a,s)=>{if(("centric"===e||"radial"===e)&&null!=t&&null!=n&&null!=r){var{cx:i,cy:o,startAngle:l,endAngle:c}=t;return{cx:gv(i,a,a/2),cy:gv(o,s,s/2),innerRadius:n,outerRadius:r,startAngle:l,endAngle:c,clockWise:!1}}}),QA=(e,t)=>t,JA=(e,t,n)=>n;function ZA(e){return null==e?void 0:e.id}function ez(e,t,n){var{chartData:r=[]}=t,{allowDuplicatedCategory:a,dataKey:s}=n,i=new Map;return e.forEach(e=>{var t,n=null!==(t=e.data)&&void 0!==t?t:r;if(null!=n&&0!==n.length){var o=ZA(e);n.forEach((t,n)=>{var r,l=null==s||a?n:String(Wk(t,s,null)),c=Wk(t,e.dataKey,0);r=i.has(l)?i.get(l):{},Object.assign(r,{[o]:c}),i.set(l,r)})}}),Array.from(i.values())}function tz(e){return"stackId"in e&&null!=e.stackId&&null!=e.dataKey}var nz=(e,t)=>e===t||null!=e&&null!=t&&(e[0]===t[0]&&e[1]===t[1]);function rz(e,t){return!(!Array.isArray(e)||!Array.isArray(t)||0!==e.length||0!==t.length)||e===t}var az=e=>{var t=YS(e);return"horizontal"===t?"xAxis":"vertical"===t?"yAxis":"centric"===t?"angleAxis":"radiusAxis"},sz=e=>e.tooltip.settings.axisId;function iz(e){var t=e.ticks,n=e.bandwidth,r=e.range(),a=[Math.min(...r),Math.max(...r)];return{domain:()=>e.domain(),range:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(()=>a),rangeMin:()=>a[0],rangeMax:()=>a[1],isInRange(e){var t=a[0],n=a[1];return t<=n?e>=t&&e<=n:e>=n&&e<=t},bandwidth:n?()=>n.call(e):void 0,ticks:t?n=>t.call(e,n):void 0,map:(t,n)=>{var r=e(t);if(null!=r){if(e.bandwidth&&null!=n&&n.position){var a=e.bandwidth();switch(n.position){case"middle":r+=a/2;break;case"end":r+=a}}return r}}}}function oz(e,t,n){if("function"==typeof e)return iz(e.copy().domain(t).range(n));if(null!=e){var r=function(e){if(e in LM)return LM[e]();var t="scale".concat(yv(e));return t in LM?LM[t]():void 0}(e);if(null!=r)return r.domain(t).range(n),iz(r)}}var lz=(e,t)=>{if(null!=t){if("linear"===e){if(!UM(t)){for(var n,r,a=0;a<t.length;a++){var s=t[a];Ik(s)&&((void 0===n||s<n)&&(n=s),(void 0===r||s>r)&&(r=s))}return void 0!==n&&void 0!==r?[n,r]:void 0}return t}return t}};function cz(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function dz(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?cz(Object(n),!0).forEach(function(t){uz(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cz(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function uz(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var hz=[0,"auto"],mz={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},pz=(e,t)=>{var n=((e,t)=>e.cartesianAxis.xAxis[t])(e,t);return null==n?mz:n},fz={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:hz,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:60},gz=(e,t)=>{var n=((e,t)=>e.cartesianAxis.yAxis[t])(e,t);return null==n?fz:n},xz={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},bz=(e,t)=>{var n=e.cartesianAxis.zAxis[t];return null==n?xz:n},vz=(e,t,n)=>{switch(t){case"xAxis":return pz(e,n);case"yAxis":return gz(e,n);case"zAxis":return bz(e,n);case"angleAxis":return WA(e,n);case"radiusAxis":return UA(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},yz=(e,t,n)=>{switch(t){case"xAxis":return pz(e,n);case"yAxis":return gz(e,n);case"angleAxis":return WA(e,n);case"radiusAxis":return UA(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},wz=e=>e.graphicalItems.cartesianItems.some(e=>"bar"===e.type)||e.graphicalItems.polarItems.some(e=>"radialBar"===e.type);function jz(e,t){return n=>{switch(e){case"xAxis":return"xAxisId"in n&&n.xAxisId===t;case"yAxis":return"yAxisId"in n&&n.yAxisId===t;case"zAxis":return"zAxisId"in n&&n.zAxisId===t;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===t;default:return!1}}}var Nz=Fw([QA,JA],jz),kz=(e,t,n)=>e.filter(n).filter(e=>!0===(null==t?void 0:t.includeHidden)||!e.hide),Sz=Fw([e=>e.graphicalItems.cartesianItems,vz,Nz],kz,{memoizeOptions:{resultEqualityCheck:rz}}),Cz=Fw([Sz],e=>e.filter(e=>"area"===e.type||"bar"===e.type).filter(tz)),_z=e=>e.filter(e=>!("stackId"in e)||void 0===e.stackId),Pz=Fw([Sz],_z),Ez=e=>e.map(e=>e.data).filter(Boolean).flat(1),Dz=Fw([Sz],Ez,{memoizeOptions:{resultEqualityCheck:rz}}),Oz=(e,t)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:a}=t;return e.length>0?e:n.slice(r,a+1)},Tz=Fw([Dz,WM],Oz),Mz=(e,t,n)=>null!=(null==t?void 0:t.dataKey)?e.map(e=>({value:Wk(e,t.dataKey)})):n.length>0?n.map(e=>e.dataKey).flatMap(t=>e.map(e=>({value:Wk(e,t)}))):e.map(e=>({value:e})),Az=Fw([Tz,vz,Sz],Mz);function zz(e,t){switch(e){case"xAxis":return"x"===t.direction;case"yAxis":return"y"===t.direction;default:return!1}}function Rz(e){if(mv(e)||e instanceof Date){var t=Number(e);if(Ik(t))return t}}function Iz(e){if(Array.isArray(e)){var t=[Rz(e[0]),Rz(e[1])];return UM(t)?t:void 0}var n=Rz(e);if(null!=n)return[n,n]}function Fz(e){return e.map(Rz).filter(wv)}var Lz=e=>{var t=az(e),n=sz(e);return yz(e,t,n)},Bz=Fw([Lz],e=>null==e?void 0:e.dataKey),$z=Fw([Cz,WM,Lz],ez),Wz=(e,t,n,r)=>{var a=t.reduce((e,t)=>{if(null==t.stackId)return e;var n=e[t.stackId];return null==n&&(n=[]),n.push(t),e[t.stackId]=n,e},{});return Object.fromEntries(Object.entries(a).map(t=>{var[a,s]=t,i=r?[...s].reverse():s,o=i.map(ZA);return[a,{stackedData:Vk(e,o,n),graphicalItems:i}]}))},Uz=Fw([$z,Cz,PA,EA],Wz),Hz=(e,t,n,r)=>{var{dataStartIndex:a,dataEndIndex:s}=t;if(null==r&&"zAxis"!==n){var i=qk(e,a,s);if(null==i||0!==i[0]||0!==i[1])return i}},Vz=Fw([vz],e=>e.allowDataOverflow),qz=e=>{var t;if(null==e||!("domain"in e))return hz;if(null!=e.domain)return e.domain;if("ticks"in e&&null!=e.ticks){if("number"===e.type){var n=Fz(e.ticks);return[Math.min(...n),Math.max(...n)]}if("category"===e.type)return e.ticks.map(String)}return null!==(t=null==e?void 0:e.domain)&&void 0!==t?t:hz},Yz=Fw([vz],qz),Gz=Fw([Yz,Vz],VM),Kz=Fw([Uz,BM,QA,Gz],Hz,{memoizeOptions:{resultEqualityCheck:nz}}),Xz=e=>e.errorBars,Qz=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.filter(Boolean);if(0!==r.length){var a=r.flat();return[Math.min(...a),Math.max(...a)]}},Jz=(e,t,n,r,a)=>{var s,i;if(n.length>0&&e.forEach(e=>{n.forEach(n=>{var o,l,c=null===(o=r[n.id])||void 0===o?void 0:o.filter(e=>zz(a,e)),d=Wk(e,null!==(l=t.dataKey)&&void 0!==l?l:n.dataKey),u=function(e,t,n){return!n||"number"!=typeof t||dv(t)?[]:n.length?Fz(n.flatMap(n=>{var r,a,s=Wk(e,n.dataKey);if(Array.isArray(s)?[r,a]=s:r=a=s,Ik(r)&&Ik(a))return[t-r,t+a]})):[]}(e,d,c);if(u.length>=2){var h=Math.min(...u),m=Math.max(...u);(null==s||h<s)&&(s=h),(null==i||m>i)&&(i=m)}var p=Iz(d);null!=p&&(s=null==s?p[0]:Math.min(s,p[0]),i=null==i?p[1]:Math.max(i,p[1]))})}),null!=(null==t?void 0:t.dataKey)&&e.forEach(e=>{var n=Iz(Wk(e,t.dataKey));null!=n&&(s=null==s?n[0]:Math.min(s,n[0]),i=null==i?n[1]:Math.max(i,n[1]))}),Ik(s)&&Ik(i))return[s,i]},Zz=Fw([Tz,vz,Pz,Xz,QA],Jz,{memoizeOptions:{resultEqualityCheck:nz}});function eR(e){var{value:t}=e;if(mv(t)||t instanceof Date)return t}var tR=e=>e.referenceElements.dots,nR=(e,t,n)=>e.filter(e=>"extendDomain"===e.ifOverflow).filter(e=>"xAxis"===t?e.xAxisId===n:e.yAxisId===n),rR=Fw([tR,QA,JA],nR),aR=e=>e.referenceElements.areas,sR=Fw([aR,QA,JA],nR),iR=e=>e.referenceElements.lines,oR=Fw([iR,QA,JA],nR),lR=(e,t)=>{if(null!=e){var n=Fz(e.map(e=>"xAxis"===t?e.x:e.y));if(0!==n.length)return[Math.min(...n),Math.max(...n)]}},cR=Fw(rR,QA,lR),dR=(e,t)=>{if(null!=e){var n=Fz(e.flatMap(e=>["xAxis"===t?e.x1:e.y1,"xAxis"===t?e.x2:e.y2]));if(0!==n.length)return[Math.min(...n),Math.max(...n)]}},uR=Fw([sR,QA],dR);var hR=(e,t)=>{if(null!=e){var n=e.flatMap(e=>"xAxis"===t?function(e){var t;if(null!=e.x)return Fz([e.x]);var n=null===(t=e.segment)||void 0===t?void 0:t.map(e=>e.x);return null==n||0===n.length?[]:Fz(n)}(e):function(e){var t;if(null!=e.y)return Fz([e.y]);var n=null===(t=e.segment)||void 0===t?void 0:t.map(e=>e.y);return null==n||0===n.length?[]:Fz(n)}(e));if(0!==n.length)return[Math.min(...n),Math.max(...n)]}},mR=Fw([oR,QA],hR),pR=Fw(cR,mR,uR,(e,t,n)=>Qz(e,n,t)),fR=(e,t,n,r,a,s,i,o)=>null!=n?n:function(e,t,n){if(n||null!=t){if("function"==typeof e&&null!=t)try{var r=e(t,n);if(UM(r))return HM(r,t,n)}catch(m){}if(Array.isArray(e)&&2===e.length){var a,s,[i,o]=e;if("auto"===i)null!=t&&(a=Math.min(...t));else if(hv(i))a=i;else if("function"==typeof i)try{null!=t&&(a=i(null==t?void 0:t[0]))}catch(p){}else if("string"==typeof i&&Yk.test(i)){var l=Yk.exec(i);if(null==l||null==l[1]||null==t)a=void 0;else{var c=+l[1];a=t[0]-c}}else a=null==t?void 0:t[0];if("auto"===o)null!=t&&(s=Math.max(...t));else if(hv(o))s=o;else if("function"==typeof o)try{null!=t&&(s=o(null==t?void 0:t[1]))}catch(f){}else if("string"==typeof o&&Gk.test(o)){var d=Gk.exec(o);if(null==d||null==d[1]||null==t)s=void 0;else{var u=+d[1];s=t[1]+u}}else s=null==t?void 0:t[1];var h=[a,s];if(UM(h))return null==t?h:HM(h,t,n)}}}(t,"vertical"===i&&"xAxis"===o||"horizontal"===i&&"yAxis"===o?Qz(r,s,a):Qz(s,a),e.allowDataOverflow),gR=Fw([vz,Yz,Gz,Kz,Zz,pR,YS,QA],fR,{memoizeOptions:{resultEqualityCheck:nz}}),xR=[0,1],bR=(e,t,n,r,a,s,i)=>{if(null!=e&&null!=n&&0!==n.length||void 0!==i){var o,{dataKey:l,type:c}=e,d=Uk(t,s);return d&&null==l?iE(0,null!==(o=null==n?void 0:n.length)&&void 0!==o?o:0):"category"===c?((e,t,n)=>{var r=e.map(eR).filter(e=>null!=e);return n&&(null==t.dataKey||t.allowDuplicatedCategory&&xv(r))?iE(0,e.length):t.allowDuplicatedCategory?r:Array.from(new Set(r))})(r,e,d):"expand"===a?xR:i}},vR=Fw([vz,YS,Tz,Az,PA,QA,gR],bR);var yR=(e,t,n)=>{if(null!=e){var{scale:r,type:a}=e;if("auto"===r)return"category"===a&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!t)?"point":"category"===a?"band":"linear";if("string"==typeof r){var s="scale".concat(yv(r));return function(e){return e in LM}(s)?s:"point"}}},wR=Fw([vz,wz,DA],yR);function jR(e,t,n,r){if(null!=n&&null!=r)return"function"==typeof e.scale?oz(e.scale,n,r):oz(t,n,r)}var NR=(e,t,n)=>{var r=qz(t);if("auto"===n||"linear"===n)return null!=t&&t.tickCount&&Array.isArray(r)&&("auto"===r[0]||"auto"===r[1])&&UM(e)?_A(e,t.tickCount,t.allowDecimals):null!=t&&t.tickCount&&"number"===t.type&&UM(e)?function(e,t){var[n,r]=e,a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],[s,i]=kA([n,r]);if(s===-1/0||i===1/0)return[n,r];if(s===i)return[s];var o=Math.max(t,2),l=SA(new wA(i).sub(s).div(o-1),a,0),c=[...NA(new wA(s),new wA(i),l),i];return!1===a&&(c=c.map(e=>Math.round(e))),n>r?c.reverse():c}(e,t.tickCount,t.allowDecimals):void 0},kR=Fw([vR,yz,wR],NR),SR=(e,t,n,r)=>{if("angleAxis"!==r&&"number"===(null==e?void 0:e.type)&&UM(t)&&Array.isArray(n)&&n.length>0){var a,s,i=t[0],o=null!==(a=n[0])&&void 0!==a?a:0,l=t[1],c=null!==(s=n[n.length-1])&&void 0!==s?s:0;return[Math.min(i,o),Math.max(l,c)]}return t},CR=Fw([vz,vR,kR,QA],SR),_R=Fw(Az,vz,(e,t)=>{if(t&&"number"===t.type){var n=1/0,r=Array.from(Fz(e.map(e=>e.value))).sort((e,t)=>e-t),a=r[0],s=r[r.length-1];if(null==a||null==s)return 1/0;var i=s-a;if(0===i)return 1/0;for(var o=0;o<r.length-1;o++){var l=r[o],c=r[o+1];if(null!=l&&null!=c){var d=c-l;n=Math.min(n,d)}}return n/i}}),PR=Fw(_R,YS,e=>e.rootProps.barCategoryGap,cS,(e,t,n,r,a)=>a,(e,t,n,r,a)=>{if(!Ik(e))return 0;var s="vertical"===t?r.height:r.width;if("gap"===a)return e*s/2;if("no-gap"===a){var i=gv(n,e*s),o=e*s/2;return o-i-(o-i)/s*i}return 0}),ER=Fw(pz,(e,t,n)=>{var r=pz(e,t);return null==r||"string"!=typeof r.padding?0:PR(e,"xAxis",t,n,r.padding)},(e,t)=>{var n,r;if(null==e)return{left:0,right:0};var{padding:a}=e;return"string"==typeof a?{left:t,right:t}:{left:(null!==(n=a.left)&&void 0!==n?n:0)+t,right:(null!==(r=a.right)&&void 0!==r?r:0)+t}}),DR=Fw(gz,(e,t,n)=>{var r=gz(e,t);return null==r||"string"!=typeof r.padding?0:PR(e,"yAxis",t,n,r.padding)},(e,t)=>{var n,r;if(null==e)return{top:0,bottom:0};var{padding:a}=e;return"string"==typeof a?{top:t,bottom:t}:{top:(null!==(n=a.top)&&void 0!==n?n:0)+t,bottom:(null!==(r=a.bottom)&&void 0!==r?r:0)+t}}),OR=Fw([cS,ER,vS,bS,(e,t,n)=>n],(e,t,n,r,a)=>{var{padding:s}=r;return a?[s.left,n.width-s.right]:[e.left+t.left,e.left+e.width-t.right]}),TR=Fw([cS,YS,DR,vS,bS,(e,t,n)=>n],(e,t,n,r,a,s)=>{var{padding:i}=a;return s?[r.height-i.bottom,i.top]:"horizontal"===t?[e.top+e.height-n.bottom,e.top+n.top]:[e.top+n.top,e.top+e.height-n.bottom]}),MR=(e,t,n,r)=>{var a;switch(t){case"xAxis":return OR(e,n,r);case"yAxis":return TR(e,n,r);case"zAxis":return null===(a=bz(e,n))||void 0===a?void 0:a.range;case"angleAxis":return GA(e);case"radiusAxis":return KA(e,n);default:return}},AR=Fw([vz,MR],zA),zR=Fw([wR,CR],lz),RR=Fw([vz,wR,zR,AR],jR);function IR(e,t){return e.id<t.id?-1:e.id>t.id?1:0}Fw([Sz,Xz,QA],(e,t,n)=>e.flatMap(e=>t[e.id]).filter(Boolean).filter(e=>zz(n,e)));var FR=(e,t)=>t,LR=(e,t,n)=>n,BR=Fw(nS,FR,LR,(e,t,n)=>e.filter(e=>e.orientation===t).filter(e=>e.mirror===n).sort(IR)),$R=Fw(rS,FR,LR,(e,t,n)=>e.filter(e=>e.orientation===t).filter(e=>e.mirror===n).sort(IR)),WR=(e,t)=>({width:e.width,height:t.height});Fw(cS,pz,WR);var UR=Fw(Zk,cS,BR,FR,LR,(e,t,n,r,a)=>{var s,i={};return n.forEach(n=>{var o=WR(t,n);null==s&&(s=((e,t,n)=>{switch(t){case"top":return e.top;case"bottom":return n-e.bottom;default:return 0}})(t,r,e));var l="top"===r&&!a||"bottom"===r&&a;i[n.id]=s-Number(l)*o.height,s+=(l?-1:1)*o.height}),i}),HR=Fw(Jk,cS,$R,FR,LR,(e,t,n,r,a)=>{var s,i={};return n.forEach(n=>{var o=((e,t)=>({width:"number"==typeof t.width?t.width:60,height:e.height}))(t,n);null==s&&(s=((e,t,n)=>{switch(t){case"left":return e.left;case"right":return n-e.right;default:return 0}})(t,r,e));var l="left"===r&&!a||"right"===r&&a;i[n.id]=s-Number(l)*o.width,s+=(l?-1:1)*o.width}),i});Fw([cS,pz,(e,t)=>{var n=pz(e,t);if(null!=n)return UR(e,n.orientation,n.mirror)},(e,t)=>t],(e,t,n,r)=>{if(null!=t){var a=null==n?void 0:n[r];return null==a?{x:e.left,y:0}:{x:e.left,y:a}}});Fw([cS,gz,(e,t)=>{var n=gz(e,t);if(null!=n)return HR(e,n.orientation,n.mirror)},(e,t)=>t],(e,t,n,r)=>{if(null!=t){var a=null==n?void 0:n[r];return null==a?{x:0,y:e.top}:{x:a,y:e.top}}}),Fw(cS,gz,(e,t)=>({width:"number"==typeof t.width?t.width:60,height:e.height}));var VR=(e,t,n,r)=>{if(null!=n){var{allowDuplicatedCategory:a,type:s,dataKey:i}=n,o=Uk(e,r),l=t.map(e=>e.value);return i&&o&&"category"===s&&a&&xv(l)?l:void 0}},qR=Fw([YS,Az,vz,QA],VR),YR=(e,t,n,r)=>{if(null!=n&&null!=n.dataKey){var{type:a,scale:s}=n;return!Uk(e,r)||"number"!==a&&"auto"===s?void 0:t.map(e=>e.value)}},GR=Fw([YS,Az,yz,QA],YR);Fw([YS,(e,t,n)=>{switch(t){case"xAxis":return pz(e,n);case"yAxis":return gz(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},wR,RR,qR,GR,MR,kR,QA],(e,t,n,r,a,s,i,o,l)=>{if(null!=t){var c=Uk(e,l);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:l,categoricalDomain:s,duplicateDomain:a,isCategorical:c,niceTicks:o,range:i,realScaleType:n,scale:r}}});Fw([YS,yz,wR,RR,kR,MR,qR,GR,QA],(e,t,n,r,a,s,i,o,l)=>{if(null!=t&&null!=r){var c=Uk(e,l),{type:d,ticks:u,tickCount:h}=t,m="scaleBand"===n&&"function"==typeof r.bandwidth?r.bandwidth()/2:2,p="category"===d&&r.bandwidth?r.bandwidth()/m:0;p="angleAxis"===l&&null!=s&&s.length>=2?2*cv(s[0]-s[1])*p:p;var f=u||a;return f?f.map((e,t)=>{var n=i?i.indexOf(e):e,a=r.map(n);return Ik(a)?{index:t,coordinate:a+p,value:e,offset:p}:null}).filter(wv):c&&o?o.map((e,t)=>{var n=r.map(e);return Ik(n)?{coordinate:n+p,value:e,index:t,offset:p}:null}).filter(wv):r.ticks?r.ticks(h).map((e,t)=>{var n=r.map(e);return Ik(n)?{coordinate:n+p,value:e,index:t,offset:p}:null}).filter(wv):r.domain().map((e,t)=>{var n=r.map(e);return Ik(n)?{coordinate:n+p,value:i?i[e]:e,index:t,offset:p}:null}).filter(wv)}});Fw([YS,yz,RR,MR,qR,GR,QA],(e,t,n,r,a,s,i)=>{if(null!=t&&null!=n&&null!=r&&r[0]!==r[1]){var o=Uk(e,i),{tickCount:l}=t,c=0;return c="angleAxis"===i&&(null==r?void 0:r.length)>=2?2*cv(r[0]-r[1])*c:c,o&&s?s.map((e,t)=>{var r=n.map(e);return Ik(r)?{coordinate:r+c,value:e,index:t,offset:c}:null}).filter(wv):n.ticks?n.ticks(l).map((e,t)=>{var r=n.map(e);return Ik(r)?{coordinate:r+c,value:e,index:t,offset:c}:null}).filter(wv):n.domain().map((e,t)=>{var r=n.map(e);return Ik(r)?{coordinate:r+c,value:a?a[e]:e,index:t,offset:c}:null}).filter(wv)}}),Fw(vz,RR,(e,t)=>{if(null!=e&&null!=t)return dz(dz({},e),{},{scale:t})});var KR=Fw([vz,wR,vR,AR],jR);Fw((e,t,n)=>bz(e,n),KR,(e,t)=>{if(null!=e&&null!=t)return dz(dz({},e),{},{scale:t})});var XR=Fw([YS,nS,rS],(e,t,n)=>{switch(e){case"horizontal":return t.some(e=>e.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(e=>e.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),QR=e=>e.options.defaultTooltipEventType,JR=e=>e.options.validateTooltipEventTypes;function ZR(e,t,n){if(null==e)return t;var r=e?"axis":"item";return null==n?t:n.includes(r)?r:t}function eI(e,t){return ZR(t,QR(e),JR(e))}var tI=(e,t)=>{var n,r=Number(t);if(!dv(r)&&null!=t)return r>=0?null==e||null===(n=e[r])||void 0===n?void 0:n.value:void 0},nI={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},rI=XN({name:"tooltip",initialState:{itemInteraction:{click:nI,hover:nI},axisInteraction:{click:nI,hover:nI},keyboardInteraction:nI,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},reducers:{addTooltipEntrySettings:{reducer(e,t){e.tooltipItemPayloads.push(t.payload)},prepare:BN()},replaceTooltipEntrySettings:{reducer(e,t){var{prev:n,next:r}=t.payload,a=_N(e).tooltipItemPayloads.indexOf(n);a>-1&&(e.tooltipItemPayloads[a]=r)},prepare:BN()},removeTooltipEntrySettings:{reducer(e,t){var n=_N(e).tooltipItemPayloads.indexOf(t.payload);n>-1&&e.tooltipItemPayloads.splice(n,1)},prepare:BN()},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate}}}),{addTooltipEntrySettings:aI,replaceTooltipEntrySettings:sI,removeTooltipEntrySettings:iI,setTooltipSettingsState:oI,setActiveMouseOverItemIndex:lI,mouseLeaveItem:cI,mouseLeaveChart:dI,setActiveClickItemIndex:uI,setMouseOverAxisIndex:hI,setMouseClickAxisIndex:mI,setSyncInteraction:pI,setKeyboardInteraction:fI}=rI.actions,gI=rI.reducer;function xI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function bI(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?xI(Object(n),!0).forEach(function(t){vI(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xI(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function vI(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var yI=(e,t,n,r)=>{if(null==t)return nI;var a=function(e,t,n){return"axis"===t?"click"===n?e.axisInteraction.click:e.axisInteraction.hover:"click"===n?e.itemInteraction.click:e.itemInteraction.hover}(e,t,n);if(null==a)return nI;if(a.active)return a;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&null!=e.syncInteraction.index)return e.syncInteraction;var s=!0===e.settings.active;if(null!=a.index){if(s)return bI(bI({},a),{},{active:!0})}else if(null!=r)return{active:!0,coordinate:void 0,dataKey:void 0,index:r,graphicalItemId:void 0};return bI(bI({},nI),{},{coordinate:a.coordinate})};function wI(e,t){var n=function(e){if("number"==typeof e)return Number.isFinite(e)?e:void 0;if(e instanceof Date){var t=e.valueOf();return Number.isFinite(t)?t:void 0}var n=Number(e);return Number.isFinite(n)?n:void 0}(e),r=t[0],a=t[1];if(void 0===n)return!1;var s=Math.min(r,a),i=Math.max(r,a);return n>=s&&n<=i}var jI=(e,t,n,r)=>{var a=null==e?void 0:e.index;if(null==a)return null;var s=Number(a);if(!Ik(s))return a;var i=1/0;t.length>0&&(i=t.length-1);var o=Math.max(0,Math.min(s,i)),l=t[o];return null==l||function(e,t,n){if(null==n||null==t)return!0;var r=Wk(e,t);return null==r||!UM(n)||wI(r,n)}(l,n,r)?String(o):null},NI=(e,t,n,r,a,s,i)=>{if(null!=s){var o=i[0],l=null==o?void 0:o.getPosition(s);if(null!=l)return l;var c=null==a?void 0:a[Number(s)];if(c)return"horizontal"===n?{x:c.coordinate,y:(r.top+t)/2}:{x:(r.left+e)/2,y:c.coordinate}}},kI=(e,t,n,r)=>{if("axis"===t)return e.tooltipItemPayloads;if(0===e.tooltipItemPayloads.length)return[];var a;if(null==(a="hover"===n?e.itemInteraction.hover.graphicalItemId:e.itemInteraction.click.graphicalItemId)&&null!=r){var s=e.tooltipItemPayloads[0];return null!=s?[s]:[]}return e.tooltipItemPayloads.filter(e=>{var t;return(null===(t=e.settings)||void 0===t?void 0:t.graphicalItemId)===a})},SI=e=>e.options.tooltipPayloadSearcher,CI=e=>e.tooltip;function _I(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function PI(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_I(Object(n),!0).forEach(function(t){EI(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_I(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function EI(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var DI=(e,t,n,r,a,s,i)=>{if(null!=t&&null!=s){var{chartData:o,computedData:l,dataStartIndex:c,dataEndIndex:d}=n;return e.reduce((e,n)=>{var u,h,m,{dataDefinedOnItem:p,settings:f}=n,g=function(e,t){return null!=e?e:t}(p,o),x=Array.isArray(g)?Rk(g,c,d):g,b=null!==(u=null==f?void 0:f.dataKey)&&void 0!==u?u:r,v=null==f?void 0:f.nameKey;(h=r&&Array.isArray(x)&&!Array.isArray(x[0])&&"axis"===i?function(e,t,n){if(e&&e.length)return e.find(e=>e&&("function"==typeof t?t(e):iv(e,t))===n)}(x,r,a):s(x,t,l,v),Array.isArray(h))?h.forEach(t=>{var n=PI(PI({},f),{},{name:t.name,unit:t.unit,color:void 0,fill:void 0});e.push(Xk({tooltipEntrySettings:n,dataKey:t.dataKey,payload:t.payload,value:Wk(t.payload,t.dataKey),name:t.name}))}):e.push(Xk({tooltipEntrySettings:f,dataKey:b,payload:h,value:Wk(h,b),name:null!==(m=Wk(h,v))&&void 0!==m?m:null==f?void 0:f.name}));return e},[])}},OI=Fw([Lz,wz,DA],yR),TI=Fw([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),MI=Fw([az,sz],jz),AI=Fw([TI,Lz,MI],kz,{memoizeOptions:{resultEqualityCheck:rz}}),zI=Fw([AI],e=>e.filter(tz)),RI=Fw([AI],Ez,{memoizeOptions:{resultEqualityCheck:rz}}),II=Fw([RI,BM],Oz),FI=Fw([zI,BM,Lz],ez),LI=Fw([II,Lz,AI],Mz),BI=Fw([Lz],qz),$I=Fw([Lz],e=>e.allowDataOverflow),WI=Fw([BI,$I],VM),UI=Fw([AI],e=>e.filter(tz)),HI=Fw([FI,UI,PA,EA],Wz),VI=Fw([HI,BM,az,WI],Hz),qI=Fw([AI],_z),YI=Fw([II,Lz,qI,Xz,az],Jz,{memoizeOptions:{resultEqualityCheck:nz}}),GI=Fw([tR,az,sz],nR),KI=Fw([GI,az],lR),XI=Fw([aR,az,sz],nR),QI=Fw([XI,az],dR),JI=Fw([iR,az,sz],nR),ZI=Fw([JI,az],hR),eF=Fw([KI,ZI,QI],Qz),tF=Fw([Lz,BI,WI,VI,YI,eF,YS,az],fR),nF=Fw([Lz,YS,II,LI,PA,az,tF],bR),rF=Fw([nF,Lz,OI],NR),aF=Fw([Lz,nF,rF,az],SR),sF=e=>{var t=az(e),n=sz(e);return MR(e,t,n,!1)},iF=Fw([Lz,sF],zA),oF=Fw([Lz,OI,aF,iF],jR),lF=Fw([YS,LI,Lz,az],VR),cF=Fw([YS,LI,Lz,az],YR),dF=Fw([YS,Lz,OI,oF,sF,lF,cF,az],(e,t,n,r,a,s,i,o)=>{if(t){var{type:l}=t,c=Uk(e,o);if(r){var d="scaleBand"===n&&r.bandwidth?r.bandwidth()/2:2,u="category"===l&&r.bandwidth?r.bandwidth()/d:0;return u="angleAxis"===o&&null!=a&&(null==a?void 0:a.length)>=2?2*cv(a[0]-a[1])*u:u,c&&i?i.map((e,t)=>{var n=r.map(e);return Ik(n)?{coordinate:n+u,value:e,index:t,offset:u}:null}).filter(wv):r.domain().map((e,t)=>{var n=r.map(e);return Ik(n)?{coordinate:n+u,value:s?s[e]:e,index:t,offset:u}:null}).filter(wv)}}}),uF=Fw([QR,JR,e=>e.tooltip.settings],(e,t,n)=>ZR(n.shared,e,t)),hF=e=>e.tooltip.settings.trigger,mF=e=>e.tooltip.settings.defaultIndex,pF=Fw([CI,uF,hF,mF],yI),fF=Fw([pF,II,Bz,nF],jI),gF=Fw([dF,fF],tI),xF=Fw([pF],e=>{if(e)return e.dataKey}),bF=Fw([pF],e=>{if(e)return e.graphicalItemId}),vF=Fw([CI,uF,hF,mF],kI),yF=Fw([Jk,Zk,YS,cS,dF,mF,vF],NI),wF=Fw([pF,yF],(e,t)=>null!=e&&e.coordinate?e.coordinate:t),jF=Fw([pF],e=>{var t;return null!==(t=null==e?void 0:e.active)&&void 0!==t&&t}),NF=Fw([vF,fF,BM,Bz,gF,SI,uF],DI);function kF(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function SF(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?kF(Object(n),!0).forEach(function(t){CF(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kF(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function CF(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Fw([NF],e=>{if(null!=e){var t=e.map(e=>e.payload).filter(e=>null!=e);return Array.from(new Set(t))}});var _F=()=>{var e=Dw(Lz),t=Dw(dF),n=Dw(oF);return Kk(e&&n?SF(SF({},e),{},{scale:n}):void 0,t)};function PF(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function EF(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?PF(Object(n),!0).forEach(function(t){DF(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):PF(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function DF(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var OF=(e,t,n,r,a)=>{var s,i=null!==(s=null==t?void 0:t.length)&&void 0!==s?s:0;if(i<=1||null==e)return 0;if("angleAxis"===r&&null!=a&&Math.abs(Math.abs(a[1]-a[0])-360)<=1e-6)for(var o=0;o<i;o++){var l,c,d,u,h,m=o>0?null===(l=n[o-1])||void 0===l?void 0:l.coordinate:null===(c=n[i-1])||void 0===c?void 0:c.coordinate,p=null===(d=n[o])||void 0===d?void 0:d.coordinate,f=o>=i-1?null===(u=n[0])||void 0===u?void 0:u.coordinate:null===(h=n[o+1])||void 0===h?void 0:h.coordinate,g=void 0;if(null!=m&&null!=p&&null!=f)if(cv(p-m)!==cv(f-p)){var x=[];if(cv(f-p)===cv(a[1]-a[0])){g=f;var b=p+a[1]-a[0];x[0]=Math.min(b,(b+m)/2),x[1]=Math.max(b,(b+m)/2)}else{g=m;var v=f+a[1]-a[0];x[0]=Math.min(p,(v+p)/2),x[1]=Math.max(p,(v+p)/2)}var y,w=[Math.min(p,(g+p)/2),Math.max(p,(g+p)/2)];if(e>w[0]&&e<=w[1]||e>=x[0]&&e<=x[1])return null===(y=n[o])||void 0===y?void 0:y.index}else{var j,N=Math.min(m,f),k=Math.max(m,f);if(e>(N+p)/2&&e<=(k+p)/2)return null===(j=n[o])||void 0===j?void 0:j.index}}else if(t)for(var S=0;S<i;S++){var C=t[S];if(null!=C){var _=t[S+1],P=t[S-1];if(0===S&&null!=_&&e<=(C.coordinate+_.coordinate)/2)return C.index;if(S===i-1&&null!=P&&e>(C.coordinate+P.coordinate)/2)return C.index;if(S>0&&S<i-1&&null!=P&&null!=_&&e>(C.coordinate+P.coordinate)/2&&e<=(C.coordinate+_.coordinate)/2)return C.index}}return-1},TF=(e,t)=>t,MF=(e,t,n)=>n,AF=(e,t,n,r)=>r,zF=Fw(dF,e=>lj(e,e=>e.coordinate)),RF=Fw([CI,TF,MF,AF],yI),IF=Fw([RF,II,Bz,nF],jI),FF=Fw([CI,TF,MF,AF],kI),LF=Fw([Jk,Zk,YS,cS,dF,AF,FF],NI),BF=Fw([RF,LF],(e,t)=>{var n;return null!==(n=e.coordinate)&&void 0!==n?n:t}),$F=Fw([dF,IF],tI),WF=Fw([FF,IF,BM,Bz,$F,SI,TF],DI),UF=Fw([RF,IF],(e,t)=>({isActive:e.active&&null!=t,activeIndex:t})),HF=(e,t,n,r,a,s,i)=>{if(e&&r&&a&&s&&n){var o=BP(e,n);if(o){var l=((e,t)=>"centric"===t?e.angle:e.radius)(o,t),c=OF(l,i,s,r,a),d=((e,t,n,r)=>{var a=t.find(e=>e&&e.index===n);if(a){if("centric"===e){var s=a.coordinate,{radius:i}=r;return EF(EF(EF({},r),RP(r.cx,r.cy,i,s)),{},{angle:s,radius:i})}var o=a.coordinate,{angle:l}=r;return EF(EF(EF({},r),RP(r.cx,r.cy,o,l)),{},{angle:l,radius:o})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}})(t,s,c,o);return{activeIndex:String(c),activeCoordinate:d}}}},VF=Fw(e=>e.zIndex.zIndexMap,(e,t)=>t,(e,t,n)=>n,(e,t,n)=>{if(null!=t){var r=e[t];if(null!=r)return n?r.panoramaElement:r.element}}),qF=Fw(e=>e.zIndex.zIndexMap,e=>{var t=Object.keys(e).map(e=>parseInt(e,10)).concat(Object.values(AA));return Array.from(new Set(t)).sort((e,t)=>e-t)},{memoizeOptions:{resultEqualityCheck:function(e,t){if(e.length===t.length){for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}return!1}}});function YF(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function GF(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?YF(Object(n),!0).forEach(function(t){KF(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):YF(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function KF(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var XF={zIndexMap:Object.values(AA).reduce((e,t)=>GF(GF({},e),{},{[t]:{element:void 0,panoramaElement:void 0,consumers:0}}),{})},QF=new Set(Object.values(AA));var JF=XN({name:"zIndex",initialState:XF,reducers:{registerZIndexPortal:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]?e.zIndexMap[n].consumers+=1:e.zIndexMap[n]={consumers:1,element:void 0,panoramaElement:void 0}},prepare:BN()},unregisterZIndexPortal:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]&&(e.zIndexMap[n].consumers-=1,e.zIndexMap[n].consumers<=0&&!function(e){return QF.has(e)}(n)&&delete e.zIndexMap[n])},prepare:BN()},registerZIndexPortalElement:{reducer:(e,t)=>{var{zIndex:n,element:r,isPanorama:a}=t.payload;e.zIndexMap[n]?a?e.zIndexMap[n].panoramaElement=r:e.zIndexMap[n].element=r:e.zIndexMap[n]={consumers:0,element:a?void 0:r,panoramaElement:a?r:void 0}},prepare:BN()},unregisterZIndexPortalElement:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]&&(t.payload.isPanorama?e.zIndexMap[n].panoramaElement=void 0:e.zIndexMap[n].element=void 0)},prepare:BN()}}}),{registerZIndexPortal:ZF,unregisterZIndexPortal:eL,registerZIndexPortalElement:tL,unregisterZIndexPortalElement:nL}=JF.actions,rL=JF.reducer;function aL(e){var{zIndex:t,children:n}=e,r=void 0!==GS()&&void 0!==t&&0!==t,a=xS(),s=Cw();kt.useLayoutEffect(()=>r?(s(ZF({zIndex:t})),()=>{s(eL({zIndex:t}))}):jv,[s,t,r]);var i=Dw(e=>VF(e,t,a));return r?i?Mt.createPortal(n,i):null:n}function sL(){return sL=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},sL.apply(null,arguments)}function iL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function oL(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?iL(Object(n),!0).forEach(function(t){lL(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):iL(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function lL(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function cL(e){var{cursor:t,cursorComp:n,cursorProps:r}=e;return kt.isValidElement(t)?kt.cloneElement(t,r):kt.createElement(n,r)}function dL(e){var t,n,r,a,{coordinate:s,payload:i,index:o,offset:l,tooltipAxisBandSize:c,layout:d,cursor:u,tooltipEventType:h,chartName:m}=e,p=s,f=i,g=o;if(!u||!p||"ScatterChart"!==m&&"axis"!==h)return null;if("ScatterChart"===m)n=p,r=C_,a=AA.cursorLine;else if("BarChart"===m)n=function(e,t,n,r){var a=r/2;return{stroke:"none",fill:"#ccc",x:"horizontal"===e?t.x-a:n.left+.5,y:"horizontal"===e?n.top+.5:t.y-a,width:"horizontal"===e?r:n.width-1,height:"horizontal"===e?n.height-1:r}}(d,p,l,c),r=NP,a=AA.cursorRectangle;else if("radial"===d&&Ov(p)){var{cx:x,cy:b,radius:v,startAngle:y,endAngle:w}=$P(p);n={cx:x,cy:b,startAngle:y,endAngle:w,innerRadius:v,outerRadius:v},r=YP,a=AA.cursorLine}else n={points:GP(d,p,l)},r=y_,a=AA.cursorLine;var j="object"==typeof u&&"className"in u?u.className:void 0,N=oL(oL(oL(oL({stroke:"#ccc",pointerEvents:"none"},l),n),Cx(u)),{},{payload:f,payloadIndex:g,className:Yt("recharts-tooltip-cursor",j)});return kt.createElement(aL,{zIndex:null!==(t=e.zIndex)&&void 0!==t?t:a},kt.createElement(cL,{cursor:u,cursorComp:r,cursorProps:N}))}function uL(e){var t,n=_F(),r=null!==(t=Dw(cS))&&void 0!==t?t:qS,a=GS(),s=Dw(DA);return null==n||null==r||null==a||null==s?null:kt.createElement(dL,sL({},e,{offset:r,layout:a,tooltipAxisBandSize:n,chartName:s}))}var hL,mL=kt.createContext(null),pL={exports:{}};var fL=(hL||(hL=1,function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}function a(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function s(e,t,r,s,i){if("function"!=typeof r)throw new TypeError("The listener must be a function");var o=new a(r,s||e,i),l=n?n+t:t;return e._events[l]?e._events[l].fn?e._events[l]=[e._events[l],o]:e._events[l].push(o):(e._events[l]=o,e._eventsCount++),e}function i(e,t){0===--e._eventsCount?e._events=new r:delete e._events[t]}function o(){this._events=new r,this._eventsCount=0}Object.create&&(r.prototype=Object.create(null),(new r).__proto__||(n=!1)),o.prototype.eventNames=function(){var e,r,a=[];if(0===this._eventsCount)return a;for(r in e=this._events)t.call(e,r)&&a.push(n?r.slice(1):r);return Object.getOwnPropertySymbols?a.concat(Object.getOwnPropertySymbols(e)):a},o.prototype.listeners=function(e){var t=n?n+e:e,r=this._events[t];if(!r)return[];if(r.fn)return[r.fn];for(var a=0,s=r.length,i=new Array(s);a<s;a++)i[a]=r[a].fn;return i},o.prototype.listenerCount=function(e){var t=n?n+e:e,r=this._events[t];return r?r.fn?1:r.length:0},o.prototype.emit=function(e,t,r,a,s,i){var o=n?n+e:e;if(!this._events[o])return!1;var l,c,d=this._events[o],u=arguments.length;if(d.fn){switch(d.once&&this.removeListener(e,d.fn,void 0,!0),u){case 1:return d.fn.call(d.context),!0;case 2:return d.fn.call(d.context,t),!0;case 3:return d.fn.call(d.context,t,r),!0;case 4:return d.fn.call(d.context,t,r,a),!0;case 5:return d.fn.call(d.context,t,r,a,s),!0;case 6:return d.fn.call(d.context,t,r,a,s,i),!0}for(c=1,l=new Array(u-1);c<u;c++)l[c-1]=arguments[c];d.fn.apply(d.context,l)}else{var h,m=d.length;for(c=0;c<m;c++)switch(d[c].once&&this.removeListener(e,d[c].fn,void 0,!0),u){case 1:d[c].fn.call(d[c].context);break;case 2:d[c].fn.call(d[c].context,t);break;case 3:d[c].fn.call(d[c].context,t,r);break;case 4:d[c].fn.call(d[c].context,t,r,a);break;default:if(!l)for(h=1,l=new Array(u-1);h<u;h++)l[h-1]=arguments[h];d[c].fn.apply(d[c].context,l)}}return!0},o.prototype.on=function(e,t,n){return s(this,e,t,n,!1)},o.prototype.once=function(e,t,n){return s(this,e,t,n,!0)},o.prototype.removeListener=function(e,t,r,a){var s=n?n+e:e;if(!this._events[s])return this;if(!t)return i(this,s),this;var o=this._events[s];if(o.fn)o.fn!==t||a&&!o.once||r&&o.context!==r||i(this,s);else{for(var l=0,c=[],d=o.length;l<d;l++)(o[l].fn!==t||a&&!o[l].once||r&&o[l].context!==r)&&c.push(o[l]);c.length?this._events[s]=1===c.length?c[0]:c:i(this,s)}return this},o.prototype.removeAllListeners=function(e){var t;return e?(t=n?n+e:e,this._events[t]&&i(this,t)):(this._events=new r,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=n,o.EventEmitter=o,e.exports=o}(pL)),pL.exports);var gL=new(Nt(fL)),xL="recharts.syncEvent.tooltip",bL="recharts.syncEvent.brush",vL=(e,t)=>{if(t&&Array.isArray(e)){var n=Number.parseInt(t,10);if(!dv(n))return e[n]}},yL=XN({name:"options",initialState:{chartName:"",tooltipPayloadSearcher:()=>{},eventEmitter:void 0,defaultTooltipEventType:"axis"},reducers:{createEventEmitter:e=>{null==e.eventEmitter&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),wL=yL.reducer,{createEventEmitter:jL}=yL.actions;function NL(e){return e.tooltip.syncInteraction}var kL=XN({name:"chartData",initialState:{chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},reducers:{setChartData(e,t){if(e.chartData=t.payload,null==t.payload)return e.dataStartIndex=0,void(e.dataEndIndex=0);t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:n,endIndex:r}=t.payload;null!=n&&(e.dataStartIndex=n),null!=r&&(e.dataEndIndex=r)}}}),{setChartData:SL,setDataStartEndIndexes:CL,setComputedData:_L}=kL.actions,PL=kL.reducer,EL=["x","y"];function DL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function OL(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?DL(Object(n),!0).forEach(function(t){TL(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):DL(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function TL(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ML(){var e=Dw(OA),t=Dw(MA),n=Cw(),r=Dw(TA),a=Dw(dF),s=GS(),i=VS(),o=Dw(e=>e.rootProps.className);kt.useEffect(()=>{if(null==e)return jv;var o=(o,l,c)=>{var d;if(t!==c&&e===o)if("index"!==r){if(null!=a){var u;if("function"==typeof r){var h={activeTooltipIndex:null==l.payload.index?void 0:Number(l.payload.index),isTooltipActive:l.payload.active,activeIndex:null==l.payload.index?void 0:Number(l.payload.index),activeLabel:l.payload.label,activeDataKey:l.payload.dataKey,activeCoordinate:l.payload.coordinate},m=r(a,h);u=a[m]}else"value"===r&&(u=a.find(e=>String(e.value)===l.payload.label));var{coordinate:p}=l.payload;if(null!=u&&!1!==l.payload.active&&null!=p&&null!=i){var{x:f,y:g}=p,x=Math.min(f,i.x+i.width),b=Math.min(g,i.y+i.height),v={x:"horizontal"===s?u.coordinate:x,y:"horizontal"===s?b:u.coordinate},y=pI({active:l.payload.active,coordinate:v,dataKey:l.payload.dataKey,index:String(u.index),label:l.payload.label,sourceViewBox:l.payload.sourceViewBox,graphicalItemId:l.payload.graphicalItemId});n(y)}else n(pI({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}))}}else if(i&&null!=l&&null!==(d=l.payload)&&void 0!==d&&d.coordinate&&l.payload.sourceViewBox){var w=l.payload.coordinate,{x:j,y:N}=w,k=function(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}(w,EL),{x:S,y:C,width:_,height:P}=l.payload.sourceViewBox,E=OL(OL({},k),{},{x:i.x+(_?(j-S)/_:0)*i.width,y:i.y+(P?(N-C)/P:0)*i.height});n(OL(OL({},l),{},{payload:OL(OL({},l.payload),{},{coordinate:E})}))}else n(l)};return gL.on(xL,o),()=>{gL.off(xL,o)}},[o,n,t,e,r,a,s,i])}function AL(){var e=Cw();kt.useEffect(()=>{e(jL())},[e]),ML(),function(){var e=Dw(OA),t=Dw(MA),n=Cw();kt.useEffect(()=>{if(null==e)return jv;var r=(r,a,s)=>{t!==s&&e===r&&n(CL(a))};return gL.on(bL,r),()=>{gL.off(bL,r)}},[n,t,e])}()}function zL(e,t,n,r,a,s){var i=Dw(n=>((e,t,n)=>{if(null!=t){var r=CI(e);return"axis"===t?"hover"===n?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:"hover"===n?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}})(n,e,t)),o=Dw(MA),l=Dw(OA),c=Dw(TA),d=Dw(NL),u=null==d?void 0:d.active,h=VS();kt.useEffect(()=>{if(!u&&null!=l&&null!=o){var e=pI({active:s,coordinate:n,dataKey:i,index:a,label:"number"==typeof r?String(r):r,sourceViewBox:h,graphicalItemId:void 0});gL.emit(xL,l,e,o)}},[u,n,i,a,r,o,l,c,s,h])}function RL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function IL(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?RL(Object(n),!0).forEach(function(t){FL(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):RL(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function FL(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function LL(e){return e.dataKey}var BL=[],$L={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,includeHidden:!1,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function WL(e){var t,n,r=Av(e,$L),{active:a,allowEscapeViewBox:s,animationDuration:i,animationEasing:o,content:l,filterNull:c,isAnimationActive:d,offset:u,payloadUniqBy:h,position:m,reverseDirection:p,useTranslate3d:f,wrapperStyle:g,cursor:x,shared:b,trigger:v,defaultIndex:y,portal:w,axisId:j}=r,N=Cw(),k="number"==typeof y?String(y):y;kt.useEffect(()=>{N(oI({shared:b,trigger:v,axisId:j,active:a,defaultIndex:k}))},[N,b,v,j,a,k]);var S=VS(),C=l_(),_=function(e){return Dw(t=>eI(t,e))}(b),{activeIndex:P,isActive:E}=null!==(t=Dw(e=>UF(e,_,v,k)))&&void 0!==t?t:{},D=Dw(e=>WF(e,_,v,k)),O=Dw(e=>$F(e,_,v,k)),T=Dw(e=>BF(e,_,v,k)),M=D,A=kt.useContext(mL),z=null!==(n=null!=a?a:E)&&void 0!==n&&n,[R,I]=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],[t,n]=kt.useState({height:0,left:0,top:0,width:0}),r=kt.useCallback(e=>{if(null!=e){var r=e.getBoundingClientRect(),a={height:r.height,left:r.left,top:r.top,width:r.width};(Math.abs(a.height-t.height)>1||Math.abs(a.left-t.left)>1||Math.abs(a.top-t.top)>1||Math.abs(a.width-t.width)>1)&&n({height:a.height,left:a.left,top:a.top,width:a.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,r]}([M,z]),F="axis"===_?O:void 0;zL(_,v,T,F,P,z);var L=null!=w?w:A;if(null==L||null==S||null==_)return null;var B=null!=M?M:BL;z||(B=BL),c&&B.length&&(B=function(e,t,n){return!0===t?mw(e,n):"function"==typeof t?mw(e,t):e}(B.filter(e=>null!=e.value&&(!0!==e.hide||r.includeHidden)),h,LL));var $=B.length>0,W=kt.createElement(o_,{allowEscapeViewBox:s,animationDuration:i,animationEasing:o,isAnimationActive:d,active:z,coordinate:T,hasPayload:$,offset:u,position:m,reverseDirection:p,useTranslate3d:f,viewBox:S,wrapperStyle:g,lastBoundingBox:R,innerRef:I,hasPortalFromProps:Boolean(w)},function(e,t){return kt.isValidElement(e)?kt.cloneElement(e,t):"function"==typeof e?kt.createElement(e,t):kt.createElement(ZC,t)}(l,IL(IL({},r),{},{payload:B,label:F,active:z,activeIndex:P,coordinate:T,accessibilityLayer:C})));return kt.createElement(kt.Fragment,null,Mt.createPortal(W,L),z&&kt.createElement(uL,{cursor:x,tooltipEventType:_,coordinate:T,payload:B,index:P}))}var UL=e=>null;function HL(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}UL.displayName="Cell";function VL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function qL(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var YL=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?VL(Object(n),!0).forEach(function(t){qL(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):VL(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},{cacheSize:2e3,enableCache:!0}),GL=new class{constructor(e){HL(this,"cache",new Map),this.maxSize=e}get(e){var t=this.cache.get(e);return void 0!==t&&(this.cache.delete(e),this.cache.set(e,t)),t}set(e,t){if(this.cache.has(e))this.cache.delete(e);else if(this.cache.size>=this.maxSize){var n=this.cache.keys().next().value;null!=n&&this.cache.delete(n)}this.cache.set(e,t)}clear(){this.cache.clear()}size(){return this.cache.size}}(YL.cacheSize),KL={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},XL="recharts_measurement_span";var QL=(e,t)=>{try{var n=document.getElementById(XL);n||((n=document.createElement("span")).setAttribute("id",XL),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,KL,t),n.textContent="".concat(e);var r=n.getBoundingClientRect();return{width:r.width,height:r.height}}catch(a){return{width:0,height:0}}},JL=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(null==e||Q_)return{width:0,height:0};if(!YL.enableCache)return QL(e,t);var n=function(e,t){var n=t.fontSize||"",r=t.fontFamily||"",a=t.fontWeight||"",s=t.fontStyle||"",i=t.letterSpacing||"",o=t.textTransform||"";return"".concat(e,"|").concat(n,"|").concat(r,"|").concat(a,"|").concat(s,"|").concat(i,"|").concat(o)}(e,t),r=GL.get(n);if(r)return r;var a=QL(e,t);return GL.set(n,a),a};var ZL=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,eB=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,tB=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,nB=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,rB={cm:96/2.54,mm:96/25.4,pt:96/72,pc:16,in:96,Q:96/101.6,px:1},aB=["cm","mm","pt","pc","in","Q","px"];var sB,iB,oB,lB="NaN";class cB{static parse(e){var t,[,n,r]=null!==(t=nB.exec(e))&&void 0!==t?t:[];return null==n?cB.NaN:new cB(parseFloat(n),null!=r?r:"")}constructor(e,t){this.num=e,this.unit=t,this.num=e,this.unit=t,dv(e)&&(this.unit=""),""===t||tB.test(t)||(this.num=NaN,this.unit=""),function(e){return aB.includes(e)}(t)&&(this.num=function(e,t){return e*rB[t]}(e,t),this.unit="px")}add(e){return this.unit!==e.unit?new cB(NaN,""):new cB(this.num+e.num,this.unit)}subtract(e){return this.unit!==e.unit?new cB(NaN,""):new cB(this.num-e.num,this.unit)}multiply(e){return""!==this.unit&&""!==e.unit&&this.unit!==e.unit?new cB(NaN,""):new cB(this.num*e.num,this.unit||e.unit)}divide(e){return""!==this.unit&&""!==e.unit&&this.unit!==e.unit?new cB(NaN,""):new cB(this.num/e.num,this.unit||e.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return dv(this.num)}}function dB(e){if(null==e||e.includes(lB))return lB;for(var t=e;t.includes("*")||t.includes("/");){var n,[,r,a,s]=null!==(n=ZL.exec(t))&&void 0!==n?n:[],i=cB.parse(null!=r?r:""),o=cB.parse(null!=s?s:""),l="*"===a?i.multiply(o):i.divide(o);if(l.isNaN())return lB;t=t.replace(ZL,l.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var c,[,d,u,h]=null!==(c=eB.exec(t))&&void 0!==c?c:[],m=cB.parse(null!=d?d:""),p=cB.parse(null!=h?h:""),f="+"===u?m.add(p):m.subtract(p);if(f.isNaN())return lB;t=t.replace(eB,f.toString())}return t}sB=cB,iB="NaN",oB=new cB(NaN,""),(iB=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(iB))in sB?Object.defineProperty(sB,iB,{value:oB,enumerable:!0,configurable:!0,writable:!0}):sB[iB]=oB;var uB=/\(([^()]*)\)/;function hB(e){var t=e.replace(/\s+/g,"");return t=function(e){for(var t,n=e;null!=(t=uB.exec(n));){var[,r]=t;n=n.replace(uB,dB(r))}return n}(t),t=dB(t)}function mB(e){var t=function(e){try{return hB(e)}catch(t){return lB}}(e.slice(5,-1));return t===lB?"":t}var pB=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],fB=["dx","dy","angle","className","breakAll"];function gB(){return gB=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},gB.apply(null,arguments)}function xB(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var bB=/[ \f\n\r\t\v\u2028\u2029]+/,vB=e=>{var{children:t,breakAll:n,style:r}=e;try{var a=[];return vv(t)||(a=n?t.toString().split(""):t.toString().split(bB)),{wordsWithComputedWidth:a.map(e=>({word:e,width:JL(e,r).width})),spaceWidth:n?0:JL("",r).width}}catch(s){return null}};function yB(e){return"start"===e||"middle"===e||"end"===e||"inherit"===e}var wB=(e,t,n,r)=>e.reduce((e,a)=>{var{word:s,width:i}=a,o=e[e.length-1];if(o&&null!=i&&(null==t||r||o.width+i+n<Number(t)))o.words.push(s),o.width+=i+n;else{var l={words:[s],width:i};e.push(l)}return e},[]),jB=e=>e.reduce((e,t)=>e.width>t.width?e:t),NB=(e,t,n,r,a,s,i,o)=>{var l=e.slice(0,t),c=vB({breakAll:n,style:r,children:l+""});if(!c)return[!1,[]];var d=wB(c.wordsWithComputedWidth,s,i,o);return[d.length>a||jB(d).width>Number(s),d]},kB=e=>[{words:vv(e)?[]:e.toString().split(bB),width:void 0}],SB=e=>{var{width:t,scaleToFit:n,children:r,style:a,breakAll:s,maxLines:i}=e;if((t||n)&&!Q_){var o=vB({breakAll:s,children:r,style:a});if(!o)return kB(r);var{wordsWithComputedWidth:l,spaceWidth:c}=o;return((e,t,n,r,a)=>{var{maxLines:s,children:i,style:o,breakAll:l}=e,c=hv(s),d=String(i),u=wB(t,r,n,a);if(!c||a)return u;if(!(u.length>s||jB(u).width>Number(r)))return u;for(var h,m=0,p=d.length-1,f=0;m<=p&&f<=d.length-1;){var g=Math.floor((m+p)/2),x=g-1,[b,v]=NB(d,x,l,o,s,r,n,a),[y]=NB(d,g,l,o,s,r,n,a);if(b||y||(m=g+1),b&&y&&(p=g-1),!b&&y){h=v;break}f++}return h||u})({breakAll:s,children:r,maxLines:i,style:a},l,c,t,Boolean(n))}return kB(r)},CB="#808080",_B={angle:0,breakAll:!1,capHeight:"0.71em",fill:CB,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},PB=kt.forwardRef((e,t)=>{var n=Av(e,_B),{x:r,y:a,lineHeight:s,capHeight:i,fill:o,scaleToFit:l,textAnchor:c,verticalAnchor:d}=n,u=xB(n,pB),h=kt.useMemo(()=>SB({breakAll:u.breakAll,children:u.children,maxLines:u.maxLines,scaleToFit:l,style:u.style,width:u.width}),[u.breakAll,u.children,u.maxLines,l,u.style,u.width]),{dx:m,dy:p,angle:f,className:g,breakAll:x}=u,b=xB(u,fB);if(!mv(r)||!mv(a)||0===h.length)return null;var v,y=Number(r)+(hv(m)?m:0),w=Number(a)+(hv(p)?p:0);if(!Ik(y)||!Ik(w))return null;switch(d){case"start":v=mB("calc(".concat(i,")"));break;case"middle":v=mB("calc(".concat((h.length-1)/2," * -").concat(s," + (").concat(i," / 2))"));break;default:v=mB("calc(".concat(h.length-1," * -").concat(s,")"))}var j=[],N=h[0];if(l&&null!=N){var k=N.width,{width:S}=u;j.push("scale(".concat(hv(S)&&hv(k)?S/k:1,")"))}return f&&j.push("rotate(".concat(f,", ").concat(y,", ").concat(w,")")),j.length&&(b.transform=j.join(" ")),kt.createElement("text",gB({},_x(b),{ref:t,x:y,y:w,className:Yt("recharts-text",g),textAnchor:c,fill:o.includes("url")?CB:o}),h.map((e,t)=>{var n=e.words.join(x?"":" ");return kt.createElement("tspan",{x:y,dy:0===t?v:s,key:"".concat(n,"-").concat(t)},n)}))});function EB(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function DB(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?EB(Object(n),!0).forEach(function(t){OB(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):EB(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function OB(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}PB.displayName="Text";var TB=["labelRef"],MB=["content"];function AB(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function zB(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function RB(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?zB(Object(n),!0).forEach(function(t){IB(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zB(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function IB(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function FB(){return FB=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},FB.apply(null,arguments)}var LB=kt.createContext(null),BB=kt.createContext(null),$B=(e,t,n,r,a)=>{var s,i,{offset:o,className:l}=e,{cx:c,cy:d,innerRadius:u,outerRadius:h,startAngle:m,endAngle:p,clockWise:f}=a,g=(u+h)/2,x=((e,t)=>cv(t-e)*Math.min(Math.abs(t-e),360))(m,p),b=x>=0?1:-1;switch(t){case"insideStart":s=m+b*o,i=f;break;case"insideEnd":s=p-b*o,i=!f;break;case"end":s=p+b*o,i=f;break;default:throw new Error("Unsupported position ".concat(t))}i=x<=0?i:!i;var v=RP(c,d,g,s),y=RP(c,d,g,s+359*(i?1:-1)),w="M".concat(v.x,",").concat(v.y,"\n    A").concat(g,",").concat(g,",0,1,").concat(i?0:1,",\n    ").concat(y.x,",").concat(y.y),j=vv(e.id)?fv("recharts-radial-line-"):e.id;return kt.createElement("text",FB({},r,{dominantBaseline:"central",className:Yt("recharts-radial-bar-label",l)}),kt.createElement("defs",null,kt.createElement("path",{id:j,d:w})),kt.createElement("textPath",{xlinkHref:"#".concat(j)},n))},WB=e=>null!=e&&"cx"in e&&hv(e.cx),UB={angle:0,offset:5,zIndex:AA.label,position:"middle",textBreakAll:!1};function HB(e){var t,n,r,a,s,i=Av(e,UB),{viewBox:o,parentViewBox:l,position:c,value:d,children:u,content:h,className:m="",textBreakAll:p,labelRef:f}=i,g=(t=kt.useContext(BB),n=Dw(XA),t||n),x=(()=>{var e=kt.useContext(LB),t=VS();return e||(t?HS(t):void 0)})(),b=function(e){if(!WB(e))return e;var{cx:t,cy:n,outerRadius:r}=e,a=2*r;return{x:t-r,y:n-r,width:a,upperWidth:a,lowerWidth:a,height:a}}(r=null==o?"center"===c?x:null!=g?g:x:WB(o)?o:HS(o));if(!r||vv(d)&&vv(u)&&!kt.isValidElement(h)&&"function"!=typeof h)return null;var v=RB(RB({},i),{},{viewBox:r});if(kt.isValidElement(h)){var{labelRef:y}=v,w=AB(v,TB);return kt.cloneElement(h,w)}if("function"==typeof h){var{content:j}=v,N=AB(v,MB);if(a=kt.createElement(h,N),kt.isValidElement(a))return a}else a=(e=>{var{value:t,formatter:n}=e,r=vv(e.children)?t:e.children;return"function"==typeof n?n(r):r})(i);var k=_x(i);if(WB(r)){if("insideStart"===c||"insideEnd"===c||"end"===c)return $B(i,c,a,k,r);s=((e,t,n)=>{var{cx:r,cy:a,innerRadius:s,outerRadius:i,startAngle:o,endAngle:l}=e,c=(o+l)/2;if("outside"===n){var{x:d,y:u}=RP(r,a,i+t,c);return{x:d,y:u,textAnchor:d>=r?"start":"end",verticalAnchor:"middle"}}if("center"===n)return{x:r,y:a,textAnchor:"middle",verticalAnchor:"middle"};if("centerTop"===n)return{x:r,y:a,textAnchor:"middle",verticalAnchor:"start"};if("centerBottom"===n)return{x:r,y:a,textAnchor:"middle",verticalAnchor:"end"};var h=(s+i)/2,{x:m,y:p}=RP(r,a,h,c);return{x:m,y:p,textAnchor:"middle",verticalAnchor:"middle"}})(r,i.offset,i.position)}else{if(!b)return null;var S=(e=>{var{viewBox:t,position:n,offset:r=0,parentViewBox:a}=e,{x:s,y:i,height:o,upperWidth:l,lowerWidth:c}=HS(t),d=s,u=s+(l-c)/2,h=(d+u)/2,m=(l+c)/2,p=d+l/2,f=o>=0?1:-1,g=f*r,x=f>0?"end":"start",b=f>0?"start":"end",v=l>=0?1:-1,y=v*r,w=v>0?"end":"start",j=v>0?"start":"end",N=a;if("top"===n){var k={x:d+l/2,y:i-g,horizontalAnchor:"middle",verticalAnchor:x};return N&&(k.height=Math.max(i-N.y,0),k.width=l),k}if("bottom"===n){var S={x:u+c/2,y:i+o+g,horizontalAnchor:"middle",verticalAnchor:b};return N&&(S.height=Math.max(N.y+N.height-(i+o),0),S.width=c),S}if("left"===n){var C={x:h-y,y:i+o/2,horizontalAnchor:w,verticalAnchor:"middle"};return N&&(C.width=Math.max(C.x-N.x,0),C.height=o),C}if("right"===n){var _={x:h+m+y,y:i+o/2,horizontalAnchor:j,verticalAnchor:"middle"};return N&&(_.width=Math.max(N.x+N.width-_.x,0),_.height=o),_}var P=N?{width:m,height:o}:{};return"insideLeft"===n?DB({x:h+y,y:i+o/2,horizontalAnchor:j,verticalAnchor:"middle"},P):"insideRight"===n?DB({x:h+m-y,y:i+o/2,horizontalAnchor:w,verticalAnchor:"middle"},P):"insideTop"===n?DB({x:d+l/2,y:i+g,horizontalAnchor:"middle",verticalAnchor:b},P):"insideBottom"===n?DB({x:u+c/2,y:i+o-g,horizontalAnchor:"middle",verticalAnchor:x},P):"insideTopLeft"===n?DB({x:d+y,y:i+g,horizontalAnchor:j,verticalAnchor:b},P):"insideTopRight"===n?DB({x:d+l-y,y:i+g,horizontalAnchor:w,verticalAnchor:b},P):"insideBottomLeft"===n?DB({x:u+y,y:i+o-g,horizontalAnchor:j,verticalAnchor:x},P):"insideBottomRight"===n?DB({x:u+c-y,y:i+o-g,horizontalAnchor:w,verticalAnchor:x},P):n&&"object"==typeof n&&(hv(n.x)||uv(n.x))&&(hv(n.y)||uv(n.y))?DB({x:s+gv(n.x,m),y:i+gv(n.y,o),horizontalAnchor:"end",verticalAnchor:"end"},P):DB({x:p,y:i+o/2,horizontalAnchor:"middle",verticalAnchor:"middle"},P)})({viewBox:b,position:c,offset:i.offset,parentViewBox:WB(l)?void 0:l});s=RB(RB({x:S.x,y:S.y,textAnchor:S.horizontalAnchor,verticalAnchor:S.verticalAnchor},void 0!==S.width?{width:S.width}:{}),void 0!==S.height?{height:S.height}:{})}return kt.createElement(aL,{zIndex:i.zIndex},kt.createElement(PB,FB({ref:f,className:Yt("recharts-label",m)},k,s,{textAnchor:yB(k.textAnchor)?k.textAnchor:s.textAnchor,breakAll:p}),a))}HB.displayName="Label";var VB,qB={},YB={};function GB(){return VB||(VB=1,e=YB,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),e.last=function(e){return e[e.length-1]}),YB;var e}var KB,XB,QB,JB,ZB={};function e$(){return KB||(KB=1,e=ZB,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),e.toArray=function(e){return Array.isArray(e)?e:Array.from(e)}),ZB;var e}function t$(){return JB?QB:(JB=1,QB=(XB||(XB=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=GB(),n=e$(),r=Qv();e.last=function(e){if(r.isArrayLike(e))return t.last(n.toArray(e))}}(qB)),qB).last)}const n$=Nt(t$());var r$=["valueAccessor"],a$=["dataKey","clockWise","id","textBreakAll","zIndex"];function s$(){return s$=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s$.apply(null,arguments)}function i$(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var o$=e=>Array.isArray(e.value)?n$(e.value):e.value,l$=kt.createContext(void 0);l$.Provider;var c$=kt.createContext(void 0),d$=c$.Provider;function u$(e){var{valueAccessor:t=o$}=e,n=i$(e,r$),{dataKey:r,clockWise:a,id:s,textBreakAll:i,zIndex:o}=n,l=i$(n,a$),c=kt.useContext(l$),d=kt.useContext(c$),u=c||d;return u&&u.length?kt.createElement(aL,{zIndex:null!=o?o:AA.label},kt.createElement(Mx,{className:"recharts-label-list"},u.map((e,a)=>{var o,c=vv(r)?t(e,a):Wk(e.payload,r),d=vv(s)?{}:{id:"".concat(s,"-").concat(a)};return kt.createElement(HB,s$({key:"label-".concat(a)},_x(e),l,d,{fill:null!==(o=n.fill)&&void 0!==o?o:e.fill,parentViewBox:e.parentViewBox,value:c,textBreakAll:i,viewBox:e.viewBox,index:a,zIndex:0}))}))):null}function h$(e){var t,{label:n}=e;return n?!0===n?kt.createElement(u$,{key:"labelList-implicit"}):kt.isValidElement(n)||null!=(t=n)&&"function"==typeof t?kt.createElement(u$,{key:"labelList-implicit",content:n}):"object"==typeof n?kt.createElement(u$,s$({key:"labelList-implicit"},n,{type:String(n.type)})):null:null}u$.displayName="LabelList";var m$=e=>e.graphicalItems.polarItems,p$=Fw([QA,JA],jz),f$=Fw([m$,vz,p$],kz),g$=Fw([f$],Ez),x$=Fw([g$,$M],Oz),b$=Fw([x$,vz,f$],Mz);Fw([x$,vz,f$],(e,t,n)=>n.length>0?e.flatMap(e=>n.flatMap(n=>{var r;return{value:Wk(e,null!==(r=t.dataKey)&&void 0!==r?r:n.dataKey),errorDomain:[]}})).filter(Boolean):null!=(null==t?void 0:t.dataKey)?e.map(e=>({value:Wk(e,t.dataKey),errorDomain:[]})):e.map(e=>({value:e,errorDomain:[]})));var v$=()=>{},y$=Fw([x$,vz,f$,Xz,QA],Jz),w$=Fw([vz,Yz,Gz,v$,y$,v$,YS,QA],fR),j$=Fw([vz,YS,x$,b$,PA,QA,w$],bR),N$=Fw([j$,yz,wR],NR),k$=Fw([vz,j$,N$,QA],SR);Fw([wR,k$],lz);var S$=XN({name:"polarAxis",initialState:{radiusAxis:{},angleAxis:{}},reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:C$,removeRadiusAxis:_$,addAngleAxis:P$,removeAngleAxis:E$}=S$.actions,D$=S$.reducer;function O$(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function T$(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?O$(Object(n),!0).forEach(function(t){M$(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O$(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function M$(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var A$,z$,R$=Fw([m$,(e,t)=>t],(e,t)=>e.filter(e=>"pie"===e.type).find(e=>e.id===t)),I$=[],F$=(e,t,n)=>0===(null==n?void 0:n.length)?I$:n,L$=Fw([$M,R$,F$],(e,t,n)=>{var r,{chartData:a}=e;if(null!=t&&((r=null!=(null==t?void 0:t.data)&&t.data.length>0?t.data:a)&&r.length||null==n||(r=n.map(e=>T$(T$({},t.presentationProps),e.props))),null!=r))return r}),B$=Fw([L$,R$,F$],(e,t,n)=>{if(null!=e&&null!=t)return e.map((e,r)=>{var a,s,i=Wk(e,t.nameKey,t.name);return s=null!=n&&null!==(a=n[r])&&void 0!==a&&null!==(a=a.props)&&void 0!==a&&a.fill?n[r].props.fill:"object"==typeof e&&null!=e&&"fill"in e?e.fill:t.fill,{value:Qk(i,t.dataKey),color:s,payload:e,type:t.legendType}})}),$$=Fw([L$,R$,F$,cS],(e,t,n,r)=>{if(null!=t&&null!=e)return function(e){var t,n,r,{pieSettings:a,displayedData:s,cells:i,offset:o}=e,{cornerRadius:l,startAngle:c,endAngle:d,dataKey:u,nameKey:h,tooltipType:m}=a,p=Math.abs(a.minAngle),f=KW(c,d),g=Math.abs(f),x=s.length<=1?0:null!==(t=a.paddingAngle)&&void 0!==t?t:0,b=s.filter(e=>0!==Wk(e,u,0)).length,v=g-b*p-(g>=360?b:b-1)*x,y=s.reduce((e,t)=>{var n=Wk(t,u,0);return e+(hv(n)?n:0)},0);y>0&&(n=s.map((e,t)=>{var n,s=Wk(e,u,0),d=Wk(e,h,t),g=GW(a,o,e),b=(hv(s)?s:0)/y,w=WW(WW({},e),i&&i[t]&&i[t].props),j=(n=t?r.endAngle+cv(f)*x*(0!==s?1:0):c)+cv(f)*((0!==s?p:0)+b*v),N=(n+j)/2,k=(g.innerRadius+g.outerRadius)/2,S=[{name:d,value:s,payload:w,dataKey:u,type:m,graphicalItemId:a.id}],C=RP(g.cx,g.cy,k,N);return r=WW(WW(WW(WW({},a.presentationProps),{},{percent:b,cornerRadius:"string"==typeof l?parseFloat(l):l,name:d,tooltipPayload:S,midAngle:N,middleRadius:k,tooltipPosition:C},w),g),{},{value:s,dataKey:u,startAngle:n,endAngle:j,payload:w,paddingAngle:cv(f)*x})}));return n}({offset:r,pieSettings:t,displayedData:e,cells:n})}),W$={exports:{}},U$={};function H$(){if(A$)return U$;A$=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),i=Symbol.for("react.context"),o=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),c=Symbol.for("react.suspense_list"),d=Symbol.for("react.memo"),u=Symbol.for("react.lazy"),h=Symbol.for("react.view_transition"),m=Symbol.for("react.client.reference");function p(m){if("object"==typeof m&&null!==m){var p=m.$$typeof;switch(p){case e:switch(m=m.type){case n:case a:case r:case l:case c:case h:return m;default:switch(m=m&&m.$$typeof){case i:case o:case u:case d:case s:return m;default:return p}}case t:return p}}}return U$.ContextConsumer=s,U$.ContextProvider=i,U$.Element=e,U$.ForwardRef=o,U$.Fragment=n,U$.Lazy=u,U$.Memo=d,U$.Portal=t,U$.Profiler=a,U$.StrictMode=r,U$.Suspense=l,U$.SuspenseList=c,U$.isContextConsumer=function(e){return p(e)===s},U$.isContextProvider=function(e){return p(e)===i},U$.isElement=function(t){return"object"==typeof t&&null!==t&&t.$$typeof===e},U$.isForwardRef=function(e){return p(e)===o},U$.isFragment=function(e){return p(e)===n},U$.isLazy=function(e){return p(e)===u},U$.isMemo=function(e){return p(e)===d},U$.isPortal=function(e){return p(e)===t},U$.isProfiler=function(e){return p(e)===a},U$.isStrictMode=function(e){return p(e)===r},U$.isSuspense=function(e){return p(e)===l},U$.isSuspenseList=function(e){return p(e)===c},U$.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===n||e===a||e===r||e===l||e===c||"object"==typeof e&&null!==e&&(e.$$typeof===u||e.$$typeof===d||e.$$typeof===i||e.$$typeof===s||e.$$typeof===o||e.$$typeof===m||void 0!==e.getModuleId)},U$.typeOf=p,U$}function V$(){return z$||(z$=1,W$.exports=H$()),W$.exports}var q$=V$(),Y$=e=>"string"==typeof e?e:e?e.displayName||e.name||"Component":"",G$=null,K$=null,X$=e=>{if(e===G$&&Array.isArray(K$))return K$;var t=[];return kt.Children.forEach(e,e=>{vv(e)||(q$.isFragment(e)?t=t.concat(X$(e.props.children)):t.push(e))}),K$=t,G$=e,t};function Q$(e,t){var n=[],r=[];return r=Array.isArray(t)?t.map(e=>Y$(e)):[Y$(t)],X$(e).forEach(e=>{var t=iv(e,"type.displayName")||iv(e,"type.name");t&&-1!==r.indexOf(t)&&n.push(e)}),n}var J$,Z$,eW,tW={};function nW(){return eW?Z$:(eW=1,Z$=(J$||(J$=1,e=tW,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),e.isPlainObject=function(e){if("object"!=typeof e)return!1;if(null==e)return!1;if(null===Object.getPrototypeOf(e))return!0;if("[object Object]"!==Object.prototype.toString.call(e)){const t=e[Symbol.toStringTag];return null!=t&&!!Object.getOwnPropertyDescriptor(e,Symbol.toStringTag)?.writable&&e.toString()===`[object ${t}]`}let t=e;for(;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}),tW).isPlainObject);var e}const rW=Nt(nW());var aW,sW,iW,oW,lW;function cW(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function dW(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?cW(Object(n),!0).forEach(function(t){uW(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cW(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function uW(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function hW(){return hW=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},hW.apply(null,arguments)}function mW(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var pW=(e,t,n,r,a)=>{var s,i=n-r;return s=lv(aW||(aW=mW(["M ",",",""])),e,t),s+=lv(sW||(sW=mW(["L ",",",""])),e+n,t),s+=lv(iW||(iW=mW(["L ",",",""])),e+n-i/2,t+a),s+=lv(oW||(oW=mW(["L ",",",""])),e+n-i/2-r,t+a),s+=lv(lW||(lW=mW(["L ",","," Z"])),e,t)},fW={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},gW=e=>{var t=Av(e,fW),{x:n,y:r,upperWidth:a,lowerWidth:s,height:i,className:o}=t,{animationEasing:l,animationDuration:c,animationBegin:d,isUpdateAnimationActive:u}=t,h=kt.useRef(null),[m,p]=kt.useState(-1),f=kt.useRef(a),g=kt.useRef(s),x=kt.useRef(i),b=kt.useRef(n),v=kt.useRef(r),y=nP(e,"trapezoid-");if(kt.useEffect(()=>{if(h.current&&h.current.getTotalLength)try{var e=h.current.getTotalLength();e&&p(e)}catch(t){}},[]),n!==+n||r!==+r||a!==+a||s!==+s||i!==+i||0===a&&0===s||0===i)return null;var w=Yt("recharts-trapezoid",o);if(!u)return kt.createElement("g",null,kt.createElement("path",hW({},_x(t),{className:w,d:pW(n,r,a,s,i)})));var j=f.current,N=g.current,k=x.current,S=b.current,C=v.current,_="0px ".concat(-1===m?1:m,"px"),P="".concat(m,"px 0px"),E=D_(["strokeDasharray"],c,l);return kt.createElement(tP,{animationId:y,key:y,canBegin:m>0,duration:c,easing:l,isActive:u,begin:d},e=>{var o=bv(j,a,e),l=bv(N,s,e),c=bv(k,i,e),d=bv(S,n,e),u=bv(C,r,e);h.current&&(f.current=o,g.current=l,x.current=c,b.current=d,v.current=u);var m=e>0?{transition:E,strokeDasharray:P}:{strokeDasharray:_};return kt.createElement("path",hW({},_x(t),{className:w,d:pW(d,u,o,l,c),ref:h,style:dW(dW({},m),t.style)}))})},xW=["option","shapeType","activeClassName"];function bW(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function vW(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?bW(Object(n),!0).forEach(function(t){yW(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bW(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function yW(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function wW(e){var{shapeType:t,elementProps:n}=e;switch(t){case"rectangle":return kt.createElement(NP,n);case"trapezoid":return kt.createElement(gW,n);case"sector":return kt.createElement(YP,n);case"symbols":if(function(e){return"symbols"===e}(t))return kt.createElement(Dv,n);break;case"curve":return kt.createElement(y_,n);default:return null}}function jW(e){var t,{option:n,shapeType:r,activeClassName:a="recharts-active-shape"}=e,s=function(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}(e,xW);if(kt.isValidElement(n))t=kt.cloneElement(n,vW(vW({},s),function(e){return kt.isValidElement(e)?e.props:e}(n)));else if("function"==typeof n)t=n(s,s.index);else if(rW(n)&&"boolean"!=typeof n){var i=function(e,t){return vW(vW({},t),e)}(n,s);t=kt.createElement(wW,{shapeType:r,elementProps:i})}else{var o=s;t=kt.createElement(wW,{shapeType:r,elementProps:o})}return s.isActive?kt.createElement(Mx,{className:a},t):t}var NW;function kW(e){var{tooltipEntrySettings:t}=e,n=Cw(),r=xS(),a=kt.useRef(null);return kt.useLayoutEffect(()=>{r||(null===a.current?n(aI(t)):a.current!==t&&n(sI({prev:a.current,next:t})),a.current=t)},[t,n,r]),kt.useLayoutEffect(()=>()=>{a.current&&(n(iI(a.current)),a.current=null)},[n]),null}function SW(e){var{legendPayload:t}=e,n=Cw(),r=Dw(YS),a=kt.useRef(null);return kt.useLayoutEffect(()=>{"centric"!==r&&"radial"!==r||(null===a.current?n(UC(t)):a.current!==t&&n(HC({prev:a.current,next:t})),a.current=t)},[n,r,t]),kt.useLayoutEffect(()=>()=>{a.current&&(n(VC(a.current)),a.current=null)},[n]),null}var CW=null!==(NW=zt["useId".toString()])&&void 0!==NW?NW:()=>{var[e]=kt.useState(()=>fv("uid-"));return e};var _W=kt.createContext(void 0),PW=e=>{var t,n,r,{id:a,type:s,children:i}=e,o=(t="recharts-".concat(s),n=a,r=CW(),n||(t?"".concat(t,"-").concat(r):r));return kt.createElement(_W.Provider,{value:o},i(o))},EW=XN({name:"graphicalItems",initialState:{cartesianItems:[],polarItems:[]},reducers:{addCartesianGraphicalItem:{reducer(e,t){e.cartesianItems.push(t.payload)},prepare:BN()},replaceCartesianGraphicalItem:{reducer(e,t){var{prev:n,next:r}=t.payload,a=_N(e).cartesianItems.indexOf(n);a>-1&&(e.cartesianItems[a]=r)},prepare:BN()},removeCartesianGraphicalItem:{reducer(e,t){var n=_N(e).cartesianItems.indexOf(t.payload);n>-1&&e.cartesianItems.splice(n,1)},prepare:BN()},addPolarGraphicalItem:{reducer(e,t){e.polarItems.push(t.payload)},prepare:BN()},removePolarGraphicalItem:{reducer(e,t){var n=_N(e).polarItems.indexOf(t.payload);n>-1&&e.polarItems.splice(n,1)},prepare:BN()}}}),{addCartesianGraphicalItem:DW,replaceCartesianGraphicalItem:OW,removeCartesianGraphicalItem:TW,addPolarGraphicalItem:MW,removePolarGraphicalItem:AW}=EW.actions,zW=EW.reducer;function RW(e){var t=Cw();return kt.useLayoutEffect(()=>(t(MW(e)),()=>{t(AW(e))}),[t,e]),null}var IW=["key"],FW=["onMouseEnter","onClick","onMouseLeave"],LW=["id"],BW=["id"];function $W(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function WW(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$W(Object(n),!0).forEach(function(t){UW(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$W(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function UW(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function HW(){return HW=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},HW.apply(null,arguments)}function VW(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function qW(e){var t=kt.useMemo(()=>Q$(e.children,UL),[e.children]),n=Dw(n=>B$(n,e.id,t));return null==n?null:kt.createElement(SW,{legendPayload:n})}var YW=kt.memo(e=>{var{dataKey:t,nameKey:n,sectors:r,stroke:a,strokeWidth:s,fill:i,name:o,hide:l,tooltipType:c,id:d}=e,u={dataDefinedOnItem:r.map(e=>e.tooltipPayload),getPosition:e=>{var t;return null===(t=r[Number(e)])||void 0===t?void 0:t.tooltipPosition},settings:{stroke:a,strokeWidth:s,fill:i,dataKey:t,nameKey:n,name:Qk(o,t),hide:l,type:c,color:i,unit:"",graphicalItemId:d}};return kt.createElement(kW,{tooltipEntrySettings:u})}),GW=(e,t,n)=>{var{top:r,left:a,width:s,height:i}=t,o=IP(s,i),l=a+gv(e.cx,s,s/2),c=r+gv(e.cy,i,i/2),d=gv(e.innerRadius,o,0),u=((e,t,n)=>gv("function"==typeof t?t(e):t,n,.8*n))(n,e.outerRadius,o);return{cx:l,cy:c,innerRadius:d,outerRadius:u,maxRadius:e.maxRadius||Math.sqrt(s*s+i*i)/2}},KW=(e,t)=>cv(t-e)*Math.min(Math.abs(t-e),360);function XW(e){var{sectors:t,props:n,showLabels:r}=e,{label:a,labelLine:s,dataKey:i}=n;if(!r||!a||!t)return null;var o=Sx(n),l=Cx(a),c=Cx(s),d="object"==typeof a&&"offsetRadius"in a&&"number"==typeof a.offsetRadius&&a.offsetRadius||20,u=t.map((e,t)=>{var n,r,u=(e.startAngle+e.endAngle)/2,h=RP(e.cx,e.cy,e.outerRadius+d,u),m=WW(WW(WW(WW({},o),e),{},{stroke:"none"},l),{},{index:t,textAnchor:(n=h.x,r=e.cx,n>r?"start":n<r?"end":"middle")},h),p=WW(WW(WW(WW({},o),e),{},{fill:"none",stroke:e.fill},c),{},{index:t,points:[RP(e.cx,e.cy,e.outerRadius,u),h],key:"line"});return kt.createElement(aL,{zIndex:AA.label,key:"label-".concat(e.startAngle,"-").concat(e.endAngle,"-").concat(e.midAngle,"-").concat(t)},kt.createElement(Mx,null,s&&((e,t)=>{if(kt.isValidElement(e))return kt.cloneElement(e,t);if("function"==typeof e)return e(t);var n=Yt("recharts-pie-label-line","boolean"!=typeof e?e.className:""),{key:r}=t,a=VW(t,IW);return kt.createElement(y_,HW({},a,{type:"linear",className:n}))})(s,p),((e,t,n)=>{if(kt.isValidElement(e))return kt.cloneElement(e,t);var r=n;if("function"==typeof e&&(r=e(t),kt.isValidElement(r)))return r;var a,s=Yt("recharts-pie-label-text",(a=e)&&"object"==typeof a&&"className"in a&&"string"==typeof a.className?a.className:"");return kt.createElement(PB,HW({},t,{alignmentBaseline:"middle",className:s}),r)})(a,m,Wk(e,i))))});return kt.createElement(Mx,{className:"recharts-pie-labels"},u)}function QW(e){var{sectors:t,props:n,showLabels:r}=e,{label:a}=n;return"object"==typeof a&&null!=a&&"position"in a?kt.createElement(h$,{label:a}):kt.createElement(XW,{sectors:t,props:n,showLabels:r})}function JW(e){var t,n,r,a,{sectors:s,activeShape:i,inactiveShape:o,allOtherPieProps:l,shape:c,id:d}=e,u=Dw(fF),h=Dw(xF),m=Dw(bF),{onMouseEnter:p,onClick:f,onMouseLeave:g}=l,x=VW(l,FW),b=((e,t,n)=>{var r=Cw();return(a,s)=>i=>{null==e||e(a,s,i),r(lI({activeIndex:String(s),activeDataKey:t,activeCoordinate:a.tooltipPosition,activeGraphicalItemId:n}))}})(p,l.dataKey,d),v=(e=>{var t=Cw();return(n,r)=>a=>{null==e||e(n,r,a),t(cI())}})(g),y=(t=f,n=l.dataKey,r=d,a=Cw(),(e,s)=>i=>{null==t||t(e,s,i),a(uI({activeIndex:String(s),activeDataKey:n,activeCoordinate:e.tooltipPosition,activeGraphicalItemId:r}))});return null==s||0===s.length?null:kt.createElement(kt.Fragment,null,s.map((e,t)=>{if(0===(null==e?void 0:e.startAngle)&&0===(null==e?void 0:e.endAngle)&&1!==s.length)return null;var n=null==m||m===d,r=String(t)===u&&(null==h||l.dataKey===h)&&n,a=i&&r?i:u?o:null,p=WW(WW({},e),{},{stroke:e.stroke,tabIndex:-1,[aS]:t,[sS]:d});return kt.createElement(Mx,HW({key:"sector-".concat(null==e?void 0:e.startAngle,"-").concat(null==e?void 0:e.endAngle,"-").concat(e.midAngle,"-").concat(t),tabIndex:-1,className:"recharts-pie-sector"},((e,t,n)=>{if(null===e||"object"!=typeof e&&"function"!=typeof e)return null;var r=null;return Object.keys(e).forEach(a=>{var s=e[a];wx(a)&&"function"==typeof s&&(r||(r={}),r[a]=((e,t,n)=>r=>(e(t,n,r),null))(s,t,n))}),r})(x,e,t),{onMouseEnter:b(e,t),onMouseLeave:v(e,t),onClick:y(e,t)}),kt.createElement(jW,HW({option:null!=c?c:a,index:t,shapeType:"sector",isActive:r},p)))}))}function ZW(e){var{showLabels:t,sectors:n,children:r}=e,a=kt.useMemo(()=>t&&n?n.map(e=>({value:e.value,payload:e.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:e.cx,cy:e.cy,innerRadius:e.innerRadius,outerRadius:e.outerRadius,startAngle:e.startAngle,endAngle:e.endAngle,clockWise:!1},fill:e.fill})):[],[n,t]);return kt.createElement(d$,{value:t?a:void 0},r)}function eU(e){var{props:t,previousSectorsRef:n,id:r}=e,{sectors:a,isAnimationActive:s,animationBegin:i,animationDuration:o,animationEasing:l,activeShape:c,inactiveShape:d,onAnimationStart:u,onAnimationEnd:h}=t,m=nP(t,"recharts-pie-"),p=n.current,[f,g]=kt.useState(!1),x=kt.useCallback(()=>{"function"==typeof h&&h(),g(!1)},[h]),b=kt.useCallback(()=>{"function"==typeof u&&u(),g(!0)},[u]);return kt.createElement(ZW,{showLabels:!f,sectors:a},kt.createElement(tP,{animationId:m,begin:i,duration:o,isActive:s,easing:l,onAnimationStart:b,onAnimationEnd:x,key:m},e=>{var s,i=[],o=a&&a[0],l=null!==(s=null==o?void 0:o.startAngle)&&void 0!==s?s:0;return null==a||a.forEach((t,n)=>{var r=p&&p[n],a=n>0?iv(t,"paddingAngle",0):0;if(r){var s=bv(r.endAngle-r.startAngle,t.endAngle-t.startAngle,e),o=WW(WW({},t),{},{startAngle:l+a,endAngle:l+s+a});i.push(o),l=o.endAngle}else{var{endAngle:c,startAngle:d}=t,u=bv(0,c-d,e),h=WW(WW({},t),{},{startAngle:l+a,endAngle:l+u+a});i.push(h),l=h.endAngle}}),n.current=i,kt.createElement(Mx,null,kt.createElement(JW,{sectors:i,activeShape:c,inactiveShape:d,allOtherPieProps:t,shape:t.shape,id:r}))}),kt.createElement(QW,{showLabels:!f,sectors:a,props:t}),t.children)}var tU={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:"auto",label:!1,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff",zIndex:AA.area};function nU(e){var{id:t}=e,n=VW(e,LW),{hide:r,className:a,rootTabIndex:s}=e,i=kt.useMemo(()=>Q$(e.children,UL),[e.children]),o=Dw(e=>$$(e,t,i)),l=kt.useRef(null),c=Yt("recharts-pie",a);return r||null==o?(l.current=null,kt.createElement(Mx,{tabIndex:s,className:c})):kt.createElement(aL,{zIndex:e.zIndex},kt.createElement(YW,{dataKey:e.dataKey,nameKey:e.nameKey,sectors:o,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,tooltipType:e.tooltipType,id:t}),kt.createElement(Mx,{tabIndex:s,className:c},kt.createElement(eU,{props:WW(WW({},n),{},{sectors:o}),previousSectorsRef:l,id:t})))}function rU(e){var t=Av(e,tU),{id:n}=t,r=VW(t,BW),a=Sx(r);return kt.createElement(PW,{id:n,type:"pie"},e=>kt.createElement(kt.Fragment,null,kt.createElement(RW,{type:"pie",id:e,data:r.data,dataKey:r.dataKey,hide:r.hide,angleAxisId:0,radiusAxisId:0,name:r.name,nameKey:r.nameKey,tooltipType:r.tooltipType,legendType:r.legendType,fill:r.fill,cx:r.cx,cy:r.cy,startAngle:r.startAngle,endAngle:r.endAngle,paddingAngle:r.paddingAngle,minAngle:r.minAngle,innerRadius:r.innerRadius,outerRadius:r.outerRadius,cornerRadius:r.cornerRadius,presentationProps:a,maxRadius:t.maxRadius}),kt.createElement(qW,HW({},r,{id:e})),kt.createElement(nU,HW({},r,{id:e}))))}function aU(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function sU(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?aU(Object(n),!0).forEach(function(t){iU(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):aU(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function iU(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}rU.displayName="Pie";var oU,lU,cU=XN({name:"cartesianAxis",initialState:{xAxis:{},yAxis:{},zAxis:{}},reducers:{addXAxis:{reducer(e,t){e.xAxis[t.payload.id]=t.payload},prepare:BN()},replaceXAxis:{reducer(e,t){var{prev:n,next:r}=t.payload;void 0!==e.xAxis[n.id]&&(n.id!==r.id&&delete e.xAxis[n.id],e.xAxis[r.id]=r)},prepare:BN()},removeXAxis:{reducer(e,t){delete e.xAxis[t.payload.id]},prepare:BN()},addYAxis:{reducer(e,t){e.yAxis[t.payload.id]=t.payload},prepare:BN()},replaceYAxis:{reducer(e,t){var{prev:n,next:r}=t.payload;void 0!==e.yAxis[n.id]&&(n.id!==r.id&&delete e.yAxis[n.id],e.yAxis[r.id]=r)},prepare:BN()},removeYAxis:{reducer(e,t){delete e.yAxis[t.payload.id]},prepare:BN()},addZAxis:{reducer(e,t){e.zAxis[t.payload.id]=t.payload},prepare:BN()},replaceZAxis:{reducer(e,t){var{prev:n,next:r}=t.payload;void 0!==e.zAxis[n.id]&&(n.id!==r.id&&delete e.zAxis[n.id],e.zAxis[r.id]=r)},prepare:BN()},removeZAxis:{reducer(e,t){delete e.zAxis[t.payload.id]},prepare:BN()},updateYAxisWidth(e,t){var{id:n,width:r}=t.payload,a=e.yAxis[n];if(a){var s,i=a.widthHistory||[];if(3===i.length&&i[0]===i[2]&&r===i[1]&&r!==a.width&&Math.abs(r-(null!==(s=i[0])&&void 0!==s?s:0))<=1)return;var o=[...i,r].slice(-3);e.yAxis[n]=sU(sU({},a),{},{width:r,widthHistory:o})}}}}),{addXAxis:dU,replaceXAxis:uU,removeXAxis:hU,addYAxis:mU,replaceYAxis:pU,removeYAxis:fU,addZAxis:gU,replaceZAxis:xU,removeZAxis:bU,updateYAxisWidth:vU}=cU.actions,yU=cU.reducer,wU=Fw([cS],e=>({top:e.top,bottom:e.bottom,left:e.left,right:e.right})),jU=Fw([wU,Jk,Zk],(e,t,n)=>{if(e&&null!=t&&null!=n)return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,n-e.top-e.bottom)}}),NU=e=>{var{chartData:t}=e,n=Cw(),r=xS();return kt.useEffect(()=>r?()=>{}:(n(SL(t)),()=>{n(SL(void 0))}),[t,n,r]),null},kU={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},SU=XN({name:"brush",initialState:kU,reducers:{setBrushSettings:(e,t)=>null==t.payload?kU:t.payload}}),{setBrushSettings:CU}=SU.actions,_U=SU.reducer,PU=XN({name:"referenceElements",initialState:{dots:[],areas:[],lines:[]},reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var n=_N(e).dots.findIndex(e=>e===t.payload);-1!==n&&e.dots.splice(n,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var n=_N(e).areas.findIndex(e=>e===t.payload);-1!==n&&e.areas.splice(n,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var n=_N(e).lines.findIndex(e=>e===t.payload);-1!==n&&e.lines.splice(n,1)}}}),{addDot:EU,removeDot:DU,addArea:OU,removeArea:TU,addLine:MU,removeLine:AU}=PU.actions,zU=PU.reducer,RU=kt.createContext(void 0),IU=e=>{var{children:t}=e,[n]=kt.useState("".concat(fv("recharts"),"-clip")),r=Dw(jU);if(null==r)return null;var{x:a,y:s,width:i,height:o}=r;return kt.createElement(RU.Provider,{value:n},kt.createElement("defs",null,kt.createElement("clipPath",{id:n},kt.createElement("rect",{x:a,y:s,height:o,width:i}))),t)},FU=XN({name:"errorBars",initialState:{},reducers:{addErrorBar:(e,t)=>{var{itemId:n,errorBar:r}=t.payload;e[n]||(e[n]=[]),e[n].push(r)},replaceErrorBar:(e,t)=>{var{itemId:n,prev:r,next:a}=t.payload;e[n]&&(e[n]=e[n].map(e=>e.dataKey===r.dataKey&&e.direction===r.direction?a:e))},removeErrorBar:(e,t)=>{var{itemId:n,errorBar:r}=t.payload;e[n]&&(e[n]=e[n].filter(e=>e.dataKey!==r.dataKey||e.direction!==r.direction))}}}),{addErrorBar:LU,replaceErrorBar:BU,removeErrorBar:$U}=FU.actions,WU=FU.reducer,UU={exports:{}},HU={};lU||(lU=1,UU.exports=function(){if(oU)return HU;oU=1;var e=wt(),t="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},n=e.useSyncExternalStore,r=e.useRef,a=e.useEffect,s=e.useMemo,i=e.useDebugValue;return HU.useSyncExternalStoreWithSelector=function(e,o,l,c,d){var u=r(null);if(null===u.current){var h={hasValue:!1,value:null};u.current=h}else h=u.current;u=s(function(){function e(e){if(!a){if(a=!0,n=e,e=c(e),void 0!==d&&h.hasValue){var s=h.value;if(d(s,e))return r=s}return r=e}if(s=r,t(n,e))return s;var i=c(e);return void 0!==d&&d(s,i)?(n=e,s):(n=e,r=i)}var n,r,a=!1,s=void 0===l?null:l;return[function(){return e(o())},null===s?void 0:function(){return e(s())}]},[o,l,c,d]);var m=n(e,u[0],u[1]);return a(function(){h.hasValue=!0,h.value=m},[m]),i(m),m},HU}()),UU.exports;var VU={notify(){},get:()=>[]};var qU=(()=>!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement))(),YU=(()=>"undefined"!=typeof navigator&&"ReactNative"===navigator.product)(),GU=(()=>qU||YU?kt.useLayoutEffect:kt.useEffect)();function KU(e,t){return e===t?0!==e||0!==t||1/e==1/t:e!=e&&t!=t}function XU(e,t){if(KU(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(let a=0;a<n.length;a++)if(!Object.prototype.hasOwnProperty.call(t,n[a])||!KU(e[n[a]],t[n[a]]))return!1;return!0}var QU=Symbol.for("react-redux-context"),JU="undefined"!=typeof globalThis?globalThis:{};function ZU(){if(!kt.createContext)return{};const e=JU[QU]??=new Map;let t=e.get(kt.createContext);return t||(t=kt.createContext(null),e.set(kt.createContext,t)),t}var eH=ZU();var tH=function(e){const{children:t,context:n,serverState:r,store:a}=e,s=kt.useMemo(()=>{const e=function(e){let t,n=VU,r=0,a=!1;function s(){l.onStateChange&&l.onStateChange()}function i(){r++,t||(t=e.subscribe(s),n=function(){let e=null,t=null;return{clear(){e=null,t=null},notify(){(()=>{let t=e;for(;t;)t.callback(),t=t.next})()},get(){const t=[];let n=e;for(;n;)t.push(n),n=n.next;return t},subscribe(n){let r=!0;const a=t={callback:n,next:null,prev:t};return a.prev?a.prev.next=a:e=a,function(){r&&null!==e&&(r=!1,a.next?a.next.prev=a.prev:t=a.prev,a.prev?a.prev.next=a.next:e=a.next)}}}}())}function o(){r--,t&&0===r&&(t(),t=void 0,n.clear(),n=VU)}const l={addNestedSub:function(e){i();const t=n.subscribe(e);let r=!1;return()=>{r||(r=!0,t(),o())}},notifyNestedSubs:function(){n.notify()},handleChangeWrapper:s,isSubscribed:function(){return a},trySubscribe:function(){a||(a=!0,i())},tryUnsubscribe:function(){a&&(a=!1,o())},getListeners:()=>n};return l}(a);return{store:a,subscription:e,getServerState:r?()=>r:void 0}},[a,r]),i=kt.useMemo(()=>a.getState(),[a]);GU(()=>{const{subscription:e}=s;return e.onStateChange=e.notifyNestedSubs,e.trySubscribe(),i!==a.getState()&&e.notifyNestedSubs(),()=>{e.tryUnsubscribe(),e.onStateChange=void 0}},[s,i]);const o=n||eH;return kt.createElement(o.Provider,{value:s},t)},nH=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle","radius"]);function rH(e,t){return null==e&&null==t||("number"==typeof e&&"number"==typeof t?e===t||e!=e&&t!=t:e===t)}function aH(e,t){var n=new Set([...Object.keys(e),...Object.keys(t)]);for(var r of n)if(nH.has(r)){if(null==e[r]&&null==t[r])continue;if(!XU(e[r],t[r]))return!1}else if(!rH(e[r],t[r]))return!1;return!0}var sH=Fw([(e,t)=>t,YS,XA,az,iF,dF,zF,cS],(e,t,n,r,a,s,i,o)=>{if(e&&t&&r&&a&&s)return"horizontal"===t||"vertical"===t?((e,t,n,r,a,s,i)=>{if(e&&n&&r&&a&&function(e,t){var{chartX:n,chartY:r}=e;return n>=t.left&&n<=t.left+t.width&&r>=t.top&&r<=t.top+t.height}(e,i)){var o=((e,t)=>"horizontal"===t?e.chartX:"vertical"===t?e.chartY:void 0)(e,t),l=OF(o,s,a,n,r),c=((e,t,n,r)=>{var a=t.find(e=>e&&e.index===n);if(a){if("horizontal"===e)return{x:a.coordinate,y:r.chartY};if("vertical"===e)return{x:r.chartX,y:a.coordinate}}return{x:0,y:0}})(t,a,l,e);return{activeIndex:String(l),activeCoordinate:c}}})(e,t,r,a,s,i,o):HF(e,t,n,r,a,s,i)}),iH=e=>{var t=e.currentTarget.getBoundingClientRect(),n=t.width/e.currentTarget.offsetWidth,r=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/n),chartY:Math.round((e.clientY-t.top)/r)}},oH=zN("mouseClick"),lH=Pk();lH.startListening({actionCreator:oH,effect:(e,t)=>{var n=e.payload,r=sH(t.getState(),iH(n));null!=(null==r?void 0:r.activeIndex)&&t.dispatch(mI({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var cH=zN("mouseMove"),dH=Pk(),uH=null;function hH(e,t){return t instanceof HTMLElement?"HTMLElement <".concat(t.tagName,' class="').concat(t.className,'">'):t===window?"global.window":"children"===e&&"object"==typeof t&&null!==t?"<<CHILDREN>>":t}dH.startListening({actionCreator:cH,effect:(e,t)=>{var n=e.payload;null!==uH&&cancelAnimationFrame(uH);var r=iH(n);uH=requestAnimationFrame(()=>{var e=t.getState();if("axis"===eI(e,e.tooltip.settings.shared)){var n=sH(e,r);null!=(null==n?void 0:n.activeIndex)?t.dispatch(hI({activeIndex:n.activeIndex,activeDataKey:void 0,activeCoordinate:n.activeCoordinate})):t.dispatch(dI())}uH=null})}});var mH={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},pH=XN({name:"rootProps",initialState:mH,reducers:{updateOptions:(e,t)=>{var n;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=null!==(n=t.payload.barGap)&&void 0!==n?n:mH.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className,e.baseValue=t.payload.baseValue,e.reverseStackOrder=t.payload.reverseStackOrder}}}),fH=pH.reducer,{updateOptions:gH}=pH.actions,xH=XN({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:bH}=xH.actions,vH=xH.reducer,yH=zN("keyDown"),wH=zN("focus"),jH=Pk();jH.startListening({actionCreator:yH,effect:(e,t)=>{var n=t.getState();if(!1!==n.rootProps.accessibilityLayer){var{keyboardInteraction:r}=n.tooltip,a=e.payload;if("ArrowRight"===a||"ArrowLeft"===a||"Enter"===a){var s=jI(r,II(n),Bz(n),nF(n)),i=null==s?-1:Number(s);if(Number.isFinite(i)&&!(i<0)){var o=dF(n);if("Enter"!==a){var l=i+("ArrowRight"===a?1:-1)*("left-to-right"===XR(n)?1:-1);if(!(null==o||l>=o.length||l<0)){var c=LF(n,"axis","hover",String(l));t.dispatch(fI({active:!0,activeIndex:l.toString(),activeCoordinate:c}))}}else{var d=LF(n,"axis","hover",String(r.index));t.dispatch(fI({active:!r.active,activeIndex:r.index,activeCoordinate:d}))}}}}}}),jH.startListening({actionCreator:wH,effect:(e,t)=>{var n=t.getState();if(!1!==n.rootProps.accessibilityLayer){var{keyboardInteraction:r}=n.tooltip;if(!r.active&&null==r.index){var a=LF(n,"axis","hover",String("0"));t.dispatch(fI({active:!0,activeIndex:"0",activeCoordinate:a}))}}}});var NH=zN("externalEvent"),kH=Pk(),SH=new Map;kH.startListening({actionCreator:NH,effect:(e,t)=>{var{handler:n,reactEvent:r}=e.payload;if(null!=n){r.persist();var a=r.type,s=SH.get(a);void 0!==s&&cancelAnimationFrame(s);var i=requestAnimationFrame(()=>{try{var e=t.getState(),s={activeCoordinate:wF(e),activeDataKey:xF(e),activeIndex:fF(e),activeLabel:gF(e),activeTooltipIndex:fF(e),isTooltipActive:jF(e)};n(s,r)}finally{SH.delete(a)}});SH.set(a,i)}}});var CH=Fw([CI],e=>e.tooltipItemPayloads),_H=Fw([CH,(e,t)=>t,(e,t,n)=>n],(e,t,n)=>{if(null!=t){var r=e.find(e=>e.settings.graphicalItemId===n);if(null!=r){var{getPosition:a}=r;if(null!=a)return a(t)}}}),PH=zN("touchMove"),EH=Pk();EH.startListening({actionCreator:PH,effect:(e,t)=>{var n=e.payload;if(null!=n.touches&&0!==n.touches.length){var r=t.getState(),a=eI(r,r.tooltip.settings.shared);if("axis"===a){var s=n.touches[0];if(null==s)return;var i=sH(r,iH({clientX:s.clientX,clientY:s.clientY,currentTarget:n.currentTarget}));null!=(null==i?void 0:i.activeIndex)&&t.dispatch(hI({activeIndex:i.activeIndex,activeDataKey:void 0,activeCoordinate:i.activeCoordinate}))}else if("item"===a){var o,l=n.touches[0];if(null==document.elementFromPoint||null==l)return;var c=document.elementFromPoint(l.clientX,l.clientY);if(!c||!c.getAttribute)return;var d=c.getAttribute(aS),u=null!==(o=c.getAttribute(sS))&&void 0!==o?o:void 0,h=AI(r).find(e=>e.id===u);if(null==d||null==h||null==u)return;var{dataKey:m}=h,p=_H(r,d,u);t.dispatch(lI({activeDataKey:m,activeIndex:d,activeCoordinate:p,activeGraphicalItemId:u}))}}}});var DH=gj({brush:_U,cartesianAxis:yU,chartData:PL,errorBars:WU,graphicalItems:zW,layout:zk,legend:qC,options:wL,polarAxis:D$,polarOptions:vH,referenceElements:zU,rootProps:fH,tooltip:gI,zIndex:rL});function OH(e){var{preloadedState:t,children:n,reduxStoreName:r}=e,a=xS(),s=kt.useRef(null);if(a)return n;null==s.current&&(s.current=function(e){return UN({reducer:DH,preloadedState:e,middleware:e=>e({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes("es6")}).concat([lH.middleware,dH.middleware,jH.middleware,kH.middleware,EH.middleware]),enhancers:e=>{var t=e;return"function"==typeof e&&(t=e()),t.concat(WN({type:"raf"}))},devTools:{serialize:{replacer:hH},name:"recharts-".concat(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Chart")}})}(t,r));var i=kw;return kt.createElement(tH,{context:i,store:s.current},n)}function TH(e){var{layout:t,margin:n}=e,r=Cw(),a=xS();return kt.useEffect(()=>{a||(r(Tk(t)),r(Ok(n)))},[r,a,t,n]),null}var MH=kt.memo(TH,aH);function AH(e){var t=Cw();return kt.useEffect(()=>{t(gH(e))},[t,e]),null}function zH(e){var{zIndex:t,isPanorama:n}=e,r=kt.useRef(null),a=Cw();return kt.useLayoutEffect(()=>(r.current&&a(tL({zIndex:t,element:r.current,isPanorama:n})),()=>{a(nL({zIndex:t,isPanorama:n}))}),[a,t,n]),kt.createElement("g",{tabIndex:-1,ref:r})}function RH(e){var{children:t,isPanorama:n}=e,r=Dw(qF);if(!r||0===r.length)return t;var a=r.filter(e=>e<0),s=r.filter(e=>e>0);return kt.createElement(kt.Fragment,null,a.map(e=>kt.createElement(zH,{key:e,zIndex:e,isPanorama:n})),t,s.map(e=>kt.createElement(zH,{key:e,zIndex:e,isPanorama:n})))}var IH=["children"];function FH(){return FH=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},FH.apply(null,arguments)}var LH={width:"100%",height:"100%",display:"block"},BH=kt.forwardRef((e,t)=>{var n=Dw(Jk),r=Dw(Zk),a=l_();if(!Fk(n)||!Fk(r))return null;var s,i,{children:o,otherAttributes:l,title:c,desc:d}=e;return null!=l&&(s="number"==typeof l.tabIndex?l.tabIndex:a?0:void 0,i="string"==typeof l.role?l.role:a?"application":void 0),kt.createElement(Dx,FH({},l,{title:c,desc:d,role:i,tabIndex:s,width:n,height:r,style:LH,ref:t}),o)}),$H=e=>{var{children:t}=e,n=Dw(vS);if(!n)return null;var{width:r,height:a,y:s,x:i}=n;return kt.createElement(Dx,{width:r,height:a,x:i,y:s},t)},WH=kt.forwardRef((e,t)=>{var{children:n}=e,r=function(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}(e,IH);return xS()?kt.createElement($H,null,kt.createElement(RH,{isPanorama:!0},n)):kt.createElement(BH,FH({ref:t},r),kt.createElement(RH,{isPanorama:!1},n))});function UH(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function HH(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?UH(Object(n),!0).forEach(function(t){VH(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):UH(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function VH(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qH(){return qH=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},qH.apply(null,arguments)}var YH=()=>(AL(),null);function GH(e){if("number"==typeof e)return e;if("string"==typeof e){var t=parseFloat(e);if(!Number.isNaN(t))return t}return 0}var KH=kt.forwardRef((e,t)=>{var n,r,a=kt.useRef(null),[s,i]=kt.useState({containerWidth:GH(null===(n=e.style)||void 0===n?void 0:n.width),containerHeight:GH(null===(r=e.style)||void 0===r?void 0:r.height)}),o=kt.useCallback((e,t)=>{i(n=>{var r=Math.round(e),a=Math.round(t);return n.containerWidth===r&&n.containerHeight===a?n:{containerWidth:r,containerHeight:a}})},[]),l=kt.useCallback(e=>{if("function"==typeof t&&t(e),null!=e&&"undefined"!=typeof ResizeObserver){var{width:n,height:r}=e.getBoundingClientRect();o(n,r);var s=new ResizeObserver(e=>{var t=e[0];if(null!=t){var{width:n,height:r}=t.contentRect;o(n,r)}});s.observe(e),a.current=s}},[t,o]);return kt.useEffect(()=>()=>{var e=a.current;null!=e&&e.disconnect()},[o]),kt.createElement(kt.Fragment,null,kt.createElement(XS,{width:s.containerWidth,height:s.containerHeight}),kt.createElement("div",qH({ref:l},e)))}),XH=kt.forwardRef((e,t)=>{var{width:n,height:r}=e,[a,s]=kt.useState({containerWidth:GH(n),containerHeight:GH(r)}),i=kt.useCallback((e,t)=>{s(n=>{var r=Math.round(e),a=Math.round(t);return n.containerWidth===r&&n.containerHeight===a?n:{containerWidth:r,containerHeight:a}})},[]),o=kt.useCallback(e=>{if("function"==typeof t&&t(e),null!=e){var{width:n,height:r}=e.getBoundingClientRect();i(n,r)}},[t,i]);return kt.createElement(kt.Fragment,null,kt.createElement(XS,{width:a.containerWidth,height:a.containerHeight}),kt.createElement("div",qH({ref:o},e)))}),QH=kt.forwardRef((e,t)=>{var{width:n,height:r}=e;return kt.createElement(kt.Fragment,null,kt.createElement(XS,{width:n,height:r}),kt.createElement("div",qH({ref:t},e)))}),JH=kt.forwardRef((e,t)=>{var{width:n,height:r}=e;return"string"==typeof n||"string"==typeof r?kt.createElement(XH,qH({},e,{ref:t})):"number"==typeof n&&"number"==typeof r?kt.createElement(QH,qH({},e,{width:n,height:r,ref:t})):kt.createElement(kt.Fragment,null,kt.createElement(XS,{width:n,height:r}),kt.createElement("div",qH({ref:t},e)))});var ZH=kt.forwardRef((e,t)=>{var{children:n,className:r,height:a,onClick:s,onContextMenu:i,onDoubleClick:o,onMouseDown:l,onMouseEnter:c,onMouseLeave:d,onMouseMove:u,onMouseUp:h,onTouchEnd:m,onTouchMove:p,onTouchStart:f,style:g,width:x,responsive:b,dispatchTouchEvents:v=!0}=e,y=kt.useRef(null),w=Cw(),[j,N]=kt.useState(null),[k,S]=kt.useState(null),C=function(){var e=Cw(),[t,n]=kt.useState(null),r=Dw(eS);return kt.useEffect(()=>{if(null!=t){var n=t.getBoundingClientRect().width/t.offsetWidth;Ik(n)&&n!==r&&e(Ak(n))}},[t,e,r]),n}(),_=$S(),P=(null==_?void 0:_.width)>0?_.width:x,E=(null==_?void 0:_.height)>0?_.height:a,D=kt.useCallback(e=>{C(e),"function"==typeof t&&t(e),N(e),S(e),null!=e&&(y.current=e)},[C,t,N,S]),O=kt.useCallback(e=>{w(oH(e)),w(NH({handler:s,reactEvent:e}))},[w,s]),T=kt.useCallback(e=>{w(cH(e)),w(NH({handler:c,reactEvent:e}))},[w,c]),M=kt.useCallback(e=>{w(dI()),w(NH({handler:d,reactEvent:e}))},[w,d]),A=kt.useCallback(e=>{w(cH(e)),w(NH({handler:u,reactEvent:e}))},[w,u]),z=kt.useCallback(()=>{w(wH())},[w]),R=kt.useCallback(e=>{w(yH(e.key))},[w]),I=kt.useCallback(e=>{w(NH({handler:i,reactEvent:e}))},[w,i]),F=kt.useCallback(e=>{w(NH({handler:o,reactEvent:e}))},[w,o]),L=kt.useCallback(e=>{w(NH({handler:l,reactEvent:e}))},[w,l]),B=kt.useCallback(e=>{w(NH({handler:h,reactEvent:e}))},[w,h]),$=kt.useCallback(e=>{w(NH({handler:f,reactEvent:e}))},[w,f]),W=kt.useCallback(e=>{v&&w(PH(e)),w(NH({handler:p,reactEvent:e}))},[w,v,p]),U=kt.useCallback(e=>{w(NH({handler:m,reactEvent:e}))},[w,m]),H=function(e){return e?KH:JH}(b);return kt.createElement(mL.Provider,{value:j},kt.createElement(Ax.Provider,{value:k},kt.createElement(H,{width:null!=P?P:null==g?void 0:g.width,height:null!=E?E:null==g?void 0:g.height,className:Yt("recharts-wrapper",r),style:HH({position:"relative",cursor:"default",width:P,height:E},g),onClick:O,onContextMenu:I,onDoubleClick:F,onFocus:z,onKeyDown:R,onMouseDown:L,onMouseEnter:T,onMouseLeave:M,onMouseMove:A,onMouseUp:B,onTouchEnd:U,onTouchMove:W,onTouchStart:$,ref:D},kt.createElement(YH,null),n)))}),eV=["width","height","responsive","children","className","style","compact","title","desc"];var tV=kt.forwardRef((e,t)=>{var{width:n,height:r,responsive:a,children:s,className:i,style:o,compact:l,title:c,desc:d}=e,u=function(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}(e,eV),h=Sx(u);return l?kt.createElement(kt.Fragment,null,kt.createElement(XS,{width:n,height:r}),kt.createElement(WH,{otherAttributes:h,title:c,desc:d},s)):kt.createElement(ZH,{className:i,style:o,width:n,height:r,responsive:null!=a&&a,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},kt.createElement(WH,{otherAttributes:h,title:c,desc:d,ref:t},kt.createElement(IU,null,s)))});function nV(e){var t=Cw();return kt.useEffect(()=>{t(bH(e))},[t,e]),null}var rV=["layout"];function aV(){return aV=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},aV.apply(null,arguments)}var sV={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index",layout:"radial",responsive:!1,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},iV=kt.forwardRef(function(e,t){var n,r=Av(e.categoricalChartProps,sV),{layout:a}=r,s=function(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}(r,rV),{chartName:i,defaultTooltipEventType:o,validateTooltipEventTypes:l,tooltipPayloadSearcher:c}=e,d={chartName:i,defaultTooltipEventType:o,validateTooltipEventTypes:l,tooltipPayloadSearcher:c,eventEmitter:void 0};return kt.createElement(OH,{preloadedState:{options:d},reduxStoreName:null!==(n=r.id)&&void 0!==n?n:i},kt.createElement(NU,{chartData:r.data}),kt.createElement(MH,{layout:a,margin:r.margin}),kt.createElement(AH,{baseValue:void 0,accessibilityLayer:r.accessibilityLayer,barCategoryGap:r.barCategoryGap,maxBarSize:r.maxBarSize,stackOffset:r.stackOffset,barGap:r.barGap,barSize:r.barSize,syncId:r.syncId,syncMethod:r.syncMethod,className:r.className,reverseStackOrder:r.reverseStackOrder}),kt.createElement(nV,{cx:r.cx,cy:r.cy,startAngle:r.startAngle,endAngle:r.endAngle,innerRadius:r.innerRadius,outerRadius:r.outerRadius}),kt.createElement(tV,aV({},s,{ref:t})))});function oV(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function lV(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?oV(Object(n),!0).forEach(function(t){cV(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oV(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function cV(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var dV=["item"],uV=lV(lV({},sV),{},{layout:"centric",startAngle:0,endAngle:360}),hV=kt.forwardRef((e,t)=>{var n=Av(e,uV);return kt.createElement(iV,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:dV,tooltipPayloadSearcher:vL,categoricalChartProps:n,ref:t})});const mV=({storageUsed:t=0,storageTotal:n=10737418240,fileTypeBreakdown:r={}})=>{const a=(t/1024**3).toFixed(2),s=(n/1024**3).toFixed(2),i=(t/n*100).toFixed(1),o=Object.entries(r).map(([e,n])=>({name:e.charAt(0).toUpperCase()+e.slice(1),value:n,percentage:(n/t*100).toFixed(1)})),l={images:"#8b5cf6",documents:"#3b82f6",videos:"#ec4899",audio:"#10b981",other:"#64748b"};return e.jsxs("div",{className:"bg-white rounded-xl border border-slate-200 p-6 shadow-sm hover:shadow-md transition-shadow",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("h3",{className:"text-lg font-semibold text-slate-800 flex items-center gap-2",children:[e.jsx(lt,{size:20,className:"text-indigo-600"}),"Storage Usage"]}),e.jsxs("span",{className:"text-sm font-medium px-2.5 py-1 rounded-full "+(i>90?"bg-red-100 text-red-700":i>75?"bg-amber-100 text-amber-700":"bg-green-100 text-green-700"),children:[i,"% Used"]})]}),e.jsx("div",{className:"flex items-center justify-center mb-6",children:e.jsxs("div",{className:"relative",style:{width:"192px",height:"192px",minHeight:"192px"},children:[e.jsx(US,{width:"100%",height:"100%",children:e.jsx(hV,{children:e.jsxs(rU,{data:[{value:t},{value:n-t}],cx:"50%",cy:"50%",innerRadius:60,outerRadius:80,startAngle:90,endAngle:-270,dataKey:"value",children:[e.jsx(UL,{fill:"#4f46e5"}),e.jsx(UL,{fill:"#e2e8f0"})]})})}),e.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center",children:[e.jsx("p",{className:"text-3xl font-bold text-slate-800",children:a}),e.jsxs("p",{className:"text-sm text-slate-500",children:["of ",s," GB"]})]})]})}),o.length>0&&e.jsxs("div",{className:"space-y-3",children:[e.jsx("h4",{className:"text-sm font-semibold text-slate-700",children:"Storage by Type"}),o.map(t=>e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:l[t.name.toLowerCase()]||l.other}}),e.jsx("span",{className:"text-sm text-slate-600",children:t.name})]}),e.jsxs("span",{className:"text-sm font-medium text-slate-700",children:[t.percentage,"%"]})]},t.name))]}),i>80&&e.jsx("div",{className:"mt-6 p-4 bg-amber-50 border border-amber-200 rounded-lg",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(L,{size:18,className:"text-amber-600 mt-0.5"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-amber-900",children:"Running low on storage"}),e.jsx("p",{className:"text-xs text-amber-700 mt-1",children:"Consider upgrading your plan for more space"})]})]})})]})},pV=({recentFiles:t=[],onFileClick:n})=>{const r=t=>{if("folder"===t.type)return e.jsx(q,{size:18,className:"text-indigo-500"});const n=t.mime_type||"";return n.startsWith("image/")?e.jsx(je,{size:18,className:"text-purple-500"}):"application/pdf"===n||n.includes("document")?e.jsx(o,{size:18,className:"text-red-500"}):e.jsx(Ze,{size:18,className:"text-slate-400"})},a=e=>{if(!e)return"Unknown";const t=new Date(e),n=new Date,r=Math.floor((n-t)/1e3);return r<60?"Just now":r<3600?`${Math.floor(r/60)}m ago`:r<86400?`${Math.floor(r/3600)}h ago`:r<604800?`${Math.floor(r/86400)}d ago`:t.toLocaleDateString()},s=e=>{if(!e)return"";const t=Math.floor(Math.log(e)/Math.log(1024));return Math.round(e/Math.pow(1024,t)*10)/10+" "+["B","KB","MB","GB"][t]};return e.jsxs("div",{className:"bg-white rounded-xl border border-slate-200 p-6 shadow-sm hover:shadow-md transition-shadow",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("h3",{className:"text-lg font-semibold text-slate-800 flex items-center gap-2",children:[e.jsx($,{size:20,className:"text-indigo-600"}),"Recent Files"]}),t.length>0&&e.jsxs("span",{className:"text-xs text-slate-500",children:[t.length," items"]})]}),0===t.length?e.jsxs("div",{className:"text-center py-8",children:[e.jsx($,{className:"mx-auto text-slate-300 mb-3",size:40}),e.jsx("p",{className:"text-sm text-slate-500",children:"No recent files"}),e.jsx("p",{className:"text-xs text-slate-400 mt-1",children:"Your recently modified files will appear here"})]}):e.jsx("div",{className:"space-y-1",children:t.slice(0,8).map(t=>e.jsxs("button",{onClick:()=>n?.(t),className:"w-full flex items-center gap-3 p-3 hover:bg-slate-50 rounded-lg transition-colors group",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-slate-100 rounded-lg flex items-center justify-center group-hover:bg-white transition-colors",children:r(t)}),e.jsxs("div",{className:"flex-1 min-w-0 text-left",children:[e.jsx("p",{className:"text-sm font-medium text-slate-700 truncate group-hover:text-indigo-600 transition-colors",children:t.name}),e.jsxs("div",{className:"flex items-center gap-2 mt-0.5",children:[e.jsx("span",{className:"text-xs text-slate-500",children:a(t.updated_at)}),t.size&&e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"text-xs text-slate-300",children:""}),e.jsx("span",{className:"text-xs text-slate-500",children:s(t.size)})]})]})]})]},t.id))})]})},fV=({stats:t={}})=>{const{totalFiles:n=0,totalFolders:r=0,storageUsed:a=0,sharedItems:s=0}=t,i=[{label:"Total Files",value:n.toLocaleString(),icon:ht,color:"indigo",bgColor:"bg-indigo-50",textColor:"text-indigo-600"},{label:"Folders",value:r.toLocaleString(),icon:q,color:"purple",bgColor:"bg-purple-50",textColor:"text-purple-600"},{label:"Storage Used",value:(e=>{if(!e)return"0 B";const t=Math.floor(Math.log(e)/Math.log(1024));return Math.round(e/Math.pow(1024,t)*10)/10+" "+["B","KB","MB","GB"][t]})(a),icon:lt,color:"blue",bgColor:"bg-blue-50",textColor:"text-blue-600"},{label:"Shared",value:s.toLocaleString(),icon:ve,color:"green",bgColor:"bg-green-50",textColor:"text-green-600"}];return e.jsxs("div",{className:"bg-white rounded-xl border border-slate-200 p-6 shadow-sm hover:shadow-md transition-shadow",children:[e.jsx("h3",{className:"text-lg font-semibold text-slate-800 mb-6",children:"Quick Stats"}),e.jsx("div",{className:"grid grid-cols-2 gap-4",children:i.map(t=>e.jsxs("div",{className:"flex flex-col items-center p-4 bg-slate-50 rounded-lg hover:bg-slate-100 transition-colors",children:[e.jsx("div",{className:`w-12 h-12 ${t.bgColor} rounded-xl flex items-center justify-center mb-3`,children:e.jsx(t.icon,{size:24,className:t.textColor})}),e.jsx("p",{className:"text-2xl font-bold text-slate-800 mb-1",children:t.value}),e.jsx("p",{className:"text-xs text-slate-500 text-center",children:t.label})]},t.label))})]})},gV=({fileTypeData:t={}})=>{const n=Object.entries(t).map(([e,t])=>({name:e.charAt(0).toUpperCase()+e.slice(1),value:t,type:e})).filter(e=>e.value>0),r={images:"#8b5cf6",documents:"#3b82f6",videos:"#ec4899",audio:"#10b981",other:"#64748b"},a={images:je,documents:o,videos:pt,audio:mt,other:Ze},s=n.reduce((e,t)=>e+t.value,0),i=({active:t,payload:n})=>{if(t&&n&&n.length){const t=n[0],r=(t.value/s*100).toFixed(1);return e.jsxs("div",{className:"bg-white px-3 py-2 rounded-lg shadow-lg border border-slate-200",children:[e.jsx("p",{className:"text-sm font-medium text-slate-800",children:t.name}),e.jsxs("p",{className:"text-xs text-slate-600",children:[t.value," files (",r,"%)"]})]})}return null};return e.jsxs("div",{className:"bg-white rounded-xl border border-slate-200 p-6 shadow-sm hover:shadow-md transition-shadow",children:[e.jsx("h3",{className:"text-lg font-semibold text-slate-800 mb-6",children:"File Distribution"}),0===n.length?e.jsxs("div",{className:"text-center py-8",children:[e.jsx(Ze,{className:"mx-auto text-slate-300 mb-3",size:40}),e.jsx("p",{className:"text-sm text-slate-500",children:"No files yet"}),e.jsx("p",{className:"text-xs text-slate-400 mt-1",children:"Upload files to see distribution"})]}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"h-64",style:{minHeight:"256px"},children:e.jsx(US,{width:"100%",height:"100%",children:e.jsxs(hV,{children:[e.jsx(rU,{data:n,cx:"50%",cy:"50%",innerRadius:60,outerRadius:90,paddingAngle:2,dataKey:"value",children:n.map((t,n)=>e.jsx(UL,{fill:r[t.type]||r.other},`cell-${n}`))}),e.jsx(WL,{content:e.jsx(i,{})})]})})}),e.jsx("div",{className:"space-y-3",children:n.map(t=>{const n=a[t.type]||a.other,i=(t.value/s*100).toFixed(1);return e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-4 h-4 rounded-full flex-shrink-0",style:{backgroundColor:r[t.type]||r.other}}),e.jsx(n,{size:16,className:"text-slate-400"}),e.jsx("span",{className:"text-sm text-slate-600",children:t.name})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"text-sm font-medium text-slate-700",children:t.value}),e.jsxs("span",{className:"text-xs text-slate-500 w-12 text-right",children:[i,"%"]})]})]},t.type)})})]})]})},xV=({activities:t=[]})=>{const n=t=>{switch(t){case"upload":return e.jsx(O,{size:16,className:"text-green-600"});case"delete":return e.jsx(te,{size:16,className:"text-red-600"});case"rename":return e.jsx(pe,{size:16,className:"text-blue-600"});case"move":return e.jsx(at,{size:16,className:"text-purple-600"});default:return e.jsx(W,{size:16,className:"text-slate-600"})}},r=e=>{switch(e){case"upload":return"bg-green-50";case"delete":return"bg-red-50";case"rename":return"bg-blue-50";case"move":return"bg-purple-50";default:return"bg-slate-50"}},a=e=>{if(!e)return"Unknown";const t=new Date(e),n=new Date,r=Math.floor((n-t)/1e3);return r<60?"Just now":r<3600?`${Math.floor(r/60)} minutes ago`:r<86400?`${Math.floor(r/3600)} hours ago`:r<604800?`${Math.floor(r/86400)} days ago`:t.toLocaleDateString()},s=e=>{switch(e.type){case"upload":return`Uploaded ${e.fileName}`;case"delete":return`Deleted ${e.fileName}`;case"rename":return`Renamed ${e.oldName} to ${e.fileName}`;case"move":return`Moved ${e.fileName}`;default:return e.description||"Activity"}};return e.jsxs("div",{className:"bg-white rounded-xl border border-slate-200 p-6 shadow-sm hover:shadow-md transition-shadow",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("h3",{className:"text-lg font-semibold text-slate-800 flex items-center gap-2",children:[e.jsx(W,{size:20,className:"text-indigo-600"}),"Recent Activity"]}),t.length>0&&e.jsxs("span",{className:"text-xs text-slate-500",children:[t.length," events"]})]}),0===t.length?e.jsxs("div",{className:"text-center py-8",children:[e.jsx($,{className:"mx-auto text-slate-300 mb-3",size:40}),e.jsx("p",{className:"text-sm text-slate-500",children:"No recent activity"}),e.jsx("p",{className:"text-xs text-slate-400 mt-1",children:"Your file activities will appear here"})]}):e.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:t.slice(0,10).map((t,i)=>e.jsxs("div",{className:"flex items-start gap-3 p-3 hover:bg-slate-50 rounded-lg transition-colors",children:[e.jsx("div",{className:`w-8 h-8 ${r(t.type)} rounded-lg flex items-center justify-center flex-shrink-0 mt-0.5`,children:n(t.type)}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm text-slate-700 mb-1",children:s(t)}),e.jsx("p",{className:"text-xs text-slate-500",children:a(t.timestamp||t.created_at)})]})]},t.id||i))})]})},bV=({metrics:t={},recentFiles:n=[],activities:r=[],onFileClick:a})=>{const{storage:s={},files:i={},folders:o=0,sharedItems:l=0}=t,c={totalFiles:i.total||0,totalFolders:o,storageUsed:s.used||0,sharedItems:l};return e.jsxs("div",{className:"space-y-6 mb-8",children:[e.jsxs("div",{className:"bg-gradient-to-r from-indigo-500 to-purple-600 rounded-xl p-6 md:p-8 text-white shadow-lg",children:[e.jsx("h2",{className:"text-2xl md:text-3xl font-bold mb-2",children:"Dashboard Overview"}),e.jsx("p",{className:"text-indigo-100",children:"Quick insights into your storage and files"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[e.jsx(fV,{stats:c}),e.jsx(mV,{storageUsed:s.used||0,storageTotal:s.total||10737418240,fileTypeBreakdown:s.byType||{}}),e.jsx(gV,{fileTypeData:i.by_type||{}})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsx(pV,{recentFiles:n,onFileClick:a}),e.jsx(xV,{activities:r})]})]})},vV=()=>{const{nodes:t,breadcrumbs:n,loading:r,viewMode:a,currentView:s,searchQuery:i,sortBy:o,sortOrder:l,filterType:c,selectedNodes:d,clipboard:u,setViewMode:h,setCurrentView:m,setSearchQuery:p,setSortBy:f,setSortOrder:g,setFilterType:x,onNavigate:b,onFileUpload:v,onCreateFolder:w,onRename:j,onDelete:N,onPaste:k,onSelect:S,onToggleFavorite:C,fetchNodes:_,favorites:P,onCut:E,onCopy:D}=(()=>{const e=Et(),[t,n]=kt.useState([]),[r,a]=kt.useState([]),[s,i]=kt.useState(!0),[o,l]=kt.useState("grid"),[c,d]=kt.useState(null),[u,h]=kt.useState(""),[m,p]=kt.useState(!1),[f,g]=kt.useState("root"),[x,b]=kt.useState("name"),[v,y]=kt.useState("asc"),[w,j]=kt.useState("all"),[N,k]=kt.useState(new Set),[S,C]=kt.useState(null),[_,P]=kt.useState(()=>{try{const e=localStorage.getItem("drive_favorites");return e?new Set(JSON.parse(e)):new Set}catch{return new Set}}),[E,D]=kt.useState(()=>{try{const e=localStorage.getItem("drive_recent");return e?JSON.parse(e):[]}catch{return[]}});kt.useEffect(()=>{localStorage.setItem("drive_favorites",JSON.stringify([..._]))},[_]),kt.useEffect(()=>{localStorage.setItem("drive_recent",JSON.stringify(E))},[E]);const O=kt.useCallback(async(e=null)=>{i(!0);try{const t=e?`/drive/nodes?parent_id=${e}&include_documents=true`:"/drive/nodes?include_documents=true",r=await sr.get(t);n(r.data.nodes||[]),a(r.data.breadcrumbs||[])}catch(t){Wt.error("Failed to load files")}finally{i(!1)}},[]);kt.useEffect(()=>{"root"===f?O(c):"trash"===f?e("/drive/trash"):O(null)},[c,f,O,e]);const T=kt.useMemo(()=>{let e=[...t];if(u&&(e=e.filter(e=>e.name.toLowerCase().includes(u.toLowerCase()))),"recent"===f)e=[...E];else if("favorites"===f){const n=[...t,...E];e=Array.from(new Map(n.map(e=>[e.id,e])).values()).filter(e=>_.has(e.id))}return"all"!==w&&(e=e.filter(e=>"folder"===w?"folder"===e.type:"image"===w?e.mime_type?.startsWith("image/"):"document"!==w||"application/pdf"===e.mime_type||e.mime_type?.includes("document")||e.mime_type?.includes("text"))),e.sort((e,t)=>{let n=0;return"name"===x?n=e.name.localeCompare(t.name):"size"===x?n=(e.size||0)-(t.size||0):"date"===x&&(n=new Date(e.updated_at)-new Date(t.updated_at)),"asc"===v?n:-n}),e},[t,u,f,x,v,w,E,_]);return{nodes:T,originalNodes:t,breadcrumbs:r,loading:s,uploading:m,viewMode:o,currentView:f,parentId:c,searchQuery:u,sortBy:x,sortOrder:v,filterType:w,selectedNodes:N,clipboard:S,favorites:_,setViewMode:l,setCurrentView:g,setSearchQuery:h,setSortBy:b,setSortOrder:y,setFilterType:j,setSelectedNodes:k,setClipboard:C,setParentId:d,fetchNodes:O,onNavigate:e=>{d(e?e.id:null),k(new Set)},onFileUpload:async e=>{if(!e||0===e.length)return;p(!0);const t=Array.from(e).map(async e=>{const t=new FormData;t.append("file",e),t.append("type","file"),c&&t.append("parent_id",c);try{return await sr.post("/drive/nodes",t,{headers:{"Content-Type":"multipart/form-data"}}),{success:!0,name:e.name}}catch(n){return{success:!1,name:e.name}}}),n=await Promise.all(t),r=n.filter(e=>e.success).length,a=n.filter(e=>!e.success).length;r>0&&(Wt.success(`${r} file(s) uploaded`),O(c)),a>0&&Wt.error(`${a} file(s) failed`),p(!1)},onCreateFolder:async e=>{try{await sr.post("/drive/nodes",{type:"folder",name:e,parent_id:c}),Wt.success("Folder created"),O(c)}catch(t){Wt.error("Failed to create folder")}},onRename:async(e,t)=>{try{await sr.patch(`/drive/nodes/${e}/rename`,{name:t}),Wt.success("Item renamed"),O(c)}catch(n){Wt.error("Failed to rename item")}},onDelete:async e=>{try{if(await sr.delete(`/drive/nodes/${e.id}`),Wt.success("Item moved to trash"),O(c),N.has(e.id)){const t=new Set(N);t.delete(e.id),k(t)}}catch(t){Wt.error("Failed to delete item")}},onPaste:async e=>{if(!S)return;const t="folder"===e?.type?e.id:c;try{"cut"===S.operation?(await sr.patch(`/drive/nodes/${S.node.id}/move`,{parent_id:t}),Wt.success("Moved successfully"),C(null)):(await sr.post(`/drive/nodes/${S.node.id}/copy`,{parent_id:t}),Wt.success("Copied successfully")),O(c)}catch(n){Wt.error("Failed to paste item")}},onMove:(e,t)=>sr.patch(`/drive/nodes/${e.id}/move`,{parent_id:t.id}).then(()=>{Wt.success(`Moved "${e.name}" to "${t.name}"`),O(c)}).catch(e=>{Wt.error("Failed to move item")}),onSelect:(e,t)=>{const n=new Set(N);t.ctrlKey||t.metaKey||t.shiftKey&&T.length>0?n.has(e.id)?n.delete(e.id):n.add(e.id):(n.clear(),n.add(e.id)),k(n)},onAddToRecent:e=>{D(t=>{const n=t.filter(t=>t.id!==e.id);return[e,...n].slice(0,50)})},onToggleFavorite:e=>{const t=new Set(_);t.has(e.id)?(t.delete(e.id),Wt.success("Removed from favorites")):(t.add(e.id),Wt.success("Added to favorites")),P(t)},onCut:e=>{C({node:e,operation:"cut"}),Wt.success(`"${e.name}" ready to move`)},onCopy:e=>{C({node:e,operation:"copy"}),Wt.success(`"${e.name}" copied to clipboard`)}}})(),[O,T]=kt.useState(null),[M,A]=kt.useState(null),[z,R]=kt.useState(null),[I,F]=kt.useState(!1),[L,B]=kt.useState(null),[$,W]=kt.useState(!1),[U,H]=kt.useState(!1),V=kt.useRef(null),q=kt.useRef(null),Y=kt.useRef(0);kt.useEffect(()=>{const e=e=>{"INPUT"!==e.target.tagName&&"TEXTAREA"!==e.target.tagName&&(e.ctrlKey&&"x"===e.key&&M?.node&&(e.preventDefault(),E(M.node)),e.ctrlKey&&"c"===e.key&&M?.node&&(e.preventDefault(),D(M.node)),e.ctrlKey&&"v"===e.key&&u&&(e.preventDefault(),k(null)),"Delete"===e.key&&M?.node&&(e.preventDefault(),N(M.node)))};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)},[M,u,E,D,k,N]);const G=(e,t)=>{e.preventDefault(),A({x:e.clientX,y:e.clientY,node:t})},K=e=>{e.preventDefault(),e.stopPropagation(),e.dataTransfer.types&&Array.from(e.dataTransfer.types).includes("Files")&&("dragenter"===e.type||"dragover"===e.type?("dragenter"===e.type&&(Y.current+=1),W(!0)):"dragleave"===e.type&&(Y.current-=1,0===Y.current&&W(!1)))},X=e=>{e.preventDefault(),e.stopPropagation(),W(!1),Y.current=0,e.dataTransfer.files&&e.dataTransfer.files.length>0&&v(e.dataTransfer.files)},Q=e=>{const t=document.createElement("a");t.href=`/ api / v1 / drive / nodes / ${e.id}/preview`,t.download=e.name,document.body.appendChild(t),t.click(),document.body.removeChild(t),Wt.success("Download started")},J={storage:{used:t.reduce((e,t)=>e+(t.size||0),0),total:10737418240,byType:{images:t.filter(e=>e.mime_type?.startsWith("image/")).reduce((e,t)=>e+(t.size||0),0),documents:t.filter(e=>e.mime_type?.includes("document")||"application/pdf"===e.mime_type).reduce((e,t)=>e+(t.size||0),0),videos:t.filter(e=>e.mime_type?.startsWith("video/")).reduce((e,t)=>e+(t.size||0),0),audio:t.filter(e=>e.mime_type?.startsWith("audio/")).reduce((e,t)=>e+(t.size||0),0),other:t.filter(e=>!(e.mime_type?.startsWith("image/")||e.mime_type?.startsWith("video/")||e.mime_type?.startsWith("audio/")||e.mime_type?.includes("document"))).reduce((e,t)=>e+(t.size||0),0)}},files:{total:t.filter(e=>"file"===e.type).length,by_type:{images:t.filter(e=>e.mime_type?.startsWith("image/")).length,documents:t.filter(e=>e.mime_type?.includes("document")||"application/pdf"===e.mime_type).length,videos:t.filter(e=>e.mime_type?.startsWith("video/")).length,audio:t.filter(e=>e.mime_type?.startsWith("audio/")).length,other:t.filter(e=>!("file"!==e.type||e.mime_type?.startsWith("image/")||e.mime_type?.startsWith("video/")||e.mime_type?.startsWith("audio/")||e.mime_type?.includes("document"))).length}},folders:t.filter(e=>"folder"===e.type).length,sharedItems:0},Z=t.filter(e=>"file"===e.type).sort((e,t)=>new Date(t.updated_at)-new Date(e.updated_at)).slice(0,8),ee=[{id:1,type:"upload",fileName:"Document.pdf",timestamp:new Date(Date.now()-3e5).toISOString()},{id:2,type:"rename",fileName:"Report.docx",oldName:"Draft.docx",timestamp:new Date(Date.now()-18e5).toISOString()},{id:3,type:"delete",fileName:"Old_File.txt",timestamp:new Date(Date.now()-72e5).toISOString()}];return e.jsxs("div",{className:"flex h-full bg-slate-50 overflow-hidden relative",onDragEnter:K,onDragLeave:K,onDragOver:K,onDrop:X,children:[$&&e.jsx("div",{className:"absolute inset-0 z-50 bg-indigo-50/80 backdrop-blur-sm flex items-center justify-center pointer-events-none animate-in fade-in duration-200",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-10 border-2 border-dashed border-indigo-400",children:[e.jsx(Ge,{size:56,className:"mx-auto text-indigo-600 mb-4"}),e.jsx("p",{className:"text-xl font-semibold text-slate-800 text-center",children:"Drop files to upload"})]})}),e.jsx("div",{className:"hidden md:block",children:e.jsx(fx,{currentView:s,onViewChange:e=>{m(e)},onUploadClick:()=>V.current?.click(),onCreateFolderClick:()=>F(!0)})}),e.jsx(bx,{isOpen:U,onClose:()=>H(!1),currentView:s,onViewChange:m}),e.jsxs("div",{className:"flex-1 flex flex-col h-full min-w-0 bg-white/50 relative pb-20 md:pb-0",children:[e.jsx(xx,{title:(()=>{switch(s){case"dashboard":return"Dashboard";case"recent":return"Recent Files";case"favorites":return"Favorites";case"trash":return"Trash";default:return"My Drive"}})(),breadcrumbs:"root"===s?n.slice(1):[],onNavigate:b,viewMode:a,setViewMode:h,searchQuery:i,setSearchQuery:p,sortBy:o,setSortBy:f,sortOrder:l,setSortOrder:g,filterType:c,setFilterType:x,onMenuClick:()=>H(!0)}),e.jsxs("div",{className:"flex-1 overflow-y-auto p-6 scroll-smooth",ref:q,onContextMenu:e=>{e.target.closest(".node-item")||(e.preventDefault(),A({x:e.clientX,y:e.clientY,node:null,isBackground:!0}))},onClick:e=>{e.ctrlKey||e.metaKey||e.shiftKey||S({id:"clear"},{...e,ctrlKey:!1,metaKey:!1,shiftKey:!1})},children:["dashboard"===s&&e.jsx(bV,{metrics:J,recentFiles:Z,activities:ee,onFileClick:T}),"dashboard"!==s&&(r?e.jsxs("div",{className:"flex flex-col items-center justify-center h-[60vh]",children:[e.jsx(y,{className:"animate-spin text-indigo-500 mb-4",size:48}),e.jsx("p",{className:"text-slate-400 font-medium",children:"Loading your files..."})]}):0===t.length?e.jsxs("div",{className:"flex flex-col items-center justify-center h-[60vh] text-slate-400",children:[e.jsx("div",{className:"w-24 h-24 bg-slate-100 rounded-3xl flex items-center justify-center mb-6 shadow-inner",children:e.jsx(et,{size:48,className:"text-slate-300"})}),e.jsx("p",{className:"text-xl font-bold text-slate-600",children:i?"No results found":"This folder is empty"}),e.jsx("p",{className:"text-slate-500 mt-2 max-w-xs text-center",children:i?`No files match "${i}"`:"Upload files or create a new folder to get started"}),!i&&e.jsx("button",{onClick:()=>V.current?.click(),className:"mt-6 text-indigo-600 font-medium hover:underline",children:"Upload a file"})]}):e.jsx("div",{className:"grid"===a?"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6 2xl:grid-cols-8 gap-4 md:gap-6":"flex flex-col bg-white rounded-xl border border-slate-200 shadow-sm overflow-hidden",children:t.map(t=>e.jsx("div",{className:"node-item",children:e.jsx(lx,{node:t,viewMode:a,onNavigate:b,onPreview:T,onContextMenu:G,onDownload:Q,isSelected:d.has(t.id),onSelect:S,onDragStart:()=>{},onDrop:X})},t.id))}))]}),e.jsx("input",{type:"file",ref:V,onChange:e=>v(e.target.files),className:"hidden",multiple:!0}),O&&e.jsx(cx,{node:O,onClose:()=>T(null)}),M&&e.jsx(ux,{x:M.x,y:M.y,node:M.node,isBackground:M.isBackground,clipboardState:u,onClose:()=>A(null),onRename:e=>R(e),onDownload:Q,onDelete:N,onMove:e=>{Wt("Use Drag & Drop to move",{icon:""})},onCut:E,onCopy:D,onPaste:k,onCreateFolder:()=>F(!0),onUpload:()=>V.current?.click(),onRefresh:()=>_(),onAddToFavorites:()=>M?.node&&C(M.node),isFavorite:M?.node&&P.has(M.node.id),onShare:e=>B(e)}),z&&e.jsx(hx,{node:z,onClose:()=>R(null),onConfirm:j}),I&&e.jsx(mx,{onClose:()=>F(!1),onCreate:e=>{w(e),F(!1)}}),L&&e.jsx(px,{node:L,onClose:()=>B(null),onShareCreated:()=>{Wt.success("Share created successfully!")}}),e.jsx(vx,{onUploadClick:()=>V.current?.click(),onCreateFolderClick:()=>F(!0),onMoreClick:()=>H(!0)})]})]})},yV=()=>{const[t,n]=kt.useState([]),[r,a]=kt.useState(!0),s=async()=>{a(!0);try{const e=await sr.get("/drive/trash");n(e.data.nodes)}catch(e){Wt.error("Failed to load trash")}finally{a(!1)}};kt.useEffect(()=>{s()},[]);return e.jsxs("div",{className:"h-full flex flex-col bg-slate-50",children:[e.jsxs("div",{className:"bg-white border-b border-slate-200 px-6 py-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(te,{className:"text-slate-600",size:24}),e.jsx("h1",{className:"text-xl font-bold text-slate-800",children:"Trash"})]}),e.jsx("p",{className:"text-sm text-slate-500 mt-1",children:"Items will be permanently deleted after 30 days"})]}),e.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:r?e.jsx("div",{className:"flex items-center justify-center h-full",children:e.jsx(y,{className:"animate-spin text-indigo-500",size:32})}):0===t.length?e.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-slate-400",children:[e.jsx("div",{className:"w-16 h-16 bg-slate-100 rounded-2xl flex items-center justify-center mb-4",children:e.jsx(te,{size:32,className:"text-slate-300"})}),e.jsx("p",{className:"text-lg font-medium text-slate-600",children:"Trash is empty"}),e.jsx("p",{className:"text-sm",children:"Deleted items will appear here"})]}):e.jsx("div",{className:"bg-white rounded-xl border border-slate-200 shadow-sm overflow-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-slate-50 border-b border-slate-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"text-left px-6 py-3 text-xs font-semibold text-slate-600 uppercase",children:"Name"}),e.jsx("th",{className:"text-left px-6 py-3 text-xs font-semibold text-slate-600 uppercase hidden md:table-cell",children:"Size"}),e.jsx("th",{className:"text-left px-6 py-3 text-xs font-semibold text-slate-600 uppercase hidden lg:table-cell",children:"Deleted"}),e.jsx("th",{className:"text-right px-6 py-3 text-xs font-semibold text-slate-600 uppercase",children:"Actions"})]})}),e.jsx("tbody",{children:t.map(t=>e.jsxs("tr",{className:"border-b border-slate-100 last:border-0 hover:bg-slate-50 transition-colors",children:[e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"text-sm font-medium text-slate-700",children:t.name}),e.jsx("span",{className:"text-xs text-slate-400 uppercase",children:t.type})]})}),e.jsx("td",{className:"px-6 py-4 text-sm text-slate-500 hidden md:table-cell",children:"folder"===t.type?"-":ox(t.size)}),e.jsx("td",{className:"px-6 py-4 text-sm text-slate-500 hidden lg:table-cell",children:new Date(t.deleted_at).toLocaleDateString()}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center justify-end gap-2",children:[e.jsxs("button",{onClick:()=>(async e=>{try{await sr.post(`/drive/nodes/${e}/restore`),Wt.success("Item restored"),s()}catch(t){Wt.error("Failed to restore item")}})(t.id),className:"flex items-center gap-1.5 px-3 py-1.5 bg-indigo-50 hover:bg-indigo-100 text-indigo-600 rounded-lg text-sm font-medium transition-colors",title:"Restore",children:[e.jsx(le,{size:14}),e.jsx("span",{className:"hidden sm:inline",children:"Restore"})]}),e.jsxs("button",{onClick:()=>(async e=>{if(confirm("Are you sure? This action cannot be undone."))try{await sr.delete(`/drive/nodes/${e}/force`),Wt.success("Item permanently deleted"),s()}catch(t){Wt.error("Failed to delete item")}})(t.id),className:"flex items-center gap-1.5 px-3 py-1.5 bg-red-50 hover:bg-red-100 text-red-600 rounded-lg text-sm font-medium transition-colors",title:"Delete Forever",children:[e.jsx(R,{size:14}),e.jsx("span",{className:"hidden sm:inline",children:"Delete"})]})]})})]},t.id))})]})})})]})},wV=({permission:t,redirectPath:n="/dashboard",children:r})=>{const{user:a,loading:s}=lr(),{can:i,loading:o}=gd(),l=Ct();return s||t&&o?e.jsx("div",{className:"flex items-center justify-center min-h-screen bg-slate-50",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-indigo-600"})}):a?a.email_verified_at?a.business||a.parent_id||"/onboarding"===l.pathname?t&&!i(t)?e.jsx(Rt,{to:n,replace:!0}):r||e.jsx(Pt,{}):e.jsx(Rt,{to:"/onboarding",state:{message:"Please complete onboarding to access your dashboard."},replace:!0}):e.jsx(Rt,{to:"/verify-email-message",replace:!0}):e.jsx(Rt,{to:"/login",state:{message:"Please log in to continue."},replace:!0})},jV=()=>{const t={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.6}}},n=[{icon:s,title:"Secure NDAs",description:"Generate rock-solid Non-Disclosure Agreements in seconds. Protect your intellectual property with legally sound templates."},{icon:o,title:"Winning Proposals",description:"Create stunning business proposals that convert. Customize every detail to match your brand and impress clients."},{icon:i,title:"Instant Invoicing",description:"Get paid faster with professional invoices. Automated calculations, tax handling, and sleek designs."},{icon:m,title:"Team Collaboration",description:"Invite your team, assign roles, and collaborate on documents in real-time. Streamline your workflow."},{icon:h,title:"Custom Branding",description:"Your docs, your brand. Upload logos, set colors, and ensure every document reflects your company identity."},{icon:k,title:"Client Management",description:"Keep track of client details and associate documents with specific projects easily."}];return e.jsxs("div",{className:"bg-white",children:[e.jsx(pr,{title:"Features - Document Management & Collaboration Tools",description:"Explore DocForge features: Secure NDA generation, winning business proposals, instant invoicing, team collaboration, custom branding, and client management tools for modern agencies.",keywords:"Document management features, NDA generator, proposal creator, invoice software, team collaboration, custom branding, client management",url:"/features"}),e.jsxs("section",{className:"relative pt-32 pb-20 overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-slate-50 -skew-y-3 origin-top-left z-0 transform -translate-y-20"}),e.jsxs("div",{className:"max-w-7xl mx-auto px-6 relative z-10 text-center",children:[e.jsxs(a.h1,{initial:"hidden",whileInView:"visible",viewport:{once:!0},variants:t,className:"text-4xl md:text-6xl font-bold text-slate-900 mb-6 tracking-tight",children:["Tools designed for ",e.jsx("span",{className:"text-indigo-600",children:"running your agency."})]}),e.jsx(a.p,{initial:"hidden",whileInView:"visible",viewport:{once:!0},variants:t,className:"text-lg md:text-xl text-slate-600 max-w-2xl mx-auto mb-10 leading-relaxed",children:"DocForge isn't just a document editor. It's a complete operating system for your paperwork. From proposal to payment, we've got you covered."})]})]}),e.jsx("section",{className:"py-20 bg-white",children:e.jsx("div",{className:"max-w-7xl mx-auto px-6",children:e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:n.map((t,n)=>e.jsxs(a.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:.1*n,duration:.5},className:"p-8 rounded-2xl border border-slate-100 bg-white hover:border-indigo-100 hover:shadow-xl transition-all group",children:[e.jsx("div",{className:"w-12 h-12 bg-slate-50 rounded-xl flex items-center justify-center text-indigo-600 mb-6 group-hover:bg-indigo-600 group-hover:text-white transition-colors",children:e.jsx(t.icon,{size:24})}),e.jsx("h3",{className:"text-xl font-bold text-slate-900 mb-3",children:t.title}),e.jsx("p",{className:"text-slate-500 leading-relaxed",children:t.description})]},n))})})}),e.jsx("section",{className:"py-24 bg-slate-50 overflow-hidden",children:e.jsx("div",{className:"max-w-7xl mx-auto px-6",children:e.jsxs("div",{className:"flex flex-col lg:flex-row items-center gap-16",children:[e.jsxs("div",{className:"flex-1 w-full relative",children:[e.jsx("div",{className:"absolute -top-10 -left-10 w-72 h-72 bg-purple-500 rounded-full mix-blend-multiply filter blur-3xl opacity-20 animate-blob"}),e.jsx("div",{className:"absolute -bottom-10 -right-10 w-72 h-72 bg-indigo-500 rounded-full mix-blend-multiply filter blur-3xl opacity-20 animate-blob animation-delay-2000"}),e.jsxs(a.div,{initial:{opacity:0,scale:.95},whileInView:{opacity:1,scale:1},viewport:{once:!0},transition:{duration:.7},className:"relative z-10 rounded-2xl shadow-2xl bg-white p-2 border border-slate-100",children:[e.jsx("img",{src:"/images/dashboard-preview.png",alt:"DocForge document editor interface with real-time preview, version history, and one-click PDF export",className:"w-full h-auto rounded-xl border border-slate-200/50"}),e.jsx("div",{className:"absolute inset-0 rounded-2xl ring-1 ring-inset ring-black/5 pointer-events-none"})]})]}),e.jsx("div",{className:"flex-1",children:e.jsxs(a.div,{initial:{opacity:0,x:20},whileInView:{opacity:1,x:0},viewport:{once:!0},transition:{duration:.6},children:[e.jsxs("div",{className:"inline-flex items-center gap-2 px-3 py-1 rounded-full bg-indigo-50 text-indigo-600 text-sm font-medium mb-6",children:[e.jsx(i,{size:16})," Power & Simplicity"]}),e.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-slate-900 mb-6 leading-tight",children:"Unrivaled Editing Experience"}),e.jsx("p",{className:"text-slate-600 mb-8 text-lg leading-relaxed",children:"Our purpose-built editors make customization intuitive. Forget complex formatting battlesjust fill, click, and generate documents that look professionally designed every time."}),e.jsx("ul",{className:"space-y-4",children:["Real-time preview updates","Version History & Restoration","Share Tracking & Analytics","One-click PDF export"].map((t,n)=>e.jsxs(a.li,{initial:{opacity:0,x:10},whileInView:{opacity:1,x:0},viewport:{once:!0},transition:{delay:.2+.1*n},className:"flex items-center gap-3 text-slate-700 font-medium",children:[e.jsx("div",{className:"flex-shrink-0 w-6 h-6 rounded-full bg-green-100 flex items-center justify-center text-green-600",children:e.jsx(f,{size:14,strokeWidth:3})}),t]},n))}),e.jsx("div",{className:"mt-10",children:e.jsxs(_t,{to:"/register",className:"text-indigo-600 font-semibold hover:text-indigo-700 flex items-center gap-2 group",children:["Experience the editor ",e.jsx("span",{className:"group-hover:translate-x-1 transition-transform",children:""})]})})]})})]})})}),e.jsx("section",{className:"py-20 bg-slate-900 text-white text-center",children:e.jsxs("div",{className:"max-w-4xl mx-auto px-6",children:[e.jsx("h2",{className:"text-3xl md:text-5xl font-bold mb-8",children:"Ready to streamline your workflow?"}),e.jsx("p",{className:"text-slate-400 text-lg mb-10 max-w-2xl mx-auto",children:"Join thousands of freelancers and agencies who rely on DocForge for their critical documentation."}),e.jsx(_t,{to:"/register",className:"inline-block px-8 py-4 bg-indigo-600 rounded-xl text-lg font-bold hover:bg-indigo-500 transition-colors shadow-lg hover:shadow-indigo-500/25",children:"Get Started for Free"})]})})]})},NV=()=>{const[t,n]=kt.useState(!0),r=[{name:"Starter",price:0,description:"Perfect for freelancers just getting started.",features:["Up to 3 Documents/mo","Basic NDA Templates","Standard PDF Export","1 User Seat"],cta:"Start Free",popular:!1},{name:"Professional",price:t?19:25,description:"For growing agencies and serious professionals.",features:["Unlimited Documents","All Template Types (NDA, Proposal, Invoice)","Custom Branding & Logos","Team Management (Up to 5 seats)","Priority Support"],cta:"Start Trial",popular:!0},{name:"Enterprise",price:"Custom",description:"Tailored solutions for large organizations.",features:["Everything in Professional","Unlimited Team Seats","SSO & Advanced Security","Custom Contract Development","Dedicated Account Manager"],cta:"Contact Sales",popular:!1}];return e.jsxs("div",{className:"bg-white",children:[e.jsx(pr,{title:"Pricing - Affordable Plans for Freelancers & Agencies",description:"Simple, transparent pricing for DocForge. Start free with basic features or upgrade to Professional for unlimited documents, custom branding, and team collaboration. Enterprise plans available.",keywords:"DocForge pricing, document management pricing, NDA generator cost, proposal software pricing, affordable business tools",url:"/pricing",jsonLd:{"@context":"https://schema.org","@type":"FAQPage",mainEntity:[{"@type":"Question",name:"Can I cancel anytime?",acceptedAnswer:{"@type":"Answer",text:"Yes, you can cancel your subscription at any time. Your access will continue until the end of your billing period."}},{"@type":"Question",name:"Is there a free trial?",acceptedAnswer:{"@type":"Answer",text:"We offer a 14-day free trial for the Professional plan. No credit card required to start."}}]}}),e.jsxs("section",{className:"pt-32 pb-16 px-6 text-center",children:[e.jsx(a.h1,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-4xl md:text-5xl font-bold text-slate-900 mb-6",children:"Simple, transparent pricing"}),e.jsxs("div",{className:"flex items-center justify-center gap-4 mt-8",children:[e.jsx("span",{className:"text-sm font-medium "+(t?"text-slate-500":"text-slate-900"),children:"Monthly"}),e.jsx("button",{onClick:()=>n(!t),className:"w-14 h-8 bg-slate-200 rounded-full p-1 transition-colors relative",children:e.jsx("div",{className:"w-6 h-6 bg-white rounded-full shadow-sm transition-transform "+(t?"translate-x-6":"translate-x-0")})}),e.jsxs("span",{className:"text-sm font-medium "+(t?"text-slate-900":"text-slate-500"),children:["Yearly ",e.jsx("span",{className:"text-emerald-500 text-xs font-bold ml-1",children:"(Save 20%)"})]})]})]}),e.jsx("section",{className:"pb-24 px-6 max-w-7xl mx-auto",children:e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 items-start",children:r.map((t,n)=>e.jsxs(a.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:.1*n},className:`relative p-8 rounded-2xl border ${t.popular?"border-indigo-600 shadow-2xl shadow-indigo-200":"border-slate-200 shadow-sm"} bg-white`,children:[t.popular&&e.jsx("div",{className:"absolute top-0 left-1/2 transform -translate-x-1/2 -translate-y-1/2 bg-indigo-600 text-white px-4 py-1 rounded-full text-sm font-bold tracking-wide",children:"MOST POPULAR"}),e.jsx("h3",{className:"text-xl font-bold text-slate-900",children:t.name}),e.jsx("p",{className:"text-slate-500 text-sm mt-2 h-10",children:t.description}),e.jsxs("div",{className:"my-8",children:[e.jsx("span",{className:"text-4xl font-bold text-slate-900",children:"number"==typeof t.price?`$${t.price}`:t.price}),"number"==typeof t.price&&e.jsx("span",{className:"text-slate-500",children:"/mo"})]}),e.jsx(_t,{to:"Enterprise"===t.name?"/contact":"/register",className:"block w-full py-3 rounded-xl font-bold text-center transition-all "+(t.popular?"bg-indigo-600 text-white hover:bg-indigo-700 hover:shadow-lg":"bg-slate-100 text-slate-900 hover:bg-slate-200"),children:t.cta}),e.jsx("ul",{className:"mt-8 space-y-4",children:t.features.map((t,n)=>e.jsxs("li",{className:"flex items-start gap-3 text-sm text-slate-600",children:[e.jsx(we,{size:18,className:"text-emerald-500 flex-shrink-0 mt-0.5"}),t]},n))})]},n))})}),e.jsx("section",{className:"py-20 bg-slate-50 border-t border-slate-200",children:e.jsxs("div",{className:"max-w-3xl mx-auto px-6 text-center",children:[e.jsx("h2",{className:"text-3xl font-bold text-slate-900 mb-12",children:"Frequently Asked Questions"}),e.jsxs("div",{className:"space-y-8 text-left",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold text-slate-900 mb-2",children:"Can I cancel anytime?"}),e.jsx("p",{className:"text-slate-600",children:"Yes, you can cancel your subscription at any time. Your access will continue until the end of your billing period."})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold text-slate-900 mb-2",children:"Is there a free trial?"}),e.jsx("p",{className:"text-slate-600",children:"We offer a 14-day free trial for the Professional plan. No credit card required to start."})]})]})]})})]})},kV=()=>e.jsxs("div",{className:"bg-white",children:[e.jsx(pr,{title:"About Us - Our Mission to Empower Modern Businesses",description:"Learn about DocForge's mission to empower businesses with intuitive document management tools. Discover our story, values, and commitment to customer excellence.",keywords:"about DocForge, company mission, document management company, business tools, customer first",url:"/about"}),e.jsxs("section",{className:"pt-32 pb-20 px-6 max-w-4xl mx-auto text-center",children:[e.jsxs(a.h1,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-4xl md:text-6xl font-bold text-slate-900 mb-8",children:["Empowering businesses to ",e.jsx("span",{className:"text-indigo-600",children:"forge ahead."})]}),e.jsx("p",{className:"text-xl text-slate-600 leading-relaxed",children:"At DocForge, we believe that administrative friction shouldn't slow down innovation. Our mission is to provide intuitive, powerful tools that let you focus on what you do bestbuilding your business."})]}),e.jsx("section",{className:"py-12 bg-slate-900 text-white",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-6 grid grid-cols-1 md:grid-cols-3 gap-8 text-center",children:[e.jsxs("div",{className:"p-6",children:[e.jsx("div",{className:"text-4xl font-bold text-indigo-400 mb-2",children:"10k+"}),e.jsx("div",{className:"text-slate-400",children:"Documents Generated"})]}),e.jsxs("div",{className:"p-6",children:[e.jsx("div",{className:"text-4xl font-bold text-indigo-400 mb-2",children:"99.9%"}),e.jsx("div",{className:"text-slate-400",children:"Uptime Reliability"})]}),e.jsxs("div",{className:"p-6",children:[e.jsx("div",{className:"text-4xl font-bold text-indigo-400 mb-2",children:"24/7"}),e.jsx("div",{className:"text-slate-400",children:"Global Support"})]})]})}),e.jsx("section",{className:"py-20 px-6 max-w-5xl mx-auto",children:e.jsxs("div",{className:"bg-slate-50 p-8 md:p-12 rounded-3xl",children:[e.jsx("h2",{className:"text-3xl font-bold text-slate-900 mb-6",children:"Our Story"}),e.jsx("p",{className:"text-slate-600 mb-6 leading-relaxed",children:"Founded in 2024, DocForge started with a simple observation: small businesses and freelancers were wasting hours on paperwork that should take minutes. Clunky legacy software and expensive legal fees were barriers to entry."}),e.jsx("p",{className:"text-slate-600 leading-relaxed",children:"We built DocForge to be the solution we wanted for ourselvesfast, beautiful, and secure. Today, we're proud to support a growing community of entrepreneurs and teams worldwide."})]})}),e.jsxs("section",{className:"py-20 px-6 max-w-7xl mx-auto",children:[e.jsx("h2",{className:"text-3xl font-bold text-slate-900 mb-12 text-center",children:"Our Core Values"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[e.jsxs("div",{className:"p-8 text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-blue-50 text-blue-600 rounded-full flex items-center justify-center mx-auto mb-6",children:e.jsx(m,{size:32})}),e.jsx("h3",{className:"text-xl font-bold text-slate-900 mb-3",children:"Customer First"}),e.jsx("p",{className:"text-slate-500",children:"We build for you. Your feedback drives our roadmap and our innovations."})]}),e.jsxs("div",{className:"p-8 text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-indigo-50 text-indigo-600 rounded-full flex items-center justify-center mx-auto mb-6",children:e.jsx(D,{size:32})}),e.jsx("h3",{className:"text-xl font-bold text-slate-900 mb-3",children:"Global Mindset"}),e.jsx("p",{className:"text-slate-500",children:"Business knows no borders. Our tools are designed for international collaboration."})]}),e.jsxs("div",{className:"p-8 text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-purple-50 text-purple-600 rounded-full flex items-center justify-center mx-auto mb-6",children:e.jsx(ft,{size:32})}),e.jsx("h3",{className:"text-xl font-bold text-slate-900 mb-3",children:"Excellence"}),e.jsx("p",{className:"text-slate-500",children:'We don\'t settle for "good enough". We strive for perfection in every pixel.'})]})]})]})]}),SV=()=>e.jsxs("div",{className:"max-w-4xl mx-auto px-6 py-32",children:[e.jsx(pr,{title:"Privacy Policy - How We Protect Your Data",description:"Read DocForge's privacy policy to understand how we collect, use, and protect your personal data. Learn about your privacy rights and data security.",keywords:"privacy policy, data protection, GDPR, user privacy, data security",url:"/privacy",robots:"noindex, follow"}),e.jsx("h1",{className:"text-4xl font-bold text-slate-900 mb-8",children:"Privacy Policy"}),e.jsxs("div",{className:"prose prose-slate max-w-none",children:[e.jsx("p",{className:"text-slate-600 mb-6",children:"Last updated: January 1, 2026"}),e.jsx("h2",{className:"text-2xl font-bold text-slate-900 mt-8 mb-4",children:"1. Introduction"}),e.jsx("p",{className:"text-slate-600 mb-4",children:"Welcome to DocForge. We respect your privacy and are committed to protecting your personal data. This privacy policy will inform you as to how we look after your personal data when you visit our website and tell you about your privacy rights and how the law protects you."}),e.jsx("h2",{className:"text-2xl font-bold text-slate-900 mt-8 mb-4",children:"2. Data We Collect"}),e.jsx("p",{className:"text-slate-600 mb-4",children:"We may collect, use, store and transfer different kinds of personal data about you which we have grouped together follows:"}),e.jsxs("ul",{className:"list-disc pl-6 text-slate-600 mb-4 space-y-2",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Identity Data:"})," includes first name, last name, username or similar identifier."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Contact Data:"})," includes email address and telephone numbers."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Technical Data:"})," includes internet protocol (IP) address, your login data, browser type and version."]})]}),e.jsx("h2",{className:"text-2xl font-bold text-slate-900 mt-8 mb-4",children:"3. How We Use Your Data"}),e.jsx("p",{className:"text-slate-600 mb-4",children:"We will only use your personal data when the law allows us to. Most commonly, we will use your personal data in the following circumstances:"}),e.jsxs("ul",{className:"list-disc pl-6 text-slate-600 mb-4 space-y-2",children:[e.jsx("li",{children:"Where we need to perform the contract we are about to enter into or have entered into with you."}),e.jsx("li",{children:"Where it is necessary for our legitimate interests (or those of a third party) and your interests and fundamental rights do not override those interests."})]})]})]}),CV=()=>e.jsxs("div",{className:"max-w-4xl mx-auto px-6 py-32",children:[e.jsx(pr,{title:"Terms of Service - DocForge User Agreement",description:"Read DocForge's terms of service to understand the agreement, use license, and disclaimers for using our document management platform.",keywords:"terms of service, user agreement, terms and conditions, legal terms",url:"/terms",robots:"noindex, follow"}),e.jsx("h1",{className:"text-4xl font-bold text-slate-900 mb-8",children:"Terms of Service"}),e.jsxs("div",{className:"prose prose-slate max-w-none",children:[e.jsx("p",{className:"text-slate-600 mb-6",children:"Last updated: January 1, 2026"}),e.jsx("h2",{className:"text-2xl font-bold text-slate-900 mt-8 mb-4",children:"1. Agreement to Terms"}),e.jsx("p",{className:"text-slate-600 mb-4",children:"By accessing or using our website and services, you agree to be bound by these Terms of Service and our Privacy Policy. If you do not agree to these terms, please do not use our services."}),e.jsx("h2",{className:"text-2xl font-bold text-slate-900 mt-8 mb-4",children:"2. Use License"}),e.jsx("p",{className:"text-slate-600 mb-4",children:"Permission is granted to temporarily download one copy of the materials (information or software) on DocForge's website for personal, non-commercial transitory viewing only. This is the grant of a license, not a transfer of title."}),e.jsx("h2",{className:"text-2xl font-bold text-slate-900 mt-8 mb-4",children:"3. Disclaimer"}),e.jsx("p",{className:"text-slate-600 mb-4",children:"The materials on DocForge's website are provided on an 'as is' basis. DocForge makes no warranties, expressed or implied, and hereby disclaims and negates all other warranties including, without limitation, implied warranties or conditions of merchantability, fitness for a particular purpose, or non-infringement of intellectual property or other violation of rights."})]})]}),_V=()=>{const[t,n]=kt.useState(!1),[r,a]=kt.useState(!1),[s,i]=kt.useState({name:"",email:"",subject:"",message:""}),o=e=>{i({...s,[e.target.name]:e.target.value})};return e.jsxs("div",{className:"bg-white pt-32 pb-24",children:[e.jsx(pr,{title:"Contact Us - Get in Touch with Our Team",description:"Have questions about DocForge? Contact our support team for help with document management, pricing, or technical support. We're here to help.",keywords:"contact DocForge, customer support, help, technical support, sales inquiry",url:"/contact"}),e.jsxs("div",{className:"max-w-3xl mx-auto px-6 text-center",children:[e.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-slate-900 mb-6",children:"Get in touch"}),e.jsx("p",{className:"text-slate-600 text-lg mb-12",children:"Have questions about our plans or need technical support? We're here to help."}),t?e.jsxs("div",{className:"bg-emerald-50 border border-emerald-200 rounded-2xl p-8 text-emerald-800",children:[e.jsx("h3",{className:"text-2xl font-bold mb-2",children:"Message Sent!"}),e.jsx("p",{children:"Thanks for reaching out. We'll get back to you within 24 hours."}),e.jsx("button",{onClick:()=>n(!1),className:"mt-6 text-emerald-600 font-medium hover:underline",children:"Send another message"})]}):e.jsxs("form",{onSubmit:async e=>{e.preventDefault(),a(!0);try{await sr.post("/public/contact",s),n(!0),Wt.success("Message sent successfully!"),i({name:"",email:"",subject:"",message:""})}catch(t){Wt.error("Failed to send message. Please try again.")}finally{a(!1)}},className:"bg-white border border-slate-200 rounded-2xl p-8 md:p-10 shadow-xl text-left",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Name"}),e.jsx("input",{type:"text",name:"name",value:s.name,onChange:o,className:"w-full px-4 py-3 rounded-lg border border-slate-300 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition-all outline-none",required:!0,placeholder:"John Doe"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Email"}),e.jsx("input",{type:"email",name:"email",value:s.email,onChange:o,className:"w-full px-4 py-3 rounded-lg border border-slate-300 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition-all outline-none",required:!0,placeholder:"john@example.com"})]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Subject"}),e.jsx("input",{type:"text",name:"subject",value:s.subject,onChange:o,className:"w-full px-4 py-3 rounded-lg border border-slate-300 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition-all outline-none",required:!0,placeholder:"How can we help?"})]}),e.jsxs("div",{className:"mb-8",children:[e.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Message"}),e.jsx("textarea",{rows:"5",name:"message",value:s.message,onChange:o,className:"w-full px-4 py-3 rounded-lg border border-slate-300 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition-all outline-none",required:!0,placeholder:"Tell us more..."})]}),e.jsx("button",{type:"submit",disabled:r,className:"w-full py-4 bg-indigo-600 text-white font-bold rounded-xl hover:bg-indigo-700 transition-all shadow-lg hover:shadow-indigo-500/25 flex items-center justify-center gap-2 disabled:opacity-70 disabled:cursor-not-allowed",children:r?e.jsx("span",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"}):e.jsxs(e.Fragment,{children:[e.jsx(ye,{size:20}),"Send Message"]})})]})]})]})},PV=()=>e.jsxs("div",{className:"max-w-4xl mx-auto px-6 py-32 text-center",children:[e.jsx("div",{className:"w-20 h-20 bg-indigo-50 text-indigo-600 rounded-full flex items-center justify-center mx-auto mb-8",children:e.jsx(k,{size:40})}),e.jsx("h1",{className:"text-4xl font-bold text-slate-900 mb-6",children:"Join the Team"}),e.jsx("p",{className:"text-xl text-slate-600 mb-12",children:"We're always looking for talented individuals to help us build the future of document management."}),e.jsxs("div",{className:"p-12 border border-slate-200 rounded-2xl bg-slate-50",children:[e.jsx("p",{className:"text-slate-500 font-medium",children:"There are currently no open positions."}),e.jsx("p",{className:"text-slate-400 text-sm mt-2",children:"Check back later or follow us on social media for updates."})]})]}),EV=()=>e.jsxs("div",{className:"max-w-3xl mx-auto px-6 py-32",children:[e.jsx("h1",{className:"text-4xl font-bold text-slate-900 mb-12",children:"Product Updates"}),e.jsx("div",{className:"space-y-12 border-l border-slate-200 ml-4 pl-8 relative",children:[{version:"v1.0.0",date:"January 19, 2026",title:"Global Launch",description:"DocForge is officially live! Create NDAs, Proposals, and Invoices with ease.",type:"Major"},{version:"v0.9.5",date:"December 15, 2025",title:"Beta Release",description:"Initial beta release to select partners.",type:"Beta"}].map((t,n)=>e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute -left-[41px] top-1.5 w-5 h-5 rounded-full bg-white border-4 border-indigo-600"}),e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("span",{className:"font-mono text-sm font-bold text-indigo-600 bg-indigo-50 px-2 py-1 rounded",children:t.version}),e.jsx("span",{className:"text-slate-400 text-sm",children:t.date})]}),e.jsx("h3",{className:"text-xl font-bold text-slate-900 mb-2",children:t.title}),e.jsx("p",{className:"text-slate-600",children:t.description})]},n))})]}),DV=()=>{const[t,n]=kt.useState([]),[r,s]=kt.useState(!0),[i,o]=kt.useState({}),[c,d]=kt.useState(1);kt.useEffect(()=>{u()},[c]);const u=async()=>{s(!0);try{const e=await(async(e={})=>(await sr.get("/public/posts",{params:e})).data)({page:c});n(e.data),o({current_page:e.current_page,last_page:e.last_page,total:e.total})}catch(e){}finally{s(!1)}},h=t.length>0?t[0]:null,m=t.length>0?t.slice(1):[],f={"@context":"https://schema.org","@type":"Blog",name:"DocForge Blog",description:"Insights on document workflows, agency growth, and product updates.",url:"https://docforgedocs.com/blog",blogPost:t.map(e=>({"@type":"BlogPosting",headline:e.title,image:e.featured_image,datePublished:e.published_at,author:{"@type":"Person",name:e.author?.name||"DocForge Team"}}))};return e.jsxs("div",{className:"min-h-screen bg-slate-50",children:[e.jsx(pr,{title:"Blog",description:"Latest updates, guides, and insights from the DocForge team.",url:"/blog",jsonLd:f}),e.jsx("div",{className:"bg-white pt-32 pb-20 border-b border-slate-200",children:e.jsx("div",{className:"max-w-7xl mx-auto px-6 text-center",children:e.jsxs(a.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},children:[e.jsx("span",{className:"inline-block py-1 px-3 rounded-full bg-indigo-50 text-indigo-600 text-xs font-bold uppercase tracking-wider mb-4 border border-indigo-100",children:"The DocForge Log"}),e.jsxs("h1",{className:"text-4xl md:text-6xl font-extrabold text-slate-900 mb-6 tracking-tight",children:["Insights for ",e.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-indigo-600 to-indigo-500",children:"Modern Agencies"})]}),e.jsx("p",{className:"text-xl text-slate-500 max-w-2xl mx-auto leading-relaxed",children:"Discover strategies for efficient document workflows, business growth, and product updates straight from our team."})]})})}),e.jsx("div",{className:"max-w-7xl mx-auto px-6 py-12",children:r?e.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-8",children:[1,2,3,4,5,6].map(t=>e.jsxs("div",{className:"animate-pulse",children:[e.jsx("div",{className:"bg-slate-200 h-64 rounded-2xl mb-4"}),e.jsx("div",{className:"h-4 bg-slate-200 rounded w-3/4 mb-2"}),e.jsx("div",{className:"h-4 bg-slate-200 rounded w-1/2"})]},t))}):e.jsxs(e.Fragment,{children:[h&&1===c&&e.jsxs(a.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"mb-16 group relative rounded-3xl overflow-hidden shadow-2xl bg-white grid lg:grid-cols-2",children:[e.jsx("div",{className:"absolute top-4 left-4 z-10",children:e.jsxs("span",{className:"bg-white/90 backdrop-blur text-indigo-600 px-3 py-1 rounded-full text-xs font-bold shadow-sm flex items-center gap-1",children:[e.jsx(p,{size:12,className:"fill-indigo-600"})," Featured"]})}),e.jsx("div",{className:"relative h-64 lg:h-full overflow-hidden",children:h.featured_image?e.jsx("img",{src:h.featured_image,alt:h.title,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-700"}):e.jsx("div",{className:"w-full h-full bg-indigo-50 flex items-center justify-center",children:e.jsx("span",{className:"text-indigo-200 font-bold text-6xl",children:"DocForge"})})}),e.jsxs("div",{className:"p-8 lg:p-12 flex flex-col justify-center",children:[e.jsxs("div",{className:"flex items-center gap-4 text-sm text-slate-500 mb-4",children:[e.jsx("span",{className:"text-indigo-600 font-bold",children:h.category?.name||"Update"}),e.jsx("span",{className:"w-1 h-1 bg-slate-300 rounded-full"}),e.jsx("span",{children:new Date(h.published_at).toLocaleDateString()})]}),e.jsx("h2",{className:"text-3xl lg:text-4xl font-bold text-slate-900 mb-4 group-hover:text-indigo-600 transition-colors",children:e.jsx(_t,{to:`/blog/${h.slug}`,children:h.title})}),e.jsx("p",{className:"text-slate-600 text-lg mb-8 line-clamp-3",children:h.summary||"Read the full article to learn more regarding this topic..."}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-indigo-100 flex items-center justify-center text-indigo-600 font-bold",children:h.author?.name?.[0]||"D"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-bold text-slate-900",children:h.author?.name||"DocForge Team"}),e.jsx("p",{className:"text-xs text-slate-500",children:"Author"})]})]}),e.jsxs(_t,{to:`/blog/${h.slug}`,className:"inline-flex items-center gap-2 bg-slate-900 text-white px-6 py-3 rounded-xl font-bold hover:bg-indigo-600 transition-colors",children:["Read Article ",e.jsx(l,{size:18})]})]})]})]}),e.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-8 mb-16",children:(1===c?m:t).map((t,n)=>e.jsx(a.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1*n},children:e.jsxs(_t,{to:`/blog/${t.slug}`,className:"group flex flex-col h-full bg-white border border-slate-100 rounded-2xl overflow-hidden hover:shadow-xl hover:-translate-y-1 transition-all duration-300",children:[e.jsxs("div",{className:"aspect-[16/10] overflow-hidden bg-slate-100 relative",children:[t.featured_image?e.jsx("img",{src:t.featured_image,alt:t.title,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-500"}):e.jsx("div",{className:"w-full h-full flex items-center justify-center bg-indigo-50 text-indigo-300",children:e.jsx("span",{className:"text-4xl font-bold opacity-20",children:"DocForge"})}),t.category&&e.jsx("span",{className:"absolute top-4 left-4 bg-white/90 backdrop-blur-sm px-3 py-1 rounded-full text-xs font-bold text-indigo-600 shadow-sm border border-indigo-50",children:t.category.name})]}),e.jsxs("div",{className:"p-6 flex flex-col flex-1",children:[e.jsxs("div",{className:"flex items-center gap-4 text-xs text-slate-500 mb-4",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(F,{size:14}),new Date(t.published_at).toLocaleDateString()]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx($,{size:14}),"5 min read"]})]}),e.jsx("h2",{className:"text-xl font-bold text-slate-900 mb-3 group-hover:text-indigo-600 transition-colors line-clamp-2",children:t.title}),e.jsx("p",{className:"text-slate-600 text-sm leading-relaxed mb-6 flex-1 line-clamp-3 break-words",children:t.summary?.replace(/&nbsp;/g," ")||"Read the full article to learn more..."}),e.jsxs("div",{className:"flex items-center justify-between pt-6 border-t border-slate-50 mt-auto",children:[e.jsxs("span",{className:"text-slate-700 text-xs font-medium flex items-center gap-2",children:["By ",t.author?.name||"DocForge"]}),e.jsxs("span",{className:"text-indigo-600 font-bold text-sm flex items-center gap-1 group-hover:gap-2 transition-all",children:["Read ",e.jsx(l,{size:16})]})]})]})]})},t.id))}),e.jsxs("div",{className:"mb-20 bg-slate-900 rounded-3xl p-8 md:p-12 relative overflow-hidden text-center md:text-left grid md:grid-cols-2 gap-8 items-center",children:[e.jsxs("div",{className:"relative z-10",children:[e.jsx("h3",{className:"text-3xl font-bold text-white mb-4",children:"Stay ahead of the curve"}),e.jsx("p",{className:"text-slate-400 mb-8 text-lg",children:"Join 5,000+ agency owners receiving our weekly insights on workflow optimization and growth."}),e.jsxs("form",{className:"flex flex-col sm:flex-row gap-3",children:[e.jsx("input",{type:"email",placeholder:"Enter your work email",className:"bg-white/10 border border-white/20 text-white placeholder:text-slate-500 px-4 py-3 rounded-xl focus:outline-none focus:ring-2 focus:ring-indigo-500 flex-1"}),e.jsxs("button",{className:"bg-indigo-600 hover:bg-indigo-500 text-white px-6 py-3 rounded-xl font-bold transition-colors flex items-center justify-center gap-2",children:[e.jsx(v,{size:18})," Subscribe"]})]})]}),e.jsx("div",{className:"relative z-10 hidden md:block",children:e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-indigo-500/20 to-purple-500/20 rounded-full blur-3xl transform translate-x-1/2 -translate-y-1/2"})})]}),i.last_page>1&&e.jsxs("div",{className:"flex justify-center gap-2",children:[e.jsx("button",{onClick:()=>d(e=>Math.max(1,e-1)),disabled:1===c,className:"px-6 py-3 rounded-xl bg-white border border-slate-200 text-slate-600 font-medium hover:bg-indigo-50 hover:text-indigo-600 hover:border-indigo-200 disabled:opacity-50 disabled:cursor-not-allowed transition-all",children:"Previous"}),e.jsx("span",{className:"px-6 py-3 bg-white border border-slate-200 rounded-xl text-slate-900 font-bold min-w-[3rem] text-center",children:i.current_page}),e.jsx("button",{onClick:()=>d(e=>Math.min(i.last_page,e+1)),disabled:c===i.last_page,className:"px-6 py-3 rounded-xl bg-white border border-slate-200 text-slate-600 font-medium hover:bg-indigo-50 hover:text-indigo-600 hover:border-indigo-200 disabled:opacity-50 disabled:cursor-not-allowed transition-all",children:"Next"})]})]})})]})},OV=()=>{const{slug:t}=Ot(),[n,r]=kt.useState(null),[s,i]=kt.useState(!0),[o,l]=kt.useState(null),{scrollYProgress:c}=gt(),d=xt(c,{stiffness:100,damping:30,restDelta:.001});kt.useEffect(()=>{u(),window.scrollTo(0,0)},[t]);const u=async()=>{i(!0);try{const e=await(async e=>(await sr.get(`/public/posts/${e}`)).data)(t);r(e)}catch(e){l("Post not found")}finally{i(!1)}};if(s)return e.jsx("div",{className:"min-h-screen bg-white pt-32 pb-24 flex justify-center",children:e.jsx("div",{className:"w-8 h-8 border-4 border-indigo-200 border-t-indigo-600 rounded-full animate-spin"})});if(o||!n)return e.jsxs("div",{className:"min-h-screen bg-white pt-32 pb-24 text-center",children:[e.jsx("h1",{className:"text-3xl font-bold text-slate-900 mb-4",children:"Post Not Found"}),e.jsx(_t,{to:"/blog",className:"text-indigo-600 font-bold hover:underline",children:"Return to Blog"})]});const h={"@context":"https://schema.org","@type":"BlogPosting",headline:n.title,image:n.featured_image?[n.featured_image]:[],datePublished:n.published_at,dateModified:n.updated_at||n.published_at,author:{"@type":"Person",name:n.author?.name||"DocForge Team"}};return e.jsxs("article",{className:"min-h-screen bg-white",children:[e.jsx(pr,{title:n.seo_title||n.title,description:n.seo_description||n.summary,url:`/blog/${n.slug}`,image:n.featured_image,type:"article",keywords:n.meta_keywords,jsonLd:h}),e.jsx(a.div,{className:"fixed top-0 left-0 right-0 h-1 bg-indigo-600 origin-left z-50",style:{scaleX:d}}),e.jsx("div",{className:"bg-slate-50 pt-32 pb-12 border-b border-slate-200",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-6",children:[e.jsxs(_t,{to:"/blog",className:"inline-flex items-center gap-2 text-slate-500 font-bold text-sm hover:text-indigo-600 mb-8 transition-colors",children:[e.jsx(I,{size:16})," Back to Blog"]}),e.jsxs("div",{className:"max-w-4xl",children:[n.category&&e.jsx("span",{className:"inline-block bg-indigo-100 text-indigo-700 px-3 py-1 rounded-full text-xs font-bold uppercase tracking-wider mb-6",children:n.category.name}),e.jsx("h1",{className:"text-4xl md:text-6xl font-extrabold text-slate-900 mb-6 leading-tight",children:n.title}),e.jsxs("div",{className:"flex flex-wrap items-center gap-6 text-slate-500",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-white border border-slate-200 flex items-center justify-center overflow-hidden",children:n.author?.avatar_url?e.jsx("img",{src:n.author.avatar_url,alt:n.author.name,className:"w-full h-full object-cover"}):e.jsx("span",{className:"font-bold text-xs text-slate-500",children:n.author?.name?.[0]||"D"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-bold text-slate-900 text-sm",children:n.author?.name||"DocForge Team"}),e.jsx("p",{className:"text-xs",children:"Author"})]})]}),e.jsx("span",{className:"w-px h-8 bg-slate-300 hidden sm:block"}),e.jsxs("div",{className:"flex items-center gap-4 text-sm font-medium",children:[e.jsxs("span",{className:"flex items-center gap-2",children:[e.jsx(F,{size:18,className:"text-slate-400"}),new Date(n.published_at).toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric"})]}),e.jsxs("span",{className:"flex items-center gap-2",children:[e.jsx($,{size:18,className:"text-slate-400"}),"5 min read"]})]})]})]})]})}),e.jsx("div",{className:"max-w-7xl mx-auto px-6 py-12",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-12",children:[e.jsxs("div",{className:"lg:col-span-8",children:[n.featured_image&&e.jsx("div",{className:"rounded-2xl overflow-hidden mb-12 shadow-lg border border-slate-100",children:e.jsx("img",{src:n.featured_image,alt:n.title,className:"w-full h-auto"})}),e.jsx("div",{className:"prose prose-lg prose-indigo prose-headings:font-bold prose-headings:text-slate-900 prose-p:text-slate-600 prose-p:leading-8 prose-li:text-slate-600 max-w-none break-words",dangerouslySetInnerHTML:{__html:n.content.replace(/&nbsp;/g," ")}}),e.jsxs("div",{className:"mt-16 pt-8 border-t border-slate-200",children:[e.jsxs("h3",{className:"font-bold text-slate-900 mb-4 flex items-center gap-2",children:[e.jsx(ve,{size:20})," Share this article"]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{className:"p-3 rounded-full bg-slate-100 text-slate-600 hover:bg-[#1877F2] hover:text-white transition-colors",children:e.jsx(bt,{size:20})}),e.jsx("button",{className:"p-3 rounded-full bg-slate-100 text-slate-600 hover:bg-[#1DA1F2] hover:text-white transition-colors",children:e.jsx(vt,{size:20})}),e.jsx("button",{className:"p-3 rounded-full bg-slate-100 text-slate-600 hover:bg-[#0A66C2] hover:text-white transition-colors",children:e.jsx(yt,{size:20})})]})]})]}),e.jsx("div",{className:"lg:col-span-4 space-y-8",children:e.jsxs("div",{className:"bg-slate-50 rounded-2xl p-6 border border-slate-100 sticky top-32",children:[e.jsx("h3",{className:"font-bold text-slate-900 mb-4",children:"In this article"}),e.jsxs("ul",{className:"space-y-3 text-sm",children:[e.jsx("li",{children:e.jsxs("a",{href:"#",className:"flex items-center gap-2 text-indigo-600 font-medium",children:[e.jsx(M,{size:14})," Introduction"]})}),e.jsx("li",{children:e.jsxs("a",{href:"#",className:"flex items-center gap-2 text-slate-600 hover:text-indigo-600 transition-colors",children:[e.jsx(M,{size:14,className:"opacity-0"})," Key Takeaways"]})}),e.jsx("li",{children:e.jsxs("a",{href:"#",className:"flex items-center gap-2 text-slate-600 hover:text-indigo-600 transition-colors",children:[e.jsx(M,{size:14,className:"opacity-0"})," Implementation Guide"]})}),e.jsx("li",{children:e.jsxs("a",{href:"#",className:"flex items-center gap-2 text-slate-600 hover:text-indigo-600 transition-colors",children:[e.jsx(M,{size:14,className:"opacity-0"})," Conclusion"]})})]}),e.jsxs("div",{className:"mt-8 pt-8 border-t border-slate-200",children:[e.jsx("p",{className:"font-bold text-slate-900 mb-2",children:"Need help with documents?"}),e.jsx("p",{className:"text-slate-500 text-sm mb-4",children:"DocForge streamlines your proposals and contracts."}),e.jsx(_t,{to:"/register",className:"block text-center bg-indigo-600 text-white font-bold py-3 rounded-xl hover:bg-indigo-700 transition-colors shadow-lg shadow-indigo-200",children:"Get Started Free"})]})]})})]})})]})};Vt.workerSrc=Vg;const TV=()=>{const{token:t}=Ot(),[n,r]=kt.useState(null),[a,s]=kt.useState(!0),[i,l]=kt.useState(null),[c,d]=kt.useState(null),[u,h]=kt.useState(1),[m,p]=kt.useState(1),f="http://localhost:8000/api/v1";kt.useEffect(()=>{t&&(async()=>{try{const e=await sr.get(`/public/documents/${t}`);r(e.data.data)}catch(e){l("Document not found or access denied.")}finally{s(!1)}})()},[t]);const g=()=>{window.location.href=`${f}/public/documents/${t}/download`};return a?e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-slate-50",children:e.jsx(y,{size:40,className:"text-indigo-600 animate-spin"})}):i||!n?e.jsx("div",{className:"min-h-screen flex flex-col items-center justify-center bg-slate-50 p-4",children:e.jsxs("div",{className:"bg-white p-8 rounded-xl shadow-lg max-w-md w-full text-center border border-slate-100",children:[e.jsx(b,{size:48,className:"text-red-500 mx-auto mb-4"}),e.jsx("h2",{className:"text-xl font-bold text-slate-800 mb-2",children:"Unavailable"}),e.jsx("p",{className:"text-slate-500",children:i||"This document could not be found."})]})}):e.jsxs("div",{className:"min-h-screen bg-slate-100 flex flex-col font-sans text-slate-900",children:[e.jsxs("header",{className:"bg-white h-16 border-b border-slate-200 px-4 md:px-8 flex items-center justify-between shadow-sm sticky top-0 z-50",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-9 h-9 bg-indigo-600 rounded-lg flex items-center justify-center text-white font-bold text-lg shadow-md shadow-indigo-200",children:"DF"}),e.jsxs("div",{children:[e.jsx("h1",{className:"font-bold text-slate-800 text-lg leading-tight truncate max-w-[200px] md:max-w-md",children:n.name}),e.jsx("p",{className:"text-xs text-slate-500",children:"Shared via DocForge"})]})]}),e.jsx("div",{className:"flex items-center gap-3",children:e.jsxs("button",{onClick:g,className:"flex items-center gap-2 px-5 py-2.5 bg-indigo-600 hover:bg-indigo-700 text-white text-sm font-semibold rounded-lg transition-all shadow-md shadow-indigo-100 active:scale-95",children:[e.jsx(xe,{size:18}),e.jsx("span",{className:"hidden sm:inline",children:"Download PDF"})]})})]}),e.jsx("div",{className:"flex-1 overflow-auto bg-slate-100 p-4 md:p-8 flex flex-col items-center",children:n.pdf_url?e.jsxs("div",{className:"w-full max-w-4xl flex flex-col items-center",children:[e.jsxs("div",{className:"bg-white rounded-full shadow-lg border border-slate-200 px-6 py-2 mb-6 flex items-center gap-6 sticky top-20 z-40 transition-all opacity-90 hover:opacity-100",children:[e.jsxs("div",{className:"flex items-center gap-2 border-r border-slate-200 pr-4",children:[e.jsx("button",{onClick:()=>h(e=>Math.max(e-1,1)),disabled:u<=1,className:"p-1.5 hover:bg-slate-100 rounded-full disabled:opacity-30 transition-colors text-slate-700",children:e.jsx(T,{size:20})}),e.jsxs("span",{className:"text-sm font-medium text-slate-600 min-w-[3rem] text-center",children:[u," / ",c||"--"]}),e.jsx("button",{onClick:()=>h(e=>Math.min(e+1,c||1)),disabled:u>=c,className:"p-1.5 hover:bg-slate-100 rounded-full disabled:opacity-30 transition-colors text-slate-700",children:e.jsx(M,{size:20})})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>p(e=>Math.max(e-.1,.5)),className:"p-1.5 hover:bg-slate-100 rounded-full text-slate-600 transition-colors",title:"Zoom Out",children:e.jsx(Ee,{size:18})}),e.jsxs("span",{className:"text-xs font-medium text-slate-500 w-12 text-center",children:[Math.round(100*m),"%"]}),e.jsx("button",{onClick:()=>p(e=>Math.min(e+.1,2)),className:"p-1.5 hover:bg-slate-100 rounded-full text-slate-600 transition-colors",title:"Zoom In",children:e.jsx(De,{size:18})})]})]}),e.jsx("div",{className:"bg-white shadow-2xl rounded-sm overflow-hidden print:shadow-none transition-transform duration-200",children:e.jsx(qt,{file:`${f}/public/documents/${t}/preview`,onLoadSuccess:({numPages:e})=>{d(e)},loading:e.jsx("div",{className:"h-96 w-full flex items-center justify-center bg-white",children:e.jsx(y,{className:"animate-spin text-indigo-600",size:32})}),error:e.jsxs("div",{className:"h-64 w-full flex flex-col items-center justify-center p-8 text-slate-400 bg-white",children:[e.jsx(o,{size:48,className:"mb-2"}),e.jsx("p",{children:"Failed to load PDF preview."}),e.jsx("p",{className:"text-xs text-slate-300 mt-2",children:"Could not access the PDF file."})]}),className:"pdf-document",children:e.jsx(Ht,{pageNumber:u,scale:m,renderTextLayer:!0,renderAnnotationLayer:!0,className:"pdf-page"})})})]}):e.jsxs("div",{className:"w-full max-w-4xl bg-white shadow-2xl rounded-xl p-12 min-h-[400px] flex flex-col items-center justify-center text-center",children:[e.jsx(b,{size:64,className:"text-slate-300 mb-6"}),e.jsx("h3",{className:"text-2xl font-bold text-slate-800 mb-3",children:"Preview Unavailable"}),e.jsx("p",{className:"text-slate-500 mb-8 max-w-md text-lg",children:"A PDF preview is not available for this document. You can download the file to view it."}),e.jsx("button",{onClick:g,className:"px-8 py-4 bg-indigo-600 text-white font-bold rounded-xl hover:bg-indigo-700 transition-all shadow-lg shadow-indigo-200 hover:shadow-indigo-300 transform hover:-translate-y-1",children:"Download Document"})]})})]})},MV=({field:t,onClick:n,pageWidth:r,pageHeight:a})=>{const{metadata:s,position:i,size:o}=t,{value:l,signeeName:c,isMine:d}=s||{},u=`${i.x}%`,h=`${i.y}%`,m=o?.width||200,p=o?.height||50;return e.jsx("div",{onClick:e=>{e.stopPropagation(),n&&n(t)},className:`absolute border rounded-lg flex items-center justify-center text-center overflow-hidden transition-all shadow-sm ${d&&!l?"cursor-pointer animate-pulse-subtle bg-indigo-50/90 border-indigo-400 active:scale-95":"cursor-default"} ${l?"border-emerald-500 bg-emerald-50/90":d?"hover:bg-indigo-100 hover:border-indigo-500 hover:shadow-md":"border-slate-300 bg-slate-50/50"}`,style:{left:u,top:h,width:`${m}px`,height:`${p}px`,zIndex:10},children:l?e.jsxs("div",{className:"w-full h-full flex items-center justify-center p-2",children:["checkbox"===s.fieldType?e.jsx("div",{className:"w-6 h-6 border-2 rounded flex items-center justify-center transition-colors "+("true"===l?"bg-indigo-600 border-indigo-600":"border-slate-400 bg-white"),children:"true"===l&&e.jsx(f,{size:16,className:"text-white"})}):l.startsWith("data:image")?e.jsx("img",{src:l,alt:"Signature",className:"max-w-full max-h-full object-contain"}):e.jsx("span",{className:("text"===s.fieldType||"date"===s.fieldType?"font-sans text-sm font-medium":"font-handwriting text-xl")+" text-slate-700",children:l}),d&&e.jsx(f,{size:16,className:"absolute top-1 right-1 text-emerald-600"})]}):e.jsx("div",{className:"flex flex-col items-center justify-center h-full w-full",children:d?e.jsx("div",{className:"flex items-center gap-1.5 px-2",children:"checkbox"===s.fieldType?e.jsx("span",{className:"text-indigo-600 font-bold text-xs uppercase",children:"Tap to Toggle"}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-2 h-2 rounded-full bg-indigo-500 animate-pulse"}),e.jsx("span",{className:"text-xs md:text-sm font-bold text-indigo-700 truncate",children:s.label||("date"===s.fieldType?"Insert Date":"Tap to Sign")})]})}):e.jsx("span",{className:"text-xs text-slate-400 font-medium italic px-1 truncate",children:c||"Pending"})})})};Vt.workerSrc=Vg;const AV=()=>{const{token:r}=Ot(),a=Et(),[s,i]=kt.useState(!0),[o,c]=kt.useState(null),[u,h]=kt.useState(null),[m,p]=kt.useState(null),[g,x]=kt.useState(null),[v,y]=kt.useState(null),[w,j]=kt.useState([]),[N,k]=kt.useState({}),[S,C]=kt.useState(1),[_,E]=kt.useState(1),[D,T]=kt.useState(null),[M,z]=kt.useState(null),[R,I]=kt.useState("text"),[F,L]=kt.useState(""),[B,$]=kt.useState(null),[W,U]=kt.useState(null),V=kt.useRef(null),q=kt.useRef(null),[Y,G]=kt.useState(!1),[K,X]=kt.useState(-1),[Q,J]=kt.useState(!1),Z=w.filter(e=>e.metadata?.isMine&&e.metadata?.required&&!e.metadata?.value).sort((e,t)=>e.pageNumber-t.pageNumber||e.position.y-t.position.y),[ee,ne]=kt.useState(!1);kt.useEffect(()=>{r&&(async()=>{try{const e=await Bt.get(`http://127.0.0.1:8000/api/v1/signatures/${r}`),{document:t,current_signer:n,pdf_url:a,compliance:s}=e.data;h(t),p(n),x(a),T(s);const o=(t.fields||[]).map(e=>({id:e.id,type:e.type,pageNumber:e.page_number,position:{x:e.x_position,y:e.y_position},size:{width:e.width,height:e.height},metadata:{...e.metadata,isMine:e.signer_id===n.id,value:e.value,signeeName:e.signer_id===n.id?"You":t.signers.find(t=>t.id===e.signer_id)?.name||"Other"},signerId:e.signer_id}));j(o),i(!1)}catch(e){c(e.response?.data?.message||"Failed to load document."),i(!1)}})()},[r]);const[re,ae]=kt.useState(800);kt.useEffect(()=>{const e=()=>{const e=document.getElementById("pdf-wrapper");if(e){const t=e.clientWidth-32;ae(Math.min(t,800))}};e(),window.addEventListener("resize",e);const t=setTimeout(e,500);return()=>{window.removeEventListener("resize",e),clearTimeout(t)}},[]),kt.useEffect(()=>{if(M&&"draw"===R&&V.current){const e=V.current,t=window.devicePixelRatio||1;e.width=e.offsetWidth*t,e.height=e.offsetHeight*t;const n=e.getContext("2d");n.scale(t,t),n.lineCap="round",n.strokeStyle="#1e293b",n.lineWidth=2.5,q.current=n}},[M,R]);const se=e=>{G(!0);const{offsetX:t,offsetY:n}=ce(e),r=V.current;if(!r)return;const a=r.getContext("2d");a.beginPath(),a.moveTo(t,n),q.current=a},oe=e=>{if(!Y)return;e.preventDefault();const{offsetX:t,offsetY:n}=ce(e);q.current&&(q.current.lineTo(t,n),q.current.stroke())},ce=e=>{if(e.touches&&e.touches[0]){const t=V.current.getBoundingClientRect();return{offsetX:e.touches[0].clientX-t.left,offsetY:e.touches[0].clientY-t.top}}return{offsetX:e.nativeEvent.offsetX,offsetY:e.nativeEvent.offsetY}},de=()=>{q.current.closePath(),G(!1),V.current&&$(V.current.toDataURL())},ue=()=>{const e=V.current,t=q.current;t.clearRect(0,0,e.width,e.height),e.width=e.width;const n=window.devicePixelRatio||1;t.scale(n,n),t.lineCap="round",t.strokeStyle="#1e293b",t.lineWidth=2.5,$(null)},he=()=>{const e=Z[0];if(e){me(e);const t=document.getElementById(`pdf-page-${e.pageNumber}`);t&&t.scrollIntoView({behavior:"smooth",block:"center"})}else $t.success("All required fields completed!")},me=e=>{if(e.metadata.isMine){const{fieldType:t}=e.metadata,n=!!e.metadata.value;if("checkbox"===t){const t="true"===e.metadata.value?"":"true";return void pe(e.id,t,"checkbox")}if("date"===t){if(!e.metadata.value){const t=(new Date).toLocaleDateString();pe(e.id,t,"date"),$t.success("Date filled")}return}if(n)return void $t("You have already signed this field.");if(z(e),("text"===t||"initials"===t)&&"text"===t)return I("text_input"),void L(e.metadata.value||"");const r=e.metadata.type||"all";let a="text";"draw"===r&&(a="draw"),"upload"===r&&(a="upload"),I(a),L(""),$(null),U(null)}},pe=(e,t,n)=>{j(r=>r.map(r=>r.id===e?{...r,metadata:{...r.metadata,value:t,signatureType:n}}:r))},fe=()=>"text"===R||"text_input"===R?F.trim():"draw"===R?B:"upload"===R?W:null,[ge,xe]=kt.useState(""),[be,ve]=kt.useState(!1),ye=async()=>{try{await Bt.post(`http://127.0.0.1:8000/api/v1/signatures/${r}/send-otp`),ve(!0),$t.success("OTP sent to your email.")}catch(e){$t.error("Failed to send OTP.")}},we=async()=>{const e=w.filter(e=>e.metadata.isMine),t=e.filter(e=>!e.metadata.value);if(t.length>0)$t.error(`Please sign all ${t.length} remaining fields marked as "You".`);else{ne(!0);try{const t={fields:e.map(e=>({id:e.id,value:e.metadata.value}))};t.fields.forEach((e,t)=>{}),await Bt.post(`http://127.0.0.1:8000/api/v1/signatures/${r}/sign`,t),$t.success("Document signed successfully!"),setTimeout(()=>{h(e=>({...e,status:"completed"})),window.location.reload()},1e3)}catch(n){$t.error("Failed to submit signatures.")}finally{ne(!1)}}};if(s)return e.jsx("div",{className:"flex items-center justify-center min-h-screen bg-slate-50",children:e.jsx(A,{className:"animate-spin text-indigo-600",size:32})});if(o)return e.jsx("div",{className:"flex flex-col items-center justify-center min-h-screen bg-slate-50 p-4",children:e.jsxs("div",{className:"bg-white p-8 rounded-xl shadow-lg max-w-md w-full text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(b,{className:"text-red-600",size:32})}),e.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-2",children:"Access Denied"}),e.jsx("p",{className:"text-gray-600 mb-6",children:o}),e.jsx("button",{onClick:()=>a("/"),className:"px-6 py-2 bg-slate-900 text-white rounded-lg hover:bg-slate-800 transition-colors",children:"Go Home"})]})});if("signed"===m?.status||"completed"===u?.status)return e.jsx("div",{className:"flex flex-col items-center justify-center min-h-screen bg-slate-50 p-4",children:e.jsxs("div",{className:"bg-white p-8 rounded-xl shadow-lg max-w-md w-full text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(f,{className:"text-green-600",size:32})}),e.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-2",children:"Document Signed!"}),e.jsxs("p",{className:"text-gray-600 mb-6",children:["Thank you for signing ",e.jsx("strong",{children:u?.name}),". A copy has been sent to all parties."]}),e.jsx("button",{onClick:()=>a("/"),className:"px-6 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors",children:"Return Home"})]})});const je=M?.metadata?.type||"all",Ne="all"===je||"text"===je,ke="all"===je||"draw"===je,Se="all"===je||"upload"===je;return e.jsxs("div",{className:"min-h-screen bg-slate-100 flex flex-col",children:[e.jsxs("header",{className:"bg-white shadow-sm border-b border-slate-100 flex items-center justify-between px-4 h-14 sticky top-0 z-50 md:hidden",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("button",{onClick:()=>J(!0),className:"p-2 -ml-2 text-slate-800 active:bg-slate-100 rounded-full transition-colors",children:e.jsx(n,{size:24})}),e.jsx("h1",{className:"text-base font-semibold text-slate-900 truncate max-w-[200px]",children:u?.name})]}),e.jsxs("div",{className:"w-8 h-8 bg-indigo-50 rounded-full flex items-center justify-center text-indigo-700 font-bold text-xs ring-2 ring-indigo-100",children:[w.filter(e=>e.metadata?.value).length,"/",w.filter(e=>e.metadata?.isMine).length]})]}),e.jsxs("header",{className:"bg-white shadow px-6 py-4 hidden md:flex items-center justify-between sticky top-0 z-50",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"bg-indigo-600 text-white p-2 rounded-lg",children:e.jsx(f,{size:20})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-lg font-bold text-slate-800 leading-tight",children:u?.name}),e.jsxs("p",{className:"text-xs text-slate-500",children:["Request from ",u?.creator?.name||"Sender"]})]})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("p",{className:"text-sm text-slate-600",children:["Signing as: ",e.jsx("span",{className:"font-semibold text-slate-900",children:m?.name})]}),e.jsx("button",{onClick:we,disabled:ee,className:"flex items-center gap-2 px-6 py-2.5 rounded-lg font-medium text-white transition-all shadow-sm "+(ee?"bg-indigo-400 cursor-not-allowed":"bg-indigo-600 hover:bg-indigo-700 hover:shadow-md active:transform active:scale-95"),children:ee?e.jsxs(e.Fragment,{children:[e.jsx(A,{size:18,className:"animate-spin"})," Submitting..."]}):e.jsxs(e.Fragment,{children:[e.jsx(_e,{size:18})," Finish Signing"]})})]})]}),D?.access_code_required&&!D?.is_verified&&!s&&e.jsx("div",{className:"fixed inset-0 z-[100] bg-slate-900/80 backdrop-blur-sm flex items-center justify-center p-4",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-md w-full p-6 animate-in zoom-in-95 duration-200",children:[e.jsx("div",{className:"w-12 h-12 bg-indigo-100 rounded-full flex items-center justify-center mb-4 mx-auto",children:e.jsx(d,{className:"text-indigo-600",size:28})}),e.jsx("h2",{className:"text-xl font-bold text-slate-900 mb-2 text-center",children:"Identity Verification Required"}),e.jsx("p",{className:"text-slate-600 text-sm mb-6 text-center",children:"This document requires additional identity verification. Please enter the code sent to your email."}),be?e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Enter Code"}),e.jsx("input",{type:"text",value:ge,onChange:e=>xe(e.target.value),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 text-center text-2xl tracking-widest font-mono",placeholder:"123456",maxLength:6})]}),e.jsx("button",{onClick:async()=>{try{await Bt.post(`http://127.0.0.1:8000/api/v1/signatures/${r}/verify-otp`,{otp:ge}),T(e=>({...e,is_verified:!0})),$t.success("Identity verified.")}catch(e){$t.error("Invalid OTP.")}},className:"w-full py-3 bg-indigo-600 hover:bg-indigo-700 text-white font-bold rounded-lg transition-colors",children:"Verify Code"}),e.jsx("button",{onClick:ye,className:"w-full py-2 text-indigo-600 text-sm font-medium hover:underline",children:"Resend Code"})]}):e.jsx("button",{onClick:ye,className:"w-full py-3 bg-indigo-600 hover:bg-indigo-700 text-white font-bold rounded-lg transition-colors",children:"Send Verification Code"})]})}),D?.consent_required&&!s&&e.jsx("div",{className:"fixed inset-0 z-[100] bg-slate-900/60 backdrop-blur-sm flex items-center justify-center p-4",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-lg w-full p-6 animate-in zoom-in-95 duration-200",children:[e.jsx("div",{className:"w-12 h-12 bg-indigo-100 rounded-full flex items-center justify-center mb-4",children:e.jsx(H,{className:"text-indigo-600",size:28})}),e.jsx("h2",{className:"text-xl font-bold text-slate-900 mb-2",children:"Electronic Records & Signature Disclosure"}),e.jsxs("div",{className:"text-slate-600 text-sm mb-6 space-y-3 max-h-[60vh] overflow-y-auto pr-2",children:[e.jsx("p",{children:"By continuing, you agree to receive documents electronically and sign them using an electronic signature."}),e.jsx("p",{children:"You acknowledge that your electronic signature is legally binding and equivalent to a handwritten signature."}),e.jsxs("p",{className:"text-xs text-slate-500 mt-4",children:["IP Address: ",D.ip_address||"Logged","  Timestamp: ",(new Date).toLocaleString()]})]}),e.jsxs("div",{className:"flex flex-col gap-3",children:[e.jsxs("button",{onClick:async()=>{try{await Bt.post(`http://127.0.0.1:8000/api/v1/signatures/${r}/agree`),T(e=>({...e,consent_required:!1})),$t.success("Terms accepted.")}catch(e){$t.error("Failed to accept terms.")}},className:"w-full py-3 bg-indigo-600 hover:bg-indigo-700 text-white font-bold rounded-lg transition-colors flex items-center justify-center gap-2",children:[e.jsx(f,{size:18}),"I Agree & Continue"]}),e.jsx("button",{onClick:()=>a("/"),className:"w-full py-3 bg-slate-100 hover:bg-slate-200 text-slate-700 font-medium rounded-lg transition-colors",children:"Decline"})]})]})}),e.jsx("main",{className:"flex-1 overflow-hidden flex justify-center p-4 md:p-8",children:e.jsxs("div",{className:"w-full max-w-7xl h-[calc(100vh-140px)] md:h-[calc(100vh-180px)] bg-white border border-slate-200 relative rounded-xl overflow-hidden shadow-2xl flex",children:[Q&&e.jsxs("div",{className:"absolute inset-0 z-50 flex md:hidden",children:[e.jsxs("div",{className:"bg-white w-64 h-full shadow-2xl overflow-y-auto p-4 animate-in slide-in-from-left duration-200",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h3",{className:"font-bold text-slate-800 text-lg",children:"Menu"}),e.jsx("button",{onClick:()=>J(!1),className:"p-1 hover:bg-slate-100 rounded-lg",children:e.jsx(t,{size:24,className:"text-slate-500"})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"bg-indigo-50 rounded-xl p-4 border border-indigo-100",children:[e.jsx("p",{className:"text-xs text-indigo-800 font-semibold uppercase tracking-wider mb-1",children:"Your Progress"}),e.jsxs("div",{className:"text-2xl font-bold text-indigo-600 mb-2",children:[w.filter(e=>e.metadata?.value).length,"/",w.filter(e=>e.metadata?.isMine).length]}),e.jsx("div",{className:"w-full bg-white rounded-full h-2 overflow-hidden border border-indigo-100",children:e.jsx("div",{className:"bg-indigo-500 h-2 rounded-full transition-all",style:{width:(0===w.filter(e=>e.metadata?.isMine).length?0:w.filter(e=>e.metadata?.value).length/w.filter(e=>e.metadata?.isMine).length*100)+"%"}})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider",children:"Pages"}),v&&Array.from({length:v},(t,n)=>{const r=n+1,a=_===r;return e.jsxs("button",{onClick:()=>{const e=document.getElementById(`pdf-page-${r}`);e&&e.scrollIntoView({behavior:"smooth"}),E(r),J(!1)},className:"w-full text-left px-4 py-3 rounded-lg text-sm font-medium transition-colors "+(a?"bg-indigo-50 text-indigo-700":"text-slate-600 hover:bg-slate-50"),children:["Page ",r]},`mob-nav-${r}`)})]})]})]}),e.jsx("div",{className:"flex-1 bg-black/20 backdrop-blur-sm",onClick:()=>J(!1)})]}),e.jsxs("div",{className:"w-64 bg-gradient-to-b from-slate-50 to-slate-100/50 border-r border-slate-200 overflow-y-auto p-4 hidden md:block scrollbar-thin scrollbar-thumb-slate-400 scrollbar-track-slate-200",children:[e.jsxs("div",{className:"mb-4",children:[e.jsxs("h3",{className:"text-sm font-bold text-slate-700 uppercase tracking-wider mb-3 flex items-center gap-2",children:[e.jsx("div",{className:"w-1 h-4 bg-indigo-500 rounded-full"}),"Pages"]}),e.jsxs("div",{className:"bg-white rounded-xl p-3 mb-4 border border-slate-200 shadow-sm",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-xs font-semibold text-slate-600",children:"Signing Progress"}),e.jsxs("span",{className:"text-sm font-bold text-indigo-600",children:[w.filter(e=>e.metadata?.value).length,"/",w.filter(e=>e.metadata?.isMine).length]})]}),e.jsx("div",{className:"w-full bg-slate-200 rounded-full h-2 overflow-hidden",children:e.jsx("div",{className:"bg-gradient-to-r from-indigo-500 to-indigo-600 h-2 rounded-full transition-all duration-500 ease-out",style:{width:(0===w.filter(e=>e.metadata?.isMine).length?0:w.filter(e=>e.metadata?.value).length/w.filter(e=>e.metadata?.isMine).length*100)+"%"}})}),w.filter(e=>e.metadata?.isMine).length>0&&e.jsx("p",{className:"text-xs text-slate-500 mt-2",children:w.filter(e=>e.metadata?.value).length===w.filter(e=>e.metadata?.isMine).length?" All fields signed!":w.filter(e=>e.metadata?.isMine).length-w.filter(e=>e.metadata?.value).length+" remaining"})]})]}),e.jsx("div",{className:"space-y-3",children:v&&Array.from({length:v},(t,n)=>{const r=n+1,a=w.filter(e=>e.pageNumber===r&&e.metadata?.isMine),s=a.filter(e=>e.metadata?.value),i=a.length>0&&s.length===a.length,o=_===r;return e.jsxs("button",{onClick:()=>{const e=document.getElementById(`pdf-page-${r}`);e&&(e.scrollIntoView({behavior:"smooth",block:"start"}),E(r))},className:"w-full rounded-xl border-2 transition-all duration-200 overflow-hidden group "+(o?"border-indigo-500 bg-indigo-50 shadow-md ring-2 ring-indigo-200":"border-slate-200 bg-white hover:border-indigo-300 hover:shadow-md hover:bg-indigo-50/30"),children:[e.jsxs("div",{className:"relative bg-slate-100 border-b transition-all "+(o?"border-indigo-200":"border-slate-200"),children:[e.jsx("div",{className:"aspect-[8.5/11] overflow-hidden",children:g&&e.jsx(qt,{file:g,children:e.jsx(Ht,{pageNumber:r,width:220,renderTextLayer:!1,renderAnnotationLayer:!1,className:"pointer-events-none"})})}),i&&e.jsx("div",{className:"absolute top-2 right-2 bg-emerald-500 text-white rounded-full p-1.5 shadow-lg",children:e.jsx(f,{size:12})})]}),e.jsxs("div",{className:"p-2.5",children:[e.jsxs("div",{className:"flex items-center justify-between mb-1.5",children:[e.jsxs("span",{className:"text-sm font-semibold "+(o?"text-indigo-700":"text-slate-700"),children:["Page ",r]}),a.length>0&&e.jsxs("span",{className:"text-xs font-medium px-2 py-0.5 rounded-full "+(i?"bg-emerald-100 text-emerald-700":"bg-amber-100 text-amber-700"),children:[s.length,"/",a.length]})]}),a.length>0&&e.jsx("div",{className:"w-full bg-slate-200 rounded-full h-1.5 overflow-hidden",children:e.jsx("div",{className:"h-1.5 rounded-full transition-all duration-300 "+(i?"bg-emerald-500":"bg-amber-500"),style:{width:s.length/a.length*100+"%"}})})]})]},`nav-page-${r}`)})})]}),e.jsxs("div",{className:"flex-1 relative flex flex-col items-center bg-slate-50 md:bg-gradient-to-br md:from-slate-50 md:to-slate-100/30 overflow-hidden",children:[e.jsxs("div",{className:"hidden md:flex w-full bg-white/90 backdrop-blur-xl border-b border-slate-200 p-3 items-center justify-between px-6 flex-shrink-0 shadow-sm",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-2 h-2 bg-indigo-500 rounded-full animate-pulse"}),e.jsx("span",{className:"text-sm font-bold text-slate-700",children:v?`${v} ${1===v?"Page":"Pages"}`:"Loading..."})]}),_&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-px h-4 bg-slate-300"}),e.jsxs("span",{className:"text-sm text-slate-500 font-medium",children:["Viewing Page ",_]})]})]}),e.jsx("div",{className:"flex items-center gap-3",children:e.jsxs("div",{className:"flex items-center gap-2 bg-slate-100 rounded-lg p-1",children:[e.jsx("button",{onClick:()=>C(e=>Math.max(e-.1,.5)),disabled:S<=.5,className:"p-2 text-slate-600 hover:bg-white hover:text-indigo-600 rounded-md transition-all disabled:opacity-40 disabled:cursor-not-allowed",title:"Zoom Out",children:e.jsx(Ee,{size:18})}),e.jsxs("span",{className:"text-sm font-mono font-bold text-slate-700 w-14 text-center bg-white px-2 py-1 rounded",children:[Math.round(100*S),"%"]}),e.jsx("button",{onClick:()=>C(e=>Math.min(e+.1,2)),disabled:S>=2,className:"p-2 text-slate-600 hover:bg-white hover:text-indigo-600 rounded-md transition-all disabled:opacity-40 disabled:cursor-not-allowed",title:"Zoom In",children:e.jsx(De,{size:18})})]})})]}),e.jsxs("div",{id:"pdf-wrapper",className:"flex-1 w-full overflow-y-auto overflow-x-hidden p-0 md:p-8 flex flex-col items-center scrollbar-thin scrollbar-thumb-slate-400 scrollbar-track-slate-200",onScroll:e=>{const t=e.target;t.querySelectorAll("[data-page-container]").forEach(e=>{const n=e.getBoundingClientRect(),r=t.getBoundingClientRect();if(n.top>=r.top&&n.top<r.top+200){const t=parseInt(e.getAttribute("data-page-number"));E(t)}})},children:[g&&e.jsx(qt,{file:g,onLoadSuccess:({numPages:e})=>{y(e)},loading:e.jsxs("div",{className:"flex flex-col items-center justify-center py-20",children:[e.jsx("div",{className:"w-12 h-12 border-4 border-indigo-200 border-t-indigo-600 rounded-full animate-spin mb-4"}),e.jsx("p",{className:"text-slate-600 font-semibold text-lg",children:"Loading PDF..."}),e.jsx("p",{className:"text-slate-400 text-sm mt-1",children:"Please wait while we prepare your document"})]}),error:e.jsx("div",{className:"text-center py-20 px-6",children:e.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-xl p-6 inline-block",children:[e.jsx(b,{className:"w-14 h-14 text-red-400 mx-auto mb-4"}),e.jsx("p",{className:"text-red-600 font-bold text-lg mb-2",children:"Failed to load PDF document"}),e.jsx("p",{className:"text-sm text-slate-500",children:"Please ensure it is a valid PDF file."})]})}),className:"flex flex-col items-center gap-8 w-full",children:v&&Array.from({length:v},(t,n)=>e.jsxs("div",{id:`pdf-page-${n+1}`,"data-page-container":!0,"data-page-number":n+1,className:"relative mb-2 md:mb-8 transition-all group",style:{width:"fit-content",margin:window.innerWidth<768?"0 auto 8px auto":"0 auto 2rem auto"},children:[e.jsx("div",{className:"absolute -top-4 left-1/2 -translate-x-1/2 z-10 hidden md:block",children:e.jsxs("div",{className:"bg-indigo-600 text-white text-xs font-bold px-3 py-1 rounded-full shadow-md",children:["Page ",n+1]})}),e.jsx("div",{className:"bg-white md:rounded-lg shadow-sm md:shadow-xl border-b md:border-2 border-slate-200 overflow-hidden",children:e.jsx(Ht,{pageNumber:n+1,renderTextLayer:!0,renderAnnotationLayer:!1,className:"md:rounded-lg",width:re,scale:S,onLoadSuccess:e=>{const t=e.getViewport({scale:1});k(e=>({...e,[n+1]:{width:t.width,height:t.height}}))}})}),N[n+1]&&w.filter(e=>e.pageNumber===n+1).map(t=>{const r=N[n+1],a=r.height/r.width,s=re*S,i=s*a;return e.jsx(MV,{field:t,onClick:me,pageWidth:s,pageHeight:i},t.id)})]},`page_${n+1}`))}),e.jsx("div",{className:"h-40 w-full flex-shrink-0"})]})]})]})}),e.jsxs("div",{className:"fixed bottom-0 left-0 right-0 bg-white border-t border-slate-200 p-4 pb-safe z-[60] md:hidden flex items-center justify-between gap-4 shadow-[0_-4px_12px_-4px_rgba(0,0,0,0.1)]",children:[e.jsxs("div",{className:"flex flex-col",children:[e.jsxs("span",{className:"text-xs text-slate-500 font-medium",children:[w.filter(e=>e.metadata?.value).length,"/",w.filter(e=>e.metadata?.isMine).length," Signed"]}),e.jsxs("span",{className:"text-xs text-indigo-600 font-bold",children:[v," Pages"]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("button",{onClick:we,disabled:ee,className:"px-4 py-2.5 rounded-lg font-bold text-sm transition-colors border-2 "+(ee?"border-slate-200 text-slate-400":"border-indigo-100 text-indigo-600 hover:bg-indigo-50"),children:ee?"Saving...":"Finish"}),Z.length>0?e.jsxs("button",{onClick:he,className:"bg-indigo-600 text-white px-6 py-2.5 rounded-lg font-bold shadow-lg shadow-indigo-600/20 active:scale-95 transition-all flex items-center gap-2 text-sm",children:[0===w.filter(e=>e.metadata.isMine&&e.metadata.value).length?"Start":"Next",e.jsx(l,{size:16})]}):e.jsxs("div",{className:"flex items-center gap-2 text-emerald-600 font-bold text-sm px-4",children:[e.jsx(f,{size:16})," All Set!"]})]})]}),e.jsx("div",{className:"hidden md:flex fixed bottom-10 right-10 z-[60] flex-col items-end gap-3 pointer-events-none",children:Z.length>0&&e.jsxs("button",{onClick:he,className:"pointer-events-auto bg-indigo-600 text-white px-6 py-3 rounded-full font-bold shadow-lg shadow-indigo-600/30 hover:bg-indigo-700 hover:scale-105 active:scale-95 transition-all flex items-center gap-2 animate-bounce-subtle",children:[0===w.filter(e=>e.metadata.isMine&&e.metadata.value).length?"Start Signing":"Next Field",e.jsx(l,{size:18})]})}),M&&e.jsx("div",{className:"fixed inset-0 z-[100] flex items-end md:items-center justify-center bg-black/50 backdrop-blur-sm p-0 md:p-4",children:e.jsxs("div",{className:"bg-white w-full md:w-full md:max-w-md rounded-t-2xl md:rounded-2xl shadow-2xl overflow-hidden animate-in slide-in-from-bottom md:zoom-in duration-200 flex flex-col max-h-[85vh] md:max-h-[90vh]",children:[e.jsxs("div",{className:"px-6 py-4 border-b border-slate-100 flex justify-between items-center bg-slate-50/50",children:[e.jsx("h3",{className:"font-bold text-slate-800",children:"Sign Document"}),e.jsx("button",{onClick:()=>z(null),className:"text-slate-400 hover:text-slate-600",children:""})]}),e.jsxs("div",{className:"p-6 overflow-y-auto",children:["text_input"!==R&&e.jsxs("div",{className:"flex gap-2 p-1 bg-slate-100 rounded-xl mb-6",children:[Ne&&e.jsxs("button",{onClick:()=>I("text"),className:"flex-1 flex items-center justify-center gap-2 py-2 px-3 rounded-lg font-medium text-xs transition-all "+("text"===R?"bg-white text-indigo-600 shadow-sm":"text-slate-600 hover:text-slate-800"),children:[e.jsx(ie,{size:16})," Type"]}),ke&&e.jsxs("button",{onClick:()=>I("draw"),className:"flex-1 flex items-center justify-center gap-2 py-2 px-3 rounded-lg font-medium text-xs transition-all "+("draw"===R?"bg-white text-indigo-600 shadow-sm":"text-slate-600 hover:text-slate-800"),children:[e.jsx(P,{size:16})," Draw"]}),Se&&e.jsxs("button",{onClick:()=>I("upload"),className:"flex-1 flex items-center justify-center gap-2 py-2 px-3 rounded-lg font-medium text-xs transition-all "+("upload"===R?"bg-white text-indigo-600 shadow-sm":"text-slate-600 hover:text-slate-800"),children:[e.jsx(O,{size:16})," Upload"]})]}),"text"===R&&e.jsxs("div",{className:"space-y-4",children:[e.jsx("p",{className:"text-sm text-slate-500",children:"Type your name below. We'll convert it to a signature."}),e.jsx("input",{type:"text",autoFocus:!0,value:F,onChange:e=>L(e.target.value),placeholder:`Signed by ${m.name}`,className:"w-full text-xl font-handwriting px-4 py-3 bg-slate-50 border border-slate-200 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 outline-none transition-all placeholder:text-slate-300",style:{fontFamily:"Dancing Script, cursive"}})]}),"text_input"===R&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(ie,{size:18,className:"text-indigo-600"}),e.jsx("h3",{className:"font-semibold text-slate-700",children:M.metadata.label||"Enter Text"})]}),e.jsx("input",{type:"text",autoFocus:!0,value:F,onChange:e=>L(e.target.value),placeholder:M.metadata.placeholder||"Type here...",className:"w-full text-base px-4 py-3 bg-white border border-slate-300 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 outline-none transition-all placeholder:text-slate-400"})]}),"draw"===R&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"relative border-2 border-dashed border-slate-300 rounded-xl bg-slate-50 touch-none",children:[e.jsx("canvas",{ref:V,onMouseDown:se,onMouseMove:oe,onMouseUp:de,onMouseLeave:de,onTouchStart:se,onTouchMove:oe,onTouchEnd:de,className:"w-full h-48 cursor-crosshair block rounded-xl",style:{width:"100%",height:"192px"}}),e.jsx("button",{onClick:ue,className:"absolute top-2 right-2 p-1.5 bg-white rounded-lg shadow border border-slate-200 hover:bg-red-50 hover:text-red-500",title:"Clear",children:e.jsx(te,{size:16})}),!Y&&!B&&e.jsx("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none opacity-50",children:e.jsx("span",{className:"text-slate-400 text-sm",children:"Draw here"})})]}),e.jsxs("button",{onClick:ue,className:"flex items-center gap-2 text-xs text-slate-500 hover:text-slate-700",children:[e.jsx(le,{size:14})," Clear Signature"]})]}),"upload"===R&&e.jsx("div",{className:"space-y-4",children:e.jsx("div",{className:"border-2 border-dashed border-slate-300 rounded-xl p-8 text-center bg-slate-50",children:W?e.jsxs("div",{className:"space-y-4",children:[e.jsx("img",{src:W,alt:"Uploaded",className:"max-h-24 mx-auto"}),e.jsx("button",{onClick:()=>U(null),className:"text-xs font-medium text-red-600 hover:text-red-700",children:"Remove & Retry"})]}):e.jsxs(e.Fragment,{children:[e.jsx(O,{size:32,className:"text-slate-400 mx-auto mb-2"}),e.jsx("p",{className:"text-xs text-slate-500 mb-4",children:"PNG, JPG (max 5MB)"}),e.jsxs("label",{className:"inline-block cursor-pointer",children:[e.jsx("span",{className:"px-4 py-2 bg-white border border-slate-300 rounded-lg text-xs font-medium text-slate-700 hover:bg-slate-50",children:"Choose Image"}),e.jsx("input",{type:"file",accept:"image/*",onChange:e=>{const t=e.target.files[0];if(t&&t.type.startsWith("image/")){const e=new FileReader;e.onload=e=>U(e.target.result),e.readAsDataURL(t)}},className:"hidden"})]})]})})})]}),e.jsxs("div",{className:"px-6 py-4 bg-slate-50 border-t border-slate-100 flex justify-end gap-3 filter-none z-10 sticky bottom-0",children:[e.jsx("button",{onClick:()=>z(null),className:"px-4 py-2 text-sm font-medium text-slate-600 hover:bg-slate-200 rounded-lg transition-colors",children:"Cancel"}),e.jsx("button",{onClick:async()=>{const e=fe();if(M&&e)try{j(t=>t.map(t=>t.id===M.id?{...t,metadata:{...t.metadata,value:e,signatureType:R}}:t)),z(null),$t.success("Signature saved locally. Click 'Finish Signing' when done.")}catch(t){$t.error("Error updating signature.")}else $t.error("Please provide a signature.")},disabled:!fe(),className:"px-6 py-2 text-sm font-medium bg-indigo-600 text-white hover:bg-indigo-700 rounded-lg shadow-sm transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:"Apply Signature"})]})]})}),e.jsx("style",{children:"\n                @import url('https://fonts.googleapis.com/css2?family=Dancing+Script:wght@400;700&display=swap');\n                .font-handwriting { font-family: 'Dancing Script', cursive; }\n            "})]})},zV=({isOpen:n,onClose:s,onSignupSuccess:i,documentTitle:o,suggestedBusinessName:c})=>{const{setToken:d,setUser:u}=lr(),[h,m]=kt.useState(!1),[p,f]=kt.useState({name:"",email:"",password:"",business_name:""});kt.useEffect(()=>{c&&f(e=>({...e,business_name:c}))},[c]);const g=e=>{f(t=>({...t,[e.target.name]:e.target.value}))};return e.jsx(r,{children:n&&e.jsxs(e.Fragment,{children:[e.jsx(a.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-slate-900/40 backdrop-blur-sm z-50",onClick:s}),e.jsxs(a.div,{initial:{scale:.95,opacity:0,y:20},animate:{scale:1,opacity:1,y:0},exit:{scale:.95,opacity:0,y:20},className:"fixed left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 w-full max-w-md bg-white rounded-2xl shadow-2xl z-50 overflow-hidden",children:[e.jsxs("div",{className:"p-6 bg-slate-50 border-b border-slate-100 flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-bold text-slate-800",children:"Save Your Document"}),e.jsx("p",{className:"text-sm text-slate-500",children:"Create a free account to save & export."})]}),e.jsx("button",{onClick:s,className:"p-2 hover:bg-white rounded-full text-slate-400 transition-colors",children:e.jsx(t,{size:20})})]}),e.jsxs("form",{onSubmit:async e=>{e.preventDefault(),m(!0);try{const e=await sr.post("/register",{name:p.name,email:p.email,password:p.password,password_confirmation:p.password,device_name:"web"}),{token:n,data:r}=e.data;d(n),u(r);try{const e=p.business_name||`${p.name}'s Business`;await sr.post("/businesses",{name:e,email:p.email,industry:"Other",size:"Freelancer",city:"Remote",country:"Global"})}catch(t){}$t.success("Account created successfully!"),i(n)}catch(n){if(n.response?.data?.errors){Object.values(n.response.data.errors).flat().forEach(e=>$t.error(e))}else $t.error("Signup failed. Please try again.")}finally{m(!1)}},className:"p-6 space-y-4",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"text-sm font-semibold text-slate-700",children:"Full Name"}),e.jsx("input",{type:"text",name:"name",required:!0,className:"w-full px-4 py-2 bg-white border border-slate-200 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent outline-none transition-all",placeholder:"John Doe",value:p.name,onChange:g})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"text-sm font-semibold text-slate-700",children:"Email Address"}),e.jsx("input",{type:"email",name:"email",required:!0,className:"w-full px-4 py-2 bg-white border border-slate-200 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent outline-none transition-all",placeholder:"john@company.com",value:p.email,onChange:g})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsxs("label",{className:"text-sm font-semibold text-slate-700",children:["Business Name ",e.jsx("span",{className:"text-slate-400 font-normal",children:"(Optional)"})]}),e.jsx("input",{type:"text",name:"business_name",className:"w-full px-4 py-2 bg-white border border-slate-200 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent outline-none transition-all",placeholder:"Acme Inc.",value:p.business_name,onChange:g})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"text-sm font-semibold text-slate-700",children:"Password"}),e.jsx("input",{type:"password",name:"password",required:!0,minLength:8,className:"w-full px-4 py-2 bg-white border border-slate-200 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent outline-none transition-all",placeholder:"",value:p.password,onChange:g})]}),e.jsxs("div",{className:"pt-4",children:[e.jsx("button",{type:"submit",disabled:h,className:"w-full py-3 bg-indigo-600 hover:bg-indigo-700 text-white font-bold rounded-xl shadow-lg shadow-indigo-200 transition-all flex items-center justify-center gap-2 disabled:opacity-70 disabled:cursor-not-allowed",children:h?e.jsx(y,{size:20,className:"animate-spin"}):e.jsxs(e.Fragment,{children:["Create Account & Save ",e.jsx(l,{size:20})]})}),e.jsx("p",{className:"text-xs text-center text-slate-400 mt-4",children:"By signing up, you agree to our Terms of Service and Privacy Policy."})]})]})]})]})})},RV=({onSaveRequest:t})=>{const n=Et(),{formData:r,docContent:a,signatures:s,documentName:i,setDocumentName:o,isLoading:l,handleFormChange:c,handleContentChange:d,addSection:u,removeSection:h,updateSection:m,reorderSections:p,addSignature:f,updateSignature:g,removeSignature:x,styles:b,updateStyle:v,resetStyles:w}=Wm(null),j=xd("(min-width: 1024px)"),[N,k]=kt.useState("edit"),[S,C]=kt.useState(1),[_,P]=kt.useState(null),[E,D]=kt.useState(null),[O,T]=kt.useState(null),M=St.useRef(null),[A,z]=kt.useState({isOpen:!1,data:null}),R=au(ru(Zu,{activationConstraint:{distance:8}}),ru(sh,{activationConstraint:{delay:250,tolerance:5}})),F=St.useDeferredValue(r),L=St.useDeferredValue(a),B=()=>{const e={name:i,type_slug:"nda",content:JSON.stringify({formData:r,docContent:a,signatures:s,styles:b}),status:"draft",suggestedBusinessName:r.disclosingPartyName};t(e)};return l?e.jsx("div",{className:"flex h-screen items-center justify-center bg-slate-50",children:e.jsx(y,{size:40,className:"animate-spin text-indigo-600 mb-4"})}):e.jsx(Bh,{sensors:R,onDragStart:e=>P(e.active),onDragEnd:e=>{const{active:t,over:n}=e;if(P(null),n&&"document-canvas"===n.id){const e=document.getElementById("printable-document");if(e&&t.rect.current.translated){const n=e.getBoundingClientRect(),r=(t.rect.current.translated.left-n.left)/S,a=(t.rect.current.translated.top-n.top)/S;if("toolbar-item"===t.data.current?.type)z({isOpen:!0,data:{id:null,position:{x:r,y:a},type:"all",required:!0,order:s.length+1}});else if("signature-field"===t.data.current?.type){const e=t.id;g(e,{position:{x:r,y:a}})}}}},children:e.jsxs("div",{className:"flex flex-col h-screen bg-slate-100 overflow-hidden",children:[e.jsx(km,{isOpen:A.isOpen,onClose:()=>z({isOpen:!1,data:null}),onSave:e=>{if(e.id)g(e.id,{metadata:{signeeName:e.signeeName,signeeEmail:e.signeeEmail,type:e.type,required:e.required,order:e.order}});else{const t={id:Lm(),position:A.data.position,metadata:{signeeName:e.signeeName,signeeEmail:e.signeeEmail,type:e.type,required:e.required,order:e.order}};f(t)}},initialData:A.data,parties:{disclosingPartyName:r.disclosingPartyName,receivingPartyName:r.receivingPartyName,disclosingSignatoryName:r.disclosingSignatoryName,receivingSignatoryName:r.receivingSignatoryName}}),e.jsx(nm,{dropAnimation:{sideEffects:({active:e})=>(document.body.style.cursor="grabbing",()=>{document.body.style.cursor=""})},children:_?"toolbar-item"===_.data.current?.type?e.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-lg border border-indigo-500 bg-white shadow-xl opacity-90 cursor-grabbing ring-2 ring-indigo-500/20 w-48",children:[e.jsx("div",{className:"p-2 rounded-md bg-indigo-100 text-indigo-600",children:e.jsx("div",{className:"w-5 h-5 flex items-center justify-center font-bold",children:"+"})}),e.jsx("span",{className:"text-sm font-medium text-slate-900",children:"Placing Field..."})]}):"signature-field"===_.data.current?.type?e.jsxs("div",{className:"w-64 bg-white/95 backdrop-blur-sm border-2 border-indigo-500 rounded-lg shadow-2xl p-3 flex flex-col cursor-grabbing",children:[e.jsx("div",{className:"flex items-center gap-2 text-indigo-700 font-semibold border-b pb-2 mb-2",children:e.jsx("span",{children:_.data.current.signeeName||"Signature"})}),e.jsx("div",{className:"h-10 flex items-center justify-center text-indigo-200",children:"Sign Here"})]}):null:null}),e.jsxs("header",{className:"no-print h-14 md:h-16 bg-white/80 backdrop-blur-md border-b border-slate-200/60 px-4 md:px-6 flex items-center justify-between flex-shrink-0 z-30 shadow-sm relative transition-all duration-300",children:[e.jsxs("div",{className:"flex items-center gap-2 md:gap-4",children:[e.jsx("button",{onClick:()=>n("/create-document"),className:"p-2 hover:bg-slate-100 rounded-full text-slate-500 transition-colors flex-shrink-0",title:"Back",children:e.jsx(I,{size:20})}),e.jsxs("div",{className:"min-w-0 relative",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{ref:M,type:"text",value:i,onChange:e=>{o(e.target.value),E&&D(null)},className:"font-bold text-sm md:text-lg bg-transparent border-b-2 focus:ring-0 p-0 m-0 w-auto min-w-[150px] max-w-[300px] placeholder-slate-400 truncate transition-colors "+(E?"border-red-500 text-slate-800 ring-4 ring-red-500/10":"border-transparent hover:border-slate-200 text-slate-800"),placeholder:"Enter Document Name"}),e.jsx("button",{onClick:()=>{const e=r.receivingPartyName?.trim();e?(o(`NDA - ${e}`),D(null),T(null),$t.success("Generated smart name!")):$t.error("Enter 'Receiving Party Name' in the form first.")},className:"p-1.5 text-slate-400 hover:text-indigo-600 hover:bg-indigo-50 rounded-md transition-colors",children:e.jsx(Pe,{size:16})}),e.jsx("span",{className:"px-2 py-0.5 bg-indigo-100 text-indigo-700 text-xs rounded-full uppercase tracking-wide",children:"Guest Mode"})]}),e.jsx("p",{className:"text-[10px] md:text-xs text-slate-400 font-medium whitespace-nowrap hidden sm:block mt-0.5",children:"Create your document and sign up to save."})]})]}),e.jsxs("div",{className:"flex items-center gap-2 md:gap-3",children:[e.jsxs("div",{className:"hidden lg:flex items-center bg-slate-100 rounded-lg p-1 mr-4",children:[e.jsx("button",{onClick:()=>C(e=>Math.max(e-.1,.5)),className:"p-1.5 hover:bg-white hover:shadow-sm rounded-md text-slate-500 transition-all",children:e.jsx(Ee,{size:16})}),e.jsxs("span",{className:"text-xs font-semibold text-slate-600 w-12 text-center",children:[Math.round(100*S),"%"]}),e.jsx("button",{onClick:()=>C(e=>Math.min(e+.1,1.5)),className:"p-1.5 hover:bg-white hover:shadow-sm rounded-md text-slate-500 transition-all",children:e.jsx(De,{size:16})})]}),e.jsxs("button",{onClick:B,className:"flex items-center gap-2 px-5 py-2 rounded-lg text-white font-medium shadow-md transition-all bg-indigo-600 hover:bg-indigo-700",children:[e.jsx(_e,{size:18}),e.jsx("span",{children:"Save & Create Account"})]})]})]}),e.jsxs("div",{className:"flex flex-col lg:flex-row flex-1 overflow-hidden relative pb-[70px] lg:pb-0",children:[e.jsx("div",{className:"no-print w-full lg:w-[400px] h-full bg-white border-b lg:border-b-0 lg:border-r border-slate-200 overflow-y-auto z-20 shadow-sm flex-shrink-0 lg:order-1 "+(j||"edit"===N?"block":"hidden"),children:e.jsx(dm,{formData:r,onChange:c,docContent:a,onContentChange:d,addSection:u,removeSection:h,updateSection:m,reorderSections:p,styles:b,onStyleUpdate:v,onStyleReset:w})}),e.jsxs("div",{className:"flex-1 h-full overflow-y-auto bg-slate-50/50 p-4 md:p-8 sm:p-12 flex justify-center items-start scrollbar-thin scrollbar-thumb-slate-300 lg:order-2 "+(j||"preview"===N?"flex":"hidden"),style:{backgroundImage:"radial-gradient(#cbd5e1 1px, transparent 1px)",backgroundSize:"20px 20px"},children:[e.jsx(pm,{data:F,content:L,zoom:S,signatures:s,onUpdateSignature:g,onRemoveSignature:x,onEditSignature:e=>{z({isOpen:!0,data:{id:e.id,...e.metadata}})},styles:b}),!j&&"preview"===N&&e.jsx("button",{onClick:()=>{z({isOpen:!0,data:{id:null,position:{x:50,y:100},type:"all",required:!0,order:s.length+1}})},className:"fixed bottom-24 right-6 w-14 h-14 bg-indigo-600 text-white rounded-full shadow-lg shadow-indigo-600/30 flex items-center justify-center hover:bg-indigo-700 transition-transform active:scale-95 z-30",children:e.jsx("span",{className:"text-2xl font-bold",children:"+"})})]})]}),!j&&e.jsxs("div",{className:"fixed bottom-0 left-0 right-0 bg-white border-t border-slate-200 flex justify-between items-center px-6 py-3 pb-safe z-40 safe-area-bottom",children:[e.jsx("button",{onClick:()=>k("edit"),className:"flex flex-col items-center gap-1 "+("edit"===N?"text-indigo-600":"text-slate-400"),children:e.jsx("span",{className:"text-[10px] font-medium",children:"Editor"})}),e.jsx("button",{onClick:()=>k("preview"),className:"flex flex-col items-center gap-1 "+("preview"===N?"text-indigo-600":"text-slate-400"),children:e.jsx("span",{className:"text-[10px] font-medium",children:"Preview"})}),e.jsxs("button",{onClick:B,className:"flex flex-col items-center gap-1 text-slate-400 active:text-indigo-600",children:[e.jsx(_e,{size:24}),e.jsx("span",{className:"text-[10px] font-medium",children:"Save"})]})]})]})})},IV={title:"Business / Project Proposal",sections:[{id:"1",title:"Introduction",content:"This proposal is submitted by {{providerCompany}} to {{clientName}} to outline the scope, deliverables, timelines, and commercial terms for {{projectDescription}}. This document is intended to present a clear understanding of the proposed engagement and to serve as a basis for mutual agreement."},{id:"2",title:"Client Objectives",content:"The objective of this proposal is to assist {{clientCompany}} in achieving the following goals:\n\n{{objectivesList}}"},{id:"3",title:"Scope of Work",content:"The scope of work under this proposal shall include, but is not limited to, the following services:\n\n**4.1 Services Included**\n{{scopeIncludedList}}\n\n**4.2 Services Excluded**\nAny services not explicitly mentioned above shall be considered outside the scope and may be provided under a separate agreement or change request."},{id:"4",title:"Deliverables",content:"The following deliverables shall be provided as part of this engagement:\n\n{{deliverablesList}}\n\nAll deliverables shall be submitted in the agreed format and within the defined timeline."},{id:"5",title:"Project Timeline",content:"The estimated timeline for completion of the project is as follows (see table below). Timelines are indicative and subject to client approvals and dependencies."},{id:"6",title:"Commercials & Pricing",content:"The total professional fees for the services described in this proposal shall be: {{totalProjectCost}}.\n\n**Payment Terms**\n- [Percentage] payable upon acceptance\n- [Percentage] payable upon milestone completion\n- [Percentage] payable upon final delivery\n\nAll payments shall be made within {{paymentDays}} days from the date of invoice."},{id:"7",title:"Client Responsibilities",content:"The Client agrees to:\n- Provide accurate and timely information\n- Share necessary access, approvals, and feedback\n- Assign a single point of contact for communication\n\nDelays caused due to client dependencies may impact project timelines."},{id:"8",title:"Confidentiality",content:"Both parties agree to maintain strict confidentiality of all proprietary, technical, commercial, and business information exchanged during the course of this engagement. Confidential information shall not be disclosed to any third party without prior written consent."},{id:"9",title:"Intellectual Property Rights",content:"Unless otherwise agreed in writing:\n- All intellectual property developed during the project shall remain the property of {{providerCompany}} until full payment is received.\n- Upon full payment, ownership or license rights shall be transferred as mutually agreed."},{id:"10",title:"Limitation of Liability",content:"In no event shall either party be liable for indirect, incidental, or consequential damages. The total liability of {{providerCompany}} shall not exceed the total fees paid under this proposal."},{id:"11",title:"Term & Termination",content:"This proposal shall remain valid for {{validityDays}} days from the proposal date. Either party may terminate the engagement by providing {{noticeDays}} days written notice. Fees for work completed up to the termination date shall be payable."},{id:"12",title:"Governing Law",content:"This proposal shall be governed by and construed in accordance with the laws of {{jurisdiction}}, and courts of {{courtCity}} shall have exclusive jurisdiction."}]},FV=({onSaveRequest:t})=>{const n=Et(),r=xd("(min-width: 1024px)"),[a,s]=kt.useState("edit"),[i,o]=kt.useState(1),[l,c]=kt.useState("Untitled Proposal"),[d,u]=kt.useState(null),[h,m]=kt.useState({proposalTitle:"Website Redesign Project",proposalDate:(new Date).toLocaleDateString(),logoSize:80,logoAlignment:"center",brandingEnabled:!0,referenceNo:"",clientName:"",clientCompany:"",clientAddress:"",providerName:"",providerCompany:"",providerAddress:"",projectDescription:"",totalProjectCost:"",paymentDays:"15",validityDays:"30",noticeDays:"30",jurisdiction:"",courtCity:"",timeline:[{phase:"Phase 1",description:"Requirement Analysis",duration:"5 days"},{phase:"Phase 2",description:"Execution / Development",duration:"15 days"},{phase:"Phase 3",description:"Review & Final Delivery",duration:"5 days"}],objectivesList:["Increase website traffic by 30%","Improve conversion rates","Modernize brand identity"],scopeIncludedList:["UX/UI Design of 5 core pages","Frontend Development (React)","Mobile Responsiveness"],scopeExcludedList:["Content creation","Hosting setup","Ongoing maintenance"],deliverablesList:["High-fidelity mockups (Figma)","Production-ready code repository","Admin dashboard access"]}),[p,f]=kt.useState(IV),{styles:g,updateStyle:x,resetStyles:b}=$m(),v=St.useDeferredValue(h),y=St.useDeferredValue(p),w=()=>{const e={name:l,type_slug:"proposal",content:JSON.stringify({formData:h,docContent:p,styles:g}),status:"draft",suggestedBusinessName:h.providerCompany};t(e)};return e.jsxs("div",{className:"flex flex-col h-screen bg-slate-100 overflow-hidden",children:[e.jsxs("header",{className:"no-print h-14 md:h-16 bg-white/80 backdrop-blur-md border-b border-slate-200/60 px-4 md:px-6 flex items-center justify-between flex-shrink-0 z-30 shadow-sm relative transition-all duration-300",children:[e.jsxs("div",{className:"flex items-center gap-2 md:gap-4",children:[e.jsx("button",{onClick:()=>n("/create-document"),className:"p-2 hover:bg-slate-100 rounded-full text-slate-500 transition-colors flex-shrink-0",title:"Back",children:e.jsx(I,{size:20})}),e.jsxs("div",{className:"min-w-0 relative",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"text",value:l,onChange:e=>{c(e.target.value),d&&u(null)},className:"font-bold text-sm md:text-lg bg-transparent border-b-2 focus:ring-0 p-0 m-0 w-auto min-w-[150px] max-w-[300px] placeholder-slate-400 truncate transition-colors "+(d?"border-red-500 text-slate-800 ring-4 ring-red-500/10":"border-transparent hover:border-slate-200 text-slate-800"),placeholder:"Enter Document Name"}),e.jsx("button",{onClick:()=>{const e=h.clientCompany||h.clientName;e&&e.trim()?(c(`Proposal - ${e.trim()}`),u(null),$t.success("Generated smart name!")):$t.error("Enter 'Client Company' or 'Client Name' first.")},className:"p-1.5 text-slate-400 hover:text-indigo-600 hover:bg-indigo-50 rounded-md transition-colors",children:e.jsx(Pe,{size:16})}),e.jsx("span",{className:"px-2 py-0.5 bg-indigo-100 text-indigo-700 text-xs rounded-full uppercase tracking-wide",children:"Guest Mode"})]}),e.jsx("p",{className:"text-[10px] md:text-xs text-slate-400 font-medium whitespace-nowrap hidden sm:block mt-0.5",children:"Create your document and sign up to save."})]})]}),e.jsxs("div",{className:"flex items-center gap-2 md:gap-3",children:[e.jsxs("div",{className:"hidden lg:flex items-center bg-slate-100 rounded-lg p-1 mr-4",children:[e.jsx("button",{onClick:()=>o(e=>Math.max(e-.1,.5)),className:"p-1.5 hover:bg-white hover:shadow-sm rounded-md text-slate-500 transition-all",children:e.jsx(Ee,{size:16})}),e.jsxs("span",{className:"text-xs font-semibold text-slate-600 w-12 text-center",children:[Math.round(100*i),"%"]}),e.jsx("button",{onClick:()=>o(e=>Math.min(e+.1,1.5)),className:"p-1.5 hover:bg-white hover:shadow-sm rounded-md text-slate-500 transition-all",children:e.jsx(De,{size:16})})]}),e.jsxs("button",{onClick:w,className:"flex items-center gap-2 px-5 py-2 rounded-lg text-white font-medium shadow-md transition-all bg-indigo-600 hover:bg-indigo-700",children:[e.jsx(_e,{size:18}),e.jsx("span",{children:"Save & Create Account"})]})]})]}),e.jsxs("div",{className:"flex flex-col lg:flex-row flex-1 overflow-hidden relative pb-[70px] lg:pb-0",children:[e.jsx("div",{className:"no-print w-full lg:w-[400px] h-full bg-white border-b lg:border-b-0 lg:border-r border-slate-200 overflow-y-auto z-20 shadow-sm flex-shrink-0 lg:order-1 "+(r||"edit"===a?"block":"hidden"),children:e.jsx(Hp,{formData:h,onChange:e=>{const{name:t,value:n}=e.target;m(e=>({...e,[t]:n}))},docContent:p,onContentChange:e=>{const{name:t,value:n}=e.target;f(e=>({...e,[t]:n}))},addSection:()=>{const e={id:Math.random().toString(36).substr(2,9),title:"New Section",content:"Enter the details of this new clause here..."};f(t=>({...t,sections:[...t.sections,e]}))},removeSection:e=>{f(t=>({...t,sections:t.sections.filter(t=>t.id!==e)}))},updateSection:(e,t,n)=>{f(r=>({...r,sections:r.sections.map(r=>r.id===e?{...r,[t]:n}:r)}))},reorderSections:e=>{f(t=>({...t,sections:e}))},updateTimeline:(e,t,n)=>{const r=[...h.timeline];r[e][t]=n,m(e=>({...e,timeline:r}))},addTimelineRow:()=>{m(e=>({...e,timeline:[...e.timeline,{phase:"New Phase",description:"",duration:""}]}))},removeTimelineRow:e=>{h.timeline.length<=1||m(t=>({...t,timeline:t.timeline.filter((t,n)=>n!==e)}))},addListItem:e=>{m(t=>({...t,[e]:[...t[e]||[],"New Item"]}))},removeListItem:(e,t)=>{m(n=>({...n,[e]:n[e].filter((e,n)=>n!==t)}))},updateListItem:(e,t,n)=>{const r=[...h[e]];r[t]=n,m(t=>({...t,[e]:r}))},styles:g,onStyleUpdate:x,onStyleReset:b})}),e.jsx("div",{className:"flex-1 h-full overflow-y-auto bg-slate-50/50 p-4 md:p-8 sm:p-12 flex justify-center items-start scrollbar-thin scrollbar-thumb-slate-300 lg:order-2 "+(r||"preview"===a?"flex":"hidden"),style:{backgroundImage:"radial-gradient(#cbd5e1 1px, transparent 1px)",backgroundSize:"20px 20px"},children:e.jsx(Vp,{data:v,content:y,zoom:i,styles:g})})]}),!r&&e.jsxs("div",{className:"fixed bottom-0 left-0 right-0 bg-white border-t border-slate-200 flex justify-between items-center px-6 py-3 pb-safe z-40 safe-area-bottom",children:[e.jsx("button",{onClick:()=>s("edit"),className:"flex flex-col items-center gap-1 "+("edit"===a?"text-indigo-600":"text-slate-400"),children:e.jsx("span",{className:"text-[10px] font-medium",children:"Editor"})}),e.jsx("button",{onClick:()=>s("preview"),className:"flex flex-col items-center gap-1 "+("preview"===a?"text-indigo-600":"text-slate-400"),children:e.jsx("span",{className:"text-[10px] font-medium",children:"Preview"})}),e.jsxs("button",{onClick:w,className:"flex flex-col items-center gap-1 text-slate-400 active:text-indigo-600",children:[e.jsx(_e,{size:24}),e.jsx("span",{className:"text-[10px] font-medium",children:"Save"})]})]})]})},LV=({onSaveRequest:t})=>{const n=Et(),{formData:r,docContent:a,signatures:s,documentName:i,setDocumentName:o,isLoading:l,handleFormChange:c,handleContentChange:d,addSection:u,removeSection:h,updateSection:m,reorderSections:p,addSignature:f,updateSignature:g,removeSignature:x,styles:b,updateStyle:v,resetStyles:w}=df(null),j=xd("(min-width: 1024px)"),[N,k]=kt.useState("edit"),[S,C]=kt.useState(1),[_,P]=kt.useState(null),[E,D]=kt.useState(null),[O,T]=kt.useState(null),M=St.useRef(null),[A,z]=kt.useState({isOpen:!1,data:null}),R=au(ru(Zu,{activationConstraint:{distance:8}}),ru(sh,{activationConstraint:{delay:250,tolerance:5}})),F=St.useDeferredValue(r),L=St.useDeferredValue(a),B=()=>{const e={name:i,type_slug:"consulting-agreement",content:JSON.stringify({formData:r,docContent:a,signatures:s,styles:b}),status:"draft",suggestedBusinessName:r.clientName};t(e)};return l?e.jsx("div",{className:"flex h-screen items-center justify-center bg-slate-50",children:e.jsx(y,{size:40,className:"animate-spin text-indigo-600 mb-4"})}):e.jsx(Bh,{sensors:R,onDragStart:e=>P(e.active),onDragEnd:e=>{const{active:t,over:n}=e;if(P(null),n&&"document-canvas"===n.id){const e=document.getElementById("printable-document");if(e&&t.rect.current.translated){const n=e.getBoundingClientRect(),r=(t.rect.current.translated.left-n.left)/S,a=(t.rect.current.translated.top-n.top)/S;"toolbar-item"===t.data.current?.type?z({isOpen:!0,data:{id:null,position:{x:r,y:a},type:"all",required:!0,order:s.length+1}}):"signature-field"===t.data.current?.type&&g(t.id,{position:{x:r,y:a}})}}},children:e.jsxs("div",{className:"flex flex-col h-screen bg-slate-100 overflow-hidden",children:[e.jsx(km,{isOpen:A.isOpen,onClose:()=>z({isOpen:!1,data:null}),onSave:e=>{if(e.id)g(e.id,{metadata:{signeeName:e.signeeName,signeeEmail:e.signeeEmail,type:e.type,required:e.required,order:e.order}});else{const t={id:Lm(),position:A.data.position,metadata:{signeeName:e.signeeName,signeeEmail:e.signeeEmail,type:e.type,required:e.required,order:e.order}};f(t)}},initialData:A.data,parties:{disclosingPartyName:r.clientName,receivingPartyName:r.consultantName,disclosingSignatoryName:r.clientSignatoryName,receivingSignatoryName:r.consultantSignatoryName}}),e.jsx(nm,{dropAnimation:{sideEffects:({active:e})=>(document.body.style.cursor="grabbing",()=>{document.body.style.cursor=""})},children:_?"toolbar-item"===_.data.current?.type?e.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-lg border border-indigo-500 bg-white shadow-xl opacity-90 cursor-grabbing ring-2 ring-indigo-500/20 w-48",children:[e.jsx("div",{className:"p-2 rounded-md bg-indigo-100 text-indigo-600",children:e.jsx("div",{className:"w-5 h-5 flex items-center justify-center font-bold",children:"+"})}),e.jsx("span",{className:"text-sm font-medium text-slate-900",children:"Placing Field..."})]}):"signature-field"===_.data.current?.type?e.jsxs("div",{className:"w-64 bg-white/95 backdrop-blur-sm border-2 border-indigo-500 rounded-lg shadow-2xl p-3 flex flex-col cursor-grabbing",children:[e.jsx("div",{className:"flex items-center gap-2 text-indigo-700 font-semibold border-b pb-2 mb-2",children:e.jsx("span",{children:_.data.current.signeeName||"Signature"})}),e.jsx("div",{className:"h-10 flex items-center justify-center text-indigo-200",children:"Sign Here"})]}):null:null}),e.jsxs("header",{className:"no-print h-14 md:h-16 bg-white/80 backdrop-blur-md border-b border-slate-200/60 px-4 md:px-6 flex items-center justify-between flex-shrink-0 z-30 shadow-sm relative transition-all duration-300",children:[e.jsxs("div",{className:"flex items-center gap-2 md:gap-4",children:[e.jsx("button",{onClick:()=>n("/create-document"),className:"p-2 hover:bg-slate-100 rounded-full text-slate-500 transition-colors flex-shrink-0",children:e.jsx(I,{size:20})}),e.jsxs("div",{className:"min-w-0 relative",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{ref:M,type:"text",value:i,onChange:e=>{o(e.target.value),E&&D(null)},className:"font-bold text-sm md:text-lg bg-transparent border-b-2 focus:ring-0 p-0 m-0 w-auto min-w-[150px] max-w-[300px] placeholder-slate-400 truncate transition-colors "+(E?"border-red-500 text-slate-800 ring-4 ring-red-500/10":"border-transparent hover:border-slate-200 text-slate-800"),placeholder:"Enter Document Name"}),e.jsx("button",{onClick:()=>{const e=r.clientName?.trim(),t=r.consultantName?.trim();e&&t?(o(`Consulting Agreement - ${e} & ${t}`),D(null),T(null),$t.success("Generated smart name!")):$t.error("Enter Client and Consultant names first.")},className:"p-1.5 text-slate-400 hover:text-indigo-600 hover:bg-indigo-50 rounded-md transition-colors",children:e.jsx(Pe,{size:16})}),e.jsx("span",{className:"px-2 py-0.5 bg-indigo-100 text-indigo-700 text-xs rounded-full uppercase tracking-wide",children:"Guest Mode"})]}),e.jsx("p",{className:"text-[10px] md:text-xs text-slate-400 font-medium whitespace-nowrap hidden sm:block mt-0.5",children:"Create your document and sign up to save."})]})]}),e.jsxs("div",{className:"flex items-center gap-2 md:gap-3",children:[e.jsxs("div",{className:"hidden lg:flex items-center bg-slate-100 rounded-lg p-1 mr-4",children:[e.jsx("button",{onClick:()=>C(e=>Math.max(e-.1,.5)),className:"p-1.5 hover:bg-white hover:shadow-sm rounded-md text-slate-500 transition-all",children:e.jsx(Ee,{size:16})}),e.jsxs("span",{className:"text-xs font-semibold text-slate-600 w-12 text-center",children:[Math.round(100*S),"%"]}),e.jsx("button",{onClick:()=>C(e=>Math.min(e+.1,1.5)),className:"p-1.5 hover:bg-white hover:shadow-sm rounded-md text-slate-500 transition-all",children:e.jsx(De,{size:16})})]}),e.jsxs("button",{onClick:B,className:"flex items-center gap-2 px-5 py-2 rounded-lg text-white font-medium shadow-md transition-all bg-indigo-600 hover:bg-indigo-700",children:[e.jsx(_e,{size:18}),e.jsx("span",{children:"Save & Create Account"})]})]})]}),e.jsxs("div",{className:"flex flex-col lg:flex-row flex-1 overflow-hidden relative pb-[70px] lg:pb-0",children:[e.jsx("div",{className:"no-print w-full lg:w-[400px] h-full bg-white border-b lg:border-b-0 lg:border-r border-slate-200 overflow-y-auto z-20 shadow-sm flex-shrink-0 lg:order-1 "+(j||"edit"===N?"block":"hidden"),children:e.jsx(sf,{formData:r,onChange:c,docContent:a,onContentChange:d,addSection:u,removeSection:h,updateSection:m,reorderSections:p,styles:b,onStyleUpdate:v,onStyleReset:w})}),e.jsxs("div",{className:"flex-1 h-full overflow-y-auto bg-slate-50/50 p-4 md:p-8 sm:p-12 flex justify-center items-start scrollbar-thin scrollbar-thumb-slate-300 lg:order-2 "+(j||"preview"===N?"flex":"hidden"),style:{backgroundImage:"radial-gradient(#cbd5e1 1px, transparent 1px)",backgroundSize:"20px 20px"},children:[e.jsx(of,{data:F,content:L,zoom:S,signatures:s,onRemoveSignature:x,onEditSignature:e=>{z({isOpen:!0,data:{id:e.id,...e.metadata}})},styles:b,businessLogo:null}),!j&&"preview"===N&&e.jsx("button",{onClick:()=>{z({isOpen:!0,data:{id:null,position:{x:50,y:100},type:"all",required:!0,order:s.length+1}})},className:"fixed bottom-24 right-6 w-14 h-14 bg-indigo-600 text-white rounded-full shadow-lg shadow-indigo-600/30 flex items-center justify-center hover:bg-indigo-700 transition-transform active:scale-95 z-30",children:e.jsx("span",{className:"text-2xl font-bold",children:"+"})})]})]}),!j&&e.jsxs("div",{className:"fixed bottom-0 left-0 right-0 bg-white border-t border-slate-200 flex justify-between items-center px-6 py-3 pb-safe z-40 safe-area-bottom",children:[e.jsx("button",{onClick:()=>k("edit"),className:"flex flex-col items-center gap-1 "+("edit"===N?"text-indigo-600":"text-slate-400"),children:e.jsx("span",{className:"text-[10px] font-medium",children:"Editor"})}),e.jsx("button",{onClick:()=>k("preview"),className:"flex flex-col items-center gap-1 "+("preview"===N?"text-indigo-600":"text-slate-400"),children:e.jsx("span",{className:"text-[10px] font-medium",children:"Preview"})}),e.jsxs("button",{onClick:B,className:"flex flex-col items-center gap-1 text-slate-400 active:text-indigo-600",children:[e.jsx(_e,{size:24}),e.jsx("span",{className:"text-[10px] font-medium",children:"Save"})]})]})]})})},BV={nda:{title:"Create Non-Disclosure Agreement (NDA) - Free",description:"Generate a professional Non-Disclosure Agreement instantly. Protect your confidential information without signup."},proposal:{title:"Create Business Proposal - Free Template",description:"Build a winning business proposal with our free generator. Add objectives, timeline, and pricing."},"consulting-agreement":{title:"Create Consulting Services Agreement - Free",description:"Draft a watertight consulting agreement. Define scope, payment terms, and deliverabes."},default:{title:"Create Document - DocForge",description:"Free online document generator for freelancers and agencies."}},$V={nda:{metadata:{title:"Non-Disclosure Agreement",version:"1.0",theme:"default"},blocks:[{id:"h1_nda",type:"HEADING",data:{level:1,text:"Non-Disclosure Agreement",align:"center"}},{id:"p1_nda",type:"TEXT",data:{text:'This Non-Disclosure Agreement (the "Agreement") is entered into as of {{date}} by and between {{discloser_name}} ("Discloser") and {{recipient_name}} ("Recipient").'}},{id:"h2_conf",type:"HEADING",data:{level:2,text:"1. Confidential Information"}},{id:"p2_conf",type:"TEXT",data:{text:'For purposes of this Agreement, "Confidential Information" shall mean any and all non-public information, including but not limited to technical data, trade secrets, know-how, software, and business plans.'}},{id:"h2_obl",type:"HEADING",data:{level:2,text:"2. Obligations"}},{id:"p3_obl",type:"TEXT",data:{text:"Recipient agrees to hold and maintain Confidential Information in strictest confidence and not to disclose it to any third party without Discloser's prior written consent."}},{id:"sig_area",type:"TEXT",data:{text:"\n\nSigned by: __________________________\nDate: {{date}}"}}],variables:{date:{value:(new Date).toLocaleDateString(),type:"date",label:"Agreement Date"},discloser_name:{value:"",type:"text",label:"Discloser Name"},recipient_name:{value:"",type:"text",label:"Recipient Name"}}},proposal:{metadata:{title:"Business Proposal",version:"1.0",theme:"modern"},blocks:[{id:"h1_prop",type:"HEADING",data:{level:1,text:"Project Proposal",align:"left"}},{id:"p_intro",type:"TEXT",data:{text:"Prepared for: {{client_name}}\nPrepared by: {{my_company}}"}},{id:"h2_exec",type:"HEADING",data:{level:2,text:"Executive Summary"}},{id:"p_exec",type:"TEXT",data:{text:"We are pleased to present this proposal to {{client_name}}. Our goal is to provide a comprehensive solution that meets your needs for {{project_scope}}."}},{id:"h2_sol",type:"HEADING",data:{level:2,text:"Proposed Solution"}},{id:"p_sol",type:"TEXT",data:{text:"Our team will deliver the following key components:\n1. Analysis and Design\n2. Implementation Phase\n3. Testing and Deployment"}},{id:"h2_cost",type:"HEADING",data:{level:2,text:"Investment"}},{id:"p_cost",type:"TEXT",data:{text:"The total estimated investment for this project is {{total_cost}}. This covers all phases outlined above."}}],variables:{client_name:{value:"",type:"text",label:"Client Name"},my_company:{value:"",type:"text",label:"My Company"},project_scope:{value:"Web Development",type:"text",label:"Project Scope"},total_cost:{value:"$5,000",type:"text",label:"Total Cost"}}},"consulting-agreement":{metadata:{title:"Consulting Agreement",version:"1.0",theme:"formal"},blocks:[{id:"h1_srv",type:"HEADING",data:{level:1,text:"Consulting Agreement",align:"center"}},{id:"p_parties",type:"TEXT",data:{text:'This Consulting Agreement is made effectively as of {{start_date}} by and between {{provider_name}} ("Provider") and {{client_name}} ("Client").'}},{id:"h2_scope",type:"HEADING",data:{level:2,text:"Scope of Services"}},{id:"p_scope",type:"TEXT",data:{text:"Provider agrees to provide the following services: {{service_description}}. Provider shall perform these services in a professional manner."}},{id:"h2_pay",type:"HEADING",data:{level:2,text:"Payment Terms"}},{id:"p_pay",type:"TEXT",data:{text:"Client agrees to pay Provider at the rate of {{rate}} per hour. Payment shall be due within 30 days of invoice receipt."}},{id:"h2_term",type:"HEADING",data:{level:2,text:"Term and Termination"}},{id:"p_term",type:"TEXT",data:{text:"This Agreement shall commence on {{start_date}} and continue until terminated by either party with 14 days written notice."}}],variables:{start_date:{value:(new Date).toLocaleDateString(),type:"date",label:"Start Date"},provider_name:{value:"",type:"text",label:"Provider Name"},client_name:{value:"",type:"text",label:"Client Name"},service_description:{value:"",type:"text",label:"Description of Services"},rate:{value:"$100",type:"text",label:"Hourly Rate"}}}},WV=()=>{const{template:t}=Ot(),n=Et(),{documentState:r,actions:a}=kp(),s=BV[t]||BV.default,[i,o]=kt.useState(!1),[l,c]=kt.useState(!1),[d,u]=kt.useState(null),[h,m]=kt.useState("");kt.useEffect(()=>{if("nda"===t)return;const e=$V[t&&$V[t]?t:"nda"];e&&a.loadDocument({metadata:{...e.metadata,title:e.metadata.title},blocks:e.blocks.map(e=>({...e,id:hp()})),variables:e.variables,history:{past:[],future:[]}})},[t]);const p=au(ru(Zu,{activationConstraint:{distance:8}})),f=e=>{e.suggestedBusinessName&&(m(e.suggestedBusinessName),delete e.suggestedBusinessName),u(e),o(!0)},g=async e=>{o(!1),c(!0);const t=$t.loading("Saving document and creating account...");try{if(!d)throw new Error("No document data to save.");const e=(await sr.post("/documents",d)).data.data;$t.dismiss(t),$t.success("Document saved! Redirecting to your dashboard..."),n(`/documents/${e.type?.slug||"general"}/${e.id}`)}catch(r){$t.dismiss(t);const e=r.response?.data?.message||"Failed to save document.";$t.error(e)}finally{c(!1),u(null)}};return"nda"===t?e.jsxs(e.Fragment,{children:[e.jsx(pr,{title:s.title,description:s.description}),e.jsx(RV,{onSaveRequest:f}),e.jsx(zV,{isOpen:i,onClose:()=>o(!1),onSignupSuccess:g,suggestedBusinessName:h})]}):"proposal"===t?e.jsxs(e.Fragment,{children:[e.jsx(pr,{title:s.title,description:s.description}),e.jsx(FV,{onSaveRequest:f}),e.jsx(zV,{isOpen:i,onClose:()=>o(!1),onSignupSuccess:g,suggestedBusinessName:h})]}):"consulting-agreement"===t?e.jsxs(e.Fragment,{children:[e.jsx(pr,{title:s.title,description:s.description}),e.jsx(LV,{onSaveRequest:f}),e.jsx(zV,{isOpen:i,onClose:()=>o(!1),onSignupSuccess:g,suggestedBusinessName:h})]}):e.jsxs(Bh,{sensors:p,collisionDetection:uu,children:[e.jsx(pr,{title:s.title,description:s.description}),e.jsxs("div",{className:"flex flex-col h-screen bg-slate-50 overflow-hidden",children:[e.jsxs("header",{className:"h-16 bg-white border-b border-slate-200 px-6 flex items-center justify-between z-30 shrink-0",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("button",{onClick:()=>n("/create-document"),className:"p-2 hover:bg-slate-100 rounded-full text-slate-500",children:e.jsx(I,{size:20})}),e.jsxs("h1",{className:"text-lg font-bold text-slate-800 flex items-center gap-2",children:[r.metadata.title,e.jsx("span",{className:"px-2 py-0.5 bg-indigo-100 text-indigo-700 text-xs rounded-full uppercase tracking-wide",children:"Guest Mode"})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"text-xs text-slate-400 font-medium hidden sm:block",children:"Changes saved locally until you export."}),e.jsxs("button",{onClick:()=>{const e={blocks:r.blocks,variables:r.variables,metadata:r.metadata},n={name:r.metadata.title,type_slug:t||"nda",content:JSON.stringify(e),status:"draft"};u(n),o(!0)},disabled:l,className:"flex items-center gap-2 px-6 py-2 bg-indigo-600 text-white font-bold rounded-full hover:bg-indigo-700 shadow-lg shadow-indigo-200 hover:-translate-y-0.5 transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:[l?e.jsx(y,{className:"animate-spin",size:18}):e.jsx(_e,{size:18}),l?"Saving...":"Save & Create Account"]})]})]}),e.jsxs("div",{className:"flex flex-1 overflow-hidden",children:[e.jsxs("div",{className:"w-[300px] bg-white border-r border-slate-200 flex flex-col z-20",children:[e.jsx(Ap,{}),e.jsx("div",{className:"h-px bg-slate-200 my-2"}),e.jsx(Fp,{variables:r.variables,onAdd:a.addVariable})]}),e.jsx("div",{className:"flex-1 bg-slate-100 overflow-y-auto p-8 flex justify-center",children:e.jsx(Tp,{blocks:r.blocks,actions:a,readOnly:!1,businessData:{},selectedBlockId:r.selectedBlockId,onSelectBlock:a.selectBlock})}),e.jsx("div",{className:"w-[280px] bg-white border-l border-slate-200 z-20",children:e.jsx(Rp,{selectedBlock:r.blocks.find(e=>e.id===r.selectedBlockId),updateBlock:a.updateBlock,removeBlock:a.removeBlock})})]}),e.jsx(zV,{isOpen:i,onClose:()=>o(!1),onSignupSuccess:g,suggestedBusinessName:h})]})]})},UV=({children:t})=>{const{user:n,loading:r}=lr();return r?e.jsx("div",{className:"flex items-center justify-center min-h-screen bg-slate-50",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-indigo-600"})}):n?e.jsx(Rt,{to:"/dashboard",replace:!0}):t||e.jsx(Pt,{})},HV=()=>{const{pathname:e}=Ct();return kt.useEffect(()=>{window.scrollTo(0,0)},[e]),null};function VV(){return e.jsx(or,{children:e.jsx(Qn,{children:e.jsxs(It,{children:[e.jsx(HV,{}),e.jsx(Ut,{position:"top-right",toastOptions:{duration:4e3,className:"text-sm font-medium text-slate-800",style:{background:"#ffffff",color:"#1e293b",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.08)",border:"1px solid #e2e8f0",padding:"12px 16px",borderRadius:"8px"},success:{iconTheme:{primary:"#10b981",secondary:"#fff"}},error:{iconTheme:{primary:"#ef4444",secondary:"#fff"}}}}),e.jsxs(Ft,{children:[e.jsxs(Lt,{element:e.jsx(mr,{}),children:[e.jsx(Lt,{path:"/",element:e.jsx(yr,{})}),e.jsx(Lt,{path:"/features",element:e.jsx(jV,{})}),e.jsx(Lt,{path:"/pricing",element:e.jsx(NV,{})}),e.jsx(Lt,{path:"/about",element:e.jsx(kV,{})}),e.jsx(Lt,{path:"/privacy",element:e.jsx(SV,{})}),e.jsx(Lt,{path:"/terms",element:e.jsx(CV,{})}),e.jsx(Lt,{path:"/contact",element:e.jsx(_V,{})}),e.jsx(Lt,{path:"/careers",element:e.jsx(PV,{})}),e.jsx(Lt,{path:"/changelog",element:e.jsx(EV,{})}),e.jsx(Lt,{path:"/blog",element:e.jsx(DV,{})}),e.jsx(Lt,{path:"/blog/:slug",element:e.jsx(OV,{})}),e.jsx(Lt,{path:"/accept-invite",element:e.jsx(Tr,{})}),e.jsx(Lt,{path:"/verify-email",element:e.jsx(Ar,{})}),e.jsx(Lt,{path:"/verify-email-message",element:e.jsx(Mr,{})})]}),e.jsx(Lt,{element:e.jsx(wV,{redirectPath:"/login"}),children:e.jsx(Lt,{path:"/onboarding",element:e.jsx(Or,{})})}),e.jsx(Lt,{path:"/view/:token",element:e.jsx(TV,{})}),e.jsx(Lt,{path:"/sign/:token",element:e.jsx(AV,{})}),e.jsx(Lt,{path:"/create-document/:template",element:e.jsx(WV,{})}),e.jsxs(Lt,{element:e.jsx(UV,{}),children:[e.jsx(Lt,{path:"/login",element:e.jsx(Sr,{})}),e.jsx(Lt,{path:"/register",element:e.jsx(_r,{})}),e.jsx(Lt,{path:"/forgot-password",element:e.jsx(zr,{})}),e.jsx(Lt,{path:"/password-reset/:token",element:e.jsx(Rr,{})}),e.jsx(Lt,{path:"/auth/callback",element:e.jsx(Ir,{})})]}),e.jsx(Lt,{element:e.jsx(wV,{}),children:e.jsxs(Lt,{element:e.jsx(jd,{}),children:[e.jsx(Lt,{path:"/dashboard",element:e.jsx(fd,{})}),e.jsxs(Lt,{element:e.jsx(wV,{permission:"document.view"}),children:[e.jsx(Lt,{path:"/drive",element:e.jsx(vV,{})}),e.jsx(Lt,{path:"/drive/trash",element:e.jsx(yV,{})}),e.jsx(Lt,{path:"/documents",element:e.jsx(Cg,{})}),e.jsx(Lt,{path:"/documents/nda",element:e.jsx($p,{})}),e.jsx(Lt,{path:"/documents/nda/:id",element:e.jsx($p,{})}),e.jsx(Lt,{path:"/documents/proposal",element:e.jsx(Kp,{})}),e.jsx(Lt,{path:"/documents/proposal/:id",element:e.jsx(Kp,{})}),e.jsx(Lt,{path:"/documents/invoice",element:e.jsx(Jp,{})}),e.jsx(Lt,{path:"/documents/invoice/:id",element:e.jsx(Jp,{})}),e.jsx(Lt,{path:"/documents/offer-letter",element:e.jsx(af,{})}),e.jsx(Lt,{path:"/documents/offer-letter/:id",element:e.jsx(af,{})}),e.jsx(Lt,{path:"/documents/consulting-agreement",element:e.jsx(mf,{})}),e.jsx(Lt,{path:"/documents/consulting-agreement/:id",element:e.jsx(mf,{})}),e.jsx(Lt,{path:"/documents/general/:id",element:e.jsx(Lp,{})})]}),e.jsx(Lt,{element:e.jsx(wV,{permission:"team.view"}),children:e.jsx(Lt,{path:"/team",element:e.jsx(Wg,{})})}),e.jsxs(Lt,{element:e.jsx(wV,{permission:"settings.signature"}),children:[e.jsx(Lt,{path:"/signatures",element:e.jsx(ex,{})}),e.jsx(Lt,{path:"/signatures/list",element:e.jsx(rx,{})}),e.jsx(Lt,{path:"/signatures/:documentId/view-signed",element:e.jsx(ix,{})})]}),e.jsx(Lt,{path:"/document-engine/test",element:e.jsx(Lp,{})}),e.jsx(Lt,{element:e.jsx(wV,{permission:"settings.manage"}),children:e.jsx(Lt,{path:"/settings",element:e.jsx(Lg,{})})})]})})]})]})})})}on.createRoot(document.getElementById("root")).render(e.jsx(kt.StrictMode,{children:e.jsx(VV,{})}));
